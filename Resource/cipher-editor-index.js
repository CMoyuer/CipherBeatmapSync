var Iv=Object.defineProperty;var Rv=(tt,et,rt)=>et in tt?Iv(tt,et,{enumerable:!0,configurable:!0,writable:!0,value:rt}):tt[et]=rt;var Pv=(tt,et)=>()=>(et||tt((et={exports:{}}).exports,et),et.exports);var wn=(tt,et,rt)=>(Rv(tt,typeof et!="symbol"?et+"":et,rt),rt);var Mv=Pv((exports,module)=>{function _mergeNamespaces(tt,et){for(var rt=0;rt<et.length;rt++){const nt=et[rt];if(typeof nt!="string"&&!Array.isArray(nt)){for(const it in nt)if(it!=="default"&&!(it in tt)){const ot=Object.getOwnPropertyDescriptor(nt,it);ot&&Object.defineProperty(tt,it,ot.get?ot:{enumerable:!0,get:()=>nt[it]})}}}return Object.freeze(Object.defineProperty(tt,Symbol.toStringTag,{value:"Module"}))}(function(){const et=document.createElement("link").relList;if(et&&et.supports&&et.supports("modulepreload"))return;for(const it of document.querySelectorAll('link[rel="modulepreload"]'))nt(it);new MutationObserver(it=>{for(const ot of it)if(ot.type==="childList")for(const at of ot.addedNodes)at.tagName==="LINK"&&at.rel==="modulepreload"&&nt(at)}).observe(document,{childList:!0,subtree:!0});function rt(it){const ot={};return it.integrity&&(ot.integrity=it.integrity),it.referrerpolicy&&(ot.referrerPolicy=it.referrerpolicy),it.crossorigin==="use-credentials"?ot.credentials="include":it.crossorigin==="anonymous"?ot.credentials="omit":ot.credentials="same-origin",ot}function nt(it){if(it.ep)return;it.ep=!0;const ot=rt(it);fetch(it.href,ot)}})();var commonjsGlobal$4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(tt){return tt&&tt.__esModule&&Object.prototype.hasOwnProperty.call(tt,"default")?tt.default:tt}function getAugmentedNamespace(tt){if(tt.__esModule)return tt;var et=tt.default;if(typeof et=="function"){var rt=function nt(){if(this instanceof nt){var it=[null];it.push.apply(it,arguments);var ot=Function.bind.apply(et,it);return new ot}return et.apply(this,arguments)};rt.prototype=et.prototype}else rt={};return Object.defineProperty(rt,"__esModule",{value:!0}),Object.keys(tt).forEach(function(nt){var it=Object.getOwnPropertyDescriptor(tt,nt);Object.defineProperty(rt,nt,it.get?it:{enumerable:!0,get:function(){return tt[nt]}})}),rt}var reactExports={},react={get exports(){return reactExports},set exports(tt){reactExports=tt}},react_production_min={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var l$7=Symbol.for("react.element"),n$9=Symbol.for("react.portal"),p$9=Symbol.for("react.fragment"),q$7=Symbol.for("react.strict_mode"),r$7=Symbol.for("react.profiler"),t$a=Symbol.for("react.provider"),u$6=Symbol.for("react.context"),v$6=Symbol.for("react.forward_ref"),w$4=Symbol.for("react.suspense"),x$3=Symbol.for("react.memo"),y$3=Symbol.for("react.lazy"),z$4=Symbol.iterator;function A$4(tt){return tt===null||typeof tt!="object"?null:(tt=z$4&&tt[z$4]||tt["@@iterator"],typeof tt=="function"?tt:null)}var B$3={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C$2=Object.assign,D$3={};function E$3(tt,et,rt){this.props=tt,this.context=et,this.refs=D$3,this.updater=rt||B$3}E$3.prototype.isReactComponent={};E$3.prototype.setState=function(tt,et){if(typeof tt!="object"&&typeof tt!="function"&&tt!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,tt,et,"setState")};E$3.prototype.forceUpdate=function(tt){this.updater.enqueueForceUpdate(this,tt,"forceUpdate")};function F$2(){}F$2.prototype=E$3.prototype;function G$3(tt,et,rt){this.props=tt,this.context=et,this.refs=D$3,this.updater=rt||B$3}var H$3=G$3.prototype=new F$2;H$3.constructor=G$3;C$2(H$3,E$3.prototype);H$3.isPureReactComponent=!0;var I$3=Array.isArray,J$1=Object.prototype.hasOwnProperty,K$2={current:null},L$3={key:!0,ref:!0,__self:!0,__source:!0};function M$3(tt,et,rt){var nt,it={},ot=null,at=null;if(et!=null)for(nt in et.ref!==void 0&&(at=et.ref),et.key!==void 0&&(ot=""+et.key),et)J$1.call(et,nt)&&!L$3.hasOwnProperty(nt)&&(it[nt]=et[nt]);var st=arguments.length-2;if(st===1)it.children=rt;else if(1<st){for(var lt=Array(st),ct=0;ct<st;ct++)lt[ct]=arguments[ct+2];it.children=lt}if(tt&&tt.defaultProps)for(nt in st=tt.defaultProps,st)it[nt]===void 0&&(it[nt]=st[nt]);return{$$typeof:l$7,type:tt,key:ot,ref:at,props:it,_owner:K$2.current}}function N$3(tt,et){return{$$typeof:l$7,type:tt.type,key:et,ref:tt.ref,props:tt.props,_owner:tt._owner}}function O$3(tt){return typeof tt=="object"&&tt!==null&&tt.$$typeof===l$7}function escape$2(tt){var et={"=":"=0",":":"=2"};return"$"+tt.replace(/[=:]/g,function(rt){return et[rt]})}var P$4=/\/+/g;function Q$3(tt,et){return typeof tt=="object"&&tt!==null&&tt.key!=null?escape$2(""+tt.key):et.toString(36)}function R$3(tt,et,rt,nt,it){var ot=typeof tt;(ot==="undefined"||ot==="boolean")&&(tt=null);var at=!1;if(tt===null)at=!0;else switch(ot){case"string":case"number":at=!0;break;case"object":switch(tt.$$typeof){case l$7:case n$9:at=!0}}if(at)return at=tt,it=it(at),tt=nt===""?"."+Q$3(at,0):nt,I$3(it)?(rt="",tt!=null&&(rt=tt.replace(P$4,"$&/")+"/"),R$3(it,et,rt,"",function(ct){return ct})):it!=null&&(O$3(it)&&(it=N$3(it,rt+(!it.key||at&&at.key===it.key?"":(""+it.key).replace(P$4,"$&/")+"/")+tt)),et.push(it)),1;if(at=0,nt=nt===""?".":nt+":",I$3(tt))for(var st=0;st<tt.length;st++){ot=tt[st];var lt=nt+Q$3(ot,st);at+=R$3(ot,et,rt,lt,it)}else if(lt=A$4(tt),typeof lt=="function")for(tt=lt.call(tt),st=0;!(ot=tt.next()).done;)ot=ot.value,lt=nt+Q$3(ot,st++),at+=R$3(ot,et,rt,lt,it);else if(ot==="object")throw et=String(tt),Error("Objects are not valid as a React child (found: "+(et==="[object Object]"?"object with keys {"+Object.keys(tt).join(", ")+"}":et)+"). If you meant to render a collection of children, use an array instead.");return at}function S$3(tt,et,rt){if(tt==null)return tt;var nt=[],it=0;return R$3(tt,nt,"","",function(ot){return et.call(rt,ot,it++)}),nt}function T$2(tt){if(tt._status===-1){var et=tt._result;et=et(),et.then(function(rt){(tt._status===0||tt._status===-1)&&(tt._status=1,tt._result=rt)},function(rt){(tt._status===0||tt._status===-1)&&(tt._status=2,tt._result=rt)}),tt._status===-1&&(tt._status=0,tt._result=et)}if(tt._status===1)return tt._result.default;throw tt._result}var U$3={current:null},V$2={transition:null},W$3={ReactCurrentDispatcher:U$3,ReactCurrentBatchConfig:V$2,ReactCurrentOwner:K$2};react_production_min.Children={map:S$3,forEach:function(tt,et,rt){S$3(tt,function(){et.apply(this,arguments)},rt)},count:function(tt){var et=0;return S$3(tt,function(){et++}),et},toArray:function(tt){return S$3(tt,function(et){return et})||[]},only:function(tt){if(!O$3(tt))throw Error("React.Children.only expected to receive a single React element child.");return tt}};react_production_min.Component=E$3;react_production_min.Fragment=p$9;react_production_min.Profiler=r$7;react_production_min.PureComponent=G$3;react_production_min.StrictMode=q$7;react_production_min.Suspense=w$4;react_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=W$3;react_production_min.cloneElement=function(tt,et,rt){if(tt==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+tt+".");var nt=C$2({},tt.props),it=tt.key,ot=tt.ref,at=tt._owner;if(et!=null){if(et.ref!==void 0&&(ot=et.ref,at=K$2.current),et.key!==void 0&&(it=""+et.key),tt.type&&tt.type.defaultProps)var st=tt.type.defaultProps;for(lt in et)J$1.call(et,lt)&&!L$3.hasOwnProperty(lt)&&(nt[lt]=et[lt]===void 0&&st!==void 0?st[lt]:et[lt])}var lt=arguments.length-2;if(lt===1)nt.children=rt;else if(1<lt){st=Array(lt);for(var ct=0;ct<lt;ct++)st[ct]=arguments[ct+2];nt.children=st}return{$$typeof:l$7,type:tt.type,key:it,ref:ot,props:nt,_owner:at}};react_production_min.createContext=function(tt){return tt={$$typeof:u$6,_currentValue:tt,_currentValue2:tt,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},tt.Provider={$$typeof:t$a,_context:tt},tt.Consumer=tt};react_production_min.createElement=M$3;react_production_min.createFactory=function(tt){var et=M$3.bind(null,tt);return et.type=tt,et};react_production_min.createRef=function(){return{current:null}};react_production_min.forwardRef=function(tt){return{$$typeof:v$6,render:tt}};react_production_min.isValidElement=O$3;react_production_min.lazy=function(tt){return{$$typeof:y$3,_payload:{_status:-1,_result:tt},_init:T$2}};react_production_min.memo=function(tt,et){return{$$typeof:x$3,type:tt,compare:et===void 0?null:et}};react_production_min.startTransition=function(tt){var et=V$2.transition;V$2.transition={};try{tt()}finally{V$2.transition=et}};react_production_min.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};react_production_min.useCallback=function(tt,et){return U$3.current.useCallback(tt,et)};react_production_min.useContext=function(tt){return U$3.current.useContext(tt)};react_production_min.useDebugValue=function(){};react_production_min.useDeferredValue=function(tt){return U$3.current.useDeferredValue(tt)};react_production_min.useEffect=function(tt,et){return U$3.current.useEffect(tt,et)};react_production_min.useId=function(){return U$3.current.useId()};react_production_min.useImperativeHandle=function(tt,et,rt){return U$3.current.useImperativeHandle(tt,et,rt)};react_production_min.useInsertionEffect=function(tt,et){return U$3.current.useInsertionEffect(tt,et)};react_production_min.useLayoutEffect=function(tt,et){return U$3.current.useLayoutEffect(tt,et)};react_production_min.useMemo=function(tt,et){return U$3.current.useMemo(tt,et)};react_production_min.useReducer=function(tt,et,rt){return U$3.current.useReducer(tt,et,rt)};react_production_min.useRef=function(tt){return U$3.current.useRef(tt)};react_production_min.useState=function(tt){return U$3.current.useState(tt)};react_production_min.useSyncExternalStore=function(tt,et,rt){return U$3.current.useSyncExternalStore(tt,et,rt)};react_production_min.useTransition=function(){return U$3.current.useTransition()};react_production_min.version="18.2.0";(function(tt){tt.exports=react_production_min})(react);const React=getDefaultExportFromCjs(reactExports),React$1=_mergeNamespaces({__proto__:null,default:React},[reactExports]);function sheetForTag(tt){if(tt.sheet)return tt.sheet;for(var et=0;et<document.styleSheets.length;et++)if(document.styleSheets[et].ownerNode===tt)return document.styleSheets[et]}function createStyleElement(tt){var et=document.createElement("style");return et.setAttribute("data-emotion",tt.key),tt.nonce!==void 0&&et.setAttribute("nonce",tt.nonce),et.appendChild(document.createTextNode("")),et.setAttribute("data-s",""),et}var StyleSheet=function(){function tt(rt){var nt=this;this._insertTag=function(it){var ot;nt.tags.length===0?nt.insertionPoint?ot=nt.insertionPoint.nextSibling:nt.prepend?ot=nt.container.firstChild:ot=nt.before:ot=nt.tags[nt.tags.length-1].nextSibling,nt.container.insertBefore(it,ot),nt.tags.push(it)},this.isSpeedy=rt.speedy===void 0?!0:rt.speedy,this.tags=[],this.ctr=0,this.nonce=rt.nonce,this.key=rt.key,this.container=rt.container,this.prepend=rt.prepend,this.insertionPoint=rt.insertionPoint,this.before=null}var et=tt.prototype;return et.hydrate=function(nt){nt.forEach(this._insertTag)},et.insert=function(nt){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(createStyleElement(this));var it=this.tags[this.tags.length-1];if(this.isSpeedy){var ot=sheetForTag(it);try{ot.insertRule(nt,ot.cssRules.length)}catch{}}else it.appendChild(document.createTextNode(nt));this.ctr++},et.flush=function(){this.tags.forEach(function(nt){return nt.parentNode&&nt.parentNode.removeChild(nt)}),this.tags=[],this.ctr=0},tt}(),MS="-ms-",MOZ="-moz-",WEBKIT="-webkit-",COMMENT="comm",RULESET="rule",DECLARATION="decl",IMPORT="@import",KEYFRAMES="@keyframes",abs=Math.abs,from=String.fromCharCode,assign$5=Object.assign;function hash$2(tt,et){return charat(tt,0)^45?(((et<<2^charat(tt,0))<<2^charat(tt,1))<<2^charat(tt,2))<<2^charat(tt,3):0}function trim$2(tt){return tt.trim()}function match$4(tt,et){return(tt=et.exec(tt))?tt[0]:tt}function replace$5(tt,et,rt){return tt.replace(et,rt)}function indexof(tt,et){return tt.indexOf(et)}function charat(tt,et){return tt.charCodeAt(et)|0}function substr(tt,et,rt){return tt.slice(et,rt)}function strlen(tt){return tt.length}function sizeof(tt){return tt.length}function append(tt,et){return et.push(tt),tt}function combine$1(tt,et){return tt.map(et).join("")}var line=1,column=1,length=0,position=0,character=0,characters="";function node$4(tt,et,rt,nt,it,ot,at){return{value:tt,root:et,parent:rt,type:nt,props:it,children:ot,line,column,length:at,return:""}}function copy$1(tt,et){return assign$5(node$4("",null,null,"",null,null,0),tt,{length:-tt.length},et)}function char(){return character}function prev(){return character=position>0?charat(characters,--position):0,column--,character===10&&(column=1,line--),character}function next(){return character=position<length?charat(characters,position++):0,column++,character===10&&(column=1,line++),character}function peek(){return charat(characters,position)}function caret(){return position}function slice$3(tt,et){return substr(characters,tt,et)}function token(tt){switch(tt){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function alloc(tt){return line=column=1,length=strlen(characters=tt),position=0,[]}function dealloc(tt){return characters="",tt}function delimit(tt){return trim$2(slice$3(position-1,delimiter(tt===91?tt+2:tt===40?tt+1:tt)))}function whitespace(tt){for(;(character=peek())&&character<33;)next();return token(tt)>2||token(character)>3?"":" "}function escaping(tt,et){for(;--et&&next()&&!(character<48||character>102||character>57&&character<65||character>70&&character<97););return slice$3(tt,caret()+(et<6&&peek()==32&&next()==32))}function delimiter(tt){for(;next();)switch(character){case tt:return position;case 34:case 39:tt!==34&&tt!==39&&delimiter(character);break;case 40:tt===41&&delimiter(tt);break;case 92:next();break}return position}function commenter(tt,et){for(;next()&&tt+character!==47+10;)if(tt+character===42+42&&peek()===47)break;return"/*"+slice$3(et,position-1)+"*"+from(tt===47?tt:next())}function identifier(tt){for(;!token(peek());)next();return slice$3(tt,position)}function compile(tt){return dealloc(parse$4("",null,null,null,[""],tt=alloc(tt),0,[0],tt))}function parse$4(tt,et,rt,nt,it,ot,at,st,lt){for(var ct=0,ut=0,dt=at,ft=0,pt=0,mt=0,ht=1,gt=1,vt=1,yt=0,bt="",xt=it,$t=ot,Tt=nt,wt=bt;gt;)switch(mt=yt,yt=next()){case 40:if(mt!=108&&charat(wt,dt-1)==58){indexof(wt+=replace$5(delimit(yt),"&","&\f"),"&\f")!=-1&&(vt=-1);break}case 34:case 39:case 91:wt+=delimit(yt);break;case 9:case 10:case 13:case 32:wt+=whitespace(mt);break;case 92:wt+=escaping(caret()-1,7);continue;case 47:switch(peek()){case 42:case 47:append(comment(commenter(next(),caret()),et,rt),lt);break;default:wt+="/"}break;case 123*ht:st[ct++]=strlen(wt)*vt;case 125*ht:case 59:case 0:switch(yt){case 0:case 125:gt=0;case 59+ut:pt>0&&strlen(wt)-dt&&append(pt>32?declaration(wt+";",nt,rt,dt-1):declaration(replace$5(wt," ","")+";",nt,rt,dt-2),lt);break;case 59:wt+=";";default:if(append(Tt=ruleset(wt,et,rt,ct,ut,it,st,bt,xt=[],$t=[],dt),ot),yt===123)if(ut===0)parse$4(wt,et,Tt,Tt,xt,ot,dt,st,$t);else switch(ft===99&&charat(wt,3)===110?100:ft){case 100:case 109:case 115:parse$4(tt,Tt,Tt,nt&&append(ruleset(tt,Tt,Tt,0,0,it,st,bt,it,xt=[],dt),$t),it,$t,dt,st,nt?xt:$t);break;default:parse$4(wt,Tt,Tt,Tt,[""],$t,0,st,$t)}}ct=ut=pt=0,ht=vt=1,bt=wt="",dt=at;break;case 58:dt=1+strlen(wt),pt=mt;default:if(ht<1){if(yt==123)--ht;else if(yt==125&&ht++==0&&prev()==125)continue}switch(wt+=from(yt),yt*ht){case 38:vt=ut>0?1:(wt+="\f",-1);break;case 44:st[ct++]=(strlen(wt)-1)*vt,vt=1;break;case 64:peek()===45&&(wt+=delimit(next())),ft=peek(),ut=dt=strlen(bt=wt+=identifier(caret())),yt++;break;case 45:mt===45&&strlen(wt)==2&&(ht=0)}}return ot}function ruleset(tt,et,rt,nt,it,ot,at,st,lt,ct,ut){for(var dt=it-1,ft=it===0?ot:[""],pt=sizeof(ft),mt=0,ht=0,gt=0;mt<nt;++mt)for(var vt=0,yt=substr(tt,dt+1,dt=abs(ht=at[mt])),bt=tt;vt<pt;++vt)(bt=trim$2(ht>0?ft[vt]+" "+yt:replace$5(yt,/&\f/g,ft[vt])))&&(lt[gt++]=bt);return node$4(tt,et,rt,it===0?RULESET:st,lt,ct,ut)}function comment(tt,et,rt){return node$4(tt,et,rt,COMMENT,from(char()),substr(tt,2,-2),0)}function declaration(tt,et,rt,nt){return node$4(tt,et,rt,DECLARATION,substr(tt,0,nt),substr(tt,nt+1,-1),nt)}function serialize(tt,et){for(var rt="",nt=sizeof(tt),it=0;it<nt;it++)rt+=et(tt[it],it,tt,et)||"";return rt}function stringify$b(tt,et,rt,nt){switch(tt.type){case IMPORT:case DECLARATION:return tt.return=tt.return||tt.value;case COMMENT:return"";case KEYFRAMES:return tt.return=tt.value+"{"+serialize(tt.children,nt)+"}";case RULESET:tt.value=tt.props.join(",")}return strlen(rt=serialize(tt.children,nt))?tt.return=tt.value+"{"+rt+"}":""}function middleware(tt){var et=sizeof(tt);return function(rt,nt,it,ot){for(var at="",st=0;st<et;st++)at+=tt[st](rt,nt,it,ot)||"";return at}}function rulesheet(tt){return function(et){et.root||(et=et.return)&&tt(et)}}function memoize$4(tt){var et=Object.create(null);return function(rt){return et[rt]===void 0&&(et[rt]=tt(rt)),et[rt]}}var identifierWithPointTracking=function(et,rt,nt){for(var it=0,ot=0;it=ot,ot=peek(),it===38&&ot===12&&(rt[nt]=1),!token(ot);)next();return slice$3(et,position)},toRules=function(et,rt){var nt=-1,it=44;do switch(token(it)){case 0:it===38&&peek()===12&&(rt[nt]=1),et[nt]+=identifierWithPointTracking(position-1,rt,nt);break;case 2:et[nt]+=delimit(it);break;case 4:if(it===44){et[++nt]=peek()===58?"&\f":"",rt[nt]=et[nt].length;break}default:et[nt]+=from(it)}while(it=next());return et},getRules=function(et,rt){return dealloc(toRules(alloc(et),rt))},fixedElements=new WeakMap,compat=function(et){if(!(et.type!=="rule"||!et.parent||et.length<1)){for(var rt=et.value,nt=et.parent,it=et.column===nt.column&&et.line===nt.line;nt.type!=="rule";)if(nt=nt.parent,!nt)return;if(!(et.props.length===1&&rt.charCodeAt(0)!==58&&!fixedElements.get(nt))&&!it){fixedElements.set(et,!0);for(var ot=[],at=getRules(rt,ot),st=nt.props,lt=0,ct=0;lt<at.length;lt++)for(var ut=0;ut<st.length;ut++,ct++)et.props[ct]=ot[lt]?at[lt].replace(/&\f/g,st[ut]):st[ut]+" "+at[lt]}}},removeLabel=function(et){if(et.type==="decl"){var rt=et.value;rt.charCodeAt(0)===108&&rt.charCodeAt(2)===98&&(et.return="",et.value="")}};function prefix$1(tt,et){switch(hash$2(tt,et)){case 5103:return WEBKIT+"print-"+tt+tt;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return WEBKIT+tt+tt;case 5349:case 4246:case 4810:case 6968:case 2756:return WEBKIT+tt+MOZ+tt+MS+tt+tt;case 6828:case 4268:return WEBKIT+tt+MS+tt+tt;case 6165:return WEBKIT+tt+MS+"flex-"+tt+tt;case 5187:return WEBKIT+tt+replace$5(tt,/(\w+).+(:[^]+)/,WEBKIT+"box-$1$2"+MS+"flex-$1$2")+tt;case 5443:return WEBKIT+tt+MS+"flex-item-"+replace$5(tt,/flex-|-self/,"")+tt;case 4675:return WEBKIT+tt+MS+"flex-line-pack"+replace$5(tt,/align-content|flex-|-self/,"")+tt;case 5548:return WEBKIT+tt+MS+replace$5(tt,"shrink","negative")+tt;case 5292:return WEBKIT+tt+MS+replace$5(tt,"basis","preferred-size")+tt;case 6060:return WEBKIT+"box-"+replace$5(tt,"-grow","")+WEBKIT+tt+MS+replace$5(tt,"grow","positive")+tt;case 4554:return WEBKIT+replace$5(tt,/([^-])(transform)/g,"$1"+WEBKIT+"$2")+tt;case 6187:return replace$5(replace$5(replace$5(tt,/(zoom-|grab)/,WEBKIT+"$1"),/(image-set)/,WEBKIT+"$1"),tt,"")+tt;case 5495:case 3959:return replace$5(tt,/(image-set\([^]*)/,WEBKIT+"$1$`$1");case 4968:return replace$5(replace$5(tt,/(.+:)(flex-)?(.*)/,WEBKIT+"box-pack:$3"+MS+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+WEBKIT+tt+tt;case 4095:case 3583:case 4068:case 2532:return replace$5(tt,/(.+)-inline(.+)/,WEBKIT+"$1$2")+tt;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(strlen(tt)-1-et>6)switch(charat(tt,et+1)){case 109:if(charat(tt,et+4)!==45)break;case 102:return replace$5(tt,/(.+:)(.+)-([^]+)/,"$1"+WEBKIT+"$2-$3$1"+MOZ+(charat(tt,et+3)==108?"$3":"$2-$3"))+tt;case 115:return~indexof(tt,"stretch")?prefix$1(replace$5(tt,"stretch","fill-available"),et)+tt:tt}break;case 4949:if(charat(tt,et+1)!==115)break;case 6444:switch(charat(tt,strlen(tt)-3-(~indexof(tt,"!important")&&10))){case 107:return replace$5(tt,":",":"+WEBKIT)+tt;case 101:return replace$5(tt,/(.+:)([^;!]+)(;|!.+)?/,"$1"+WEBKIT+(charat(tt,14)===45?"inline-":"")+"box$3$1"+WEBKIT+"$2$3$1"+MS+"$2box$3")+tt}break;case 5936:switch(charat(tt,et+11)){case 114:return WEBKIT+tt+MS+replace$5(tt,/[svh]\w+-[tblr]{2}/,"tb")+tt;case 108:return WEBKIT+tt+MS+replace$5(tt,/[svh]\w+-[tblr]{2}/,"tb-rl")+tt;case 45:return WEBKIT+tt+MS+replace$5(tt,/[svh]\w+-[tblr]{2}/,"lr")+tt}return WEBKIT+tt+MS+tt+tt}return tt}var prefixer=function(et,rt,nt,it){if(et.length>-1&&!et.return)switch(et.type){case DECLARATION:et.return=prefix$1(et.value,et.length);break;case KEYFRAMES:return serialize([copy$1(et,{value:replace$5(et.value,"@","@"+WEBKIT)})],it);case RULESET:if(et.length)return combine$1(et.props,function(ot){switch(match$4(ot,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return serialize([copy$1(et,{props:[replace$5(ot,/:(read-\w+)/,":"+MOZ+"$1")]})],it);case"::placeholder":return serialize([copy$1(et,{props:[replace$5(ot,/:(plac\w+)/,":"+WEBKIT+"input-$1")]}),copy$1(et,{props:[replace$5(ot,/:(plac\w+)/,":"+MOZ+"$1")]}),copy$1(et,{props:[replace$5(ot,/:(plac\w+)/,MS+"input-$1")]})],it)}return""})}},defaultStylisPlugins=[prefixer],createCache=function(et){var rt=et.key;if(rt==="css"){var nt=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(nt,function(ht){var gt=ht.getAttribute("data-emotion");gt.indexOf(" ")!==-1&&(document.head.appendChild(ht),ht.setAttribute("data-s",""))})}var it=et.stylisPlugins||defaultStylisPlugins,ot={},at,st=[];at=et.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+rt+' "]'),function(ht){for(var gt=ht.getAttribute("data-emotion").split(" "),vt=1;vt<gt.length;vt++)ot[gt[vt]]=!0;st.push(ht)});var lt,ct=[compat,removeLabel];{var ut,dt=[stringify$b,rulesheet(function(ht){ut.insert(ht)})],ft=middleware(ct.concat(it,dt)),pt=function(gt){return serialize(compile(gt),ft)};lt=function(gt,vt,yt,bt){ut=yt,pt(gt?gt+"{"+vt.styles+"}":vt.styles),bt&&(mt.inserted[vt.name]=!0)}}var mt={key:rt,sheet:new StyleSheet({key:rt,container:at,nonce:et.nonce,speedy:et.speedy,prepend:et.prepend,insertionPoint:et.insertionPoint}),nonce:et.nonce,inserted:ot,registered:{},insert:lt};return mt.sheet.hydrate(st),mt};function _extends$n(){return _extends$n=Object.assign?Object.assign.bind():function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_extends$n.apply(this,arguments)}const _extends$o=Object.freeze(Object.defineProperty({__proto__:null,default:_extends$n},Symbol.toStringTag,{value:"Module"}));var reactIsExports$1={},reactIs$2={get exports(){return reactIsExports$1},set exports(tt){reactIsExports$1=tt}},reactIs_production_min$1={};/** @license React v16.13.1
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$4=typeof Symbol=="function"&&Symbol.for,c$5=b$4?Symbol.for("react.element"):60103,d$3=b$4?Symbol.for("react.portal"):60106,e$4=b$4?Symbol.for("react.fragment"):60107,f$d=b$4?Symbol.for("react.strict_mode"):60108,g$3=b$4?Symbol.for("react.profiler"):60114,h$5=b$4?Symbol.for("react.provider"):60109,k$6=b$4?Symbol.for("react.context"):60110,l$6=b$4?Symbol.for("react.async_mode"):60111,m$6=b$4?Symbol.for("react.concurrent_mode"):60111,n$8=b$4?Symbol.for("react.forward_ref"):60112,p$8=b$4?Symbol.for("react.suspense"):60113,q$6=b$4?Symbol.for("react.suspense_list"):60120,r$6=b$4?Symbol.for("react.memo"):60115,t$9=b$4?Symbol.for("react.lazy"):60116,v$5=b$4?Symbol.for("react.block"):60121,w$3=b$4?Symbol.for("react.fundamental"):60117,x$2=b$4?Symbol.for("react.responder"):60118,y$2=b$4?Symbol.for("react.scope"):60119;function z$3(tt){if(typeof tt=="object"&&tt!==null){var et=tt.$$typeof;switch(et){case c$5:switch(tt=tt.type,tt){case l$6:case m$6:case e$4:case g$3:case f$d:case p$8:return tt;default:switch(tt=tt&&tt.$$typeof,tt){case k$6:case n$8:case t$9:case r$6:case h$5:return tt;default:return et}}case d$3:return et}}}function A$3(tt){return z$3(tt)===m$6}reactIs_production_min$1.AsyncMode=l$6;reactIs_production_min$1.ConcurrentMode=m$6;reactIs_production_min$1.ContextConsumer=k$6;reactIs_production_min$1.ContextProvider=h$5;reactIs_production_min$1.Element=c$5;reactIs_production_min$1.ForwardRef=n$8;reactIs_production_min$1.Fragment=e$4;reactIs_production_min$1.Lazy=t$9;reactIs_production_min$1.Memo=r$6;reactIs_production_min$1.Portal=d$3;reactIs_production_min$1.Profiler=g$3;reactIs_production_min$1.StrictMode=f$d;reactIs_production_min$1.Suspense=p$8;reactIs_production_min$1.isAsyncMode=function(tt){return A$3(tt)||z$3(tt)===l$6};reactIs_production_min$1.isConcurrentMode=A$3;reactIs_production_min$1.isContextConsumer=function(tt){return z$3(tt)===k$6};reactIs_production_min$1.isContextProvider=function(tt){return z$3(tt)===h$5};reactIs_production_min$1.isElement=function(tt){return typeof tt=="object"&&tt!==null&&tt.$$typeof===c$5};reactIs_production_min$1.isForwardRef=function(tt){return z$3(tt)===n$8};reactIs_production_min$1.isFragment=function(tt){return z$3(tt)===e$4};reactIs_production_min$1.isLazy=function(tt){return z$3(tt)===t$9};reactIs_production_min$1.isMemo=function(tt){return z$3(tt)===r$6};reactIs_production_min$1.isPortal=function(tt){return z$3(tt)===d$3};reactIs_production_min$1.isProfiler=function(tt){return z$3(tt)===g$3};reactIs_production_min$1.isStrictMode=function(tt){return z$3(tt)===f$d};reactIs_production_min$1.isSuspense=function(tt){return z$3(tt)===p$8};reactIs_production_min$1.isValidElementType=function(tt){return typeof tt=="string"||typeof tt=="function"||tt===e$4||tt===m$6||tt===g$3||tt===f$d||tt===p$8||tt===q$6||typeof tt=="object"&&tt!==null&&(tt.$$typeof===t$9||tt.$$typeof===r$6||tt.$$typeof===h$5||tt.$$typeof===k$6||tt.$$typeof===n$8||tt.$$typeof===w$3||tt.$$typeof===x$2||tt.$$typeof===y$2||tt.$$typeof===v$5)};reactIs_production_min$1.typeOf=z$3;(function(tt){tt.exports=reactIs_production_min$1})(reactIs$2);var reactIs$1=reactIsExports$1,FORWARD_REF_STATICS={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},MEMO_STATICS={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},TYPE_STATICS={};TYPE_STATICS[reactIs$1.ForwardRef]=FORWARD_REF_STATICS;TYPE_STATICS[reactIs$1.Memo]=MEMO_STATICS;var isBrowser$3=!0;function getRegisteredStyles(tt,et,rt){var nt="";return rt.split(" ").forEach(function(it){tt[it]!==void 0?et.push(tt[it]+";"):nt+=it+" "}),nt}var registerStyles=function(et,rt,nt){var it=et.key+"-"+rt.name;(nt===!1||isBrowser$3===!1)&&et.registered[it]===void 0&&(et.registered[it]=rt.styles)},insertStyles=function(et,rt,nt){registerStyles(et,rt,nt);var it=et.key+"-"+rt.name;if(et.inserted[rt.name]===void 0){var ot=rt;do et.insert(rt===ot?"."+it:"",ot,et.sheet,!0),ot=ot.next;while(ot!==void 0)}};function murmur2(tt){for(var et=0,rt,nt=0,it=tt.length;it>=4;++nt,it-=4)rt=tt.charCodeAt(nt)&255|(tt.charCodeAt(++nt)&255)<<8|(tt.charCodeAt(++nt)&255)<<16|(tt.charCodeAt(++nt)&255)<<24,rt=(rt&65535)*1540483477+((rt>>>16)*59797<<16),rt^=rt>>>24,et=(rt&65535)*1540483477+((rt>>>16)*59797<<16)^(et&65535)*1540483477+((et>>>16)*59797<<16);switch(it){case 3:et^=(tt.charCodeAt(nt+2)&255)<<16;case 2:et^=(tt.charCodeAt(nt+1)&255)<<8;case 1:et^=tt.charCodeAt(nt)&255,et=(et&65535)*1540483477+((et>>>16)*59797<<16)}return et^=et>>>13,et=(et&65535)*1540483477+((et>>>16)*59797<<16),((et^et>>>15)>>>0).toString(36)}var unitlessKeys={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},hyphenateRegex=/[A-Z]|^ms/g,animationRegex=/_EMO_([^_]+?)_([^]*?)_EMO_/g,isCustomProperty=function(et){return et.charCodeAt(1)===45},isProcessableValue=function(et){return et!=null&&typeof et!="boolean"},processStyleName=memoize$4(function(tt){return isCustomProperty(tt)?tt:tt.replace(hyphenateRegex,"-$&").toLowerCase()}),processStyleValue=function(et,rt){switch(et){case"animation":case"animationName":if(typeof rt=="string")return rt.replace(animationRegex,function(nt,it,ot){return cursor={name:it,styles:ot,next:cursor},it})}return unitlessKeys[et]!==1&&!isCustomProperty(et)&&typeof rt=="number"&&rt!==0?rt+"px":rt},noComponentSelectorMessage="Component selectors can only be used in conjunction with @emotion/babel-plugin, the swc Emotion plugin, or another Emotion-aware compiler transform.";function handleInterpolation(tt,et,rt){if(rt==null)return"";if(rt.__emotion_styles!==void 0)return rt;switch(typeof rt){case"boolean":return"";case"object":{if(rt.anim===1)return cursor={name:rt.name,styles:rt.styles,next:cursor},rt.name;if(rt.styles!==void 0){var nt=rt.next;if(nt!==void 0)for(;nt!==void 0;)cursor={name:nt.name,styles:nt.styles,next:cursor},nt=nt.next;var it=rt.styles+";";return it}return createStringFromObject(tt,et,rt)}case"function":{if(tt!==void 0){var ot=cursor,at=rt(tt);return cursor=ot,handleInterpolation(tt,et,at)}break}}if(et==null)return rt;var st=et[rt];return st!==void 0?st:rt}function createStringFromObject(tt,et,rt){var nt="";if(Array.isArray(rt))for(var it=0;it<rt.length;it++)nt+=handleInterpolation(tt,et,rt[it])+";";else for(var ot in rt){var at=rt[ot];if(typeof at!="object")et!=null&&et[at]!==void 0?nt+=ot+"{"+et[at]+"}":isProcessableValue(at)&&(nt+=processStyleName(ot)+":"+processStyleValue(ot,at)+";");else if(Array.isArray(at)&&typeof at[0]=="string"&&(et==null||et[at[0]]===void 0))for(var st=0;st<at.length;st++)isProcessableValue(at[st])&&(nt+=processStyleName(ot)+":"+processStyleValue(ot,at[st])+";");else{var lt=handleInterpolation(tt,et,at);switch(ot){case"animation":case"animationName":{nt+=processStyleName(ot)+":"+lt+";";break}default:nt+=ot+"{"+lt+"}"}}}return nt}var labelPattern=/label:\s*([^\s;\n{]+)\s*(;|$)/g,cursor,serializeStyles=function(et,rt,nt){if(et.length===1&&typeof et[0]=="object"&&et[0]!==null&&et[0].styles!==void 0)return et[0];var it=!0,ot="";cursor=void 0;var at=et[0];at==null||at.raw===void 0?(it=!1,ot+=handleInterpolation(nt,rt,at)):ot+=at[0];for(var st=1;st<et.length;st++)ot+=handleInterpolation(nt,rt,et[st]),it&&(ot+=at[st]);labelPattern.lastIndex=0;for(var lt="",ct;(ct=labelPattern.exec(ot))!==null;)lt+="-"+ct[1];var ut=murmur2(ot)+lt;return{name:ut,styles:ot,next:cursor}},syncFallback=function(et){return et()},useInsertionEffect=React$1["useInsertionEffect"]?React$1["useInsertionEffect"]:!1,useInsertionEffectAlwaysWithSyncFallback=useInsertionEffect||syncFallback,useInsertionEffectWithLayoutFallback=useInsertionEffect||reactExports.useLayoutEffect,hasOwnProperty$w={}.hasOwnProperty,EmotionCacheContext=reactExports.createContext(typeof HTMLElement<"u"?createCache({key:"css"}):null);EmotionCacheContext.Provider;var withEmotionCache=function(et){return reactExports.forwardRef(function(rt,nt){var it=reactExports.useContext(EmotionCacheContext);return et(rt,it,nt)})},ThemeContext$2=reactExports.createContext({}),typePropName="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",createEmotionProps=function(et,rt){var nt={};for(var it in rt)hasOwnProperty$w.call(rt,it)&&(nt[it]=rt[it]);return nt[typePropName]=et,nt},Insertion$1=function(et){var rt=et.cache,nt=et.serialized,it=et.isStringTag;return registerStyles(rt,nt,it),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(rt,nt,it)}),null},Emotion=withEmotionCache(function(tt,et,rt){var nt=tt.css;typeof nt=="string"&&et.registered[nt]!==void 0&&(nt=et.registered[nt]);var it=tt[typePropName],ot=[nt],at="";typeof tt.className=="string"?at=getRegisteredStyles(et.registered,ot,tt.className):tt.className!=null&&(at=tt.className+" ");var st=serializeStyles(ot,void 0,reactExports.useContext(ThemeContext$2));at+=et.key+"-"+st.name;var lt={};for(var ct in tt)hasOwnProperty$w.call(tt,ct)&&ct!=="css"&&ct!==typePropName&&(lt[ct]=tt[ct]);return lt.ref=rt,lt.className=at,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion$1,{cache:et,serialized:st,isStringTag:typeof it=="string"}),reactExports.createElement(it,lt))}),jsxRuntimeExports={},jsxRuntime$1={get exports(){return jsxRuntimeExports},set exports(tt){jsxRuntimeExports=tt}},reactJsxRuntime_production_min={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var f$c=reactExports,k$5=Symbol.for("react.element"),l$5=Symbol.for("react.fragment"),m$5=Object.prototype.hasOwnProperty,n$7=f$c.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p$7={key:!0,ref:!0,__self:!0,__source:!0};function q$5(tt,et,rt){var nt,it={},ot=null,at=null;rt!==void 0&&(ot=""+rt),et.key!==void 0&&(ot=""+et.key),et.ref!==void 0&&(at=et.ref);for(nt in et)m$5.call(et,nt)&&!p$7.hasOwnProperty(nt)&&(it[nt]=et[nt]);if(tt&&tt.defaultProps)for(nt in et=tt.defaultProps,et)it[nt]===void 0&&(it[nt]=et[nt]);return{$$typeof:k$5,type:tt,key:ot,ref:at,props:it,_owner:n$7.current}}reactJsxRuntime_production_min.Fragment=l$5;reactJsxRuntime_production_min.jsx=q$5;reactJsxRuntime_production_min.jsxs=q$5;(function(tt){tt.exports=reactJsxRuntime_production_min})(jsxRuntime$1);const Fragment$1=jsxRuntimeExports.Fragment,jsx$1=jsxRuntimeExports.jsx,jsxs$1=jsxRuntimeExports.jsxs,jsxRuntime=Object.freeze(Object.defineProperty({__proto__:null,Fragment:Fragment$1,jsx:jsx$1,jsxs:jsxs$1},Symbol.toStringTag,{value:"Module"}));var Fragment=Fragment$1;function jsx(tt,et,rt){return hasOwnProperty$w.call(et,"css")?jsx$1(Emotion,createEmotionProps(tt,et),rt):jsx$1(tt,et,rt)}function jsxs(tt,et,rt){return hasOwnProperty$w.call(et,"css")?jsxs$1(Emotion,createEmotionProps(tt,et),rt):jsxs$1(tt,et,rt)}function _typeof$4(tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$4=function(rt){return typeof rt}:_typeof$4=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$4(tt)}function _classCallCheck$b(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _defineProperties$2(tt,et){for(var rt=0;rt<et.length;rt++){var nt=et[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(tt,nt.key,nt)}}function _createClass$a(tt,et,rt){return et&&_defineProperties$2(tt.prototype,et),rt&&_defineProperties$2(tt,rt),tt}function _possibleConstructorReturn$b(tt,et){return et&&(_typeof$4(et)==="object"||typeof et=="function")?et:_assertThisInitialized$1(tt)}function _getPrototypeOf$1(tt){return _getPrototypeOf$1=Object.setPrototypeOf?Object.getPrototypeOf:function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf$1(tt)}function _assertThisInitialized$1(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function _inherits$b(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),et&&_setPrototypeOf$1(tt,et)}function _setPrototypeOf$1(tt,et){return _setPrototypeOf$1=Object.setPrototypeOf||function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf$1(tt,et)}function _defineProperty$8(tt,et,rt){return et in tt?Object.defineProperty(tt,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=rt,tt}var PersistGate=function(tt){_inherits$b(et,tt);function et(){var rt,nt;_classCallCheck$b(this,et);for(var it=arguments.length,ot=new Array(it),at=0;at<it;at++)ot[at]=arguments[at];return nt=_possibleConstructorReturn$b(this,(rt=_getPrototypeOf$1(et)).call.apply(rt,[this].concat(ot))),_defineProperty$8(_assertThisInitialized$1(nt),"state",{bootstrapped:!1}),_defineProperty$8(_assertThisInitialized$1(nt),"_unsubscribe",void 0),_defineProperty$8(_assertThisInitialized$1(nt),"handlePersistorState",function(){var st=nt.props.persistor,lt=st.getState(),ct=lt.bootstrapped;ct&&(nt.props.onBeforeLift?Promise.resolve(nt.props.onBeforeLift()).finally(function(){return nt.setState({bootstrapped:!0})}):nt.setState({bootstrapped:!0}),nt._unsubscribe&&nt._unsubscribe())}),nt}return _createClass$a(et,[{key:"componentDidMount",value:function(){this._unsubscribe=this.props.persistor.subscribe(this.handlePersistorState),this.handlePersistorState()}},{key:"componentWillUnmount",value:function(){this._unsubscribe&&this._unsubscribe()}},{key:"render",value:function(){return typeof this.props.children=="function"?this.props.children(this.state.bootstrapped):this.state.bootstrapped?this.props.children:this.props.loading}}]),et}(reactExports.PureComponent);_defineProperty$8(PersistGate,"defaultProps",{children:null,loading:null});var KEY_PREFIX="persist:",FLUSH="persist/FLUSH",REHYDRATE="persist/REHYDRATE",PAUSE="persist/PAUSE",PERSIST="persist/PERSIST",PURGE="persist/PURGE",REGISTER="persist/REGISTER",DEFAULT_VERSION=-1;function _typeof$3(tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$3=function(rt){return typeof rt}:_typeof$3=function(rt){return rt&&typeof Symbol=="function"&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt},_typeof$3(tt)}function ownKeys$e(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$a(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$e(rt,!0).forEach(function(nt){_defineProperty$7(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$e(rt).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}function _defineProperty$7(tt,et,rt){return et in tt?Object.defineProperty(tt,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=rt,tt}function autoMergeLevel1(tt,et,rt,nt){nt.debug;var it=_objectSpread$a({},rt);return tt&&_typeof$3(tt)==="object"&&Object.keys(tt).forEach(function(ot){ot!=="_persist"&&et[ot]===rt[ot]&&(it[ot]=tt[ot])}),it}function createPersistoid(tt){var et=tt.blacklist||null,rt=tt.whitelist||null,nt=tt.transforms||[],it=tt.throttle||0,ot="".concat(tt.keyPrefix!==void 0?tt.keyPrefix:KEY_PREFIX).concat(tt.key),at=tt.storage,st;tt.serialize===!1?st=function($t){return $t}:typeof tt.serialize=="function"?st=tt.serialize:st=defaultSerialize;var lt=tt.writeFailHandler||null,ct={},ut={},dt=[],ft=null,pt=null,mt=function($t){Object.keys($t).forEach(function(Tt){vt(Tt)&&ct[Tt]!==$t[Tt]&&dt.indexOf(Tt)===-1&&dt.push(Tt)}),Object.keys(ct).forEach(function(Tt){$t[Tt]===void 0&&vt(Tt)&&dt.indexOf(Tt)===-1&&ct[Tt]!==void 0&&dt.push(Tt)}),ft===null&&(ft=setInterval(ht,it)),ct=$t};function ht(){if(dt.length===0){ft&&clearInterval(ft),ft=null;return}var xt=dt.shift(),$t=nt.reduce(function(Tt,wt){return wt.in(Tt,xt,ct)},ct[xt]);if($t!==void 0)try{ut[xt]=st($t)}catch(Tt){console.error("redux-persist/createPersistoid: error serializing state",Tt)}else delete ut[xt];dt.length===0&&gt()}function gt(){Object.keys(ut).forEach(function(xt){ct[xt]===void 0&&delete ut[xt]}),pt=at.setItem(ot,st(ut)).catch(yt)}function vt(xt){return!(rt&&rt.indexOf(xt)===-1&&xt!=="_persist"||et&&et.indexOf(xt)!==-1)}function yt(xt){lt&&lt(xt)}var bt=function(){for(;dt.length!==0;)ht();return pt||Promise.resolve()};return{update:mt,flush:bt}}function defaultSerialize(tt){return JSON.stringify(tt)}function getStoredState(tt){var et=tt.transforms||[],rt="".concat(tt.keyPrefix!==void 0?tt.keyPrefix:KEY_PREFIX).concat(tt.key),nt=tt.storage;tt.debug;var it;return tt.deserialize===!1?it=function(at){return at}:typeof tt.deserialize=="function"?it=tt.deserialize:it=defaultDeserialize,nt.getItem(rt).then(function(ot){if(ot)try{var at={},st=it(ot);return Object.keys(st).forEach(function(lt){at[lt]=et.reduceRight(function(ct,ut){return ut.out(ct,lt,st)},it(st[lt]))}),at}catch(lt){throw lt}else return})}function defaultDeserialize(tt){return JSON.parse(tt)}function purgeStoredState(tt){var et=tt.storage,rt="".concat(tt.keyPrefix!==void 0?tt.keyPrefix:KEY_PREFIX).concat(tt.key);return et.removeItem(rt,warnIfRemoveError)}function warnIfRemoveError(tt){}function ownKeys$d(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$9(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$d(rt,!0).forEach(function(nt){_defineProperty$6(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$d(rt).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}function _defineProperty$6(tt,et,rt){return et in tt?Object.defineProperty(tt,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=rt,tt}function _objectWithoutProperties$4(tt,et){if(tt==null)return{};var rt=_objectWithoutPropertiesLoose$5(tt,et),nt,it;if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(tt);for(it=0;it<ot.length;it++)nt=ot[it],!(et.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(tt,nt)&&(rt[nt]=tt[nt])}return rt}function _objectWithoutPropertiesLoose$5(tt,et){if(tt==null)return{};var rt={},nt=Object.keys(tt),it,ot;for(ot=0;ot<nt.length;ot++)it=nt[ot],!(et.indexOf(it)>=0)&&(rt[it]=tt[it]);return rt}var DEFAULT_TIMEOUT=5e3;function persistReducer(tt,et){var rt=tt.version!==void 0?tt.version:DEFAULT_VERSION;tt.debug;var nt=tt.stateReconciler===void 0?autoMergeLevel1:tt.stateReconciler,it=tt.getStoredState||getStoredState,ot=tt.timeout!==void 0?tt.timeout:DEFAULT_TIMEOUT,at=null,st=!1,lt=!0,ct=function(dt){return dt._persist.rehydrated&&at&&!lt&&at.update(dt),dt};return function(ut,dt){var ft=ut||{},pt=ft._persist,mt=_objectWithoutProperties$4(ft,["_persist"]),ht=mt;if(dt.type===PERSIST){var gt=!1,vt=function(At,Rt){gt||(dt.rehydrate(tt.key,At,Rt),gt=!0)};if(ot&&setTimeout(function(){!gt&&vt(void 0,new Error('redux-persist: persist timed out for persist key "'.concat(tt.key,'"')))},ot),lt=!1,at||(at=createPersistoid(tt)),pt)return _objectSpread$9({},et(ht,dt),{_persist:pt});if(typeof dt.rehydrate!="function"||typeof dt.register!="function")throw new Error("redux-persist: either rehydrate or register is not a function on the PERSIST action. This can happen if the action is being replayed. This is an unexplored use case, please open an issue and we will figure out a resolution.");return dt.register(tt.key),it(tt).then(function(wt){var At=tt.migrate||function(Rt,It){return Promise.resolve(Rt)};At(wt,rt).then(function(Rt){vt(Rt)},function(Rt){vt(void 0,Rt)})},function(wt){vt(void 0,wt)}),_objectSpread$9({},et(ht,dt),{_persist:{version:rt,rehydrated:!1}})}else{if(dt.type===PURGE)return st=!0,dt.result(purgeStoredState(tt)),_objectSpread$9({},et(ht,dt),{_persist:pt});if(dt.type===FLUSH)return dt.result(at&&at.flush()),_objectSpread$9({},et(ht,dt),{_persist:pt});if(dt.type===PAUSE)lt=!0;else if(dt.type===REHYDRATE){if(st)return _objectSpread$9({},ht,{_persist:_objectSpread$9({},pt,{rehydrated:!0})});if(dt.key===tt.key){var yt=et(ht,dt),bt=dt.payload,xt=nt!==!1&&bt!==void 0?nt(bt,ut,yt,tt):yt,$t=_objectSpread$9({},xt,{_persist:_objectSpread$9({},pt,{rehydrated:!0})});return ct($t)}}}if(!pt)return et(ut,dt);var Tt=et(ht,dt);return Tt===ht?ut:ct(_objectSpread$9({},Tt,{_persist:pt}))}}function _typeof$2(tt){return _typeof$2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$2(tt)}function _toPrimitive(tt,et){if(_typeof$2(tt)!=="object"||tt===null)return tt;var rt=tt[Symbol.toPrimitive];if(rt!==void 0){var nt=rt.call(tt,et||"default");if(_typeof$2(nt)!=="object")return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return(et==="string"?String:Number)(tt)}function _toPropertyKey(tt){var et=_toPrimitive(tt,"string");return _typeof$2(et)==="symbol"?et:String(et)}function _defineProperty$5(tt,et,rt){return et=_toPropertyKey(et),et in tt?Object.defineProperty(tt,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=rt,tt}function ownKeys$c(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread2(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$c(Object(rt),!0).forEach(function(nt){_defineProperty$5(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$c(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}function formatProdErrorMessage(tt){return"Minified Redux error #"+tt+"; visit https://redux.js.org/Errors?code="+tt+" for the full message or use the non-minified dev environment for full errors. "}var $$observable=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}(),randomString=function(){return Math.random().toString(36).substring(7).split("").join(".")},ActionTypes$1={INIT:"@@redux/INIT"+randomString(),REPLACE:"@@redux/REPLACE"+randomString(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+randomString()}};function isPlainObject$8(tt){if(typeof tt!="object"||tt===null)return!1;for(var et=tt;Object.getPrototypeOf(et)!==null;)et=Object.getPrototypeOf(et);return Object.getPrototypeOf(tt)===et}function createStore$3(tt,et,rt){var nt;if(typeof et=="function"&&typeof rt=="function"||typeof rt=="function"&&typeof arguments[3]=="function")throw new Error(formatProdErrorMessage(0));if(typeof et=="function"&&typeof rt>"u"&&(rt=et,et=void 0),typeof rt<"u"){if(typeof rt!="function")throw new Error(formatProdErrorMessage(1));return rt(createStore$3)(tt,et)}if(typeof tt!="function")throw new Error(formatProdErrorMessage(2));var it=tt,ot=et,at=[],st=at,lt=!1;function ct(){st===at&&(st=at.slice())}function ut(){if(lt)throw new Error(formatProdErrorMessage(3));return ot}function dt(ht){if(typeof ht!="function")throw new Error(formatProdErrorMessage(4));if(lt)throw new Error(formatProdErrorMessage(5));var gt=!0;return ct(),st.push(ht),function(){if(gt){if(lt)throw new Error(formatProdErrorMessage(6));gt=!1,ct();var yt=st.indexOf(ht);st.splice(yt,1),at=null}}}function ft(ht){if(!isPlainObject$8(ht))throw new Error(formatProdErrorMessage(7));if(typeof ht.type>"u")throw new Error(formatProdErrorMessage(8));if(lt)throw new Error(formatProdErrorMessage(9));try{lt=!0,ot=it(ot,ht)}finally{lt=!1}for(var gt=at=st,vt=0;vt<gt.length;vt++){var yt=gt[vt];yt()}return ht}function pt(ht){if(typeof ht!="function")throw new Error(formatProdErrorMessage(10));it=ht,ft({type:ActionTypes$1.REPLACE})}function mt(){var ht,gt=dt;return ht={subscribe:function(yt){if(typeof yt!="object"||yt===null)throw new Error(formatProdErrorMessage(11));function bt(){yt.next&&yt.next(ut())}bt();var xt=gt(bt);return{unsubscribe:xt}}},ht[$$observable]=function(){return this},ht}return ft({type:ActionTypes$1.INIT}),nt={dispatch:ft,subscribe:dt,getState:ut,replaceReducer:pt},nt[$$observable]=mt,nt}function assertReducerShape(tt){Object.keys(tt).forEach(function(et){var rt=tt[et],nt=rt(void 0,{type:ActionTypes$1.INIT});if(typeof nt>"u")throw new Error(formatProdErrorMessage(12));if(typeof rt(void 0,{type:ActionTypes$1.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(formatProdErrorMessage(13))})}function combineReducers(tt){for(var et=Object.keys(tt),rt={},nt=0;nt<et.length;nt++){var it=et[nt];typeof tt[it]=="function"&&(rt[it]=tt[it])}var ot=Object.keys(rt),at;try{assertReducerShape(rt)}catch(st){at=st}return function(lt,ct){if(lt===void 0&&(lt={}),at)throw at;for(var ut=!1,dt={},ft=0;ft<ot.length;ft++){var pt=ot[ft],mt=rt[pt],ht=lt[pt],gt=mt(ht,ct);if(typeof gt>"u")throw ct&&ct.type,new Error(formatProdErrorMessage(14));dt[pt]=gt,ut=ut||gt!==ht}return ut=ut||ot.length!==Object.keys(lt).length,ut?dt:lt}}function compose$3(){for(var tt=arguments.length,et=new Array(tt),rt=0;rt<tt;rt++)et[rt]=arguments[rt];return et.length===0?function(nt){return nt}:et.length===1?et[0]:et.reduce(function(nt,it){return function(){return nt(it.apply(void 0,arguments))}})}function applyMiddleware(){for(var tt=arguments.length,et=new Array(tt),rt=0;rt<tt;rt++)et[rt]=arguments[rt];return function(nt){return function(){var it=nt.apply(void 0,arguments),ot=function(){throw new Error(formatProdErrorMessage(15))},at={getState:it.getState,dispatch:function(){return ot.apply(void 0,arguments)}},st=et.map(function(lt){return lt(at)});return ot=compose$3.apply(void 0,st)(it.dispatch),_objectSpread2(_objectSpread2({},it),{},{dispatch:ot})}}}function _toConsumableArray$3(tt){return _arrayWithoutHoles$3(tt)||_iterableToArray$4(tt)||_nonIterableSpread$3()}function _nonIterableSpread$3(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray$4(tt){if(Symbol.iterator in Object(tt)||Object.prototype.toString.call(tt)==="[object Arguments]")return Array.from(tt)}function _arrayWithoutHoles$3(tt){if(Array.isArray(tt)){for(var et=0,rt=new Array(tt.length);et<tt.length;et++)rt[et]=tt[et];return rt}}function ownKeys$b(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$8(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$b(rt,!0).forEach(function(nt){_defineProperty$4(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$b(rt).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}function _defineProperty$4(tt,et,rt){return et in tt?Object.defineProperty(tt,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=rt,tt}var initialState$7={registry:[],bootstrapped:!1},persistorReducer=function(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:initialState$7,rt=arguments.length>1?arguments[1]:void 0;switch(rt.type){case REGISTER:return _objectSpread$8({},et,{registry:[].concat(_toConsumableArray$3(et.registry),[rt.key])});case REHYDRATE:var nt=et.registry.indexOf(rt.key),it=_toConsumableArray$3(et.registry);return it.splice(nt,1),_objectSpread$8({},et,{registry:it,bootstrapped:it.length===0});default:return et}};function persistStore(tt,et,rt){var nt=rt||!1,it=createStore$3(persistorReducer,initialState$7,et&&et.enhancer?et.enhancer:void 0),ot=function(ct){it.dispatch({type:REGISTER,key:ct})},at=function(ct,ut,dt){var ft={type:REHYDRATE,payload:ut,err:dt,key:ct};tt.dispatch(ft),it.dispatch(ft),nt&&st.getState().bootstrapped&&(nt(),nt=!1)},st=_objectSpread$8({},it,{purge:function(){var ct=[];return tt.dispatch({type:PURGE,result:function(dt){ct.push(dt)}}),Promise.all(ct)},flush:function(){var ct=[];return tt.dispatch({type:FLUSH,result:function(dt){ct.push(dt)}}),Promise.all(ct)},pause:function(){tt.dispatch({type:PAUSE})},persist:function(){tt.dispatch({type:PERSIST,register:ot,rehydrate:at})}});return et&&et.manualPersist||st.persist(),st}var reactDomExports={},reactDom={get exports(){return reactDomExports},set exports(tt){reactDomExports=tt}},reactDom_production_min={},schedulerExports$1={},scheduler$1={get exports(){return schedulerExports$1},set exports(tt){schedulerExports$1=tt}},scheduler_production_min$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(tt){function et(Ut,jt){var qt=Ut.length;Ut.push(jt);e:for(;0<qt;){var Dt=qt-1>>>1,Ft=Ut[Dt];if(0<it(Ft,jt))Ut[Dt]=jt,Ut[qt]=Ft,qt=Dt;else break e}}function rt(Ut){return Ut.length===0?null:Ut[0]}function nt(Ut){if(Ut.length===0)return null;var jt=Ut[0],qt=Ut.pop();if(qt!==jt){Ut[0]=qt;e:for(var Dt=0,Ft=Ut.length,Zt=Ft>>>1;Dt<Zt;){var Kt=2*(Dt+1)-1,ir=Ut[Kt],rr=Kt+1,mr=Ut[rr];if(0>it(ir,qt))rr<Ft&&0>it(mr,ir)?(Ut[Dt]=mr,Ut[rr]=qt,Dt=rr):(Ut[Dt]=ir,Ut[Kt]=qt,Dt=Kt);else if(rr<Ft&&0>it(mr,qt))Ut[Dt]=mr,Ut[rr]=qt,Dt=rr;else break e}}return jt}function it(Ut,jt){var qt=Ut.sortIndex-jt.sortIndex;return qt!==0?qt:Ut.id-jt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ot=performance;tt.unstable_now=function(){return ot.now()}}else{var at=Date,st=at.now();tt.unstable_now=function(){return at.now()-st}}var lt=[],ct=[],ut=1,dt=null,ft=3,pt=!1,mt=!1,ht=!1,gt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function bt(Ut){for(var jt=rt(ct);jt!==null;){if(jt.callback===null)nt(ct);else if(jt.startTime<=Ut)nt(ct),jt.sortIndex=jt.expirationTime,et(lt,jt);else break;jt=rt(ct)}}function xt(Ut){if(ht=!1,bt(Ut),!mt)if(rt(lt)!==null)mt=!0,zt($t);else{var jt=rt(ct);jt!==null&&Vt(xt,jt.startTime-Ut)}}function $t(Ut,jt){mt=!1,ht&&(ht=!1,vt(At),At=-1),pt=!0;var qt=ft;try{for(bt(jt),dt=rt(lt);dt!==null&&(!(dt.expirationTime>jt)||Ut&&!Lt());){var Dt=dt.callback;if(typeof Dt=="function"){dt.callback=null,ft=dt.priorityLevel;var Ft=Dt(dt.expirationTime<=jt);jt=tt.unstable_now(),typeof Ft=="function"?dt.callback=Ft:dt===rt(lt)&&nt(lt),bt(jt)}else nt(lt);dt=rt(lt)}if(dt!==null)var Zt=!0;else{var Kt=rt(ct);Kt!==null&&Vt(xt,Kt.startTime-jt),Zt=!1}return Zt}finally{dt=null,ft=qt,pt=!1}}var Tt=!1,wt=null,At=-1,Rt=5,It=-1;function Lt(){return!(tt.unstable_now()-It<Rt)}function Pt(){if(wt!==null){var Ut=tt.unstable_now();It=Ut;var jt=!0;try{jt=wt(!0,Ut)}finally{jt?Nt():(Tt=!1,wt=null)}}else Tt=!1}var Nt;if(typeof yt=="function")Nt=function(){yt(Pt)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Bt=Ot.port2;Ot.port1.onmessage=Pt,Nt=function(){Bt.postMessage(null)}}else Nt=function(){gt(Pt,0)};function zt(Ut){wt=Ut,Tt||(Tt=!0,Nt())}function Vt(Ut,jt){At=gt(function(){Ut(tt.unstable_now())},jt)}tt.unstable_IdlePriority=5,tt.unstable_ImmediatePriority=1,tt.unstable_LowPriority=4,tt.unstable_NormalPriority=3,tt.unstable_Profiling=null,tt.unstable_UserBlockingPriority=2,tt.unstable_cancelCallback=function(Ut){Ut.callback=null},tt.unstable_continueExecution=function(){mt||pt||(mt=!0,zt($t))},tt.unstable_forceFrameRate=function(Ut){0>Ut||125<Ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rt=0<Ut?Math.floor(1e3/Ut):5},tt.unstable_getCurrentPriorityLevel=function(){return ft},tt.unstable_getFirstCallbackNode=function(){return rt(lt)},tt.unstable_next=function(Ut){switch(ft){case 1:case 2:case 3:var jt=3;break;default:jt=ft}var qt=ft;ft=jt;try{return Ut()}finally{ft=qt}},tt.unstable_pauseExecution=function(){},tt.unstable_requestPaint=function(){},tt.unstable_runWithPriority=function(Ut,jt){switch(Ut){case 1:case 2:case 3:case 4:case 5:break;default:Ut=3}var qt=ft;ft=Ut;try{return jt()}finally{ft=qt}},tt.unstable_scheduleCallback=function(Ut,jt,qt){var Dt=tt.unstable_now();switch(typeof qt=="object"&&qt!==null?(qt=qt.delay,qt=typeof qt=="number"&&0<qt?Dt+qt:Dt):qt=Dt,Ut){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=qt+Ft,Ut={id:ut++,callback:jt,priorityLevel:Ut,startTime:qt,expirationTime:Ft,sortIndex:-1},qt>Dt?(Ut.sortIndex=qt,et(ct,Ut),rt(lt)===null&&Ut===rt(ct)&&(ht?(vt(At),At=-1):ht=!0,Vt(xt,qt-Dt))):(Ut.sortIndex=Ft,et(lt,Ut),mt||pt||(mt=!0,zt($t))),Ut},tt.unstable_shouldYield=Lt,tt.unstable_wrapCallback=function(Ut){var jt=ft;return function(){var qt=ft;ft=jt;try{return Ut.apply(this,arguments)}finally{ft=qt}}}})(scheduler_production_min$1);(function(tt){tt.exports=scheduler_production_min$1})(scheduler$1);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var aa=reactExports,ca=schedulerExports$1;function p$6(tt){for(var et="https://reactjs.org/docs/error-decoder.html?invariant="+tt,rt=1;rt<arguments.length;rt++)et+="&args[]="+encodeURIComponent(arguments[rt]);return"Minified React error #"+tt+"; visit "+et+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var da=new Set,ea={};function fa(tt,et){ha(tt,et),ha(tt+"Capture",et)}function ha(tt,et){for(ea[tt]=et,tt=0;tt<et.length;tt++)da.add(et[tt])}var ia=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),ja=Object.prototype.hasOwnProperty,ka=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,la={},ma={};function oa(tt){return ja.call(ma,tt)?!0:ja.call(la,tt)?!1:ka.test(tt)?ma[tt]=!0:(la[tt]=!0,!1)}function pa(tt,et,rt,nt){if(rt!==null&&rt.type===0)return!1;switch(typeof et){case"function":case"symbol":return!0;case"boolean":return nt?!1:rt!==null?!rt.acceptsBooleans:(tt=tt.toLowerCase().slice(0,5),tt!=="data-"&&tt!=="aria-");default:return!1}}function qa(tt,et,rt,nt){if(et===null||typeof et>"u"||pa(tt,et,rt,nt))return!0;if(nt)return!1;if(rt!==null)switch(rt.type){case 3:return!et;case 4:return et===!1;case 5:return isNaN(et);case 6:return isNaN(et)||1>et}return!1}function v$4(tt,et,rt,nt,it,ot,at){this.acceptsBooleans=et===2||et===3||et===4,this.attributeName=nt,this.attributeNamespace=it,this.mustUseProperty=rt,this.propertyName=tt,this.type=et,this.sanitizeURL=ot,this.removeEmptyString=at}var z$2={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(tt){z$2[tt]=new v$4(tt,0,!1,tt,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(tt){var et=tt[0];z$2[et]=new v$4(et,1,!1,tt[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(tt){z$2[tt]=new v$4(tt,2,!1,tt.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(tt){z$2[tt]=new v$4(tt,2,!1,tt,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(tt){z$2[tt]=new v$4(tt,3,!1,tt.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(tt){z$2[tt]=new v$4(tt,3,!0,tt,null,!1,!1)});["capture","download"].forEach(function(tt){z$2[tt]=new v$4(tt,4,!1,tt,null,!1,!1)});["cols","rows","size","span"].forEach(function(tt){z$2[tt]=new v$4(tt,6,!1,tt,null,!1,!1)});["rowSpan","start"].forEach(function(tt){z$2[tt]=new v$4(tt,5,!1,tt.toLowerCase(),null,!1,!1)});var ra=/[\-:]([a-z])/g;function sa(tt){return tt[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(tt){var et=tt.replace(ra,sa);z$2[et]=new v$4(et,1,!1,tt,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(tt){var et=tt.replace(ra,sa);z$2[et]=new v$4(et,1,!1,tt,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(tt){var et=tt.replace(ra,sa);z$2[et]=new v$4(et,1,!1,tt,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(tt){z$2[tt]=new v$4(tt,1,!1,tt.toLowerCase(),null,!1,!1)});z$2.xlinkHref=new v$4("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(tt){z$2[tt]=new v$4(tt,1,!1,tt.toLowerCase(),null,!0,!0)});function ta(tt,et,rt,nt){var it=z$2.hasOwnProperty(et)?z$2[et]:null;(it!==null?it.type!==0:nt||!(2<et.length)||et[0]!=="o"&&et[0]!=="O"||et[1]!=="n"&&et[1]!=="N")&&(qa(et,rt,it,nt)&&(rt=null),nt||it===null?oa(et)&&(rt===null?tt.removeAttribute(et):tt.setAttribute(et,""+rt)):it.mustUseProperty?tt[it.propertyName]=rt===null?it.type===3?!1:"":rt:(et=it.attributeName,nt=it.attributeNamespace,rt===null?tt.removeAttribute(et):(it=it.type,rt=it===3||it===4&&rt===!0?"":""+rt,nt?tt.setAttributeNS(nt,et,rt):tt.setAttribute(et,rt))))}var ua=aa.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,va=Symbol.for("react.element"),wa=Symbol.for("react.portal"),ya=Symbol.for("react.fragment"),za=Symbol.for("react.strict_mode"),Aa=Symbol.for("react.profiler"),Ba=Symbol.for("react.provider"),Ca=Symbol.for("react.context"),Da=Symbol.for("react.forward_ref"),Ea=Symbol.for("react.suspense"),Fa=Symbol.for("react.suspense_list"),Ga=Symbol.for("react.memo"),Ha=Symbol.for("react.lazy"),Ia=Symbol.for("react.offscreen"),Ja=Symbol.iterator;function Ka(tt){return tt===null||typeof tt!="object"?null:(tt=Ja&&tt[Ja]||tt["@@iterator"],typeof tt=="function"?tt:null)}var A$2=Object.assign,La;function Ma(tt){if(La===void 0)try{throw Error()}catch(rt){var et=rt.stack.trim().match(/\n( *(at )?)/);La=et&&et[1]||""}return`
`+La+tt}var Na=!1;function Oa(tt,et){if(!tt||Na)return"";Na=!0;var rt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(et)if(et=function(){throw Error()},Object.defineProperty(et.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(et,[])}catch(ct){var nt=ct}Reflect.construct(tt,[],et)}else{try{et.call()}catch(ct){nt=ct}tt.call(et.prototype)}else{try{throw Error()}catch(ct){nt=ct}tt()}}catch(ct){if(ct&&nt&&typeof ct.stack=="string"){for(var it=ct.stack.split(`
`),ot=nt.stack.split(`
`),at=it.length-1,st=ot.length-1;1<=at&&0<=st&&it[at]!==ot[st];)st--;for(;1<=at&&0<=st;at--,st--)if(it[at]!==ot[st]){if(at!==1||st!==1)do if(at--,st--,0>st||it[at]!==ot[st]){var lt=`
`+it[at].replace(" at new "," at ");return tt.displayName&&lt.includes("<anonymous>")&&(lt=lt.replace("<anonymous>",tt.displayName)),lt}while(1<=at&&0<=st);break}}}finally{Na=!1,Error.prepareStackTrace=rt}return(tt=tt?tt.displayName||tt.name:"")?Ma(tt):""}function Pa(tt){switch(tt.tag){case 5:return Ma(tt.type);case 16:return Ma("Lazy");case 13:return Ma("Suspense");case 19:return Ma("SuspenseList");case 0:case 2:case 15:return tt=Oa(tt.type,!1),tt;case 11:return tt=Oa(tt.type.render,!1),tt;case 1:return tt=Oa(tt.type,!0),tt;default:return""}}function Qa(tt){if(tt==null)return null;if(typeof tt=="function")return tt.displayName||tt.name||null;if(typeof tt=="string")return tt;switch(tt){case ya:return"Fragment";case wa:return"Portal";case Aa:return"Profiler";case za:return"StrictMode";case Ea:return"Suspense";case Fa:return"SuspenseList"}if(typeof tt=="object")switch(tt.$$typeof){case Ca:return(tt.displayName||"Context")+".Consumer";case Ba:return(tt._context.displayName||"Context")+".Provider";case Da:var et=tt.render;return tt=tt.displayName,tt||(tt=et.displayName||et.name||"",tt=tt!==""?"ForwardRef("+tt+")":"ForwardRef"),tt;case Ga:return et=tt.displayName||null,et!==null?et:Qa(tt.type)||"Memo";case Ha:et=tt._payload,tt=tt._init;try{return Qa(tt(et))}catch{}}return null}function Ra(tt){var et=tt.type;switch(tt.tag){case 24:return"Cache";case 9:return(et.displayName||"Context")+".Consumer";case 10:return(et._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return tt=et.render,tt=tt.displayName||tt.name||"",et.displayName||(tt!==""?"ForwardRef("+tt+")":"ForwardRef");case 7:return"Fragment";case 5:return et;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Qa(et);case 8:return et===za?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof et=="function")return et.displayName||et.name||null;if(typeof et=="string")return et}return null}function Sa(tt){switch(typeof tt){case"boolean":case"number":case"string":case"undefined":return tt;case"object":return tt;default:return""}}function Ta(tt){var et=tt.type;return(tt=tt.nodeName)&&tt.toLowerCase()==="input"&&(et==="checkbox"||et==="radio")}function Ua(tt){var et=Ta(tt)?"checked":"value",rt=Object.getOwnPropertyDescriptor(tt.constructor.prototype,et),nt=""+tt[et];if(!tt.hasOwnProperty(et)&&typeof rt<"u"&&typeof rt.get=="function"&&typeof rt.set=="function"){var it=rt.get,ot=rt.set;return Object.defineProperty(tt,et,{configurable:!0,get:function(){return it.call(this)},set:function(at){nt=""+at,ot.call(this,at)}}),Object.defineProperty(tt,et,{enumerable:rt.enumerable}),{getValue:function(){return nt},setValue:function(at){nt=""+at},stopTracking:function(){tt._valueTracker=null,delete tt[et]}}}}function Va(tt){tt._valueTracker||(tt._valueTracker=Ua(tt))}function Wa(tt){if(!tt)return!1;var et=tt._valueTracker;if(!et)return!0;var rt=et.getValue(),nt="";return tt&&(nt=Ta(tt)?tt.checked?"true":"false":tt.value),tt=nt,tt!==rt?(et.setValue(tt),!0):!1}function Xa(tt){if(tt=tt||(typeof document<"u"?document:void 0),typeof tt>"u")return null;try{return tt.activeElement||tt.body}catch{return tt.body}}function Ya(tt,et){var rt=et.checked;return A$2({},et,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:rt??tt._wrapperState.initialChecked})}function Za(tt,et){var rt=et.defaultValue==null?"":et.defaultValue,nt=et.checked!=null?et.checked:et.defaultChecked;rt=Sa(et.value!=null?et.value:rt),tt._wrapperState={initialChecked:nt,initialValue:rt,controlled:et.type==="checkbox"||et.type==="radio"?et.checked!=null:et.value!=null}}function ab$1(tt,et){et=et.checked,et!=null&&ta(tt,"checked",et,!1)}function bb(tt,et){ab$1(tt,et);var rt=Sa(et.value),nt=et.type;if(rt!=null)nt==="number"?(rt===0&&tt.value===""||tt.value!=rt)&&(tt.value=""+rt):tt.value!==""+rt&&(tt.value=""+rt);else if(nt==="submit"||nt==="reset"){tt.removeAttribute("value");return}et.hasOwnProperty("value")?cb(tt,et.type,rt):et.hasOwnProperty("defaultValue")&&cb(tt,et.type,Sa(et.defaultValue)),et.checked==null&&et.defaultChecked!=null&&(tt.defaultChecked=!!et.defaultChecked)}function db(tt,et,rt){if(et.hasOwnProperty("value")||et.hasOwnProperty("defaultValue")){var nt=et.type;if(!(nt!=="submit"&&nt!=="reset"||et.value!==void 0&&et.value!==null))return;et=""+tt._wrapperState.initialValue,rt||et===tt.value||(tt.value=et),tt.defaultValue=et}rt=tt.name,rt!==""&&(tt.name=""),tt.defaultChecked=!!tt._wrapperState.initialChecked,rt!==""&&(tt.name=rt)}function cb(tt,et,rt){(et!=="number"||Xa(tt.ownerDocument)!==tt)&&(rt==null?tt.defaultValue=""+tt._wrapperState.initialValue:tt.defaultValue!==""+rt&&(tt.defaultValue=""+rt))}var eb=Array.isArray;function fb(tt,et,rt,nt){if(tt=tt.options,et){et={};for(var it=0;it<rt.length;it++)et["$"+rt[it]]=!0;for(rt=0;rt<tt.length;rt++)it=et.hasOwnProperty("$"+tt[rt].value),tt[rt].selected!==it&&(tt[rt].selected=it),it&&nt&&(tt[rt].defaultSelected=!0)}else{for(rt=""+Sa(rt),et=null,it=0;it<tt.length;it++){if(tt[it].value===rt){tt[it].selected=!0,nt&&(tt[it].defaultSelected=!0);return}et!==null||tt[it].disabled||(et=tt[it])}et!==null&&(et.selected=!0)}}function gb(tt,et){if(et.dangerouslySetInnerHTML!=null)throw Error(p$6(91));return A$2({},et,{value:void 0,defaultValue:void 0,children:""+tt._wrapperState.initialValue})}function hb(tt,et){var rt=et.value;if(rt==null){if(rt=et.children,et=et.defaultValue,rt!=null){if(et!=null)throw Error(p$6(92));if(eb(rt)){if(1<rt.length)throw Error(p$6(93));rt=rt[0]}et=rt}et==null&&(et=""),rt=et}tt._wrapperState={initialValue:Sa(rt)}}function ib(tt,et){var rt=Sa(et.value),nt=Sa(et.defaultValue);rt!=null&&(rt=""+rt,rt!==tt.value&&(tt.value=rt),et.defaultValue==null&&tt.defaultValue!==rt&&(tt.defaultValue=rt)),nt!=null&&(tt.defaultValue=""+nt)}function jb(tt){var et=tt.textContent;et===tt._wrapperState.initialValue&&et!==""&&et!==null&&(tt.value=et)}function kb(tt){switch(tt){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function lb(tt,et){return tt==null||tt==="http://www.w3.org/1999/xhtml"?kb(et):tt==="http://www.w3.org/2000/svg"&&et==="foreignObject"?"http://www.w3.org/1999/xhtml":tt}var mb,nb=function(tt){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(et,rt,nt,it){MSApp.execUnsafeLocalFunction(function(){return tt(et,rt,nt,it)})}:tt}(function(tt,et){if(tt.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in tt)tt.innerHTML=et;else{for(mb=mb||document.createElement("div"),mb.innerHTML="<svg>"+et.valueOf().toString()+"</svg>",et=mb.firstChild;tt.firstChild;)tt.removeChild(tt.firstChild);for(;et.firstChild;)tt.appendChild(et.firstChild)}});function ob(tt,et){if(et){var rt=tt.firstChild;if(rt&&rt===tt.lastChild&&rt.nodeType===3){rt.nodeValue=et;return}}tt.textContent=et}var pb={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qb=["Webkit","ms","Moz","O"];Object.keys(pb).forEach(function(tt){qb.forEach(function(et){et=et+tt.charAt(0).toUpperCase()+tt.substring(1),pb[et]=pb[tt]})});function rb(tt,et,rt){return et==null||typeof et=="boolean"||et===""?"":rt||typeof et!="number"||et===0||pb.hasOwnProperty(tt)&&pb[tt]?(""+et).trim():et+"px"}function sb(tt,et){tt=tt.style;for(var rt in et)if(et.hasOwnProperty(rt)){var nt=rt.indexOf("--")===0,it=rb(rt,et[rt],nt);rt==="float"&&(rt="cssFloat"),nt?tt.setProperty(rt,it):tt[rt]=it}}var tb=A$2({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ub(tt,et){if(et){if(tb[tt]&&(et.children!=null||et.dangerouslySetInnerHTML!=null))throw Error(p$6(137,tt));if(et.dangerouslySetInnerHTML!=null){if(et.children!=null)throw Error(p$6(60));if(typeof et.dangerouslySetInnerHTML!="object"||!("__html"in et.dangerouslySetInnerHTML))throw Error(p$6(61))}if(et.style!=null&&typeof et.style!="object")throw Error(p$6(62))}}function vb(tt,et){if(tt.indexOf("-")===-1)return typeof et.is=="string";switch(tt){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var wb=null;function xb(tt){return tt=tt.target||tt.srcElement||window,tt.correspondingUseElement&&(tt=tt.correspondingUseElement),tt.nodeType===3?tt.parentNode:tt}var yb=null,zb=null,Ab$1=null;function Bb(tt){if(tt=Cb(tt)){if(typeof yb!="function")throw Error(p$6(280));var et=tt.stateNode;et&&(et=Db(et),yb(tt.stateNode,tt.type,et))}}function Eb(tt){zb?Ab$1?Ab$1.push(tt):Ab$1=[tt]:zb=tt}function Fb(){if(zb){var tt=zb,et=Ab$1;if(Ab$1=zb=null,Bb(tt),et)for(tt=0;tt<et.length;tt++)Bb(et[tt])}}function Gb(tt,et){return tt(et)}function Hb(){}var Ib=!1;function Jb(tt,et,rt){if(Ib)return tt(et,rt);Ib=!0;try{return Gb(tt,et,rt)}finally{Ib=!1,(zb!==null||Ab$1!==null)&&(Hb(),Fb())}}function Kb(tt,et){var rt=tt.stateNode;if(rt===null)return null;var nt=Db(rt);if(nt===null)return null;rt=nt[et];e:switch(et){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(nt=!nt.disabled)||(tt=tt.type,nt=!(tt==="button"||tt==="input"||tt==="select"||tt==="textarea")),tt=!nt;break e;default:tt=!1}if(tt)return null;if(rt&&typeof rt!="function")throw Error(p$6(231,et,typeof rt));return rt}var Lb=!1;if(ia)try{var Mb={};Object.defineProperty(Mb,"passive",{get:function(){Lb=!0}}),window.addEventListener("test",Mb,Mb),window.removeEventListener("test",Mb,Mb)}catch{Lb=!1}function Nb(tt,et,rt,nt,it,ot,at,st,lt){var ct=Array.prototype.slice.call(arguments,3);try{et.apply(rt,ct)}catch(ut){this.onError(ut)}}var Ob=!1,Pb=null,Qb=!1,Rb=null,Sb={onError:function(tt){Ob=!0,Pb=tt}};function Tb(tt,et,rt,nt,it,ot,at,st,lt){Ob=!1,Pb=null,Nb.apply(Sb,arguments)}function Ub(tt,et,rt,nt,it,ot,at,st,lt){if(Tb.apply(this,arguments),Ob){if(Ob){var ct=Pb;Ob=!1,Pb=null}else throw Error(p$6(198));Qb||(Qb=!0,Rb=ct)}}function Vb(tt){var et=tt,rt=tt;if(tt.alternate)for(;et.return;)et=et.return;else{tt=et;do et=tt,et.flags&4098&&(rt=et.return),tt=et.return;while(tt)}return et.tag===3?rt:null}function Wb(tt){if(tt.tag===13){var et=tt.memoizedState;if(et===null&&(tt=tt.alternate,tt!==null&&(et=tt.memoizedState)),et!==null)return et.dehydrated}return null}function Xb(tt){if(Vb(tt)!==tt)throw Error(p$6(188))}function Yb(tt){var et=tt.alternate;if(!et){if(et=Vb(tt),et===null)throw Error(p$6(188));return et!==tt?null:tt}for(var rt=tt,nt=et;;){var it=rt.return;if(it===null)break;var ot=it.alternate;if(ot===null){if(nt=it.return,nt!==null){rt=nt;continue}break}if(it.child===ot.child){for(ot=it.child;ot;){if(ot===rt)return Xb(it),tt;if(ot===nt)return Xb(it),et;ot=ot.sibling}throw Error(p$6(188))}if(rt.return!==nt.return)rt=it,nt=ot;else{for(var at=!1,st=it.child;st;){if(st===rt){at=!0,rt=it,nt=ot;break}if(st===nt){at=!0,nt=it,rt=ot;break}st=st.sibling}if(!at){for(st=ot.child;st;){if(st===rt){at=!0,rt=ot,nt=it;break}if(st===nt){at=!0,nt=ot,rt=it;break}st=st.sibling}if(!at)throw Error(p$6(189))}}if(rt.alternate!==nt)throw Error(p$6(190))}if(rt.tag!==3)throw Error(p$6(188));return rt.stateNode.current===rt?tt:et}function Zb(tt){return tt=Yb(tt),tt!==null?$b(tt):null}function $b(tt){if(tt.tag===5||tt.tag===6)return tt;for(tt=tt.child;tt!==null;){var et=$b(tt);if(et!==null)return et;tt=tt.sibling}return null}var ac=ca.unstable_scheduleCallback,bc=ca.unstable_cancelCallback,cc=ca.unstable_shouldYield,dc=ca.unstable_requestPaint,B$2=ca.unstable_now,ec=ca.unstable_getCurrentPriorityLevel,fc=ca.unstable_ImmediatePriority,gc=ca.unstable_UserBlockingPriority,hc=ca.unstable_NormalPriority,ic=ca.unstable_LowPriority,jc=ca.unstable_IdlePriority,kc=null,lc=null;function mc(tt){if(lc&&typeof lc.onCommitFiberRoot=="function")try{lc.onCommitFiberRoot(kc,tt,void 0,(tt.current.flags&128)===128)}catch{}}var oc=Math.clz32?Math.clz32:nc,pc=Math.log,qc=Math.LN2;function nc(tt){return tt>>>=0,tt===0?32:31-(pc(tt)/qc|0)|0}var rc=64,sc=4194304;function tc(tt){switch(tt&-tt){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return tt&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return tt&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return tt}}function uc(tt,et){var rt=tt.pendingLanes;if(rt===0)return 0;var nt=0,it=tt.suspendedLanes,ot=tt.pingedLanes,at=rt&268435455;if(at!==0){var st=at&~it;st!==0?nt=tc(st):(ot&=at,ot!==0&&(nt=tc(ot)))}else at=rt&~it,at!==0?nt=tc(at):ot!==0&&(nt=tc(ot));if(nt===0)return 0;if(et!==0&&et!==nt&&!(et&it)&&(it=nt&-nt,ot=et&-et,it>=ot||it===16&&(ot&4194240)!==0))return et;if(nt&4&&(nt|=rt&16),et=tt.entangledLanes,et!==0)for(tt=tt.entanglements,et&=nt;0<et;)rt=31-oc(et),it=1<<rt,nt|=tt[rt],et&=~it;return nt}function vc(tt,et){switch(tt){case 1:case 2:case 4:return et+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return et+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function wc(tt,et){for(var rt=tt.suspendedLanes,nt=tt.pingedLanes,it=tt.expirationTimes,ot=tt.pendingLanes;0<ot;){var at=31-oc(ot),st=1<<at,lt=it[at];lt===-1?(!(st&rt)||st&nt)&&(it[at]=vc(st,et)):lt<=et&&(tt.expiredLanes|=st),ot&=~st}}function xc(tt){return tt=tt.pendingLanes&-1073741825,tt!==0?tt:tt&1073741824?1073741824:0}function yc(){var tt=rc;return rc<<=1,!(rc&4194240)&&(rc=64),tt}function zc(tt){for(var et=[],rt=0;31>rt;rt++)et.push(tt);return et}function Ac(tt,et,rt){tt.pendingLanes|=et,et!==536870912&&(tt.suspendedLanes=0,tt.pingedLanes=0),tt=tt.eventTimes,et=31-oc(et),tt[et]=rt}function Bc(tt,et){var rt=tt.pendingLanes&~et;tt.pendingLanes=et,tt.suspendedLanes=0,tt.pingedLanes=0,tt.expiredLanes&=et,tt.mutableReadLanes&=et,tt.entangledLanes&=et,et=tt.entanglements;var nt=tt.eventTimes;for(tt=tt.expirationTimes;0<rt;){var it=31-oc(rt),ot=1<<it;et[it]=0,nt[it]=-1,tt[it]=-1,rt&=~ot}}function Cc(tt,et){var rt=tt.entangledLanes|=et;for(tt=tt.entanglements;rt;){var nt=31-oc(rt),it=1<<nt;it&et|tt[nt]&et&&(tt[nt]|=et),rt&=~it}}var C$1=0;function Dc(tt){return tt&=-tt,1<tt?4<tt?tt&268435455?16:536870912:4:1}var Ec,Fc,Gc,Hc,Ic,Jc=!1,Kc=[],Lc=null,Mc=null,Nc=null,Oc=new Map,Pc=new Map,Qc=[],Rc="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Sc(tt,et){switch(tt){case"focusin":case"focusout":Lc=null;break;case"dragenter":case"dragleave":Mc=null;break;case"mouseover":case"mouseout":Nc=null;break;case"pointerover":case"pointerout":Oc.delete(et.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pc.delete(et.pointerId)}}function Tc(tt,et,rt,nt,it,ot){return tt===null||tt.nativeEvent!==ot?(tt={blockedOn:et,domEventName:rt,eventSystemFlags:nt,nativeEvent:ot,targetContainers:[it]},et!==null&&(et=Cb(et),et!==null&&Fc(et)),tt):(tt.eventSystemFlags|=nt,et=tt.targetContainers,it!==null&&et.indexOf(it)===-1&&et.push(it),tt)}function Uc(tt,et,rt,nt,it){switch(et){case"focusin":return Lc=Tc(Lc,tt,et,rt,nt,it),!0;case"dragenter":return Mc=Tc(Mc,tt,et,rt,nt,it),!0;case"mouseover":return Nc=Tc(Nc,tt,et,rt,nt,it),!0;case"pointerover":var ot=it.pointerId;return Oc.set(ot,Tc(Oc.get(ot)||null,tt,et,rt,nt,it)),!0;case"gotpointercapture":return ot=it.pointerId,Pc.set(ot,Tc(Pc.get(ot)||null,tt,et,rt,nt,it)),!0}return!1}function Vc(tt){var et=Wc(tt.target);if(et!==null){var rt=Vb(et);if(rt!==null){if(et=rt.tag,et===13){if(et=Wb(rt),et!==null){tt.blockedOn=et,Ic(tt.priority,function(){Gc(rt)});return}}else if(et===3&&rt.stateNode.current.memoizedState.isDehydrated){tt.blockedOn=rt.tag===3?rt.stateNode.containerInfo:null;return}}}tt.blockedOn=null}function Xc(tt){if(tt.blockedOn!==null)return!1;for(var et=tt.targetContainers;0<et.length;){var rt=Yc(tt.domEventName,tt.eventSystemFlags,et[0],tt.nativeEvent);if(rt===null){rt=tt.nativeEvent;var nt=new rt.constructor(rt.type,rt);wb=nt,rt.target.dispatchEvent(nt),wb=null}else return et=Cb(rt),et!==null&&Fc(et),tt.blockedOn=rt,!1;et.shift()}return!0}function Zc(tt,et,rt){Xc(tt)&&rt.delete(et)}function $c(){Jc=!1,Lc!==null&&Xc(Lc)&&(Lc=null),Mc!==null&&Xc(Mc)&&(Mc=null),Nc!==null&&Xc(Nc)&&(Nc=null),Oc.forEach(Zc),Pc.forEach(Zc)}function ad(tt,et){tt.blockedOn===et&&(tt.blockedOn=null,Jc||(Jc=!0,ca.unstable_scheduleCallback(ca.unstable_NormalPriority,$c)))}function bd(tt){function et(it){return ad(it,tt)}if(0<Kc.length){ad(Kc[0],tt);for(var rt=1;rt<Kc.length;rt++){var nt=Kc[rt];nt.blockedOn===tt&&(nt.blockedOn=null)}}for(Lc!==null&&ad(Lc,tt),Mc!==null&&ad(Mc,tt),Nc!==null&&ad(Nc,tt),Oc.forEach(et),Pc.forEach(et),rt=0;rt<Qc.length;rt++)nt=Qc[rt],nt.blockedOn===tt&&(nt.blockedOn=null);for(;0<Qc.length&&(rt=Qc[0],rt.blockedOn===null);)Vc(rt),rt.blockedOn===null&&Qc.shift()}var cd=ua.ReactCurrentBatchConfig,dd=!0;function ed(tt,et,rt,nt){var it=C$1,ot=cd.transition;cd.transition=null;try{C$1=1,fd(tt,et,rt,nt)}finally{C$1=it,cd.transition=ot}}function gd(tt,et,rt,nt){var it=C$1,ot=cd.transition;cd.transition=null;try{C$1=4,fd(tt,et,rt,nt)}finally{C$1=it,cd.transition=ot}}function fd(tt,et,rt,nt){if(dd){var it=Yc(tt,et,rt,nt);if(it===null)hd(tt,et,nt,id$7,rt),Sc(tt,nt);else if(Uc(it,tt,et,rt,nt))nt.stopPropagation();else if(Sc(tt,nt),et&4&&-1<Rc.indexOf(tt)){for(;it!==null;){var ot=Cb(it);if(ot!==null&&Ec(ot),ot=Yc(tt,et,rt,nt),ot===null&&hd(tt,et,nt,id$7,rt),ot===it)break;it=ot}it!==null&&nt.stopPropagation()}else hd(tt,et,nt,null,rt)}}var id$7=null;function Yc(tt,et,rt,nt){if(id$7=null,tt=xb(nt),tt=Wc(tt),tt!==null)if(et=Vb(tt),et===null)tt=null;else if(rt=et.tag,rt===13){if(tt=Wb(et),tt!==null)return tt;tt=null}else if(rt===3){if(et.stateNode.current.memoizedState.isDehydrated)return et.tag===3?et.stateNode.containerInfo:null;tt=null}else et!==tt&&(tt=null);return id$7=tt,null}function jd(tt){switch(tt){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(ec()){case fc:return 1;case gc:return 4;case hc:case ic:return 16;case jc:return 536870912;default:return 16}default:return 16}}var kd=null,ld=null,md=null;function nd(){if(md)return md;var tt,et=ld,rt=et.length,nt,it="value"in kd?kd.value:kd.textContent,ot=it.length;for(tt=0;tt<rt&&et[tt]===it[tt];tt++);var at=rt-tt;for(nt=1;nt<=at&&et[rt-nt]===it[ot-nt];nt++);return md=it.slice(tt,1<nt?1-nt:void 0)}function od(tt){var et=tt.keyCode;return"charCode"in tt?(tt=tt.charCode,tt===0&&et===13&&(tt=13)):tt=et,tt===10&&(tt=13),32<=tt||tt===13?tt:0}function pd(){return!0}function qd(){return!1}function rd(tt){function et(rt,nt,it,ot,at){this._reactName=rt,this._targetInst=it,this.type=nt,this.nativeEvent=ot,this.target=at,this.currentTarget=null;for(var st in tt)tt.hasOwnProperty(st)&&(rt=tt[st],this[st]=rt?rt(ot):ot[st]);return this.isDefaultPrevented=(ot.defaultPrevented!=null?ot.defaultPrevented:ot.returnValue===!1)?pd:qd,this.isPropagationStopped=qd,this}return A$2(et.prototype,{preventDefault:function(){this.defaultPrevented=!0;var rt=this.nativeEvent;rt&&(rt.preventDefault?rt.preventDefault():typeof rt.returnValue!="unknown"&&(rt.returnValue=!1),this.isDefaultPrevented=pd)},stopPropagation:function(){var rt=this.nativeEvent;rt&&(rt.stopPropagation?rt.stopPropagation():typeof rt.cancelBubble!="unknown"&&(rt.cancelBubble=!0),this.isPropagationStopped=pd)},persist:function(){},isPersistent:pd}),et}var sd={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(tt){return tt.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},td=rd(sd),ud=A$2({},sd,{view:0,detail:0}),vd=rd(ud),wd,xd,yd,Ad=A$2({},ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zd,button:0,buttons:0,relatedTarget:function(tt){return tt.relatedTarget===void 0?tt.fromElement===tt.srcElement?tt.toElement:tt.fromElement:tt.relatedTarget},movementX:function(tt){return"movementX"in tt?tt.movementX:(tt!==yd&&(yd&&tt.type==="mousemove"?(wd=tt.screenX-yd.screenX,xd=tt.screenY-yd.screenY):xd=wd=0,yd=tt),wd)},movementY:function(tt){return"movementY"in tt?tt.movementY:xd}}),Bd=rd(Ad),Cd=A$2({},Ad,{dataTransfer:0}),Dd=rd(Cd),Ed=A$2({},ud,{relatedTarget:0}),Fd=rd(Ed),Gd=A$2({},sd,{animationName:0,elapsedTime:0,pseudoElement:0}),Hd=rd(Gd),Id=A$2({},sd,{clipboardData:function(tt){return"clipboardData"in tt?tt.clipboardData:window.clipboardData}}),Jd=rd(Id),Kd=A$2({},sd,{data:0}),Ld=rd(Kd),Md={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Nd={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Od={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Pd(tt){var et=this.nativeEvent;return et.getModifierState?et.getModifierState(tt):(tt=Od[tt])?!!et[tt]:!1}function zd(){return Pd}var Qd=A$2({},ud,{key:function(tt){if(tt.key){var et=Md[tt.key]||tt.key;if(et!=="Unidentified")return et}return tt.type==="keypress"?(tt=od(tt),tt===13?"Enter":String.fromCharCode(tt)):tt.type==="keydown"||tt.type==="keyup"?Nd[tt.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zd,charCode:function(tt){return tt.type==="keypress"?od(tt):0},keyCode:function(tt){return tt.type==="keydown"||tt.type==="keyup"?tt.keyCode:0},which:function(tt){return tt.type==="keypress"?od(tt):tt.type==="keydown"||tt.type==="keyup"?tt.keyCode:0}}),Rd=rd(Qd),Sd=A$2({},Ad,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Td=rd(Sd),Ud=A$2({},ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zd}),Vd=rd(Ud),Wd=A$2({},sd,{propertyName:0,elapsedTime:0,pseudoElement:0}),Xd=rd(Wd),Yd=A$2({},Ad,{deltaX:function(tt){return"deltaX"in tt?tt.deltaX:"wheelDeltaX"in tt?-tt.wheelDeltaX:0},deltaY:function(tt){return"deltaY"in tt?tt.deltaY:"wheelDeltaY"in tt?-tt.wheelDeltaY:"wheelDelta"in tt?-tt.wheelDelta:0},deltaZ:0,deltaMode:0}),Zd=rd(Yd),$d=[9,13,27,32],ae$1=ia&&"CompositionEvent"in window,be$1=null;ia&&"documentMode"in document&&(be$1=document.documentMode);var ce$1=ia&&"TextEvent"in window&&!be$1,de$1=ia&&(!ae$1||be$1&&8<be$1&&11>=be$1),ee$1=String.fromCharCode(32),fe$1=!1;function ge(tt,et){switch(tt){case"keyup":return $d.indexOf(et.keyCode)!==-1;case"keydown":return et.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function he$1(tt){return tt=tt.detail,typeof tt=="object"&&"data"in tt?tt.data:null}var ie$1=!1;function je(tt,et){switch(tt){case"compositionend":return he$1(et);case"keypress":return et.which!==32?null:(fe$1=!0,ee$1);case"textInput":return tt=et.data,tt===ee$1&&fe$1?null:tt;default:return null}}function ke(tt,et){if(ie$1)return tt==="compositionend"||!ae$1&&ge(tt,et)?(tt=nd(),md=ld=kd=null,ie$1=!1,tt):null;switch(tt){case"paste":return null;case"keypress":if(!(et.ctrlKey||et.altKey||et.metaKey)||et.ctrlKey&&et.altKey){if(et.char&&1<et.char.length)return et.char;if(et.which)return String.fromCharCode(et.which)}return null;case"compositionend":return de$1&&et.locale!=="ko"?null:et.data;default:return null}}var le$1={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function me$1(tt){var et=tt&&tt.nodeName&&tt.nodeName.toLowerCase();return et==="input"?!!le$1[tt.type]:et==="textarea"}function ne$1(tt,et,rt,nt){Eb(nt),et=oe$1(et,"onChange"),0<et.length&&(rt=new td("onChange","change",null,rt,nt),tt.push({event:rt,listeners:et}))}var pe$1=null,qe=null;function re$1(tt){se$1(tt,0)}function te$1(tt){var et=ue$1(tt);if(Wa(et))return tt}function ve$1(tt,et){if(tt==="change")return et}var we$1=!1;if(ia){var xe;if(ia){var ye$1="oninput"in document;if(!ye$1){var ze=document.createElement("div");ze.setAttribute("oninput","return;"),ye$1=typeof ze.oninput=="function"}xe=ye$1}else xe=!1;we$1=xe&&(!document.documentMode||9<document.documentMode)}function Ae(){pe$1&&(pe$1.detachEvent("onpropertychange",Be),qe=pe$1=null)}function Be(tt){if(tt.propertyName==="value"&&te$1(qe)){var et=[];ne$1(et,qe,tt,xb(tt)),Jb(re$1,et)}}function Ce$1(tt,et,rt){tt==="focusin"?(Ae(),pe$1=et,qe=rt,pe$1.attachEvent("onpropertychange",Be)):tt==="focusout"&&Ae()}function De(tt){if(tt==="selectionchange"||tt==="keyup"||tt==="keydown")return te$1(qe)}function Ee$1(tt,et){if(tt==="click")return te$1(et)}function Fe(tt,et){if(tt==="input"||tt==="change")return te$1(et)}function Ge(tt,et){return tt===et&&(tt!==0||1/tt===1/et)||tt!==tt&&et!==et}var He=typeof Object.is=="function"?Object.is:Ge;function Ie$1(tt,et){if(He(tt,et))return!0;if(typeof tt!="object"||tt===null||typeof et!="object"||et===null)return!1;var rt=Object.keys(tt),nt=Object.keys(et);if(rt.length!==nt.length)return!1;for(nt=0;nt<rt.length;nt++){var it=rt[nt];if(!ja.call(et,it)||!He(tt[it],et[it]))return!1}return!0}function Je(tt){for(;tt&&tt.firstChild;)tt=tt.firstChild;return tt}function Ke(tt,et){var rt=Je(tt);tt=0;for(var nt;rt;){if(rt.nodeType===3){if(nt=tt+rt.textContent.length,tt<=et&&nt>=et)return{node:rt,offset:et-tt};tt=nt}e:{for(;rt;){if(rt.nextSibling){rt=rt.nextSibling;break e}rt=rt.parentNode}rt=void 0}rt=Je(rt)}}function Le$1(tt,et){return tt&&et?tt===et?!0:tt&&tt.nodeType===3?!1:et&&et.nodeType===3?Le$1(tt,et.parentNode):"contains"in tt?tt.contains(et):tt.compareDocumentPosition?!!(tt.compareDocumentPosition(et)&16):!1:!1}function Me(){for(var tt=window,et=Xa();et instanceof tt.HTMLIFrameElement;){try{var rt=typeof et.contentWindow.location.href=="string"}catch{rt=!1}if(rt)tt=et.contentWindow;else break;et=Xa(tt.document)}return et}function Ne(tt){var et=tt&&tt.nodeName&&tt.nodeName.toLowerCase();return et&&(et==="input"&&(tt.type==="text"||tt.type==="search"||tt.type==="tel"||tt.type==="url"||tt.type==="password")||et==="textarea"||tt.contentEditable==="true")}function Oe$1(tt){var et=Me(),rt=tt.focusedElem,nt=tt.selectionRange;if(et!==rt&&rt&&rt.ownerDocument&&Le$1(rt.ownerDocument.documentElement,rt)){if(nt!==null&&Ne(rt)){if(et=nt.start,tt=nt.end,tt===void 0&&(tt=et),"selectionStart"in rt)rt.selectionStart=et,rt.selectionEnd=Math.min(tt,rt.value.length);else if(tt=(et=rt.ownerDocument||document)&&et.defaultView||window,tt.getSelection){tt=tt.getSelection();var it=rt.textContent.length,ot=Math.min(nt.start,it);nt=nt.end===void 0?ot:Math.min(nt.end,it),!tt.extend&&ot>nt&&(it=nt,nt=ot,ot=it),it=Ke(rt,ot);var at=Ke(rt,nt);it&&at&&(tt.rangeCount!==1||tt.anchorNode!==it.node||tt.anchorOffset!==it.offset||tt.focusNode!==at.node||tt.focusOffset!==at.offset)&&(et=et.createRange(),et.setStart(it.node,it.offset),tt.removeAllRanges(),ot>nt?(tt.addRange(et),tt.extend(at.node,at.offset)):(et.setEnd(at.node,at.offset),tt.addRange(et)))}}for(et=[],tt=rt;tt=tt.parentNode;)tt.nodeType===1&&et.push({element:tt,left:tt.scrollLeft,top:tt.scrollTop});for(typeof rt.focus=="function"&&rt.focus(),rt=0;rt<et.length;rt++)tt=et[rt],tt.element.scrollLeft=tt.left,tt.element.scrollTop=tt.top}}var Pe$1=ia&&"documentMode"in document&&11>=document.documentMode,Qe=null,Re=null,Se$1=null,Te$1=!1;function Ue(tt,et,rt){var nt=rt.window===rt?rt.document:rt.nodeType===9?rt:rt.ownerDocument;Te$1||Qe==null||Qe!==Xa(nt)||(nt=Qe,"selectionStart"in nt&&Ne(nt)?nt={start:nt.selectionStart,end:nt.selectionEnd}:(nt=(nt.ownerDocument&&nt.ownerDocument.defaultView||window).getSelection(),nt={anchorNode:nt.anchorNode,anchorOffset:nt.anchorOffset,focusNode:nt.focusNode,focusOffset:nt.focusOffset}),Se$1&&Ie$1(Se$1,nt)||(Se$1=nt,nt=oe$1(Re,"onSelect"),0<nt.length&&(et=new td("onSelect","select",null,et,rt),tt.push({event:et,listeners:nt}),et.target=Qe)))}function Ve(tt,et){var rt={};return rt[tt.toLowerCase()]=et.toLowerCase(),rt["Webkit"+tt]="webkit"+et,rt["Moz"+tt]="moz"+et,rt}var We={animationend:Ve("Animation","AnimationEnd"),animationiteration:Ve("Animation","AnimationIteration"),animationstart:Ve("Animation","AnimationStart"),transitionend:Ve("Transition","TransitionEnd")},Xe={},Ye={};ia&&(Ye=document.createElement("div").style,"AnimationEvent"in window||(delete We.animationend.animation,delete We.animationiteration.animation,delete We.animationstart.animation),"TransitionEvent"in window||delete We.transitionend.transition);function Ze(tt){if(Xe[tt])return Xe[tt];if(!We[tt])return tt;var et=We[tt],rt;for(rt in et)if(et.hasOwnProperty(rt)&&rt in Ye)return Xe[tt]=et[rt];return tt}var $e=Ze("animationend"),af=Ze("animationiteration"),bf=Ze("animationstart"),cf=Ze("transitionend"),df=new Map,ef="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ff(tt,et){df.set(tt,et),fa(et,[tt])}for(var gf=0;gf<ef.length;gf++){var hf=ef[gf],jf=hf.toLowerCase(),kf=hf[0].toUpperCase()+hf.slice(1);ff(jf,"on"+kf)}ff($e,"onAnimationEnd");ff(af,"onAnimationIteration");ff(bf,"onAnimationStart");ff("dblclick","onDoubleClick");ff("focusin","onFocus");ff("focusout","onBlur");ff(cf,"onTransitionEnd");ha("onMouseEnter",["mouseout","mouseover"]);ha("onMouseLeave",["mouseout","mouseover"]);ha("onPointerEnter",["pointerout","pointerover"]);ha("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),mf=new Set("cancel close invalid load scroll toggle".split(" ").concat(lf));function nf(tt,et,rt){var nt=tt.type||"unknown-event";tt.currentTarget=rt,Ub(nt,et,void 0,tt),tt.currentTarget=null}function se$1(tt,et){et=(et&4)!==0;for(var rt=0;rt<tt.length;rt++){var nt=tt[rt],it=nt.event;nt=nt.listeners;e:{var ot=void 0;if(et)for(var at=nt.length-1;0<=at;at--){var st=nt[at],lt=st.instance,ct=st.currentTarget;if(st=st.listener,lt!==ot&&it.isPropagationStopped())break e;nf(it,st,ct),ot=lt}else for(at=0;at<nt.length;at++){if(st=nt[at],lt=st.instance,ct=st.currentTarget,st=st.listener,lt!==ot&&it.isPropagationStopped())break e;nf(it,st,ct),ot=lt}}}if(Qb)throw tt=Rb,Qb=!1,Rb=null,tt}function D$2(tt,et){var rt=et[of];rt===void 0&&(rt=et[of]=new Set);var nt=tt+"__bubble";rt.has(nt)||(pf(et,tt,2,!1),rt.add(nt))}function qf(tt,et,rt){var nt=0;et&&(nt|=4),pf(rt,tt,nt,et)}var rf="_reactListening"+Math.random().toString(36).slice(2);function sf(tt){if(!tt[rf]){tt[rf]=!0,da.forEach(function(rt){rt!=="selectionchange"&&(mf.has(rt)||qf(rt,!1,tt),qf(rt,!0,tt))});var et=tt.nodeType===9?tt:tt.ownerDocument;et===null||et[rf]||(et[rf]=!0,qf("selectionchange",!1,et))}}function pf(tt,et,rt,nt){switch(jd(et)){case 1:var it=ed;break;case 4:it=gd;break;default:it=fd}rt=it.bind(null,et,rt,tt),it=void 0,!Lb||et!=="touchstart"&&et!=="touchmove"&&et!=="wheel"||(it=!0),nt?it!==void 0?tt.addEventListener(et,rt,{capture:!0,passive:it}):tt.addEventListener(et,rt,!0):it!==void 0?tt.addEventListener(et,rt,{passive:it}):tt.addEventListener(et,rt,!1)}function hd(tt,et,rt,nt,it){var ot=nt;if(!(et&1)&&!(et&2)&&nt!==null)e:for(;;){if(nt===null)return;var at=nt.tag;if(at===3||at===4){var st=nt.stateNode.containerInfo;if(st===it||st.nodeType===8&&st.parentNode===it)break;if(at===4)for(at=nt.return;at!==null;){var lt=at.tag;if((lt===3||lt===4)&&(lt=at.stateNode.containerInfo,lt===it||lt.nodeType===8&&lt.parentNode===it))return;at=at.return}for(;st!==null;){if(at=Wc(st),at===null)return;if(lt=at.tag,lt===5||lt===6){nt=ot=at;continue e}st=st.parentNode}}nt=nt.return}Jb(function(){var ct=ot,ut=xb(rt),dt=[];e:{var ft=df.get(tt);if(ft!==void 0){var pt=td,mt=tt;switch(tt){case"keypress":if(od(rt)===0)break e;case"keydown":case"keyup":pt=Rd;break;case"focusin":mt="focus",pt=Fd;break;case"focusout":mt="blur",pt=Fd;break;case"beforeblur":case"afterblur":pt=Fd;break;case"click":if(rt.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":pt=Bd;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":pt=Dd;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":pt=Vd;break;case $e:case af:case bf:pt=Hd;break;case cf:pt=Xd;break;case"scroll":pt=vd;break;case"wheel":pt=Zd;break;case"copy":case"cut":case"paste":pt=Jd;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":pt=Td}var ht=(et&4)!==0,gt=!ht&&tt==="scroll",vt=ht?ft!==null?ft+"Capture":null:ft;ht=[];for(var yt=ct,bt;yt!==null;){bt=yt;var xt=bt.stateNode;if(bt.tag===5&&xt!==null&&(bt=xt,vt!==null&&(xt=Kb(yt,vt),xt!=null&&ht.push(tf(yt,xt,bt)))),gt)break;yt=yt.return}0<ht.length&&(ft=new pt(ft,mt,null,rt,ut),dt.push({event:ft,listeners:ht}))}}if(!(et&7)){e:{if(ft=tt==="mouseover"||tt==="pointerover",pt=tt==="mouseout"||tt==="pointerout",ft&&rt!==wb&&(mt=rt.relatedTarget||rt.fromElement)&&(Wc(mt)||mt[uf]))break e;if((pt||ft)&&(ft=ut.window===ut?ut:(ft=ut.ownerDocument)?ft.defaultView||ft.parentWindow:window,pt?(mt=rt.relatedTarget||rt.toElement,pt=ct,mt=mt?Wc(mt):null,mt!==null&&(gt=Vb(mt),mt!==gt||mt.tag!==5&&mt.tag!==6)&&(mt=null)):(pt=null,mt=ct),pt!==mt)){if(ht=Bd,xt="onMouseLeave",vt="onMouseEnter",yt="mouse",(tt==="pointerout"||tt==="pointerover")&&(ht=Td,xt="onPointerLeave",vt="onPointerEnter",yt="pointer"),gt=pt==null?ft:ue$1(pt),bt=mt==null?ft:ue$1(mt),ft=new ht(xt,yt+"leave",pt,rt,ut),ft.target=gt,ft.relatedTarget=bt,xt=null,Wc(ut)===ct&&(ht=new ht(vt,yt+"enter",mt,rt,ut),ht.target=bt,ht.relatedTarget=gt,xt=ht),gt=xt,pt&&mt)t:{for(ht=pt,vt=mt,yt=0,bt=ht;bt;bt=vf(bt))yt++;for(bt=0,xt=vt;xt;xt=vf(xt))bt++;for(;0<yt-bt;)ht=vf(ht),yt--;for(;0<bt-yt;)vt=vf(vt),bt--;for(;yt--;){if(ht===vt||vt!==null&&ht===vt.alternate)break t;ht=vf(ht),vt=vf(vt)}ht=null}else ht=null;pt!==null&&wf(dt,ft,pt,ht,!1),mt!==null&&gt!==null&&wf(dt,gt,mt,ht,!0)}}e:{if(ft=ct?ue$1(ct):window,pt=ft.nodeName&&ft.nodeName.toLowerCase(),pt==="select"||pt==="input"&&ft.type==="file")var $t=ve$1;else if(me$1(ft))if(we$1)$t=Fe;else{$t=De;var Tt=Ce$1}else(pt=ft.nodeName)&&pt.toLowerCase()==="input"&&(ft.type==="checkbox"||ft.type==="radio")&&($t=Ee$1);if($t&&($t=$t(tt,ct))){ne$1(dt,$t,rt,ut);break e}Tt&&Tt(tt,ft,ct),tt==="focusout"&&(Tt=ft._wrapperState)&&Tt.controlled&&ft.type==="number"&&cb(ft,"number",ft.value)}switch(Tt=ct?ue$1(ct):window,tt){case"focusin":(me$1(Tt)||Tt.contentEditable==="true")&&(Qe=Tt,Re=ct,Se$1=null);break;case"focusout":Se$1=Re=Qe=null;break;case"mousedown":Te$1=!0;break;case"contextmenu":case"mouseup":case"dragend":Te$1=!1,Ue(dt,rt,ut);break;case"selectionchange":if(Pe$1)break;case"keydown":case"keyup":Ue(dt,rt,ut)}var wt;if(ae$1)e:{switch(tt){case"compositionstart":var At="onCompositionStart";break e;case"compositionend":At="onCompositionEnd";break e;case"compositionupdate":At="onCompositionUpdate";break e}At=void 0}else ie$1?ge(tt,rt)&&(At="onCompositionEnd"):tt==="keydown"&&rt.keyCode===229&&(At="onCompositionStart");At&&(de$1&&rt.locale!=="ko"&&(ie$1||At!=="onCompositionStart"?At==="onCompositionEnd"&&ie$1&&(wt=nd()):(kd=ut,ld="value"in kd?kd.value:kd.textContent,ie$1=!0)),Tt=oe$1(ct,At),0<Tt.length&&(At=new Ld(At,tt,null,rt,ut),dt.push({event:At,listeners:Tt}),wt?At.data=wt:(wt=he$1(rt),wt!==null&&(At.data=wt)))),(wt=ce$1?je(tt,rt):ke(tt,rt))&&(ct=oe$1(ct,"onBeforeInput"),0<ct.length&&(ut=new Ld("onBeforeInput","beforeinput",null,rt,ut),dt.push({event:ut,listeners:ct}),ut.data=wt))}se$1(dt,et)})}function tf(tt,et,rt){return{instance:tt,listener:et,currentTarget:rt}}function oe$1(tt,et){for(var rt=et+"Capture",nt=[];tt!==null;){var it=tt,ot=it.stateNode;it.tag===5&&ot!==null&&(it=ot,ot=Kb(tt,rt),ot!=null&&nt.unshift(tf(tt,ot,it)),ot=Kb(tt,et),ot!=null&&nt.push(tf(tt,ot,it))),tt=tt.return}return nt}function vf(tt){if(tt===null)return null;do tt=tt.return;while(tt&&tt.tag!==5);return tt||null}function wf(tt,et,rt,nt,it){for(var ot=et._reactName,at=[];rt!==null&&rt!==nt;){var st=rt,lt=st.alternate,ct=st.stateNode;if(lt!==null&&lt===nt)break;st.tag===5&&ct!==null&&(st=ct,it?(lt=Kb(rt,ot),lt!=null&&at.unshift(tf(rt,lt,st))):it||(lt=Kb(rt,ot),lt!=null&&at.push(tf(rt,lt,st)))),rt=rt.return}at.length!==0&&tt.push({event:et,listeners:at})}var xf=/\r\n?/g,yf=/\u0000|\uFFFD/g;function zf(tt){return(typeof tt=="string"?tt:""+tt).replace(xf,`
`).replace(yf,"")}function Af(tt,et,rt){if(et=zf(et),zf(tt)!==et&&rt)throw Error(p$6(425))}function Bf(){}var Cf=null,Df=null;function Ef(tt,et){return tt==="textarea"||tt==="noscript"||typeof et.children=="string"||typeof et.children=="number"||typeof et.dangerouslySetInnerHTML=="object"&&et.dangerouslySetInnerHTML!==null&&et.dangerouslySetInnerHTML.__html!=null}var Ff=typeof setTimeout=="function"?setTimeout:void 0,Gf=typeof clearTimeout=="function"?clearTimeout:void 0,Hf=typeof Promise=="function"?Promise:void 0,Jf=typeof queueMicrotask=="function"?queueMicrotask:typeof Hf<"u"?function(tt){return Hf.resolve(null).then(tt).catch(If)}:Ff;function If(tt){setTimeout(function(){throw tt})}function Kf(tt,et){var rt=et,nt=0;do{var it=rt.nextSibling;if(tt.removeChild(rt),it&&it.nodeType===8)if(rt=it.data,rt==="/$"){if(nt===0){tt.removeChild(it),bd(et);return}nt--}else rt!=="$"&&rt!=="$?"&&rt!=="$!"||nt++;rt=it}while(rt);bd(et)}function Lf(tt){for(;tt!=null;tt=tt.nextSibling){var et=tt.nodeType;if(et===1||et===3)break;if(et===8){if(et=tt.data,et==="$"||et==="$!"||et==="$?")break;if(et==="/$")return null}}return tt}function Mf(tt){tt=tt.previousSibling;for(var et=0;tt;){if(tt.nodeType===8){var rt=tt.data;if(rt==="$"||rt==="$!"||rt==="$?"){if(et===0)return tt;et--}else rt==="/$"&&et++}tt=tt.previousSibling}return null}var Nf=Math.random().toString(36).slice(2),Of="__reactFiber$"+Nf,Pf="__reactProps$"+Nf,uf="__reactContainer$"+Nf,of="__reactEvents$"+Nf,Qf="__reactListeners$"+Nf,Rf="__reactHandles$"+Nf;function Wc(tt){var et=tt[Of];if(et)return et;for(var rt=tt.parentNode;rt;){if(et=rt[uf]||rt[Of]){if(rt=et.alternate,et.child!==null||rt!==null&&rt.child!==null)for(tt=Mf(tt);tt!==null;){if(rt=tt[Of])return rt;tt=Mf(tt)}return et}tt=rt,rt=tt.parentNode}return null}function Cb(tt){return tt=tt[Of]||tt[uf],!tt||tt.tag!==5&&tt.tag!==6&&tt.tag!==13&&tt.tag!==3?null:tt}function ue$1(tt){if(tt.tag===5||tt.tag===6)return tt.stateNode;throw Error(p$6(33))}function Db(tt){return tt[Pf]||null}var Sf=[],Tf=-1;function Uf(tt){return{current:tt}}function E$2(tt){0>Tf||(tt.current=Sf[Tf],Sf[Tf]=null,Tf--)}function G$2(tt,et){Tf++,Sf[Tf]=tt.current,tt.current=et}var Vf={},H$2=Uf(Vf),Wf=Uf(!1),Xf=Vf;function Yf(tt,et){var rt=tt.type.contextTypes;if(!rt)return Vf;var nt=tt.stateNode;if(nt&&nt.__reactInternalMemoizedUnmaskedChildContext===et)return nt.__reactInternalMemoizedMaskedChildContext;var it={},ot;for(ot in rt)it[ot]=et[ot];return nt&&(tt=tt.stateNode,tt.__reactInternalMemoizedUnmaskedChildContext=et,tt.__reactInternalMemoizedMaskedChildContext=it),it}function Zf(tt){return tt=tt.childContextTypes,tt!=null}function $f(){E$2(Wf),E$2(H$2)}function ag(tt,et,rt){if(H$2.current!==Vf)throw Error(p$6(168));G$2(H$2,et),G$2(Wf,rt)}function bg(tt,et,rt){var nt=tt.stateNode;if(et=et.childContextTypes,typeof nt.getChildContext!="function")return rt;nt=nt.getChildContext();for(var it in nt)if(!(it in et))throw Error(p$6(108,Ra(tt)||"Unknown",it));return A$2({},rt,nt)}function cg(tt){return tt=(tt=tt.stateNode)&&tt.__reactInternalMemoizedMergedChildContext||Vf,Xf=H$2.current,G$2(H$2,tt),G$2(Wf,Wf.current),!0}function dg(tt,et,rt){var nt=tt.stateNode;if(!nt)throw Error(p$6(169));rt?(tt=bg(tt,et,Xf),nt.__reactInternalMemoizedMergedChildContext=tt,E$2(Wf),E$2(H$2),G$2(H$2,tt)):E$2(Wf),G$2(Wf,rt)}var eg=null,fg=!1,gg=!1;function hg(tt){eg===null?eg=[tt]:eg.push(tt)}function ig(tt){fg=!0,hg(tt)}function jg(){if(!gg&&eg!==null){gg=!0;var tt=0,et=C$1;try{var rt=eg;for(C$1=1;tt<rt.length;tt++){var nt=rt[tt];do nt=nt(!0);while(nt!==null)}eg=null,fg=!1}catch(it){throw eg!==null&&(eg=eg.slice(tt+1)),ac(fc,jg),it}finally{C$1=et,gg=!1}}return null}var kg=[],lg=0,mg=null,ng=0,og=[],pg=0,qg=null,rg=1,sg="";function tg(tt,et){kg[lg++]=ng,kg[lg++]=mg,mg=tt,ng=et}function ug(tt,et,rt){og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,qg=tt;var nt=rg;tt=sg;var it=32-oc(nt)-1;nt&=~(1<<it),rt+=1;var ot=32-oc(et)+it;if(30<ot){var at=it-it%5;ot=(nt&(1<<at)-1).toString(32),nt>>=at,it-=at,rg=1<<32-oc(et)+it|rt<<it|nt,sg=ot+tt}else rg=1<<ot|rt<<it|nt,sg=tt}function vg(tt){tt.return!==null&&(tg(tt,1),ug(tt,1,0))}function wg(tt){for(;tt===mg;)mg=kg[--lg],kg[lg]=null,ng=kg[--lg],kg[lg]=null;for(;tt===qg;)qg=og[--pg],og[pg]=null,sg=og[--pg],og[pg]=null,rg=og[--pg],og[pg]=null}var xg=null,yg=null,I$2=!1,zg=null;function Ag(tt,et){var rt=Bg(5,null,null,0);rt.elementType="DELETED",rt.stateNode=et,rt.return=tt,et=tt.deletions,et===null?(tt.deletions=[rt],tt.flags|=16):et.push(rt)}function Cg(tt,et){switch(tt.tag){case 5:var rt=tt.type;return et=et.nodeType!==1||rt.toLowerCase()!==et.nodeName.toLowerCase()?null:et,et!==null?(tt.stateNode=et,xg=tt,yg=Lf(et.firstChild),!0):!1;case 6:return et=tt.pendingProps===""||et.nodeType!==3?null:et,et!==null?(tt.stateNode=et,xg=tt,yg=null,!0):!1;case 13:return et=et.nodeType!==8?null:et,et!==null?(rt=qg!==null?{id:rg,overflow:sg}:null,tt.memoizedState={dehydrated:et,treeContext:rt,retryLane:1073741824},rt=Bg(18,null,null,0),rt.stateNode=et,rt.return=tt,tt.child=rt,xg=tt,yg=null,!0):!1;default:return!1}}function Dg(tt){return(tt.mode&1)!==0&&(tt.flags&128)===0}function Eg(tt){if(I$2){var et=yg;if(et){var rt=et;if(!Cg(tt,et)){if(Dg(tt))throw Error(p$6(418));et=Lf(rt.nextSibling);var nt=xg;et&&Cg(tt,et)?Ag(nt,rt):(tt.flags=tt.flags&-4097|2,I$2=!1,xg=tt)}}else{if(Dg(tt))throw Error(p$6(418));tt.flags=tt.flags&-4097|2,I$2=!1,xg=tt}}}function Fg(tt){for(tt=tt.return;tt!==null&&tt.tag!==5&&tt.tag!==3&&tt.tag!==13;)tt=tt.return;xg=tt}function Gg(tt){if(tt!==xg)return!1;if(!I$2)return Fg(tt),I$2=!0,!1;var et;if((et=tt.tag!==3)&&!(et=tt.tag!==5)&&(et=tt.type,et=et!=="head"&&et!=="body"&&!Ef(tt.type,tt.memoizedProps)),et&&(et=yg)){if(Dg(tt))throw Hg(),Error(p$6(418));for(;et;)Ag(tt,et),et=Lf(et.nextSibling)}if(Fg(tt),tt.tag===13){if(tt=tt.memoizedState,tt=tt!==null?tt.dehydrated:null,!tt)throw Error(p$6(317));e:{for(tt=tt.nextSibling,et=0;tt;){if(tt.nodeType===8){var rt=tt.data;if(rt==="/$"){if(et===0){yg=Lf(tt.nextSibling);break e}et--}else rt!=="$"&&rt!=="$!"&&rt!=="$?"||et++}tt=tt.nextSibling}yg=null}}else yg=xg?Lf(tt.stateNode.nextSibling):null;return!0}function Hg(){for(var tt=yg;tt;)tt=Lf(tt.nextSibling)}function Ig(){yg=xg=null,I$2=!1}function Jg(tt){zg===null?zg=[tt]:zg.push(tt)}var Kg=ua.ReactCurrentBatchConfig;function Lg(tt,et){if(tt&&tt.defaultProps){et=A$2({},et),tt=tt.defaultProps;for(var rt in tt)et[rt]===void 0&&(et[rt]=tt[rt]);return et}return et}var Mg=Uf(null),Ng=null,Og=null,Pg=null;function Qg(){Pg=Og=Ng=null}function Rg(tt){var et=Mg.current;E$2(Mg),tt._currentValue=et}function Sg(tt,et,rt){for(;tt!==null;){var nt=tt.alternate;if((tt.childLanes&et)!==et?(tt.childLanes|=et,nt!==null&&(nt.childLanes|=et)):nt!==null&&(nt.childLanes&et)!==et&&(nt.childLanes|=et),tt===rt)break;tt=tt.return}}function Tg(tt,et){Ng=tt,Pg=Og=null,tt=tt.dependencies,tt!==null&&tt.firstContext!==null&&(tt.lanes&et&&(Ug=!0),tt.firstContext=null)}function Vg(tt){var et=tt._currentValue;if(Pg!==tt)if(tt={context:tt,memoizedValue:et,next:null},Og===null){if(Ng===null)throw Error(p$6(308));Og=tt,Ng.dependencies={lanes:0,firstContext:tt}}else Og=Og.next=tt;return et}var Wg=null;function Xg(tt){Wg===null?Wg=[tt]:Wg.push(tt)}function Yg(tt,et,rt,nt){var it=et.interleaved;return it===null?(rt.next=rt,Xg(et)):(rt.next=it.next,it.next=rt),et.interleaved=rt,Zg(tt,nt)}function Zg(tt,et){tt.lanes|=et;var rt=tt.alternate;for(rt!==null&&(rt.lanes|=et),rt=tt,tt=tt.return;tt!==null;)tt.childLanes|=et,rt=tt.alternate,rt!==null&&(rt.childLanes|=et),rt=tt,tt=tt.return;return rt.tag===3?rt.stateNode:null}var $g=!1;function ah(tt){tt.updateQueue={baseState:tt.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function bh(tt,et){tt=tt.updateQueue,et.updateQueue===tt&&(et.updateQueue={baseState:tt.baseState,firstBaseUpdate:tt.firstBaseUpdate,lastBaseUpdate:tt.lastBaseUpdate,shared:tt.shared,effects:tt.effects})}function ch(tt,et){return{eventTime:tt,lane:et,tag:0,payload:null,callback:null,next:null}}function dh(tt,et,rt){var nt=tt.updateQueue;if(nt===null)return null;if(nt=nt.shared,K$1&2){var it=nt.pending;return it===null?et.next=et:(et.next=it.next,it.next=et),nt.pending=et,Zg(tt,rt)}return it=nt.interleaved,it===null?(et.next=et,Xg(nt)):(et.next=it.next,it.next=et),nt.interleaved=et,Zg(tt,rt)}function eh(tt,et,rt){if(et=et.updateQueue,et!==null&&(et=et.shared,(rt&4194240)!==0)){var nt=et.lanes;nt&=tt.pendingLanes,rt|=nt,et.lanes=rt,Cc(tt,rt)}}function fh(tt,et){var rt=tt.updateQueue,nt=tt.alternate;if(nt!==null&&(nt=nt.updateQueue,rt===nt)){var it=null,ot=null;if(rt=rt.firstBaseUpdate,rt!==null){do{var at={eventTime:rt.eventTime,lane:rt.lane,tag:rt.tag,payload:rt.payload,callback:rt.callback,next:null};ot===null?it=ot=at:ot=ot.next=at,rt=rt.next}while(rt!==null);ot===null?it=ot=et:ot=ot.next=et}else it=ot=et;rt={baseState:nt.baseState,firstBaseUpdate:it,lastBaseUpdate:ot,shared:nt.shared,effects:nt.effects},tt.updateQueue=rt;return}tt=rt.lastBaseUpdate,tt===null?rt.firstBaseUpdate=et:tt.next=et,rt.lastBaseUpdate=et}function gh(tt,et,rt,nt){var it=tt.updateQueue;$g=!1;var ot=it.firstBaseUpdate,at=it.lastBaseUpdate,st=it.shared.pending;if(st!==null){it.shared.pending=null;var lt=st,ct=lt.next;lt.next=null,at===null?ot=ct:at.next=ct,at=lt;var ut=tt.alternate;ut!==null&&(ut=ut.updateQueue,st=ut.lastBaseUpdate,st!==at&&(st===null?ut.firstBaseUpdate=ct:st.next=ct,ut.lastBaseUpdate=lt))}if(ot!==null){var dt=it.baseState;at=0,ut=ct=lt=null,st=ot;do{var ft=st.lane,pt=st.eventTime;if((nt&ft)===ft){ut!==null&&(ut=ut.next={eventTime:pt,lane:0,tag:st.tag,payload:st.payload,callback:st.callback,next:null});e:{var mt=tt,ht=st;switch(ft=et,pt=rt,ht.tag){case 1:if(mt=ht.payload,typeof mt=="function"){dt=mt.call(pt,dt,ft);break e}dt=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=ht.payload,ft=typeof mt=="function"?mt.call(pt,dt,ft):mt,ft==null)break e;dt=A$2({},dt,ft);break e;case 2:$g=!0}}st.callback!==null&&st.lane!==0&&(tt.flags|=64,ft=it.effects,ft===null?it.effects=[st]:ft.push(st))}else pt={eventTime:pt,lane:ft,tag:st.tag,payload:st.payload,callback:st.callback,next:null},ut===null?(ct=ut=pt,lt=dt):ut=ut.next=pt,at|=ft;if(st=st.next,st===null){if(st=it.shared.pending,st===null)break;ft=st,st=ft.next,ft.next=null,it.lastBaseUpdate=ft,it.shared.pending=null}}while(1);if(ut===null&&(lt=dt),it.baseState=lt,it.firstBaseUpdate=ct,it.lastBaseUpdate=ut,et=it.shared.interleaved,et!==null){it=et;do at|=it.lane,it=it.next;while(it!==et)}else ot===null&&(it.shared.lanes=0);hh|=at,tt.lanes=at,tt.memoizedState=dt}}function ih(tt,et,rt){if(tt=et.effects,et.effects=null,tt!==null)for(et=0;et<tt.length;et++){var nt=tt[et],it=nt.callback;if(it!==null){if(nt.callback=null,nt=rt,typeof it!="function")throw Error(p$6(191,it));it.call(nt)}}}var jh=new aa.Component().refs;function kh(tt,et,rt,nt){et=tt.memoizedState,rt=rt(nt,et),rt=rt==null?et:A$2({},et,rt),tt.memoizedState=rt,tt.lanes===0&&(tt.updateQueue.baseState=rt)}var nh={isMounted:function(tt){return(tt=tt._reactInternals)?Vb(tt)===tt:!1},enqueueSetState:function(tt,et,rt){tt=tt._reactInternals;var nt=L$2(),it=lh(tt),ot=ch(nt,it);ot.payload=et,rt!=null&&(ot.callback=rt),et=dh(tt,ot,it),et!==null&&(mh(et,tt,it,nt),eh(et,tt,it))},enqueueReplaceState:function(tt,et,rt){tt=tt._reactInternals;var nt=L$2(),it=lh(tt),ot=ch(nt,it);ot.tag=1,ot.payload=et,rt!=null&&(ot.callback=rt),et=dh(tt,ot,it),et!==null&&(mh(et,tt,it,nt),eh(et,tt,it))},enqueueForceUpdate:function(tt,et){tt=tt._reactInternals;var rt=L$2(),nt=lh(tt),it=ch(rt,nt);it.tag=2,et!=null&&(it.callback=et),et=dh(tt,it,nt),et!==null&&(mh(et,tt,nt,rt),eh(et,tt,nt))}};function oh(tt,et,rt,nt,it,ot,at){return tt=tt.stateNode,typeof tt.shouldComponentUpdate=="function"?tt.shouldComponentUpdate(nt,ot,at):et.prototype&&et.prototype.isPureReactComponent?!Ie$1(rt,nt)||!Ie$1(it,ot):!0}function ph(tt,et,rt){var nt=!1,it=Vf,ot=et.contextType;return typeof ot=="object"&&ot!==null?ot=Vg(ot):(it=Zf(et)?Xf:H$2.current,nt=et.contextTypes,ot=(nt=nt!=null)?Yf(tt,it):Vf),et=new et(rt,ot),tt.memoizedState=et.state!==null&&et.state!==void 0?et.state:null,et.updater=nh,tt.stateNode=et,et._reactInternals=tt,nt&&(tt=tt.stateNode,tt.__reactInternalMemoizedUnmaskedChildContext=it,tt.__reactInternalMemoizedMaskedChildContext=ot),et}function qh(tt,et,rt,nt){tt=et.state,typeof et.componentWillReceiveProps=="function"&&et.componentWillReceiveProps(rt,nt),typeof et.UNSAFE_componentWillReceiveProps=="function"&&et.UNSAFE_componentWillReceiveProps(rt,nt),et.state!==tt&&nh.enqueueReplaceState(et,et.state,null)}function rh(tt,et,rt,nt){var it=tt.stateNode;it.props=rt,it.state=tt.memoizedState,it.refs=jh,ah(tt);var ot=et.contextType;typeof ot=="object"&&ot!==null?it.context=Vg(ot):(ot=Zf(et)?Xf:H$2.current,it.context=Yf(tt,ot)),it.state=tt.memoizedState,ot=et.getDerivedStateFromProps,typeof ot=="function"&&(kh(tt,et,ot,rt),it.state=tt.memoizedState),typeof et.getDerivedStateFromProps=="function"||typeof it.getSnapshotBeforeUpdate=="function"||typeof it.UNSAFE_componentWillMount!="function"&&typeof it.componentWillMount!="function"||(et=it.state,typeof it.componentWillMount=="function"&&it.componentWillMount(),typeof it.UNSAFE_componentWillMount=="function"&&it.UNSAFE_componentWillMount(),et!==it.state&&nh.enqueueReplaceState(it,it.state,null),gh(tt,rt,it,nt),it.state=tt.memoizedState),typeof it.componentDidMount=="function"&&(tt.flags|=4194308)}function sh(tt,et,rt){if(tt=rt.ref,tt!==null&&typeof tt!="function"&&typeof tt!="object"){if(rt._owner){if(rt=rt._owner,rt){if(rt.tag!==1)throw Error(p$6(309));var nt=rt.stateNode}if(!nt)throw Error(p$6(147,tt));var it=nt,ot=""+tt;return et!==null&&et.ref!==null&&typeof et.ref=="function"&&et.ref._stringRef===ot?et.ref:(et=function(at){var st=it.refs;st===jh&&(st=it.refs={}),at===null?delete st[ot]:st[ot]=at},et._stringRef=ot,et)}if(typeof tt!="string")throw Error(p$6(284));if(!rt._owner)throw Error(p$6(290,tt))}return tt}function th(tt,et){throw tt=Object.prototype.toString.call(et),Error(p$6(31,tt==="[object Object]"?"object with keys {"+Object.keys(et).join(", ")+"}":tt))}function uh(tt){var et=tt._init;return et(tt._payload)}function vh(tt){function et(vt,yt){if(tt){var bt=vt.deletions;bt===null?(vt.deletions=[yt],vt.flags|=16):bt.push(yt)}}function rt(vt,yt){if(!tt)return null;for(;yt!==null;)et(vt,yt),yt=yt.sibling;return null}function nt(vt,yt){for(vt=new Map;yt!==null;)yt.key!==null?vt.set(yt.key,yt):vt.set(yt.index,yt),yt=yt.sibling;return vt}function it(vt,yt){return vt=wh(vt,yt),vt.index=0,vt.sibling=null,vt}function ot(vt,yt,bt){return vt.index=bt,tt?(bt=vt.alternate,bt!==null?(bt=bt.index,bt<yt?(vt.flags|=2,yt):bt):(vt.flags|=2,yt)):(vt.flags|=1048576,yt)}function at(vt){return tt&&vt.alternate===null&&(vt.flags|=2),vt}function st(vt,yt,bt,xt){return yt===null||yt.tag!==6?(yt=xh(bt,vt.mode,xt),yt.return=vt,yt):(yt=it(yt,bt),yt.return=vt,yt)}function lt(vt,yt,bt,xt){var $t=bt.type;return $t===ya?ut(vt,yt,bt.props.children,xt,bt.key):yt!==null&&(yt.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===Ha&&uh($t)===yt.type)?(xt=it(yt,bt.props),xt.ref=sh(vt,yt,bt),xt.return=vt,xt):(xt=yh(bt.type,bt.key,bt.props,null,vt.mode,xt),xt.ref=sh(vt,yt,bt),xt.return=vt,xt)}function ct(vt,yt,bt,xt){return yt===null||yt.tag!==4||yt.stateNode.containerInfo!==bt.containerInfo||yt.stateNode.implementation!==bt.implementation?(yt=zh(bt,vt.mode,xt),yt.return=vt,yt):(yt=it(yt,bt.children||[]),yt.return=vt,yt)}function ut(vt,yt,bt,xt,$t){return yt===null||yt.tag!==7?(yt=Ah(bt,vt.mode,xt,$t),yt.return=vt,yt):(yt=it(yt,bt),yt.return=vt,yt)}function dt(vt,yt,bt){if(typeof yt=="string"&&yt!==""||typeof yt=="number")return yt=xh(""+yt,vt.mode,bt),yt.return=vt,yt;if(typeof yt=="object"&&yt!==null){switch(yt.$$typeof){case va:return bt=yh(yt.type,yt.key,yt.props,null,vt.mode,bt),bt.ref=sh(vt,null,yt),bt.return=vt,bt;case wa:return yt=zh(yt,vt.mode,bt),yt.return=vt,yt;case Ha:var xt=yt._init;return dt(vt,xt(yt._payload),bt)}if(eb(yt)||Ka(yt))return yt=Ah(yt,vt.mode,bt,null),yt.return=vt,yt;th(vt,yt)}return null}function ft(vt,yt,bt,xt){var $t=yt!==null?yt.key:null;if(typeof bt=="string"&&bt!==""||typeof bt=="number")return $t!==null?null:st(vt,yt,""+bt,xt);if(typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:return bt.key===$t?lt(vt,yt,bt,xt):null;case wa:return bt.key===$t?ct(vt,yt,bt,xt):null;case Ha:return $t=bt._init,ft(vt,yt,$t(bt._payload),xt)}if(eb(bt)||Ka(bt))return $t!==null?null:ut(vt,yt,bt,xt,null);th(vt,bt)}return null}function pt(vt,yt,bt,xt,$t){if(typeof xt=="string"&&xt!==""||typeof xt=="number")return vt=vt.get(bt)||null,st(yt,vt,""+xt,$t);if(typeof xt=="object"&&xt!==null){switch(xt.$$typeof){case va:return vt=vt.get(xt.key===null?bt:xt.key)||null,lt(yt,vt,xt,$t);case wa:return vt=vt.get(xt.key===null?bt:xt.key)||null,ct(yt,vt,xt,$t);case Ha:var Tt=xt._init;return pt(vt,yt,bt,Tt(xt._payload),$t)}if(eb(xt)||Ka(xt))return vt=vt.get(bt)||null,ut(yt,vt,xt,$t,null);th(yt,xt)}return null}function mt(vt,yt,bt,xt){for(var $t=null,Tt=null,wt=yt,At=yt=0,Rt=null;wt!==null&&At<bt.length;At++){wt.index>At?(Rt=wt,wt=null):Rt=wt.sibling;var It=ft(vt,wt,bt[At],xt);if(It===null){wt===null&&(wt=Rt);break}tt&&wt&&It.alternate===null&&et(vt,wt),yt=ot(It,yt,At),Tt===null?$t=It:Tt.sibling=It,Tt=It,wt=Rt}if(At===bt.length)return rt(vt,wt),I$2&&tg(vt,At),$t;if(wt===null){for(;At<bt.length;At++)wt=dt(vt,bt[At],xt),wt!==null&&(yt=ot(wt,yt,At),Tt===null?$t=wt:Tt.sibling=wt,Tt=wt);return I$2&&tg(vt,At),$t}for(wt=nt(vt,wt);At<bt.length;At++)Rt=pt(wt,vt,At,bt[At],xt),Rt!==null&&(tt&&Rt.alternate!==null&&wt.delete(Rt.key===null?At:Rt.key),yt=ot(Rt,yt,At),Tt===null?$t=Rt:Tt.sibling=Rt,Tt=Rt);return tt&&wt.forEach(function(Lt){return et(vt,Lt)}),I$2&&tg(vt,At),$t}function ht(vt,yt,bt,xt){var $t=Ka(bt);if(typeof $t!="function")throw Error(p$6(150));if(bt=$t.call(bt),bt==null)throw Error(p$6(151));for(var Tt=$t=null,wt=yt,At=yt=0,Rt=null,It=bt.next();wt!==null&&!It.done;At++,It=bt.next()){wt.index>At?(Rt=wt,wt=null):Rt=wt.sibling;var Lt=ft(vt,wt,It.value,xt);if(Lt===null){wt===null&&(wt=Rt);break}tt&&wt&&Lt.alternate===null&&et(vt,wt),yt=ot(Lt,yt,At),Tt===null?$t=Lt:Tt.sibling=Lt,Tt=Lt,wt=Rt}if(It.done)return rt(vt,wt),I$2&&tg(vt,At),$t;if(wt===null){for(;!It.done;At++,It=bt.next())It=dt(vt,It.value,xt),It!==null&&(yt=ot(It,yt,At),Tt===null?$t=It:Tt.sibling=It,Tt=It);return I$2&&tg(vt,At),$t}for(wt=nt(vt,wt);!It.done;At++,It=bt.next())It=pt(wt,vt,At,It.value,xt),It!==null&&(tt&&It.alternate!==null&&wt.delete(It.key===null?At:It.key),yt=ot(It,yt,At),Tt===null?$t=It:Tt.sibling=It,Tt=It);return tt&&wt.forEach(function(Pt){return et(vt,Pt)}),I$2&&tg(vt,At),$t}function gt(vt,yt,bt,xt){if(typeof bt=="object"&&bt!==null&&bt.type===ya&&bt.key===null&&(bt=bt.props.children),typeof bt=="object"&&bt!==null){switch(bt.$$typeof){case va:e:{for(var $t=bt.key,Tt=yt;Tt!==null;){if(Tt.key===$t){if($t=bt.type,$t===ya){if(Tt.tag===7){rt(vt,Tt.sibling),yt=it(Tt,bt.props.children),yt.return=vt,vt=yt;break e}}else if(Tt.elementType===$t||typeof $t=="object"&&$t!==null&&$t.$$typeof===Ha&&uh($t)===Tt.type){rt(vt,Tt.sibling),yt=it(Tt,bt.props),yt.ref=sh(vt,Tt,bt),yt.return=vt,vt=yt;break e}rt(vt,Tt);break}else et(vt,Tt);Tt=Tt.sibling}bt.type===ya?(yt=Ah(bt.props.children,vt.mode,xt,bt.key),yt.return=vt,vt=yt):(xt=yh(bt.type,bt.key,bt.props,null,vt.mode,xt),xt.ref=sh(vt,yt,bt),xt.return=vt,vt=xt)}return at(vt);case wa:e:{for(Tt=bt.key;yt!==null;){if(yt.key===Tt)if(yt.tag===4&&yt.stateNode.containerInfo===bt.containerInfo&&yt.stateNode.implementation===bt.implementation){rt(vt,yt.sibling),yt=it(yt,bt.children||[]),yt.return=vt,vt=yt;break e}else{rt(vt,yt);break}else et(vt,yt);yt=yt.sibling}yt=zh(bt,vt.mode,xt),yt.return=vt,vt=yt}return at(vt);case Ha:return Tt=bt._init,gt(vt,yt,Tt(bt._payload),xt)}if(eb(bt))return mt(vt,yt,bt,xt);if(Ka(bt))return ht(vt,yt,bt,xt);th(vt,bt)}return typeof bt=="string"&&bt!==""||typeof bt=="number"?(bt=""+bt,yt!==null&&yt.tag===6?(rt(vt,yt.sibling),yt=it(yt,bt),yt.return=vt,vt=yt):(rt(vt,yt),yt=xh(bt,vt.mode,xt),yt.return=vt,vt=yt),at(vt)):rt(vt,yt)}return gt}var Bh=vh(!0),Ch=vh(!1),Dh={},Eh=Uf(Dh),Fh=Uf(Dh),Gh=Uf(Dh);function Hh(tt){if(tt===Dh)throw Error(p$6(174));return tt}function Ih(tt,et){switch(G$2(Gh,et),G$2(Fh,tt),G$2(Eh,Dh),tt=et.nodeType,tt){case 9:case 11:et=(et=et.documentElement)?et.namespaceURI:lb(null,"");break;default:tt=tt===8?et.parentNode:et,et=tt.namespaceURI||null,tt=tt.tagName,et=lb(et,tt)}E$2(Eh),G$2(Eh,et)}function Jh(){E$2(Eh),E$2(Fh),E$2(Gh)}function Kh(tt){Hh(Gh.current);var et=Hh(Eh.current),rt=lb(et,tt.type);et!==rt&&(G$2(Fh,tt),G$2(Eh,rt))}function Lh(tt){Fh.current===tt&&(E$2(Eh),E$2(Fh))}var M$2=Uf(0);function Mh(tt){for(var et=tt;et!==null;){if(et.tag===13){var rt=et.memoizedState;if(rt!==null&&(rt=rt.dehydrated,rt===null||rt.data==="$?"||rt.data==="$!"))return et}else if(et.tag===19&&et.memoizedProps.revealOrder!==void 0){if(et.flags&128)return et}else if(et.child!==null){et.child.return=et,et=et.child;continue}if(et===tt)break;for(;et.sibling===null;){if(et.return===null||et.return===tt)return null;et=et.return}et.sibling.return=et.return,et=et.sibling}return null}var Nh=[];function Oh(){for(var tt=0;tt<Nh.length;tt++)Nh[tt]._workInProgressVersionPrimary=null;Nh.length=0}var Ph=ua.ReactCurrentDispatcher,Qh=ua.ReactCurrentBatchConfig,Rh=0,N$2=null,O$2=null,P$3=null,Sh=!1,Th=!1,Uh=0,Vh=0;function Q$2(){throw Error(p$6(321))}function Wh(tt,et){if(et===null)return!1;for(var rt=0;rt<et.length&&rt<tt.length;rt++)if(!He(tt[rt],et[rt]))return!1;return!0}function Xh(tt,et,rt,nt,it,ot){if(Rh=ot,N$2=et,et.memoizedState=null,et.updateQueue=null,et.lanes=0,Ph.current=tt===null||tt.memoizedState===null?Yh:Zh,tt=rt(nt,it),Th){ot=0;do{if(Th=!1,Uh=0,25<=ot)throw Error(p$6(301));ot+=1,P$3=O$2=null,et.updateQueue=null,Ph.current=$h,tt=rt(nt,it)}while(Th)}if(Ph.current=ai,et=O$2!==null&&O$2.next!==null,Rh=0,P$3=O$2=N$2=null,Sh=!1,et)throw Error(p$6(300));return tt}function bi(){var tt=Uh!==0;return Uh=0,tt}function ci(){var tt={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return P$3===null?N$2.memoizedState=P$3=tt:P$3=P$3.next=tt,P$3}function di(){if(O$2===null){var tt=N$2.alternate;tt=tt!==null?tt.memoizedState:null}else tt=O$2.next;var et=P$3===null?N$2.memoizedState:P$3.next;if(et!==null)P$3=et,O$2=tt;else{if(tt===null)throw Error(p$6(310));O$2=tt,tt={memoizedState:O$2.memoizedState,baseState:O$2.baseState,baseQueue:O$2.baseQueue,queue:O$2.queue,next:null},P$3===null?N$2.memoizedState=P$3=tt:P$3=P$3.next=tt}return P$3}function ei(tt,et){return typeof et=="function"?et(tt):et}function fi(tt){var et=di(),rt=et.queue;if(rt===null)throw Error(p$6(311));rt.lastRenderedReducer=tt;var nt=O$2,it=nt.baseQueue,ot=rt.pending;if(ot!==null){if(it!==null){var at=it.next;it.next=ot.next,ot.next=at}nt.baseQueue=it=ot,rt.pending=null}if(it!==null){ot=it.next,nt=nt.baseState;var st=at=null,lt=null,ct=ot;do{var ut=ct.lane;if((Rh&ut)===ut)lt!==null&&(lt=lt.next={lane:0,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null}),nt=ct.hasEagerState?ct.eagerState:tt(nt,ct.action);else{var dt={lane:ut,action:ct.action,hasEagerState:ct.hasEagerState,eagerState:ct.eagerState,next:null};lt===null?(st=lt=dt,at=nt):lt=lt.next=dt,N$2.lanes|=ut,hh|=ut}ct=ct.next}while(ct!==null&&ct!==ot);lt===null?at=nt:lt.next=st,He(nt,et.memoizedState)||(Ug=!0),et.memoizedState=nt,et.baseState=at,et.baseQueue=lt,rt.lastRenderedState=nt}if(tt=rt.interleaved,tt!==null){it=tt;do ot=it.lane,N$2.lanes|=ot,hh|=ot,it=it.next;while(it!==tt)}else it===null&&(rt.lanes=0);return[et.memoizedState,rt.dispatch]}function gi(tt){var et=di(),rt=et.queue;if(rt===null)throw Error(p$6(311));rt.lastRenderedReducer=tt;var nt=rt.dispatch,it=rt.pending,ot=et.memoizedState;if(it!==null){rt.pending=null;var at=it=it.next;do ot=tt(ot,at.action),at=at.next;while(at!==it);He(ot,et.memoizedState)||(Ug=!0),et.memoizedState=ot,et.baseQueue===null&&(et.baseState=ot),rt.lastRenderedState=ot}return[ot,nt]}function hi(){}function ii(tt,et){var rt=N$2,nt=di(),it=et(),ot=!He(nt.memoizedState,it);if(ot&&(nt.memoizedState=it,Ug=!0),nt=nt.queue,ji(ki.bind(null,rt,nt,tt),[tt]),nt.getSnapshot!==et||ot||P$3!==null&&P$3.memoizedState.tag&1){if(rt.flags|=2048,li(9,mi.bind(null,rt,nt,it,et),void 0,null),R$2===null)throw Error(p$6(349));Rh&30||ni(rt,et,it)}return it}function ni(tt,et,rt){tt.flags|=16384,tt={getSnapshot:et,value:rt},et=N$2.updateQueue,et===null?(et={lastEffect:null,stores:null},N$2.updateQueue=et,et.stores=[tt]):(rt=et.stores,rt===null?et.stores=[tt]:rt.push(tt))}function mi(tt,et,rt,nt){et.value=rt,et.getSnapshot=nt,oi(et)&&pi(tt)}function ki(tt,et,rt){return rt(function(){oi(et)&&pi(tt)})}function oi(tt){var et=tt.getSnapshot;tt=tt.value;try{var rt=et();return!He(tt,rt)}catch{return!0}}function pi(tt){var et=Zg(tt,1);et!==null&&mh(et,tt,1,-1)}function qi(tt){var et=ci();return typeof tt=="function"&&(tt=tt()),et.memoizedState=et.baseState=tt,tt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ei,lastRenderedState:tt},et.queue=tt,tt=tt.dispatch=ri.bind(null,N$2,tt),[et.memoizedState,tt]}function li(tt,et,rt,nt){return tt={tag:tt,create:et,destroy:rt,deps:nt,next:null},et=N$2.updateQueue,et===null?(et={lastEffect:null,stores:null},N$2.updateQueue=et,et.lastEffect=tt.next=tt):(rt=et.lastEffect,rt===null?et.lastEffect=tt.next=tt:(nt=rt.next,rt.next=tt,tt.next=nt,et.lastEffect=tt)),tt}function si(){return di().memoizedState}function ti(tt,et,rt,nt){var it=ci();N$2.flags|=tt,it.memoizedState=li(1|et,rt,void 0,nt===void 0?null:nt)}function ui(tt,et,rt,nt){var it=di();nt=nt===void 0?null:nt;var ot=void 0;if(O$2!==null){var at=O$2.memoizedState;if(ot=at.destroy,nt!==null&&Wh(nt,at.deps)){it.memoizedState=li(et,rt,ot,nt);return}}N$2.flags|=tt,it.memoizedState=li(1|et,rt,ot,nt)}function vi(tt,et){return ti(8390656,8,tt,et)}function ji(tt,et){return ui(2048,8,tt,et)}function wi(tt,et){return ui(4,2,tt,et)}function xi(tt,et){return ui(4,4,tt,et)}function yi(tt,et){if(typeof et=="function")return tt=tt(),et(tt),function(){et(null)};if(et!=null)return tt=tt(),et.current=tt,function(){et.current=null}}function zi(tt,et,rt){return rt=rt!=null?rt.concat([tt]):null,ui(4,4,yi.bind(null,et,tt),rt)}function Ai(){}function Bi(tt,et){var rt=di();et=et===void 0?null:et;var nt=rt.memoizedState;return nt!==null&&et!==null&&Wh(et,nt[1])?nt[0]:(rt.memoizedState=[tt,et],tt)}function Ci(tt,et){var rt=di();et=et===void 0?null:et;var nt=rt.memoizedState;return nt!==null&&et!==null&&Wh(et,nt[1])?nt[0]:(tt=tt(),rt.memoizedState=[tt,et],tt)}function Di(tt,et,rt){return Rh&21?(He(rt,et)||(rt=yc(),N$2.lanes|=rt,hh|=rt,tt.baseState=!0),et):(tt.baseState&&(tt.baseState=!1,Ug=!0),tt.memoizedState=rt)}function Ei(tt,et){var rt=C$1;C$1=rt!==0&&4>rt?rt:4,tt(!0);var nt=Qh.transition;Qh.transition={};try{tt(!1),et()}finally{C$1=rt,Qh.transition=nt}}function Fi(){return di().memoizedState}function Gi(tt,et,rt){var nt=lh(tt);if(rt={lane:nt,action:rt,hasEagerState:!1,eagerState:null,next:null},Hi(tt))Ii(et,rt);else if(rt=Yg(tt,et,rt,nt),rt!==null){var it=L$2();mh(rt,tt,nt,it),Ji(rt,et,nt)}}function ri(tt,et,rt){var nt=lh(tt),it={lane:nt,action:rt,hasEagerState:!1,eagerState:null,next:null};if(Hi(tt))Ii(et,it);else{var ot=tt.alternate;if(tt.lanes===0&&(ot===null||ot.lanes===0)&&(ot=et.lastRenderedReducer,ot!==null))try{var at=et.lastRenderedState,st=ot(at,rt);if(it.hasEagerState=!0,it.eagerState=st,He(st,at)){var lt=et.interleaved;lt===null?(it.next=it,Xg(et)):(it.next=lt.next,lt.next=it),et.interleaved=it;return}}catch{}finally{}rt=Yg(tt,et,it,nt),rt!==null&&(it=L$2(),mh(rt,tt,nt,it),Ji(rt,et,nt))}}function Hi(tt){var et=tt.alternate;return tt===N$2||et!==null&&et===N$2}function Ii(tt,et){Th=Sh=!0;var rt=tt.pending;rt===null?et.next=et:(et.next=rt.next,rt.next=et),tt.pending=et}function Ji(tt,et,rt){if(rt&4194240){var nt=et.lanes;nt&=tt.pendingLanes,rt|=nt,et.lanes=rt,Cc(tt,rt)}}var ai={readContext:Vg,useCallback:Q$2,useContext:Q$2,useEffect:Q$2,useImperativeHandle:Q$2,useInsertionEffect:Q$2,useLayoutEffect:Q$2,useMemo:Q$2,useReducer:Q$2,useRef:Q$2,useState:Q$2,useDebugValue:Q$2,useDeferredValue:Q$2,useTransition:Q$2,useMutableSource:Q$2,useSyncExternalStore:Q$2,useId:Q$2,unstable_isNewReconciler:!1},Yh={readContext:Vg,useCallback:function(tt,et){return ci().memoizedState=[tt,et===void 0?null:et],tt},useContext:Vg,useEffect:vi,useImperativeHandle:function(tt,et,rt){return rt=rt!=null?rt.concat([tt]):null,ti(4194308,4,yi.bind(null,et,tt),rt)},useLayoutEffect:function(tt,et){return ti(4194308,4,tt,et)},useInsertionEffect:function(tt,et){return ti(4,2,tt,et)},useMemo:function(tt,et){var rt=ci();return et=et===void 0?null:et,tt=tt(),rt.memoizedState=[tt,et],tt},useReducer:function(tt,et,rt){var nt=ci();return et=rt!==void 0?rt(et):et,nt.memoizedState=nt.baseState=et,tt={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:tt,lastRenderedState:et},nt.queue=tt,tt=tt.dispatch=Gi.bind(null,N$2,tt),[nt.memoizedState,tt]},useRef:function(tt){var et=ci();return tt={current:tt},et.memoizedState=tt},useState:qi,useDebugValue:Ai,useDeferredValue:function(tt){return ci().memoizedState=tt},useTransition:function(){var tt=qi(!1),et=tt[0];return tt=Ei.bind(null,tt[1]),ci().memoizedState=tt,[et,tt]},useMutableSource:function(){},useSyncExternalStore:function(tt,et,rt){var nt=N$2,it=ci();if(I$2){if(rt===void 0)throw Error(p$6(407));rt=rt()}else{if(rt=et(),R$2===null)throw Error(p$6(349));Rh&30||ni(nt,et,rt)}it.memoizedState=rt;var ot={value:rt,getSnapshot:et};return it.queue=ot,vi(ki.bind(null,nt,ot,tt),[tt]),nt.flags|=2048,li(9,mi.bind(null,nt,ot,rt,et),void 0,null),rt},useId:function(){var tt=ci(),et=R$2.identifierPrefix;if(I$2){var rt=sg,nt=rg;rt=(nt&~(1<<32-oc(nt)-1)).toString(32)+rt,et=":"+et+"R"+rt,rt=Uh++,0<rt&&(et+="H"+rt.toString(32)),et+=":"}else rt=Vh++,et=":"+et+"r"+rt.toString(32)+":";return tt.memoizedState=et},unstable_isNewReconciler:!1},Zh={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:fi,useRef:si,useState:function(){return fi(ei)},useDebugValue:Ai,useDeferredValue:function(tt){var et=di();return Di(et,O$2.memoizedState,tt)},useTransition:function(){var tt=fi(ei)[0],et=di().memoizedState;return[tt,et]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1},$h={readContext:Vg,useCallback:Bi,useContext:Vg,useEffect:ji,useImperativeHandle:zi,useInsertionEffect:wi,useLayoutEffect:xi,useMemo:Ci,useReducer:gi,useRef:si,useState:function(){return gi(ei)},useDebugValue:Ai,useDeferredValue:function(tt){var et=di();return O$2===null?et.memoizedState=tt:Di(et,O$2.memoizedState,tt)},useTransition:function(){var tt=gi(ei)[0],et=di().memoizedState;return[tt,et]},useMutableSource:hi,useSyncExternalStore:ii,useId:Fi,unstable_isNewReconciler:!1};function Ki(tt,et){try{var rt="",nt=et;do rt+=Pa(nt),nt=nt.return;while(nt);var it=rt}catch(ot){it=`
Error generating stack: `+ot.message+`
`+ot.stack}return{value:tt,source:et,stack:it,digest:null}}function Li(tt,et,rt){return{value:tt,source:null,stack:rt??null,digest:et??null}}function Mi(tt,et){try{console.error(et.value)}catch(rt){setTimeout(function(){throw rt})}}var Ni=typeof WeakMap=="function"?WeakMap:Map;function Oi(tt,et,rt){rt=ch(-1,rt),rt.tag=3,rt.payload={element:null};var nt=et.value;return rt.callback=function(){Pi||(Pi=!0,Qi=nt),Mi(tt,et)},rt}function Ri(tt,et,rt){rt=ch(-1,rt),rt.tag=3;var nt=tt.type.getDerivedStateFromError;if(typeof nt=="function"){var it=et.value;rt.payload=function(){return nt(it)},rt.callback=function(){Mi(tt,et)}}var ot=tt.stateNode;return ot!==null&&typeof ot.componentDidCatch=="function"&&(rt.callback=function(){Mi(tt,et),typeof nt!="function"&&(Si===null?Si=new Set([this]):Si.add(this));var at=et.stack;this.componentDidCatch(et.value,{componentStack:at!==null?at:""})}),rt}function Ti(tt,et,rt){var nt=tt.pingCache;if(nt===null){nt=tt.pingCache=new Ni;var it=new Set;nt.set(et,it)}else it=nt.get(et),it===void 0&&(it=new Set,nt.set(et,it));it.has(rt)||(it.add(rt),tt=Ui.bind(null,tt,et,rt),et.then(tt,tt))}function Vi(tt){do{var et;if((et=tt.tag===13)&&(et=tt.memoizedState,et=et!==null?et.dehydrated!==null:!0),et)return tt;tt=tt.return}while(tt!==null);return null}function Wi(tt,et,rt,nt,it){return tt.mode&1?(tt.flags|=65536,tt.lanes=it,tt):(tt===et?tt.flags|=65536:(tt.flags|=128,rt.flags|=131072,rt.flags&=-52805,rt.tag===1&&(rt.alternate===null?rt.tag=17:(et=ch(-1,1),et.tag=2,dh(rt,et,1))),rt.lanes|=1),tt)}var Xi=ua.ReactCurrentOwner,Ug=!1;function Yi(tt,et,rt,nt){et.child=tt===null?Ch(et,null,rt,nt):Bh(et,tt.child,rt,nt)}function Zi(tt,et,rt,nt,it){rt=rt.render;var ot=et.ref;return Tg(et,it),nt=Xh(tt,et,rt,nt,ot,it),rt=bi(),tt!==null&&!Ug?(et.updateQueue=tt.updateQueue,et.flags&=-2053,tt.lanes&=~it,$i(tt,et,it)):(I$2&&rt&&vg(et),et.flags|=1,Yi(tt,et,nt,it),et.child)}function aj(tt,et,rt,nt,it){if(tt===null){var ot=rt.type;return typeof ot=="function"&&!bj(ot)&&ot.defaultProps===void 0&&rt.compare===null&&rt.defaultProps===void 0?(et.tag=15,et.type=ot,cj(tt,et,ot,nt,it)):(tt=yh(rt.type,null,nt,et,et.mode,it),tt.ref=et.ref,tt.return=et,et.child=tt)}if(ot=tt.child,!(tt.lanes&it)){var at=ot.memoizedProps;if(rt=rt.compare,rt=rt!==null?rt:Ie$1,rt(at,nt)&&tt.ref===et.ref)return $i(tt,et,it)}return et.flags|=1,tt=wh(ot,nt),tt.ref=et.ref,tt.return=et,et.child=tt}function cj(tt,et,rt,nt,it){if(tt!==null){var ot=tt.memoizedProps;if(Ie$1(ot,nt)&&tt.ref===et.ref)if(Ug=!1,et.pendingProps=nt=ot,(tt.lanes&it)!==0)tt.flags&131072&&(Ug=!0);else return et.lanes=tt.lanes,$i(tt,et,it)}return dj(tt,et,rt,nt,it)}function ej(tt,et,rt){var nt=et.pendingProps,it=nt.children,ot=tt!==null?tt.memoizedState:null;if(nt.mode==="hidden")if(!(et.mode&1))et.memoizedState={baseLanes:0,cachePool:null,transitions:null},G$2(fj,gj),gj|=rt;else{if(!(rt&1073741824))return tt=ot!==null?ot.baseLanes|rt:rt,et.lanes=et.childLanes=1073741824,et.memoizedState={baseLanes:tt,cachePool:null,transitions:null},et.updateQueue=null,G$2(fj,gj),gj|=tt,null;et.memoizedState={baseLanes:0,cachePool:null,transitions:null},nt=ot!==null?ot.baseLanes:rt,G$2(fj,gj),gj|=nt}else ot!==null?(nt=ot.baseLanes|rt,et.memoizedState=null):nt=rt,G$2(fj,gj),gj|=nt;return Yi(tt,et,it,rt),et.child}function hj(tt,et){var rt=et.ref;(tt===null&&rt!==null||tt!==null&&tt.ref!==rt)&&(et.flags|=512,et.flags|=2097152)}function dj(tt,et,rt,nt,it){var ot=Zf(rt)?Xf:H$2.current;return ot=Yf(et,ot),Tg(et,it),rt=Xh(tt,et,rt,nt,ot,it),nt=bi(),tt!==null&&!Ug?(et.updateQueue=tt.updateQueue,et.flags&=-2053,tt.lanes&=~it,$i(tt,et,it)):(I$2&&nt&&vg(et),et.flags|=1,Yi(tt,et,rt,it),et.child)}function ij(tt,et,rt,nt,it){if(Zf(rt)){var ot=!0;cg(et)}else ot=!1;if(Tg(et,it),et.stateNode===null)jj(tt,et),ph(et,rt,nt),rh(et,rt,nt,it),nt=!0;else if(tt===null){var at=et.stateNode,st=et.memoizedProps;at.props=st;var lt=at.context,ct=rt.contextType;typeof ct=="object"&&ct!==null?ct=Vg(ct):(ct=Zf(rt)?Xf:H$2.current,ct=Yf(et,ct));var ut=rt.getDerivedStateFromProps,dt=typeof ut=="function"||typeof at.getSnapshotBeforeUpdate=="function";dt||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(st!==nt||lt!==ct)&&qh(et,at,nt,ct),$g=!1;var ft=et.memoizedState;at.state=ft,gh(et,nt,at,it),lt=et.memoizedState,st!==nt||ft!==lt||Wf.current||$g?(typeof ut=="function"&&(kh(et,rt,ut,nt),lt=et.memoizedState),(st=$g||oh(et,rt,st,nt,ft,lt,ct))?(dt||typeof at.UNSAFE_componentWillMount!="function"&&typeof at.componentWillMount!="function"||(typeof at.componentWillMount=="function"&&at.componentWillMount(),typeof at.UNSAFE_componentWillMount=="function"&&at.UNSAFE_componentWillMount()),typeof at.componentDidMount=="function"&&(et.flags|=4194308)):(typeof at.componentDidMount=="function"&&(et.flags|=4194308),et.memoizedProps=nt,et.memoizedState=lt),at.props=nt,at.state=lt,at.context=ct,nt=st):(typeof at.componentDidMount=="function"&&(et.flags|=4194308),nt=!1)}else{at=et.stateNode,bh(tt,et),st=et.memoizedProps,ct=et.type===et.elementType?st:Lg(et.type,st),at.props=ct,dt=et.pendingProps,ft=at.context,lt=rt.contextType,typeof lt=="object"&&lt!==null?lt=Vg(lt):(lt=Zf(rt)?Xf:H$2.current,lt=Yf(et,lt));var pt=rt.getDerivedStateFromProps;(ut=typeof pt=="function"||typeof at.getSnapshotBeforeUpdate=="function")||typeof at.UNSAFE_componentWillReceiveProps!="function"&&typeof at.componentWillReceiveProps!="function"||(st!==dt||ft!==lt)&&qh(et,at,nt,lt),$g=!1,ft=et.memoizedState,at.state=ft,gh(et,nt,at,it);var mt=et.memoizedState;st!==dt||ft!==mt||Wf.current||$g?(typeof pt=="function"&&(kh(et,rt,pt,nt),mt=et.memoizedState),(ct=$g||oh(et,rt,ct,nt,ft,mt,lt)||!1)?(ut||typeof at.UNSAFE_componentWillUpdate!="function"&&typeof at.componentWillUpdate!="function"||(typeof at.componentWillUpdate=="function"&&at.componentWillUpdate(nt,mt,lt),typeof at.UNSAFE_componentWillUpdate=="function"&&at.UNSAFE_componentWillUpdate(nt,mt,lt)),typeof at.componentDidUpdate=="function"&&(et.flags|=4),typeof at.getSnapshotBeforeUpdate=="function"&&(et.flags|=1024)):(typeof at.componentDidUpdate!="function"||st===tt.memoizedProps&&ft===tt.memoizedState||(et.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||st===tt.memoizedProps&&ft===tt.memoizedState||(et.flags|=1024),et.memoizedProps=nt,et.memoizedState=mt),at.props=nt,at.state=mt,at.context=lt,nt=ct):(typeof at.componentDidUpdate!="function"||st===tt.memoizedProps&&ft===tt.memoizedState||(et.flags|=4),typeof at.getSnapshotBeforeUpdate!="function"||st===tt.memoizedProps&&ft===tt.memoizedState||(et.flags|=1024),nt=!1)}return kj(tt,et,rt,nt,ot,it)}function kj(tt,et,rt,nt,it,ot){hj(tt,et);var at=(et.flags&128)!==0;if(!nt&&!at)return it&&dg(et,rt,!1),$i(tt,et,ot);nt=et.stateNode,Xi.current=et;var st=at&&typeof rt.getDerivedStateFromError!="function"?null:nt.render();return et.flags|=1,tt!==null&&at?(et.child=Bh(et,tt.child,null,ot),et.child=Bh(et,null,st,ot)):Yi(tt,et,st,ot),et.memoizedState=nt.state,it&&dg(et,rt,!0),et.child}function lj(tt){var et=tt.stateNode;et.pendingContext?ag(tt,et.pendingContext,et.pendingContext!==et.context):et.context&&ag(tt,et.context,!1),Ih(tt,et.containerInfo)}function mj(tt,et,rt,nt,it){return Ig(),Jg(it),et.flags|=256,Yi(tt,et,rt,nt),et.child}var nj={dehydrated:null,treeContext:null,retryLane:0};function oj(tt){return{baseLanes:tt,cachePool:null,transitions:null}}function pj(tt,et,rt){var nt=et.pendingProps,it=M$2.current,ot=!1,at=(et.flags&128)!==0,st;if((st=at)||(st=tt!==null&&tt.memoizedState===null?!1:(it&2)!==0),st?(ot=!0,et.flags&=-129):(tt===null||tt.memoizedState!==null)&&(it|=1),G$2(M$2,it&1),tt===null)return Eg(et),tt=et.memoizedState,tt!==null&&(tt=tt.dehydrated,tt!==null)?(et.mode&1?tt.data==="$!"?et.lanes=8:et.lanes=1073741824:et.lanes=1,null):(at=nt.children,tt=nt.fallback,ot?(nt=et.mode,ot=et.child,at={mode:"hidden",children:at},!(nt&1)&&ot!==null?(ot.childLanes=0,ot.pendingProps=at):ot=qj(at,nt,0,null),tt=Ah(tt,nt,rt,null),ot.return=et,tt.return=et,ot.sibling=tt,et.child=ot,et.child.memoizedState=oj(rt),et.memoizedState=nj,tt):rj(et,at));if(it=tt.memoizedState,it!==null&&(st=it.dehydrated,st!==null))return sj(tt,et,at,nt,st,it,rt);if(ot){ot=nt.fallback,at=et.mode,it=tt.child,st=it.sibling;var lt={mode:"hidden",children:nt.children};return!(at&1)&&et.child!==it?(nt=et.child,nt.childLanes=0,nt.pendingProps=lt,et.deletions=null):(nt=wh(it,lt),nt.subtreeFlags=it.subtreeFlags&14680064),st!==null?ot=wh(st,ot):(ot=Ah(ot,at,rt,null),ot.flags|=2),ot.return=et,nt.return=et,nt.sibling=ot,et.child=nt,nt=ot,ot=et.child,at=tt.child.memoizedState,at=at===null?oj(rt):{baseLanes:at.baseLanes|rt,cachePool:null,transitions:at.transitions},ot.memoizedState=at,ot.childLanes=tt.childLanes&~rt,et.memoizedState=nj,nt}return ot=tt.child,tt=ot.sibling,nt=wh(ot,{mode:"visible",children:nt.children}),!(et.mode&1)&&(nt.lanes=rt),nt.return=et,nt.sibling=null,tt!==null&&(rt=et.deletions,rt===null?(et.deletions=[tt],et.flags|=16):rt.push(tt)),et.child=nt,et.memoizedState=null,nt}function rj(tt,et){return et=qj({mode:"visible",children:et},tt.mode,0,null),et.return=tt,tt.child=et}function tj(tt,et,rt,nt){return nt!==null&&Jg(nt),Bh(et,tt.child,null,rt),tt=rj(et,et.pendingProps.children),tt.flags|=2,et.memoizedState=null,tt}function sj(tt,et,rt,nt,it,ot,at){if(rt)return et.flags&256?(et.flags&=-257,nt=Li(Error(p$6(422))),tj(tt,et,at,nt)):et.memoizedState!==null?(et.child=tt.child,et.flags|=128,null):(ot=nt.fallback,it=et.mode,nt=qj({mode:"visible",children:nt.children},it,0,null),ot=Ah(ot,it,at,null),ot.flags|=2,nt.return=et,ot.return=et,nt.sibling=ot,et.child=nt,et.mode&1&&Bh(et,tt.child,null,at),et.child.memoizedState=oj(at),et.memoizedState=nj,ot);if(!(et.mode&1))return tj(tt,et,at,null);if(it.data==="$!"){if(nt=it.nextSibling&&it.nextSibling.dataset,nt)var st=nt.dgst;return nt=st,ot=Error(p$6(419)),nt=Li(ot,nt,void 0),tj(tt,et,at,nt)}if(st=(at&tt.childLanes)!==0,Ug||st){if(nt=R$2,nt!==null){switch(at&-at){case 4:it=2;break;case 16:it=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:it=32;break;case 536870912:it=268435456;break;default:it=0}it=it&(nt.suspendedLanes|at)?0:it,it!==0&&it!==ot.retryLane&&(ot.retryLane=it,Zg(tt,it),mh(nt,tt,it,-1))}return uj(),nt=Li(Error(p$6(421))),tj(tt,et,at,nt)}return it.data==="$?"?(et.flags|=128,et.child=tt.child,et=vj.bind(null,tt),it._reactRetry=et,null):(tt=ot.treeContext,yg=Lf(it.nextSibling),xg=et,I$2=!0,zg=null,tt!==null&&(og[pg++]=rg,og[pg++]=sg,og[pg++]=qg,rg=tt.id,sg=tt.overflow,qg=et),et=rj(et,nt.children),et.flags|=4096,et)}function wj(tt,et,rt){tt.lanes|=et;var nt=tt.alternate;nt!==null&&(nt.lanes|=et),Sg(tt.return,et,rt)}function xj(tt,et,rt,nt,it){var ot=tt.memoizedState;ot===null?tt.memoizedState={isBackwards:et,rendering:null,renderingStartTime:0,last:nt,tail:rt,tailMode:it}:(ot.isBackwards=et,ot.rendering=null,ot.renderingStartTime=0,ot.last=nt,ot.tail=rt,ot.tailMode=it)}function yj(tt,et,rt){var nt=et.pendingProps,it=nt.revealOrder,ot=nt.tail;if(Yi(tt,et,nt.children,rt),nt=M$2.current,nt&2)nt=nt&1|2,et.flags|=128;else{if(tt!==null&&tt.flags&128)e:for(tt=et.child;tt!==null;){if(tt.tag===13)tt.memoizedState!==null&&wj(tt,rt,et);else if(tt.tag===19)wj(tt,rt,et);else if(tt.child!==null){tt.child.return=tt,tt=tt.child;continue}if(tt===et)break e;for(;tt.sibling===null;){if(tt.return===null||tt.return===et)break e;tt=tt.return}tt.sibling.return=tt.return,tt=tt.sibling}nt&=1}if(G$2(M$2,nt),!(et.mode&1))et.memoizedState=null;else switch(it){case"forwards":for(rt=et.child,it=null;rt!==null;)tt=rt.alternate,tt!==null&&Mh(tt)===null&&(it=rt),rt=rt.sibling;rt=it,rt===null?(it=et.child,et.child=null):(it=rt.sibling,rt.sibling=null),xj(et,!1,it,rt,ot);break;case"backwards":for(rt=null,it=et.child,et.child=null;it!==null;){if(tt=it.alternate,tt!==null&&Mh(tt)===null){et.child=it;break}tt=it.sibling,it.sibling=rt,rt=it,it=tt}xj(et,!0,rt,null,ot);break;case"together":xj(et,!1,null,null,void 0);break;default:et.memoizedState=null}return et.child}function jj(tt,et){!(et.mode&1)&&tt!==null&&(tt.alternate=null,et.alternate=null,et.flags|=2)}function $i(tt,et,rt){if(tt!==null&&(et.dependencies=tt.dependencies),hh|=et.lanes,!(rt&et.childLanes))return null;if(tt!==null&&et.child!==tt.child)throw Error(p$6(153));if(et.child!==null){for(tt=et.child,rt=wh(tt,tt.pendingProps),et.child=rt,rt.return=et;tt.sibling!==null;)tt=tt.sibling,rt=rt.sibling=wh(tt,tt.pendingProps),rt.return=et;rt.sibling=null}return et.child}function zj(tt,et,rt){switch(et.tag){case 3:lj(et),Ig();break;case 5:Kh(et);break;case 1:Zf(et.type)&&cg(et);break;case 4:Ih(et,et.stateNode.containerInfo);break;case 10:var nt=et.type._context,it=et.memoizedProps.value;G$2(Mg,nt._currentValue),nt._currentValue=it;break;case 13:if(nt=et.memoizedState,nt!==null)return nt.dehydrated!==null?(G$2(M$2,M$2.current&1),et.flags|=128,null):rt&et.child.childLanes?pj(tt,et,rt):(G$2(M$2,M$2.current&1),tt=$i(tt,et,rt),tt!==null?tt.sibling:null);G$2(M$2,M$2.current&1);break;case 19:if(nt=(rt&et.childLanes)!==0,tt.flags&128){if(nt)return yj(tt,et,rt);et.flags|=128}if(it=et.memoizedState,it!==null&&(it.rendering=null,it.tail=null,it.lastEffect=null),G$2(M$2,M$2.current),nt)break;return null;case 22:case 23:return et.lanes=0,ej(tt,et,rt)}return $i(tt,et,rt)}var Aj,Bj,Cj,Dj;Aj=function(tt,et){for(var rt=et.child;rt!==null;){if(rt.tag===5||rt.tag===6)tt.appendChild(rt.stateNode);else if(rt.tag!==4&&rt.child!==null){rt.child.return=rt,rt=rt.child;continue}if(rt===et)break;for(;rt.sibling===null;){if(rt.return===null||rt.return===et)return;rt=rt.return}rt.sibling.return=rt.return,rt=rt.sibling}};Bj=function(){};Cj=function(tt,et,rt,nt){var it=tt.memoizedProps;if(it!==nt){tt=et.stateNode,Hh(Eh.current);var ot=null;switch(rt){case"input":it=Ya(tt,it),nt=Ya(tt,nt),ot=[];break;case"select":it=A$2({},it,{value:void 0}),nt=A$2({},nt,{value:void 0}),ot=[];break;case"textarea":it=gb(tt,it),nt=gb(tt,nt),ot=[];break;default:typeof it.onClick!="function"&&typeof nt.onClick=="function"&&(tt.onclick=Bf)}ub(rt,nt);var at;rt=null;for(ct in it)if(!nt.hasOwnProperty(ct)&&it.hasOwnProperty(ct)&&it[ct]!=null)if(ct==="style"){var st=it[ct];for(at in st)st.hasOwnProperty(at)&&(rt||(rt={}),rt[at]="")}else ct!=="dangerouslySetInnerHTML"&&ct!=="children"&&ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&ct!=="autoFocus"&&(ea.hasOwnProperty(ct)?ot||(ot=[]):(ot=ot||[]).push(ct,null));for(ct in nt){var lt=nt[ct];if(st=it!=null?it[ct]:void 0,nt.hasOwnProperty(ct)&&lt!==st&&(lt!=null||st!=null))if(ct==="style")if(st){for(at in st)!st.hasOwnProperty(at)||lt&&lt.hasOwnProperty(at)||(rt||(rt={}),rt[at]="");for(at in lt)lt.hasOwnProperty(at)&&st[at]!==lt[at]&&(rt||(rt={}),rt[at]=lt[at])}else rt||(ot||(ot=[]),ot.push(ct,rt)),rt=lt;else ct==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,st=st?st.__html:void 0,lt!=null&&st!==lt&&(ot=ot||[]).push(ct,lt)):ct==="children"?typeof lt!="string"&&typeof lt!="number"||(ot=ot||[]).push(ct,""+lt):ct!=="suppressContentEditableWarning"&&ct!=="suppressHydrationWarning"&&(ea.hasOwnProperty(ct)?(lt!=null&&ct==="onScroll"&&D$2("scroll",tt),ot||st===lt||(ot=[])):(ot=ot||[]).push(ct,lt))}rt&&(ot=ot||[]).push("style",rt);var ct=ot;(et.updateQueue=ct)&&(et.flags|=4)}};Dj=function(tt,et,rt,nt){rt!==nt&&(et.flags|=4)};function Ej(tt,et){if(!I$2)switch(tt.tailMode){case"hidden":et=tt.tail;for(var rt=null;et!==null;)et.alternate!==null&&(rt=et),et=et.sibling;rt===null?tt.tail=null:rt.sibling=null;break;case"collapsed":rt=tt.tail;for(var nt=null;rt!==null;)rt.alternate!==null&&(nt=rt),rt=rt.sibling;nt===null?et||tt.tail===null?tt.tail=null:tt.tail.sibling=null:nt.sibling=null}}function S$2(tt){var et=tt.alternate!==null&&tt.alternate.child===tt.child,rt=0,nt=0;if(et)for(var it=tt.child;it!==null;)rt|=it.lanes|it.childLanes,nt|=it.subtreeFlags&14680064,nt|=it.flags&14680064,it.return=tt,it=it.sibling;else for(it=tt.child;it!==null;)rt|=it.lanes|it.childLanes,nt|=it.subtreeFlags,nt|=it.flags,it.return=tt,it=it.sibling;return tt.subtreeFlags|=nt,tt.childLanes=rt,et}function Fj(tt,et,rt){var nt=et.pendingProps;switch(wg(et),et.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return S$2(et),null;case 1:return Zf(et.type)&&$f(),S$2(et),null;case 3:return nt=et.stateNode,Jh(),E$2(Wf),E$2(H$2),Oh(),nt.pendingContext&&(nt.context=nt.pendingContext,nt.pendingContext=null),(tt===null||tt.child===null)&&(Gg(et)?et.flags|=4:tt===null||tt.memoizedState.isDehydrated&&!(et.flags&256)||(et.flags|=1024,zg!==null&&(Gj(zg),zg=null))),Bj(tt,et),S$2(et),null;case 5:Lh(et);var it=Hh(Gh.current);if(rt=et.type,tt!==null&&et.stateNode!=null)Cj(tt,et,rt,nt,it),tt.ref!==et.ref&&(et.flags|=512,et.flags|=2097152);else{if(!nt){if(et.stateNode===null)throw Error(p$6(166));return S$2(et),null}if(tt=Hh(Eh.current),Gg(et)){nt=et.stateNode,rt=et.type;var ot=et.memoizedProps;switch(nt[Of]=et,nt[Pf]=ot,tt=(et.mode&1)!==0,rt){case"dialog":D$2("cancel",nt),D$2("close",nt);break;case"iframe":case"object":case"embed":D$2("load",nt);break;case"video":case"audio":for(it=0;it<lf.length;it++)D$2(lf[it],nt);break;case"source":D$2("error",nt);break;case"img":case"image":case"link":D$2("error",nt),D$2("load",nt);break;case"details":D$2("toggle",nt);break;case"input":Za(nt,ot),D$2("invalid",nt);break;case"select":nt._wrapperState={wasMultiple:!!ot.multiple},D$2("invalid",nt);break;case"textarea":hb(nt,ot),D$2("invalid",nt)}ub(rt,ot),it=null;for(var at in ot)if(ot.hasOwnProperty(at)){var st=ot[at];at==="children"?typeof st=="string"?nt.textContent!==st&&(ot.suppressHydrationWarning!==!0&&Af(nt.textContent,st,tt),it=["children",st]):typeof st=="number"&&nt.textContent!==""+st&&(ot.suppressHydrationWarning!==!0&&Af(nt.textContent,st,tt),it=["children",""+st]):ea.hasOwnProperty(at)&&st!=null&&at==="onScroll"&&D$2("scroll",nt)}switch(rt){case"input":Va(nt),db(nt,ot,!0);break;case"textarea":Va(nt),jb(nt);break;case"select":case"option":break;default:typeof ot.onClick=="function"&&(nt.onclick=Bf)}nt=it,et.updateQueue=nt,nt!==null&&(et.flags|=4)}else{at=it.nodeType===9?it:it.ownerDocument,tt==="http://www.w3.org/1999/xhtml"&&(tt=kb(rt)),tt==="http://www.w3.org/1999/xhtml"?rt==="script"?(tt=at.createElement("div"),tt.innerHTML="<script><\/script>",tt=tt.removeChild(tt.firstChild)):typeof nt.is=="string"?tt=at.createElement(rt,{is:nt.is}):(tt=at.createElement(rt),rt==="select"&&(at=tt,nt.multiple?at.multiple=!0:nt.size&&(at.size=nt.size))):tt=at.createElementNS(tt,rt),tt[Of]=et,tt[Pf]=nt,Aj(tt,et,!1,!1),et.stateNode=tt;e:{switch(at=vb(rt,nt),rt){case"dialog":D$2("cancel",tt),D$2("close",tt),it=nt;break;case"iframe":case"object":case"embed":D$2("load",tt),it=nt;break;case"video":case"audio":for(it=0;it<lf.length;it++)D$2(lf[it],tt);it=nt;break;case"source":D$2("error",tt),it=nt;break;case"img":case"image":case"link":D$2("error",tt),D$2("load",tt),it=nt;break;case"details":D$2("toggle",tt),it=nt;break;case"input":Za(tt,nt),it=Ya(tt,nt),D$2("invalid",tt);break;case"option":it=nt;break;case"select":tt._wrapperState={wasMultiple:!!nt.multiple},it=A$2({},nt,{value:void 0}),D$2("invalid",tt);break;case"textarea":hb(tt,nt),it=gb(tt,nt),D$2("invalid",tt);break;default:it=nt}ub(rt,it),st=it;for(ot in st)if(st.hasOwnProperty(ot)){var lt=st[ot];ot==="style"?sb(tt,lt):ot==="dangerouslySetInnerHTML"?(lt=lt?lt.__html:void 0,lt!=null&&nb(tt,lt)):ot==="children"?typeof lt=="string"?(rt!=="textarea"||lt!=="")&&ob(tt,lt):typeof lt=="number"&&ob(tt,""+lt):ot!=="suppressContentEditableWarning"&&ot!=="suppressHydrationWarning"&&ot!=="autoFocus"&&(ea.hasOwnProperty(ot)?lt!=null&&ot==="onScroll"&&D$2("scroll",tt):lt!=null&&ta(tt,ot,lt,at))}switch(rt){case"input":Va(tt),db(tt,nt,!1);break;case"textarea":Va(tt),jb(tt);break;case"option":nt.value!=null&&tt.setAttribute("value",""+Sa(nt.value));break;case"select":tt.multiple=!!nt.multiple,ot=nt.value,ot!=null?fb(tt,!!nt.multiple,ot,!1):nt.defaultValue!=null&&fb(tt,!!nt.multiple,nt.defaultValue,!0);break;default:typeof it.onClick=="function"&&(tt.onclick=Bf)}switch(rt){case"button":case"input":case"select":case"textarea":nt=!!nt.autoFocus;break e;case"img":nt=!0;break e;default:nt=!1}}nt&&(et.flags|=4)}et.ref!==null&&(et.flags|=512,et.flags|=2097152)}return S$2(et),null;case 6:if(tt&&et.stateNode!=null)Dj(tt,et,tt.memoizedProps,nt);else{if(typeof nt!="string"&&et.stateNode===null)throw Error(p$6(166));if(rt=Hh(Gh.current),Hh(Eh.current),Gg(et)){if(nt=et.stateNode,rt=et.memoizedProps,nt[Of]=et,(ot=nt.nodeValue!==rt)&&(tt=xg,tt!==null))switch(tt.tag){case 3:Af(nt.nodeValue,rt,(tt.mode&1)!==0);break;case 5:tt.memoizedProps.suppressHydrationWarning!==!0&&Af(nt.nodeValue,rt,(tt.mode&1)!==0)}ot&&(et.flags|=4)}else nt=(rt.nodeType===9?rt:rt.ownerDocument).createTextNode(nt),nt[Of]=et,et.stateNode=nt}return S$2(et),null;case 13:if(E$2(M$2),nt=et.memoizedState,tt===null||tt.memoizedState!==null&&tt.memoizedState.dehydrated!==null){if(I$2&&yg!==null&&et.mode&1&&!(et.flags&128))Hg(),Ig(),et.flags|=98560,ot=!1;else if(ot=Gg(et),nt!==null&&nt.dehydrated!==null){if(tt===null){if(!ot)throw Error(p$6(318));if(ot=et.memoizedState,ot=ot!==null?ot.dehydrated:null,!ot)throw Error(p$6(317));ot[Of]=et}else Ig(),!(et.flags&128)&&(et.memoizedState=null),et.flags|=4;S$2(et),ot=!1}else zg!==null&&(Gj(zg),zg=null),ot=!0;if(!ot)return et.flags&65536?et:null}return et.flags&128?(et.lanes=rt,et):(nt=nt!==null,nt!==(tt!==null&&tt.memoizedState!==null)&&nt&&(et.child.flags|=8192,et.mode&1&&(tt===null||M$2.current&1?T$1===0&&(T$1=3):uj())),et.updateQueue!==null&&(et.flags|=4),S$2(et),null);case 4:return Jh(),Bj(tt,et),tt===null&&sf(et.stateNode.containerInfo),S$2(et),null;case 10:return Rg(et.type._context),S$2(et),null;case 17:return Zf(et.type)&&$f(),S$2(et),null;case 19:if(E$2(M$2),ot=et.memoizedState,ot===null)return S$2(et),null;if(nt=(et.flags&128)!==0,at=ot.rendering,at===null)if(nt)Ej(ot,!1);else{if(T$1!==0||tt!==null&&tt.flags&128)for(tt=et.child;tt!==null;){if(at=Mh(tt),at!==null){for(et.flags|=128,Ej(ot,!1),nt=at.updateQueue,nt!==null&&(et.updateQueue=nt,et.flags|=4),et.subtreeFlags=0,nt=rt,rt=et.child;rt!==null;)ot=rt,tt=nt,ot.flags&=14680066,at=ot.alternate,at===null?(ot.childLanes=0,ot.lanes=tt,ot.child=null,ot.subtreeFlags=0,ot.memoizedProps=null,ot.memoizedState=null,ot.updateQueue=null,ot.dependencies=null,ot.stateNode=null):(ot.childLanes=at.childLanes,ot.lanes=at.lanes,ot.child=at.child,ot.subtreeFlags=0,ot.deletions=null,ot.memoizedProps=at.memoizedProps,ot.memoizedState=at.memoizedState,ot.updateQueue=at.updateQueue,ot.type=at.type,tt=at.dependencies,ot.dependencies=tt===null?null:{lanes:tt.lanes,firstContext:tt.firstContext}),rt=rt.sibling;return G$2(M$2,M$2.current&1|2),et.child}tt=tt.sibling}ot.tail!==null&&B$2()>Hj&&(et.flags|=128,nt=!0,Ej(ot,!1),et.lanes=4194304)}else{if(!nt)if(tt=Mh(at),tt!==null){if(et.flags|=128,nt=!0,rt=tt.updateQueue,rt!==null&&(et.updateQueue=rt,et.flags|=4),Ej(ot,!0),ot.tail===null&&ot.tailMode==="hidden"&&!at.alternate&&!I$2)return S$2(et),null}else 2*B$2()-ot.renderingStartTime>Hj&&rt!==1073741824&&(et.flags|=128,nt=!0,Ej(ot,!1),et.lanes=4194304);ot.isBackwards?(at.sibling=et.child,et.child=at):(rt=ot.last,rt!==null?rt.sibling=at:et.child=at,ot.last=at)}return ot.tail!==null?(et=ot.tail,ot.rendering=et,ot.tail=et.sibling,ot.renderingStartTime=B$2(),et.sibling=null,rt=M$2.current,G$2(M$2,nt?rt&1|2:rt&1),et):(S$2(et),null);case 22:case 23:return Ij(),nt=et.memoizedState!==null,tt!==null&&tt.memoizedState!==null!==nt&&(et.flags|=8192),nt&&et.mode&1?gj&1073741824&&(S$2(et),et.subtreeFlags&6&&(et.flags|=8192)):S$2(et),null;case 24:return null;case 25:return null}throw Error(p$6(156,et.tag))}function Jj(tt,et){switch(wg(et),et.tag){case 1:return Zf(et.type)&&$f(),tt=et.flags,tt&65536?(et.flags=tt&-65537|128,et):null;case 3:return Jh(),E$2(Wf),E$2(H$2),Oh(),tt=et.flags,tt&65536&&!(tt&128)?(et.flags=tt&-65537|128,et):null;case 5:return Lh(et),null;case 13:if(E$2(M$2),tt=et.memoizedState,tt!==null&&tt.dehydrated!==null){if(et.alternate===null)throw Error(p$6(340));Ig()}return tt=et.flags,tt&65536?(et.flags=tt&-65537|128,et):null;case 19:return E$2(M$2),null;case 4:return Jh(),null;case 10:return Rg(et.type._context),null;case 22:case 23:return Ij(),null;case 24:return null;default:return null}}var Kj=!1,U$2=!1,Lj=typeof WeakSet=="function"?WeakSet:Set,V$1=null;function Mj(tt,et){var rt=tt.ref;if(rt!==null)if(typeof rt=="function")try{rt(null)}catch(nt){W$2(tt,et,nt)}else rt.current=null}function Nj(tt,et,rt){try{rt()}catch(nt){W$2(tt,et,nt)}}var Oj=!1;function Pj(tt,et){if(Cf=dd,tt=Me(),Ne(tt)){if("selectionStart"in tt)var rt={start:tt.selectionStart,end:tt.selectionEnd};else e:{rt=(rt=tt.ownerDocument)&&rt.defaultView||window;var nt=rt.getSelection&&rt.getSelection();if(nt&&nt.rangeCount!==0){rt=nt.anchorNode;var it=nt.anchorOffset,ot=nt.focusNode;nt=nt.focusOffset;try{rt.nodeType,ot.nodeType}catch{rt=null;break e}var at=0,st=-1,lt=-1,ct=0,ut=0,dt=tt,ft=null;t:for(;;){for(var pt;dt!==rt||it!==0&&dt.nodeType!==3||(st=at+it),dt!==ot||nt!==0&&dt.nodeType!==3||(lt=at+nt),dt.nodeType===3&&(at+=dt.nodeValue.length),(pt=dt.firstChild)!==null;)ft=dt,dt=pt;for(;;){if(dt===tt)break t;if(ft===rt&&++ct===it&&(st=at),ft===ot&&++ut===nt&&(lt=at),(pt=dt.nextSibling)!==null)break;dt=ft,ft=dt.parentNode}dt=pt}rt=st===-1||lt===-1?null:{start:st,end:lt}}else rt=null}rt=rt||{start:0,end:0}}else rt=null;for(Df={focusedElem:tt,selectionRange:rt},dd=!1,V$1=et;V$1!==null;)if(et=V$1,tt=et.child,(et.subtreeFlags&1028)!==0&&tt!==null)tt.return=et,V$1=tt;else for(;V$1!==null;){et=V$1;try{var mt=et.alternate;if(et.flags&1024)switch(et.tag){case 0:case 11:case 15:break;case 1:if(mt!==null){var ht=mt.memoizedProps,gt=mt.memoizedState,vt=et.stateNode,yt=vt.getSnapshotBeforeUpdate(et.elementType===et.type?ht:Lg(et.type,ht),gt);vt.__reactInternalSnapshotBeforeUpdate=yt}break;case 3:var bt=et.stateNode.containerInfo;bt.nodeType===1?bt.textContent="":bt.nodeType===9&&bt.documentElement&&bt.removeChild(bt.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(p$6(163))}}catch(xt){W$2(et,et.return,xt)}if(tt=et.sibling,tt!==null){tt.return=et.return,V$1=tt;break}V$1=et.return}return mt=Oj,Oj=!1,mt}function Qj(tt,et,rt){var nt=et.updateQueue;if(nt=nt!==null?nt.lastEffect:null,nt!==null){var it=nt=nt.next;do{if((it.tag&tt)===tt){var ot=it.destroy;it.destroy=void 0,ot!==void 0&&Nj(et,rt,ot)}it=it.next}while(it!==nt)}}function Rj(tt,et){if(et=et.updateQueue,et=et!==null?et.lastEffect:null,et!==null){var rt=et=et.next;do{if((rt.tag&tt)===tt){var nt=rt.create;rt.destroy=nt()}rt=rt.next}while(rt!==et)}}function Sj(tt){var et=tt.ref;if(et!==null){var rt=tt.stateNode;switch(tt.tag){case 5:tt=rt;break;default:tt=rt}typeof et=="function"?et(tt):et.current=tt}}function Tj(tt){var et=tt.alternate;et!==null&&(tt.alternate=null,Tj(et)),tt.child=null,tt.deletions=null,tt.sibling=null,tt.tag===5&&(et=tt.stateNode,et!==null&&(delete et[Of],delete et[Pf],delete et[of],delete et[Qf],delete et[Rf])),tt.stateNode=null,tt.return=null,tt.dependencies=null,tt.memoizedProps=null,tt.memoizedState=null,tt.pendingProps=null,tt.stateNode=null,tt.updateQueue=null}function Uj(tt){return tt.tag===5||tt.tag===3||tt.tag===4}function Vj(tt){e:for(;;){for(;tt.sibling===null;){if(tt.return===null||Uj(tt.return))return null;tt=tt.return}for(tt.sibling.return=tt.return,tt=tt.sibling;tt.tag!==5&&tt.tag!==6&&tt.tag!==18;){if(tt.flags&2||tt.child===null||tt.tag===4)continue e;tt.child.return=tt,tt=tt.child}if(!(tt.flags&2))return tt.stateNode}}function Wj(tt,et,rt){var nt=tt.tag;if(nt===5||nt===6)tt=tt.stateNode,et?rt.nodeType===8?rt.parentNode.insertBefore(tt,et):rt.insertBefore(tt,et):(rt.nodeType===8?(et=rt.parentNode,et.insertBefore(tt,rt)):(et=rt,et.appendChild(tt)),rt=rt._reactRootContainer,rt!=null||et.onclick!==null||(et.onclick=Bf));else if(nt!==4&&(tt=tt.child,tt!==null))for(Wj(tt,et,rt),tt=tt.sibling;tt!==null;)Wj(tt,et,rt),tt=tt.sibling}function Xj(tt,et,rt){var nt=tt.tag;if(nt===5||nt===6)tt=tt.stateNode,et?rt.insertBefore(tt,et):rt.appendChild(tt);else if(nt!==4&&(tt=tt.child,tt!==null))for(Xj(tt,et,rt),tt=tt.sibling;tt!==null;)Xj(tt,et,rt),tt=tt.sibling}var X$2=null,Yj=!1;function Zj(tt,et,rt){for(rt=rt.child;rt!==null;)ak(tt,et,rt),rt=rt.sibling}function ak(tt,et,rt){if(lc&&typeof lc.onCommitFiberUnmount=="function")try{lc.onCommitFiberUnmount(kc,rt)}catch{}switch(rt.tag){case 5:U$2||Mj(rt,et);case 6:var nt=X$2,it=Yj;X$2=null,Zj(tt,et,rt),X$2=nt,Yj=it,X$2!==null&&(Yj?(tt=X$2,rt=rt.stateNode,tt.nodeType===8?tt.parentNode.removeChild(rt):tt.removeChild(rt)):X$2.removeChild(rt.stateNode));break;case 18:X$2!==null&&(Yj?(tt=X$2,rt=rt.stateNode,tt.nodeType===8?Kf(tt.parentNode,rt):tt.nodeType===1&&Kf(tt,rt),bd(tt)):Kf(X$2,rt.stateNode));break;case 4:nt=X$2,it=Yj,X$2=rt.stateNode.containerInfo,Yj=!0,Zj(tt,et,rt),X$2=nt,Yj=it;break;case 0:case 11:case 14:case 15:if(!U$2&&(nt=rt.updateQueue,nt!==null&&(nt=nt.lastEffect,nt!==null))){it=nt=nt.next;do{var ot=it,at=ot.destroy;ot=ot.tag,at!==void 0&&(ot&2||ot&4)&&Nj(rt,et,at),it=it.next}while(it!==nt)}Zj(tt,et,rt);break;case 1:if(!U$2&&(Mj(rt,et),nt=rt.stateNode,typeof nt.componentWillUnmount=="function"))try{nt.props=rt.memoizedProps,nt.state=rt.memoizedState,nt.componentWillUnmount()}catch(st){W$2(rt,et,st)}Zj(tt,et,rt);break;case 21:Zj(tt,et,rt);break;case 22:rt.mode&1?(U$2=(nt=U$2)||rt.memoizedState!==null,Zj(tt,et,rt),U$2=nt):Zj(tt,et,rt);break;default:Zj(tt,et,rt)}}function bk(tt){var et=tt.updateQueue;if(et!==null){tt.updateQueue=null;var rt=tt.stateNode;rt===null&&(rt=tt.stateNode=new Lj),et.forEach(function(nt){var it=ck.bind(null,tt,nt);rt.has(nt)||(rt.add(nt),nt.then(it,it))})}}function dk(tt,et){var rt=et.deletions;if(rt!==null)for(var nt=0;nt<rt.length;nt++){var it=rt[nt];try{var ot=tt,at=et,st=at;e:for(;st!==null;){switch(st.tag){case 5:X$2=st.stateNode,Yj=!1;break e;case 3:X$2=st.stateNode.containerInfo,Yj=!0;break e;case 4:X$2=st.stateNode.containerInfo,Yj=!0;break e}st=st.return}if(X$2===null)throw Error(p$6(160));ak(ot,at,it),X$2=null,Yj=!1;var lt=it.alternate;lt!==null&&(lt.return=null),it.return=null}catch(ct){W$2(it,et,ct)}}if(et.subtreeFlags&12854)for(et=et.child;et!==null;)ek(et,tt),et=et.sibling}function ek(tt,et){var rt=tt.alternate,nt=tt.flags;switch(tt.tag){case 0:case 11:case 14:case 15:if(dk(et,tt),fk(tt),nt&4){try{Qj(3,tt,tt.return),Rj(3,tt)}catch(ht){W$2(tt,tt.return,ht)}try{Qj(5,tt,tt.return)}catch(ht){W$2(tt,tt.return,ht)}}break;case 1:dk(et,tt),fk(tt),nt&512&&rt!==null&&Mj(rt,rt.return);break;case 5:if(dk(et,tt),fk(tt),nt&512&&rt!==null&&Mj(rt,rt.return),tt.flags&32){var it=tt.stateNode;try{ob(it,"")}catch(ht){W$2(tt,tt.return,ht)}}if(nt&4&&(it=tt.stateNode,it!=null)){var ot=tt.memoizedProps,at=rt!==null?rt.memoizedProps:ot,st=tt.type,lt=tt.updateQueue;if(tt.updateQueue=null,lt!==null)try{st==="input"&&ot.type==="radio"&&ot.name!=null&&ab$1(it,ot),vb(st,at);var ct=vb(st,ot);for(at=0;at<lt.length;at+=2){var ut=lt[at],dt=lt[at+1];ut==="style"?sb(it,dt):ut==="dangerouslySetInnerHTML"?nb(it,dt):ut==="children"?ob(it,dt):ta(it,ut,dt,ct)}switch(st){case"input":bb(it,ot);break;case"textarea":ib(it,ot);break;case"select":var ft=it._wrapperState.wasMultiple;it._wrapperState.wasMultiple=!!ot.multiple;var pt=ot.value;pt!=null?fb(it,!!ot.multiple,pt,!1):ft!==!!ot.multiple&&(ot.defaultValue!=null?fb(it,!!ot.multiple,ot.defaultValue,!0):fb(it,!!ot.multiple,ot.multiple?[]:"",!1))}it[Pf]=ot}catch(ht){W$2(tt,tt.return,ht)}}break;case 6:if(dk(et,tt),fk(tt),nt&4){if(tt.stateNode===null)throw Error(p$6(162));it=tt.stateNode,ot=tt.memoizedProps;try{it.nodeValue=ot}catch(ht){W$2(tt,tt.return,ht)}}break;case 3:if(dk(et,tt),fk(tt),nt&4&&rt!==null&&rt.memoizedState.isDehydrated)try{bd(et.containerInfo)}catch(ht){W$2(tt,tt.return,ht)}break;case 4:dk(et,tt),fk(tt);break;case 13:dk(et,tt),fk(tt),it=tt.child,it.flags&8192&&(ot=it.memoizedState!==null,it.stateNode.isHidden=ot,!ot||it.alternate!==null&&it.alternate.memoizedState!==null||(gk=B$2())),nt&4&&bk(tt);break;case 22:if(ut=rt!==null&&rt.memoizedState!==null,tt.mode&1?(U$2=(ct=U$2)||ut,dk(et,tt),U$2=ct):dk(et,tt),fk(tt),nt&8192){if(ct=tt.memoizedState!==null,(tt.stateNode.isHidden=ct)&&!ut&&tt.mode&1)for(V$1=tt,ut=tt.child;ut!==null;){for(dt=V$1=ut;V$1!==null;){switch(ft=V$1,pt=ft.child,ft.tag){case 0:case 11:case 14:case 15:Qj(4,ft,ft.return);break;case 1:Mj(ft,ft.return);var mt=ft.stateNode;if(typeof mt.componentWillUnmount=="function"){nt=ft,rt=ft.return;try{et=nt,mt.props=et.memoizedProps,mt.state=et.memoizedState,mt.componentWillUnmount()}catch(ht){W$2(nt,rt,ht)}}break;case 5:Mj(ft,ft.return);break;case 22:if(ft.memoizedState!==null){hk(dt);continue}}pt!==null?(pt.return=ft,V$1=pt):hk(dt)}ut=ut.sibling}e:for(ut=null,dt=tt;;){if(dt.tag===5){if(ut===null){ut=dt;try{it=dt.stateNode,ct?(ot=it.style,typeof ot.setProperty=="function"?ot.setProperty("display","none","important"):ot.display="none"):(st=dt.stateNode,lt=dt.memoizedProps.style,at=lt!=null&&lt.hasOwnProperty("display")?lt.display:null,st.style.display=rb("display",at))}catch(ht){W$2(tt,tt.return,ht)}}}else if(dt.tag===6){if(ut===null)try{dt.stateNode.nodeValue=ct?"":dt.memoizedProps}catch(ht){W$2(tt,tt.return,ht)}}else if((dt.tag!==22&&dt.tag!==23||dt.memoizedState===null||dt===tt)&&dt.child!==null){dt.child.return=dt,dt=dt.child;continue}if(dt===tt)break e;for(;dt.sibling===null;){if(dt.return===null||dt.return===tt)break e;ut===dt&&(ut=null),dt=dt.return}ut===dt&&(ut=null),dt.sibling.return=dt.return,dt=dt.sibling}}break;case 19:dk(et,tt),fk(tt),nt&4&&bk(tt);break;case 21:break;default:dk(et,tt),fk(tt)}}function fk(tt){var et=tt.flags;if(et&2){try{e:{for(var rt=tt.return;rt!==null;){if(Uj(rt)){var nt=rt;break e}rt=rt.return}throw Error(p$6(160))}switch(nt.tag){case 5:var it=nt.stateNode;nt.flags&32&&(ob(it,""),nt.flags&=-33);var ot=Vj(tt);Xj(tt,ot,it);break;case 3:case 4:var at=nt.stateNode.containerInfo,st=Vj(tt);Wj(tt,st,at);break;default:throw Error(p$6(161))}}catch(lt){W$2(tt,tt.return,lt)}tt.flags&=-3}et&4096&&(tt.flags&=-4097)}function ik(tt,et,rt){V$1=tt,jk(tt)}function jk(tt,et,rt){for(var nt=(tt.mode&1)!==0;V$1!==null;){var it=V$1,ot=it.child;if(it.tag===22&&nt){var at=it.memoizedState!==null||Kj;if(!at){var st=it.alternate,lt=st!==null&&st.memoizedState!==null||U$2;st=Kj;var ct=U$2;if(Kj=at,(U$2=lt)&&!ct)for(V$1=it;V$1!==null;)at=V$1,lt=at.child,at.tag===22&&at.memoizedState!==null?kk(it):lt!==null?(lt.return=at,V$1=lt):kk(it);for(;ot!==null;)V$1=ot,jk(ot),ot=ot.sibling;V$1=it,Kj=st,U$2=ct}lk(tt)}else it.subtreeFlags&8772&&ot!==null?(ot.return=it,V$1=ot):lk(tt)}}function lk(tt){for(;V$1!==null;){var et=V$1;if(et.flags&8772){var rt=et.alternate;try{if(et.flags&8772)switch(et.tag){case 0:case 11:case 15:U$2||Rj(5,et);break;case 1:var nt=et.stateNode;if(et.flags&4&&!U$2)if(rt===null)nt.componentDidMount();else{var it=et.elementType===et.type?rt.memoizedProps:Lg(et.type,rt.memoizedProps);nt.componentDidUpdate(it,rt.memoizedState,nt.__reactInternalSnapshotBeforeUpdate)}var ot=et.updateQueue;ot!==null&&ih(et,ot,nt);break;case 3:var at=et.updateQueue;if(at!==null){if(rt=null,et.child!==null)switch(et.child.tag){case 5:rt=et.child.stateNode;break;case 1:rt=et.child.stateNode}ih(et,at,rt)}break;case 5:var st=et.stateNode;if(rt===null&&et.flags&4){rt=st;var lt=et.memoizedProps;switch(et.type){case"button":case"input":case"select":case"textarea":lt.autoFocus&&rt.focus();break;case"img":lt.src&&(rt.src=lt.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(et.memoizedState===null){var ct=et.alternate;if(ct!==null){var ut=ct.memoizedState;if(ut!==null){var dt=ut.dehydrated;dt!==null&&bd(dt)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(p$6(163))}U$2||et.flags&512&&Sj(et)}catch(ft){W$2(et,et.return,ft)}}if(et===tt){V$1=null;break}if(rt=et.sibling,rt!==null){rt.return=et.return,V$1=rt;break}V$1=et.return}}function hk(tt){for(;V$1!==null;){var et=V$1;if(et===tt){V$1=null;break}var rt=et.sibling;if(rt!==null){rt.return=et.return,V$1=rt;break}V$1=et.return}}function kk(tt){for(;V$1!==null;){var et=V$1;try{switch(et.tag){case 0:case 11:case 15:var rt=et.return;try{Rj(4,et)}catch(lt){W$2(et,rt,lt)}break;case 1:var nt=et.stateNode;if(typeof nt.componentDidMount=="function"){var it=et.return;try{nt.componentDidMount()}catch(lt){W$2(et,it,lt)}}var ot=et.return;try{Sj(et)}catch(lt){W$2(et,ot,lt)}break;case 5:var at=et.return;try{Sj(et)}catch(lt){W$2(et,at,lt)}}}catch(lt){W$2(et,et.return,lt)}if(et===tt){V$1=null;break}var st=et.sibling;if(st!==null){st.return=et.return,V$1=st;break}V$1=et.return}}var mk=Math.ceil,nk=ua.ReactCurrentDispatcher,ok=ua.ReactCurrentOwner,pk=ua.ReactCurrentBatchConfig,K$1=0,R$2=null,Y$1=null,Z$2=0,gj=0,fj=Uf(0),T$1=0,qk=null,hh=0,rk=0,sk=0,tk=null,uk=null,gk=0,Hj=1/0,vk=null,Pi=!1,Qi=null,Si=null,wk=!1,xk=null,yk=0,zk=0,Ak=null,Bk=-1,Ck=0;function L$2(){return K$1&6?B$2():Bk!==-1?Bk:Bk=B$2()}function lh(tt){return tt.mode&1?K$1&2&&Z$2!==0?Z$2&-Z$2:Kg.transition!==null?(Ck===0&&(Ck=yc()),Ck):(tt=C$1,tt!==0||(tt=window.event,tt=tt===void 0?16:jd(tt.type)),tt):1}function mh(tt,et,rt,nt){if(50<zk)throw zk=0,Ak=null,Error(p$6(185));Ac(tt,rt,nt),(!(K$1&2)||tt!==R$2)&&(tt===R$2&&(!(K$1&2)&&(rk|=rt),T$1===4&&Dk(tt,Z$2)),Ek(tt,nt),rt===1&&K$1===0&&!(et.mode&1)&&(Hj=B$2()+500,fg&&jg()))}function Ek(tt,et){var rt=tt.callbackNode;wc(tt,et);var nt=uc(tt,tt===R$2?Z$2:0);if(nt===0)rt!==null&&bc(rt),tt.callbackNode=null,tt.callbackPriority=0;else if(et=nt&-nt,tt.callbackPriority!==et){if(rt!=null&&bc(rt),et===1)tt.tag===0?ig(Fk.bind(null,tt)):hg(Fk.bind(null,tt)),Jf(function(){!(K$1&6)&&jg()}),rt=null;else{switch(Dc(nt)){case 1:rt=fc;break;case 4:rt=gc;break;case 16:rt=hc;break;case 536870912:rt=jc;break;default:rt=hc}rt=Gk(rt,Hk.bind(null,tt))}tt.callbackPriority=et,tt.callbackNode=rt}}function Hk(tt,et){if(Bk=-1,Ck=0,K$1&6)throw Error(p$6(327));var rt=tt.callbackNode;if(Ik()&&tt.callbackNode!==rt)return null;var nt=uc(tt,tt===R$2?Z$2:0);if(nt===0)return null;if(nt&30||nt&tt.expiredLanes||et)et=Jk(tt,nt);else{et=nt;var it=K$1;K$1|=2;var ot=Kk();(R$2!==tt||Z$2!==et)&&(vk=null,Hj=B$2()+500,Lk(tt,et));do try{Mk();break}catch(st){Nk(tt,st)}while(1);Qg(),nk.current=ot,K$1=it,Y$1!==null?et=0:(R$2=null,Z$2=0,et=T$1)}if(et!==0){if(et===2&&(it=xc(tt),it!==0&&(nt=it,et=Ok(tt,it))),et===1)throw rt=qk,Lk(tt,0),Dk(tt,nt),Ek(tt,B$2()),rt;if(et===6)Dk(tt,nt);else{if(it=tt.current.alternate,!(nt&30)&&!Pk(it)&&(et=Jk(tt,nt),et===2&&(ot=xc(tt),ot!==0&&(nt=ot,et=Ok(tt,ot))),et===1))throw rt=qk,Lk(tt,0),Dk(tt,nt),Ek(tt,B$2()),rt;switch(tt.finishedWork=it,tt.finishedLanes=nt,et){case 0:case 1:throw Error(p$6(345));case 2:Qk(tt,uk,vk);break;case 3:if(Dk(tt,nt),(nt&130023424)===nt&&(et=gk+500-B$2(),10<et)){if(uc(tt,0)!==0)break;if(it=tt.suspendedLanes,(it&nt)!==nt){L$2(),tt.pingedLanes|=tt.suspendedLanes&it;break}tt.timeoutHandle=Ff(Qk.bind(null,tt,uk,vk),et);break}Qk(tt,uk,vk);break;case 4:if(Dk(tt,nt),(nt&4194240)===nt)break;for(et=tt.eventTimes,it=-1;0<nt;){var at=31-oc(nt);ot=1<<at,at=et[at],at>it&&(it=at),nt&=~ot}if(nt=it,nt=B$2()-nt,nt=(120>nt?120:480>nt?480:1080>nt?1080:1920>nt?1920:3e3>nt?3e3:4320>nt?4320:1960*mk(nt/1960))-nt,10<nt){tt.timeoutHandle=Ff(Qk.bind(null,tt,uk,vk),nt);break}Qk(tt,uk,vk);break;case 5:Qk(tt,uk,vk);break;default:throw Error(p$6(329))}}}return Ek(tt,B$2()),tt.callbackNode===rt?Hk.bind(null,tt):null}function Ok(tt,et){var rt=tk;return tt.current.memoizedState.isDehydrated&&(Lk(tt,et).flags|=256),tt=Jk(tt,et),tt!==2&&(et=uk,uk=rt,et!==null&&Gj(et)),tt}function Gj(tt){uk===null?uk=tt:uk.push.apply(uk,tt)}function Pk(tt){for(var et=tt;;){if(et.flags&16384){var rt=et.updateQueue;if(rt!==null&&(rt=rt.stores,rt!==null))for(var nt=0;nt<rt.length;nt++){var it=rt[nt],ot=it.getSnapshot;it=it.value;try{if(!He(ot(),it))return!1}catch{return!1}}}if(rt=et.child,et.subtreeFlags&16384&&rt!==null)rt.return=et,et=rt;else{if(et===tt)break;for(;et.sibling===null;){if(et.return===null||et.return===tt)return!0;et=et.return}et.sibling.return=et.return,et=et.sibling}}return!0}function Dk(tt,et){for(et&=~sk,et&=~rk,tt.suspendedLanes|=et,tt.pingedLanes&=~et,tt=tt.expirationTimes;0<et;){var rt=31-oc(et),nt=1<<rt;tt[rt]=-1,et&=~nt}}function Fk(tt){if(K$1&6)throw Error(p$6(327));Ik();var et=uc(tt,0);if(!(et&1))return Ek(tt,B$2()),null;var rt=Jk(tt,et);if(tt.tag!==0&&rt===2){var nt=xc(tt);nt!==0&&(et=nt,rt=Ok(tt,nt))}if(rt===1)throw rt=qk,Lk(tt,0),Dk(tt,et),Ek(tt,B$2()),rt;if(rt===6)throw Error(p$6(345));return tt.finishedWork=tt.current.alternate,tt.finishedLanes=et,Qk(tt,uk,vk),Ek(tt,B$2()),null}function Rk(tt,et){var rt=K$1;K$1|=1;try{return tt(et)}finally{K$1=rt,K$1===0&&(Hj=B$2()+500,fg&&jg())}}function Sk(tt){xk!==null&&xk.tag===0&&!(K$1&6)&&Ik();var et=K$1;K$1|=1;var rt=pk.transition,nt=C$1;try{if(pk.transition=null,C$1=1,tt)return tt()}finally{C$1=nt,pk.transition=rt,K$1=et,!(K$1&6)&&jg()}}function Ij(){gj=fj.current,E$2(fj)}function Lk(tt,et){tt.finishedWork=null,tt.finishedLanes=0;var rt=tt.timeoutHandle;if(rt!==-1&&(tt.timeoutHandle=-1,Gf(rt)),Y$1!==null)for(rt=Y$1.return;rt!==null;){var nt=rt;switch(wg(nt),nt.tag){case 1:nt=nt.type.childContextTypes,nt!=null&&$f();break;case 3:Jh(),E$2(Wf),E$2(H$2),Oh();break;case 5:Lh(nt);break;case 4:Jh();break;case 13:E$2(M$2);break;case 19:E$2(M$2);break;case 10:Rg(nt.type._context);break;case 22:case 23:Ij()}rt=rt.return}if(R$2=tt,Y$1=tt=wh(tt.current,null),Z$2=gj=et,T$1=0,qk=null,sk=rk=hh=0,uk=tk=null,Wg!==null){for(et=0;et<Wg.length;et++)if(rt=Wg[et],nt=rt.interleaved,nt!==null){rt.interleaved=null;var it=nt.next,ot=rt.pending;if(ot!==null){var at=ot.next;ot.next=it,nt.next=at}rt.pending=nt}Wg=null}return tt}function Nk(tt,et){do{var rt=Y$1;try{if(Qg(),Ph.current=ai,Sh){for(var nt=N$2.memoizedState;nt!==null;){var it=nt.queue;it!==null&&(it.pending=null),nt=nt.next}Sh=!1}if(Rh=0,P$3=O$2=N$2=null,Th=!1,Uh=0,ok.current=null,rt===null||rt.return===null){T$1=1,qk=et,Y$1=null;break}e:{var ot=tt,at=rt.return,st=rt,lt=et;if(et=Z$2,st.flags|=32768,lt!==null&&typeof lt=="object"&&typeof lt.then=="function"){var ct=lt,ut=st,dt=ut.tag;if(!(ut.mode&1)&&(dt===0||dt===11||dt===15)){var ft=ut.alternate;ft?(ut.updateQueue=ft.updateQueue,ut.memoizedState=ft.memoizedState,ut.lanes=ft.lanes):(ut.updateQueue=null,ut.memoizedState=null)}var pt=Vi(at);if(pt!==null){pt.flags&=-257,Wi(pt,at,st,ot,et),pt.mode&1&&Ti(ot,ct,et),et=pt,lt=ct;var mt=et.updateQueue;if(mt===null){var ht=new Set;ht.add(lt),et.updateQueue=ht}else mt.add(lt);break e}else{if(!(et&1)){Ti(ot,ct,et),uj();break e}lt=Error(p$6(426))}}else if(I$2&&st.mode&1){var gt=Vi(at);if(gt!==null){!(gt.flags&65536)&&(gt.flags|=256),Wi(gt,at,st,ot,et),Jg(Ki(lt,st));break e}}ot=lt=Ki(lt,st),T$1!==4&&(T$1=2),tk===null?tk=[ot]:tk.push(ot),ot=at;do{switch(ot.tag){case 3:ot.flags|=65536,et&=-et,ot.lanes|=et;var vt=Oi(ot,lt,et);fh(ot,vt);break e;case 1:st=lt;var yt=ot.type,bt=ot.stateNode;if(!(ot.flags&128)&&(typeof yt.getDerivedStateFromError=="function"||bt!==null&&typeof bt.componentDidCatch=="function"&&(Si===null||!Si.has(bt)))){ot.flags|=65536,et&=-et,ot.lanes|=et;var xt=Ri(ot,st,et);fh(ot,xt);break e}}ot=ot.return}while(ot!==null)}Tk(rt)}catch($t){et=$t,Y$1===rt&&rt!==null&&(Y$1=rt=rt.return);continue}break}while(1)}function Kk(){var tt=nk.current;return nk.current=ai,tt===null?ai:tt}function uj(){(T$1===0||T$1===3||T$1===2)&&(T$1=4),R$2===null||!(hh&268435455)&&!(rk&268435455)||Dk(R$2,Z$2)}function Jk(tt,et){var rt=K$1;K$1|=2;var nt=Kk();(R$2!==tt||Z$2!==et)&&(vk=null,Lk(tt,et));do try{Uk();break}catch(it){Nk(tt,it)}while(1);if(Qg(),K$1=rt,nk.current=nt,Y$1!==null)throw Error(p$6(261));return R$2=null,Z$2=0,T$1}function Uk(){for(;Y$1!==null;)Vk(Y$1)}function Mk(){for(;Y$1!==null&&!cc();)Vk(Y$1)}function Vk(tt){var et=Wk(tt.alternate,tt,gj);tt.memoizedProps=tt.pendingProps,et===null?Tk(tt):Y$1=et,ok.current=null}function Tk(tt){var et=tt;do{var rt=et.alternate;if(tt=et.return,et.flags&32768){if(rt=Jj(rt,et),rt!==null){rt.flags&=32767,Y$1=rt;return}if(tt!==null)tt.flags|=32768,tt.subtreeFlags=0,tt.deletions=null;else{T$1=6,Y$1=null;return}}else if(rt=Fj(rt,et,gj),rt!==null){Y$1=rt;return}if(et=et.sibling,et!==null){Y$1=et;return}Y$1=et=tt}while(et!==null);T$1===0&&(T$1=5)}function Qk(tt,et,rt){var nt=C$1,it=pk.transition;try{pk.transition=null,C$1=1,Xk(tt,et,rt,nt)}finally{pk.transition=it,C$1=nt}return null}function Xk(tt,et,rt,nt){do Ik();while(xk!==null);if(K$1&6)throw Error(p$6(327));rt=tt.finishedWork;var it=tt.finishedLanes;if(rt===null)return null;if(tt.finishedWork=null,tt.finishedLanes=0,rt===tt.current)throw Error(p$6(177));tt.callbackNode=null,tt.callbackPriority=0;var ot=rt.lanes|rt.childLanes;if(Bc(tt,ot),tt===R$2&&(Y$1=R$2=null,Z$2=0),!(rt.subtreeFlags&2064)&&!(rt.flags&2064)||wk||(wk=!0,Gk(hc,function(){return Ik(),null})),ot=(rt.flags&15990)!==0,rt.subtreeFlags&15990||ot){ot=pk.transition,pk.transition=null;var at=C$1;C$1=1;var st=K$1;K$1|=4,ok.current=null,Pj(tt,rt),ek(rt,tt),Oe$1(Df),dd=!!Cf,Df=Cf=null,tt.current=rt,ik(rt),dc(),K$1=st,C$1=at,pk.transition=ot}else tt.current=rt;if(wk&&(wk=!1,xk=tt,yk=it),ot=tt.pendingLanes,ot===0&&(Si=null),mc(rt.stateNode),Ek(tt,B$2()),et!==null)for(nt=tt.onRecoverableError,rt=0;rt<et.length;rt++)it=et[rt],nt(it.value,{componentStack:it.stack,digest:it.digest});if(Pi)throw Pi=!1,tt=Qi,Qi=null,tt;return yk&1&&tt.tag!==0&&Ik(),ot=tt.pendingLanes,ot&1?tt===Ak?zk++:(zk=0,Ak=tt):zk=0,jg(),null}function Ik(){if(xk!==null){var tt=Dc(yk),et=pk.transition,rt=C$1;try{if(pk.transition=null,C$1=16>tt?16:tt,xk===null)var nt=!1;else{if(tt=xk,xk=null,yk=0,K$1&6)throw Error(p$6(331));var it=K$1;for(K$1|=4,V$1=tt.current;V$1!==null;){var ot=V$1,at=ot.child;if(V$1.flags&16){var st=ot.deletions;if(st!==null){for(var lt=0;lt<st.length;lt++){var ct=st[lt];for(V$1=ct;V$1!==null;){var ut=V$1;switch(ut.tag){case 0:case 11:case 15:Qj(8,ut,ot)}var dt=ut.child;if(dt!==null)dt.return=ut,V$1=dt;else for(;V$1!==null;){ut=V$1;var ft=ut.sibling,pt=ut.return;if(Tj(ut),ut===ct){V$1=null;break}if(ft!==null){ft.return=pt,V$1=ft;break}V$1=pt}}}var mt=ot.alternate;if(mt!==null){var ht=mt.child;if(ht!==null){mt.child=null;do{var gt=ht.sibling;ht.sibling=null,ht=gt}while(ht!==null)}}V$1=ot}}if(ot.subtreeFlags&2064&&at!==null)at.return=ot,V$1=at;else e:for(;V$1!==null;){if(ot=V$1,ot.flags&2048)switch(ot.tag){case 0:case 11:case 15:Qj(9,ot,ot.return)}var vt=ot.sibling;if(vt!==null){vt.return=ot.return,V$1=vt;break e}V$1=ot.return}}var yt=tt.current;for(V$1=yt;V$1!==null;){at=V$1;var bt=at.child;if(at.subtreeFlags&2064&&bt!==null)bt.return=at,V$1=bt;else e:for(at=yt;V$1!==null;){if(st=V$1,st.flags&2048)try{switch(st.tag){case 0:case 11:case 15:Rj(9,st)}}catch($t){W$2(st,st.return,$t)}if(st===at){V$1=null;break e}var xt=st.sibling;if(xt!==null){xt.return=st.return,V$1=xt;break e}V$1=st.return}}if(K$1=it,jg(),lc&&typeof lc.onPostCommitFiberRoot=="function")try{lc.onPostCommitFiberRoot(kc,tt)}catch{}nt=!0}return nt}finally{C$1=rt,pk.transition=et}}return!1}function Yk(tt,et,rt){et=Ki(rt,et),et=Oi(tt,et,1),tt=dh(tt,et,1),et=L$2(),tt!==null&&(Ac(tt,1,et),Ek(tt,et))}function W$2(tt,et,rt){if(tt.tag===3)Yk(tt,tt,rt);else for(;et!==null;){if(et.tag===3){Yk(et,tt,rt);break}else if(et.tag===1){var nt=et.stateNode;if(typeof et.type.getDerivedStateFromError=="function"||typeof nt.componentDidCatch=="function"&&(Si===null||!Si.has(nt))){tt=Ki(rt,tt),tt=Ri(et,tt,1),et=dh(et,tt,1),tt=L$2(),et!==null&&(Ac(et,1,tt),Ek(et,tt));break}}et=et.return}}function Ui(tt,et,rt){var nt=tt.pingCache;nt!==null&&nt.delete(et),et=L$2(),tt.pingedLanes|=tt.suspendedLanes&rt,R$2===tt&&(Z$2&rt)===rt&&(T$1===4||T$1===3&&(Z$2&130023424)===Z$2&&500>B$2()-gk?Lk(tt,0):sk|=rt),Ek(tt,et)}function Zk(tt,et){et===0&&(tt.mode&1?(et=sc,sc<<=1,!(sc&130023424)&&(sc=4194304)):et=1);var rt=L$2();tt=Zg(tt,et),tt!==null&&(Ac(tt,et,rt),Ek(tt,rt))}function vj(tt){var et=tt.memoizedState,rt=0;et!==null&&(rt=et.retryLane),Zk(tt,rt)}function ck(tt,et){var rt=0;switch(tt.tag){case 13:var nt=tt.stateNode,it=tt.memoizedState;it!==null&&(rt=it.retryLane);break;case 19:nt=tt.stateNode;break;default:throw Error(p$6(314))}nt!==null&&nt.delete(et),Zk(tt,rt)}var Wk;Wk=function(tt,et,rt){if(tt!==null)if(tt.memoizedProps!==et.pendingProps||Wf.current)Ug=!0;else{if(!(tt.lanes&rt)&&!(et.flags&128))return Ug=!1,zj(tt,et,rt);Ug=!!(tt.flags&131072)}else Ug=!1,I$2&&et.flags&1048576&&ug(et,ng,et.index);switch(et.lanes=0,et.tag){case 2:var nt=et.type;jj(tt,et),tt=et.pendingProps;var it=Yf(et,H$2.current);Tg(et,rt),it=Xh(null,et,nt,tt,it,rt);var ot=bi();return et.flags|=1,typeof it=="object"&&it!==null&&typeof it.render=="function"&&it.$$typeof===void 0?(et.tag=1,et.memoizedState=null,et.updateQueue=null,Zf(nt)?(ot=!0,cg(et)):ot=!1,et.memoizedState=it.state!==null&&it.state!==void 0?it.state:null,ah(et),it.updater=nh,et.stateNode=it,it._reactInternals=et,rh(et,nt,tt,rt),et=kj(null,et,nt,!0,ot,rt)):(et.tag=0,I$2&&ot&&vg(et),Yi(null,et,it,rt),et=et.child),et;case 16:nt=et.elementType;e:{switch(jj(tt,et),tt=et.pendingProps,it=nt._init,nt=it(nt._payload),et.type=nt,it=et.tag=$k(nt),tt=Lg(nt,tt),it){case 0:et=dj(null,et,nt,tt,rt);break e;case 1:et=ij(null,et,nt,tt,rt);break e;case 11:et=Zi(null,et,nt,tt,rt);break e;case 14:et=aj(null,et,nt,Lg(nt.type,tt),rt);break e}throw Error(p$6(306,nt,""))}return et;case 0:return nt=et.type,it=et.pendingProps,it=et.elementType===nt?it:Lg(nt,it),dj(tt,et,nt,it,rt);case 1:return nt=et.type,it=et.pendingProps,it=et.elementType===nt?it:Lg(nt,it),ij(tt,et,nt,it,rt);case 3:e:{if(lj(et),tt===null)throw Error(p$6(387));nt=et.pendingProps,ot=et.memoizedState,it=ot.element,bh(tt,et),gh(et,nt,null,rt);var at=et.memoizedState;if(nt=at.element,ot.isDehydrated)if(ot={element:nt,isDehydrated:!1,cache:at.cache,pendingSuspenseBoundaries:at.pendingSuspenseBoundaries,transitions:at.transitions},et.updateQueue.baseState=ot,et.memoizedState=ot,et.flags&256){it=Ki(Error(p$6(423)),et),et=mj(tt,et,nt,rt,it);break e}else if(nt!==it){it=Ki(Error(p$6(424)),et),et=mj(tt,et,nt,rt,it);break e}else for(yg=Lf(et.stateNode.containerInfo.firstChild),xg=et,I$2=!0,zg=null,rt=Ch(et,null,nt,rt),et.child=rt;rt;)rt.flags=rt.flags&-3|4096,rt=rt.sibling;else{if(Ig(),nt===it){et=$i(tt,et,rt);break e}Yi(tt,et,nt,rt)}et=et.child}return et;case 5:return Kh(et),tt===null&&Eg(et),nt=et.type,it=et.pendingProps,ot=tt!==null?tt.memoizedProps:null,at=it.children,Ef(nt,it)?at=null:ot!==null&&Ef(nt,ot)&&(et.flags|=32),hj(tt,et),Yi(tt,et,at,rt),et.child;case 6:return tt===null&&Eg(et),null;case 13:return pj(tt,et,rt);case 4:return Ih(et,et.stateNode.containerInfo),nt=et.pendingProps,tt===null?et.child=Bh(et,null,nt,rt):Yi(tt,et,nt,rt),et.child;case 11:return nt=et.type,it=et.pendingProps,it=et.elementType===nt?it:Lg(nt,it),Zi(tt,et,nt,it,rt);case 7:return Yi(tt,et,et.pendingProps,rt),et.child;case 8:return Yi(tt,et,et.pendingProps.children,rt),et.child;case 12:return Yi(tt,et,et.pendingProps.children,rt),et.child;case 10:e:{if(nt=et.type._context,it=et.pendingProps,ot=et.memoizedProps,at=it.value,G$2(Mg,nt._currentValue),nt._currentValue=at,ot!==null)if(He(ot.value,at)){if(ot.children===it.children&&!Wf.current){et=$i(tt,et,rt);break e}}else for(ot=et.child,ot!==null&&(ot.return=et);ot!==null;){var st=ot.dependencies;if(st!==null){at=ot.child;for(var lt=st.firstContext;lt!==null;){if(lt.context===nt){if(ot.tag===1){lt=ch(-1,rt&-rt),lt.tag=2;var ct=ot.updateQueue;if(ct!==null){ct=ct.shared;var ut=ct.pending;ut===null?lt.next=lt:(lt.next=ut.next,ut.next=lt),ct.pending=lt}}ot.lanes|=rt,lt=ot.alternate,lt!==null&&(lt.lanes|=rt),Sg(ot.return,rt,et),st.lanes|=rt;break}lt=lt.next}}else if(ot.tag===10)at=ot.type===et.type?null:ot.child;else if(ot.tag===18){if(at=ot.return,at===null)throw Error(p$6(341));at.lanes|=rt,st=at.alternate,st!==null&&(st.lanes|=rt),Sg(at,rt,et),at=ot.sibling}else at=ot.child;if(at!==null)at.return=ot;else for(at=ot;at!==null;){if(at===et){at=null;break}if(ot=at.sibling,ot!==null){ot.return=at.return,at=ot;break}at=at.return}ot=at}Yi(tt,et,it.children,rt),et=et.child}return et;case 9:return it=et.type,nt=et.pendingProps.children,Tg(et,rt),it=Vg(it),nt=nt(it),et.flags|=1,Yi(tt,et,nt,rt),et.child;case 14:return nt=et.type,it=Lg(nt,et.pendingProps),it=Lg(nt.type,it),aj(tt,et,nt,it,rt);case 15:return cj(tt,et,et.type,et.pendingProps,rt);case 17:return nt=et.type,it=et.pendingProps,it=et.elementType===nt?it:Lg(nt,it),jj(tt,et),et.tag=1,Zf(nt)?(tt=!0,cg(et)):tt=!1,Tg(et,rt),ph(et,nt,it),rh(et,nt,it,rt),kj(null,et,nt,!0,tt,rt);case 19:return yj(tt,et,rt);case 22:return ej(tt,et,rt)}throw Error(p$6(156,et.tag))};function Gk(tt,et){return ac(tt,et)}function al(tt,et,rt,nt){this.tag=tt,this.key=rt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=et,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=nt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Bg(tt,et,rt,nt){return new al(tt,et,rt,nt)}function bj(tt){return tt=tt.prototype,!(!tt||!tt.isReactComponent)}function $k(tt){if(typeof tt=="function")return bj(tt)?1:0;if(tt!=null){if(tt=tt.$$typeof,tt===Da)return 11;if(tt===Ga)return 14}return 2}function wh(tt,et){var rt=tt.alternate;return rt===null?(rt=Bg(tt.tag,et,tt.key,tt.mode),rt.elementType=tt.elementType,rt.type=tt.type,rt.stateNode=tt.stateNode,rt.alternate=tt,tt.alternate=rt):(rt.pendingProps=et,rt.type=tt.type,rt.flags=0,rt.subtreeFlags=0,rt.deletions=null),rt.flags=tt.flags&14680064,rt.childLanes=tt.childLanes,rt.lanes=tt.lanes,rt.child=tt.child,rt.memoizedProps=tt.memoizedProps,rt.memoizedState=tt.memoizedState,rt.updateQueue=tt.updateQueue,et=tt.dependencies,rt.dependencies=et===null?null:{lanes:et.lanes,firstContext:et.firstContext},rt.sibling=tt.sibling,rt.index=tt.index,rt.ref=tt.ref,rt}function yh(tt,et,rt,nt,it,ot){var at=2;if(nt=tt,typeof tt=="function")bj(tt)&&(at=1);else if(typeof tt=="string")at=5;else e:switch(tt){case ya:return Ah(rt.children,it,ot,et);case za:at=8,it|=8;break;case Aa:return tt=Bg(12,rt,et,it|2),tt.elementType=Aa,tt.lanes=ot,tt;case Ea:return tt=Bg(13,rt,et,it),tt.elementType=Ea,tt.lanes=ot,tt;case Fa:return tt=Bg(19,rt,et,it),tt.elementType=Fa,tt.lanes=ot,tt;case Ia:return qj(rt,it,ot,et);default:if(typeof tt=="object"&&tt!==null)switch(tt.$$typeof){case Ba:at=10;break e;case Ca:at=9;break e;case Da:at=11;break e;case Ga:at=14;break e;case Ha:at=16,nt=null;break e}throw Error(p$6(130,tt==null?tt:typeof tt,""))}return et=Bg(at,rt,et,it),et.elementType=tt,et.type=nt,et.lanes=ot,et}function Ah(tt,et,rt,nt){return tt=Bg(7,tt,nt,et),tt.lanes=rt,tt}function qj(tt,et,rt,nt){return tt=Bg(22,tt,nt,et),tt.elementType=Ia,tt.lanes=rt,tt.stateNode={isHidden:!1},tt}function xh(tt,et,rt){return tt=Bg(6,tt,null,et),tt.lanes=rt,tt}function zh(tt,et,rt){return et=Bg(4,tt.children!==null?tt.children:[],tt.key,et),et.lanes=rt,et.stateNode={containerInfo:tt.containerInfo,pendingChildren:null,implementation:tt.implementation},et}function bl(tt,et,rt,nt,it){this.tag=et,this.containerInfo=tt,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=zc(0),this.expirationTimes=zc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=zc(0),this.identifierPrefix=nt,this.onRecoverableError=it,this.mutableSourceEagerHydrationData=null}function cl(tt,et,rt,nt,it,ot,at,st,lt){return tt=new bl(tt,et,rt,st,lt),et===1?(et=1,ot===!0&&(et|=8)):et=0,ot=Bg(3,null,null,et),tt.current=ot,ot.stateNode=tt,ot.memoizedState={element:nt,isDehydrated:rt,cache:null,transitions:null,pendingSuspenseBoundaries:null},ah(ot),tt}function dl(tt,et,rt){var nt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:wa,key:nt==null?null:""+nt,children:tt,containerInfo:et,implementation:rt}}function el(tt){if(!tt)return Vf;tt=tt._reactInternals;e:{if(Vb(tt)!==tt||tt.tag!==1)throw Error(p$6(170));var et=tt;do{switch(et.tag){case 3:et=et.stateNode.context;break e;case 1:if(Zf(et.type)){et=et.stateNode.__reactInternalMemoizedMergedChildContext;break e}}et=et.return}while(et!==null);throw Error(p$6(171))}if(tt.tag===1){var rt=tt.type;if(Zf(rt))return bg(tt,rt,et)}return et}function fl(tt,et,rt,nt,it,ot,at,st,lt){return tt=cl(rt,nt,!0,tt,it,ot,at,st,lt),tt.context=el(null),rt=tt.current,nt=L$2(),it=lh(rt),ot=ch(nt,it),ot.callback=et??null,dh(rt,ot,it),tt.current.lanes=it,Ac(tt,it,nt),Ek(tt,nt),tt}function gl(tt,et,rt,nt){var it=et.current,ot=L$2(),at=lh(it);return rt=el(rt),et.context===null?et.context=rt:et.pendingContext=rt,et=ch(ot,at),et.payload={element:tt},nt=nt===void 0?null:nt,nt!==null&&(et.callback=nt),tt=dh(it,et,at),tt!==null&&(mh(tt,it,at,ot),eh(tt,it,at)),at}function hl(tt){if(tt=tt.current,!tt.child)return null;switch(tt.child.tag){case 5:return tt.child.stateNode;default:return tt.child.stateNode}}function il(tt,et){if(tt=tt.memoizedState,tt!==null&&tt.dehydrated!==null){var rt=tt.retryLane;tt.retryLane=rt!==0&&rt<et?rt:et}}function jl(tt,et){il(tt,et),(tt=tt.alternate)&&il(tt,et)}function kl(){return null}var ll=typeof reportError=="function"?reportError:function(tt){console.error(tt)};function ml(tt){this._internalRoot=tt}nl.prototype.render=ml.prototype.render=function(tt){var et=this._internalRoot;if(et===null)throw Error(p$6(409));gl(tt,et,null,null)};nl.prototype.unmount=ml.prototype.unmount=function(){var tt=this._internalRoot;if(tt!==null){this._internalRoot=null;var et=tt.containerInfo;Sk(function(){gl(null,tt,null,null)}),et[uf]=null}};function nl(tt){this._internalRoot=tt}nl.prototype.unstable_scheduleHydration=function(tt){if(tt){var et=Hc();tt={blockedOn:null,target:tt,priority:et};for(var rt=0;rt<Qc.length&&et!==0&&et<Qc[rt].priority;rt++);Qc.splice(rt,0,tt),rt===0&&Vc(tt)}};function ol(tt){return!(!tt||tt.nodeType!==1&&tt.nodeType!==9&&tt.nodeType!==11)}function pl(tt){return!(!tt||tt.nodeType!==1&&tt.nodeType!==9&&tt.nodeType!==11&&(tt.nodeType!==8||tt.nodeValue!==" react-mount-point-unstable "))}function ql(){}function rl(tt,et,rt,nt,it){if(it){if(typeof nt=="function"){var ot=nt;nt=function(){var ct=hl(at);ot.call(ct)}}var at=fl(et,nt,tt,0,null,!1,!1,"",ql);return tt._reactRootContainer=at,tt[uf]=at.current,sf(tt.nodeType===8?tt.parentNode:tt),Sk(),at}for(;it=tt.lastChild;)tt.removeChild(it);if(typeof nt=="function"){var st=nt;nt=function(){var ct=hl(lt);st.call(ct)}}var lt=cl(tt,0,!1,null,null,!1,!1,"",ql);return tt._reactRootContainer=lt,tt[uf]=lt.current,sf(tt.nodeType===8?tt.parentNode:tt),Sk(function(){gl(et,lt,rt,nt)}),lt}function sl(tt,et,rt,nt,it){var ot=rt._reactRootContainer;if(ot){var at=ot;if(typeof it=="function"){var st=it;it=function(){var lt=hl(at);st.call(lt)}}gl(et,at,tt,it)}else at=rl(rt,et,tt,it,nt);return hl(at)}Ec=function(tt){switch(tt.tag){case 3:var et=tt.stateNode;if(et.current.memoizedState.isDehydrated){var rt=tc(et.pendingLanes);rt!==0&&(Cc(et,rt|1),Ek(et,B$2()),!(K$1&6)&&(Hj=B$2()+500,jg()))}break;case 13:Sk(function(){var nt=Zg(tt,1);if(nt!==null){var it=L$2();mh(nt,tt,1,it)}}),jl(tt,1)}};Fc=function(tt){if(tt.tag===13){var et=Zg(tt,134217728);if(et!==null){var rt=L$2();mh(et,tt,134217728,rt)}jl(tt,134217728)}};Gc=function(tt){if(tt.tag===13){var et=lh(tt),rt=Zg(tt,et);if(rt!==null){var nt=L$2();mh(rt,tt,et,nt)}jl(tt,et)}};Hc=function(){return C$1};Ic=function(tt,et){var rt=C$1;try{return C$1=tt,et()}finally{C$1=rt}};yb=function(tt,et,rt){switch(et){case"input":if(bb(tt,rt),et=rt.name,rt.type==="radio"&&et!=null){for(rt=tt;rt.parentNode;)rt=rt.parentNode;for(rt=rt.querySelectorAll("input[name="+JSON.stringify(""+et)+'][type="radio"]'),et=0;et<rt.length;et++){var nt=rt[et];if(nt!==tt&&nt.form===tt.form){var it=Db(nt);if(!it)throw Error(p$6(90));Wa(nt),bb(nt,it)}}}break;case"textarea":ib(tt,rt);break;case"select":et=rt.value,et!=null&&fb(tt,!!rt.multiple,et,!1)}};Gb=Rk;Hb=Sk;var tl={usingClientEntryPoint:!1,Events:[Cb,ue$1,Db,Eb,Fb,Rk]},ul={findFiberByHostInstance:Wc,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},vl={bundleType:ul.bundleType,version:ul.version,rendererPackageName:ul.rendererPackageName,rendererConfig:ul.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ua.ReactCurrentDispatcher,findHostInstanceByFiber:function(tt){return tt=Zb(tt),tt===null?null:tt.stateNode},findFiberByHostInstance:ul.findFiberByHostInstance||kl,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wl.isDisabled&&wl.supportsFiber)try{kc=wl.inject(vl),lc=wl}catch{}}reactDom_production_min.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tl;reactDom_production_min.createPortal=function(tt,et){var rt=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ol(et))throw Error(p$6(200));return dl(tt,et,null,rt)};reactDom_production_min.createRoot=function(tt,et){if(!ol(tt))throw Error(p$6(299));var rt=!1,nt="",it=ll;return et!=null&&(et.unstable_strictMode===!0&&(rt=!0),et.identifierPrefix!==void 0&&(nt=et.identifierPrefix),et.onRecoverableError!==void 0&&(it=et.onRecoverableError)),et=cl(tt,1,!1,null,null,rt,!1,nt,it),tt[uf]=et.current,sf(tt.nodeType===8?tt.parentNode:tt),new ml(et)};reactDom_production_min.findDOMNode=function(tt){if(tt==null)return null;if(tt.nodeType===1)return tt;var et=tt._reactInternals;if(et===void 0)throw typeof tt.render=="function"?Error(p$6(188)):(tt=Object.keys(tt).join(","),Error(p$6(268,tt)));return tt=Zb(et),tt=tt===null?null:tt.stateNode,tt};reactDom_production_min.flushSync=function(tt){return Sk(tt)};reactDom_production_min.hydrate=function(tt,et,rt){if(!pl(et))throw Error(p$6(200));return sl(null,tt,et,!0,rt)};reactDom_production_min.hydrateRoot=function(tt,et,rt){if(!ol(tt))throw Error(p$6(405));var nt=rt!=null&&rt.hydratedSources||null,it=!1,ot="",at=ll;if(rt!=null&&(rt.unstable_strictMode===!0&&(it=!0),rt.identifierPrefix!==void 0&&(ot=rt.identifierPrefix),rt.onRecoverableError!==void 0&&(at=rt.onRecoverableError)),et=fl(et,null,tt,1,rt??null,it,!1,ot,at),tt[uf]=et.current,sf(tt),nt)for(tt=0;tt<nt.length;tt++)rt=nt[tt],it=rt._getVersion,it=it(rt._source),et.mutableSourceEagerHydrationData==null?et.mutableSourceEagerHydrationData=[rt,it]:et.mutableSourceEagerHydrationData.push(rt,it);return new nl(et)};reactDom_production_min.render=function(tt,et,rt){if(!pl(et))throw Error(p$6(200));return sl(null,tt,et,!1,rt)};reactDom_production_min.unmountComponentAtNode=function(tt){if(!pl(tt))throw Error(p$6(40));return tt._reactRootContainer?(Sk(function(){sl(null,null,tt,!1,function(){tt._reactRootContainer=null,tt[uf]=null})}),!0):!1};reactDom_production_min.unstable_batchedUpdates=Rk;reactDom_production_min.unstable_renderSubtreeIntoContainer=function(tt,et,rt,nt){if(!pl(rt))throw Error(p$6(200));if(tt==null||tt._reactInternals===void 0)throw Error(p$6(38));return sl(tt,et,rt,!1,nt)};reactDom_production_min.version="18.2.0-next-9e3b772b8-20220608";(function(tt){function et(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(et)}catch(rt){console.error(rt)}}et(),tt.exports=reactDom_production_min})(reactDom);const ReactDOM=getDefaultExportFromCjs(reactDomExports);var createRoot$1,m$4=reactDomExports;createRoot$1=m$4.createRoot,m$4.hydrateRoot;var shimExports={},shim$1={get exports(){return shimExports},set exports(tt){shimExports=tt}},useSyncExternalStoreShim_production_min={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var e$3=reactExports;function h$4(tt,et){return tt===et&&(tt!==0||1/tt===1/et)||tt!==tt&&et!==et}var k$4=typeof Object.is=="function"?Object.is:h$4,l$4=e$3.useState,m$3=e$3.useEffect,n$6=e$3.useLayoutEffect,p$5=e$3.useDebugValue;function q$4(tt,et){var rt=et(),nt=l$4({inst:{value:rt,getSnapshot:et}}),it=nt[0].inst,ot=nt[1];return n$6(function(){it.value=rt,it.getSnapshot=et,r$5(it)&&ot({inst:it})},[tt,rt,et]),m$3(function(){return r$5(it)&&ot({inst:it}),tt(function(){r$5(it)&&ot({inst:it})})},[tt]),p$5(rt),rt}function r$5(tt){var et=tt.getSnapshot;tt=tt.value;try{var rt=et();return!k$4(tt,rt)}catch{return!0}}function t$8(tt,et){return et()}var u$5=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?t$8:q$4;useSyncExternalStoreShim_production_min.useSyncExternalStore=e$3.useSyncExternalStore!==void 0?e$3.useSyncExternalStore:u$5;(function(tt){tt.exports=useSyncExternalStoreShim_production_min})(shim$1);var withSelectorExports={},withSelector={get exports(){return withSelectorExports},set exports(tt){withSelectorExports=tt}},withSelector_production_min={};/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var h$3=reactExports,n$5=shimExports;function p$4(tt,et){return tt===et&&(tt!==0||1/tt===1/et)||tt!==tt&&et!==et}var q$3=typeof Object.is=="function"?Object.is:p$4,r$4=n$5.useSyncExternalStore,t$7=h$3.useRef,u$4=h$3.useEffect,v$3=h$3.useMemo,w$2=h$3.useDebugValue;withSelector_production_min.useSyncExternalStoreWithSelector=function(tt,et,rt,nt,it){var ot=t$7(null);if(ot.current===null){var at={hasValue:!1,value:null};ot.current=at}else at=ot.current;ot=v$3(function(){function lt(pt){if(!ct){if(ct=!0,ut=pt,pt=nt(pt),it!==void 0&&at.hasValue){var mt=at.value;if(it(mt,pt))return dt=mt}return dt=pt}if(mt=dt,q$3(ut,pt))return mt;var ht=nt(pt);return it!==void 0&&it(mt,ht)?mt:(ut=pt,dt=ht)}var ct=!1,ut,dt,ft=rt===void 0?null:rt;return[function(){return lt(et())},ft===null?void 0:function(){return lt(ft())}]},[et,rt,nt,it]);var st=r$4(tt,ot[0],ot[1]);return u$4(function(){at.hasValue=!0,at.value=st},[st]),w$2(st),st};(function(tt){tt.exports=withSelector_production_min})(withSelector);function defaultNoopBatch(tt){tt()}let batch=defaultNoopBatch;const setBatch=tt=>batch=tt,getBatch=()=>batch,ReactReduxContext=reactExports.createContext(null);function useReduxContext(){return reactExports.useContext(ReactReduxContext)}const notInitialized=()=>{throw new Error("uSES not initialized!")};let useSyncExternalStoreWithSelector=notInitialized;const initializeUseSelector=tt=>{useSyncExternalStoreWithSelector=tt},refEquality=(tt,et)=>tt===et;function createSelectorHook(tt=ReactReduxContext){const et=tt===ReactReduxContext?useReduxContext:()=>reactExports.useContext(tt);return function(nt,it=refEquality){const{store:ot,subscription:at,getServerState:st}=et(),lt=useSyncExternalStoreWithSelector(at.addNestedSub,ot.getState,st||ot.getState,nt,it);return reactExports.useDebugValue(lt),lt}}const useSelector=createSelectorHook();function _objectWithoutPropertiesLoose$4(tt,et){if(tt==null)return{};var rt={},nt=Object.keys(tt),it,ot;for(ot=0;ot<nt.length;ot++)it=nt[ot],!(et.indexOf(it)>=0)&&(rt[it]=tt[it]);return rt}var reactIsExports={},reactIs={get exports(){return reactIsExports},set exports(tt){reactIsExports=tt}},reactIs_production_min={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var b$3=Symbol.for("react.element"),c$4=Symbol.for("react.portal"),d$2=Symbol.for("react.fragment"),e$2=Symbol.for("react.strict_mode"),f$b=Symbol.for("react.profiler"),g$2=Symbol.for("react.provider"),h$2=Symbol.for("react.context"),k$3=Symbol.for("react.server_context"),l$3=Symbol.for("react.forward_ref"),m$2=Symbol.for("react.suspense"),n$4=Symbol.for("react.suspense_list"),p$3=Symbol.for("react.memo"),q$2=Symbol.for("react.lazy"),t$6=Symbol.for("react.offscreen"),u$3;u$3=Symbol.for("react.module.reference");function v$2(tt){if(typeof tt=="object"&&tt!==null){var et=tt.$$typeof;switch(et){case b$3:switch(tt=tt.type,tt){case d$2:case f$b:case e$2:case m$2:case n$4:return tt;default:switch(tt=tt&&tt.$$typeof,tt){case k$3:case h$2:case l$3:case q$2:case p$3:case g$2:return tt;default:return et}}case c$4:return et}}}reactIs_production_min.ContextConsumer=h$2;reactIs_production_min.ContextProvider=g$2;reactIs_production_min.Element=b$3;reactIs_production_min.ForwardRef=l$3;reactIs_production_min.Fragment=d$2;reactIs_production_min.Lazy=q$2;reactIs_production_min.Memo=p$3;reactIs_production_min.Portal=c$4;reactIs_production_min.Profiler=f$b;reactIs_production_min.StrictMode=e$2;reactIs_production_min.Suspense=m$2;reactIs_production_min.SuspenseList=n$4;reactIs_production_min.isAsyncMode=function(){return!1};reactIs_production_min.isConcurrentMode=function(){return!1};reactIs_production_min.isContextConsumer=function(tt){return v$2(tt)===h$2};reactIs_production_min.isContextProvider=function(tt){return v$2(tt)===g$2};reactIs_production_min.isElement=function(tt){return typeof tt=="object"&&tt!==null&&tt.$$typeof===b$3};reactIs_production_min.isForwardRef=function(tt){return v$2(tt)===l$3};reactIs_production_min.isFragment=function(tt){return v$2(tt)===d$2};reactIs_production_min.isLazy=function(tt){return v$2(tt)===q$2};reactIs_production_min.isMemo=function(tt){return v$2(tt)===p$3};reactIs_production_min.isPortal=function(tt){return v$2(tt)===c$4};reactIs_production_min.isProfiler=function(tt){return v$2(tt)===f$b};reactIs_production_min.isStrictMode=function(tt){return v$2(tt)===e$2};reactIs_production_min.isSuspense=function(tt){return v$2(tt)===m$2};reactIs_production_min.isSuspenseList=function(tt){return v$2(tt)===n$4};reactIs_production_min.isValidElementType=function(tt){return typeof tt=="string"||typeof tt=="function"||tt===d$2||tt===f$b||tt===e$2||tt===m$2||tt===n$4||tt===t$6||typeof tt=="object"&&tt!==null&&(tt.$$typeof===q$2||tt.$$typeof===p$3||tt.$$typeof===g$2||tt.$$typeof===h$2||tt.$$typeof===l$3||tt.$$typeof===u$3||tt.getModuleId!==void 0)};reactIs_production_min.typeOf=v$2;(function(tt){tt.exports=reactIs_production_min})(reactIs);function createListenerCollection(){const tt=getBatch();let et=null,rt=null;return{clear(){et=null,rt=null},notify(){tt(()=>{let nt=et;for(;nt;)nt.callback(),nt=nt.next})},get(){let nt=[],it=et;for(;it;)nt.push(it),it=it.next;return nt},subscribe(nt){let it=!0,ot=rt={callback:nt,next:null,prev:rt};return ot.prev?ot.prev.next=ot:et=ot,function(){!it||et===null||(it=!1,ot.next?ot.next.prev=ot.prev:rt=ot.prev,ot.prev?ot.prev.next=ot.next:et=ot.next)}}}}const nullListeners={notify(){},get:()=>[]};function createSubscription(tt,et){let rt,nt=nullListeners;function it(dt){return lt(),nt.subscribe(dt)}function ot(){nt.notify()}function at(){ut.onStateChange&&ut.onStateChange()}function st(){return Boolean(rt)}function lt(){rt||(rt=et?et.addNestedSub(at):tt.subscribe(at),nt=createListenerCollection())}function ct(){rt&&(rt(),rt=void 0,nt.clear(),nt=nullListeners)}const ut={addNestedSub:it,notifyNestedSubs:ot,handleChangeWrapper:at,isSubscribed:st,trySubscribe:lt,tryUnsubscribe:ct,getListeners:()=>nt};return ut}const canUseDOM$1=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",useIsomorphicLayoutEffect$3=canUseDOM$1?reactExports.useLayoutEffect:reactExports.useEffect;function Provider$1({store:tt,context:et,children:rt,serverState:nt}){const it=reactExports.useMemo(()=>{const st=createSubscription(tt);return{store:tt,subscription:st,getServerState:nt?()=>nt:void 0}},[tt,nt]),ot=reactExports.useMemo(()=>tt.getState(),[tt]);useIsomorphicLayoutEffect$3(()=>{const{subscription:st}=it;return st.onStateChange=st.notifyNestedSubs,st.trySubscribe(),ot!==tt.getState()&&st.notifyNestedSubs(),()=>{st.tryUnsubscribe(),st.onStateChange=void 0}},[it,ot]);const at=et||ReactReduxContext;return React.createElement(at.Provider,{value:it},rt)}function createStoreHook(tt=ReactReduxContext){const et=tt===ReactReduxContext?useReduxContext:()=>reactExports.useContext(tt);return function(){const{store:nt}=et();return nt}}const useStore$1=createStoreHook();function createDispatchHook(tt=ReactReduxContext){const et=tt===ReactReduxContext?useStore$1:createStoreHook(tt);return function(){return et().dispatch}}const useDispatch=createDispatchHook();initializeUseSelector(withSelectorExports.useSyncExternalStoreWithSelector);setBatch(reactDomExports.unstable_batchedUpdates);function n$3(tt){for(var et=arguments.length,rt=Array(et>1?et-1:0),nt=1;nt<et;nt++)rt[nt-1]=arguments[nt];throw Error("[Immer] minified error nr: "+tt+(rt.length?" "+rt.map(function(it){return"'"+it+"'"}).join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function r$3(tt){return!!tt&&!!tt[Q$1]}function t$5(tt){var et;return!!tt&&(function(rt){if(!rt||typeof rt!="object")return!1;var nt=Object.getPrototypeOf(rt);if(nt===null)return!0;var it=Object.hasOwnProperty.call(nt,"constructor")&&nt.constructor;return it===Object||typeof it=="function"&&Function.toString.call(it)===Z$1}(tt)||Array.isArray(tt)||!!tt[L$1]||!!(!((et=tt.constructor)===null||et===void 0)&&et[L$1])||s$3(tt)||v$1(tt))}function i$4(tt,et,rt){rt===void 0&&(rt=!1),o$2(tt)===0?(rt?Object.keys:nn)(tt).forEach(function(nt){rt&&typeof nt=="symbol"||et(nt,tt[nt],tt)}):tt.forEach(function(nt,it){return et(it,nt,tt)})}function o$2(tt){var et=tt[Q$1];return et?et.i>3?et.i-4:et.i:Array.isArray(tt)?1:s$3(tt)?2:v$1(tt)?3:0}function u$2(tt,et){return o$2(tt)===2?tt.has(et):Object.prototype.hasOwnProperty.call(tt,et)}function a$4(tt,et){return o$2(tt)===2?tt.get(et):tt[et]}function f$a(tt,et,rt){var nt=o$2(tt);nt===2?tt.set(et,rt):nt===3?tt.add(rt):tt[et]=rt}function c$3(tt,et){return tt===et?tt!==0||1/tt==1/et:tt!=tt&&et!=et}function s$3(tt){return X$1&&tt instanceof Map}function v$1(tt){return q$1&&tt instanceof Set}function p$2(tt){return tt.o||tt.t}function l$2(tt){if(Array.isArray(tt))return Array.prototype.slice.call(tt);var et=rn(tt);delete et[Q$1];for(var rt=nn(et),nt=0;nt<rt.length;nt++){var it=rt[nt],ot=et[it];ot.writable===!1&&(ot.writable=!0,ot.configurable=!0),(ot.get||ot.set)&&(et[it]={configurable:!0,writable:!0,enumerable:ot.enumerable,value:tt[it]})}return Object.create(Object.getPrototypeOf(tt),et)}function d$1(tt,et){return et===void 0&&(et=!1),y$1(tt)||r$3(tt)||!t$5(tt)||(o$2(tt)>1&&(tt.set=tt.add=tt.clear=tt.delete=h$1),Object.freeze(tt),et&&i$4(tt,function(rt,nt){return d$1(nt,!0)},!0)),tt}function h$1(){n$3(2)}function y$1(tt){return tt==null||typeof tt!="object"||Object.isFrozen(tt)}function b$2(tt){var et=tn[tt];return et||n$3(18,tt),et}function m$1(tt,et){tn[tt]||(tn[tt]=et)}function _$5(){return U$1}function j$1(tt,et){et&&(b$2("Patches"),tt.u=[],tt.s=[],tt.v=et)}function O$1(tt){g$1(tt),tt.p.forEach(S$1),tt.p=null}function g$1(tt){tt===U$1&&(U$1=tt.l)}function w$1(tt){return U$1={p:[],l:U$1,h:tt,m:!0,_:0}}function S$1(tt){var et=tt[Q$1];et.i===0||et.i===1?et.j():et.O=!0}function P$2(tt,et){et._=et.p.length;var rt=et.p[0],nt=tt!==void 0&&tt!==rt;return et.h.g||b$2("ES5").S(et,tt,nt),nt?(rt[Q$1].P&&(O$1(et),n$3(4)),t$5(tt)&&(tt=M$1(et,tt),et.l||x$1(et,tt)),et.u&&b$2("Patches").M(rt[Q$1].t,tt,et.u,et.s)):tt=M$1(et,rt,[]),O$1(et),et.u&&et.v(et.u,et.s),tt!==H$1?tt:void 0}function M$1(tt,et,rt){if(y$1(et))return et;var nt=et[Q$1];if(!nt)return i$4(et,function(st,lt){return A$1(tt,nt,et,st,lt,rt)},!0),et;if(nt.A!==tt)return et;if(!nt.P)return x$1(tt,nt.t,!0),nt.t;if(!nt.I){nt.I=!0,nt.A._--;var it=nt.i===4||nt.i===5?nt.o=l$2(nt.k):nt.o,ot=it,at=!1;nt.i===3&&(ot=new Set(it),it.clear(),at=!0),i$4(ot,function(st,lt){return A$1(tt,nt,it,st,lt,rt,at)}),x$1(tt,it,!1),rt&&tt.u&&b$2("Patches").N(nt,rt,tt.u,tt.s)}return nt.o}function A$1(tt,et,rt,nt,it,ot,at){if(r$3(it)){var st=M$1(tt,it,ot&&et&&et.i!==3&&!u$2(et.R,nt)?ot.concat(nt):void 0);if(f$a(rt,nt,st),!r$3(st))return;tt.m=!1}else at&&rt.add(it);if(t$5(it)&&!y$1(it)){if(!tt.h.D&&tt._<1)return;M$1(tt,it),et&&et.A.l||x$1(tt,it)}}function x$1(tt,et,rt){rt===void 0&&(rt=!1),!tt.l&&tt.h.D&&tt.m&&d$1(et,rt)}function z$1(tt,et){var rt=tt[Q$1];return(rt?p$2(rt):tt)[et]}function I$1(tt,et){if(et in tt)for(var rt=Object.getPrototypeOf(tt);rt;){var nt=Object.getOwnPropertyDescriptor(rt,et);if(nt)return nt;rt=Object.getPrototypeOf(rt)}}function k$2(tt){tt.P||(tt.P=!0,tt.l&&k$2(tt.l))}function E$1(tt){tt.o||(tt.o=l$2(tt.t))}function N$1(tt,et,rt){var nt=s$3(et)?b$2("MapSet").F(et,rt):v$1(et)?b$2("MapSet").T(et,rt):tt.g?function(it,ot){var at=Array.isArray(it),st={i:at?1:0,A:ot?ot.A:_$5(),P:!1,I:!1,R:{},l:ot,t:it,k:null,o:null,j:null,C:!1},lt=st,ct=en;at&&(lt=[st],ct=on$1);var ut=Proxy.revocable(lt,ct),dt=ut.revoke,ft=ut.proxy;return st.k=ft,st.j=dt,ft}(et,rt):b$2("ES5").J(et,rt);return(rt?rt.A:_$5()).p.push(nt),nt}function R$1(tt){return r$3(tt)||n$3(22,tt),function et(rt){if(!t$5(rt))return rt;var nt,it=rt[Q$1],ot=o$2(rt);if(it){if(!it.P&&(it.i<4||!b$2("ES5").K(it)))return it.t;it.I=!0,nt=D$1(rt,ot),it.I=!1}else nt=D$1(rt,ot);return i$4(nt,function(at,st){it&&a$4(it.t,at)===st||f$a(nt,at,et(st))}),ot===3?new Set(nt):nt}(tt)}function D$1(tt,et){switch(et){case 2:return new Map(tt);case 3:return Array.from(tt)}return l$2(tt)}function F$1(){function tt(ot,at){var st=it[ot];return st?st.enumerable=at:it[ot]=st={configurable:!0,enumerable:at,get:function(){var lt=this[Q$1];return en.get(lt,ot)},set:function(lt){var ct=this[Q$1];en.set(ct,ot,lt)}},st}function et(ot){for(var at=ot.length-1;at>=0;at--){var st=ot[at][Q$1];if(!st.P)switch(st.i){case 5:nt(st)&&k$2(st);break;case 4:rt(st)&&k$2(st)}}}function rt(ot){for(var at=ot.t,st=ot.k,lt=nn(st),ct=lt.length-1;ct>=0;ct--){var ut=lt[ct];if(ut!==Q$1){var dt=at[ut];if(dt===void 0&&!u$2(at,ut))return!0;var ft=st[ut],pt=ft&&ft[Q$1];if(pt?pt.t!==dt:!c$3(ft,dt))return!0}}var mt=!!at[Q$1];return lt.length!==nn(at).length+(mt?0:1)}function nt(ot){var at=ot.k;if(at.length!==ot.t.length)return!0;var st=Object.getOwnPropertyDescriptor(at,at.length-1);if(st&&!st.get)return!0;for(var lt=0;lt<at.length;lt++)if(!at.hasOwnProperty(lt))return!0;return!1}var it={};m$1("ES5",{J:function(ot,at){var st=Array.isArray(ot),lt=function(ut,dt){if(ut){for(var ft=Array(dt.length),pt=0;pt<dt.length;pt++)Object.defineProperty(ft,""+pt,tt(pt,!0));return ft}var mt=rn(dt);delete mt[Q$1];for(var ht=nn(mt),gt=0;gt<ht.length;gt++){var vt=ht[gt];mt[vt]=tt(vt,ut||!!mt[vt].enumerable)}return Object.create(Object.getPrototypeOf(dt),mt)}(st,ot),ct={i:st?5:4,A:at?at.A:_$5(),P:!1,I:!1,R:{},l:at,t:ot,k:lt,o:null,O:!1,C:!1};return Object.defineProperty(lt,Q$1,{value:ct,writable:!0}),lt},S:function(ot,at,st){st?r$3(at)&&at[Q$1].A===ot&&et(ot.p):(ot.u&&function lt(ct){if(ct&&typeof ct=="object"){var ut=ct[Q$1];if(ut){var dt=ut.t,ft=ut.k,pt=ut.R,mt=ut.i;if(mt===4)i$4(ft,function(bt){bt!==Q$1&&(dt[bt]!==void 0||u$2(dt,bt)?pt[bt]||lt(ft[bt]):(pt[bt]=!0,k$2(ut)))}),i$4(dt,function(bt){ft[bt]!==void 0||u$2(ft,bt)||(pt[bt]=!1,k$2(ut))});else if(mt===5){if(nt(ut)&&(k$2(ut),pt.length=!0),ft.length<dt.length)for(var ht=ft.length;ht<dt.length;ht++)pt[ht]=!1;else for(var gt=dt.length;gt<ft.length;gt++)pt[gt]=!0;for(var vt=Math.min(ft.length,dt.length),yt=0;yt<vt;yt++)ft.hasOwnProperty(yt)||(pt[yt]=!0),pt[yt]===void 0&&lt(ft[yt])}}}}(ot.p[0]),et(ot.p))},K:function(ot){return ot.i===4?rt(ot):nt(ot)}})}var G$1,U$1,W$1=typeof Symbol<"u"&&typeof Symbol("x")=="symbol",X$1=typeof Map<"u",q$1=typeof Set<"u",B$1=typeof Proxy<"u"&&Proxy.revocable!==void 0&&typeof Reflect<"u",H$1=W$1?Symbol.for("immer-nothing"):((G$1={})["immer-nothing"]=!0,G$1),L$1=W$1?Symbol.for("immer-draftable"):"__$immer_draftable",Q$1=W$1?Symbol.for("immer-state"):"__$immer_state",Z$1=""+Object.prototype.constructor,nn=typeof Reflect<"u"&&Reflect.ownKeys?Reflect.ownKeys:Object.getOwnPropertySymbols!==void 0?function(tt){return Object.getOwnPropertyNames(tt).concat(Object.getOwnPropertySymbols(tt))}:Object.getOwnPropertyNames,rn=Object.getOwnPropertyDescriptors||function(tt){var et={};return nn(tt).forEach(function(rt){et[rt]=Object.getOwnPropertyDescriptor(tt,rt)}),et},tn={},en={get:function(tt,et){if(et===Q$1)return tt;var rt=p$2(tt);if(!u$2(rt,et))return function(it,ot,at){var st,lt=I$1(ot,at);return lt?"value"in lt?lt.value:(st=lt.get)===null||st===void 0?void 0:st.call(it.k):void 0}(tt,rt,et);var nt=rt[et];return tt.I||!t$5(nt)?nt:nt===z$1(tt.t,et)?(E$1(tt),tt.o[et]=N$1(tt.A.h,nt,tt)):nt},has:function(tt,et){return et in p$2(tt)},ownKeys:function(tt){return Reflect.ownKeys(p$2(tt))},set:function(tt,et,rt){var nt=I$1(p$2(tt),et);if(nt!=null&&nt.set)return nt.set.call(tt.k,rt),!0;if(!tt.P){var it=z$1(p$2(tt),et),ot=it==null?void 0:it[Q$1];if(ot&&ot.t===rt)return tt.o[et]=rt,tt.R[et]=!1,!0;if(c$3(rt,it)&&(rt!==void 0||u$2(tt.t,et)))return!0;E$1(tt),k$2(tt)}return tt.o[et]===rt&&(rt!==void 0||et in tt.o)||Number.isNaN(rt)&&Number.isNaN(tt.o[et])||(tt.o[et]=rt,tt.R[et]=!0),!0},deleteProperty:function(tt,et){return z$1(tt.t,et)!==void 0||et in tt.t?(tt.R[et]=!1,E$1(tt),k$2(tt)):delete tt.R[et],tt.o&&delete tt.o[et],!0},getOwnPropertyDescriptor:function(tt,et){var rt=p$2(tt),nt=Reflect.getOwnPropertyDescriptor(rt,et);return nt&&{writable:!0,configurable:tt.i!==1||et!=="length",enumerable:nt.enumerable,value:rt[et]}},defineProperty:function(){n$3(11)},getPrototypeOf:function(tt){return Object.getPrototypeOf(tt.t)},setPrototypeOf:function(){n$3(12)}},on$1={};i$4(en,function(tt,et){on$1[tt]=function(){return arguments[0]=arguments[0][0],et.apply(this,arguments)}}),on$1.deleteProperty=function(tt,et){return on$1.set.call(this,tt,et,void 0)},on$1.set=function(tt,et,rt){return en.set.call(this,tt[0],et,rt,tt[0])};var un=function(){function tt(rt){var nt=this;this.g=B$1,this.D=!0,this.produce=function(it,ot,at){if(typeof it=="function"&&typeof ot!="function"){var st=ot;ot=it;var lt=nt;return function(ht){var gt=this;ht===void 0&&(ht=st);for(var vt=arguments.length,yt=Array(vt>1?vt-1:0),bt=1;bt<vt;bt++)yt[bt-1]=arguments[bt];return lt.produce(ht,function(xt){var $t;return($t=ot).call.apply($t,[gt,xt].concat(yt))})}}var ct;if(typeof ot!="function"&&n$3(6),at!==void 0&&typeof at!="function"&&n$3(7),t$5(it)){var ut=w$1(nt),dt=N$1(nt,it,void 0),ft=!0;try{ct=ot(dt),ft=!1}finally{ft?O$1(ut):g$1(ut)}return typeof Promise<"u"&&ct instanceof Promise?ct.then(function(ht){return j$1(ut,at),P$2(ht,ut)},function(ht){throw O$1(ut),ht}):(j$1(ut,at),P$2(ct,ut))}if(!it||typeof it!="object"){if((ct=ot(it))===void 0&&(ct=it),ct===H$1&&(ct=void 0),nt.D&&d$1(ct,!0),at){var pt=[],mt=[];b$2("Patches").M(it,ct,pt,mt),at(pt,mt)}return ct}n$3(21,it)},this.produceWithPatches=function(it,ot){if(typeof it=="function")return function(ct){for(var ut=arguments.length,dt=Array(ut>1?ut-1:0),ft=1;ft<ut;ft++)dt[ft-1]=arguments[ft];return nt.produceWithPatches(ct,function(pt){return it.apply(void 0,[pt].concat(dt))})};var at,st,lt=nt.produce(it,ot,function(ct,ut){at=ct,st=ut});return typeof Promise<"u"&&lt instanceof Promise?lt.then(function(ct){return[ct,at,st]}):[lt,at,st]},typeof(rt==null?void 0:rt.useProxies)=="boolean"&&this.setUseProxies(rt.useProxies),typeof(rt==null?void 0:rt.autoFreeze)=="boolean"&&this.setAutoFreeze(rt.autoFreeze)}var et=tt.prototype;return et.createDraft=function(rt){t$5(rt)||n$3(8),r$3(rt)&&(rt=R$1(rt));var nt=w$1(this),it=N$1(this,rt,void 0);return it[Q$1].C=!0,g$1(nt),it},et.finishDraft=function(rt,nt){var it=rt&&rt[Q$1],ot=it.A;return j$1(ot,nt),P$2(void 0,ot)},et.setAutoFreeze=function(rt){this.D=rt},et.setUseProxies=function(rt){rt&&!B$1&&n$3(20),this.g=rt},et.applyPatches=function(rt,nt){var it;for(it=nt.length-1;it>=0;it--){var ot=nt[it];if(ot.path.length===0&&ot.op==="replace"){rt=ot.value;break}}it>-1&&(nt=nt.slice(it+1));var at=b$2("Patches").$;return r$3(rt)?at(rt,nt):this.produce(rt,function(st){return at(st,nt)})},tt}(),an=new un,fn=an.produce;an.produceWithPatches.bind(an);an.setAutoFreeze.bind(an);an.setUseProxies.bind(an);an.applyPatches.bind(an);an.createDraft.bind(an);an.finishDraft.bind(an);const createNextState3=fn;var NOT_FOUND="NOT_FOUND";function createSingletonCache(tt){var et;return{get:function(nt){return et&&tt(et.key,nt)?et.value:NOT_FOUND},put:function(nt,it){et={key:nt,value:it}},getEntries:function(){return et?[et]:[]},clear:function(){et=void 0}}}function createLruCache(tt,et){var rt=[];function nt(st){var lt=rt.findIndex(function(ut){return et(st,ut.key)});if(lt>-1){var ct=rt[lt];return lt>0&&(rt.splice(lt,1),rt.unshift(ct)),ct.value}return NOT_FOUND}function it(st,lt){nt(st)===NOT_FOUND&&(rt.unshift({key:st,value:lt}),rt.length>tt&&rt.pop())}function ot(){return rt}function at(){rt=[]}return{get:nt,put:it,getEntries:ot,clear:at}}var defaultEqualityCheck=function(et,rt){return et===rt};function createCacheKeyComparator(tt){return function(rt,nt){if(rt===null||nt===null||rt.length!==nt.length)return!1;for(var it=rt.length,ot=0;ot<it;ot++)if(!tt(rt[ot],nt[ot]))return!1;return!0}}function defaultMemoize(tt,et){var rt=typeof et=="object"?et:{equalityCheck:et},nt=rt.equalityCheck,it=nt===void 0?defaultEqualityCheck:nt,ot=rt.maxSize,at=ot===void 0?1:ot,st=rt.resultEqualityCheck,lt=createCacheKeyComparator(it),ct=at===1?createSingletonCache(lt):createLruCache(at,lt);function ut(){var dt=ct.get(arguments);if(dt===NOT_FOUND){if(dt=tt.apply(null,arguments),st){var ft=ct.getEntries(),pt=ft.find(function(mt){return st(mt.value,dt)});pt&&(dt=pt.value)}ct.put(arguments,dt)}return dt}return ut.clearCache=function(){return ct.clear()},ut}function getDependencies(tt){var et=Array.isArray(tt[0])?tt[0]:tt;if(!et.every(function(nt){return typeof nt=="function"})){var rt=et.map(function(nt){return typeof nt=="function"?"function "+(nt.name||"unnamed")+"()":typeof nt}).join(", ");throw new Error("createSelector expects all input-selectors to be functions, but received the following types: ["+rt+"]")}return et}function createSelectorCreator(tt){for(var et=arguments.length,rt=new Array(et>1?et-1:0),nt=1;nt<et;nt++)rt[nt-1]=arguments[nt];var it=function(){for(var at=arguments.length,st=new Array(at),lt=0;lt<at;lt++)st[lt]=arguments[lt];var ct=0,ut,dt={memoizeOptions:void 0},ft=st.pop();if(typeof ft=="object"&&(dt=ft,ft=st.pop()),typeof ft!="function")throw new Error("createSelector expects an output function after the inputs, but received: ["+typeof ft+"]");var pt=dt,mt=pt.memoizeOptions,ht=mt===void 0?rt:mt,gt=Array.isArray(ht)?ht:[ht],vt=getDependencies(st),yt=tt.apply(void 0,[function(){return ct++,ft.apply(null,arguments)}].concat(gt)),bt=tt(function(){for(var $t=[],Tt=vt.length,wt=0;wt<Tt;wt++)$t.push(vt[wt].apply(null,arguments));return ut=yt.apply(null,$t),ut});return Object.assign(bt,{resultFunc:ft,memoizedResultFunc:yt,dependencies:vt,lastResult:function(){return ut},recomputations:function(){return ct},resetRecomputations:function(){return ct=0}}),bt};return it}var createSelector=createSelectorCreator(defaultMemoize);function createThunkMiddleware(tt){var et=function(nt){var it=nt.dispatch,ot=nt.getState;return function(at){return function(st){return typeof st=="function"?st(it,ot,tt):at(st)}}};return et}var thunk=createThunkMiddleware();thunk.withExtraArgument=createThunkMiddleware;const thunkMiddleware=thunk;var __extends=globalThis&&globalThis.__extends||function(){var tt=function(et,rt){return tt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(nt,it){nt.__proto__=it}||function(nt,it){for(var ot in it)Object.prototype.hasOwnProperty.call(it,ot)&&(nt[ot]=it[ot])},tt(et,rt)};return function(et,rt){if(typeof rt!="function"&&rt!==null)throw new TypeError("Class extends value "+String(rt)+" is not a constructor or null");tt(et,rt);function nt(){this.constructor=et}et.prototype=rt===null?Object.create(rt):(nt.prototype=rt.prototype,new nt)}}(),__generator$1=globalThis&&globalThis.__generator||function(tt,et){var rt={label:0,sent:function(){if(ot[0]&1)throw ot[1];return ot[1]},trys:[],ops:[]},nt,it,ot,at;return at={next:st(0),throw:st(1),return:st(2)},typeof Symbol=="function"&&(at[Symbol.iterator]=function(){return this}),at;function st(ct){return function(ut){return lt([ct,ut])}}function lt(ct){if(nt)throw new TypeError("Generator is already executing.");for(;rt;)try{if(nt=1,it&&(ot=ct[0]&2?it.return:ct[0]?it.throw||((ot=it.return)&&ot.call(it),0):it.next)&&!(ot=ot.call(it,ct[1])).done)return ot;switch(it=0,ot&&(ct=[ct[0]&2,ot.value]),ct[0]){case 0:case 1:ot=ct;break;case 4:return rt.label++,{value:ct[1],done:!1};case 5:rt.label++,it=ct[1],ct=[0];continue;case 7:ct=rt.ops.pop(),rt.trys.pop();continue;default:if(ot=rt.trys,!(ot=ot.length>0&&ot[ot.length-1])&&(ct[0]===6||ct[0]===2)){rt=0;continue}if(ct[0]===3&&(!ot||ct[1]>ot[0]&&ct[1]<ot[3])){rt.label=ct[1];break}if(ct[0]===6&&rt.label<ot[1]){rt.label=ot[1],ot=ct;break}if(ot&&rt.label<ot[2]){rt.label=ot[2],rt.ops.push(ct);break}ot[2]&&rt.ops.pop(),rt.trys.pop();continue}ct=et.call(tt,rt)}catch(ut){ct=[6,ut],it=0}finally{nt=ot=0}if(ct[0]&5)throw ct[1];return{value:ct[0]?ct[1]:void 0,done:!0}}},__spreadArray$6=globalThis&&globalThis.__spreadArray||function(tt,et){for(var rt=0,nt=et.length,it=tt.length;rt<nt;rt++,it++)tt[it]=et[rt];return tt},__defProp$1=Object.defineProperty,__defProps$1=Object.defineProperties,__getOwnPropDescs$1=Object.getOwnPropertyDescriptors,__getOwnPropSymbols$1=Object.getOwnPropertySymbols,__hasOwnProp$1=Object.prototype.hasOwnProperty,__propIsEnum$1=Object.prototype.propertyIsEnumerable,__defNormalProp$1=function(tt,et,rt){return et in tt?__defProp$1(tt,et,{enumerable:!0,configurable:!0,writable:!0,value:rt}):tt[et]=rt},__spreadValues$1=function(tt,et){for(var rt in et||(et={}))__hasOwnProp$1.call(et,rt)&&__defNormalProp$1(tt,rt,et[rt]);if(__getOwnPropSymbols$1)for(var nt=0,it=__getOwnPropSymbols$1(et);nt<it.length;nt++){var rt=it[nt];__propIsEnum$1.call(et,rt)&&__defNormalProp$1(tt,rt,et[rt])}return tt},__spreadProps$1=function(tt,et){return __defProps$1(tt,__getOwnPropDescs$1(et))},__async=function(tt,et,rt){return new Promise(function(nt,it){var ot=function(lt){try{st(rt.next(lt))}catch(ct){it(ct)}},at=function(lt){try{st(rt.throw(lt))}catch(ct){it(ct)}},st=function(lt){return lt.done?nt(lt.value):Promise.resolve(lt.value).then(ot,at)};st((rt=rt.apply(tt,et)).next())})},composeWithDevTools=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?compose$3:compose$3.apply(null,arguments)};function isPlainObject$7(tt){if(typeof tt!="object"||tt===null)return!1;var et=Object.getPrototypeOf(tt);if(et===null)return!0;for(var rt=et;Object.getPrototypeOf(rt)!==null;)rt=Object.getPrototypeOf(rt);return et===rt}var MiddlewareArray=function(tt){__extends(et,tt);function et(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];var it=tt.apply(this,rt)||this;return Object.setPrototypeOf(it,et.prototype),it}return Object.defineProperty(et,Symbol.species,{get:function(){return et},enumerable:!1,configurable:!0}),et.prototype.concat=function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];return tt.prototype.concat.apply(this,rt)},et.prototype.prepend=function(){for(var rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];return rt.length===1&&Array.isArray(rt[0])?new(et.bind.apply(et,__spreadArray$6([void 0],rt[0].concat(this)))):new(et.bind.apply(et,__spreadArray$6([void 0],rt.concat(this))))},et}(Array);function freezeDraftable(tt){return t$5(tt)?createNextState3(tt,function(){}):tt}function isBoolean$9(tt){return typeof tt=="boolean"}function curryGetDefaultMiddleware(){return function(et){return getDefaultMiddleware(et)}}function getDefaultMiddleware(tt){tt===void 0&&(tt={});var et=tt.thunk,rt=et===void 0?!0:et;tt.immutableCheck,tt.serializableCheck;var nt=new MiddlewareArray;return rt&&(isBoolean$9(rt)?nt.push(thunkMiddleware):nt.push(thunkMiddleware.withExtraArgument(rt.extraArgument))),nt}var IS_PRODUCTION=!0;function configureStore(tt){var et=curryGetDefaultMiddleware(),rt=tt||{},nt=rt.reducer,it=nt===void 0?void 0:nt,ot=rt.middleware,at=ot===void 0?et():ot,st=rt.devTools,lt=st===void 0?!0:st,ct=rt.preloadedState,ut=ct===void 0?void 0:ct,dt=rt.enhancers,ft=dt===void 0?void 0:dt,pt;if(typeof it=="function")pt=it;else if(isPlainObject$7(it))pt=combineReducers(it);else throw new Error('"reducer" is a required argument, and must be a function or an object of functions that can be passed to combineReducers');var mt=at;typeof mt=="function"&&(mt=mt(et));var ht=applyMiddleware.apply(void 0,mt),gt=compose$3;lt&&(gt=composeWithDevTools(__spreadValues$1({trace:!IS_PRODUCTION},typeof lt=="object"&&lt)));var vt=[ht];Array.isArray(ft)?vt=__spreadArray$6([ht],ft):typeof ft=="function"&&(vt=ft(vt));var yt=gt.apply(void 0,vt);return createStore$3(pt,ut,yt)}function createAction(tt,et){function rt(){for(var nt=[],it=0;it<arguments.length;it++)nt[it]=arguments[it];if(et){var ot=et.apply(void 0,nt);if(!ot)throw new Error("prepareAction did not return an object");return __spreadValues$1(__spreadValues$1({type:tt,payload:ot.payload},"meta"in ot&&{meta:ot.meta}),"error"in ot&&{error:ot.error})}return{type:tt,payload:nt[0]}}return rt.toString=function(){return""+tt},rt.type=tt,rt.match=function(nt){return nt.type===tt},rt}function executeReducerBuilderCallback(tt){var et={},rt=[],nt,it={addCase:function(ot,at){var st=typeof ot=="string"?ot:ot.type;if(st in et)throw new Error("addCase cannot be called with two reducers for the same action type");return et[st]=at,it},addMatcher:function(ot,at){return rt.push({matcher:ot,reducer:at}),it},addDefaultCase:function(ot){return nt=ot,it}};return tt(it),[et,rt,nt]}function isStateFunction(tt){return typeof tt=="function"}function createReducer(tt,et,rt,nt){rt===void 0&&(rt=[]);var it=typeof et=="function"?executeReducerBuilderCallback(et):[et,rt,nt],ot=it[0],at=it[1],st=it[2],lt;if(isStateFunction(tt))lt=function(){return freezeDraftable(tt())};else{var ct=freezeDraftable(tt);lt=function(){return ct}}function ut(dt,ft){dt===void 0&&(dt=lt());var pt=__spreadArray$6([ot[ft.type]],at.filter(function(mt){var ht=mt.matcher;return ht(ft)}).map(function(mt){var ht=mt.reducer;return ht}));return pt.filter(function(mt){return!!mt}).length===0&&(pt=[st]),pt.reduce(function(mt,ht){if(ht)if(r$3(mt)){var gt=mt,vt=ht(gt,ft);return vt===void 0?mt:vt}else{if(t$5(mt))return createNextState3(mt,function(yt){return ht(yt,ft)});var vt=ht(mt,ft);if(vt===void 0){if(mt===null)return mt;throw Error("A case reducer on a non-draftable value must not return undefined")}return vt}return mt},dt)}return ut.getInitialState=lt,ut}function getType2(tt,et){return tt+"/"+et}function createSlice(tt){var et=tt.name;if(!et)throw new Error("`name` is a required option for createSlice");typeof process<"u";var rt=typeof tt.initialState=="function"?tt.initialState:freezeDraftable(tt.initialState),nt=tt.reducers||{},it=Object.keys(nt),ot={},at={},st={};it.forEach(function(ut){var dt=nt[ut],ft=getType2(et,ut),pt,mt;"reducer"in dt?(pt=dt.reducer,mt=dt.prepare):pt=dt,ot[ut]=pt,at[ft]=pt,st[ut]=mt?createAction(ft,mt):createAction(ft)});function lt(){var ut=typeof tt.extraReducers=="function"?executeReducerBuilderCallback(tt.extraReducers):[tt.extraReducers],dt=ut[0],ft=dt===void 0?{}:dt,pt=ut[1],mt=pt===void 0?[]:pt,ht=ut[2],gt=ht===void 0?void 0:ht,vt=__spreadValues$1(__spreadValues$1({},ft),at);return createReducer(rt,function(yt){for(var bt in vt)yt.addCase(bt,vt[bt]);for(var xt=0,$t=mt;xt<$t.length;xt++){var Tt=$t[xt];yt.addMatcher(Tt.matcher,Tt.reducer)}gt&&yt.addDefaultCase(gt)})}var ct;return{name:et,reducer:function(ut,dt){return ct||(ct=lt()),ct(ut,dt)},actions:st,caseReducers:ot,getInitialState:function(){return ct||(ct=lt()),ct.getInitialState()}}}var urlAlphabet="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",nanoid=function(tt){tt===void 0&&(tt=21);for(var et="",rt=tt;rt--;)et+=urlAlphabet[Math.random()*64|0];return et},commonProperties=["name","message","stack","code"],RejectWithValue=function(){function tt(et,rt){this.payload=et,this.meta=rt}return tt}(),FulfillWithMeta=function(){function tt(et,rt){this.payload=et,this.meta=rt}return tt}(),miniSerializeError=function(tt){if(typeof tt=="object"&&tt!==null){for(var et={},rt=0,nt=commonProperties;rt<nt.length;rt++){var it=nt[rt];typeof tt[it]=="string"&&(et[it]=tt[it])}return et}return{message:String(tt)}};(function(){function tt(et,rt,nt){var it=createAction(et+"/fulfilled",function(ct,ut,dt,ft){return{payload:ct,meta:__spreadProps$1(__spreadValues$1({},ft||{}),{arg:dt,requestId:ut,requestStatus:"fulfilled"})}}),ot=createAction(et+"/pending",function(ct,ut,dt){return{payload:void 0,meta:__spreadProps$1(__spreadValues$1({},dt||{}),{arg:ut,requestId:ct,requestStatus:"pending"})}}),at=createAction(et+"/rejected",function(ct,ut,dt,ft,pt){return{payload:ft,error:(nt&&nt.serializeError||miniSerializeError)(ct||"Rejected"),meta:__spreadProps$1(__spreadValues$1({},pt||{}),{arg:dt,requestId:ut,rejectedWithValue:!!ft,requestStatus:"rejected",aborted:(ct==null?void 0:ct.name)==="AbortError",condition:(ct==null?void 0:ct.name)==="ConditionError"})}}),st=typeof AbortController<"u"?AbortController:function(){function ct(){this.signal={aborted:!1,addEventListener:function(){},dispatchEvent:function(){return!1},onabort:function(){},removeEventListener:function(){},reason:void 0,throwIfAborted:function(){}}}return ct.prototype.abort=function(){},ct}();function lt(ct){return function(ut,dt,ft){var pt=nt!=null&&nt.idGenerator?nt.idGenerator(ct):nanoid(),mt=new st,ht;function gt(yt){ht=yt,mt.abort()}var vt=function(){return __async(this,null,function(){var yt,bt,xt,$t,Tt,wt,At;return __generator$1(this,function(Rt){switch(Rt.label){case 0:return Rt.trys.push([0,4,,5]),$t=(yt=nt==null?void 0:nt.condition)==null?void 0:yt.call(nt,ct,{getState:dt,extra:ft}),isThenable$4($t)?[4,$t]:[3,2];case 1:$t=Rt.sent(),Rt.label=2;case 2:if($t===!1||mt.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};return Tt=new Promise(function(It,Lt){return mt.signal.addEventListener("abort",function(){return Lt({name:"AbortError",message:ht||"Aborted"})})}),ut(ot(pt,ct,(bt=nt==null?void 0:nt.getPendingMeta)==null?void 0:bt.call(nt,{requestId:pt,arg:ct},{getState:dt,extra:ft}))),[4,Promise.race([Tt,Promise.resolve(rt(ct,{dispatch:ut,getState:dt,extra:ft,requestId:pt,signal:mt.signal,abort:gt,rejectWithValue:function(It,Lt){return new RejectWithValue(It,Lt)},fulfillWithValue:function(It,Lt){return new FulfillWithMeta(It,Lt)}})).then(function(It){if(It instanceof RejectWithValue)throw It;return It instanceof FulfillWithMeta?it(It.payload,pt,ct,It.meta):it(It,pt,ct)})])];case 3:return xt=Rt.sent(),[3,5];case 4:return wt=Rt.sent(),xt=wt instanceof RejectWithValue?at(null,pt,ct,wt.payload,wt.meta):at(wt,pt,ct),[3,5];case 5:return At=nt&&!nt.dispatchConditionRejection&&at.match(xt)&&xt.meta.condition,At||ut(xt),[2,xt]}})})}();return Object.assign(vt,{abort:gt,requestId:pt,arg:ct,unwrap:function(){return vt.then(unwrapResult)}})}}return Object.assign(lt,{pending:ot,rejected:at,fulfilled:it,typePrefix:et})}return tt.withTypes=function(){return tt},tt})();function unwrapResult(tt){if(tt.meta&&tt.meta.rejectedWithValue)throw tt.payload;if(tt.error)throw tt.error;return tt.payload}function isThenable$4(tt){return tt!==null&&typeof tt=="object"&&typeof tt.then=="function"}var hasMatchFunction=function(tt){return tt&&typeof tt.match=="function"},matches=function(tt,et){return hasMatchFunction(tt)?tt.match(et):tt(et)};function isAnyOf(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];return function(rt){return tt.some(function(nt){return matches(nt,rt)})}}var assertFunction=function(tt,et){if(typeof tt!="function")throw new TypeError(et+" is not a function")},noop$d=function(){},catchRejection=function(tt,et){return et===void 0&&(et=noop$d),tt.catch(et),tt},addAbortSignalListener=function(tt,et){return tt.addEventListener("abort",et,{once:!0}),function(){return tt.removeEventListener("abort",et)}},abortControllerWithReason=function(tt,et){var rt=tt.signal;rt.aborted||("reason"in rt||Object.defineProperty(rt,"reason",{enumerable:!0,value:et,configurable:!0,writable:!0}),tt.abort(et))},task$5="task",listener$4="listener",completed="completed",cancelled="cancelled",taskCancelled="task-"+cancelled,taskCompleted="task-"+completed,listenerCancelled=listener$4+"-"+cancelled,listenerCompleted=listener$4+"-"+completed,TaskAbortError=function(){function tt(et){this.code=et,this.name="TaskAbortError",this.message=task$5+" "+cancelled+" (reason: "+et+")"}return tt}(),validateActive=function(tt){if(tt.aborted)throw new TaskAbortError(tt.reason)};function raceWithSignal(tt,et){var rt=noop$d;return new Promise(function(nt,it){var ot=function(){return it(new TaskAbortError(tt.reason))};if(tt.aborted){ot();return}rt=addAbortSignalListener(tt,ot),et.finally(function(){return rt()}).then(nt,it)}).finally(function(){rt=noop$d})}var runTask=function(tt,et){return __async(void 0,null,function(){var rt,nt;return __generator$1(this,function(it){switch(it.label){case 0:return it.trys.push([0,3,4,5]),[4,Promise.resolve()];case 1:return it.sent(),[4,tt()];case 2:return rt=it.sent(),[2,{status:"ok",value:rt}];case 3:return nt=it.sent(),[2,{status:nt instanceof TaskAbortError?"cancelled":"rejected",error:nt}];case 4:return et==null||et(),[7];case 5:return[2]}})})},createPause=function(tt){return function(et){return catchRejection(raceWithSignal(tt,et).then(function(rt){return validateActive(tt),rt}))}},createDelay=function(tt){var et=createPause(tt);return function(rt){return et(new Promise(function(nt){return setTimeout(nt,rt)}))}},assign$4=Object.assign,INTERNAL_NIL_TOKEN={},alm="listenerMiddleware",createFork=function(tt){var et=function(rt){return addAbortSignalListener(tt,function(){return abortControllerWithReason(rt,tt.reason)})};return function(rt){assertFunction(rt,"taskExecutor");var nt=new AbortController;et(nt);var it=runTask(function(){return __async(void 0,null,function(){var ot;return __generator$1(this,function(at){switch(at.label){case 0:return validateActive(tt),validateActive(nt.signal),[4,rt({pause:createPause(nt.signal),delay:createDelay(nt.signal),signal:nt.signal})];case 1:return ot=at.sent(),validateActive(nt.signal),[2,ot]}})})},function(){return abortControllerWithReason(nt,taskCompleted)});return{result:createPause(tt)(it),cancel:function(){abortControllerWithReason(nt,taskCancelled)}}}},createTakePattern=function(tt,et){var rt=function(nt,it){return __async(void 0,null,function(){var ot,at,st,lt;return __generator$1(this,function(ct){switch(ct.label){case 0:validateActive(et),ot=function(){},at=new Promise(function(ut,dt){var ft=tt({predicate:nt,effect:function(pt,mt){mt.unsubscribe(),ut([pt,mt.getState(),mt.getOriginalState()])}});ot=function(){ft(),dt()}}),st=[at],it!=null&&st.push(new Promise(function(ut){return setTimeout(ut,it,null)})),ct.label=1;case 1:return ct.trys.push([1,,3,4]),[4,raceWithSignal(et,Promise.race(st))];case 2:return lt=ct.sent(),validateActive(et),[2,lt];case 3:return ot(),[7];case 4:return[2]}})})};return function(nt,it){return catchRejection(rt(nt,it))}},getListenerEntryPropsFrom=function(tt){var et=tt.type,rt=tt.actionCreator,nt=tt.matcher,it=tt.predicate,ot=tt.effect;if(et)it=createAction(et).match;else if(rt)et=rt.type,it=rt.match;else if(nt)it=nt;else if(!it)throw new Error("Creating or removing a listener requires one of the known fields for matching an action");return assertFunction(ot,"options.listener"),{predicate:it,type:et,effect:ot}},createListenerEntry=function(tt){var et=getListenerEntryPropsFrom(tt),rt=et.type,nt=et.predicate,it=et.effect,ot=nanoid(),at={id:ot,effect:it,type:rt,predicate:nt,pending:new Set,unsubscribe:function(){throw new Error("Unsubscribe not initialized")}};return at},cancelActiveListeners=function(tt){tt.pending.forEach(function(et){abortControllerWithReason(et,listenerCancelled)})},createClearListenerMiddleware=function(tt){return function(){tt.forEach(cancelActiveListeners),tt.clear()}},safelyNotifyError=function(tt,et,rt){try{tt(et,rt)}catch(nt){setTimeout(function(){throw nt},0)}},addListener=createAction(alm+"/add"),clearAllListeners=createAction(alm+"/removeAll"),removeListener=createAction(alm+"/remove"),defaultErrorHandler=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];console.error.apply(console,__spreadArray$6([alm+"/error"],tt))};function createListenerMiddleware(tt){var et=this;tt===void 0&&(tt={});var rt=new Map,nt=tt.extra,it=tt.onError,ot=it===void 0?defaultErrorHandler:it;assertFunction(ot,"onError");var at=function(pt){return pt.unsubscribe=function(){return rt.delete(pt.id)},rt.set(pt.id,pt),function(mt){pt.unsubscribe(),mt!=null&&mt.cancelActive&&cancelActiveListeners(pt)}},st=function(pt){for(var mt=0,ht=Array.from(rt.values());mt<ht.length;mt++){var gt=ht[mt];if(pt(gt))return gt}},lt=function(pt){var mt=st(function(ht){return ht.effect===pt.effect});return mt||(mt=createListenerEntry(pt)),at(mt)},ct=function(pt){var mt=getListenerEntryPropsFrom(pt),ht=mt.type,gt=mt.effect,vt=mt.predicate,yt=st(function(bt){var xt=typeof ht=="string"?bt.type===ht:bt.predicate===vt;return xt&&bt.effect===gt});return yt&&(yt.unsubscribe(),pt.cancelActive&&cancelActiveListeners(yt)),!!yt},ut=function(pt,mt,ht,gt){return __async(et,null,function(){var vt,yt,bt;return __generator$1(this,function(xt){switch(xt.label){case 0:vt=new AbortController,yt=createTakePattern(lt,vt.signal),xt.label=1;case 1:return xt.trys.push([1,3,4,5]),pt.pending.add(vt),[4,Promise.resolve(pt.effect(mt,assign$4({},ht,{getOriginalState:gt,condition:function($t,Tt){return yt($t,Tt).then(Boolean)},take:yt,delay:createDelay(vt.signal),pause:createPause(vt.signal),extra:nt,signal:vt.signal,fork:createFork(vt.signal),unsubscribe:pt.unsubscribe,subscribe:function(){rt.set(pt.id,pt)},cancelActiveListeners:function(){pt.pending.forEach(function($t,Tt,wt){$t!==vt&&(abortControllerWithReason($t,listenerCancelled),wt.delete($t))})}})))];case 2:return xt.sent(),[3,5];case 3:return bt=xt.sent(),bt instanceof TaskAbortError||safelyNotifyError(ot,bt,{raisedBy:"effect"}),[3,5];case 4:return abortControllerWithReason(vt,listenerCompleted),pt.pending.delete(vt),[7];case 5:return[2]}})})},dt=createClearListenerMiddleware(rt),ft=function(pt){return function(mt){return function(ht){if(addListener.match(ht))return lt(ht.payload);if(clearAllListeners.match(ht)){dt();return}if(removeListener.match(ht))return ct(ht.payload);var gt=pt.getState(),vt=function(){if(gt===INTERNAL_NIL_TOKEN)throw new Error(alm+": getOriginalState can only be called synchronously");return gt},yt;try{if(yt=mt(ht),rt.size>0)for(var bt=pt.getState(),xt=Array.from(rt.values()),$t=0,Tt=xt;$t<Tt.length;$t++){var wt=Tt[$t],At=!1;try{At=wt.predicate(ht,bt,gt)}catch(Rt){At=!1,safelyNotifyError(ot,Rt,{raisedBy:"predicate"})}At&&ut(wt,ht,pt,vt)}}finally{gt=INTERNAL_NIL_TOKEN}return yt}}};return{middleware:ft,startListening:lt,stopListening:ct,clearListeners:dt}}var promise$7;typeof queueMicrotask=="function"&&queueMicrotask.bind(typeof window<"u"?window:typeof global<"u"?global:globalThis);F$1();const LOCALE={ZH_CN:"zhCN",EN_US:"en"},localeList=[{text:"简体中文",event:LOCALE.ZH_CN}],appSlice=createSlice({name:"app",initialState:{locale:LOCALE.ZH_CN,loginModal:!1},reducers:{setLocale:(tt,et)=>{tt.locale=et.payload},setLoginModal:(tt,et)=>{tt.loginModal=et.payload}}}),{setLocale,setLoginModal}=appSlice.actions,getLocale=tt=>tt.app.locale,getLoginModal=tt=>tt.app.loginModal,localeReducer=appSlice.reducer;var freeGlobal$2=typeof global=="object"&&global&&global.Object===Object&&global;const freeGlobal$3=freeGlobal$2;var freeSelf$1=typeof self=="object"&&self&&self.Object===Object&&self,root$b=freeGlobal$3||freeSelf$1||Function("return this")();const root$c=root$b;var Symbol$9=root$c.Symbol;const Symbol$a=Symbol$9;var objectProto$v=Object.prototype,hasOwnProperty$v=objectProto$v.hasOwnProperty,nativeObjectToString$3=objectProto$v.toString,symToStringTag$3=Symbol$a?Symbol$a.toStringTag:void 0;function getRawTag$2(tt){var et=hasOwnProperty$v.call(tt,symToStringTag$3),rt=tt[symToStringTag$3];try{tt[symToStringTag$3]=void 0;var nt=!0}catch{}var it=nativeObjectToString$3.call(tt);return nt&&(et?tt[symToStringTag$3]=rt:delete tt[symToStringTag$3]),it}var objectProto$u=Object.prototype,nativeObjectToString$2=objectProto$u.toString;function objectToString$7(tt){return nativeObjectToString$2.call(tt)}var nullTag$2="[object Null]",undefinedTag$1="[object Undefined]",symToStringTag$2=Symbol$a?Symbol$a.toStringTag:void 0;function baseGetTag$8(tt){return tt==null?tt===void 0?undefinedTag$1:nullTag$2:symToStringTag$2&&symToStringTag$2 in Object(tt)?getRawTag$2(tt):objectToString$7(tt)}function isObjectLike$a(tt){return tt!=null&&typeof tt=="object"}var symbolTag$7="[object Symbol]";function isSymbol$a(tt){return typeof tt=="symbol"||isObjectLike$a(tt)&&baseGetTag$8(tt)==symbolTag$7}function arrayMap$3(tt,et){for(var rt=-1,nt=tt==null?0:tt.length,it=Array(nt);++rt<nt;)it[rt]=et(tt[rt],rt,tt);return it}var isArray$p=Array.isArray;const isArray$q=isArray$p;var INFINITY$4=1/0,symbolProto$5=Symbol$a?Symbol$a.prototype:void 0,symbolToString$1=symbolProto$5?symbolProto$5.toString:void 0;function baseToString$2(tt){if(typeof tt=="string")return tt;if(isArray$q(tt))return arrayMap$3(tt,baseToString$2)+"";if(isSymbol$a(tt))return symbolToString$1?symbolToString$1.call(tt):"";var et=tt+"";return et=="0"&&1/tt==-INFINITY$4?"-0":et}var reWhitespace$1=/\s/;function trimmedEndIndex$2(tt){for(var et=tt.length;et--&&reWhitespace$1.test(tt.charAt(et)););return et}var reTrimStart$1=/^\s+/;function baseTrim$2(tt){return tt&&tt.slice(0,trimmedEndIndex$2(tt)+1).replace(reTrimStart$1,"")}function isObject$m(tt){var et=typeof tt;return tt!=null&&(et=="object"||et=="function")}var NAN$1=0/0,reIsBadHex$1=/^[-+]0x[0-9a-f]+$/i,reIsBinary$1=/^0b[01]+$/i,reIsOctal$1=/^0o[0-7]+$/i,freeParseInt$1=parseInt;function toNumber$2(tt){if(typeof tt=="number")return tt;if(isSymbol$a(tt))return NAN$1;if(isObject$m(tt)){var et=typeof tt.valueOf=="function"?tt.valueOf():tt;tt=isObject$m(et)?et+"":et}if(typeof tt!="string")return tt===0?tt:+tt;tt=baseTrim$2(tt);var rt=reIsBinary$1.test(tt);return rt||reIsOctal$1.test(tt)?freeParseInt$1(tt.slice(2),rt?2:8):reIsBadHex$1.test(tt)?NAN$1:+tt}var INFINITY$3=1/0,MAX_INTEGER=17976931348623157e292;function toFinite(tt){if(!tt)return tt===0?tt:0;if(tt=toNumber$2(tt),tt===INFINITY$3||tt===-INFINITY$3){var et=tt<0?-1:1;return et*MAX_INTEGER}return tt===tt?tt:0}function toInteger(tt){var et=toFinite(tt),rt=et%1;return et===et?rt?et-rt:et:0}function identity$3(tt){return tt}var asyncTag$1="[object AsyncFunction]",funcTag$5="[object Function]",genTag$3="[object GeneratorFunction]",proxyTag$1="[object Proxy]";function isFunction$b(tt){if(!isObject$m(tt))return!1;var et=baseGetTag$8(tt);return et==funcTag$5||et==genTag$3||et==asyncTag$1||et==proxyTag$1}var coreJsData$2=root$c["__core-js_shared__"];const coreJsData$3=coreJsData$2;var maskSrcKey$1=function(){var tt=/[^.]+$/.exec(coreJsData$3&&coreJsData$3.keys&&coreJsData$3.keys.IE_PROTO||"");return tt?"Symbol(src)_1."+tt:""}();function isMasked$2(tt){return!!maskSrcKey$1&&maskSrcKey$1 in tt}var funcProto$5=Function.prototype,funcToString$5=funcProto$5.toString;function toSource$3(tt){if(tt!=null){try{return funcToString$5.call(tt)}catch{}try{return tt+""}catch{}}return""}var reRegExpChar$1=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor$1=/^\[object .+?Constructor\]$/,funcProto$4=Function.prototype,objectProto$t=Object.prototype,funcToString$4=funcProto$4.toString,hasOwnProperty$u=objectProto$t.hasOwnProperty,reIsNative$1=RegExp("^"+funcToString$4.call(hasOwnProperty$u).replace(reRegExpChar$1,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$2(tt){if(!isObject$m(tt)||isMasked$2(tt))return!1;var et=isFunction$b(tt)?reIsNative$1:reIsHostCtor$1;return et.test(toSource$3(tt))}function getValue$4(tt,et){return tt==null?void 0:tt[et]}function getNative$8(tt,et){var rt=getValue$4(tt,et);return baseIsNative$2(rt)?rt:void 0}var WeakMap$8=getNative$8(root$c,"WeakMap");const WeakMap$9=WeakMap$8;var objectCreate$5=Object.create,baseCreate$2=function(){function tt(){}return function(et){if(!isObject$m(et))return{};if(objectCreate$5)return objectCreate$5(et);tt.prototype=et;var rt=new tt;return tt.prototype=void 0,rt}}();const baseCreate$3=baseCreate$2;function apply$4(tt,et,rt){switch(rt.length){case 0:return tt.call(et);case 1:return tt.call(et,rt[0]);case 2:return tt.call(et,rt[0],rt[1]);case 3:return tt.call(et,rt[0],rt[1],rt[2])}return tt.apply(et,rt)}function copyArray$3(tt,et){var rt=-1,nt=tt.length;for(et||(et=Array(nt));++rt<nt;)et[rt]=tt[rt];return et}var HOT_COUNT=800,HOT_SPAN=16,nativeNow=Date.now;function shortOut(tt){var et=0,rt=0;return function(){var nt=nativeNow(),it=HOT_SPAN-(nt-rt);if(rt=nt,it>0){if(++et>=HOT_COUNT)return arguments[0]}else et=0;return tt.apply(void 0,arguments)}}function constant(tt){return function(){return tt}}var defineProperty$7=function(){try{var tt=getNative$8(Object,"defineProperty");return tt({},"",{}),tt}catch{}}();const defineProperty$8=defineProperty$7;var baseSetToString=defineProperty$8?function(tt,et){return defineProperty$8(tt,"toString",{configurable:!0,enumerable:!1,value:constant(et),writable:!0})}:identity$3;const baseSetToString$1=baseSetToString;var setToString=shortOut(baseSetToString$1);const setToString$1=setToString;function arrayEach$2(tt,et){for(var rt=-1,nt=tt==null?0:tt.length;++rt<nt&&et(tt[rt],rt,tt)!==!1;);return tt}var MAX_SAFE_INTEGER$3=9007199254740991,reIsUint$1=/^(?:0|[1-9]\d*)$/;function isIndex$3(tt,et){var rt=typeof tt;return et=et??MAX_SAFE_INTEGER$3,!!et&&(rt=="number"||rt!="symbol"&&reIsUint$1.test(tt))&&tt>-1&&tt%1==0&&tt<et}function baseAssignValue$3(tt,et,rt){et=="__proto__"&&defineProperty$8?defineProperty$8(tt,et,{configurable:!0,enumerable:!0,value:rt,writable:!0}):tt[et]=rt}function eq$4(tt,et){return tt===et||tt!==tt&&et!==et}var objectProto$s=Object.prototype,hasOwnProperty$t=objectProto$s.hasOwnProperty;function assignValue$3(tt,et,rt){var nt=tt[et];(!(hasOwnProperty$t.call(tt,et)&&eq$4(nt,rt))||rt===void 0&&!(et in tt))&&baseAssignValue$3(tt,et,rt)}function copyObject$5(tt,et,rt,nt){var it=!rt;rt||(rt={});for(var ot=-1,at=et.length;++ot<at;){var st=et[ot],lt=nt?nt(rt[st],tt[st],st,rt,tt):void 0;lt===void 0&&(lt=tt[st]),it?baseAssignValue$3(rt,st,lt):assignValue$3(rt,st,lt)}return rt}var nativeMax$3=Math.max;function overRest(tt,et,rt){return et=nativeMax$3(et===void 0?tt.length-1:et,0),function(){for(var nt=arguments,it=-1,ot=nativeMax$3(nt.length-et,0),at=Array(ot);++it<ot;)at[it]=nt[et+it];it=-1;for(var st=Array(et+1);++it<et;)st[it]=nt[it];return st[et]=rt(at),apply$4(tt,this,st)}}function baseRest(tt,et){return setToString$1(overRest(tt,et,identity$3),tt+"")}var MAX_SAFE_INTEGER$2=9007199254740991;function isLength$4(tt){return typeof tt=="number"&&tt>-1&&tt%1==0&&tt<=MAX_SAFE_INTEGER$2}function isArrayLike$5(tt){return tt!=null&&isLength$4(tt.length)&&!isFunction$b(tt)}function isIterateeCall(tt,et,rt){if(!isObject$m(rt))return!1;var nt=typeof et;return(nt=="number"?isArrayLike$5(rt)&&isIndex$3(et,rt.length):nt=="string"&&et in rt)?eq$4(rt[et],tt):!1}function createAssigner(tt){return baseRest(function(et,rt){var nt=-1,it=rt.length,ot=it>1?rt[it-1]:void 0,at=it>2?rt[2]:void 0;for(ot=tt.length>3&&typeof ot=="function"?(it--,ot):void 0,at&&isIterateeCall(rt[0],rt[1],at)&&(ot=it<3?void 0:ot,it=1),et=Object(et);++nt<it;){var st=rt[nt];st&&tt(et,st,nt,ot)}return et})}var objectProto$r=Object.prototype;function isPrototype$4(tt){var et=tt&&tt.constructor,rt=typeof et=="function"&&et.prototype||objectProto$r;return tt===rt}function baseTimes$2(tt,et){for(var rt=-1,nt=Array(tt);++rt<tt;)nt[rt]=et(rt);return nt}var argsTag$7="[object Arguments]";function baseIsArguments$2(tt){return isObjectLike$a(tt)&&baseGetTag$8(tt)==argsTag$7}var objectProto$q=Object.prototype,hasOwnProperty$s=objectProto$q.hasOwnProperty,propertyIsEnumerable$3=objectProto$q.propertyIsEnumerable,isArguments$3=baseIsArguments$2(function(){return arguments}())?baseIsArguments$2:function(tt){return isObjectLike$a(tt)&&hasOwnProperty$s.call(tt,"callee")&&!propertyIsEnumerable$3.call(tt,"callee")};const isArguments$4=isArguments$3;function stubFalse$1(){return!1}var freeExports$2=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$2=freeExports$2&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$2=freeModule$2&&freeModule$2.exports===freeExports$2,Buffer$2=moduleExports$2?root$c.Buffer:void 0,nativeIsBuffer=Buffer$2?Buffer$2.isBuffer:void 0,isBuffer$7=nativeIsBuffer||stubFalse$1;const isBuffer$8=isBuffer$7;var argsTag$6="[object Arguments]",arrayTag$5="[object Array]",boolTag$8="[object Boolean]",dateTag$7="[object Date]",errorTag$5="[object Error]",funcTag$4="[object Function]",mapTag$b="[object Map]",numberTag$7="[object Number]",objectTag$9="[object Object]",regexpTag$7="[object RegExp]",setTag$b="[object Set]",stringTag$8="[object String]",weakMapTag$5="[object WeakMap]",arrayBufferTag$7="[object ArrayBuffer]",dataViewTag$9="[object DataView]",float32Tag$5="[object Float32Array]",float64Tag$5="[object Float64Array]",int8Tag$5="[object Int8Array]",int16Tag$5="[object Int16Array]",int32Tag$5="[object Int32Array]",uint8Tag$5="[object Uint8Array]",uint8ClampedTag$5="[object Uint8ClampedArray]",uint16Tag$5="[object Uint16Array]",uint32Tag$5="[object Uint32Array]",typedArrayTags$1={};typedArrayTags$1[float32Tag$5]=typedArrayTags$1[float64Tag$5]=typedArrayTags$1[int8Tag$5]=typedArrayTags$1[int16Tag$5]=typedArrayTags$1[int32Tag$5]=typedArrayTags$1[uint8Tag$5]=typedArrayTags$1[uint8ClampedTag$5]=typedArrayTags$1[uint16Tag$5]=typedArrayTags$1[uint32Tag$5]=!0;typedArrayTags$1[argsTag$6]=typedArrayTags$1[arrayTag$5]=typedArrayTags$1[arrayBufferTag$7]=typedArrayTags$1[boolTag$8]=typedArrayTags$1[dataViewTag$9]=typedArrayTags$1[dateTag$7]=typedArrayTags$1[errorTag$5]=typedArrayTags$1[funcTag$4]=typedArrayTags$1[mapTag$b]=typedArrayTags$1[numberTag$7]=typedArrayTags$1[objectTag$9]=typedArrayTags$1[regexpTag$7]=typedArrayTags$1[setTag$b]=typedArrayTags$1[stringTag$8]=typedArrayTags$1[weakMapTag$5]=!1;function baseIsTypedArray$2(tt){return isObjectLike$a(tt)&&isLength$4(tt.length)&&!!typedArrayTags$1[baseGetTag$8(tt)]}function baseUnary$4(tt){return function(et){return tt(et)}}var freeExports$1=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule$1=freeExports$1&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports$1=freeModule$1&&freeModule$1.exports===freeExports$1,freeProcess=moduleExports$1&&freeGlobal$3.process,nodeUtil$3=function(){try{var tt=freeModule$1&&freeModule$1.require&&freeModule$1.require("util").types;return tt||freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch{}}();const nodeUtil$4=nodeUtil$3;var nodeIsTypedArray$1=nodeUtil$4&&nodeUtil$4.isTypedArray,isTypedArray$6=nodeIsTypedArray$1?baseUnary$4(nodeIsTypedArray$1):baseIsTypedArray$2;const isTypedArray$7=isTypedArray$6;var objectProto$p=Object.prototype,hasOwnProperty$r=objectProto$p.hasOwnProperty;function arrayLikeKeys$3(tt,et){var rt=isArray$q(tt),nt=!rt&&isArguments$4(tt),it=!rt&&!nt&&isBuffer$8(tt),ot=!rt&&!nt&&!it&&isTypedArray$7(tt),at=rt||nt||it||ot,st=at?baseTimes$2(tt.length,String):[],lt=st.length;for(var ct in tt)(et||hasOwnProperty$r.call(tt,ct))&&!(at&&(ct=="length"||it&&(ct=="offset"||ct=="parent")||ot&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||isIndex$3(ct,lt)))&&st.push(ct);return st}function overArg$3(tt,et){return function(rt){return tt(et(rt))}}var nativeKeys$2=overArg$3(Object.keys,Object);const nativeKeys$3=nativeKeys$2;var objectProto$o=Object.prototype,hasOwnProperty$q=objectProto$o.hasOwnProperty;function baseKeys$2(tt){if(!isPrototype$4(tt))return nativeKeys$3(tt);var et=[];for(var rt in Object(tt))hasOwnProperty$q.call(tt,rt)&&rt!="constructor"&&et.push(rt);return et}function keys$b(tt){return isArrayLike$5(tt)?arrayLikeKeys$3(tt):baseKeys$2(tt)}function nativeKeysIn$2(tt){var et=[];if(tt!=null)for(var rt in Object(tt))et.push(rt);return et}var objectProto$n=Object.prototype,hasOwnProperty$p=objectProto$n.hasOwnProperty;function baseKeysIn$2(tt){if(!isObject$m(tt))return nativeKeysIn$2(tt);var et=isPrototype$4(tt),rt=[];for(var nt in tt)nt=="constructor"&&(et||!hasOwnProperty$p.call(tt,nt))||rt.push(nt);return rt}function keysIn$4(tt){return isArrayLike$5(tt)?arrayLikeKeys$3(tt,!0):baseKeysIn$2(tt)}var reIsDeepProp$1=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp$1=/^\w*$/;function isKey$5(tt,et){if(isArray$q(tt))return!1;var rt=typeof tt;return rt=="number"||rt=="symbol"||rt=="boolean"||tt==null||isSymbol$a(tt)?!0:reIsPlainProp$1.test(tt)||!reIsDeepProp$1.test(tt)||et!=null&&tt in Object(et)}var nativeCreate$5=getNative$8(Object,"create");const nativeCreate$6=nativeCreate$5;function hashClear$2(){this.__data__=nativeCreate$6?nativeCreate$6(null):{},this.size=0}function hashDelete$2(tt){var et=this.has(tt)&&delete this.__data__[tt];return this.size-=et?1:0,et}var HASH_UNDEFINED$5="__lodash_hash_undefined__",objectProto$m=Object.prototype,hasOwnProperty$o=objectProto$m.hasOwnProperty;function hashGet$2(tt){var et=this.__data__;if(nativeCreate$6){var rt=et[tt];return rt===HASH_UNDEFINED$5?void 0:rt}return hasOwnProperty$o.call(et,tt)?et[tt]:void 0}var objectProto$l=Object.prototype,hasOwnProperty$n=objectProto$l.hasOwnProperty;function hashHas$2(tt){var et=this.__data__;return nativeCreate$6?et[tt]!==void 0:hasOwnProperty$n.call(et,tt)}var HASH_UNDEFINED$4="__lodash_hash_undefined__";function hashSet$2(tt,et){var rt=this.__data__;return this.size+=this.has(tt)?0:1,rt[tt]=nativeCreate$6&&et===void 0?HASH_UNDEFINED$4:et,this}function Hash$2(tt){var et=-1,rt=tt==null?0:tt.length;for(this.clear();++et<rt;){var nt=tt[et];this.set(nt[0],nt[1])}}Hash$2.prototype.clear=hashClear$2;Hash$2.prototype.delete=hashDelete$2;Hash$2.prototype.get=hashGet$2;Hash$2.prototype.has=hashHas$2;Hash$2.prototype.set=hashSet$2;function listCacheClear$2(){this.__data__=[],this.size=0}function assocIndexOf$5(tt,et){for(var rt=tt.length;rt--;)if(eq$4(tt[rt][0],et))return rt;return-1}var arrayProto$1=Array.prototype,splice$1=arrayProto$1.splice;function listCacheDelete$2(tt){var et=this.__data__,rt=assocIndexOf$5(et,tt);if(rt<0)return!1;var nt=et.length-1;return rt==nt?et.pop():splice$1.call(et,rt,1),--this.size,!0}function listCacheGet$2(tt){var et=this.__data__,rt=assocIndexOf$5(et,tt);return rt<0?void 0:et[rt][1]}function listCacheHas$2(tt){return assocIndexOf$5(this.__data__,tt)>-1}function listCacheSet$2(tt,et){var rt=this.__data__,nt=assocIndexOf$5(rt,tt);return nt<0?(++this.size,rt.push([tt,et])):rt[nt][1]=et,this}function ListCache$5(tt){var et=-1,rt=tt==null?0:tt.length;for(this.clear();++et<rt;){var nt=tt[et];this.set(nt[0],nt[1])}}ListCache$5.prototype.clear=listCacheClear$2;ListCache$5.prototype.delete=listCacheDelete$2;ListCache$5.prototype.get=listCacheGet$2;ListCache$5.prototype.has=listCacheHas$2;ListCache$5.prototype.set=listCacheSet$2;var Map$5=getNative$8(root$c,"Map");const Map$6=Map$5;function mapCacheClear$2(){this.size=0,this.__data__={hash:new Hash$2,map:new(Map$6||ListCache$5),string:new Hash$2}}function isKeyable$2(tt){var et=typeof tt;return et=="string"||et=="number"||et=="symbol"||et=="boolean"?tt!=="__proto__":tt===null}function getMapData$5(tt,et){var rt=tt.__data__;return isKeyable$2(et)?rt[typeof et=="string"?"string":"hash"]:rt.map}function mapCacheDelete$2(tt){var et=getMapData$5(this,tt).delete(tt);return this.size-=et?1:0,et}function mapCacheGet$2(tt){return getMapData$5(this,tt).get(tt)}function mapCacheHas$2(tt){return getMapData$5(this,tt).has(tt)}function mapCacheSet$2(tt,et){var rt=getMapData$5(this,tt),nt=rt.size;return rt.set(tt,et),this.size+=rt.size==nt?0:1,this}function MapCache$4(tt){var et=-1,rt=tt==null?0:tt.length;for(this.clear();++et<rt;){var nt=tt[et];this.set(nt[0],nt[1])}}MapCache$4.prototype.clear=mapCacheClear$2;MapCache$4.prototype.delete=mapCacheDelete$2;MapCache$4.prototype.get=mapCacheGet$2;MapCache$4.prototype.has=mapCacheHas$2;MapCache$4.prototype.set=mapCacheSet$2;var FUNC_ERROR_TEXT$5="Expected a function";function memoize$3(tt,et){if(typeof tt!="function"||et!=null&&typeof et!="function")throw new TypeError(FUNC_ERROR_TEXT$5);var rt=function(){var nt=arguments,it=et?et.apply(this,nt):nt[0],ot=rt.cache;if(ot.has(it))return ot.get(it);var at=tt.apply(this,nt);return rt.cache=ot.set(it,at)||ot,at};return rt.cache=new(memoize$3.Cache||MapCache$4),rt}memoize$3.Cache=MapCache$4;var MAX_MEMOIZE_SIZE$1=500;function memoizeCapped$2(tt){var et=memoize$3(tt,function(nt){return rt.size===MAX_MEMOIZE_SIZE$1&&rt.clear(),nt}),rt=et.cache;return et}var rePropName$2=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar$2=/\\(\\)?/g,stringToPath$4=memoizeCapped$2(function(tt){var et=[];return tt.charCodeAt(0)===46&&et.push(""),tt.replace(rePropName$2,function(rt,nt,it,ot){et.push(it?ot.replace(reEscapeChar$2,"$1"):nt||rt)}),et});const stringToPath$5=stringToPath$4;function toString$b(tt){return tt==null?"":baseToString$2(tt)}function castPath$3(tt,et){return isArray$q(tt)?tt:isKey$5(tt,et)?[tt]:stringToPath$5(toString$b(tt))}var INFINITY$2=1/0;function toKey$5(tt){if(typeof tt=="string"||isSymbol$a(tt))return tt;var et=tt+"";return et=="0"&&1/tt==-INFINITY$2?"-0":et}function baseGet$4(tt,et){et=castPath$3(et,tt);for(var rt=0,nt=et.length;tt!=null&&rt<nt;)tt=tt[toKey$5(et[rt++])];return rt&&rt==nt?tt:void 0}function get$a(tt,et,rt){var nt=tt==null?void 0:baseGet$4(tt,et);return nt===void 0?rt:nt}function arrayPush$3(tt,et){for(var rt=-1,nt=et.length,it=tt.length;++rt<nt;)tt[it+rt]=et[rt];return tt}var spreadableSymbol=Symbol$a?Symbol$a.isConcatSpreadable:void 0;function isFlattenable(tt){return isArray$q(tt)||isArguments$4(tt)||!!(spreadableSymbol&&tt&&tt[spreadableSymbol])}function baseFlatten(tt,et,rt,nt,it){var ot=-1,at=tt.length;for(rt||(rt=isFlattenable),it||(it=[]);++ot<at;){var st=tt[ot];et>0&&rt(st)?et>1?baseFlatten(st,et-1,rt,nt,it):arrayPush$3(it,st):nt||(it[it.length]=st)}return it}function flatten$2(tt){var et=tt==null?0:tt.length;return et?baseFlatten(tt,1):[]}function flatRest(tt){return setToString$1(overRest(tt,void 0,flatten$2),tt+"")}var getPrototype$4=overArg$3(Object.getPrototypeOf,Object);const getPrototype$5=getPrototype$4;var objectTag$8="[object Object]",funcProto$3=Function.prototype,objectProto$k=Object.prototype,funcToString$3=funcProto$3.toString,hasOwnProperty$m=objectProto$k.hasOwnProperty,objectCtorString$1=funcToString$3.call(Object);function isPlainObject$6(tt){if(!isObjectLike$a(tt)||baseGetTag$8(tt)!=objectTag$8)return!1;var et=getPrototype$5(tt);if(et===null)return!0;var rt=hasOwnProperty$m.call(et,"constructor")&&et.constructor;return typeof rt=="function"&&rt instanceof rt&&funcToString$3.call(rt)==objectCtorString$1}function baseSlice(tt,et,rt){var nt=-1,it=tt.length;et<0&&(et=-et>it?0:it+et),rt=rt>it?it:rt,rt<0&&(rt+=it),it=et>rt?0:rt-et>>>0,et>>>=0;for(var ot=Array(it);++nt<it;)ot[nt]=tt[nt+et];return ot}var nativeIsFinite=root$c.isFinite,nativeMin$2=Math.min;function createRound(tt){var et=Math[tt];return function(rt,nt){if(rt=toNumber$2(rt),nt=nt==null?0:nativeMin$2(toInteger(nt),292),nt&&nativeIsFinite(rt)){var it=(toString$b(rt)+"e").split("e"),ot=et(it[0]+"e"+(+it[1]+nt));return it=(toString$b(ot)+"e").split("e"),+(it[0]+"e"+(+it[1]-nt))}return et(rt)}}function stackClear$2(){this.__data__=new ListCache$5,this.size=0}function stackDelete$2(tt){var et=this.__data__,rt=et.delete(tt);return this.size=et.size,rt}function stackGet$2(tt){return this.__data__.get(tt)}function stackHas$2(tt){return this.__data__.has(tt)}var LARGE_ARRAY_SIZE$1=200;function stackSet$2(tt,et){var rt=this.__data__;if(rt instanceof ListCache$5){var nt=rt.__data__;if(!Map$6||nt.length<LARGE_ARRAY_SIZE$1-1)return nt.push([tt,et]),this.size=++rt.size,this;rt=this.__data__=new MapCache$4(nt)}return rt.set(tt,et),this.size=rt.size,this}function Stack$6(tt){var et=this.__data__=new ListCache$5(tt);this.size=et.size}Stack$6.prototype.clear=stackClear$2;Stack$6.prototype.delete=stackDelete$2;Stack$6.prototype.get=stackGet$2;Stack$6.prototype.has=stackHas$2;Stack$6.prototype.set=stackSet$2;function baseAssign$2(tt,et){return tt&&copyObject$5(et,keys$b(et),tt)}function baseAssignIn$2(tt,et){return tt&&copyObject$5(et,keysIn$4(et),tt)}var freeExports=typeof exports=="object"&&exports&&!exports.nodeType&&exports,freeModule=freeExports&&typeof module=="object"&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports,Buffer$1=moduleExports?root$c.Buffer:void 0,allocUnsafe=Buffer$1?Buffer$1.allocUnsafe:void 0;function cloneBuffer$1(tt,et){if(et)return tt.slice();var rt=tt.length,nt=allocUnsafe?allocUnsafe(rt):new tt.constructor(rt);return tt.copy(nt),nt}function arrayFilter$2(tt,et){for(var rt=-1,nt=tt==null?0:tt.length,it=0,ot=[];++rt<nt;){var at=tt[rt];et(at,rt,tt)&&(ot[it++]=at)}return ot}function stubArray$3(){return[]}var objectProto$j=Object.prototype,propertyIsEnumerable$2=objectProto$j.propertyIsEnumerable,nativeGetSymbols$3=Object.getOwnPropertySymbols,getSymbols$4=nativeGetSymbols$3?function(tt){return tt==null?[]:(tt=Object(tt),arrayFilter$2(nativeGetSymbols$3(tt),function(et){return propertyIsEnumerable$2.call(tt,et)}))}:stubArray$3;const getSymbols$5=getSymbols$4;function copySymbols$2(tt,et){return copyObject$5(tt,getSymbols$5(tt),et)}var nativeGetSymbols$2=Object.getOwnPropertySymbols,getSymbolsIn$3=nativeGetSymbols$2?function(tt){for(var et=[];tt;)arrayPush$3(et,getSymbols$5(tt)),tt=getPrototype$5(tt);return et}:stubArray$3;const getSymbolsIn$4=getSymbolsIn$3;function copySymbolsIn$2(tt,et){return copyObject$5(tt,getSymbolsIn$4(tt),et)}function baseGetAllKeys$3(tt,et,rt){var nt=et(tt);return isArray$q(tt)?nt:arrayPush$3(nt,rt(tt))}function getAllKeys$3(tt){return baseGetAllKeys$3(tt,keys$b,getSymbols$5)}function getAllKeysIn$2(tt){return baseGetAllKeys$3(tt,keysIn$4,getSymbolsIn$4)}var DataView$3=getNative$8(root$c,"DataView");const DataView$4=DataView$3;var Promise$4=getNative$8(root$c,"Promise");const Promise$5=Promise$4;var Set$3=getNative$8(root$c,"Set");const Set$4=Set$3;var mapTag$a="[object Map]",objectTag$7="[object Object]",promiseTag$1="[object Promise]",setTag$a="[object Set]",weakMapTag$4="[object WeakMap]",dataViewTag$8="[object DataView]",dataViewCtorString$1=toSource$3(DataView$4),mapCtorString$1=toSource$3(Map$6),promiseCtorString$1=toSource$3(Promise$5),setCtorString$1=toSource$3(Set$4),weakMapCtorString$1=toSource$3(WeakMap$9),getTag$5=baseGetTag$8;(DataView$4&&getTag$5(new DataView$4(new ArrayBuffer(1)))!=dataViewTag$8||Map$6&&getTag$5(new Map$6)!=mapTag$a||Promise$5&&getTag$5(Promise$5.resolve())!=promiseTag$1||Set$4&&getTag$5(new Set$4)!=setTag$a||WeakMap$9&&getTag$5(new WeakMap$9)!=weakMapTag$4)&&(getTag$5=function(tt){var et=baseGetTag$8(tt),rt=et==objectTag$7?tt.constructor:void 0,nt=rt?toSource$3(rt):"";if(nt)switch(nt){case dataViewCtorString$1:return dataViewTag$8;case mapCtorString$1:return mapTag$a;case promiseCtorString$1:return promiseTag$1;case setCtorString$1:return setTag$a;case weakMapCtorString$1:return weakMapTag$4}return et});const getTag$6=getTag$5;var objectProto$i=Object.prototype,hasOwnProperty$l=objectProto$i.hasOwnProperty;function initCloneArray$2(tt){var et=tt.length,rt=new tt.constructor(et);return et&&typeof tt[0]=="string"&&hasOwnProperty$l.call(tt,"index")&&(rt.index=tt.index,rt.input=tt.input),rt}var Uint8Array$4=root$c.Uint8Array;const Uint8Array$5=Uint8Array$4;function cloneArrayBuffer$4(tt){var et=new tt.constructor(tt.byteLength);return new Uint8Array$5(et).set(new Uint8Array$5(tt)),et}function cloneDataView$2(tt,et){var rt=et?cloneArrayBuffer$4(tt.buffer):tt.buffer;return new tt.constructor(rt,tt.byteOffset,tt.byteLength)}var reFlags$1=/\w*$/;function cloneRegExp$2(tt){var et=new tt.constructor(tt.source,reFlags$1.exec(tt));return et.lastIndex=tt.lastIndex,et}var symbolProto$4=Symbol$a?Symbol$a.prototype:void 0,symbolValueOf$3=symbolProto$4?symbolProto$4.valueOf:void 0;function cloneSymbol$2(tt){return symbolValueOf$3?Object(symbolValueOf$3.call(tt)):{}}function cloneTypedArray$2(tt,et){var rt=et?cloneArrayBuffer$4(tt.buffer):tt.buffer;return new tt.constructor(rt,tt.byteOffset,tt.length)}var boolTag$7="[object Boolean]",dateTag$6="[object Date]",mapTag$9="[object Map]",numberTag$6="[object Number]",regexpTag$6="[object RegExp]",setTag$9="[object Set]",stringTag$7="[object String]",symbolTag$6="[object Symbol]",arrayBufferTag$6="[object ArrayBuffer]",dataViewTag$7="[object DataView]",float32Tag$4="[object Float32Array]",float64Tag$4="[object Float64Array]",int8Tag$4="[object Int8Array]",int16Tag$4="[object Int16Array]",int32Tag$4="[object Int32Array]",uint8Tag$4="[object Uint8Array]",uint8ClampedTag$4="[object Uint8ClampedArray]",uint16Tag$4="[object Uint16Array]",uint32Tag$4="[object Uint32Array]";function initCloneByTag$2(tt,et,rt){var nt=tt.constructor;switch(et){case arrayBufferTag$6:return cloneArrayBuffer$4(tt);case boolTag$7:case dateTag$6:return new nt(+tt);case dataViewTag$7:return cloneDataView$2(tt,rt);case float32Tag$4:case float64Tag$4:case int8Tag$4:case int16Tag$4:case int32Tag$4:case uint8Tag$4:case uint8ClampedTag$4:case uint16Tag$4:case uint32Tag$4:return cloneTypedArray$2(tt,rt);case mapTag$9:return new nt;case numberTag$6:case stringTag$7:return new nt(tt);case regexpTag$6:return cloneRegExp$2(tt);case setTag$9:return new nt;case symbolTag$6:return cloneSymbol$2(tt)}}function initCloneObject$2(tt){return typeof tt.constructor=="function"&&!isPrototype$4(tt)?baseCreate$3(getPrototype$5(tt)):{}}var mapTag$8="[object Map]";function baseIsMap$2(tt){return isObjectLike$a(tt)&&getTag$6(tt)==mapTag$8}var nodeIsMap$1=nodeUtil$4&&nodeUtil$4.isMap,isMap$4=nodeIsMap$1?baseUnary$4(nodeIsMap$1):baseIsMap$2;const isMap$5=isMap$4;var setTag$8="[object Set]";function baseIsSet$2(tt){return isObjectLike$a(tt)&&getTag$6(tt)==setTag$8}var nodeIsSet$1=nodeUtil$4&&nodeUtil$4.isSet,isSet$3=nodeIsSet$1?baseUnary$4(nodeIsSet$1):baseIsSet$2;const isSet$4=isSet$3;var CLONE_DEEP_FLAG$4=1,CLONE_FLAT_FLAG$2=2,CLONE_SYMBOLS_FLAG$5=4,argsTag$5="[object Arguments]",arrayTag$4="[object Array]",boolTag$6="[object Boolean]",dateTag$5="[object Date]",errorTag$4="[object Error]",funcTag$3="[object Function]",genTag$2="[object GeneratorFunction]",mapTag$7="[object Map]",numberTag$5="[object Number]",objectTag$6="[object Object]",regexpTag$5="[object RegExp]",setTag$7="[object Set]",stringTag$6="[object String]",symbolTag$5="[object Symbol]",weakMapTag$3="[object WeakMap]",arrayBufferTag$5="[object ArrayBuffer]",dataViewTag$6="[object DataView]",float32Tag$3="[object Float32Array]",float64Tag$3="[object Float64Array]",int8Tag$3="[object Int8Array]",int16Tag$3="[object Int16Array]",int32Tag$3="[object Int32Array]",uint8Tag$3="[object Uint8Array]",uint8ClampedTag$3="[object Uint8ClampedArray]",uint16Tag$3="[object Uint16Array]",uint32Tag$3="[object Uint32Array]",cloneableTags$1={};cloneableTags$1[argsTag$5]=cloneableTags$1[arrayTag$4]=cloneableTags$1[arrayBufferTag$5]=cloneableTags$1[dataViewTag$6]=cloneableTags$1[boolTag$6]=cloneableTags$1[dateTag$5]=cloneableTags$1[float32Tag$3]=cloneableTags$1[float64Tag$3]=cloneableTags$1[int8Tag$3]=cloneableTags$1[int16Tag$3]=cloneableTags$1[int32Tag$3]=cloneableTags$1[mapTag$7]=cloneableTags$1[numberTag$5]=cloneableTags$1[objectTag$6]=cloneableTags$1[regexpTag$5]=cloneableTags$1[setTag$7]=cloneableTags$1[stringTag$6]=cloneableTags$1[symbolTag$5]=cloneableTags$1[uint8Tag$3]=cloneableTags$1[uint8ClampedTag$3]=cloneableTags$1[uint16Tag$3]=cloneableTags$1[uint32Tag$3]=!0;cloneableTags$1[errorTag$4]=cloneableTags$1[funcTag$3]=cloneableTags$1[weakMapTag$3]=!1;function baseClone$2(tt,et,rt,nt,it,ot){var at,st=et&CLONE_DEEP_FLAG$4,lt=et&CLONE_FLAT_FLAG$2,ct=et&CLONE_SYMBOLS_FLAG$5;if(rt&&(at=it?rt(tt,nt,it,ot):rt(tt)),at!==void 0)return at;if(!isObject$m(tt))return tt;var ut=isArray$q(tt);if(ut){if(at=initCloneArray$2(tt),!st)return copyArray$3(tt,at)}else{var dt=getTag$6(tt),ft=dt==funcTag$3||dt==genTag$2;if(isBuffer$8(tt))return cloneBuffer$1(tt,st);if(dt==objectTag$6||dt==argsTag$5||ft&&!it){if(at=lt||ft?{}:initCloneObject$2(tt),!st)return lt?copySymbolsIn$2(tt,baseAssignIn$2(at,tt)):copySymbols$2(tt,baseAssign$2(at,tt))}else{if(!cloneableTags$1[dt])return it?tt:{};at=initCloneByTag$2(tt,dt,st)}}ot||(ot=new Stack$6);var pt=ot.get(tt);if(pt)return pt;ot.set(tt,at),isSet$4(tt)?tt.forEach(function(gt){at.add(baseClone$2(gt,et,rt,gt,tt,ot))}):isMap$5(tt)&&tt.forEach(function(gt,vt){at.set(vt,baseClone$2(gt,et,rt,vt,tt,ot))});var mt=ct?lt?getAllKeysIn$2:getAllKeys$3:lt?keysIn$4:keys$b,ht=ut?void 0:mt(tt);return arrayEach$2(ht||tt,function(gt,vt){ht&&(vt=gt,gt=tt[vt]),assignValue$3(at,vt,baseClone$2(gt,et,rt,vt,tt,ot))}),at}var CLONE_SYMBOLS_FLAG$4=4;function clone(tt){return baseClone$2(tt,CLONE_SYMBOLS_FLAG$4)}var CLONE_DEEP_FLAG$3=1,CLONE_SYMBOLS_FLAG$3=4;function cloneDeep$1(tt){return baseClone$2(tt,CLONE_DEEP_FLAG$3|CLONE_SYMBOLS_FLAG$3)}var HASH_UNDEFINED$3="__lodash_hash_undefined__";function setCacheAdd$2(tt){return this.__data__.set(tt,HASH_UNDEFINED$3),this}function setCacheHas$2(tt){return this.__data__.has(tt)}function SetCache$2(tt){var et=-1,rt=tt==null?0:tt.length;for(this.__data__=new MapCache$4;++et<rt;)this.add(tt[et])}SetCache$2.prototype.add=SetCache$2.prototype.push=setCacheAdd$2;SetCache$2.prototype.has=setCacheHas$2;function arraySome$2(tt,et){for(var rt=-1,nt=tt==null?0:tt.length;++rt<nt;)if(et(tt[rt],rt,tt))return!0;return!1}function cacheHas$2(tt,et){return tt.has(et)}var COMPARE_PARTIAL_FLAG$b=1,COMPARE_UNORDERED_FLAG$7=2;function equalArrays$3(tt,et,rt,nt,it,ot){var at=rt&COMPARE_PARTIAL_FLAG$b,st=tt.length,lt=et.length;if(st!=lt&&!(at&&lt>st))return!1;var ct=ot.get(tt),ut=ot.get(et);if(ct&&ut)return ct==et&&ut==tt;var dt=-1,ft=!0,pt=rt&COMPARE_UNORDERED_FLAG$7?new SetCache$2:void 0;for(ot.set(tt,et),ot.set(et,tt);++dt<st;){var mt=tt[dt],ht=et[dt];if(nt)var gt=at?nt(ht,mt,dt,et,tt,ot):nt(mt,ht,dt,tt,et,ot);if(gt!==void 0){if(gt)continue;ft=!1;break}if(pt){if(!arraySome$2(et,function(vt,yt){if(!cacheHas$2(pt,yt)&&(mt===vt||it(mt,vt,rt,nt,ot)))return pt.push(yt)})){ft=!1;break}}else if(!(mt===ht||it(mt,ht,rt,nt,ot))){ft=!1;break}}return ot.delete(tt),ot.delete(et),ft}function mapToArray$2(tt){var et=-1,rt=Array(tt.size);return tt.forEach(function(nt,it){rt[++et]=[it,nt]}),rt}function setToArray$2(tt){var et=-1,rt=Array(tt.size);return tt.forEach(function(nt){rt[++et]=nt}),rt}var COMPARE_PARTIAL_FLAG$a=1,COMPARE_UNORDERED_FLAG$6=2,boolTag$5="[object Boolean]",dateTag$4="[object Date]",errorTag$3="[object Error]",mapTag$6="[object Map]",numberTag$4="[object Number]",regexpTag$4="[object RegExp]",setTag$6="[object Set]",stringTag$5="[object String]",symbolTag$4="[object Symbol]",arrayBufferTag$4="[object ArrayBuffer]",dataViewTag$5="[object DataView]",symbolProto$3=Symbol$a?Symbol$a.prototype:void 0,symbolValueOf$2=symbolProto$3?symbolProto$3.valueOf:void 0;function equalByTag$2(tt,et,rt,nt,it,ot,at){switch(rt){case dataViewTag$5:if(tt.byteLength!=et.byteLength||tt.byteOffset!=et.byteOffset)return!1;tt=tt.buffer,et=et.buffer;case arrayBufferTag$4:return!(tt.byteLength!=et.byteLength||!ot(new Uint8Array$5(tt),new Uint8Array$5(et)));case boolTag$5:case dateTag$4:case numberTag$4:return eq$4(+tt,+et);case errorTag$3:return tt.name==et.name&&tt.message==et.message;case regexpTag$4:case stringTag$5:return tt==et+"";case mapTag$6:var st=mapToArray$2;case setTag$6:var lt=nt&COMPARE_PARTIAL_FLAG$a;if(st||(st=setToArray$2),tt.size!=et.size&&!lt)return!1;var ct=at.get(tt);if(ct)return ct==et;nt|=COMPARE_UNORDERED_FLAG$6,at.set(tt,et);var ut=equalArrays$3(st(tt),st(et),nt,it,ot,at);return at.delete(tt),ut;case symbolTag$4:if(symbolValueOf$2)return symbolValueOf$2.call(tt)==symbolValueOf$2.call(et)}return!1}var COMPARE_PARTIAL_FLAG$9=1,objectProto$h=Object.prototype,hasOwnProperty$k=objectProto$h.hasOwnProperty;function equalObjects$2(tt,et,rt,nt,it,ot){var at=rt&COMPARE_PARTIAL_FLAG$9,st=getAllKeys$3(tt),lt=st.length,ct=getAllKeys$3(et),ut=ct.length;if(lt!=ut&&!at)return!1;for(var dt=lt;dt--;){var ft=st[dt];if(!(at?ft in et:hasOwnProperty$k.call(et,ft)))return!1}var pt=ot.get(tt),mt=ot.get(et);if(pt&&mt)return pt==et&&mt==tt;var ht=!0;ot.set(tt,et),ot.set(et,tt);for(var gt=at;++dt<lt;){ft=st[dt];var vt=tt[ft],yt=et[ft];if(nt)var bt=at?nt(yt,vt,ft,et,tt,ot):nt(vt,yt,ft,tt,et,ot);if(!(bt===void 0?vt===yt||it(vt,yt,rt,nt,ot):bt)){ht=!1;break}gt||(gt=ft=="constructor")}if(ht&&!gt){var xt=tt.constructor,$t=et.constructor;xt!=$t&&"constructor"in tt&&"constructor"in et&&!(typeof xt=="function"&&xt instanceof xt&&typeof $t=="function"&&$t instanceof $t)&&(ht=!1)}return ot.delete(tt),ot.delete(et),ht}var COMPARE_PARTIAL_FLAG$8=1,argsTag$4="[object Arguments]",arrayTag$3="[object Array]",objectTag$5="[object Object]",objectProto$g=Object.prototype,hasOwnProperty$j=objectProto$g.hasOwnProperty;function baseIsEqualDeep$2(tt,et,rt,nt,it,ot){var at=isArray$q(tt),st=isArray$q(et),lt=at?arrayTag$3:getTag$6(tt),ct=st?arrayTag$3:getTag$6(et);lt=lt==argsTag$4?objectTag$5:lt,ct=ct==argsTag$4?objectTag$5:ct;var ut=lt==objectTag$5,dt=ct==objectTag$5,ft=lt==ct;if(ft&&isBuffer$8(tt)){if(!isBuffer$8(et))return!1;at=!0,ut=!1}if(ft&&!ut)return ot||(ot=new Stack$6),at||isTypedArray$7(tt)?equalArrays$3(tt,et,rt,nt,it,ot):equalByTag$2(tt,et,lt,rt,nt,it,ot);if(!(rt&COMPARE_PARTIAL_FLAG$8)){var pt=ut&&hasOwnProperty$j.call(tt,"__wrapped__"),mt=dt&&hasOwnProperty$j.call(et,"__wrapped__");if(pt||mt){var ht=pt?tt.value():tt,gt=mt?et.value():et;return ot||(ot=new Stack$6),it(ht,gt,rt,nt,ot)}}return ft?(ot||(ot=new Stack$6),equalObjects$2(tt,et,rt,nt,it,ot)):!1}function baseIsEqual$3(tt,et,rt,nt,it){return tt===et?!0:tt==null||et==null||!isObjectLike$a(tt)&&!isObjectLike$a(et)?tt!==tt&&et!==et:baseIsEqualDeep$2(tt,et,rt,nt,baseIsEqual$3,it)}var COMPARE_PARTIAL_FLAG$7=1,COMPARE_UNORDERED_FLAG$5=2;function baseIsMatch$2(tt,et,rt,nt){var it=rt.length,ot=it,at=!nt;if(tt==null)return!ot;for(tt=Object(tt);it--;){var st=rt[it];if(at&&st[2]?st[1]!==tt[st[0]]:!(st[0]in tt))return!1}for(;++it<ot;){st=rt[it];var lt=st[0],ct=tt[lt],ut=st[1];if(at&&st[2]){if(ct===void 0&&!(lt in tt))return!1}else{var dt=new Stack$6;if(nt)var ft=nt(ct,ut,lt,tt,et,dt);if(!(ft===void 0?baseIsEqual$3(ut,ct,COMPARE_PARTIAL_FLAG$7|COMPARE_UNORDERED_FLAG$5,nt,dt):ft))return!1}}return!0}function isStrictComparable$3(tt){return tt===tt&&!isObject$m(tt)}function getMatchData$2(tt){for(var et=keys$b(tt),rt=et.length;rt--;){var nt=et[rt],it=tt[nt];et[rt]=[nt,it,isStrictComparable$3(it)]}return et}function matchesStrictComparable$3(tt,et){return function(rt){return rt==null?!1:rt[tt]===et&&(et!==void 0||tt in Object(rt))}}function baseMatches$2(tt){var et=getMatchData$2(tt);return et.length==1&&et[0][2]?matchesStrictComparable$3(et[0][0],et[0][1]):function(rt){return rt===tt||baseIsMatch$2(rt,tt,et)}}function baseHasIn$2(tt,et){return tt!=null&&et in Object(tt)}function hasPath$2(tt,et,rt){et=castPath$3(et,tt);for(var nt=-1,it=et.length,ot=!1;++nt<it;){var at=toKey$5(et[nt]);if(!(ot=tt!=null&&rt(tt,at)))break;tt=tt[at]}return ot||++nt!=it?ot:(it=tt==null?0:tt.length,!!it&&isLength$4(it)&&isIndex$3(at,it)&&(isArray$q(tt)||isArguments$4(tt)))}function hasIn$2(tt,et){return tt!=null&&hasPath$2(tt,et,baseHasIn$2)}var COMPARE_PARTIAL_FLAG$6=1,COMPARE_UNORDERED_FLAG$4=2;function baseMatchesProperty$2(tt,et){return isKey$5(tt)&&isStrictComparable$3(et)?matchesStrictComparable$3(toKey$5(tt),et):function(rt){var nt=get$a(rt,tt);return nt===void 0&&nt===et?hasIn$2(rt,tt):baseIsEqual$3(et,nt,COMPARE_PARTIAL_FLAG$6|COMPARE_UNORDERED_FLAG$4)}}function baseProperty$2(tt){return function(et){return et==null?void 0:et[tt]}}function basePropertyDeep$2(tt){return function(et){return baseGet$4(et,tt)}}function property$2(tt){return isKey$5(tt)?baseProperty$2(toKey$5(tt)):basePropertyDeep$2(tt)}function baseIteratee$2(tt){return typeof tt=="function"?tt:tt==null?identity$3:typeof tt=="object"?isArray$q(tt)?baseMatchesProperty$2(tt[0],tt[1]):baseMatches$2(tt):property$2(tt)}function createBaseFor$2(tt){return function(et,rt,nt){for(var it=-1,ot=Object(et),at=nt(et),st=at.length;st--;){var lt=at[tt?st:++it];if(rt(ot[lt],lt,ot)===!1)break}return et}}var baseFor$2=createBaseFor$2();const baseFor$3=baseFor$2;function baseForOwn$3(tt,et){return tt&&baseFor$3(tt,et,keys$b)}function createBaseEach$2(tt,et){return function(rt,nt){if(rt==null)return rt;if(!isArrayLike$5(rt))return tt(rt,nt);for(var it=rt.length,ot=et?it:-1,at=Object(rt);(et?ot--:++ot<it)&&nt(at[ot],ot,at)!==!1;);return rt}}var baseEach$2=createBaseEach$2(baseForOwn$3);const baseEach$3=baseEach$2;var now$5=function(){return root$c.Date.now()};const now$6=now$5;var FUNC_ERROR_TEXT$4="Expected a function",nativeMax$2=Math.max,nativeMin$1=Math.min;function debounce$6(tt,et,rt){var nt,it,ot,at,st,lt,ct=0,ut=!1,dt=!1,ft=!0;if(typeof tt!="function")throw new TypeError(FUNC_ERROR_TEXT$4);et=toNumber$2(et)||0,isObject$m(rt)&&(ut=!!rt.leading,dt="maxWait"in rt,ot=dt?nativeMax$2(toNumber$2(rt.maxWait)||0,et):ot,ft="trailing"in rt?!!rt.trailing:ft);function pt(Tt){var wt=nt,At=it;return nt=it=void 0,ct=Tt,at=tt.apply(At,wt),at}function mt(Tt){return ct=Tt,st=setTimeout(vt,et),ut?pt(Tt):at}function ht(Tt){var wt=Tt-lt,At=Tt-ct,Rt=et-wt;return dt?nativeMin$1(Rt,ot-At):Rt}function gt(Tt){var wt=Tt-lt,At=Tt-ct;return lt===void 0||wt>=et||wt<0||dt&&At>=ot}function vt(){var Tt=now$6();if(gt(Tt))return yt(Tt);st=setTimeout(vt,ht(Tt))}function yt(Tt){return st=void 0,ft&&nt?pt(Tt):(nt=it=void 0,at)}function bt(){st!==void 0&&clearTimeout(st),ct=0,nt=lt=it=st=void 0}function xt(){return st===void 0?at:yt(now$6())}function $t(){var Tt=now$6(),wt=gt(Tt);if(nt=arguments,it=this,lt=Tt,wt){if(st===void 0)return mt(lt);if(dt)return clearTimeout(st),st=setTimeout(vt,et),pt(lt)}return st===void 0&&(st=setTimeout(vt,et)),at}return $t.cancel=bt,$t.flush=xt,$t}function assignMergeValue(tt,et,rt){(rt!==void 0&&!eq$4(tt[et],rt)||rt===void 0&&!(et in tt))&&baseAssignValue$3(tt,et,rt)}function isArrayLikeObject(tt){return isObjectLike$a(tt)&&isArrayLike$5(tt)}function safeGet(tt,et){if(!(et==="constructor"&&typeof tt[et]=="function")&&et!="__proto__")return tt[et]}function toPlainObject(tt){return copyObject$5(tt,keysIn$4(tt))}function baseMergeDeep(tt,et,rt,nt,it,ot,at){var st=safeGet(tt,rt),lt=safeGet(et,rt),ct=at.get(lt);if(ct){assignMergeValue(tt,rt,ct);return}var ut=ot?ot(st,lt,rt+"",tt,et,at):void 0,dt=ut===void 0;if(dt){var ft=isArray$q(lt),pt=!ft&&isBuffer$8(lt),mt=!ft&&!pt&&isTypedArray$7(lt);ut=lt,ft||pt||mt?isArray$q(st)?ut=st:isArrayLikeObject(st)?ut=copyArray$3(st):pt?(dt=!1,ut=cloneBuffer$1(lt,!0)):mt?(dt=!1,ut=cloneTypedArray$2(lt,!0)):ut=[]:isPlainObject$6(lt)||isArguments$4(lt)?(ut=st,isArguments$4(st)?ut=toPlainObject(st):(!isObject$m(st)||isFunction$b(st))&&(ut=initCloneObject$2(lt))):dt=!1}dt&&(at.set(lt,ut),it(ut,lt,nt,ot,at),at.delete(lt)),assignMergeValue(tt,rt,ut)}function baseMerge(tt,et,rt,nt,it){tt!==et&&baseFor$3(et,function(ot,at){if(it||(it=new Stack$6),isObject$m(ot))baseMergeDeep(tt,et,at,rt,baseMerge,nt,it);else{var st=nt?nt(safeGet(tt,at),ot,at+"",tt,et,it):void 0;st===void 0&&(st=ot),assignMergeValue(tt,at,st)}},keysIn$4)}function last$4(tt){var et=tt==null?0:tt.length;return et?tt[et-1]:void 0}function castFunction$2(tt){return typeof tt=="function"?tt:identity$3}function forEach$2(tt,et){var rt=isArray$q(tt)?arrayEach$2:baseEach$3;return rt(tt,castFunction$2(et))}function baseFindKey(tt,et,rt){var nt;return rt(tt,function(it,ot,at){if(et(it,ot,at))return nt=ot,!1}),nt}function findKey$1(tt,et){return baseFindKey(tt,baseIteratee$2(et),baseForOwn$3)}function baseMap$2(tt,et){var rt=-1,nt=isArrayLike$5(tt)?Array(tt.length):[];return baseEach$3(tt,function(it,ot,at){nt[++rt]=et(it,ot,at)}),nt}function map$2(tt,et){var rt=isArray$q(tt)?arrayMap$3:baseMap$2;return rt(tt,baseIteratee$2(et))}var floor$4=createRound("floor");const floor$5=floor$4;function parent(tt,et){return et.length<2?tt:baseGet$4(tt,baseSlice(et,0,-1))}function isEqual$1(tt,et){return baseIsEqual$3(tt,et)}function isUndefined$3(tt){return tt===void 0}var merge$5=createAssigner(function(tt,et,rt){baseMerge(tt,et,rt)});const merge$6=merge$5;function baseUnset(tt,et){return et=castPath$3(et,tt),tt=parent(tt,et),tt==null||delete tt[toKey$5(last$4(et))]}function customOmitClone(tt){return isPlainObject$6(tt)?void 0:tt}var CLONE_DEEP_FLAG$2=1,CLONE_FLAT_FLAG$1=2,CLONE_SYMBOLS_FLAG$2=4,omit=flatRest(function(tt,et){var rt={};if(tt==null)return rt;var nt=!1;et=arrayMap$3(et,function(ot){return ot=castPath$3(ot,tt),nt||(nt=ot.length>1),ot}),copyObject$5(tt,getAllKeysIn$2(tt),rt),nt&&(rt=baseClone$2(rt,CLONE_DEEP_FLAG$2|CLONE_FLAT_FLAG$1|CLONE_SYMBOLS_FLAG$2,customOmitClone));for(var it=et.length;it--;)baseUnset(rt,et[it]);return rt});const omit$1=omit;function baseSet(tt,et,rt,nt){if(!isObject$m(tt))return tt;et=castPath$3(et,tt);for(var it=-1,ot=et.length,at=ot-1,st=tt;st!=null&&++it<ot;){var lt=toKey$5(et[it]),ct=rt;if(lt==="__proto__"||lt==="constructor"||lt==="prototype")return tt;if(it!=at){var ut=st[lt];ct=nt?nt(ut,lt,st):void 0,ct===void 0&&(ct=isObject$m(ut)?ut:isIndex$3(et[it+1])?[]:{})}assignValue$3(st,lt,ct),st=st[lt]}return tt}function baseSortBy(tt,et){var rt=tt.length;for(tt.sort(et);rt--;)tt[rt]=tt[rt].value;return tt}function compareAscending(tt,et){if(tt!==et){var rt=tt!==void 0,nt=tt===null,it=tt===tt,ot=isSymbol$a(tt),at=et!==void 0,st=et===null,lt=et===et,ct=isSymbol$a(et);if(!st&&!ct&&!ot&&tt>et||ot&&at&&lt&&!st&&!ct||nt&&at&&lt||!rt&&lt||!it)return 1;if(!nt&&!ot&&!ct&&tt<et||ct&&rt&&it&&!nt&&!ot||st&&rt&&it||!at&&it||!lt)return-1}return 0}function compareMultiple(tt,et,rt){for(var nt=-1,it=tt.criteria,ot=et.criteria,at=it.length,st=rt.length;++nt<at;){var lt=compareAscending(it[nt],ot[nt]);if(lt){if(nt>=st)return lt;var ct=rt[nt];return lt*(ct=="desc"?-1:1)}}return tt.index-et.index}function baseOrderBy(tt,et,rt){et.length?et=arrayMap$3(et,function(ot){return isArray$q(ot)?function(at){return baseGet$4(at,ot.length===1?ot[0]:ot)}:ot}):et=[identity$3];var nt=-1;et=arrayMap$3(et,baseUnary$4(baseIteratee$2));var it=baseMap$2(tt,function(ot,at,st){var lt=arrayMap$3(et,function(ct){return ct(ot)});return{criteria:lt,index:++nt,value:ot}});return baseSortBy(it,function(ot,at){return compareMultiple(ot,at,rt)})}var nativeCeil=Math.ceil,nativeMax$1=Math.max;function baseRange(tt,et,rt,nt){for(var it=-1,ot=nativeMax$1(nativeCeil((et-tt)/(rt||1)),0),at=Array(ot);ot--;)at[nt?ot:++it]=tt,tt+=rt;return at}function createRange(tt){return function(et,rt,nt){return nt&&typeof nt!="number"&&isIterateeCall(et,rt,nt)&&(rt=nt=void 0),et=toFinite(et),rt===void 0?(rt=et,et=0):rt=toFinite(rt),nt=nt===void 0?et<rt?1:-1:toFinite(nt),baseRange(et,rt,nt,tt)}}var range=createRange();const range$1=range;var round$4=createRound("round");const round$5=round$4;function set$9(tt,et,rt){return tt==null?tt:baseSet(tt,et,rt)}var sortBy=baseRest(function(tt,et){if(tt==null)return[];var rt=et.length;return rt>1&&isIterateeCall(tt,et[0],et[1])?et=[]:rt>2&&isIterateeCall(et[0],et[1],et[2])&&(et=[et[0]]),baseOrderBy(tt,baseFlatten(et,1),[])});const sortBy$1=sortBy;var FUNC_ERROR_TEXT$3="Expected a function";function throttle$1(tt,et,rt){var nt=!0,it=!0;if(typeof tt!="function")throw new TypeError(FUNC_ERROR_TEXT$3);return isObject$m(rt)&&(nt="leading"in rt?!!rt.leading:nt,it="trailing"in rt?!!rt.trailing:it),debounce$6(tt,et,{leading:nt,maxWait:et,trailing:it})}var colorStringExports={},colorString$1={get exports(){return colorStringExports},set exports(tt){colorStringExports=tt}},colorName={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},simpleSwizzleExports={},simpleSwizzle={get exports(){return simpleSwizzleExports},set exports(tt){simpleSwizzleExports=tt}},isArrayish$1=function(et){return!et||typeof et=="string"?!1:et instanceof Array||Array.isArray(et)||et.length>=0&&(et.splice instanceof Function||Object.getOwnPropertyDescriptor(et,et.length-1)&&et.constructor.name!=="String")},isArrayish=isArrayish$1,concat$4=Array.prototype.concat,slice$2=Array.prototype.slice,swizzle$1=simpleSwizzle.exports=function(et){for(var rt=[],nt=0,it=et.length;nt<it;nt++){var ot=et[nt];isArrayish(ot)?rt=concat$4.call(rt,slice$2.call(ot)):rt.push(ot)}return rt};swizzle$1.wrap=function(tt){return function(){return tt(swizzle$1(arguments))}};var colorNames=colorName,swizzle=simpleSwizzleExports,hasOwnProperty$i=Object.hasOwnProperty,reverseNames=Object.create(null);for(var name in colorNames)hasOwnProperty$i.call(colorNames,name)&&(reverseNames[colorNames[name]]=name);var cs=colorString$1.exports={to:{},get:{}};cs.get=function(tt){var et=tt.substring(0,3).toLowerCase(),rt,nt;switch(et){case"hsl":rt=cs.get.hsl(tt),nt="hsl";break;case"hwb":rt=cs.get.hwb(tt),nt="hwb";break;default:rt=cs.get.rgb(tt),nt="rgb";break}return rt?{model:nt,value:rt}:null};cs.get.rgb=function(tt){if(!tt)return null;var et=/^#([a-f0-9]{3,4})$/i,rt=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,nt=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,it=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,ot=/^(\w+)$/,at=[0,0,0,1],st,lt,ct;if(st=tt.match(rt)){for(ct=st[2],st=st[1],lt=0;lt<3;lt++){var ut=lt*2;at[lt]=parseInt(st.slice(ut,ut+2),16)}ct&&(at[3]=parseInt(ct,16)/255)}else if(st=tt.match(et)){for(st=st[1],ct=st[3],lt=0;lt<3;lt++)at[lt]=parseInt(st[lt]+st[lt],16);ct&&(at[3]=parseInt(ct+ct,16)/255)}else if(st=tt.match(nt)){for(lt=0;lt<3;lt++)at[lt]=parseInt(st[lt+1],0);st[4]&&(st[5]?at[3]=parseFloat(st[4])*.01:at[3]=parseFloat(st[4]))}else if(st=tt.match(it)){for(lt=0;lt<3;lt++)at[lt]=Math.round(parseFloat(st[lt+1])*2.55);st[4]&&(st[5]?at[3]=parseFloat(st[4])*.01:at[3]=parseFloat(st[4]))}else return(st=tt.match(ot))?st[1]==="transparent"?[0,0,0,0]:hasOwnProperty$i.call(colorNames,st[1])?(at=colorNames[st[1]],at[3]=1,at):null:null;for(lt=0;lt<3;lt++)at[lt]=clamp$6(at[lt],0,255);return at[3]=clamp$6(at[3],0,1),at};cs.get.hsl=function(tt){if(!tt)return null;var et=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,rt=tt.match(et);if(rt){var nt=parseFloat(rt[4]),it=(parseFloat(rt[1])%360+360)%360,ot=clamp$6(parseFloat(rt[2]),0,100),at=clamp$6(parseFloat(rt[3]),0,100),st=clamp$6(isNaN(nt)?1:nt,0,1);return[it,ot,at,st]}return null};cs.get.hwb=function(tt){if(!tt)return null;var et=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,rt=tt.match(et);if(rt){var nt=parseFloat(rt[4]),it=(parseFloat(rt[1])%360+360)%360,ot=clamp$6(parseFloat(rt[2]),0,100),at=clamp$6(parseFloat(rt[3]),0,100),st=clamp$6(isNaN(nt)?1:nt,0,1);return[it,ot,at,st]}return null};cs.to.hex=function(){var tt=swizzle(arguments);return"#"+hexDouble(tt[0])+hexDouble(tt[1])+hexDouble(tt[2])+(tt[3]<1?hexDouble(Math.round(tt[3]*255)):"")};cs.to.rgb=function(){var tt=swizzle(arguments);return tt.length<4||tt[3]===1?"rgb("+Math.round(tt[0])+", "+Math.round(tt[1])+", "+Math.round(tt[2])+")":"rgba("+Math.round(tt[0])+", "+Math.round(tt[1])+", "+Math.round(tt[2])+", "+tt[3]+")"};cs.to.rgb.percent=function(){var tt=swizzle(arguments),et=Math.round(tt[0]/255*100),rt=Math.round(tt[1]/255*100),nt=Math.round(tt[2]/255*100);return tt.length<4||tt[3]===1?"rgb("+et+"%, "+rt+"%, "+nt+"%)":"rgba("+et+"%, "+rt+"%, "+nt+"%, "+tt[3]+")"};cs.to.hsl=function(){var tt=swizzle(arguments);return tt.length<4||tt[3]===1?"hsl("+tt[0]+", "+tt[1]+"%, "+tt[2]+"%)":"hsla("+tt[0]+", "+tt[1]+"%, "+tt[2]+"%, "+tt[3]+")"};cs.to.hwb=function(){var tt=swizzle(arguments),et="";return tt.length>=4&&tt[3]!==1&&(et=", "+tt[3]),"hwb("+tt[0]+", "+tt[1]+"%, "+tt[2]+"%"+et+")"};cs.to.keyword=function(tt){return reverseNames[tt.slice(0,3)]};function clamp$6(tt,et,rt){return Math.min(Math.max(et,tt),rt)}function hexDouble(tt){var et=Math.round(tt).toString(16).toUpperCase();return et.length<2?"0"+et:et}const cssKeywords=colorName,reverseKeywords={};for(const tt of Object.keys(cssKeywords))reverseKeywords[cssKeywords[tt]]=tt;const convert$2={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var conversions$2=convert$2;for(const tt of Object.keys(convert$2)){if(!("channels"in convert$2[tt]))throw new Error("missing channels property: "+tt);if(!("labels"in convert$2[tt]))throw new Error("missing channel labels property: "+tt);if(convert$2[tt].labels.length!==convert$2[tt].channels)throw new Error("channel and label counts mismatch: "+tt);const{channels:et,labels:rt}=convert$2[tt];delete convert$2[tt].channels,delete convert$2[tt].labels,Object.defineProperty(convert$2[tt],"channels",{value:et}),Object.defineProperty(convert$2[tt],"labels",{value:rt})}convert$2.rgb.hsl=function(tt){const et=tt[0]/255,rt=tt[1]/255,nt=tt[2]/255,it=Math.min(et,rt,nt),ot=Math.max(et,rt,nt),at=ot-it;let st,lt;ot===it?st=0:et===ot?st=(rt-nt)/at:rt===ot?st=2+(nt-et)/at:nt===ot&&(st=4+(et-rt)/at),st=Math.min(st*60,360),st<0&&(st+=360);const ct=(it+ot)/2;return ot===it?lt=0:ct<=.5?lt=at/(ot+it):lt=at/(2-ot-it),[st,lt*100,ct*100]};convert$2.rgb.hsv=function(tt){let et,rt,nt,it,ot;const at=tt[0]/255,st=tt[1]/255,lt=tt[2]/255,ct=Math.max(at,st,lt),ut=ct-Math.min(at,st,lt),dt=function(ft){return(ct-ft)/6/ut+1/2};return ut===0?(it=0,ot=0):(ot=ut/ct,et=dt(at),rt=dt(st),nt=dt(lt),at===ct?it=nt-rt:st===ct?it=1/3+et-nt:lt===ct&&(it=2/3+rt-et),it<0?it+=1:it>1&&(it-=1)),[it*360,ot*100,ct*100]};convert$2.rgb.hwb=function(tt){const et=tt[0],rt=tt[1];let nt=tt[2];const it=convert$2.rgb.hsl(tt)[0],ot=1/255*Math.min(et,Math.min(rt,nt));return nt=1-1/255*Math.max(et,Math.max(rt,nt)),[it,ot*100,nt*100]};convert$2.rgb.cmyk=function(tt){const et=tt[0]/255,rt=tt[1]/255,nt=tt[2]/255,it=Math.min(1-et,1-rt,1-nt),ot=(1-et-it)/(1-it)||0,at=(1-rt-it)/(1-it)||0,st=(1-nt-it)/(1-it)||0;return[ot*100,at*100,st*100,it*100]};function comparativeDistance(tt,et){return(tt[0]-et[0])**2+(tt[1]-et[1])**2+(tt[2]-et[2])**2}convert$2.rgb.keyword=function(tt){const et=reverseKeywords[tt];if(et)return et;let rt=1/0,nt;for(const it of Object.keys(cssKeywords)){const ot=cssKeywords[it],at=comparativeDistance(tt,ot);at<rt&&(rt=at,nt=it)}return nt};convert$2.keyword.rgb=function(tt){return cssKeywords[tt]};convert$2.rgb.xyz=function(tt){let et=tt[0]/255,rt=tt[1]/255,nt=tt[2]/255;et=et>.04045?((et+.055)/1.055)**2.4:et/12.92,rt=rt>.04045?((rt+.055)/1.055)**2.4:rt/12.92,nt=nt>.04045?((nt+.055)/1.055)**2.4:nt/12.92;const it=et*.4124+rt*.3576+nt*.1805,ot=et*.2126+rt*.7152+nt*.0722,at=et*.0193+rt*.1192+nt*.9505;return[it*100,ot*100,at*100]};convert$2.rgb.lab=function(tt){const et=convert$2.rgb.xyz(tt);let rt=et[0],nt=et[1],it=et[2];rt/=95.047,nt/=100,it/=108.883,rt=rt>.008856?rt**(1/3):7.787*rt+16/116,nt=nt>.008856?nt**(1/3):7.787*nt+16/116,it=it>.008856?it**(1/3):7.787*it+16/116;const ot=116*nt-16,at=500*(rt-nt),st=200*(nt-it);return[ot,at,st]};convert$2.hsl.rgb=function(tt){const et=tt[0]/360,rt=tt[1]/100,nt=tt[2]/100;let it,ot,at;if(rt===0)return at=nt*255,[at,at,at];nt<.5?it=nt*(1+rt):it=nt+rt-nt*rt;const st=2*nt-it,lt=[0,0,0];for(let ct=0;ct<3;ct++)ot=et+1/3*-(ct-1),ot<0&&ot++,ot>1&&ot--,6*ot<1?at=st+(it-st)*6*ot:2*ot<1?at=it:3*ot<2?at=st+(it-st)*(2/3-ot)*6:at=st,lt[ct]=at*255;return lt};convert$2.hsl.hsv=function(tt){const et=tt[0];let rt=tt[1]/100,nt=tt[2]/100,it=rt;const ot=Math.max(nt,.01);nt*=2,rt*=nt<=1?nt:2-nt,it*=ot<=1?ot:2-ot;const at=(nt+rt)/2,st=nt===0?2*it/(ot+it):2*rt/(nt+rt);return[et,st*100,at*100]};convert$2.hsv.rgb=function(tt){const et=tt[0]/60,rt=tt[1]/100;let nt=tt[2]/100;const it=Math.floor(et)%6,ot=et-Math.floor(et),at=255*nt*(1-rt),st=255*nt*(1-rt*ot),lt=255*nt*(1-rt*(1-ot));switch(nt*=255,it){case 0:return[nt,lt,at];case 1:return[st,nt,at];case 2:return[at,nt,lt];case 3:return[at,st,nt];case 4:return[lt,at,nt];case 5:return[nt,at,st]}};convert$2.hsv.hsl=function(tt){const et=tt[0],rt=tt[1]/100,nt=tt[2]/100,it=Math.max(nt,.01);let ot,at;at=(2-rt)*nt;const st=(2-rt)*it;return ot=rt*it,ot/=st<=1?st:2-st,ot=ot||0,at/=2,[et,ot*100,at*100]};convert$2.hwb.rgb=function(tt){const et=tt[0]/360;let rt=tt[1]/100,nt=tt[2]/100;const it=rt+nt;let ot;it>1&&(rt/=it,nt/=it);const at=Math.floor(6*et),st=1-nt;ot=6*et-at,at&1&&(ot=1-ot);const lt=rt+ot*(st-rt);let ct,ut,dt;switch(at){default:case 6:case 0:ct=st,ut=lt,dt=rt;break;case 1:ct=lt,ut=st,dt=rt;break;case 2:ct=rt,ut=st,dt=lt;break;case 3:ct=rt,ut=lt,dt=st;break;case 4:ct=lt,ut=rt,dt=st;break;case 5:ct=st,ut=rt,dt=lt;break}return[ct*255,ut*255,dt*255]};convert$2.cmyk.rgb=function(tt){const et=tt[0]/100,rt=tt[1]/100,nt=tt[2]/100,it=tt[3]/100,ot=1-Math.min(1,et*(1-it)+it),at=1-Math.min(1,rt*(1-it)+it),st=1-Math.min(1,nt*(1-it)+it);return[ot*255,at*255,st*255]};convert$2.xyz.rgb=function(tt){const et=tt[0]/100,rt=tt[1]/100,nt=tt[2]/100;let it,ot,at;return it=et*3.2406+rt*-1.5372+nt*-.4986,ot=et*-.9689+rt*1.8758+nt*.0415,at=et*.0557+rt*-.204+nt*1.057,it=it>.0031308?1.055*it**(1/2.4)-.055:it*12.92,ot=ot>.0031308?1.055*ot**(1/2.4)-.055:ot*12.92,at=at>.0031308?1.055*at**(1/2.4)-.055:at*12.92,it=Math.min(Math.max(0,it),1),ot=Math.min(Math.max(0,ot),1),at=Math.min(Math.max(0,at),1),[it*255,ot*255,at*255]};convert$2.xyz.lab=function(tt){let et=tt[0],rt=tt[1],nt=tt[2];et/=95.047,rt/=100,nt/=108.883,et=et>.008856?et**(1/3):7.787*et+16/116,rt=rt>.008856?rt**(1/3):7.787*rt+16/116,nt=nt>.008856?nt**(1/3):7.787*nt+16/116;const it=116*rt-16,ot=500*(et-rt),at=200*(rt-nt);return[it,ot,at]};convert$2.lab.xyz=function(tt){const et=tt[0],rt=tt[1],nt=tt[2];let it,ot,at;ot=(et+16)/116,it=rt/500+ot,at=ot-nt/200;const st=ot**3,lt=it**3,ct=at**3;return ot=st>.008856?st:(ot-16/116)/7.787,it=lt>.008856?lt:(it-16/116)/7.787,at=ct>.008856?ct:(at-16/116)/7.787,it*=95.047,ot*=100,at*=108.883,[it,ot,at]};convert$2.lab.lch=function(tt){const et=tt[0],rt=tt[1],nt=tt[2];let it;it=Math.atan2(nt,rt)*360/2/Math.PI,it<0&&(it+=360);const at=Math.sqrt(rt*rt+nt*nt);return[et,at,it]};convert$2.lch.lab=function(tt){const et=tt[0],rt=tt[1],it=tt[2]/360*2*Math.PI,ot=rt*Math.cos(it),at=rt*Math.sin(it);return[et,ot,at]};convert$2.rgb.ansi16=function(tt,et=null){const[rt,nt,it]=tt;let ot=et===null?convert$2.rgb.hsv(tt)[2]:et;if(ot=Math.round(ot/50),ot===0)return 30;let at=30+(Math.round(it/255)<<2|Math.round(nt/255)<<1|Math.round(rt/255));return ot===2&&(at+=60),at};convert$2.hsv.ansi16=function(tt){return convert$2.rgb.ansi16(convert$2.hsv.rgb(tt),tt[2])};convert$2.rgb.ansi256=function(tt){const et=tt[0],rt=tt[1],nt=tt[2];return et===rt&&rt===nt?et<8?16:et>248?231:Math.round((et-8)/247*24)+232:16+36*Math.round(et/255*5)+6*Math.round(rt/255*5)+Math.round(nt/255*5)};convert$2.ansi16.rgb=function(tt){let et=tt%10;if(et===0||et===7)return tt>50&&(et+=3.5),et=et/10.5*255,[et,et,et];const rt=(~~(tt>50)+1)*.5,nt=(et&1)*rt*255,it=(et>>1&1)*rt*255,ot=(et>>2&1)*rt*255;return[nt,it,ot]};convert$2.ansi256.rgb=function(tt){if(tt>=232){const ot=(tt-232)*10+8;return[ot,ot,ot]}tt-=16;let et;const rt=Math.floor(tt/36)/5*255,nt=Math.floor((et=tt%36)/6)/5*255,it=et%6/5*255;return[rt,nt,it]};convert$2.rgb.hex=function(tt){const rt=(((Math.round(tt[0])&255)<<16)+((Math.round(tt[1])&255)<<8)+(Math.round(tt[2])&255)).toString(16).toUpperCase();return"000000".substring(rt.length)+rt};convert$2.hex.rgb=function(tt){const et=tt.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!et)return[0,0,0];let rt=et[0];et[0].length===3&&(rt=rt.split("").map(st=>st+st).join(""));const nt=parseInt(rt,16),it=nt>>16&255,ot=nt>>8&255,at=nt&255;return[it,ot,at]};convert$2.rgb.hcg=function(tt){const et=tt[0]/255,rt=tt[1]/255,nt=tt[2]/255,it=Math.max(Math.max(et,rt),nt),ot=Math.min(Math.min(et,rt),nt),at=it-ot;let st,lt;return at<1?st=ot/(1-at):st=0,at<=0?lt=0:it===et?lt=(rt-nt)/at%6:it===rt?lt=2+(nt-et)/at:lt=4+(et-rt)/at,lt/=6,lt%=1,[lt*360,at*100,st*100]};convert$2.hsl.hcg=function(tt){const et=tt[1]/100,rt=tt[2]/100,nt=rt<.5?2*et*rt:2*et*(1-rt);let it=0;return nt<1&&(it=(rt-.5*nt)/(1-nt)),[tt[0],nt*100,it*100]};convert$2.hsv.hcg=function(tt){const et=tt[1]/100,rt=tt[2]/100,nt=et*rt;let it=0;return nt<1&&(it=(rt-nt)/(1-nt)),[tt[0],nt*100,it*100]};convert$2.hcg.rgb=function(tt){const et=tt[0]/360,rt=tt[1]/100,nt=tt[2]/100;if(rt===0)return[nt*255,nt*255,nt*255];const it=[0,0,0],ot=et%1*6,at=ot%1,st=1-at;let lt=0;switch(Math.floor(ot)){case 0:it[0]=1,it[1]=at,it[2]=0;break;case 1:it[0]=st,it[1]=1,it[2]=0;break;case 2:it[0]=0,it[1]=1,it[2]=at;break;case 3:it[0]=0,it[1]=st,it[2]=1;break;case 4:it[0]=at,it[1]=0,it[2]=1;break;default:it[0]=1,it[1]=0,it[2]=st}return lt=(1-rt)*nt,[(rt*it[0]+lt)*255,(rt*it[1]+lt)*255,(rt*it[2]+lt)*255]};convert$2.hcg.hsv=function(tt){const et=tt[1]/100,rt=tt[2]/100,nt=et+rt*(1-et);let it=0;return nt>0&&(it=et/nt),[tt[0],it*100,nt*100]};convert$2.hcg.hsl=function(tt){const et=tt[1]/100,nt=tt[2]/100*(1-et)+.5*et;let it=0;return nt>0&&nt<.5?it=et/(2*nt):nt>=.5&&nt<1&&(it=et/(2*(1-nt))),[tt[0],it*100,nt*100]};convert$2.hcg.hwb=function(tt){const et=tt[1]/100,rt=tt[2]/100,nt=et+rt*(1-et);return[tt[0],(nt-et)*100,(1-nt)*100]};convert$2.hwb.hcg=function(tt){const et=tt[1]/100,nt=1-tt[2]/100,it=nt-et;let ot=0;return it<1&&(ot=(nt-it)/(1-it)),[tt[0],it*100,ot*100]};convert$2.apple.rgb=function(tt){return[tt[0]/65535*255,tt[1]/65535*255,tt[2]/65535*255]};convert$2.rgb.apple=function(tt){return[tt[0]/255*65535,tt[1]/255*65535,tt[2]/255*65535]};convert$2.gray.rgb=function(tt){return[tt[0]/100*255,tt[0]/100*255,tt[0]/100*255]};convert$2.gray.hsl=function(tt){return[0,0,tt[0]]};convert$2.gray.hsv=convert$2.gray.hsl;convert$2.gray.hwb=function(tt){return[0,100,tt[0]]};convert$2.gray.cmyk=function(tt){return[0,0,0,tt[0]]};convert$2.gray.lab=function(tt){return[tt[0],0,0]};convert$2.gray.hex=function(tt){const et=Math.round(tt[0]/100*255)&255,nt=((et<<16)+(et<<8)+et).toString(16).toUpperCase();return"000000".substring(nt.length)+nt};convert$2.rgb.gray=function(tt){return[(tt[0]+tt[1]+tt[2])/3/255*100]};const conversions$1=conversions$2;function buildGraph$1(){const tt={},et=Object.keys(conversions$1);for(let rt=et.length,nt=0;nt<rt;nt++)tt[et[nt]]={distance:-1,parent:null};return tt}function deriveBFS(tt){const et=buildGraph$1(),rt=[tt];for(et[tt].distance=0;rt.length;){const nt=rt.pop(),it=Object.keys(conversions$1[nt]);for(let ot=it.length,at=0;at<ot;at++){const st=it[at],lt=et[st];lt.distance===-1&&(lt.distance=et[nt].distance+1,lt.parent=nt,rt.unshift(st))}}return et}function link(tt,et){return function(rt){return et(tt(rt))}}function wrapConversion(tt,et){const rt=[et[tt].parent,tt];let nt=conversions$1[et[tt].parent][tt],it=et[tt].parent;for(;et[it].parent;)rt.unshift(et[it].parent),nt=link(conversions$1[et[it].parent][it],nt),it=et[it].parent;return nt.conversion=rt,nt}var route$1=function(tt){const et=deriveBFS(tt),rt={},nt=Object.keys(et);for(let it=nt.length,ot=0;ot<it;ot++){const at=nt[ot];et[at].parent!==null&&(rt[at]=wrapConversion(at,et))}return rt};const conversions=conversions$2,route=route$1,convert$1={},models=Object.keys(conversions);function wrapRaw(tt){const et=function(...rt){const nt=rt[0];return nt==null?nt:(nt.length>1&&(rt=nt),tt(rt))};return"conversion"in tt&&(et.conversion=tt.conversion),et}function wrapRounded(tt){const et=function(...rt){const nt=rt[0];if(nt==null)return nt;nt.length>1&&(rt=nt);const it=tt(rt);if(typeof it=="object")for(let ot=it.length,at=0;at<ot;at++)it[at]=Math.round(it[at]);return it};return"conversion"in tt&&(et.conversion=tt.conversion),et}models.forEach(tt=>{convert$1[tt]={},Object.defineProperty(convert$1[tt],"channels",{value:conversions[tt].channels}),Object.defineProperty(convert$1[tt],"labels",{value:conversions[tt].labels});const et=route(tt);Object.keys(et).forEach(nt=>{const it=et[nt];convert$1[tt][nt]=wrapRounded(it),convert$1[tt][nt].raw=wrapRaw(it)})});var colorConvert=convert$1;const colorString=colorStringExports,convert=colorConvert,skippedModels=["keyword","gray","hex"],hashedModelKeys={};for(const tt of Object.keys(convert))hashedModelKeys[[...convert[tt].labels].sort().join("")]=tt;const limiters={};function Color$1(tt,et){if(!(this instanceof Color$1))return new Color$1(tt,et);if(et&&et in skippedModels&&(et=null),et&&!(et in convert))throw new Error("Unknown model: "+et);let rt,nt;if(tt==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(tt instanceof Color$1)this.model=tt.model,this.color=[...tt.color],this.valpha=tt.valpha;else if(typeof tt=="string"){const it=colorString.get(tt);if(it===null)throw new Error("Unable to parse color from string: "+tt);this.model=it.model,nt=convert[this.model].channels,this.color=it.value.slice(0,nt),this.valpha=typeof it.value[nt]=="number"?it.value[nt]:1}else if(tt.length>0){this.model=et||"rgb",nt=convert[this.model].channels;const it=Array.prototype.slice.call(tt,0,nt);this.color=zeroArray(it,nt),this.valpha=typeof tt[nt]=="number"?tt[nt]:1}else if(typeof tt=="number")this.model="rgb",this.color=[tt>>16&255,tt>>8&255,tt&255],this.valpha=1;else{this.valpha=1;const it=Object.keys(tt);"alpha"in tt&&(it.splice(it.indexOf("alpha"),1),this.valpha=typeof tt.alpha=="number"?tt.alpha:0);const ot=it.sort().join("");if(!(ot in hashedModelKeys))throw new Error("Unable to parse color from object: "+JSON.stringify(tt));this.model=hashedModelKeys[ot];const{labels:at}=convert[this.model],st=[];for(rt=0;rt<at.length;rt++)st.push(tt[at[rt]]);this.color=zeroArray(st)}if(limiters[this.model])for(nt=convert[this.model].channels,rt=0;rt<nt;rt++){const it=limiters[this.model][rt];it&&(this.color[rt]=it(this.color[rt]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}Color$1.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(tt){let et=this.model in colorString.to?this:this.rgb();et=et.round(typeof tt=="number"?tt:1);const rt=et.valpha===1?et.color:[...et.color,this.valpha];return colorString.to[et.model](rt)},percentString(tt){const et=this.rgb().round(typeof tt=="number"?tt:1),rt=et.valpha===1?et.color:[...et.color,this.valpha];return colorString.to.rgb.percent(rt)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const tt={},{channels:et}=convert[this.model],{labels:rt}=convert[this.model];for(let nt=0;nt<et;nt++)tt[rt[nt]]=this.color[nt];return this.valpha!==1&&(tt.alpha=this.valpha),tt},unitArray(){const tt=this.rgb().color;return tt[0]/=255,tt[1]/=255,tt[2]/=255,this.valpha!==1&&tt.push(this.valpha),tt},unitObject(){const tt=this.rgb().object();return tt.r/=255,tt.g/=255,tt.b/=255,this.valpha!==1&&(tt.alpha=this.valpha),tt},round(tt){return tt=Math.max(tt||0,0),new Color$1([...this.color.map(roundToPlace(tt)),this.valpha],this.model)},alpha(tt){return tt!==void 0?new Color$1([...this.color,Math.max(0,Math.min(1,tt))],this.model):this.valpha},red:getset("rgb",0,maxfn(255)),green:getset("rgb",1,maxfn(255)),blue:getset("rgb",2,maxfn(255)),hue:getset(["hsl","hsv","hsl","hwb","hcg"],0,tt=>(tt%360+360)%360),saturationl:getset("hsl",1,maxfn(100)),lightness:getset("hsl",2,maxfn(100)),saturationv:getset("hsv",1,maxfn(100)),value:getset("hsv",2,maxfn(100)),chroma:getset("hcg",1,maxfn(100)),gray:getset("hcg",2,maxfn(100)),white:getset("hwb",1,maxfn(100)),wblack:getset("hwb",2,maxfn(100)),cyan:getset("cmyk",0,maxfn(100)),magenta:getset("cmyk",1,maxfn(100)),yellow:getset("cmyk",2,maxfn(100)),black:getset("cmyk",3,maxfn(100)),x:getset("xyz",0,maxfn(95.047)),y:getset("xyz",1,maxfn(100)),z:getset("xyz",2,maxfn(108.833)),l:getset("lab",0,maxfn(100)),a:getset("lab",1),b:getset("lab",2),keyword(tt){return tt!==void 0?new Color$1(tt):convert[this.model].keyword(this.color)},hex(tt){return tt!==void 0?new Color$1(tt):colorString.to.hex(this.rgb().round().color)},hexa(tt){if(tt!==void 0)return new Color$1(tt);const et=this.rgb().round().color;let rt=Math.round(this.valpha*255).toString(16).toUpperCase();return rt.length===1&&(rt="0"+rt),colorString.to.hex(et)+rt},rgbNumber(){const tt=this.rgb().color;return(tt[0]&255)<<16|(tt[1]&255)<<8|tt[2]&255},luminosity(){const tt=this.rgb().color,et=[];for(const[rt,nt]of tt.entries()){const it=nt/255;et[rt]=it<=.04045?it/12.92:((it+.055)/1.055)**2.4}return .2126*et[0]+.7152*et[1]+.0722*et[2]},contrast(tt){const et=this.luminosity(),rt=tt.luminosity();return et>rt?(et+.05)/(rt+.05):(rt+.05)/(et+.05)},level(tt){const et=this.contrast(tt);return et>=7?"AAA":et>=4.5?"AA":""},isDark(){const tt=this.rgb().color;return(tt[0]*2126+tt[1]*7152+tt[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const tt=this.rgb();for(let et=0;et<3;et++)tt.color[et]=255-tt.color[et];return tt},lighten(tt){const et=this.hsl();return et.color[2]+=et.color[2]*tt,et},darken(tt){const et=this.hsl();return et.color[2]-=et.color[2]*tt,et},saturate(tt){const et=this.hsl();return et.color[1]+=et.color[1]*tt,et},desaturate(tt){const et=this.hsl();return et.color[1]-=et.color[1]*tt,et},whiten(tt){const et=this.hwb();return et.color[1]+=et.color[1]*tt,et},blacken(tt){const et=this.hwb();return et.color[2]+=et.color[2]*tt,et},grayscale(){const tt=this.rgb().color,et=tt[0]*.3+tt[1]*.59+tt[2]*.11;return Color$1.rgb(et,et,et)},fade(tt){return this.alpha(this.valpha-this.valpha*tt)},opaquer(tt){return this.alpha(this.valpha+this.valpha*tt)},rotate(tt){const et=this.hsl();let rt=et.color[0];return rt=(rt+tt)%360,rt=rt<0?360+rt:rt,et.color[0]=rt,et},mix(tt,et){if(!tt||!tt.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof tt);const rt=tt.rgb(),nt=this.rgb(),it=et===void 0?.5:et,ot=2*it-1,at=rt.alpha()-nt.alpha(),st=((ot*at===-1?ot:(ot+at)/(1+ot*at))+1)/2,lt=1-st;return Color$1.rgb(st*rt.red()+lt*nt.red(),st*rt.green()+lt*nt.green(),st*rt.blue()+lt*nt.blue(),rt.alpha()*it+nt.alpha()*(1-it))}};for(const tt of Object.keys(convert)){if(skippedModels.includes(tt))continue;const{channels:et}=convert[tt];Color$1.prototype[tt]=function(...rt){return this.model===tt?new Color$1(this):rt.length>0?new Color$1(rt,tt):new Color$1([...assertArray(convert[this.model][tt].raw(this.color)),this.valpha],tt)},Color$1[tt]=function(...rt){let nt=rt[0];return typeof nt=="number"&&(nt=zeroArray(rt,et)),new Color$1(nt,tt)}}function roundTo$1(tt,et){return Number(tt.toFixed(et))}function roundToPlace(tt){return function(et){return roundTo$1(et,tt)}}function getset(tt,et,rt){tt=Array.isArray(tt)?tt:[tt];for(const nt of tt)(limiters[nt]||(limiters[nt]=[]))[et]=rt;return tt=tt[0],function(nt){let it;return nt!==void 0?(rt&&(nt=rt(nt)),it=this[tt](),it.color[et]=nt,it):(it=this[tt]().color[et],rt&&(it=rt(it)),it)}}function maxfn(tt){return function(et){return Math.max(0,Math.min(tt,et))}}function assertArray(tt){return Array.isArray(tt)?tt:[tt]}function zeroArray(tt,et){for(let rt=0;rt<et;rt++)typeof tt[rt]!="number"&&(tt[rt]=0);return tt}var color$3=Color$1;const Color$2=color$3,common$3={black:"#000",white:"#fff"},common$4=common$3,red$1={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},red$2=red$1,pink$1={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",A100:"#ff80ab",A200:"#ff4081",A400:"#f50057",A700:"#c51162"},pink$2=pink$1,purple$1={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},purple$2=purple$1,deepPurple$1={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",A100:"#b388ff",A200:"#7c4dff",A400:"#651fff",A700:"#6200ea"},deepPurple$2=deepPurple$1,indigo$1={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",A100:"#8c9eff",A200:"#536dfe",A400:"#3d5afe",A700:"#304ffe"},indigo$2=indigo$1,blue$1={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},blue$2=blue$1,lightBlue$1={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},lightBlue$2=lightBlue$1,cyan$1={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",A100:"#84ffff",A200:"#18ffff",A400:"#00e5ff",A700:"#00b8d4"},cyan$2=cyan$1,teal$1={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",A100:"#a7ffeb",A200:"#64ffda",A400:"#1de9b6",A700:"#00bfa5"},teal$2=teal$1,green$1={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},green$2=green$1,lightGreen$1={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",A100:"#ccff90",A200:"#b2ff59",A400:"#76ff03",A700:"#64dd17"},lightGreen$2=lightGreen$1,lime$1={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",A100:"#f4ff81",A200:"#eeff41",A400:"#c6ff00",A700:"#aeea00"},lime$2=lime$1,yellow$1={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",A100:"#ffff8d",A200:"#ffff00",A400:"#ffea00",A700:"#ffd600"},yellow$2=yellow$1,amber$1={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",A100:"#ffe57f",A200:"#ffd740",A400:"#ffc400",A700:"#ffab00"},amber$2=amber$1,orange$1={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},orange$2=orange$1,deepOrange$1={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",A100:"#ff9e80",A200:"#ff6e40",A400:"#ff3d00",A700:"#dd2c00"},deepOrange$2=deepOrange$1,brown$1={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723",A100:"#d7ccc8",A200:"#bcaaa4",A400:"#8d6e63",A700:"#5d4037"},brown$2=brown$1,grey={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},grey$1=grey,blueGrey$1={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238",A100:"#cfd8dc",A200:"#b0bec5",A400:"#78909c",A700:"#455a64"},blueGrey$2=blueGrey$1,colors$3=Object.freeze(Object.defineProperty({__proto__:null,amber:amber$2,blue:blue$2,blueGrey:blueGrey$2,brown:brown$2,common:common$4,cyan:cyan$2,deepOrange:deepOrange$2,deepPurple:deepPurple$2,green:green$2,grey:grey$1,indigo:indigo$2,lightBlue:lightBlue$2,lightGreen:lightGreen$2,lime:lime$2,orange:orange$2,pink:pink$2,purple:purple$2,red:red$2,teal:teal$2,yellow:yellow$2},Symbol.toStringTag,{value:"Module"})),space=/\s+/g,URL$5=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/,toString$a=Object.prototype.toString;function is$3(tt,et){return toString$a.call(tt)===`[object ${et}]`}function isDef(tt){return typeof tt<"u"}function isUnDef(tt){return!isDef(tt)}function isObject$l(tt){return tt!==null&&is$3(tt,"Object")}function isEmpty$6(tt){return isArray$o(tt)||isString$b(tt)?tt.length===0:tt instanceof Map||tt instanceof Set?tt.size===0:isObject$l(tt)?Object.keys(tt).length===0:!1}function isNumber$9(tt){return is$3(tt,"Number")}function isString$b(tt){return is$3(tt,"String")}function isFunction$a(tt){return typeof tt=="function"}function isBoolean$8(tt){return is$3(tt,"Boolean")}function isArray$o(tt){return tt&&Array.isArray(tt)}const isUrl=tt=>URL$5.test(tt),isSpace=tt=>/\s+/g.test(tt),clamp$5=(tt,et=0,rt=1)=>Math.max(et,Math.min(rt,tt)),roundTo=(tt,et=0)=>Math.round(tt*10**et)/10**et,roundToNearest=(tt,et)=>Math.round(tt/et)*et,roundAwayFloatingPointNonsense=tt=>roundToNearest(tt,1/1e6),floorToNearest=(tt,et)=>Math.floor(tt/et)*et,normalize$6=(tt,et,rt,nt=0,it=1)=>{const ot=(tt-et)/(rt-et);return(it-nt)*ot+nt},convertDegreesToRadians=tt=>tt*Math.PI/180,getQuadrantForPoint=({x:tt,y:et})=>{if(tt>=0&&et>=0)return 1;if(tt<0&&et>=0)return 2;if(tt<0&&et<0)return 3;if(tt>=0&&et<0)return 4;throw new Error(`Invalid coordinates: ${tt} and ${et}`)},convertCartesianToPolar=(tt,et)=>{const rt={x:tt.x-et.x,y:tt.y-et.y},{x:nt,y:it}=rt,ot=getQuadrantForPoint(rt);let at=0;ot===2||ot===3?at+=Math.PI:ot===4&&(at+=2*Math.PI);const st=Math.sqrt(nt**2+it**2);return[Math.atan(it/nt)+at,st]},getIsMac=(tt=navigator.platform)=>!!navigator.platform.match(/^Mac/),isMetaKeyPressed=tt=>getIsMac()?tt.metaKey:tt.ctrlKey,getMetaKeyLabel=()=>getIsMac()?"⌘":"ctrl",pluralize=(tt,et)=>{const rt=tt===1?et:`${et}s`;return`${tt} ${rt}`};function deepMerge(tt={},et={}){let rt;for(rt in et)tt[rt]=isObject$l(tt[rt])&&tt[rt]!==null?deepMerge(tt[rt],et[rt]):tt[rt]=et[rt];return tt}function setObjToUrlParams(tt,et){let rt="";for(const nt in et)rt+=nt+"="+encodeURIComponent(et[nt])+"&";return rt=rt.replace(/&$/,""),/\?$/.test(tt)?tt+rt:tt.replace(/\/?$/,"?")+rt}function appendUrlParams(tt,et){let rt="";for(const nt in et)rt+=nt+"="+encodeURIComponent(et[nt])+"&";return rt=rt.replace(/&$/,""),/\?$/.test(tt)?tt+rt:tt.replace(/\/?$/,"?")+rt}function compareVersion(tt,et){tt=tt.split("."),et=et.split(".");const rt=Math.max(tt.length,et.length);for(;tt.length<rt;)tt.push("0");for(;et.length<rt;)et.push("0");for(let nt=0;nt<rt;nt++){const it=parseInt(tt[nt]),ot=parseInt(et[nt]);if(it>ot)return 1;if(it<ot)return-1}return 0}const metaKeyLabel=getMetaKeyLabel(),NOTE_TOOLS={BLOCK_1:"block_1",BLOCK_2:"block_2",SHORT_1:"short_1",SHORT_2:"short_2",LONG_1:"long_1",LONG_2:"long_2",MINE:"mine",OBSTACLE_1:"obstacle_1",OBSTACLE_2:"obstacle_2"},NOTE_TOOLS_STANDARD={BLOCK_1:NOTE_TOOLS.BLOCK_1,BLOCK_2:NOTE_TOOLS.BLOCK_2,MINE:NOTE_TOOLS.MINE,OBSTACLE:NOTE_TOOLS.OBSTACLE_1},NOTE_TOOLS_EXTRA={RED_BLOCK:"red-block",BLUE_BLOCK:"blue-block",BLOCK:"block",OBSTACLE:"obstacle",GROUP:"group"},EVENT_TOOLS={ON:"on",OFF:"off",FLASH:"flash",FADE:"fade"},EVENT_EDIT_MODES={PLACE:"place",SELECT:"select"},EVENT_COLORS={RED:"red",BLUE:"blue"},SELECTION_MODE={Deselect:"deselect",Select:"select",Delete:"delete"},SWAPS={HORIZONTAL:"horizontal",VERTICAL:"vertical"},NUDGE={FORWARDS:"forwards",BACKWARDS:"backwards"},NOTE_ARROW={UP:0,DOWN:1,LEFT:2,RIGHT:3,UP_LEFT:4,UP_RIGHT:5,DOWN_LEFT:6,DOWN_RIGHT:7,CIRCLE:8},NOTE_ARROW_ROTATE=[{rotate:-45,value:NOTE_ARROW.UP_LEFT},{rotate:0,value:NOTE_ARROW.UP},{rotate:45,value:NOTE_ARROW.UP_RIGHT},{rotate:-90,value:NOTE_ARROW.LEFT},{rotate:-90,value:NOTE_ARROW.CIRCLE},{rotate:90,value:NOTE_ARROW.RIGHT},{rotate:-135,value:NOTE_ARROW.DOWN_LEFT},{rotate:-180,value:NOTE_ARROW.DOWN},{rotate:135,value:NOTE_ARROW.DOWN_RIGHT}],THROUGH={BACKWARDS:"backwards",FORWARDS:"forwards"},SWITCH_ACTION={PREVIOUS:"previous",NEXT:"next"},EDITOR_DURATION={MIN_OBSTACLE:.04,MIN_LONG_NOTE:.5},TRACK_ID_KEY={MAIN_LIGHT:"mainLight",LEFT_LIGHT:"leftLight",LEFT_LIGHT_SPEED:"leftLightSpeed",RIGHT_LIGHT:"rightLight",RIGHT_LIGHT_SPEED:"rightLightSpeed",BACK_LIGHT:"backLight",SPECIAL_LIGHT01:"specialLight01",SPECIAL_MODEL01:"specialModel01",SPECIAL_LIGHT02:"specialLight02",SPECIAL_MODEL02:"specialModel02",FOOT_RING_TOLERANCE:"footRingTolerance"},{MAIN_LIGHT,LEFT_LIGHT,LEFT_LIGHT_SPEED,RIGHT_LIGHT,RIGHT_LIGHT_SPEED,BACK_LIGHT,SPECIAL_LIGHT01,SPECIAL_MODEL01,SPECIAL_LIGHT02,SPECIAL_MODEL02,FOOT_RING_TOLERANCE}=TRACK_ID_KEY,TRACK_ID_MAP={[MAIN_LIGHT]:1,[LEFT_LIGHT]:2,[LEFT_LIGHT_SPEED]:3,[RIGHT_LIGHT]:4,[RIGHT_LIGHT_SPEED]:5,[BACK_LIGHT]:6,[SPECIAL_LIGHT01]:7,[SPECIAL_MODEL01]:8,[SPECIAL_LIGHT02]:9,[SPECIAL_MODEL02]:10,[FOOT_RING_TOLERANCE]:101},SPEED_EVENT_ARR=[LEFT_LIGHT_SPEED,RIGHT_LIGHT_SPEED,SPECIAL_MODEL01,SPECIAL_MODEL02],LIGHT_EVENT_ARR=[MAIN_LIGHT,LEFT_LIGHT,RIGHT_LIGHT,BACK_LIGHT,SPECIAL_LIGHT01,SPECIAL_LIGHT02,FOOT_RING_TOLERANCE],LIGHT_EVENT_TYPES={red:{off:0,on:1,flash:3,fade:5},blue:{off:0,on:2,flash:4,fade:6}},NOTE_MODE={STANDARD:"Standard",RING:"Ring",RING_DANCE:"RingDance"},RING_DIRECTION={OUTSIDE:"outside",INSIDE:"inside",WITHIN:"within"},NOTE_OBSTACLE={WALL:"wall",CEILING:"ceiling",EXTENSION:"extension"},SELECTED_TOOL_DURATION_TYPE_ARR=[NOTE_TOOLS.OBSTACLE_1,NOTE_TOOLS.OBSTACLE_2,NOTE_TOOLS.LONG_1,NOTE_TOOLS.LONG_2],SELECTED_TOOL_LONG_TYPE_ARR=[NOTE_TOOLS.LONG_1,NOTE_TOOLS.LONG_2],SELECTED_TOOL_BLOCK_TYPE_ARR=[NOTE_TOOLS.BLOCK_1,NOTE_TOOLS.BLOCK_2],GRAPHICS_LEVEL={LOW:"low",MEDIUM:"medium",HIGH:"high"},EVENT_PATHWAY=[{id:TRACK_ID_KEY.LEFT_LIGHT_SPEED,label:"左侧灯光速度",type:"speed"},{id:TRACK_ID_KEY.LEFT_LIGHT,label:"左侧灯光",type:"blocks"},{id:TRACK_ID_KEY.RIGHT_LIGHT,label:"右侧灯光",type:"blocks"},{id:TRACK_ID_KEY.RIGHT_LIGHT_SPEED,label:"右侧灯光速度",type:"speed"},{id:TRACK_ID_KEY.MAIN_LIGHT,label:"主灯光",type:"blocks"},{id:TRACK_ID_KEY.BACK_LIGHT,label:"律动光",type:"blocks"},{id:TRACK_ID_KEY.SPECIAL_LIGHT01,label:"菱形灯光",type:"blocks"},{id:TRACK_ID_KEY.SPECIAL_MODEL01,label:"菱形灯光速度",type:"speed"},{id:TRACK_ID_KEY.SPECIAL_LIGHT02,label:"星空灯光",type:"blocks"},{id:TRACK_ID_KEY.SPECIAL_MODEL02,label:"星空灯光速度",type:"speed"}],SNAPPING_THRESHOLD_VALUES=[{value:1/64,label:"1/64 Beat"},{value:1/32,label:"1/32 Beat"},{value:1/24,label:"1/24 Beat"},{value:1/16,label:"1/16 Beat",shortcutKey:1,shortcutLabel:`${metaKeyLabel}+1`},{value:1/12,label:"1/12 Beat"},{value:1/8,label:"1/8 Beat",shortcutKey:2,shortcutLabel:`${metaKeyLabel}+2`},{value:1/6,label:"1/6 Beat"},{value:1/4,label:"1/4 Beat",shortcutKey:3,shortcutLabel:`${metaKeyLabel}+3`},{value:1/3,label:"1/3 Beat"},{value:1/2,label:"1/2 Beat",shortcutKey:4,shortcutLabel:`${metaKeyLabel}+4`},{value:1,label:"1 Beat",shortcutKey:5,shortcutLabel:`${metaKeyLabel}+5`},{value:2,label:"2 Beats",shortcutKey:6,shortcutLabel:`${metaKeyLabel}+6`},{value:4,label:"1 Bar",shortcutKey:7,shortcutLabel:`${metaKeyLabel}+7`},{value:8,label:"2 Bars",shortcutKey:8,shortcutLabel:`${metaKeyLabel}+8`},{value:16,label:"4 Bars",shortcutKey:9,shortcutLabel:`${metaKeyLabel}+9`}],HIGHEST_PRECISION=SNAPPING_THRESHOLD_VALUES[0].value,SHORTCUT_DELETE={HAND_NOTE:"handNote",FOOT_NOTE:"footNote",OBSTACLE:NOTE_TOOLS_EXTRA.OBSTACLE,ALL:"all"},COEFFICIENT=1.175,HEADER_COLOR="#192230",MAPPER_VERSION="2.3.0",BEAT_MAP="beatmap",MAPPING_EXTENSIONS="mapping-extensions",CELL_SIZE=1,GRID_COL_WIDTH=CELL_SIZE*COEFFICIENT,NOTES_Z_OFFSET=6,FOOTER_NOTE_SIZE=2.5,BOTTOMS_PLACEMENT_COLS=36,SURFACE_TERRACE_WIDTH=6.5,SURFACE_TERRACE_HEIGHT=2,FOOTER_CELL_WIDTH=(SURFACE_TERRACE_WIDTH-FOOTER_NOTE_SIZE)/(BOTTOMS_PLACEMENT_COLS-1),DEPTHS={low:75,medium:55,high:38},CONST_UNIT=8,HEADER_HEIGHT$1=48,FOOTER_HEIGHT=60;var DIFFICULTY=(tt=>(tt.Easy="Easy",tt.Normal="Normal",tt.Hard="Hard",tt.Expert="Expert",tt.ExpertPlus="ExpertPlus",tt))(DIFFICULTY||{});const DIFFICULTIES=["Easy","Normal","Hard","Expert"],VIEW_TYPE={NOTES:"notes",EVENTS:"events",PREVIEW:"preview"},EVENT_ZOOM_LEVEL=[null,32,16,8,4,2],EVENT_ZOOM_LEVEL_MIN=1,EVENT_ZOOM_LEVEL_MAX=EVENT_ZOOM_LEVEL.length-1,ENVIRONMENT_DISPLAY_MAP={DefaultEnvironment:"The First (default)",Origins:"Origins",TriangleEnvironment:"Triangle",BigMirrorEnvironment:"Big Mirror",NiceEnvironment:"Nice",KDAEnvironment:"KDA",MonstercatEnvironment:"Monstercat",DragonsEnvironment:"Dragons",CrabRaveEnvironment:"Crab Rave",PanicEnvironment:"Panic"},VERSION$3={ONE:1,TWO:2,THREE:3},MOUSE_KEY={LEFT:"left",MIDDLE:"middle",RIGHT:"right"},Z_INDEX={background:0,mouseCursor:1,tracks:2,songPositionIndicator:3},NOTE_JUMP_START_BEAT_OFFSET=.001,MAX_HALF_JUMP_DISTANCE=18,START_HALF_JUMP_DURATION_IN_BEATS=4,DEFAULT_NOTE_JUMP_SPEEDS={Easy:10,Normal:10,Hard:12,Expert:15,ExpertPlus:18},DEFAULT_CALORIE={Easy:3e3,Normal:4e3,Hard:4500,Expert:5e3,ExpertPlus:5500},COLOR_KEY={COLOR_LEFT:"colorLeft",COLOR_RIGHT:"colorRight",ENV_COLOR_LEFT:"envColorLeft",ENV_COLOR_RIGHT:"envColorRight",OBSTACLE_COLOR:"obstacleColor",OBSTACLE_COLOR2:"obstacle2Color"},OGG_LOAD_STATUS={IDLE:"idle",LOADING:"loading",ERROR:"error",SUCCESS:"success"},THING_TYPE={SONG:"song",COVER_ART:"cover-art",INFO:"info",BEAT_MAP:"beatmap"},DEFAULT_RED="#f21212",DEFAULT_PURPLE="#d500f9",DEFAULT_BLUE="#006cff",EVENT_COLOR1="#FFDD55",EVENT_COLOR2="#00FFCC",getColorForItem=(tt,et)=>{const rt=get$a(et,"modSettings.customColors.isEnabled");switch(tt){case NOTE_TOOLS.BLOCK_1:case NOTE_TOOLS.LONG_1:case 0:{const nt=DEFAULT_RED,it=get$a(et,`modSettings.customColors.${COLOR_KEY.COLOR_LEFT}`)||nt;return rt?it:nt}case NOTE_TOOLS.BLOCK_2:case NOTE_TOOLS.LONG_2:case 1:{const nt=DEFAULT_BLUE,it=get$a(et,`modSettings.customColors.${COLOR_KEY.COLOR_RIGHT}`)||nt;return rt?it:nt}case NOTE_TOOLS.MINE:case 3:return"#687485";case NOTE_TOOLS.OBSTACLE_1:{const nt=DEFAULT_RED,it=get$a(et,`modSettings.customColors.${COLOR_KEY.OBSTACLE_COLOR}`)||nt;return rt?it:nt}case NOTE_TOOLS.OBSTACLE_2:{const nt=DEFAULT_RED,it=get$a(et,`modSettings.customColors.${COLOR_KEY.OBSTACLE_COLOR2}`)||nt;return rt?it:nt}case COLOR_KEY.ENV_COLOR_LEFT:case EVENT_COLORS.RED:{const nt=EVENT_COLOR1,it=get$a(et,`modSettings.customColors.${COLOR_KEY.ENV_COLOR_LEFT}`)||nt;return rt?it:nt}case COLOR_KEY.ENV_COLOR_RIGHT:case EVENT_COLORS.BLUE:{const nt=EVENT_COLOR2,it=get$a(et,`modSettings.customColors.${COLOR_KEY.ENV_COLOR_RIGHT}`)||nt;return rt?it:nt}case"rotate":return colors$3.green[500];case EVENT_TOOLS.OFF:return colors$3.blueGrey[400];default:return}},formatColorObjectRGB=(tt,et,rt)=>{const nt={[COLOR_KEY.COLOR_LEFT]:4,[COLOR_KEY.COLOR_RIGHT]:4,[COLOR_KEY.ENV_COLOR_LEFT]:2,[COLOR_KEY.ENV_COLOR_RIGHT]:2,[COLOR_KEY.OBSTACLE_COLOR]:10},it=normalize$6(rt,0,1,1,nt[tt]),ot=Color$2(et).rgb().color;return{r:ot[0]/255*it,g:ot[1]/255*it,b:ot[2]/255*it}},DEFAULT_NUM_COLS=4,DEF_NUMBER_ROWS=3,DEFAULT_COL_WIDTH=1,DEFAULT_ROW_HEIGHT=1,DEFAULT_GRID={numRows:DEF_NUMBER_ROWS,numCols:DEFAULT_NUM_COLS,colWidth:DEFAULT_COL_WIDTH,rowHeight:DEFAULT_ROW_HEIGHT},convertGridColumn=(tt,et,rt)=>{const nt=tt-(et-DEFAULT_NUM_COLS)/2;let it=(DEFAULT_NUM_COLS-1)/-2,ot=it*-1;const at=it*rt+ot;return rt*nt+at},convertGridRow=(tt,et,rt)=>tt*rt,hexList=[];for(let tt=0;tt<=15;tt++)hexList[tt]=tt.toString(16);function buildUUID(){let tt="";for(let et=1;et<=36;et++)et===9||et===14||et===19||et===24?tt+="-":et===15?tt+=4:et===20?tt+=hexList[Math.random()*4|8]:tt+=hexList[Math.random()*16|0];return tt.replace(/-/g,"")}let unique=0;function buildShortUUID(tt="",et=!1){const rt=Date.now(),nt=et?Math.floor(Math.random()*1e9):"";return unique++,tt+nt+unique+String(rt)}function buildRandomNum(tt=1e5){return Math.floor(Math.random()*tt)}var dayjs_minExports={},dayjs_min$1={get exports(){return dayjs_minExports},set exports(tt){dayjs_minExports=tt}};(function(tt,et){(function(rt,nt){tt.exports=nt()})(commonjsGlobal$4,function(){var rt=1e3,nt=6e4,it=36e5,ot="millisecond",at="second",st="minute",lt="hour",ct="day",ut="week",dt="month",ft="quarter",pt="year",mt="date",ht="Invalid Date",gt=/^(\d{4})[-/]?(\d{1,2})?[-/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,vt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,yt={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),ordinal:function(Nt){var Ot=["th","st","nd","rd"],Bt=Nt%100;return"["+Nt+(Ot[(Bt-20)%10]||Ot[Bt]||Ot[0])+"]"}},bt=function(Nt,Ot,Bt){var zt=String(Nt);return!zt||zt.length>=Ot?Nt:""+Array(Ot+1-zt.length).join(Bt)+Nt},xt={s:bt,z:function(Nt){var Ot=-Nt.utcOffset(),Bt=Math.abs(Ot),zt=Math.floor(Bt/60),Vt=Bt%60;return(Ot<=0?"+":"-")+bt(zt,2,"0")+":"+bt(Vt,2,"0")},m:function Nt(Ot,Bt){if(Ot.date()<Bt.date())return-Nt(Bt,Ot);var zt=12*(Bt.year()-Ot.year())+(Bt.month()-Ot.month()),Vt=Ot.clone().add(zt,dt),Ut=Bt-Vt<0,jt=Ot.clone().add(zt+(Ut?-1:1),dt);return+(-(zt+(Bt-Vt)/(Ut?Vt-jt:jt-Vt))||0)},a:function(Nt){return Nt<0?Math.ceil(Nt)||0:Math.floor(Nt)},p:function(Nt){return{M:dt,y:pt,w:ut,d:ct,D:mt,h:lt,m:st,s:at,ms:ot,Q:ft}[Nt]||String(Nt||"").toLowerCase().replace(/s$/,"")},u:function(Nt){return Nt===void 0}},$t="en",Tt={};Tt[$t]=yt;var wt=function(Nt){return Nt instanceof Lt},At=function Nt(Ot,Bt,zt){var Vt;if(!Ot)return $t;if(typeof Ot=="string"){var Ut=Ot.toLowerCase();Tt[Ut]&&(Vt=Ut),Bt&&(Tt[Ut]=Bt,Vt=Ut);var jt=Ot.split("-");if(!Vt&&jt.length>1)return Nt(jt[0])}else{var qt=Ot.name;Tt[qt]=Ot,Vt=qt}return!zt&&Vt&&($t=Vt),Vt||!zt&&$t},Rt=function(Nt,Ot){if(wt(Nt))return Nt.clone();var Bt=typeof Ot=="object"?Ot:{};return Bt.date=Nt,Bt.args=arguments,new Lt(Bt)},It=xt;It.l=At,It.i=wt,It.w=function(Nt,Ot){return Rt(Nt,{locale:Ot.$L,utc:Ot.$u,x:Ot.$x,$offset:Ot.$offset})};var Lt=function(){function Nt(Bt){this.$L=At(Bt.locale,null,!0),this.parse(Bt)}var Ot=Nt.prototype;return Ot.parse=function(Bt){this.$d=function(zt){var Vt=zt.date,Ut=zt.utc;if(Vt===null)return new Date(NaN);if(It.u(Vt))return new Date;if(Vt instanceof Date)return new Date(Vt);if(typeof Vt=="string"&&!/Z$/i.test(Vt)){var jt=Vt.match(gt);if(jt){var qt=jt[2]-1||0,Dt=(jt[7]||"0").substring(0,3);return Ut?new Date(Date.UTC(jt[1],qt,jt[3]||1,jt[4]||0,jt[5]||0,jt[6]||0,Dt)):new Date(jt[1],qt,jt[3]||1,jt[4]||0,jt[5]||0,jt[6]||0,Dt)}}return new Date(Vt)}(Bt),this.$x=Bt.x||{},this.init()},Ot.init=function(){var Bt=this.$d;this.$y=Bt.getFullYear(),this.$M=Bt.getMonth(),this.$D=Bt.getDate(),this.$W=Bt.getDay(),this.$H=Bt.getHours(),this.$m=Bt.getMinutes(),this.$s=Bt.getSeconds(),this.$ms=Bt.getMilliseconds()},Ot.$utils=function(){return It},Ot.isValid=function(){return this.$d.toString()!==ht},Ot.isSame=function(Bt,zt){var Vt=Rt(Bt);return this.startOf(zt)<=Vt&&Vt<=this.endOf(zt)},Ot.isAfter=function(Bt,zt){return Rt(Bt)<this.startOf(zt)},Ot.isBefore=function(Bt,zt){return this.endOf(zt)<Rt(Bt)},Ot.$g=function(Bt,zt,Vt){return It.u(Bt)?this[zt]:this.set(Vt,Bt)},Ot.unix=function(){return Math.floor(this.valueOf()/1e3)},Ot.valueOf=function(){return this.$d.getTime()},Ot.startOf=function(Bt,zt){var Vt=this,Ut=!!It.u(zt)||zt,jt=It.p(Bt),qt=function(sr,fr){var pr=It.w(Vt.$u?Date.UTC(Vt.$y,fr,sr):new Date(Vt.$y,fr,sr),Vt);return Ut?pr:pr.endOf(ct)},Dt=function(sr,fr){return It.w(Vt.toDate()[sr].apply(Vt.toDate("s"),(Ut?[0,0,0,0]:[23,59,59,999]).slice(fr)),Vt)},Ft=this.$W,Zt=this.$M,Kt=this.$D,ir="set"+(this.$u?"UTC":"");switch(jt){case pt:return Ut?qt(1,0):qt(31,11);case dt:return Ut?qt(1,Zt):qt(0,Zt+1);case ut:var rr=this.$locale().weekStart||0,mr=(Ft<rr?Ft+7:Ft)-rr;return qt(Ut?Kt-mr:Kt+(6-mr),Zt);case ct:case mt:return Dt(ir+"Hours",0);case lt:return Dt(ir+"Minutes",1);case st:return Dt(ir+"Seconds",2);case at:return Dt(ir+"Milliseconds",3);default:return this.clone()}},Ot.endOf=function(Bt){return this.startOf(Bt,!1)},Ot.$set=function(Bt,zt){var Vt,Ut=It.p(Bt),jt="set"+(this.$u?"UTC":""),qt=(Vt={},Vt[ct]=jt+"Date",Vt[mt]=jt+"Date",Vt[dt]=jt+"Month",Vt[pt]=jt+"FullYear",Vt[lt]=jt+"Hours",Vt[st]=jt+"Minutes",Vt[at]=jt+"Seconds",Vt[ot]=jt+"Milliseconds",Vt)[Ut],Dt=Ut===ct?this.$D+(zt-this.$W):zt;if(Ut===dt||Ut===pt){var Ft=this.clone().set(mt,1);Ft.$d[qt](Dt),Ft.init(),this.$d=Ft.set(mt,Math.min(this.$D,Ft.daysInMonth())).$d}else qt&&this.$d[qt](Dt);return this.init(),this},Ot.set=function(Bt,zt){return this.clone().$set(Bt,zt)},Ot.get=function(Bt){return this[It.p(Bt)]()},Ot.add=function(Bt,zt){var Vt,Ut=this;Bt=Number(Bt);var jt=It.p(zt),qt=function(Zt){var Kt=Rt(Ut);return It.w(Kt.date(Kt.date()+Math.round(Zt*Bt)),Ut)};if(jt===dt)return this.set(dt,this.$M+Bt);if(jt===pt)return this.set(pt,this.$y+Bt);if(jt===ct)return qt(1);if(jt===ut)return qt(7);var Dt=(Vt={},Vt[st]=nt,Vt[lt]=it,Vt[at]=rt,Vt)[jt]||1,Ft=this.$d.getTime()+Bt*Dt;return It.w(Ft,this)},Ot.subtract=function(Bt,zt){return this.add(-1*Bt,zt)},Ot.format=function(Bt){var zt=this,Vt=this.$locale();if(!this.isValid())return Vt.invalidDate||ht;var Ut=Bt||"YYYY-MM-DDTHH:mm:ssZ",jt=It.z(this),qt=this.$H,Dt=this.$m,Ft=this.$M,Zt=Vt.weekdays,Kt=Vt.months,ir=function(fr,pr,vr,dr){return fr&&(fr[pr]||fr(zt,Ut))||vr[pr].slice(0,dr)},rr=function(fr){return It.s(qt%12||12,fr,"0")},mr=Vt.meridiem||function(fr,pr,vr){var dr=fr<12?"AM":"PM";return vr?dr.toLowerCase():dr},sr={YY:String(this.$y).slice(-2),YYYY:this.$y,M:Ft+1,MM:It.s(Ft+1,2,"0"),MMM:ir(Vt.monthsShort,Ft,Kt,3),MMMM:ir(Kt,Ft),D:this.$D,DD:It.s(this.$D,2,"0"),d:String(this.$W),dd:ir(Vt.weekdaysMin,this.$W,Zt,2),ddd:ir(Vt.weekdaysShort,this.$W,Zt,3),dddd:Zt[this.$W],H:String(qt),HH:It.s(qt,2,"0"),h:rr(1),hh:rr(2),a:mr(qt,Dt,!0),A:mr(qt,Dt,!1),m:String(Dt),mm:It.s(Dt,2,"0"),s:String(this.$s),ss:It.s(this.$s,2,"0"),SSS:It.s(this.$ms,3,"0"),Z:jt};return Ut.replace(vt,function(fr,pr){return pr||sr[fr]||jt.replace(":","")})},Ot.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Ot.diff=function(Bt,zt,Vt){var Ut,jt=It.p(zt),qt=Rt(Bt),Dt=(qt.utcOffset()-this.utcOffset())*nt,Ft=this-qt,Zt=It.m(this,qt);return Zt=(Ut={},Ut[pt]=Zt/12,Ut[dt]=Zt,Ut[ft]=Zt/3,Ut[ut]=(Ft-Dt)/6048e5,Ut[ct]=(Ft-Dt)/864e5,Ut[lt]=Ft/it,Ut[st]=Ft/nt,Ut[at]=Ft/rt,Ut)[jt]||Ft,Vt?Zt:It.a(Zt)},Ot.daysInMonth=function(){return this.endOf(dt).$D},Ot.$locale=function(){return Tt[this.$L]},Ot.locale=function(Bt,zt){if(!Bt)return this.$L;var Vt=this.clone(),Ut=At(Bt,zt,!0);return Ut&&(Vt.$L=Ut),Vt},Ot.clone=function(){return It.w(this.$d,this)},Ot.toDate=function(){return new Date(this.valueOf())},Ot.toJSON=function(){return this.isValid()?this.toISOString():null},Ot.toISOString=function(){return this.$d.toISOString()},Ot.toString=function(){return this.$d.toUTCString()},Nt}(),Pt=Lt.prototype;return Rt.prototype=Pt,[["$ms",ot],["$s",at],["$m",st],["$H",lt],["$W",ct],["$M",dt],["$y",pt],["$D",mt]].forEach(function(Nt){Pt[Nt[1]]=function(Ot){return this.$g(Ot,Nt[0],Nt[1])}}),Rt.extend=function(Nt,Ot){return Nt.$i||(Nt(Ot,Lt,Rt),Nt.$i=!0),Rt},Rt.locale=At,Rt.isDayjs=wt,Rt.unix=function(Nt){return Rt(1e3*Nt)},Rt.en=Tt[$t],Rt.Ls=Tt,Rt.p={},Rt})})(dayjs_min$1);const dayjs=dayjs_minExports,DATE_TIME_FORMAT$1="YYYY-MM-DD HH:mm:ss";function formatToDateTime(tt=void 0,et=DATE_TIME_FORMAT$1){return dayjs(tt).format(et)}const timezoneOffset=()=>new Date().getTimezoneOffset()/-60,getRealDate=()=>{const tt=timezoneOffset()*1e3*60*60;return new Date(new Date().getTime()+tt)};function r$2(tt){var et,rt,nt="";if(typeof tt=="string"||typeof tt=="number")nt+=tt;else if(typeof tt=="object")if(Array.isArray(tt))for(et=0;et<tt.length;et++)tt[et]&&(rt=r$2(tt[et]))&&(nt&&(nt+=" "),nt+=rt);else for(et in tt)tt[et]&&(nt&&(nt+=" "),nt+=et);return nt}function clsx(){for(var tt,et,rt=0,nt="";rt<arguments.length;)(tt=arguments[rt++])&&(et=r$2(tt))&&(nt&&(nt+=" "),nt+=et);return nt}let e$1={data:""},t$4=tt=>typeof window=="object"?((tt?tt.querySelector("#_goober"):window._goober)||Object.assign((tt||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:tt||e$1,l$1=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,a$3=/\/\*[^]*?\*\/|  +/g,n$2=/\n+/g,o$1=(tt,et)=>{let rt="",nt="",it="";for(let ot in tt){let at=tt[ot];ot[0]=="@"?ot[1]=="i"?rt=ot+" "+at+";":nt+=ot[1]=="f"?o$1(at,ot):ot+"{"+o$1(at,ot[1]=="k"?"":et)+"}":typeof at=="object"?nt+=o$1(at,et?et.replace(/([^,])+/g,st=>ot.replace(/(^:.*)|([^,])+/g,lt=>/&/.test(lt)?lt.replace(/&/g,st):st?st+" "+lt:lt)):ot):at!=null&&(ot=/^--/.test(ot)?ot:ot.replace(/[A-Z]/g,"-$&").toLowerCase(),it+=o$1.p?o$1.p(ot,at):ot+":"+at+";")}return rt+(et&&it?et+"{"+it+"}":it)+nt},c$2={},s$2=tt=>{if(typeof tt=="object"){let et="";for(let rt in tt)et+=rt+s$2(tt[rt]);return et}return tt},i$3=(tt,et,rt,nt,it)=>{let ot=s$2(tt),at=c$2[ot]||(c$2[ot]=(lt=>{let ct=0,ut=11;for(;ct<lt.length;)ut=101*ut+lt.charCodeAt(ct++)>>>0;return"go"+ut})(ot));if(!c$2[at]){let lt=ot!==tt?tt:(ct=>{let ut,dt,ft=[{}];for(;ut=l$1.exec(ct.replace(a$3,""));)ut[4]?ft.shift():ut[3]?(dt=ut[3].replace(n$2," ").trim(),ft.unshift(ft[0][dt]=ft[0][dt]||{})):ft[0][ut[1]]=ut[2].replace(n$2," ").trim();return ft[0]})(tt);c$2[at]=o$1(it?{["@keyframes "+at]:lt}:lt,rt?"":"."+at)}let st=rt&&c$2.g?c$2.g:null;return rt&&(c$2.g=c$2[at]),((lt,ct,ut,dt)=>{dt?ct.data=ct.data.replace(dt,lt):ct.data.indexOf(lt)===-1&&(ct.data=ut?lt+ct.data:ct.data+lt)})(c$2[at],et,nt,st),at},p$1=(tt,et,rt)=>tt.reduce((nt,it,ot)=>{let at=et[ot];if(at&&at.call){let st=at(rt),lt=st&&st.props&&st.props.className||/^go/.test(st)&&st;at=lt?"."+lt:st&&typeof st=="object"?st.props?"":o$1(st,""):st===!1?"":st}return nt+it+(at??"")},"");function u$1(tt){let et=this||{},rt=tt.call?tt(et.p):tt;return i$3(rt.unshift?rt.raw?p$1(rt,[].slice.call(arguments,1),et.p):rt.reduce((nt,it)=>Object.assign(nt,it&&it.call?it(et.p):it),{}):rt,t$4(et.target),et.g,et.o,et.k)}u$1.bind({g:1});u$1.bind({k:1});function _defineProperties$1(tt,et){for(var rt=0;rt<et.length;rt++){var nt=et[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(tt,nt.key,nt)}}function _createClass$9(tt,et,rt){return et&&_defineProperties$1(tt.prototype,et),rt&&_defineProperties$1(tt,rt),tt}function _extends$m(){return _extends$m=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_extends$m.apply(this,arguments)}function _inheritsLoose$2(tt,et){tt.prototype=Object.create(et.prototype),tt.prototype.constructor=tt,tt.__proto__=et}function _objectWithoutPropertiesLoose$3(tt,et){if(tt==null)return{};var rt={},nt=Object.keys(tt),it,ot;for(ot=0;ot<nt.length;ot++)it=nt[ot],!(et.indexOf(it)>=0)&&(rt[it]=tt[it]);return rt}var noOp=function(){return""},SnackbarContext=React.createContext({enqueueSnackbar:noOp,closeSnackbar:noOp}),breakpoints={downXs:"@media (max-width:599.95px)",upSm:"@media (min-width:600px)"},capitalise=function(et){return et.charAt(0).toUpperCase()+et.slice(1)},originKeyExtractor=function(et){return""+capitalise(et.vertical)+capitalise(et.horizontal)},isDefined$1=function(et){return!!et||et===0},UNMOUNTED$1="unmounted",EXITED$1="exited",ENTERING$1="entering",ENTERED$1="entered",EXITING$1="exiting",Transition$2=function(tt){_inheritsLoose$2(et,tt);function et(nt){var it;it=tt.call(this,nt)||this;var ot=nt.appear,at;return it.appearStatus=null,nt.in?ot?(at=EXITED$1,it.appearStatus=ENTERING$1):at=ENTERED$1:nt.unmountOnExit||nt.mountOnEnter?at=UNMOUNTED$1:at=EXITED$1,it.state={status:at},it.nextCallback=null,it}et.getDerivedStateFromProps=function(it,ot){var at=it.in;return at&&ot.status===UNMOUNTED$1?{status:EXITED$1}:null};var rt=et.prototype;return rt.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},rt.componentDidUpdate=function(it){var ot=null;if(it!==this.props){var at=this.state.status;this.props.in?at!==ENTERING$1&&at!==ENTERED$1&&(ot=ENTERING$1):(at===ENTERING$1||at===ENTERED$1)&&(ot=EXITING$1)}this.updateStatus(!1,ot)},rt.componentWillUnmount=function(){this.cancelNextCallback()},rt.getTimeouts=function(){var it=this.props.timeout,ot=it,at=it;return it!=null&&typeof it!="number"&&typeof it!="string"&&(at=it.exit,ot=it.enter),{exit:at,enter:ot}},rt.updateStatus=function(it,ot){it===void 0&&(it=!1),ot!==null?(this.cancelNextCallback(),ot===ENTERING$1?this.performEnter(it):this.performExit()):this.props.unmountOnExit&&this.state.status===EXITED$1&&this.setState({status:UNMOUNTED$1})},rt.performEnter=function(it){var ot=this,at=this.props.enter,st=it,lt=this.getTimeouts();if(!it&&!at){this.safeSetState({status:ENTERED$1},function(){ot.props.onEntered&&ot.props.onEntered(ot.node,st)});return}this.props.onEnter&&this.props.onEnter(this.node,st),this.safeSetState({status:ENTERING$1},function(){ot.props.onEntering&&ot.props.onEntering(ot.node,st),ot.onTransitionEnd(lt.enter,function(){ot.safeSetState({status:ENTERED$1},function(){ot.props.onEntered&&ot.props.onEntered(ot.node,st)})})})},rt.performExit=function(){var it=this,ot=this.props.exit,at=this.getTimeouts();if(!ot){this.safeSetState({status:EXITED$1},function(){it.props.onExited&&it.props.onExited(it.node)});return}this.props.onExit&&this.props.onExit(this.node),this.safeSetState({status:EXITING$1},function(){it.props.onExiting&&it.props.onExiting(it.node),it.onTransitionEnd(at.exit,function(){it.safeSetState({status:EXITED$1},function(){it.props.onExited&&it.props.onExited(it.node)})})})},rt.cancelNextCallback=function(){this.nextCallback!==null&&this.nextCallback.cancel&&(this.nextCallback.cancel(),this.nextCallback=null)},rt.safeSetState=function(it,ot){ot=this.setNextCallback(ot),this.setState(it,ot)},rt.setNextCallback=function(it){var ot=this,at=!0;return this.nextCallback=function(){at&&(at=!1,ot.nextCallback=null,it())},this.nextCallback.cancel=function(){at=!1},this.nextCallback},rt.onTransitionEnd=function(it,ot){this.setNextCallback(ot);var at=it==null&&!this.props.addEndListener;if(!this.node||at){setTimeout(this.nextCallback,0);return}this.props.addEndListener&&this.props.addEndListener(this.node,this.nextCallback),it!=null&&setTimeout(this.nextCallback,it)},rt.render=function(){var it=this.state.status;if(it===UNMOUNTED$1)return null;var ot=this.props,at=ot.children,st=_objectWithoutPropertiesLoose$3(ot,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return at(it,st)},_createClass$9(et,[{key:"node",get:function(){var it,ot=(it=this.props.nodeRef)===null||it===void 0?void 0:it.current;if(!ot)throw new Error("notistack - Custom snackbar is not refForwarding");return ot}}]),et}(React.Component);function noop$c(){}Transition$2.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$c,onEntering:noop$c,onEntered:noop$c,onExit:noop$c,onExiting:noop$c,onExited:noop$c};function setRef$1(tt,et){typeof tt=="function"?tt(et):tt&&(tt.current=et)}function useForkRef$1(tt,et){return reactExports.useMemo(function(){return tt==null&&et==null?null:function(rt){setRef$1(tt,rt),setRef$1(et,rt)}},[tt,et])}function getTransitionProps$1(tt){var et=tt.timeout,rt=tt.style,nt=rt===void 0?{}:rt,it=tt.mode;return{duration:typeof et=="object"?et[it]||0:et,easing:nt.transitionTimingFunction,delay:nt.transitionDelay}}var defaultEasing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},reflow$1=function(et){et.scrollTop=et.scrollTop},formatMs$1=function(et){return Math.round(et)+"ms"};function createTransition(tt,et){tt===void 0&&(tt=["all"]);var rt=et||{},nt=rt.duration,it=nt===void 0?300:nt,ot=rt.easing,at=ot===void 0?defaultEasing.easeInOut:ot,st=rt.delay,lt=st===void 0?0:st,ct=Array.isArray(tt)?tt:[tt];return ct.map(function(ut){var dt=typeof it=="string"?it:formatMs$1(it),ft=typeof lt=="string"?lt:formatMs$1(lt);return ut+" "+dt+" "+at+" "+ft}).join(",")}function ownerDocument$1(tt){return tt&&tt.ownerDocument||document}function ownerWindow$1(tt){var et=ownerDocument$1(tt);return et.defaultView||window}function debounce$5(tt,et){et===void 0&&(et=166);var rt;function nt(){for(var it=this,ot=arguments.length,at=new Array(ot),st=0;st<ot;st++)at[st]=arguments[st];var lt=function(){tt.apply(it,at)};clearTimeout(rt),rt=setTimeout(lt,et)}return nt.clear=function(){clearTimeout(rt)},nt}function getTranslateValue$1(tt,et){var rt=et.getBoundingClientRect(),nt=ownerWindow$1(et),it;if(et.fakeTransform)it=et.fakeTransform;else{var ot=nt.getComputedStyle(et);it=ot.getPropertyValue("-webkit-transform")||ot.getPropertyValue("transform")}var at=0,st=0;if(it&&it!=="none"&&typeof it=="string"){var lt=it.split("(")[1].split(")")[0].split(",");at=parseInt(lt[4],10),st=parseInt(lt[5],10)}switch(tt){case"left":return"translateX("+(nt.innerWidth+at-rt.left)+"px)";case"right":return"translateX(-"+(rt.left+rt.width-at)+"px)";case"up":return"translateY("+(nt.innerHeight+st-rt.top)+"px)";default:return"translateY(-"+(rt.top+rt.height-st)+"px)"}}function setTranslateValue$1(tt,et){if(et){var rt=getTranslateValue$1(tt,et);rt&&(et.style.webkitTransform=rt,et.style.transform=rt)}}var Slide$2=reactExports.forwardRef(function(tt,et){var rt=tt.children,nt=tt.direction,it=nt===void 0?"down":nt,ot=tt.in,at=tt.style,st=tt.timeout,lt=st===void 0?0:st,ct=tt.onEnter,ut=tt.onEntered,dt=tt.onExit,ft=tt.onExited,pt=_objectWithoutPropertiesLoose$3(tt,["children","direction","in","style","timeout","onEnter","onEntered","onExit","onExited"]),mt=reactExports.useRef(null),ht=useForkRef$1(rt.ref,mt),gt=useForkRef$1(ht,et),vt=function(wt,At){setTranslateValue$1(it,wt),reflow$1(wt),ct&&ct(wt,At)},yt=function(wt){var At=(at==null?void 0:at.transitionTimingFunction)||defaultEasing.easeOut,Rt=getTransitionProps$1({timeout:lt,mode:"enter",style:_extends$m({},at,{transitionTimingFunction:At})});wt.style.webkitTransition=createTransition("-webkit-transform",Rt),wt.style.transition=createTransition("transform",Rt),wt.style.webkitTransform="none",wt.style.transform="none"},bt=function(wt){var At=(at==null?void 0:at.transitionTimingFunction)||defaultEasing.sharp,Rt=getTransitionProps$1({timeout:lt,mode:"exit",style:_extends$m({},at,{transitionTimingFunction:At})});wt.style.webkitTransition=createTransition("-webkit-transform",Rt),wt.style.transition=createTransition("transform",Rt),setTranslateValue$1(it,wt),dt&&dt(wt)},xt=function(wt){wt.style.webkitTransition="",wt.style.transition="",ft&&ft(wt)},$t=reactExports.useCallback(function(){mt.current&&setTranslateValue$1(it,mt.current)},[it]);return reactExports.useEffect(function(){if(!(ot||it==="down"||it==="right")){var Tt=debounce$5(function(){mt.current&&setTranslateValue$1(it,mt.current)}),wt=ownerWindow$1(mt.current);return wt.addEventListener("resize",Tt),function(){Tt.clear(),wt.removeEventListener("resize",Tt)}}},[it,ot]),reactExports.useEffect(function(){ot||$t()},[ot,$t]),reactExports.createElement(Transition$2,Object.assign({appear:!0,nodeRef:mt,onEnter:vt,onEntered:ut,onEntering:yt,onExit:bt,onExited:xt,in:ot,timeout:lt},pt),function(Tt,wt){return reactExports.cloneElement(rt,_extends$m({ref:gt,style:_extends$m({visibility:Tt==="exited"&&!ot?"hidden":void 0},at,{},rt.props.style)},wt))})});Slide$2.displayName="Slide";var SvgIcon$2=function(et){return React.createElement("svg",Object.assign({viewBox:"0 0 24 24",focusable:"false",style:{fontSize:20,marginInlineEnd:8,userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0}},et))},CheckIcon$1=function(){return React.createElement(SvgIcon$2,null,React.createElement("path",{d:`M12 2C6.5 2 2 6.5 2 12S6.5 22 12 22 22 17.5 22 12 17.5 2 12 2M10 17L5 12L6.41
        10.59L10 14.17L17.59 6.58L19 8L10 17Z`}))},WarningIcon=function(){return React.createElement(SvgIcon$2,null,React.createElement("path",{d:"M13,14H11V10H13M13,18H11V16H13M1,21H23L12,2L1,21Z"}))},ErrorIcon$1=function(){return React.createElement(SvgIcon$2,null,React.createElement("path",{d:`M12,2C17.53,2 22,6.47 22,12C22,17.53 17.53,22 12,22C6.47,22 2,17.53 2,12C2,
        6.47 6.47,2 12,2M15.59,7L12,10.59L8.41,7L7,8.41L10.59,12L7,15.59L8.41,17L12,
        13.41L15.59,17L17,15.59L13.41,12L17,8.41L15.59,7Z`}))},InfoIcon=function(){return React.createElement(SvgIcon$2,null,React.createElement("path",{d:`M13,9H11V7H13M13,17H11V11H13M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,
        0 22,12A10,10 0 0,0 12,2Z`}))},defaultIconVariants={default:void 0,success:React.createElement(CheckIcon$1,null),warning:React.createElement(WarningIcon,null),error:React.createElement(ErrorIcon$1,null),info:React.createElement(InfoIcon,null)},defaults$a={maxSnack:3,persist:!1,hideIconVariant:!1,disableWindowBlurListener:!1,variant:"default",autoHideDuration:5e3,iconVariant:defaultIconVariants,anchorOrigin:{vertical:"bottom",horizontal:"left"},TransitionComponent:Slide$2,transitionDuration:{enter:225,exit:195}},getAutoHideDuration=function(et,rt){var nt=function(ot){return typeof ot=="number"||ot===null};return nt(et)?et:nt(rt)?rt:defaults$a.autoHideDuration},getTransitionDuration=function(et,rt){var nt=function(ot,at){return at.some(function(st){return typeof ot===st})};return nt(et,["string","number"])?et:nt(et,["object"])?_extends$m({},defaults$a.transitionDuration,{},nt(rt,["object"])&&rt,{},et):nt(rt,["string","number"])?rt:nt(rt,["object"])?_extends$m({},defaults$a.transitionDuration,{},rt):defaults$a.transitionDuration},merge$4=function(et,rt){return function(nt,it){return it===void 0&&(it=!1),it?_extends$m({},defaults$a[nt],{},rt[nt],{},et[nt]):nt==="autoHideDuration"?getAutoHideDuration(et.autoHideDuration,rt.autoHideDuration):nt==="transitionDuration"?getTransitionDuration(et.transitionDuration,rt.transitionDuration):et[nt]||rt[nt]||defaults$a[nt]}};function makeStyles(tt){return Object.entries(tt).reduce(function(et,rt){var nt,it=rt[0],ot=rt[1];return _extends$m({},et,(nt={},nt[it]=u$1(ot),nt))},{})}var ComponentClasses={SnackbarContainer:"notistack-SnackbarContainer",Snackbar:"notistack-Snackbar",CollapseWrapper:"notistack-CollapseWrapper",MuiContent:"notistack-MuiContent"},classes=makeStyles({root:{height:0},entered:{height:"auto"}}),collapsedSize="0px",timeout=175,Collapse=reactExports.forwardRef(function(tt,et){var rt=tt.children,nt=tt.in,it=tt.onExited,ot=reactExports.useRef(null),at=reactExports.useRef(null),st=useForkRef$1(et,at),lt=function(){return ot.current?ot.current.clientHeight:0},ct=function(ht){ht.style.height=collapsedSize},ut=function(ht){var gt=lt(),vt=getTransitionProps$1({timeout,mode:"enter"}),yt=vt.duration,bt=vt.easing;ht.style.transitionDuration=typeof yt=="string"?yt:yt+"ms",ht.style.height=gt+"px",ht.style.transitionTimingFunction=bt||""},dt=function(ht){ht.style.height="auto"},ft=function(ht){ht.style.height=lt()+"px"},pt=function(ht){reflow$1(ht);var gt=getTransitionProps$1({timeout,mode:"exit"}),vt=gt.duration,yt=gt.easing;ht.style.transitionDuration=typeof vt=="string"?vt:vt+"ms",ht.style.height=collapsedSize,ht.style.transitionTimingFunction=yt||""};return reactExports.createElement(Transition$2,{in:nt,unmountOnExit:!0,onEnter:ct,onEntered:dt,onEntering:ut,onExit:ft,onExited:it,onExiting:pt,nodeRef:at,timeout},function(mt,ht){return reactExports.createElement("div",Object.assign({ref:st,className:clsx(classes.root,mt==="entered"&&classes.entered),style:_extends$m({pointerEvents:"all",overflow:"hidden",minHeight:collapsedSize,transition:createTransition("height")},mt==="entered"&&{overflow:"visible"},{},mt==="exited"&&!nt&&{visibility:"hidden"})},ht),reactExports.createElement("div",{ref:ot,className:ComponentClasses.CollapseWrapper,style:{display:"flex",width:"100%"}},rt))})});Collapse.displayName="Collapse";var direction={right:"left",left:"right",bottom:"up",top:"down"},getSlideDirection=function(et){return et.horizontal!=="center"?direction[et.horizontal]:direction[et.vertical]},toSnackbarAnchorOrigin=function(et){return"anchorOrigin"+originKeyExtractor(et)},keepSnackbarClassKeys=function(et){et===void 0&&(et={});var rt={containerRoot:!0,containerAnchorOriginTopCenter:!0,containerAnchorOriginBottomCenter:!0,containerAnchorOriginTopRight:!0,containerAnchorOriginBottomRight:!0,containerAnchorOriginTopLeft:!0,containerAnchorOriginBottomLeft:!0};return Object.keys(et).filter(function(nt){return!rt[nt]}).reduce(function(nt,it){var ot;return _extends$m({},nt,(ot={},ot[it]=et[it],ot))},{})},noOp$1=function(){};function createChainedFunction$1(tt,et){return tt.reduce(function(rt,nt){return nt==null?rt:function(){for(var ot=arguments.length,at=new Array(ot),st=0;st<ot;st++)at[st]=arguments[st];var lt=[].concat(at);et&&lt.indexOf(et)===-1&&lt.push(et),rt.apply(this,lt),nt.apply(this,lt)}},noOp$1)}var useEnhancedEffect$2=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect;function useEventCallback$1(tt){var et=reactExports.useRef(tt);return useEnhancedEffect$2(function(){et.current=tt}),reactExports.useCallback(function(){return et.current.apply(void 0,arguments)},[])}var Snackbar=reactExports.forwardRef(function(tt,et){var rt=tt.children,nt=tt.className,it=tt.autoHideDuration,ot=tt.disableWindowBlurListener,at=ot===void 0?!1:ot,st=tt.onClose,lt=tt.id,ct=tt.open,ut=tt.SnackbarProps,dt=ut===void 0?{}:ut,ft=reactExports.useRef(),pt=useEventCallback$1(function(){st&&st.apply(void 0,arguments)}),mt=useEventCallback$1(function(bt){!st||bt==null||(ft.current&&clearTimeout(ft.current),ft.current=setTimeout(function(){pt(null,"timeout",lt)},bt))});reactExports.useEffect(function(){return ct&&mt(it),function(){ft.current&&clearTimeout(ft.current)}},[ct,it,mt]);var ht=function(){ft.current&&clearTimeout(ft.current)},gt=reactExports.useCallback(function(){it!=null&&mt(it*.5)},[it,mt]),vt=function(xt){dt.onMouseEnter&&dt.onMouseEnter(xt),ht()},yt=function(xt){dt.onMouseLeave&&dt.onMouseLeave(xt),gt()};return reactExports.useEffect(function(){if(!at&&ct)return window.addEventListener("focus",gt),window.addEventListener("blur",ht),function(){window.removeEventListener("focus",gt),window.removeEventListener("blur",ht)}},[at,gt,ct]),reactExports.createElement("div",Object.assign({ref:et},dt,{className:clsx(ComponentClasses.Snackbar,nt),onMouseEnter:vt,onMouseLeave:yt}),rt)});Snackbar.displayName="Snackbar";var _root$1,classes$1=makeStyles({root:(_root$1={display:"flex",flexWrap:"wrap",flexGrow:1},_root$1[breakpoints.upSm]={flexGrow:"initial",minWidth:"288px"},_root$1)}),SnackbarContent=reactExports.forwardRef(function(tt,et){var rt=tt.className,nt=_objectWithoutPropertiesLoose$3(tt,["className"]);return React.createElement("div",Object.assign({ref:et,className:clsx(classes$1.root,rt)},nt))});SnackbarContent.displayName="SnackbarContent";var classes$2=makeStyles({root:{backgroundColor:"#313131",fontSize:"0.875rem",lineHeight:1.43,letterSpacing:"0.01071em",color:"#fff",alignItems:"center",padding:"6px 16px",borderRadius:"4px",boxShadow:"0px 3px 5px -1px rgba(0,0,0,0.2),0px 6px 10px 0px rgba(0,0,0,0.14),0px 1px 18px 0px rgba(0,0,0,0.12)"},lessPadding:{paddingLeft:8*2.5+"px"},default:{backgroundColor:"#313131"},success:{backgroundColor:"#43a047"},error:{backgroundColor:"#d32f2f"},warning:{backgroundColor:"#ff9800"},info:{backgroundColor:"#2196f3"},message:{display:"flex",alignItems:"center",padding:"8px 0"},action:{display:"flex",alignItems:"center",marginLeft:"auto",paddingLeft:"16px",marginRight:"-8px"}}),MaterialDesignContent=reactExports.forwardRef(function(tt,et){var rt=tt.id,nt=tt.message,it=tt.action,ot=tt.iconVariant,at=tt.variant,st=tt.hideIconVariant,lt=tt.style,ct=ot[at],ut=it;return typeof ut=="function"&&(ut=ut(rt)),React.createElement(SnackbarContent,{ref:et,role:"alert",style:lt,className:clsx(ComponentClasses.MuiContent,classes$2.root,classes$2[at],!st&&ct&&classes$2.lessPadding)},React.createElement("div",{id:"notistack-snackbar",className:classes$2.message},st?null:ct,nt),ut&&React.createElement("div",{className:classes$2.action},ut))});MaterialDesignContent.displayName="MaterialDesignContent";var MaterialDesignContent$1=reactExports.memo(MaterialDesignContent),styles$7=makeStyles({wrappedRoot:{width:"100%",position:"relative",transform:"translateX(0)",top:0,right:0,bottom:0,left:0,minWidth:"288px"}}),SnackbarItem=function(et){var rt=reactExports.useRef(),nt=reactExports.useState(!0),it=nt[0],ot=nt[1],at=createChainedFunction$1([et.snack.onClose,et.onClose]),st=function(){et.snack.requestClose&&at(null,"instructed",et.snack.id)},lt=reactExports.useCallback(function(){rt.current=setTimeout(function(){ot(function(Rt){return!Rt})},125)},[]);reactExports.useEffect(function(){return function(){rt.current&&clearTimeout(rt.current)}},[]);var ct=et.snack,ut=et.classes,dt=et.Component,ft=dt===void 0?MaterialDesignContent$1:dt,pt=reactExports.useMemo(function(){return keepSnackbarClassKeys(ut)},[ut]),mt=ct.open,ht=ct.SnackbarProps,gt=ct.TransitionComponent,vt=ct.TransitionProps,yt=ct.transitionDuration,bt=ct.disableWindowBlurListener,xt=ct.content,$t=_objectWithoutPropertiesLoose$3(ct,["open","SnackbarProps","TransitionComponent","TransitionProps","transitionDuration","disableWindowBlurListener","content","entered","requestClose","onEnter","onEntered","onExit","onExited"]),Tt=_extends$m({direction:getSlideDirection($t.anchorOrigin),timeout:yt},vt),wt=xt;typeof wt=="function"&&(wt=wt($t.id,$t.message));var At=["onEnter","onEntered","onExit","onExited"].reduce(function(Rt,It){var Lt;return _extends$m({},Rt,(Lt={},Lt[It]=createChainedFunction$1([et.snack[It],et[It]],$t.id),Lt))},{});return React.createElement(Collapse,{in:it,onExited:At.onExited},React.createElement(Snackbar,{open:mt,id:$t.id,disableWindowBlurListener:bt,autoHideDuration:$t.autoHideDuration,className:clsx(styles$7.wrappedRoot,pt.root,pt[toSnackbarAnchorOrigin($t.anchorOrigin)]),SnackbarProps:ht,onClose:at},React.createElement(gt,Object.assign({},Tt,{appear:!0,in:mt,onExit:At.onExit,onExited:lt,onEnter:At.onEnter,onEntered:createChainedFunction$1([At.onEntered,st],$t.id)}),wt||React.createElement(ft,Object.assign({},$t)))))},_root$1$1,_rootDense,_left,_right,_center$1,indents={view:{default:20,dense:4},snackbar:{default:6,dense:2}},collapseWrapper="."+ComponentClasses.CollapseWrapper,xsWidthMargin=16,styles$1$1=makeStyles({root:(_root$1$1={boxSizing:"border-box",display:"flex",maxHeight:"100%",position:"fixed",zIndex:1400,height:"auto",width:"auto",transition:createTransition(["top","right","bottom","left","max-width"],{duration:300,easing:"ease"}),pointerEvents:"none"},_root$1$1[collapseWrapper]={padding:indents.snackbar.default+"px 0px",transition:"padding 300ms ease 0ms"},_root$1$1.maxWidth="calc(100% - "+indents.view.default*2+"px)",_root$1$1[breakpoints.downXs]={width:"100%",maxWidth:"calc(100% - "+xsWidthMargin*2+"px)"},_root$1$1),rootDense:(_rootDense={},_rootDense[collapseWrapper]={padding:indents.snackbar.dense+"px 0px"},_rootDense),top:{top:indents.view.default-indents.snackbar.default+"px",flexDirection:"column"},bottom:{bottom:indents.view.default-indents.snackbar.default+"px",flexDirection:"column-reverse"},left:(_left={left:indents.view.default+"px"},_left[breakpoints.upSm]={alignItems:"flex-start"},_left[breakpoints.downXs]={left:xsWidthMargin+"px"},_left),right:(_right={right:indents.view.default+"px"},_right[breakpoints.upSm]={alignItems:"flex-end"},_right[breakpoints.downXs]={right:xsWidthMargin+"px"},_right),center:(_center$1={left:"50%",transform:"translateX(-50%)"},_center$1[breakpoints.upSm]={alignItems:"center"},_center$1)}),SnackbarContainer=function(et){var rt=et.classes,nt=rt===void 0?{}:rt,it=et.anchorOrigin,ot=et.dense,at=et.children,st=clsx(ComponentClasses.SnackbarContainer,styles$1$1[it.vertical],styles$1$1[it.horizontal],styles$1$1.root,nt.containerRoot,nt["containerAnchorOrigin"+originKeyExtractor(it)],ot&&styles$1$1.rootDense);return React.createElement("div",{className:st},at)},SnackbarContainer$1=reactExports.memo(SnackbarContainer),isOptions=function(et){return typeof et!="string"},enqueueSnackbar,SnackbarProvider=function(tt){_inheritsLoose$2(et,tt);function et(nt){var it;return it=tt.call(this,nt)||this,it.enqueueSnackbar=function(ot,at){at===void 0&&(at={});var st=isOptions(ot)?ot:at,lt=ot;isOptions(ot)&&(lt=ot.message);var ct=st.key,ut=st.preventDuplicate,dt=_objectWithoutPropertiesLoose$3(st,["key","preventDuplicate"]),ft=isDefined$1(ct),pt=ft?ct:new Date().getTime()+Math.random(),mt=merge$4(dt,it.props),ht=_extends$m({id:pt},dt,{message:lt,open:!0,entered:!1,requestClose:!1,persist:mt("persist"),action:mt("action"),content:mt("content"),variant:mt("variant"),anchorOrigin:mt("anchorOrigin"),disableWindowBlurListener:mt("disableWindowBlurListener"),autoHideDuration:mt("autoHideDuration"),hideIconVariant:mt("hideIconVariant"),TransitionComponent:mt("TransitionComponent"),transitionDuration:mt("transitionDuration"),TransitionProps:mt("TransitionProps",!0),iconVariant:mt("iconVariant",!0),style:mt("style",!0),SnackbarProps:mt("SnackbarProps",!0),className:clsx(it.props.className,dt.className)});return ht.persist&&(ht.autoHideDuration=void 0),it.setState(function(gt){if(ut===void 0&&it.props.preventDuplicate||ut){var vt=function($t){return ft?$t.id===pt:$t.message===lt},yt=gt.queue.findIndex(vt)>-1,bt=gt.snacks.findIndex(vt)>-1;if(yt||bt)return gt}return it.handleDisplaySnack(_extends$m({},gt,{queue:[].concat(gt.queue,[ht])}))}),pt},it.handleDisplaySnack=function(ot){var at=ot.snacks;return at.length>=it.maxSnack?it.handleDismissOldest(ot):it.processQueue(ot)},it.processQueue=function(ot){var at=ot.queue,st=ot.snacks;return at.length>0?_extends$m({},ot,{snacks:[].concat(st,[at[0]]),queue:at.slice(1,at.length)}):ot},it.handleDismissOldest=function(ot){if(ot.snacks.some(function(ut){return!ut.open||ut.requestClose}))return ot;var at=!1,st=!1,lt=ot.snacks.reduce(function(ut,dt){return ut+(dt.open&&dt.persist?1:0)},0);lt===it.maxSnack&&(st=!0);var ct=ot.snacks.map(function(ut){return!at&&(!ut.persist||st)?(at=!0,ut.entered?(ut.onClose&&ut.onClose(null,"maxsnack",ut.id),it.props.onClose&&it.props.onClose(null,"maxsnack",ut.id),_extends$m({},ut,{open:!1})):_extends$m({},ut,{requestClose:!0})):_extends$m({},ut)});return _extends$m({},ot,{snacks:ct})},it.handleEnteredSnack=function(ot,at,st){if(!isDefined$1(st))throw new Error("handleEnteredSnack Cannot be called with undefined key");it.setState(function(lt){var ct=lt.snacks;return{snacks:ct.map(function(ut){return ut.id===st?_extends$m({},ut,{entered:!0}):_extends$m({},ut)})}})},it.handleCloseSnack=function(ot,at,st){it.props.onClose&&it.props.onClose(ot,at,st);var lt=st===void 0;it.setState(function(ct){var ut=ct.snacks,dt=ct.queue;return{snacks:ut.map(function(ft){return!lt&&ft.id!==st?_extends$m({},ft):ft.entered?_extends$m({},ft,{open:!1}):_extends$m({},ft,{requestClose:!0})}),queue:dt.filter(function(ft){return ft.id!==st})}})},it.closeSnackbar=function(ot){var at=it.state.snacks.find(function(st){return st.id===ot});isDefined$1(ot)&&at&&at.onClose&&at.onClose(null,"instructed",ot),it.handleCloseSnack(null,"instructed",ot)},it.handleExitedSnack=function(ot,at){if(!isDefined$1(at))throw new Error("handleExitedSnack Cannot be called with undefined key");it.setState(function(st){var lt=it.processQueue(_extends$m({},st,{snacks:st.snacks.filter(function(ct){return ct.id!==at})}));return lt.queue.length===0?lt:it.handleDismissOldest(lt)})},enqueueSnackbar=it.enqueueSnackbar,it.closeSnackbar,it.state={snacks:[],queue:[],contextValue:{enqueueSnackbar:it.enqueueSnackbar,closeSnackbar:it.closeSnackbar}},it}var rt=et.prototype;return rt.render=function(){var it=this,ot=this.state.contextValue,at=this.props,st=at.domRoot,lt=at.children,ct=at.dense,ut=ct===void 0?!1:ct,dt=at.Components,ft=dt===void 0?{}:dt,pt=at.classes,mt=this.state.snacks.reduce(function(gt,vt){var yt,bt=originKeyExtractor(vt.anchorOrigin),xt=gt[bt]||[];return _extends$m({},gt,(yt={},yt[bt]=[].concat(xt,[vt]),yt))},{}),ht=Object.keys(mt).map(function(gt){var vt=mt[gt],yt=vt[0];return React.createElement(SnackbarContainer$1,{key:gt,dense:ut,anchorOrigin:yt.anchorOrigin,classes:pt},vt.map(function(bt){return React.createElement(SnackbarItem,{key:bt.id,snack:bt,classes:pt,Component:ft[bt.variant],onClose:it.handleCloseSnack,onEnter:it.props.onEnter,onExit:it.props.onExit,onExited:createChainedFunction$1([it.handleExitedSnack,it.props.onExited],bt.id),onEntered:createChainedFunction$1([it.handleEnteredSnack,it.props.onEntered],bt.id)})}))});return React.createElement(SnackbarContext.Provider,{value:ot},lt,st?reactDomExports.createPortal(ht,st):ht)},_createClass$9(et,[{key:"maxSnack",get:function(){return this.props.maxSnack||defaults$a.maxSnack}}]),et}(reactExports.Component),useSnackbar=function(){return reactExports.useContext(SnackbarContext)};function isPlainObject$5(tt){return tt!==null&&typeof tt=="object"&&tt.constructor===Object}function deepClone(tt){if(!isPlainObject$5(tt))return tt;const et={};return Object.keys(tt).forEach(rt=>{et[rt]=deepClone(tt[rt])}),et}function deepmerge$1(tt,et,rt={clone:!0}){const nt=rt.clone?_extends$n({},tt):tt;return isPlainObject$5(tt)&&isPlainObject$5(et)&&Object.keys(et).forEach(it=>{it!=="__proto__"&&(isPlainObject$5(et[it])&&it in tt&&isPlainObject$5(tt[it])?nt[it]=deepmerge$1(tt[it],et[it],rt):rt.clone?nt[it]=isPlainObject$5(et[it])?deepClone(et[it]):et[it]:nt[it]=et[it])}),nt}var propTypesExports={},propTypes={get exports(){return propTypesExports},set exports(tt){propTypesExports=tt}},ReactPropTypesSecret$1="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",ReactPropTypesSecret_1=ReactPropTypesSecret$1,ReactPropTypesSecret=ReactPropTypesSecret_1;function emptyFunction(){}function emptyFunctionWithReset(){}emptyFunctionWithReset.resetWarningCache=emptyFunction;var factoryWithThrowingShims=function(){function tt(nt,it,ot,at,st,lt){if(lt!==ReactPropTypesSecret){var ct=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw ct.name="Invariant Violation",ct}}tt.isRequired=tt;function et(){return tt}var rt={array:tt,bigint:tt,bool:tt,func:tt,number:tt,object:tt,string:tt,symbol:tt,any:tt,arrayOf:et,element:tt,elementType:tt,instanceOf:et,node:tt,objectOf:et,oneOf:et,oneOfType:et,shape:et,exact:et,checkPropTypes:emptyFunctionWithReset,resetWarningCache:emptyFunction};return rt.PropTypes=rt,rt};propTypes.exports=factoryWithThrowingShims();function formatMuiErrorMessage(tt){let et="https://mui.com/production-error/?code="+tt;for(let rt=1;rt<arguments.length;rt+=1)et+="&args[]="+encodeURIComponent(arguments[rt]);return"Minified MUI error #"+tt+"; visit "+et+" for the full message."}function capitalize$1(tt){if(typeof tt!="string")throw new Error(formatMuiErrorMessage(7));return tt.charAt(0).toUpperCase()+tt.slice(1)}function createChainedFunction(...tt){return tt.reduce((et,rt)=>rt==null?et:function(...it){et.apply(this,it),rt.apply(this,it)},()=>{})}function debounce$4(tt,et=166){let rt;function nt(...it){const ot=()=>{tt.apply(this,it)};clearTimeout(rt),rt=setTimeout(ot,et)}return nt.clear=()=>{clearTimeout(rt)},nt}function deprecatedPropType(tt,et){return()=>null}function isMuiElement(tt,et){return reactExports.isValidElement(tt)&&et.indexOf(tt.type.muiName)!==-1}function ownerDocument(tt){return tt&&tt.ownerDocument||document}function ownerWindow(tt){return ownerDocument(tt).defaultView||window}function requirePropFactory(tt,et){return()=>null}function setRef(tt,et){typeof tt=="function"?tt(et):tt&&(tt.current=et)}const useEnhancedEffect=typeof window<"u"?reactExports.useLayoutEffect:reactExports.useEffect,useEnhancedEffect$1=useEnhancedEffect;let globalId=0;function useGlobalId(tt){const[et,rt]=reactExports.useState(tt),nt=tt||et;return reactExports.useEffect(()=>{et==null&&(globalId+=1,rt(`mui-${globalId}`))},[et]),nt}const maybeReactUseId=React$1["useId"];function useId(tt){if(maybeReactUseId!==void 0){const et=maybeReactUseId();return tt??et}return useGlobalId(tt)}function unsupportedProp(tt,et,rt,nt,it){return null}function useControlled({controlled:tt,default:et,name:rt,state:nt="value"}){const{current:it}=reactExports.useRef(tt!==void 0),[ot,at]=reactExports.useState(et),st=it?tt:ot,lt=reactExports.useCallback(ct=>{it||at(ct)},[]);return[st,lt]}function useEventCallback(tt){const et=reactExports.useRef(tt);return useEnhancedEffect$1(()=>{et.current=tt}),reactExports.useCallback((...rt)=>(0,et.current)(...rt),[])}function useForkRef(...tt){return reactExports.useMemo(()=>tt.every(et=>et==null)?null:et=>{tt.forEach(rt=>{setRef(rt,et)})},tt)}let hadKeyboardEvent=!0,hadFocusVisibleRecently=!1,hadFocusVisibleRecentlyTimeout;const inputTypesWhitelist={text:!0,search:!0,url:!0,tel:!0,email:!0,password:!0,number:!0,date:!0,month:!0,week:!0,time:!0,datetime:!0,"datetime-local":!0};function focusTriggersKeyboardModality(tt){const{type:et,tagName:rt}=tt;return!!(rt==="INPUT"&&inputTypesWhitelist[et]&&!tt.readOnly||rt==="TEXTAREA"&&!tt.readOnly||tt.isContentEditable)}function handleKeyDown(tt){tt.metaKey||tt.altKey||tt.ctrlKey||(hadKeyboardEvent=!0)}function handlePointerDown(){hadKeyboardEvent=!1}function handleVisibilityChange(){this.visibilityState==="hidden"&&hadFocusVisibleRecently&&(hadKeyboardEvent=!0)}function prepare$1(tt){tt.addEventListener("keydown",handleKeyDown,!0),tt.addEventListener("mousedown",handlePointerDown,!0),tt.addEventListener("pointerdown",handlePointerDown,!0),tt.addEventListener("touchstart",handlePointerDown,!0),tt.addEventListener("visibilitychange",handleVisibilityChange,!0)}function isFocusVisible(tt){const{target:et}=tt;try{return et.matches(":focus-visible")}catch{}return hadKeyboardEvent||focusTriggersKeyboardModality(et)}function useIsFocusVisible(){const tt=reactExports.useCallback(it=>{it!=null&&prepare$1(it.ownerDocument)},[]),et=reactExports.useRef(!1);function rt(){return et.current?(hadFocusVisibleRecently=!0,window.clearTimeout(hadFocusVisibleRecentlyTimeout),hadFocusVisibleRecentlyTimeout=window.setTimeout(()=>{hadFocusVisibleRecently=!1},100),et.current=!1,!0):!1}function nt(it){return isFocusVisible(it)?(et.current=!0,!0):!1}return{isFocusVisibleRef:et,onFocus:nt,onBlur:rt,ref:tt}}function getScrollbarSize(tt){const et=tt.documentElement.clientWidth;return Math.abs(window.innerWidth-et)}let cachedType;function detectScrollType(){if(cachedType)return cachedType;const tt=document.createElement("div"),et=document.createElement("div");return et.style.width="10px",et.style.height="1px",tt.appendChild(et),tt.dir="rtl",tt.style.fontSize="14px",tt.style.width="4px",tt.style.height="1px",tt.style.position="absolute",tt.style.top="-1000px",tt.style.overflow="scroll",document.body.appendChild(tt),cachedType="reverse",tt.scrollLeft>0?cachedType="default":(tt.scrollLeft=1,tt.scrollLeft===0&&(cachedType="negative")),document.body.removeChild(tt),cachedType}function getNormalizedScrollLeft(tt,et){const rt=tt.scrollLeft;if(et!=="rtl")return rt;switch(detectScrollType()){case"negative":return tt.scrollWidth-tt.clientWidth+rt;case"reverse":return tt.scrollWidth-tt.clientWidth-rt;default:return rt}}const usePreviousProps=tt=>{const et=reactExports.useRef({});return reactExports.useEffect(()=>{et.current=tt}),et.current},usePreviousProps$1=usePreviousProps,visuallyHidden={border:0,clip:"rect(0 0 0 0)",height:"1px",margin:-1,overflow:"hidden",padding:0,position:"absolute",whiteSpace:"nowrap",width:"1px"},visuallyHidden$1=visuallyHidden;function resolveProps$1(tt,et){const rt=_extends$n({},et);return Object.keys(tt).forEach(nt=>{if(nt.toString().match(/^(components|slots)$/))rt[nt]=_extends$n({},tt[nt],rt[nt]);else if(nt.toString().match(/^(componentsProps|slotProps)$/)){const it=tt[nt]||{},ot=et[nt];rt[nt]={},!ot||!Object.keys(ot)?rt[nt]=it:!it||!Object.keys(it)?rt[nt]=ot:(rt[nt]=_extends$n({},ot),Object.keys(it).forEach(at=>{rt[nt][at]=resolveProps$1(it[at],ot[at])}))}else rt[nt]===void 0&&(rt[nt]=tt[nt])}),rt}function composeClasses(tt,et,rt){const nt={};return Object.keys(tt).forEach(it=>{nt[it]=tt[it].reduce((ot,at)=>(at&&(ot.push(et(at)),rt&&rt[at]&&ot.push(rt[at])),ot),[]).join(" ")}),nt}const defaultGenerator=tt=>tt,createClassNameGenerator=()=>{let tt=defaultGenerator;return{configure(et){tt=et},generate(et){return tt(et)},reset(){tt=defaultGenerator}}},ClassNameGenerator=createClassNameGenerator(),ClassNameGenerator$1=ClassNameGenerator,globalStateClassesMapping={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",required:"required",selected:"selected"};function generateUtilityClass(tt,et,rt="Mui"){const nt=globalStateClassesMapping[et];return nt?`${rt}-${nt}`:`${ClassNameGenerator$1.generate(tt)}-${et}`}function generateUtilityClasses(tt,et,rt="Mui"){const nt={};return et.forEach(it=>{nt[it]=generateUtilityClass(tt,it,rt)}),nt}var reactPropsRegex=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|download|draggable|encType|enterKeyHint|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,isPropValid=memoize$4(function(tt){return reactPropsRegex.test(tt)||tt.charCodeAt(0)===111&&tt.charCodeAt(1)===110&&tt.charCodeAt(2)<91}),Global=withEmotionCache(function(tt,et){var rt=tt.styles,nt=serializeStyles([rt],void 0,reactExports.useContext(ThemeContext$2)),it=reactExports.useRef();return useInsertionEffectWithLayoutFallback(function(){var ot=et.key+"-global",at=new et.sheet.constructor({key:ot,nonce:et.sheet.nonce,container:et.sheet.container,speedy:et.sheet.isSpeedy}),st=!1,lt=document.querySelector('style[data-emotion="'+ot+" "+nt.name+'"]');return et.sheet.tags.length&&(at.before=et.sheet.tags[0]),lt!==null&&(st=!0,lt.setAttribute("data-emotion",ot),at.hydrate([lt])),it.current=[at,st],function(){at.flush()}},[et]),useInsertionEffectWithLayoutFallback(function(){var ot=it.current,at=ot[0],st=ot[1];if(st){ot[1]=!1;return}if(nt.next!==void 0&&insertStyles(et,nt.next,!0),at.tags.length){var lt=at.tags[at.tags.length-1].nextElementSibling;at.before=lt,at.flush()}et.insert("",nt,at,!1)},[et,nt.name]),null});function css(){for(var tt=arguments.length,et=new Array(tt),rt=0;rt<tt;rt++)et[rt]=arguments[rt];return serializeStyles(et)}var keyframes=function(){var et=css.apply(void 0,arguments),rt="animation-"+et.name;return{name:rt,styles:"@keyframes "+rt+"{"+et.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}},testOmitPropsOnStringTag=isPropValid,testOmitPropsOnComponent=function(et){return et!=="theme"},getDefaultShouldForwardProp=function(et){return typeof et=="string"&&et.charCodeAt(0)>96?testOmitPropsOnStringTag:testOmitPropsOnComponent},composeShouldForwardProps=function(et,rt,nt){var it;if(rt){var ot=rt.shouldForwardProp;it=et.__emotion_forwardProp&&ot?function(at){return et.__emotion_forwardProp(at)&&ot(at)}:ot}return typeof it!="function"&&nt&&(it=et.__emotion_forwardProp),it},Insertion=function(et){var rt=et.cache,nt=et.serialized,it=et.isStringTag;return registerStyles(rt,nt,it),useInsertionEffectAlwaysWithSyncFallback(function(){return insertStyles(rt,nt,it)}),null},createStyled$1=function tt(et,rt){var nt=et.__emotion_real===et,it=nt&&et.__emotion_base||et,ot,at;rt!==void 0&&(ot=rt.label,at=rt.target);var st=composeShouldForwardProps(et,rt,nt),lt=st||getDefaultShouldForwardProp(it),ct=!lt("as");return function(){var ut=arguments,dt=nt&&et.__emotion_styles!==void 0?et.__emotion_styles.slice(0):[];if(ot!==void 0&&dt.push("label:"+ot+";"),ut[0]==null||ut[0].raw===void 0)dt.push.apply(dt,ut);else{dt.push(ut[0][0]);for(var ft=ut.length,pt=1;pt<ft;pt++)dt.push(ut[pt],ut[0][pt])}var mt=withEmotionCache(function(ht,gt,vt){var yt=ct&&ht.as||it,bt="",xt=[],$t=ht;if(ht.theme==null){$t={};for(var Tt in ht)$t[Tt]=ht[Tt];$t.theme=reactExports.useContext(ThemeContext$2)}typeof ht.className=="string"?bt=getRegisteredStyles(gt.registered,xt,ht.className):ht.className!=null&&(bt=ht.className+" ");var wt=serializeStyles(dt.concat(xt),gt.registered,$t);bt+=gt.key+"-"+wt.name,at!==void 0&&(bt+=" "+at);var At=ct&&st===void 0?getDefaultShouldForwardProp(yt):lt,Rt={};for(var It in ht)ct&&It==="as"||At(It)&&(Rt[It]=ht[It]);return Rt.className=bt,Rt.ref=vt,reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(Insertion,{cache:gt,serialized:wt,isStringTag:typeof yt=="string"}),reactExports.createElement(yt,Rt))});return mt.displayName=ot!==void 0?ot:"Styled("+(typeof it=="string"?it:it.displayName||it.name||"Component")+")",mt.defaultProps=et.defaultProps,mt.__emotion_real=mt,mt.__emotion_base=it,mt.__emotion_styles=dt,mt.__emotion_forwardProp=st,Object.defineProperty(mt,"toString",{value:function(){return"."+at}}),mt.withComponent=function(ht,gt){return tt(ht,_extends$n({},rt,gt,{shouldForwardProp:composeShouldForwardProps(mt,gt,!0)})).apply(void 0,dt)},mt}},tags=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"],newStyled=createStyled$1.bind();tags.forEach(function(tt){newStyled[tt]=newStyled(tt)});const emStyled=newStyled;function isEmpty$5(tt){return tt==null||Object.keys(tt).length===0}function GlobalStyles$1(tt){const{styles:et,defaultTheme:rt={}}=tt;return jsx$1(Global,{styles:typeof et=="function"?it=>et(isEmpty$5(it)?rt:it):et})}/**
 * @mui/styled-engine v5.11.8
 *
 * @license MIT
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */function styled$2(tt,et){return emStyled(tt,et)}const internal_processStyles=(tt,et)=>{Array.isArray(tt.__emotion_styles)&&(tt.__emotion_styles=et(tt.__emotion_styles))};function merge$3(tt,et){return et?deepmerge$1(tt,et,{clone:!1}):tt}const values$1={xs:0,sm:600,md:900,lg:1200,xl:1536},defaultBreakpoints={keys:["xs","sm","md","lg","xl"],up:tt=>`@media (min-width:${values$1[tt]}px)`};function handleBreakpoints(tt,et,rt){const nt=tt.theme||{};if(Array.isArray(et)){const ot=nt.breakpoints||defaultBreakpoints;return et.reduce((at,st,lt)=>(at[ot.up(ot.keys[lt])]=rt(et[lt]),at),{})}if(typeof et=="object"){const ot=nt.breakpoints||defaultBreakpoints;return Object.keys(et).reduce((at,st)=>{if(Object.keys(ot.values||values$1).indexOf(st)!==-1){const lt=ot.up(st);at[lt]=rt(et[st],st)}else{const lt=st;at[lt]=et[lt]}return at},{})}return rt(et)}function createEmptyBreakpointObject(tt={}){var et;return((et=tt.keys)==null?void 0:et.reduce((nt,it)=>{const ot=tt.up(it);return nt[ot]={},nt},{}))||{}}function removeUnusedBreakpoints(tt,et){return tt.reduce((rt,nt)=>{const it=rt[nt];return(!it||Object.keys(it).length===0)&&delete rt[nt],rt},et)}function mergeBreakpointsInOrder(tt,...et){const rt=createEmptyBreakpointObject(tt),nt=[rt,...et].reduce((it,ot)=>deepmerge$1(it,ot),{});return removeUnusedBreakpoints(Object.keys(rt),nt)}function computeBreakpointsBase(tt,et){if(typeof tt!="object")return{};const rt={},nt=Object.keys(et);return Array.isArray(tt)?nt.forEach((it,ot)=>{ot<tt.length&&(rt[it]=!0)}):nt.forEach(it=>{tt[it]!=null&&(rt[it]=!0)}),rt}function resolveBreakpointValues({values:tt,breakpoints:et,base:rt}){const nt=rt||computeBreakpointsBase(tt,et),it=Object.keys(nt);if(it.length===0)return tt;let ot;return it.reduce((at,st,lt)=>(Array.isArray(tt)?(at[st]=tt[lt]!=null?tt[lt]:tt[ot],ot=lt):typeof tt=="object"?(at[st]=tt[st]!=null?tt[st]:tt[ot],ot=st):at[st]=tt,at),{})}function getPath$1(tt,et,rt=!0){if(!et||typeof et!="string")return null;if(tt&&tt.vars&&rt){const nt=`vars.${et}`.split(".").reduce((it,ot)=>it&&it[ot]?it[ot]:null,tt);if(nt!=null)return nt}return et.split(".").reduce((nt,it)=>nt&&nt[it]!=null?nt[it]:null,tt)}function getStyleValue$1(tt,et,rt,nt=rt){let it;return typeof tt=="function"?it=tt(rt):Array.isArray(tt)?it=tt[rt]||nt:it=getPath$1(tt,rt)||nt,et&&(it=et(it,nt,tt)),it}function style$3(tt){const{prop:et,cssProperty:rt=tt.prop,themeKey:nt,transform:it}=tt,ot=at=>{if(at[et]==null)return null;const st=at[et],lt=at.theme,ct=getPath$1(lt,nt)||{};return handleBreakpoints(at,st,dt=>{let ft=getStyleValue$1(ct,it,dt);return dt===ft&&typeof dt=="string"&&(ft=getStyleValue$1(ct,it,`${et}${dt==="default"?"":capitalize$1(dt)}`,dt)),rt===!1?ft:{[rt]:ft}})};return ot.propTypes={},ot.filterProps=[et],ot}function compose$2(...tt){const et=tt.reduce((nt,it)=>(it.filterProps.forEach(ot=>{nt[ot]=it}),nt),{}),rt=nt=>Object.keys(nt).reduce((it,ot)=>et[ot]?merge$3(it,et[ot](nt)):it,{});return rt.propTypes={},rt.filterProps=tt.reduce((nt,it)=>nt.concat(it.filterProps),[]),rt}function memoize$2(tt){const et={};return rt=>(et[rt]===void 0&&(et[rt]=tt(rt)),et[rt])}const properties={m:"margin",p:"padding"},directions={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},aliases={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},getCssProperties=memoize$2(tt=>{if(tt.length>2)if(aliases[tt])tt=aliases[tt];else return[tt];const[et,rt]=tt.split(""),nt=properties[et],it=directions[rt]||"";return Array.isArray(it)?it.map(ot=>nt+ot):[nt+it]}),marginKeys=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],paddingKeys=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"];[...marginKeys,...paddingKeys];function createUnaryUnit(tt,et,rt,nt){var it;const ot=(it=getPath$1(tt,et,!1))!=null?it:rt;return typeof ot=="number"?at=>typeof at=="string"?at:ot*at:Array.isArray(ot)?at=>typeof at=="string"?at:ot[at]:typeof ot=="function"?ot:()=>{}}function createUnarySpacing(tt){return createUnaryUnit(tt,"spacing",8)}function getValue$3(tt,et){if(typeof et=="string"||et==null)return et;const rt=Math.abs(et),nt=tt(rt);return et>=0?nt:typeof nt=="number"?-nt:`-${nt}`}function getStyleFromPropValue(tt,et){return rt=>tt.reduce((nt,it)=>(nt[it]=getValue$3(et,rt),nt),{})}function resolveCssProperty(tt,et,rt,nt){if(et.indexOf(rt)===-1)return null;const it=getCssProperties(rt),ot=getStyleFromPropValue(it,nt),at=tt[rt];return handleBreakpoints(tt,at,ot)}function style$2(tt,et){const rt=createUnarySpacing(tt.theme);return Object.keys(tt).map(nt=>resolveCssProperty(tt,et,nt,rt)).reduce(merge$3,{})}function margin(tt){return style$2(tt,marginKeys)}margin.propTypes={};margin.filterProps=marginKeys;function padding(tt){return style$2(tt,paddingKeys)}padding.propTypes={};padding.filterProps=paddingKeys;function borderTransform(tt){return typeof tt!="number"?tt:`${tt}px solid`}const border=style$3({prop:"border",themeKey:"borders",transform:borderTransform}),borderTop=style$3({prop:"borderTop",themeKey:"borders",transform:borderTransform}),borderRight=style$3({prop:"borderRight",themeKey:"borders",transform:borderTransform}),borderBottom=style$3({prop:"borderBottom",themeKey:"borders",transform:borderTransform}),borderLeft=style$3({prop:"borderLeft",themeKey:"borders",transform:borderTransform}),borderColor=style$3({prop:"borderColor",themeKey:"palette"}),borderTopColor=style$3({prop:"borderTopColor",themeKey:"palette"}),borderRightColor=style$3({prop:"borderRightColor",themeKey:"palette"}),borderBottomColor=style$3({prop:"borderBottomColor",themeKey:"palette"}),borderLeftColor=style$3({prop:"borderLeftColor",themeKey:"palette"}),borderRadius=tt=>{if(tt.borderRadius!==void 0&&tt.borderRadius!==null){const et=createUnaryUnit(tt.theme,"shape.borderRadius",4),rt=nt=>({borderRadius:getValue$3(et,nt)});return handleBreakpoints(tt,tt.borderRadius,rt)}return null};borderRadius.propTypes={};borderRadius.filterProps=["borderRadius"];compose$2(border,borderTop,borderRight,borderBottom,borderLeft,borderColor,borderTopColor,borderRightColor,borderBottomColor,borderLeftColor,borderRadius);const gap=tt=>{if(tt.gap!==void 0&&tt.gap!==null){const et=createUnaryUnit(tt.theme,"spacing",8),rt=nt=>({gap:getValue$3(et,nt)});return handleBreakpoints(tt,tt.gap,rt)}return null};gap.propTypes={};gap.filterProps=["gap"];const columnGap=tt=>{if(tt.columnGap!==void 0&&tt.columnGap!==null){const et=createUnaryUnit(tt.theme,"spacing",8),rt=nt=>({columnGap:getValue$3(et,nt)});return handleBreakpoints(tt,tt.columnGap,rt)}return null};columnGap.propTypes={};columnGap.filterProps=["columnGap"];const rowGap=tt=>{if(tt.rowGap!==void 0&&tt.rowGap!==null){const et=createUnaryUnit(tt.theme,"spacing",8),rt=nt=>({rowGap:getValue$3(et,nt)});return handleBreakpoints(tt,tt.rowGap,rt)}return null};rowGap.propTypes={};rowGap.filterProps=["rowGap"];const gridColumn=style$3({prop:"gridColumn"}),gridRow=style$3({prop:"gridRow"}),gridAutoFlow=style$3({prop:"gridAutoFlow"}),gridAutoColumns=style$3({prop:"gridAutoColumns"}),gridAutoRows=style$3({prop:"gridAutoRows"}),gridTemplateColumns=style$3({prop:"gridTemplateColumns"}),gridTemplateRows=style$3({prop:"gridTemplateRows"}),gridTemplateAreas=style$3({prop:"gridTemplateAreas"}),gridArea=style$3({prop:"gridArea"});compose$2(gap,columnGap,rowGap,gridColumn,gridRow,gridAutoFlow,gridAutoColumns,gridAutoRows,gridTemplateColumns,gridTemplateRows,gridTemplateAreas,gridArea);function paletteTransform(tt,et){return et==="grey"?et:tt}const color$2=style$3({prop:"color",themeKey:"palette",transform:paletteTransform}),bgcolor=style$3({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:paletteTransform}),backgroundColor=style$3({prop:"backgroundColor",themeKey:"palette",transform:paletteTransform});compose$2(color$2,bgcolor,backgroundColor);function sizingTransform(tt){return tt<=1&&tt!==0?`${tt*100}%`:tt}const width=style$3({prop:"width",transform:sizingTransform}),maxWidth=tt=>{if(tt.maxWidth!==void 0&&tt.maxWidth!==null){const et=rt=>{var nt,it,ot;return{maxWidth:((nt=tt.theme)==null||(it=nt.breakpoints)==null||(ot=it.values)==null?void 0:ot[rt])||values$1[rt]||sizingTransform(rt)}};return handleBreakpoints(tt,tt.maxWidth,et)}return null};maxWidth.filterProps=["maxWidth"];const minWidth=style$3({prop:"minWidth",transform:sizingTransform}),height=style$3({prop:"height",transform:sizingTransform}),maxHeight=style$3({prop:"maxHeight",transform:sizingTransform}),minHeight=style$3({prop:"minHeight",transform:sizingTransform});style$3({prop:"size",cssProperty:"width",transform:sizingTransform});style$3({prop:"size",cssProperty:"height",transform:sizingTransform});const boxSizing=style$3({prop:"boxSizing"});compose$2(width,maxWidth,minWidth,height,maxHeight,minHeight,boxSizing);const defaultSxConfig={border:{themeKey:"borders",transform:borderTransform},borderTop:{themeKey:"borders",transform:borderTransform},borderRight:{themeKey:"borders",transform:borderTransform},borderBottom:{themeKey:"borders",transform:borderTransform},borderLeft:{themeKey:"borders",transform:borderTransform},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:borderRadius},color:{themeKey:"palette",transform:paletteTransform},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:paletteTransform},backgroundColor:{themeKey:"palette",transform:paletteTransform},p:{style:padding},pt:{style:padding},pr:{style:padding},pb:{style:padding},pl:{style:padding},px:{style:padding},py:{style:padding},padding:{style:padding},paddingTop:{style:padding},paddingRight:{style:padding},paddingBottom:{style:padding},paddingLeft:{style:padding},paddingX:{style:padding},paddingY:{style:padding},paddingInline:{style:padding},paddingInlineStart:{style:padding},paddingInlineEnd:{style:padding},paddingBlock:{style:padding},paddingBlockStart:{style:padding},paddingBlockEnd:{style:padding},m:{style:margin},mt:{style:margin},mr:{style:margin},mb:{style:margin},ml:{style:margin},mx:{style:margin},my:{style:margin},margin:{style:margin},marginTop:{style:margin},marginRight:{style:margin},marginBottom:{style:margin},marginLeft:{style:margin},marginX:{style:margin},marginY:{style:margin},marginInline:{style:margin},marginInlineStart:{style:margin},marginInlineEnd:{style:margin},marginBlock:{style:margin},marginBlockStart:{style:margin},marginBlockEnd:{style:margin},displayPrint:{cssProperty:!1,transform:tt=>({"@media print":{display:tt}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:gap},rowGap:{style:rowGap},columnGap:{style:columnGap},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sizingTransform},maxWidth:{style:maxWidth},minWidth:{transform:sizingTransform},height:{transform:sizingTransform},maxHeight:{transform:sizingTransform},minHeight:{transform:sizingTransform},boxSizing:{},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}},defaultSxConfig$1=defaultSxConfig;function objectsHaveSameKeys(...tt){const et=tt.reduce((nt,it)=>nt.concat(Object.keys(it)),[]),rt=new Set(et);return tt.every(nt=>rt.size===Object.keys(nt).length)}function callIfFn(tt,et){return typeof tt=="function"?tt(et):tt}function unstable_createStyleFunctionSx(){function tt(rt,nt,it,ot){const at={[rt]:nt,theme:it},st=ot[rt];if(!st)return{[rt]:nt};const{cssProperty:lt=rt,themeKey:ct,transform:ut,style:dt}=st;if(nt==null)return null;const ft=getPath$1(it,ct)||{};return dt?dt(at):handleBreakpoints(at,nt,mt=>{let ht=getStyleValue$1(ft,ut,mt);return mt===ht&&typeof mt=="string"&&(ht=getStyleValue$1(ft,ut,`${rt}${mt==="default"?"":capitalize$1(mt)}`,mt)),lt===!1?ht:{[lt]:ht}})}function et(rt){var nt;const{sx:it,theme:ot={}}=rt||{};if(!it)return null;const at=(nt=ot.unstable_sxConfig)!=null?nt:defaultSxConfig$1;function st(lt){let ct=lt;if(typeof lt=="function")ct=lt(ot);else if(typeof lt!="object")return lt;if(!ct)return null;const ut=createEmptyBreakpointObject(ot.breakpoints),dt=Object.keys(ut);let ft=ut;return Object.keys(ct).forEach(pt=>{const mt=callIfFn(ct[pt],ot);if(mt!=null)if(typeof mt=="object")if(at[pt])ft=merge$3(ft,tt(pt,mt,ot,at));else{const ht=handleBreakpoints({theme:ot},mt,gt=>({[pt]:gt}));objectsHaveSameKeys(ht,mt)?ft[pt]=et({sx:mt,theme:ot}):ft=merge$3(ft,ht)}else ft=merge$3(ft,tt(pt,mt,ot,at))}),removeUnusedBreakpoints(dt,ft)}return Array.isArray(it)?it.map(st):st(it)}return et}const styleFunctionSx=unstable_createStyleFunctionSx();styleFunctionSx.filterProps=["sx"];const styleFunctionSx$1=styleFunctionSx,_excluded$1A=["sx"],splitProps=tt=>{var et,rt;const nt={systemProps:{},otherProps:{}},it=(et=tt==null||(rt=tt.theme)==null?void 0:rt.unstable_sxConfig)!=null?et:defaultSxConfig$1;return Object.keys(tt).forEach(ot=>{it[ot]?nt.systemProps[ot]=tt[ot]:nt.otherProps[ot]=tt[ot]}),nt};function extendSxProp(tt){const{sx:et}=tt,rt=_objectWithoutPropertiesLoose$4(tt,_excluded$1A),{systemProps:nt,otherProps:it}=splitProps(rt);let ot;return Array.isArray(et)?ot=[nt,...et]:typeof et=="function"?ot=(...at)=>{const st=et(...at);return isPlainObject$5(st)?_extends$n({},nt,st):nt}:ot=_extends$n({},nt,et),_extends$n({},it,{sx:ot})}const _excluded$1z=["values","unit","step"],sortBreakpointsValues=tt=>{const et=Object.keys(tt).map(rt=>({key:rt,val:tt[rt]}))||[];return et.sort((rt,nt)=>rt.val-nt.val),et.reduce((rt,nt)=>_extends$n({},rt,{[nt.key]:nt.val}),{})};function createBreakpoints(tt){const{values:et={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:rt="px",step:nt=5}=tt,it=_objectWithoutPropertiesLoose$4(tt,_excluded$1z),ot=sortBreakpointsValues(et),at=Object.keys(ot);function st(ft){return`@media (min-width:${typeof et[ft]=="number"?et[ft]:ft}${rt})`}function lt(ft){return`@media (max-width:${(typeof et[ft]=="number"?et[ft]:ft)-nt/100}${rt})`}function ct(ft,pt){const mt=at.indexOf(pt);return`@media (min-width:${typeof et[ft]=="number"?et[ft]:ft}${rt}) and (max-width:${(mt!==-1&&typeof et[at[mt]]=="number"?et[at[mt]]:pt)-nt/100}${rt})`}function ut(ft){return at.indexOf(ft)+1<at.length?ct(ft,at[at.indexOf(ft)+1]):st(ft)}function dt(ft){const pt=at.indexOf(ft);return pt===0?st(at[1]):pt===at.length-1?lt(at[pt]):ct(ft,at[at.indexOf(ft)+1]).replace("@media","@media not all and")}return _extends$n({keys:at,values:ot,up:st,down:lt,between:ct,only:ut,not:dt,unit:rt},it)}const shape={borderRadius:4},shape$1=shape;function createSpacing(tt=8){if(tt.mui)return tt;const et=createUnarySpacing({spacing:tt}),rt=(...nt)=>(nt.length===0?[1]:nt).map(ot=>{const at=et(ot);return typeof at=="number"?`${at}px`:at}).join(" ");return rt.mui=!0,rt}const _excluded$1y=["breakpoints","palette","spacing","shape"];function createTheme$1(tt={},...et){const{breakpoints:rt={},palette:nt={},spacing:it,shape:ot={}}=tt,at=_objectWithoutPropertiesLoose$4(tt,_excluded$1y),st=createBreakpoints(rt),lt=createSpacing(it);let ct=deepmerge$1({breakpoints:st,direction:"ltr",components:{},palette:_extends$n({mode:"light"},nt),spacing:lt,shape:_extends$n({},shape$1,ot)},at);return ct=et.reduce((ut,dt)=>deepmerge$1(ut,dt),ct),ct.unstable_sxConfig=_extends$n({},defaultSxConfig$1,at==null?void 0:at.unstable_sxConfig),ct.unstable_sx=function(dt){return styleFunctionSx$1({sx:dt,theme:this})},ct}const ThemeContext=reactExports.createContext(null),ThemeContext$1=ThemeContext;function useTheme$3(){return reactExports.useContext(ThemeContext$1)}const hasSymbol=typeof Symbol=="function"&&Symbol.for,nested=hasSymbol?Symbol.for("mui.nested"):"__THEME_NESTED__";function mergeOuterLocalTheme(tt,et){return typeof et=="function"?et(tt):_extends$n({},tt,et)}function ThemeProvider$2(tt){const{children:et,theme:rt}=tt,nt=useTheme$3(),it=reactExports.useMemo(()=>{const ot=nt===null?rt:mergeOuterLocalTheme(nt,rt);return ot!=null&&(ot[nested]=nt!==null),ot},[rt,nt]);return jsx$1(ThemeContext$1.Provider,{value:it,children:et})}function isObjectEmpty(tt){return Object.keys(tt).length===0}function useTheme$2(tt=null){const et=useTheme$3();return!et||isObjectEmpty(et)?tt:et}const systemDefaultTheme$1=createTheme$1();function useTheme$1(tt=systemDefaultTheme$1){return useTheme$2(tt)}const _excluded$1x=["className","component"];function createBox(tt={}){const{defaultTheme:et,defaultClassName:rt="MuiBox-root",generateClassName:nt}=tt,it=styled$2("div",{shouldForwardProp:at=>at!=="theme"&&at!=="sx"&&at!=="as"})(styleFunctionSx$1);return reactExports.forwardRef(function(st,lt){const ct=useTheme$1(et),ut=extendSxProp(st),{className:dt,component:ft="div"}=ut,pt=_objectWithoutPropertiesLoose$4(ut,_excluded$1x);return jsx$1(it,_extends$n({as:ft,ref:lt,className:clsx(dt,nt?nt(rt):rt),theme:ct},pt))})}const _excluded$1w=["variant"];function isEmpty$4(tt){return tt.length===0}function propsToClassKey(tt){const{variant:et}=tt,rt=_objectWithoutPropertiesLoose$4(tt,_excluded$1w);let nt=et||"";return Object.keys(rt).sort().forEach(it=>{it==="color"?nt+=isEmpty$4(nt)?tt[it]:capitalize$1(tt[it]):nt+=`${isEmpty$4(nt)?it:capitalize$1(it)}${capitalize$1(tt[it].toString())}`}),nt}const _excluded$1v=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],_excluded2$8=["theme"],_excluded3$2=["theme"];function isEmpty$3(tt){return Object.keys(tt).length===0}function isStringTag(tt){return typeof tt=="string"&&tt.charCodeAt(0)>96}const getStyleOverrides=(tt,et)=>et.components&&et.components[tt]&&et.components[tt].styleOverrides?et.components[tt].styleOverrides:null,getVariantStyles=(tt,et)=>{let rt=[];et&&et.components&&et.components[tt]&&et.components[tt].variants&&(rt=et.components[tt].variants);const nt={};return rt.forEach(it=>{const ot=propsToClassKey(it.props);nt[ot]=it.style}),nt},variantsResolver=(tt,et,rt,nt)=>{var it,ot;const{ownerState:at={}}=tt,st=[],lt=rt==null||(it=rt.components)==null||(ot=it[nt])==null?void 0:ot.variants;return lt&&lt.forEach(ct=>{let ut=!0;Object.keys(ct.props).forEach(dt=>{at[dt]!==ct.props[dt]&&tt[dt]!==ct.props[dt]&&(ut=!1)}),ut&&st.push(et[propsToClassKey(ct.props)])}),st};function shouldForwardProp(tt){return tt!=="ownerState"&&tt!=="theme"&&tt!=="sx"&&tt!=="as"}const systemDefaultTheme=createTheme$1();function createStyled(tt={}){const{defaultTheme:et=systemDefaultTheme,rootShouldForwardProp:rt=shouldForwardProp,slotShouldForwardProp:nt=shouldForwardProp}=tt,it=ot=>{const at=isEmpty$3(ot.theme)?et:ot.theme;return styleFunctionSx$1(_extends$n({},ot,{theme:at}))};return it.__mui_systemSx=!0,(ot,at={})=>{internal_processStyles(ot,bt=>bt.filter(xt=>!(xt!=null&&xt.__mui_systemSx)));const{name:st,slot:lt,skipVariantsResolver:ct,skipSx:ut,overridesResolver:dt}=at,ft=_objectWithoutPropertiesLoose$4(at,_excluded$1v),pt=ct!==void 0?ct:lt&&lt!=="Root"||!1,mt=ut||!1;let ht,gt=shouldForwardProp;lt==="Root"?gt=rt:lt?gt=nt:isStringTag(ot)&&(gt=void 0);const vt=styled$2(ot,_extends$n({shouldForwardProp:gt,label:ht},ft)),yt=(bt,...xt)=>{const $t=xt?xt.map(Rt=>typeof Rt=="function"&&Rt.__emotion_real!==Rt?It=>{let{theme:Lt}=It,Pt=_objectWithoutPropertiesLoose$4(It,_excluded2$8);return Rt(_extends$n({theme:isEmpty$3(Lt)?et:Lt},Pt))}:Rt):[];let Tt=bt;st&&dt&&$t.push(Rt=>{const It=isEmpty$3(Rt.theme)?et:Rt.theme,Lt=getStyleOverrides(st,It);if(Lt){const Pt={};return Object.entries(Lt).forEach(([Nt,Ot])=>{Pt[Nt]=typeof Ot=="function"?Ot(_extends$n({},Rt,{theme:It})):Ot}),dt(Rt,Pt)}return null}),st&&!pt&&$t.push(Rt=>{const It=isEmpty$3(Rt.theme)?et:Rt.theme;return variantsResolver(Rt,getVariantStyles(st,It),It,st)}),mt||$t.push(it);const wt=$t.length-xt.length;if(Array.isArray(bt)&&wt>0){const Rt=new Array(wt).fill("");Tt=[...bt,...Rt],Tt.raw=[...bt.raw,...Rt]}else typeof bt=="function"&&bt.__emotion_real!==bt&&(Tt=Rt=>{let{theme:It}=Rt,Lt=_objectWithoutPropertiesLoose$4(Rt,_excluded3$2);return bt(_extends$n({theme:isEmpty$3(It)?et:It},Lt))});return vt(Tt,...$t)};return vt.withConfig&&(yt.withConfig=vt.withConfig),yt}}function getThemeProps(tt){const{theme:et,name:rt,props:nt}=tt;return!et||!et.components||!et.components[rt]||!et.components[rt].defaultProps?nt:resolveProps$1(et.components[rt].defaultProps,nt)}function useThemeProps$1({props:tt,name:et,defaultTheme:rt}){const nt=useTheme$1(rt);return getThemeProps({theme:nt,name:et,props:tt})}function clamp$4(tt,et=0,rt=1){return Math.min(Math.max(et,tt),rt)}function hexToRgb(tt){tt=tt.slice(1);const et=new RegExp(`.{1,${tt.length>=6?2:1}}`,"g");let rt=tt.match(et);return rt&&rt[0].length===1&&(rt=rt.map(nt=>nt+nt)),rt?`rgb${rt.length===4?"a":""}(${rt.map((nt,it)=>it<3?parseInt(nt,16):Math.round(parseInt(nt,16)/255*1e3)/1e3).join(", ")})`:""}function decomposeColor(tt){if(tt.type)return tt;if(tt.charAt(0)==="#")return decomposeColor(hexToRgb(tt));const et=tt.indexOf("("),rt=tt.substring(0,et);if(["rgb","rgba","hsl","hsla","color"].indexOf(rt)===-1)throw new Error(formatMuiErrorMessage(9,tt));let nt=tt.substring(et+1,tt.length-1),it;if(rt==="color"){if(nt=nt.split(" "),it=nt.shift(),nt.length===4&&nt[3].charAt(0)==="/"&&(nt[3]=nt[3].slice(1)),["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].indexOf(it)===-1)throw new Error(formatMuiErrorMessage(10,it))}else nt=nt.split(",");return nt=nt.map(ot=>parseFloat(ot)),{type:rt,values:nt,colorSpace:it}}function recomposeColor(tt){const{type:et,colorSpace:rt}=tt;let{values:nt}=tt;return et.indexOf("rgb")!==-1?nt=nt.map((it,ot)=>ot<3?parseInt(it,10):it):et.indexOf("hsl")!==-1&&(nt[1]=`${nt[1]}%`,nt[2]=`${nt[2]}%`),et.indexOf("color")!==-1?nt=`${rt} ${nt.join(" ")}`:nt=`${nt.join(", ")}`,`${et}(${nt})`}function hslToRgb$2(tt){tt=decomposeColor(tt);const{values:et}=tt,rt=et[0],nt=et[1]/100,it=et[2]/100,ot=nt*Math.min(it,1-it),at=(ct,ut=(ct+rt/30)%12)=>it-ot*Math.max(Math.min(ut-3,9-ut,1),-1);let st="rgb";const lt=[Math.round(at(0)*255),Math.round(at(8)*255),Math.round(at(4)*255)];return tt.type==="hsla"&&(st+="a",lt.push(et[3])),recomposeColor({type:st,values:lt})}function getLuminance(tt){tt=decomposeColor(tt);let et=tt.type==="hsl"||tt.type==="hsla"?decomposeColor(hslToRgb$2(tt)).values:tt.values;return et=et.map(rt=>(tt.type!=="color"&&(rt/=255),rt<=.03928?rt/12.92:((rt+.055)/1.055)**2.4)),Number((.2126*et[0]+.7152*et[1]+.0722*et[2]).toFixed(3))}function getContrastRatio(tt,et){const rt=getLuminance(tt),nt=getLuminance(et);return(Math.max(rt,nt)+.05)/(Math.min(rt,nt)+.05)}function alpha(tt,et){return tt=decomposeColor(tt),et=clamp$4(et),(tt.type==="rgb"||tt.type==="hsl")&&(tt.type+="a"),tt.type==="color"?tt.values[3]=`/${et}`:tt.values[3]=et,recomposeColor(tt)}function darken(tt,et){if(tt=decomposeColor(tt),et=clamp$4(et),tt.type.indexOf("hsl")!==-1)tt.values[2]*=1-et;else if(tt.type.indexOf("rgb")!==-1||tt.type.indexOf("color")!==-1)for(let rt=0;rt<3;rt+=1)tt.values[rt]*=1-et;return recomposeColor(tt)}function lighten(tt,et){if(tt=decomposeColor(tt),et=clamp$4(et),tt.type.indexOf("hsl")!==-1)tt.values[2]+=(100-tt.values[2])*et;else if(tt.type.indexOf("rgb")!==-1)for(let rt=0;rt<3;rt+=1)tt.values[rt]+=(255-tt.values[rt])*et;else if(tt.type.indexOf("color")!==-1)for(let rt=0;rt<3;rt+=1)tt.values[rt]+=(1-tt.values[rt])*et;return recomposeColor(tt)}function emphasize(tt,et=.15){return getLuminance(tt)>.5?darken(tt,et):lighten(tt,et)}const EMPTY_THEME={};function InnerThemeProvider(tt){const et=useTheme$1();return jsx$1(ThemeContext$2.Provider,{value:typeof et=="object"?et:EMPTY_THEME,children:tt.children})}function ThemeProvider$1(tt){const{children:et,theme:rt}=tt;return jsx$1(ThemeProvider$2,{theme:rt,children:jsx$1(InnerThemeProvider,{children:et})})}function createMixins(tt,et){return _extends$n({toolbar:{minHeight:56,[tt.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[tt.up("sm")]:{minHeight:64}}},et)}const _excluded$1u=["mode","contrastThreshold","tonalOffset"],light={text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:common$4.white,default:common$4.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}},dark={text:{primary:common$4.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:common$4.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}};function addLightOrDark(tt,et,rt,nt){const it=nt.light||nt,ot=nt.dark||nt*1.5;tt[et]||(tt.hasOwnProperty(rt)?tt[et]=tt[rt]:et==="light"?tt.light=lighten(tt.main,it):et==="dark"&&(tt.dark=darken(tt.main,ot)))}function getDefaultPrimary(tt="light"){return tt==="dark"?{main:blue$2[200],light:blue$2[50],dark:blue$2[400]}:{main:blue$2[700],light:blue$2[400],dark:blue$2[800]}}function getDefaultSecondary(tt="light"){return tt==="dark"?{main:purple$2[200],light:purple$2[50],dark:purple$2[400]}:{main:purple$2[500],light:purple$2[300],dark:purple$2[700]}}function getDefaultError(tt="light"){return tt==="dark"?{main:red$2[500],light:red$2[300],dark:red$2[700]}:{main:red$2[700],light:red$2[400],dark:red$2[800]}}function getDefaultInfo(tt="light"){return tt==="dark"?{main:lightBlue$2[400],light:lightBlue$2[300],dark:lightBlue$2[700]}:{main:lightBlue$2[700],light:lightBlue$2[500],dark:lightBlue$2[900]}}function getDefaultSuccess(tt="light"){return tt==="dark"?{main:green$2[400],light:green$2[300],dark:green$2[700]}:{main:green$2[800],light:green$2[500],dark:green$2[900]}}function getDefaultWarning(tt="light"){return tt==="dark"?{main:orange$2[400],light:orange$2[300],dark:orange$2[700]}:{main:"#ed6c02",light:orange$2[500],dark:orange$2[900]}}function createPalette(tt){const{mode:et="light",contrastThreshold:rt=3,tonalOffset:nt=.2}=tt,it=_objectWithoutPropertiesLoose$4(tt,_excluded$1u),ot=tt.primary||getDefaultPrimary(et),at=tt.secondary||getDefaultSecondary(et),st=tt.error||getDefaultError(et),lt=tt.info||getDefaultInfo(et),ct=tt.success||getDefaultSuccess(et),ut=tt.warning||getDefaultWarning(et);function dt(ht){return getContrastRatio(ht,dark.text.primary)>=rt?dark.text.primary:light.text.primary}const ft=({color:ht,name:gt,mainShade:vt=500,lightShade:yt=300,darkShade:bt=700})=>{if(ht=_extends$n({},ht),!ht.main&&ht[vt]&&(ht.main=ht[vt]),!ht.hasOwnProperty("main"))throw new Error(formatMuiErrorMessage(11,gt?` (${gt})`:"",vt));if(typeof ht.main!="string")throw new Error(formatMuiErrorMessage(12,gt?` (${gt})`:"",JSON.stringify(ht.main)));return addLightOrDark(ht,"light",yt,nt),addLightOrDark(ht,"dark",bt,nt),ht.contrastText||(ht.contrastText=dt(ht.main)),ht},pt={dark,light};return deepmerge$1(_extends$n({common:_extends$n({},common$4),mode:et,primary:ft({color:ot,name:"primary"}),secondary:ft({color:at,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:ft({color:st,name:"error"}),warning:ft({color:ut,name:"warning"}),info:ft({color:lt,name:"info"}),success:ft({color:ct,name:"success"}),grey:grey$1,contrastThreshold:rt,getContrastText:dt,augmentColor:ft,tonalOffset:nt},pt[et]),it)}const _excluded$1t=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];function round$3(tt){return Math.round(tt*1e5)/1e5}const caseAllCaps={textTransform:"uppercase"},defaultFontFamily='"Roboto", "Helvetica", "Arial", sans-serif';function createTypography(tt,et){const rt=typeof et=="function"?et(tt):et,{fontFamily:nt=defaultFontFamily,fontSize:it=14,fontWeightLight:ot=300,fontWeightRegular:at=400,fontWeightMedium:st=500,fontWeightBold:lt=700,htmlFontSize:ct=16,allVariants:ut,pxToRem:dt}=rt,ft=_objectWithoutPropertiesLoose$4(rt,_excluded$1t),pt=it/14,mt=dt||(vt=>`${vt/ct*pt}rem`),ht=(vt,yt,bt,xt,$t)=>_extends$n({fontFamily:nt,fontWeight:vt,fontSize:mt(yt),lineHeight:bt},nt===defaultFontFamily?{letterSpacing:`${round$3(xt/yt)}em`}:{},$t,ut),gt={h1:ht(ot,96,1.167,-1.5),h2:ht(ot,60,1.2,-.5),h3:ht(at,48,1.167,0),h4:ht(at,34,1.235,.25),h5:ht(at,24,1.334,0),h6:ht(st,20,1.6,.15),subtitle1:ht(at,16,1.75,.15),subtitle2:ht(st,14,1.57,.1),body1:ht(at,16,1.5,.15),body2:ht(at,14,1.43,.15),button:ht(st,14,1.75,.4,caseAllCaps),caption:ht(at,12,1.66,.4),overline:ht(at,12,2.66,1,caseAllCaps)};return deepmerge$1(_extends$n({htmlFontSize:ct,pxToRem:mt,fontFamily:nt,fontSize:it,fontWeightLight:ot,fontWeightRegular:at,fontWeightMedium:st,fontWeightBold:lt},gt),ft,{clone:!1})}const shadowKeyUmbraOpacity=.2,shadowKeyPenumbraOpacity=.14,shadowAmbientShadowOpacity=.12;function createShadow(...tt){return[`${tt[0]}px ${tt[1]}px ${tt[2]}px ${tt[3]}px rgba(0,0,0,${shadowKeyUmbraOpacity})`,`${tt[4]}px ${tt[5]}px ${tt[6]}px ${tt[7]}px rgba(0,0,0,${shadowKeyPenumbraOpacity})`,`${tt[8]}px ${tt[9]}px ${tt[10]}px ${tt[11]}px rgba(0,0,0,${shadowAmbientShadowOpacity})`].join(",")}const shadows=["none",createShadow(0,2,1,-1,0,1,1,0,0,1,3,0),createShadow(0,3,1,-2,0,2,2,0,0,1,5,0),createShadow(0,3,3,-2,0,3,4,0,0,1,8,0),createShadow(0,2,4,-1,0,4,5,0,0,1,10,0),createShadow(0,3,5,-1,0,5,8,0,0,1,14,0),createShadow(0,3,5,-1,0,6,10,0,0,1,18,0),createShadow(0,4,5,-2,0,7,10,1,0,2,16,1),createShadow(0,5,5,-3,0,8,10,1,0,3,14,2),createShadow(0,5,6,-3,0,9,12,1,0,3,16,2),createShadow(0,6,6,-3,0,10,14,1,0,4,18,3),createShadow(0,6,7,-4,0,11,15,1,0,4,20,3),createShadow(0,7,8,-4,0,12,17,2,0,5,22,4),createShadow(0,7,8,-4,0,13,19,2,0,5,24,4),createShadow(0,7,9,-4,0,14,21,2,0,5,26,4),createShadow(0,8,9,-5,0,15,22,2,0,6,28,5),createShadow(0,8,10,-5,0,16,24,2,0,6,30,5),createShadow(0,8,11,-5,0,17,26,2,0,6,32,5),createShadow(0,9,11,-5,0,18,28,2,0,7,34,6),createShadow(0,9,12,-6,0,19,29,2,0,7,36,6),createShadow(0,10,13,-6,0,20,31,3,0,8,38,7),createShadow(0,10,13,-6,0,21,33,3,0,8,40,7),createShadow(0,10,14,-6,0,22,35,3,0,8,42,7),createShadow(0,11,14,-7,0,23,36,3,0,9,44,8),createShadow(0,11,15,-7,0,24,38,3,0,9,46,8)],shadows$1=shadows,_excluded$1s=["duration","easing","delay"],easing={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},duration$1={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function formatMs(tt){return`${Math.round(tt)}ms`}function getAutoHeightDuration(tt){if(!tt)return 0;const et=tt/36;return Math.round((4+15*et**.25+et/5)*10)}function createTransitions(tt){const et=_extends$n({},easing,tt.easing),rt=_extends$n({},duration$1,tt.duration);return _extends$n({getAutoHeightDuration,create:(it=["all"],ot={})=>{const{duration:at=rt.standard,easing:st=et.easeInOut,delay:lt=0}=ot;return _objectWithoutPropertiesLoose$4(ot,_excluded$1s),(Array.isArray(it)?it:[it]).map(ct=>`${ct} ${typeof at=="string"?at:formatMs(at)} ${st} ${typeof lt=="string"?lt:formatMs(lt)}`).join(",")}},tt,{easing:et,duration:rt})}const zIndex={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500},zIndex$1=zIndex,_excluded$1r=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function createTheme(tt={},...et){const{mixins:rt={},palette:nt={},transitions:it={},typography:ot={}}=tt,at=_objectWithoutPropertiesLoose$4(tt,_excluded$1r);if(tt.vars)throw new Error(formatMuiErrorMessage(18));const st=createPalette(nt),lt=createTheme$1(tt);let ct=deepmerge$1(lt,{mixins:createMixins(lt.breakpoints,rt),palette:st,shadows:shadows$1.slice(),typography:createTypography(st,ot),transitions:createTransitions(it),zIndex:_extends$n({},zIndex$1)});return ct=deepmerge$1(ct,at),ct=et.reduce((ut,dt)=>deepmerge$1(ut,dt),ct),ct.unstable_sxConfig=_extends$n({},defaultSxConfig$1,at==null?void 0:at.unstable_sxConfig),ct.unstable_sx=function(dt){return styleFunctionSx$1({sx:dt,theme:this})},ct}function getUnit(tt){return String(tt).match(/[\d.\-+]*\s*(.*)/)[1]||""}function toUnitless(tt){return parseFloat(tt)}const defaultTheme$1=createTheme(),defaultTheme$2=defaultTheme$1;function useTheme(){return useTheme$1(defaultTheme$2)}function useThemeProps({props:tt,name:et}){return useThemeProps$1({props:tt,name:et,defaultTheme:defaultTheme$2})}const rootShouldForwardProp=tt=>shouldForwardProp(tt)&&tt!=="classes",slotShouldForwardProp=shouldForwardProp,styled=createStyled({defaultTheme:defaultTheme$2,rootShouldForwardProp}),styled$1=styled,getOverlayAlpha=tt=>{let et;return tt<1?et=5.11916*tt**2:et=4.5*Math.log(tt+1)+2,(et/100).toFixed(2)},getOverlayAlpha$1=getOverlayAlpha;function isHostComponent(tt){return typeof tt=="string"}function appendOwnerState(tt,et,rt){return tt===void 0||isHostComponent(tt)?et:_extends$n({},et,{ownerState:_extends$n({},et.ownerState,rt)})}function extractEventHandlers(tt,et=[]){if(tt===void 0)return{};const rt={};return Object.keys(tt).filter(nt=>nt.match(/^on[A-Z]/)&&typeof tt[nt]=="function"&&!et.includes(nt)).forEach(nt=>{rt[nt]=tt[nt]}),rt}function resolveComponentProps(tt,et){return typeof tt=="function"?tt(et):tt}function omitEventHandlers(tt){if(tt===void 0)return{};const et={};return Object.keys(tt).filter(rt=>!(rt.match(/^on[A-Z]/)&&typeof tt[rt]=="function")).forEach(rt=>{et[rt]=tt[rt]}),et}function mergeSlotProps(tt){const{getSlotProps:et,additionalProps:rt,externalSlotProps:nt,externalForwardedProps:it,className:ot}=tt;if(!et){const pt=clsx(it==null?void 0:it.className,nt==null?void 0:nt.className,ot,rt==null?void 0:rt.className),mt=_extends$n({},rt==null?void 0:rt.style,it==null?void 0:it.style,nt==null?void 0:nt.style),ht=_extends$n({},rt,it,nt);return pt.length>0&&(ht.className=pt),Object.keys(mt).length>0&&(ht.style=mt),{props:ht,internalRef:void 0}}const at=extractEventHandlers(_extends$n({},it,nt)),st=omitEventHandlers(nt),lt=omitEventHandlers(it),ct=et(at),ut=clsx(ct==null?void 0:ct.className,rt==null?void 0:rt.className,ot,it==null?void 0:it.className,nt==null?void 0:nt.className),dt=_extends$n({},ct==null?void 0:ct.style,rt==null?void 0:rt.style,it==null?void 0:it.style,nt==null?void 0:nt.style),ft=_extends$n({},ct,rt,lt,st);return ut.length>0&&(ft.className=ut),Object.keys(dt).length>0&&(ft.style=dt),{props:ft,internalRef:ct.ref}}const _excluded$1q=["elementType","externalSlotProps","ownerState"];function useSlotProps(tt){var et;const{elementType:rt,externalSlotProps:nt,ownerState:it}=tt,ot=_objectWithoutPropertiesLoose$4(tt,_excluded$1q),at=resolveComponentProps(nt,it),{props:st,internalRef:lt}=mergeSlotProps(_extends$n({},ot,{externalSlotProps:at})),ct=useForkRef(lt,at==null?void 0:at.ref,(et=tt.additionalProps)==null?void 0:et.ref);return appendOwnerState(rt,_extends$n({},st,{ref:ct}),it)}function stripDiacritics(tt){return typeof tt.normalize<"u"?tt.normalize("NFD").replace(/[\u0300-\u036f]/g,""):tt}function createFilterOptions(tt={}){const{ignoreAccents:et=!0,ignoreCase:rt=!0,limit:nt,matchFrom:it="any",stringify:ot,trim:at=!1}=tt;return(st,{inputValue:lt,getOptionLabel:ct})=>{let ut=at?lt.trim():lt;rt&&(ut=ut.toLowerCase()),et&&(ut=stripDiacritics(ut));const dt=ut?st.filter(ft=>{let pt=(ot||ct)(ft);return rt&&(pt=pt.toLowerCase()),et&&(pt=stripDiacritics(pt)),it==="start"?pt.indexOf(ut)===0:pt.indexOf(ut)>-1}):st;return typeof nt=="number"?dt.slice(0,nt):dt}}function findIndex$1(tt,et){for(let rt=0;rt<tt.length;rt+=1)if(et(tt[rt]))return rt;return-1}const defaultFilterOptions=createFilterOptions(),pageSize=5,defaultIsActiveElementInListbox=tt=>{var et;return tt.current!==null&&((et=tt.current.parentElement)==null?void 0:et.contains(document.activeElement))};function useAutocomplete(tt){const{unstable_isActiveElementInListbox:et=defaultIsActiveElementInListbox,unstable_classNamePrefix:rt="Mui",autoComplete:nt=!1,autoHighlight:it=!1,autoSelect:ot=!1,blurOnSelect:at=!1,clearOnBlur:st=!tt.freeSolo,clearOnEscape:lt=!1,componentName:ct="useAutocomplete",defaultValue:ut=tt.multiple?[]:null,disableClearable:dt=!1,disableCloseOnSelect:ft=!1,disabled:pt,disabledItemsFocusable:mt=!1,disableListWrap:ht=!1,filterOptions:gt=defaultFilterOptions,filterSelectedOptions:vt=!1,freeSolo:yt=!1,getOptionDisabled:bt,getOptionLabel:xt=Or=>{var Rr;return(Rr=Or.label)!=null?Rr:Or},groupBy:$t,handleHomeEndKeys:Tt=!tt.freeSolo,id:wt,includeInputInList:At=!1,inputValue:Rt,isOptionEqualToValue:It=(Or,Rr)=>Or===Rr,multiple:Lt=!1,onChange:Pt,onClose:Nt,onHighlightChange:Ot,onInputChange:Bt,onOpen:zt,open:Vt,openOnFocus:Ut=!1,options:jt,readOnly:qt=!1,selectOnFocus:Dt=!tt.freeSolo,value:Ft}=tt,Zt=useId(wt);let Kt=xt;Kt=Or=>{const Rr=xt(Or);return typeof Rr!="string"?String(Rr):Rr};const ir=reactExports.useRef(!1),rr=reactExports.useRef(!0),mr=reactExports.useRef(null),sr=reactExports.useRef(null),[fr,pr]=reactExports.useState(null),[vr,dr]=reactExports.useState(-1),xr=it?0:-1,Gt=reactExports.useRef(xr),[Wt,nr]=useControlled({controlled:Ft,default:ut,name:ct}),[Qt,Jt]=useControlled({controlled:Rt,default:"",name:ct,state:"inputValue"}),[ar,cr]=reactExports.useState(!1),lr=reactExports.useCallback((Or,Rr)=>{if(!(Lt?Wt.length<Rr.length:Rr!==null)&&!st)return;let ln;if(Lt)ln="";else if(Rr==null)ln="";else{const vn=Kt(Rr);ln=typeof vn=="string"?vn:""}Qt!==ln&&(Jt(ln),Bt&&Bt(Or,ln,"reset"))},[Kt,Qt,Lt,Bt,Jt,st,Wt]),[Yt,Xt]=useControlled({controlled:Vt,default:!1,name:ct,state:"open"}),[tr,or]=reactExports.useState(!0),br=!Lt&&Wt!=null&&Qt===Kt(Wt),Sr=Yt&&!qt,yr=Sr?gt(jt.filter(Or=>!(vt&&(Lt?Wt:[Wt]).some(Rr=>Rr!==null&&It(Or,Rr)))),{inputValue:br&&tr?"":Qt,getOptionLabel:Kt}):[],hr=usePreviousProps$1({filteredOptions:yr,value:Wt});reactExports.useEffect(()=>{const Or=Wt!==hr.value;ar&&!Or||yt&&!Or||lr(null,Wt)},[Wt,lr,ar,hr.value,yt]);const $r=Yt&&yr.length>0&&!qt,Mr=useEventCallback(Or=>{Or===-1?mr.current.focus():fr.querySelector(`[data-tag-index="${Or}"]`).focus()});reactExports.useEffect(()=>{Lt&&vr>Wt.length-1&&(dr(-1),Mr(-1))},[Wt,Lt,vr,Mr]);function Ar(Or,Rr){if(!sr.current||Or===-1)return-1;let Xr=Or;for(;;){if(Rr==="next"&&Xr===yr.length||Rr==="previous"&&Xr===-1)return-1;const ln=sr.current.querySelector(`[data-option-index="${Xr}"]`),vn=mt?!1:!ln||ln.disabled||ln.getAttribute("aria-disabled")==="true";if(ln&&!ln.hasAttribute("tabindex")||vn)Xr+=Rr==="next"?1:-1;else return Xr}}const Fr=useEventCallback(({event:Or,index:Rr,reason:Xr="auto"})=>{if(Gt.current=Rr,Rr===-1?mr.current.removeAttribute("aria-activedescendant"):mr.current.setAttribute("aria-activedescendant",`${Zt}-option-${Rr}`),Ot&&Ot(Or,Rr===-1?null:yr[Rr],Xr),!sr.current)return;const ln=sr.current.querySelector(`[role="option"].${rt}-focused`);ln&&(ln.classList.remove(`${rt}-focused`),ln.classList.remove(`${rt}-focusVisible`));const vn=sr.current.parentElement.querySelector('[role="listbox"]');if(!vn)return;if(Rr===-1){vn.scrollTop=0;return}const Sn=sr.current.querySelector(`[data-option-index="${Rr}"]`);if(Sn&&(Sn.classList.add(`${rt}-focused`),Xr==="keyboard"&&Sn.classList.add(`${rt}-focusVisible`),vn.scrollHeight>vn.clientHeight&&Xr!=="mouse")){const Cn=Sn,_n=vn.clientHeight+vn.scrollTop,qn=Cn.offsetTop+Cn.offsetHeight;qn>_n?vn.scrollTop=qn-vn.clientHeight:Cn.offsetTop-Cn.offsetHeight*($t?1.3:0)<vn.scrollTop&&(vn.scrollTop=Cn.offsetTop-Cn.offsetHeight*($t?1.3:0))}}),zr=useEventCallback(({event:Or,diff:Rr,direction:Xr="next",reason:ln="auto"})=>{if(!Sr)return;const Sn=Ar((()=>{const Cn=yr.length-1;if(Rr==="reset")return xr;if(Rr==="start")return 0;if(Rr==="end")return Cn;const _n=Gt.current+Rr;return _n<0?_n===-1&&At?-1:ht&&Gt.current!==-1||Math.abs(Rr)>1?0:Cn:_n>Cn?_n===Cn+1&&At?-1:ht||Math.abs(Rr)>1?Cn:0:_n})(),Xr);if(Fr({index:Sn,reason:ln,event:Or}),nt&&Rr!=="reset")if(Sn===-1)mr.current.value=Qt;else{const Cn=Kt(yr[Sn]);mr.current.value=Cn,Cn.toLowerCase().indexOf(Qt.toLowerCase())===0&&Qt.length>0&&mr.current.setSelectionRange(Qt.length,Cn.length)}}),jr=()=>{var Or;if(Gt.current!==-1&&hr.filteredOptions&&hr.filteredOptions.length!==yr.length&&(Lt?hr.value.every((Rr,Xr)=>Kt(Wt[Xr])===Kt(Rr)):Kt((Or=hr.value)!=null?Or:"")===Kt(Wt??""))){const Rr=hr.filteredOptions[Gt.current];if(Rr&&yr.some(ln=>Kt(ln)===Kt(Rr)))return!0}return!1},Jr=reactExports.useCallback(()=>{if(!Sr||jr())return;const Or=Lt?Wt[0]:Wt;if(yr.length===0||Or==null){zr({diff:"reset"});return}if(sr.current){if(Or!=null){const Rr=yr[Gt.current];if(Lt&&Rr&&findIndex$1(Wt,ln=>It(Rr,ln))!==-1)return;const Xr=findIndex$1(yr,ln=>It(ln,Or));Xr===-1?zr({diff:"reset"}):Fr({index:Xr});return}if(Gt.current>=yr.length-1){Fr({index:yr.length-1});return}Fr({index:Gt.current})}},[yr.length,Lt?!1:Wt,vt,zr,Fr,Sr,Qt,Lt]),gn=useEventCallback(Or=>{setRef(sr,Or),Or&&Jr()});reactExports.useEffect(()=>{Jr()},[Jr]);const mn=Or=>{Yt||(Xt(!0),or(!0),zt&&zt(Or))},Cr=(Or,Rr)=>{Yt&&(Xt(!1),Nt&&Nt(Or,Rr))},Dr=(Or,Rr,Xr,ln)=>{if(Lt){if(Wt.length===Rr.length&&Wt.every((vn,Sn)=>vn===Rr[Sn]))return}else if(Wt===Rr)return;Pt&&Pt(Or,Rr,Xr,ln),nr(Rr)},Hr=reactExports.useRef(!1),Yr=(Or,Rr,Xr="selectOption",ln="options")=>{let vn=Xr,Sn=Rr;if(Lt){Sn=Array.isArray(Wt)?Wt.slice():[];const Cn=findIndex$1(Sn,_n=>It(Rr,_n));Cn===-1?Sn.push(Rr):ln!=="freeSolo"&&(Sn.splice(Cn,1),vn="removeOption")}lr(Or,Sn),Dr(Or,Sn,vn,{option:Rr}),!ft&&(!Or||!Or.ctrlKey&&!Or.metaKey)&&Cr(Or,vn),(at===!0||at==="touch"&&Hr.current||at==="mouse"&&!Hr.current)&&mr.current.blur()};function dn(Or,Rr){if(Or===-1)return-1;let Xr=Or;for(;;){if(Rr==="next"&&Xr===Wt.length||Rr==="previous"&&Xr===-1)return-1;const ln=fr.querySelector(`[data-tag-index="${Xr}"]`);if(!ln||!ln.hasAttribute("tabindex")||ln.disabled||ln.getAttribute("aria-disabled")==="true")Xr+=Rr==="next"?1:-1;else return Xr}}const On=(Or,Rr)=>{if(!Lt)return;Qt===""&&Cr(Or,"toggleInput");let Xr=vr;vr===-1?Qt===""&&Rr==="previous"&&(Xr=Wt.length-1):(Xr+=Rr==="next"?1:-1,Xr<0&&(Xr=0),Xr===Wt.length&&(Xr=-1)),Xr=dn(Xr,Rr),dr(Xr),Mr(Xr)},Dn=Or=>{ir.current=!0,Jt(""),Bt&&Bt(Or,"","clear"),Dr(Or,Lt?[]:null,"clear")},Bn=Or=>Rr=>{if(Or.onKeyDown&&Or.onKeyDown(Rr),!Rr.defaultMuiPrevented&&(vr!==-1&&["ArrowLeft","ArrowRight"].indexOf(Rr.key)===-1&&(dr(-1),Mr(-1)),Rr.which!==229))switch(Rr.key){case"Home":Sr&&Tt&&(Rr.preventDefault(),zr({diff:"start",direction:"next",reason:"keyboard",event:Rr}));break;case"End":Sr&&Tt&&(Rr.preventDefault(),zr({diff:"end",direction:"previous",reason:"keyboard",event:Rr}));break;case"PageUp":Rr.preventDefault(),zr({diff:-pageSize,direction:"previous",reason:"keyboard",event:Rr}),mn(Rr);break;case"PageDown":Rr.preventDefault(),zr({diff:pageSize,direction:"next",reason:"keyboard",event:Rr}),mn(Rr);break;case"ArrowDown":Rr.preventDefault(),zr({diff:1,direction:"next",reason:"keyboard",event:Rr}),mn(Rr);break;case"ArrowUp":Rr.preventDefault(),zr({diff:-1,direction:"previous",reason:"keyboard",event:Rr}),mn(Rr);break;case"ArrowLeft":On(Rr,"previous");break;case"ArrowRight":On(Rr,"next");break;case"Enter":if(Gt.current!==-1&&Sr){const Xr=yr[Gt.current],ln=bt?bt(Xr):!1;if(Rr.preventDefault(),ln)return;Yr(Rr,Xr,"selectOption"),nt&&mr.current.setSelectionRange(mr.current.value.length,mr.current.value.length)}else yt&&Qt!==""&&br===!1&&(Lt&&Rr.preventDefault(),Yr(Rr,Qt,"createOption","freeSolo"));break;case"Escape":Sr?(Rr.preventDefault(),Rr.stopPropagation(),Cr(Rr,"escape")):lt&&(Qt!==""||Lt&&Wt.length>0)&&(Rr.preventDefault(),Rr.stopPropagation(),Dn(Rr));break;case"Backspace":if(Lt&&!qt&&Qt===""&&Wt.length>0){const Xr=vr===-1?Wt.length-1:vr,ln=Wt.slice();ln.splice(Xr,1),Dr(Rr,ln,"removeOption",{option:Wt[Xr]})}break;case"Delete":if(Lt&&!qt&&Qt===""&&Wt.length>0&&vr!==-1){const Xr=vr,ln=Wt.slice();ln.splice(Xr,1),Dr(Rr,ln,"removeOption",{option:Wt[Xr]})}break}},Fn=Or=>{cr(!0),Ut&&!ir.current&&mn(Or)},Mn=Or=>{if(et(sr)){mr.current.focus();return}cr(!1),rr.current=!0,ir.current=!1,ot&&Gt.current!==-1&&Sr?Yr(Or,yr[Gt.current],"blur"):ot&&yt&&Qt!==""?Yr(Or,Qt,"blur","freeSolo"):st&&lr(Or,Wt),Cr(Or,"blur")},Ln=Or=>{const Rr=Or.target.value;Qt!==Rr&&(Jt(Rr),or(!1),Bt&&Bt(Or,Rr,"input")),Rr===""?!dt&&!Lt&&Dr(Or,null,"clear"):mn(Or)},Rn=Or=>{Fr({event:Or,index:Number(Or.currentTarget.getAttribute("data-option-index")),reason:"mouse"})},Qn=()=>{Hr.current=!0},Un=Or=>{const Rr=Number(Or.currentTarget.getAttribute("data-option-index"));Yr(Or,yr[Rr],"selectOption"),Hr.current=!1},yn=Or=>Rr=>{const Xr=Wt.slice();Xr.splice(Or,1),Dr(Rr,Xr,"removeOption",{option:Wt[Or]})},Tn=Or=>{Yt?Cr(Or,"toggleInput"):mn(Or)},gr=Or=>{Or.target.getAttribute("id")!==Zt&&Or.preventDefault()},kr=()=>{mr.current.focus(),Dt&&rr.current&&mr.current.selectionEnd-mr.current.selectionStart===0&&mr.current.select(),rr.current=!1},Ur=Or=>{(Qt===""||!Yt)&&Tn(Or)};let Lr=yt&&Qt.length>0;Lr=Lr||(Lt?Wt.length>0:Wt!==null);let Vr=yr;return $t&&(Vr=yr.reduce((Or,Rr,Xr)=>{const ln=$t(Rr);return Or.length>0&&Or[Or.length-1].group===ln?Or[Or.length-1].options.push(Rr):Or.push({key:Xr,index:Xr,group:ln,options:[Rr]}),Or},[])),pt&&ar&&Mn(),{getRootProps:(Or={})=>_extends$n({"aria-owns":$r?`${Zt}-listbox`:null},Or,{onKeyDown:Bn(Or),onMouseDown:gr,onClick:kr}),getInputLabelProps:()=>({id:`${Zt}-label`,htmlFor:Zt}),getInputProps:()=>({id:Zt,value:Qt,onBlur:Mn,onFocus:Fn,onChange:Ln,onMouseDown:Ur,"aria-activedescendant":Sr?"":null,"aria-autocomplete":nt?"both":"list","aria-controls":$r?`${Zt}-listbox`:void 0,"aria-expanded":$r,autoComplete:"off",ref:mr,autoCapitalize:"none",spellCheck:"false",role:"combobox"}),getClearProps:()=>({tabIndex:-1,onClick:Dn}),getPopupIndicatorProps:()=>({tabIndex:-1,onClick:Tn}),getTagProps:({index:Or})=>_extends$n({key:Or,"data-tag-index":Or,tabIndex:-1},!qt&&{onDelete:yn(Or)}),getListboxProps:()=>({role:"listbox",id:`${Zt}-listbox`,"aria-labelledby":`${Zt}-label`,ref:gn,onMouseDown:Or=>{Or.preventDefault()}}),getOptionProps:({index:Or,option:Rr})=>{const Xr=(Lt?Wt:[Wt]).some(vn=>vn!=null&&It(Rr,vn)),ln=bt?bt(Rr):!1;return{key:Kt(Rr),tabIndex:-1,role:"option",id:`${Zt}-option-${Or}`,onMouseOver:Rn,onClick:Un,onTouchStart:Qn,"data-option-index":Or,"aria-disabled":ln,"aria-selected":Xr}},id:Zt,inputValue:Qt,value:Wt,dirty:Lr,popupOpen:Sr,focused:ar||vr!==-1,anchorEl:fr,setAnchorEl:pr,focusedTag:vr,groupedOptions:Vr}}const candidatesSelector=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function getTabIndex(tt){const et=parseInt(tt.getAttribute("tabindex")||"",10);return Number.isNaN(et)?tt.contentEditable==="true"||(tt.nodeName==="AUDIO"||tt.nodeName==="VIDEO"||tt.nodeName==="DETAILS")&&tt.getAttribute("tabindex")===null?0:tt.tabIndex:et}function isNonTabbableRadio(tt){if(tt.tagName!=="INPUT"||tt.type!=="radio"||!tt.name)return!1;const et=nt=>tt.ownerDocument.querySelector(`input[type="radio"]${nt}`);let rt=et(`[name="${tt.name}"]:checked`);return rt||(rt=et(`[name="${tt.name}"]`)),rt!==tt}function isNodeMatchingSelectorFocusable(tt){return!(tt.disabled||tt.tagName==="INPUT"&&tt.type==="hidden"||isNonTabbableRadio(tt))}function defaultGetTabbable(tt){const et=[],rt=[];return Array.from(tt.querySelectorAll(candidatesSelector)).forEach((nt,it)=>{const ot=getTabIndex(nt);ot===-1||!isNodeMatchingSelectorFocusable(nt)||(ot===0?et.push(nt):rt.push({documentOrder:it,tabIndex:ot,node:nt}))}),rt.sort((nt,it)=>nt.tabIndex===it.tabIndex?nt.documentOrder-it.documentOrder:nt.tabIndex-it.tabIndex).map(nt=>nt.node).concat(et)}function defaultIsEnabled(){return!0}function FocusTrap(tt){const{children:et,disableAutoFocus:rt=!1,disableEnforceFocus:nt=!1,disableRestoreFocus:it=!1,getTabbable:ot=defaultGetTabbable,isEnabled:at=defaultIsEnabled,open:st}=tt,lt=reactExports.useRef(!1),ct=reactExports.useRef(null),ut=reactExports.useRef(null),dt=reactExports.useRef(null),ft=reactExports.useRef(null),pt=reactExports.useRef(!1),mt=reactExports.useRef(null),ht=useForkRef(et.ref,mt),gt=reactExports.useRef(null);reactExports.useEffect(()=>{!st||!mt.current||(pt.current=!rt)},[rt,st]),reactExports.useEffect(()=>{if(!st||!mt.current)return;const bt=ownerDocument(mt.current);return mt.current.contains(bt.activeElement)||(mt.current.hasAttribute("tabIndex")||mt.current.setAttribute("tabIndex","-1"),pt.current&&mt.current.focus()),()=>{it||(dt.current&&dt.current.focus&&(lt.current=!0,dt.current.focus()),dt.current=null)}},[st]),reactExports.useEffect(()=>{if(!st||!mt.current)return;const bt=ownerDocument(mt.current),xt=wt=>{const{current:At}=mt;if(At!==null){if(!bt.hasFocus()||nt||!at()||lt.current){lt.current=!1;return}if(!At.contains(bt.activeElement)){if(wt&&ft.current!==wt.target||bt.activeElement!==ft.current)ft.current=null;else if(ft.current!==null)return;if(!pt.current)return;let Lt=[];if((bt.activeElement===ct.current||bt.activeElement===ut.current)&&(Lt=ot(mt.current)),Lt.length>0){var Rt,It;const Pt=Boolean(((Rt=gt.current)==null?void 0:Rt.shiftKey)&&((It=gt.current)==null?void 0:It.key)==="Tab"),Nt=Lt[0],Ot=Lt[Lt.length-1];typeof Nt!="string"&&typeof Ot!="string"&&(Pt?Ot.focus():Nt.focus())}else At.focus()}}},$t=wt=>{gt.current=wt,!(nt||!at()||wt.key!=="Tab")&&bt.activeElement===mt.current&&wt.shiftKey&&(lt.current=!0,ut.current&&ut.current.focus())};bt.addEventListener("focusin",xt),bt.addEventListener("keydown",$t,!0);const Tt=setInterval(()=>{bt.activeElement&&bt.activeElement.tagName==="BODY"&&xt(null)},50);return()=>{clearInterval(Tt),bt.removeEventListener("focusin",xt),bt.removeEventListener("keydown",$t,!0)}},[rt,nt,it,at,st,ot]);const vt=bt=>{dt.current===null&&(dt.current=bt.relatedTarget),pt.current=!0,ft.current=bt.target;const xt=et.props.onFocus;xt&&xt(bt)},yt=bt=>{dt.current===null&&(dt.current=bt.relatedTarget),pt.current=!0};return jsxs$1(reactExports.Fragment,{children:[jsx$1("div",{tabIndex:st?0:-1,onFocus:yt,ref:ct,"data-testid":"sentinelStart"}),reactExports.cloneElement(et,{ref:ht,onFocus:vt}),jsx$1("div",{tabIndex:st?0:-1,onFocus:yt,ref:ut,"data-testid":"sentinelEnd"})]})}var top="top",bottom="bottom",right="right",left="left",auto="auto",basePlacements=[top,bottom,right,left],start$2="start",end$1="end",clippingParents="clippingParents",viewport="viewport",popper="popper",reference="reference",variationPlacements=basePlacements.reduce(function(tt,et){return tt.concat([et+"-"+start$2,et+"-"+end$1])},[]),placements=[].concat(basePlacements,[auto]).reduce(function(tt,et){return tt.concat([et,et+"-"+start$2,et+"-"+end$1])},[]),beforeRead="beforeRead",read="read",afterRead="afterRead",beforeMain="beforeMain",main="main",afterMain="afterMain",beforeWrite="beforeWrite",write="write",afterWrite="afterWrite",modifierPhases=[beforeRead,read,afterRead,beforeMain,main,afterMain,beforeWrite,write,afterWrite];function getNodeName(tt){return tt?(tt.nodeName||"").toLowerCase():null}function getWindow(tt){if(tt==null)return window;if(tt.toString()!=="[object Window]"){var et=tt.ownerDocument;return et&&et.defaultView||window}return tt}function isElement$1(tt){var et=getWindow(tt).Element;return tt instanceof et||tt instanceof Element}function isHTMLElement$2(tt){var et=getWindow(tt).HTMLElement;return tt instanceof et||tt instanceof HTMLElement}function isShadowRoot(tt){if(typeof ShadowRoot>"u")return!1;var et=getWindow(tt).ShadowRoot;return tt instanceof et||tt instanceof ShadowRoot}function applyStyles(tt){var et=tt.state;Object.keys(et.elements).forEach(function(rt){var nt=et.styles[rt]||{},it=et.attributes[rt]||{},ot=et.elements[rt];!isHTMLElement$2(ot)||!getNodeName(ot)||(Object.assign(ot.style,nt),Object.keys(it).forEach(function(at){var st=it[at];st===!1?ot.removeAttribute(at):ot.setAttribute(at,st===!0?"":st)}))})}function effect$2(tt){var et=tt.state,rt={popper:{position:et.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(et.elements.popper.style,rt.popper),et.styles=rt,et.elements.arrow&&Object.assign(et.elements.arrow.style,rt.arrow),function(){Object.keys(et.elements).forEach(function(nt){var it=et.elements[nt],ot=et.attributes[nt]||{},at=Object.keys(et.styles.hasOwnProperty(nt)?et.styles[nt]:rt[nt]),st=at.reduce(function(lt,ct){return lt[ct]="",lt},{});!isHTMLElement$2(it)||!getNodeName(it)||(Object.assign(it.style,st),Object.keys(ot).forEach(function(lt){it.removeAttribute(lt)}))})}}const applyStyles$1={name:"applyStyles",enabled:!0,phase:"write",fn:applyStyles,effect:effect$2,requires:["computeStyles"]};function getBasePlacement(tt){return tt.split("-")[0]}var max$4=Math.max,min$5=Math.min,round$2=Math.round;function getUAString(){var tt=navigator.userAgentData;return tt!=null&&tt.brands?tt.brands.map(function(et){return et.brand+"/"+et.version}).join(" "):navigator.userAgent}function isLayoutViewport(){return!/^((?!chrome|android).)*safari/i.test(getUAString())}function getBoundingClientRect(tt,et,rt){et===void 0&&(et=!1),rt===void 0&&(rt=!1);var nt=tt.getBoundingClientRect(),it=1,ot=1;et&&isHTMLElement$2(tt)&&(it=tt.offsetWidth>0&&round$2(nt.width)/tt.offsetWidth||1,ot=tt.offsetHeight>0&&round$2(nt.height)/tt.offsetHeight||1);var at=isElement$1(tt)?getWindow(tt):window,st=at.visualViewport,lt=!isLayoutViewport()&&rt,ct=(nt.left+(lt&&st?st.offsetLeft:0))/it,ut=(nt.top+(lt&&st?st.offsetTop:0))/ot,dt=nt.width/it,ft=nt.height/ot;return{width:dt,height:ft,top:ut,right:ct+dt,bottom:ut+ft,left:ct,x:ct,y:ut}}function getLayoutRect(tt){var et=getBoundingClientRect(tt),rt=tt.offsetWidth,nt=tt.offsetHeight;return Math.abs(et.width-rt)<=1&&(rt=et.width),Math.abs(et.height-nt)<=1&&(nt=et.height),{x:tt.offsetLeft,y:tt.offsetTop,width:rt,height:nt}}function contains(tt,et){var rt=et.getRootNode&&et.getRootNode();if(tt.contains(et))return!0;if(rt&&isShadowRoot(rt)){var nt=et;do{if(nt&&tt.isSameNode(nt))return!0;nt=nt.parentNode||nt.host}while(nt)}return!1}function getComputedStyle(tt){return getWindow(tt).getComputedStyle(tt)}function isTableElement(tt){return["table","td","th"].indexOf(getNodeName(tt))>=0}function getDocumentElement(tt){return((isElement$1(tt)?tt.ownerDocument:tt.document)||window.document).documentElement}function getParentNode(tt){return getNodeName(tt)==="html"?tt:tt.assignedSlot||tt.parentNode||(isShadowRoot(tt)?tt.host:null)||getDocumentElement(tt)}function getTrueOffsetParent(tt){return!isHTMLElement$2(tt)||getComputedStyle(tt).position==="fixed"?null:tt.offsetParent}function getContainingBlock(tt){var et=/firefox/i.test(getUAString()),rt=/Trident/i.test(getUAString());if(rt&&isHTMLElement$2(tt)){var nt=getComputedStyle(tt);if(nt.position==="fixed")return null}var it=getParentNode(tt);for(isShadowRoot(it)&&(it=it.host);isHTMLElement$2(it)&&["html","body"].indexOf(getNodeName(it))<0;){var ot=getComputedStyle(it);if(ot.transform!=="none"||ot.perspective!=="none"||ot.contain==="paint"||["transform","perspective"].indexOf(ot.willChange)!==-1||et&&ot.willChange==="filter"||et&&ot.filter&&ot.filter!=="none")return it;it=it.parentNode}return null}function getOffsetParent(tt){for(var et=getWindow(tt),rt=getTrueOffsetParent(tt);rt&&isTableElement(rt)&&getComputedStyle(rt).position==="static";)rt=getTrueOffsetParent(rt);return rt&&(getNodeName(rt)==="html"||getNodeName(rt)==="body"&&getComputedStyle(rt).position==="static")?et:rt||getContainingBlock(tt)||et}function getMainAxisFromPlacement(tt){return["top","bottom"].indexOf(tt)>=0?"x":"y"}function within(tt,et,rt){return max$4(tt,min$5(et,rt))}function withinMaxClamp(tt,et,rt){var nt=within(tt,et,rt);return nt>rt?rt:nt}function getFreshSideObject(){return{top:0,right:0,bottom:0,left:0}}function mergePaddingObject(tt){return Object.assign({},getFreshSideObject(),tt)}function expandToHashMap(tt,et){return et.reduce(function(rt,nt){return rt[nt]=tt,rt},{})}var toPaddingObject=function(et,rt){return et=typeof et=="function"?et(Object.assign({},rt.rects,{placement:rt.placement})):et,mergePaddingObject(typeof et!="number"?et:expandToHashMap(et,basePlacements))};function arrow(tt){var et,rt=tt.state,nt=tt.name,it=tt.options,ot=rt.elements.arrow,at=rt.modifiersData.popperOffsets,st=getBasePlacement(rt.placement),lt=getMainAxisFromPlacement(st),ct=[left,right].indexOf(st)>=0,ut=ct?"height":"width";if(!(!ot||!at)){var dt=toPaddingObject(it.padding,rt),ft=getLayoutRect(ot),pt=lt==="y"?top:left,mt=lt==="y"?bottom:right,ht=rt.rects.reference[ut]+rt.rects.reference[lt]-at[lt]-rt.rects.popper[ut],gt=at[lt]-rt.rects.reference[lt],vt=getOffsetParent(ot),yt=vt?lt==="y"?vt.clientHeight||0:vt.clientWidth||0:0,bt=ht/2-gt/2,xt=dt[pt],$t=yt-ft[ut]-dt[mt],Tt=yt/2-ft[ut]/2+bt,wt=within(xt,Tt,$t),At=lt;rt.modifiersData[nt]=(et={},et[At]=wt,et.centerOffset=wt-Tt,et)}}function effect$1(tt){var et=tt.state,rt=tt.options,nt=rt.element,it=nt===void 0?"[data-popper-arrow]":nt;it!=null&&(typeof it=="string"&&(it=et.elements.popper.querySelector(it),!it)||contains(et.elements.popper,it)&&(et.elements.arrow=it))}const arrow$1={name:"arrow",enabled:!0,phase:"main",fn:arrow,effect:effect$1,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function getVariation(tt){return tt.split("-")[1]}var unsetSides={top:"auto",right:"auto",bottom:"auto",left:"auto"};function roundOffsetsByDPR(tt){var et=tt.x,rt=tt.y,nt=window,it=nt.devicePixelRatio||1;return{x:round$2(et*it)/it||0,y:round$2(rt*it)/it||0}}function mapToStyles(tt){var et,rt=tt.popper,nt=tt.popperRect,it=tt.placement,ot=tt.variation,at=tt.offsets,st=tt.position,lt=tt.gpuAcceleration,ct=tt.adaptive,ut=tt.roundOffsets,dt=tt.isFixed,ft=at.x,pt=ft===void 0?0:ft,mt=at.y,ht=mt===void 0?0:mt,gt=typeof ut=="function"?ut({x:pt,y:ht}):{x:pt,y:ht};pt=gt.x,ht=gt.y;var vt=at.hasOwnProperty("x"),yt=at.hasOwnProperty("y"),bt=left,xt=top,$t=window;if(ct){var Tt=getOffsetParent(rt),wt="clientHeight",At="clientWidth";if(Tt===getWindow(rt)&&(Tt=getDocumentElement(rt),getComputedStyle(Tt).position!=="static"&&st==="absolute"&&(wt="scrollHeight",At="scrollWidth")),Tt=Tt,it===top||(it===left||it===right)&&ot===end$1){xt=bottom;var Rt=dt&&Tt===$t&&$t.visualViewport?$t.visualViewport.height:Tt[wt];ht-=Rt-nt.height,ht*=lt?1:-1}if(it===left||(it===top||it===bottom)&&ot===end$1){bt=right;var It=dt&&Tt===$t&&$t.visualViewport?$t.visualViewport.width:Tt[At];pt-=It-nt.width,pt*=lt?1:-1}}var Lt=Object.assign({position:st},ct&&unsetSides),Pt=ut===!0?roundOffsetsByDPR({x:pt,y:ht}):{x:pt,y:ht};if(pt=Pt.x,ht=Pt.y,lt){var Nt;return Object.assign({},Lt,(Nt={},Nt[xt]=yt?"0":"",Nt[bt]=vt?"0":"",Nt.transform=($t.devicePixelRatio||1)<=1?"translate("+pt+"px, "+ht+"px)":"translate3d("+pt+"px, "+ht+"px, 0)",Nt))}return Object.assign({},Lt,(et={},et[xt]=yt?ht+"px":"",et[bt]=vt?pt+"px":"",et.transform="",et))}function computeStyles(tt){var et=tt.state,rt=tt.options,nt=rt.gpuAcceleration,it=nt===void 0?!0:nt,ot=rt.adaptive,at=ot===void 0?!0:ot,st=rt.roundOffsets,lt=st===void 0?!0:st,ct={placement:getBasePlacement(et.placement),variation:getVariation(et.placement),popper:et.elements.popper,popperRect:et.rects.popper,gpuAcceleration:it,isFixed:et.options.strategy==="fixed"};et.modifiersData.popperOffsets!=null&&(et.styles.popper=Object.assign({},et.styles.popper,mapToStyles(Object.assign({},ct,{offsets:et.modifiersData.popperOffsets,position:et.options.strategy,adaptive:at,roundOffsets:lt})))),et.modifiersData.arrow!=null&&(et.styles.arrow=Object.assign({},et.styles.arrow,mapToStyles(Object.assign({},ct,{offsets:et.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:lt})))),et.attributes.popper=Object.assign({},et.attributes.popper,{"data-popper-placement":et.placement})}const computeStyles$1={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:computeStyles,data:{}};var passive={passive:!0};function effect(tt){var et=tt.state,rt=tt.instance,nt=tt.options,it=nt.scroll,ot=it===void 0?!0:it,at=nt.resize,st=at===void 0?!0:at,lt=getWindow(et.elements.popper),ct=[].concat(et.scrollParents.reference,et.scrollParents.popper);return ot&&ct.forEach(function(ut){ut.addEventListener("scroll",rt.update,passive)}),st&&lt.addEventListener("resize",rt.update,passive),function(){ot&&ct.forEach(function(ut){ut.removeEventListener("scroll",rt.update,passive)}),st&&lt.removeEventListener("resize",rt.update,passive)}}const eventListeners={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect,data:{}};var hash$1={left:"right",right:"left",bottom:"top",top:"bottom"};function getOppositePlacement(tt){return tt.replace(/left|right|bottom|top/g,function(et){return hash$1[et]})}var hash={start:"end",end:"start"};function getOppositeVariationPlacement(tt){return tt.replace(/start|end/g,function(et){return hash[et]})}function getWindowScroll(tt){var et=getWindow(tt),rt=et.pageXOffset,nt=et.pageYOffset;return{scrollLeft:rt,scrollTop:nt}}function getWindowScrollBarX(tt){return getBoundingClientRect(getDocumentElement(tt)).left+getWindowScroll(tt).scrollLeft}function getViewportRect(tt,et){var rt=getWindow(tt),nt=getDocumentElement(tt),it=rt.visualViewport,ot=nt.clientWidth,at=nt.clientHeight,st=0,lt=0;if(it){ot=it.width,at=it.height;var ct=isLayoutViewport();(ct||!ct&&et==="fixed")&&(st=it.offsetLeft,lt=it.offsetTop)}return{width:ot,height:at,x:st+getWindowScrollBarX(tt),y:lt}}function getDocumentRect(tt){var et,rt=getDocumentElement(tt),nt=getWindowScroll(tt),it=(et=tt.ownerDocument)==null?void 0:et.body,ot=max$4(rt.scrollWidth,rt.clientWidth,it?it.scrollWidth:0,it?it.clientWidth:0),at=max$4(rt.scrollHeight,rt.clientHeight,it?it.scrollHeight:0,it?it.clientHeight:0),st=-nt.scrollLeft+getWindowScrollBarX(tt),lt=-nt.scrollTop;return getComputedStyle(it||rt).direction==="rtl"&&(st+=max$4(rt.clientWidth,it?it.clientWidth:0)-ot),{width:ot,height:at,x:st,y:lt}}function isScrollParent(tt){var et=getComputedStyle(tt),rt=et.overflow,nt=et.overflowX,it=et.overflowY;return/auto|scroll|overlay|hidden/.test(rt+it+nt)}function getScrollParent(tt){return["html","body","#document"].indexOf(getNodeName(tt))>=0?tt.ownerDocument.body:isHTMLElement$2(tt)&&isScrollParent(tt)?tt:getScrollParent(getParentNode(tt))}function listScrollParents(tt,et){var rt;et===void 0&&(et=[]);var nt=getScrollParent(tt),it=nt===((rt=tt.ownerDocument)==null?void 0:rt.body),ot=getWindow(nt),at=it?[ot].concat(ot.visualViewport||[],isScrollParent(nt)?nt:[]):nt,st=et.concat(at);return it?st:st.concat(listScrollParents(getParentNode(at)))}function rectToClientRect(tt){return Object.assign({},tt,{left:tt.x,top:tt.y,right:tt.x+tt.width,bottom:tt.y+tt.height})}function getInnerBoundingClientRect(tt,et){var rt=getBoundingClientRect(tt,!1,et==="fixed");return rt.top=rt.top+tt.clientTop,rt.left=rt.left+tt.clientLeft,rt.bottom=rt.top+tt.clientHeight,rt.right=rt.left+tt.clientWidth,rt.width=tt.clientWidth,rt.height=tt.clientHeight,rt.x=rt.left,rt.y=rt.top,rt}function getClientRectFromMixedType(tt,et,rt){return et===viewport?rectToClientRect(getViewportRect(tt,rt)):isElement$1(et)?getInnerBoundingClientRect(et,rt):rectToClientRect(getDocumentRect(getDocumentElement(tt)))}function getClippingParents(tt){var et=listScrollParents(getParentNode(tt)),rt=["absolute","fixed"].indexOf(getComputedStyle(tt).position)>=0,nt=rt&&isHTMLElement$2(tt)?getOffsetParent(tt):tt;return isElement$1(nt)?et.filter(function(it){return isElement$1(it)&&contains(it,nt)&&getNodeName(it)!=="body"}):[]}function getClippingRect(tt,et,rt,nt){var it=et==="clippingParents"?getClippingParents(tt):[].concat(et),ot=[].concat(it,[rt]),at=ot[0],st=ot.reduce(function(lt,ct){var ut=getClientRectFromMixedType(tt,ct,nt);return lt.top=max$4(ut.top,lt.top),lt.right=min$5(ut.right,lt.right),lt.bottom=min$5(ut.bottom,lt.bottom),lt.left=max$4(ut.left,lt.left),lt},getClientRectFromMixedType(tt,at,nt));return st.width=st.right-st.left,st.height=st.bottom-st.top,st.x=st.left,st.y=st.top,st}function computeOffsets(tt){var et=tt.reference,rt=tt.element,nt=tt.placement,it=nt?getBasePlacement(nt):null,ot=nt?getVariation(nt):null,at=et.x+et.width/2-rt.width/2,st=et.y+et.height/2-rt.height/2,lt;switch(it){case top:lt={x:at,y:et.y-rt.height};break;case bottom:lt={x:at,y:et.y+et.height};break;case right:lt={x:et.x+et.width,y:st};break;case left:lt={x:et.x-rt.width,y:st};break;default:lt={x:et.x,y:et.y}}var ct=it?getMainAxisFromPlacement(it):null;if(ct!=null){var ut=ct==="y"?"height":"width";switch(ot){case start$2:lt[ct]=lt[ct]-(et[ut]/2-rt[ut]/2);break;case end$1:lt[ct]=lt[ct]+(et[ut]/2-rt[ut]/2);break}}return lt}function detectOverflow(tt,et){et===void 0&&(et={});var rt=et,nt=rt.placement,it=nt===void 0?tt.placement:nt,ot=rt.strategy,at=ot===void 0?tt.strategy:ot,st=rt.boundary,lt=st===void 0?clippingParents:st,ct=rt.rootBoundary,ut=ct===void 0?viewport:ct,dt=rt.elementContext,ft=dt===void 0?popper:dt,pt=rt.altBoundary,mt=pt===void 0?!1:pt,ht=rt.padding,gt=ht===void 0?0:ht,vt=mergePaddingObject(typeof gt!="number"?gt:expandToHashMap(gt,basePlacements)),yt=ft===popper?reference:popper,bt=tt.rects.popper,xt=tt.elements[mt?yt:ft],$t=getClippingRect(isElement$1(xt)?xt:xt.contextElement||getDocumentElement(tt.elements.popper),lt,ut,at),Tt=getBoundingClientRect(tt.elements.reference),wt=computeOffsets({reference:Tt,element:bt,strategy:"absolute",placement:it}),At=rectToClientRect(Object.assign({},bt,wt)),Rt=ft===popper?At:Tt,It={top:$t.top-Rt.top+vt.top,bottom:Rt.bottom-$t.bottom+vt.bottom,left:$t.left-Rt.left+vt.left,right:Rt.right-$t.right+vt.right},Lt=tt.modifiersData.offset;if(ft===popper&&Lt){var Pt=Lt[it];Object.keys(It).forEach(function(Nt){var Ot=[right,bottom].indexOf(Nt)>=0?1:-1,Bt=[top,bottom].indexOf(Nt)>=0?"y":"x";It[Nt]+=Pt[Bt]*Ot})}return It}function computeAutoPlacement(tt,et){et===void 0&&(et={});var rt=et,nt=rt.placement,it=rt.boundary,ot=rt.rootBoundary,at=rt.padding,st=rt.flipVariations,lt=rt.allowedAutoPlacements,ct=lt===void 0?placements:lt,ut=getVariation(nt),dt=ut?st?variationPlacements:variationPlacements.filter(function(mt){return getVariation(mt)===ut}):basePlacements,ft=dt.filter(function(mt){return ct.indexOf(mt)>=0});ft.length===0&&(ft=dt);var pt=ft.reduce(function(mt,ht){return mt[ht]=detectOverflow(tt,{placement:ht,boundary:it,rootBoundary:ot,padding:at})[getBasePlacement(ht)],mt},{});return Object.keys(pt).sort(function(mt,ht){return pt[mt]-pt[ht]})}function getExpandedFallbackPlacements(tt){if(getBasePlacement(tt)===auto)return[];var et=getOppositePlacement(tt);return[getOppositeVariationPlacement(tt),et,getOppositeVariationPlacement(et)]}function flip$1(tt){var et=tt.state,rt=tt.options,nt=tt.name;if(!et.modifiersData[nt]._skip){for(var it=rt.mainAxis,ot=it===void 0?!0:it,at=rt.altAxis,st=at===void 0?!0:at,lt=rt.fallbackPlacements,ct=rt.padding,ut=rt.boundary,dt=rt.rootBoundary,ft=rt.altBoundary,pt=rt.flipVariations,mt=pt===void 0?!0:pt,ht=rt.allowedAutoPlacements,gt=et.options.placement,vt=getBasePlacement(gt),yt=vt===gt,bt=lt||(yt||!mt?[getOppositePlacement(gt)]:getExpandedFallbackPlacements(gt)),xt=[gt].concat(bt).reduce(function(Kt,ir){return Kt.concat(getBasePlacement(ir)===auto?computeAutoPlacement(et,{placement:ir,boundary:ut,rootBoundary:dt,padding:ct,flipVariations:mt,allowedAutoPlacements:ht}):ir)},[]),$t=et.rects.reference,Tt=et.rects.popper,wt=new Map,At=!0,Rt=xt[0],It=0;It<xt.length;It++){var Lt=xt[It],Pt=getBasePlacement(Lt),Nt=getVariation(Lt)===start$2,Ot=[top,bottom].indexOf(Pt)>=0,Bt=Ot?"width":"height",zt=detectOverflow(et,{placement:Lt,boundary:ut,rootBoundary:dt,altBoundary:ft,padding:ct}),Vt=Ot?Nt?right:left:Nt?bottom:top;$t[Bt]>Tt[Bt]&&(Vt=getOppositePlacement(Vt));var Ut=getOppositePlacement(Vt),jt=[];if(ot&&jt.push(zt[Pt]<=0),st&&jt.push(zt[Vt]<=0,zt[Ut]<=0),jt.every(function(Kt){return Kt})){Rt=Lt,At=!1;break}wt.set(Lt,jt)}if(At)for(var qt=mt?3:1,Dt=function(ir){var rr=xt.find(function(mr){var sr=wt.get(mr);if(sr)return sr.slice(0,ir).every(function(fr){return fr})});if(rr)return Rt=rr,"break"},Ft=qt;Ft>0;Ft--){var Zt=Dt(Ft);if(Zt==="break")break}et.placement!==Rt&&(et.modifiersData[nt]._skip=!0,et.placement=Rt,et.reset=!0)}}const flip$2={name:"flip",enabled:!0,phase:"main",fn:flip$1,requiresIfExists:["offset"],data:{_skip:!1}};function getSideOffsets(tt,et,rt){return rt===void 0&&(rt={x:0,y:0}),{top:tt.top-et.height-rt.y,right:tt.right-et.width+rt.x,bottom:tt.bottom-et.height+rt.y,left:tt.left-et.width-rt.x}}function isAnySideFullyClipped(tt){return[top,right,bottom,left].some(function(et){return tt[et]>=0})}function hide(tt){var et=tt.state,rt=tt.name,nt=et.rects.reference,it=et.rects.popper,ot=et.modifiersData.preventOverflow,at=detectOverflow(et,{elementContext:"reference"}),st=detectOverflow(et,{altBoundary:!0}),lt=getSideOffsets(at,nt),ct=getSideOffsets(st,it,ot),ut=isAnySideFullyClipped(lt),dt=isAnySideFullyClipped(ct);et.modifiersData[rt]={referenceClippingOffsets:lt,popperEscapeOffsets:ct,isReferenceHidden:ut,hasPopperEscaped:dt},et.attributes.popper=Object.assign({},et.attributes.popper,{"data-popper-reference-hidden":ut,"data-popper-escaped":dt})}const hide$1={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:hide};function distanceAndSkiddingToXY(tt,et,rt){var nt=getBasePlacement(tt),it=[left,top].indexOf(nt)>=0?-1:1,ot=typeof rt=="function"?rt(Object.assign({},et,{placement:tt})):rt,at=ot[0],st=ot[1];return at=at||0,st=(st||0)*it,[left,right].indexOf(nt)>=0?{x:st,y:at}:{x:at,y:st}}function offset(tt){var et=tt.state,rt=tt.options,nt=tt.name,it=rt.offset,ot=it===void 0?[0,0]:it,at=placements.reduce(function(ut,dt){return ut[dt]=distanceAndSkiddingToXY(dt,et.rects,ot),ut},{}),st=at[et.placement],lt=st.x,ct=st.y;et.modifiersData.popperOffsets!=null&&(et.modifiersData.popperOffsets.x+=lt,et.modifiersData.popperOffsets.y+=ct),et.modifiersData[nt]=at}const offset$1={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:offset};function popperOffsets(tt){var et=tt.state,rt=tt.name;et.modifiersData[rt]=computeOffsets({reference:et.rects.reference,element:et.rects.popper,strategy:"absolute",placement:et.placement})}const popperOffsets$1={name:"popperOffsets",enabled:!0,phase:"read",fn:popperOffsets,data:{}};function getAltAxis(tt){return tt==="x"?"y":"x"}function preventOverflow(tt){var et=tt.state,rt=tt.options,nt=tt.name,it=rt.mainAxis,ot=it===void 0?!0:it,at=rt.altAxis,st=at===void 0?!1:at,lt=rt.boundary,ct=rt.rootBoundary,ut=rt.altBoundary,dt=rt.padding,ft=rt.tether,pt=ft===void 0?!0:ft,mt=rt.tetherOffset,ht=mt===void 0?0:mt,gt=detectOverflow(et,{boundary:lt,rootBoundary:ct,padding:dt,altBoundary:ut}),vt=getBasePlacement(et.placement),yt=getVariation(et.placement),bt=!yt,xt=getMainAxisFromPlacement(vt),$t=getAltAxis(xt),Tt=et.modifiersData.popperOffsets,wt=et.rects.reference,At=et.rects.popper,Rt=typeof ht=="function"?ht(Object.assign({},et.rects,{placement:et.placement})):ht,It=typeof Rt=="number"?{mainAxis:Rt,altAxis:Rt}:Object.assign({mainAxis:0,altAxis:0},Rt),Lt=et.modifiersData.offset?et.modifiersData.offset[et.placement]:null,Pt={x:0,y:0};if(Tt){if(ot){var Nt,Ot=xt==="y"?top:left,Bt=xt==="y"?bottom:right,zt=xt==="y"?"height":"width",Vt=Tt[xt],Ut=Vt+gt[Ot],jt=Vt-gt[Bt],qt=pt?-At[zt]/2:0,Dt=yt===start$2?wt[zt]:At[zt],Ft=yt===start$2?-At[zt]:-wt[zt],Zt=et.elements.arrow,Kt=pt&&Zt?getLayoutRect(Zt):{width:0,height:0},ir=et.modifiersData["arrow#persistent"]?et.modifiersData["arrow#persistent"].padding:getFreshSideObject(),rr=ir[Ot],mr=ir[Bt],sr=within(0,wt[zt],Kt[zt]),fr=bt?wt[zt]/2-qt-sr-rr-It.mainAxis:Dt-sr-rr-It.mainAxis,pr=bt?-wt[zt]/2+qt+sr+mr+It.mainAxis:Ft+sr+mr+It.mainAxis,vr=et.elements.arrow&&getOffsetParent(et.elements.arrow),dr=vr?xt==="y"?vr.clientTop||0:vr.clientLeft||0:0,xr=(Nt=Lt==null?void 0:Lt[xt])!=null?Nt:0,Gt=Vt+fr-xr-dr,Wt=Vt+pr-xr,nr=within(pt?min$5(Ut,Gt):Ut,Vt,pt?max$4(jt,Wt):jt);Tt[xt]=nr,Pt[xt]=nr-Vt}if(st){var Qt,Jt=xt==="x"?top:left,ar=xt==="x"?bottom:right,cr=Tt[$t],lr=$t==="y"?"height":"width",Yt=cr+gt[Jt],Xt=cr-gt[ar],tr=[top,left].indexOf(vt)!==-1,or=(Qt=Lt==null?void 0:Lt[$t])!=null?Qt:0,br=tr?Yt:cr-wt[lr]-At[lr]-or+It.altAxis,Sr=tr?cr+wt[lr]+At[lr]-or-It.altAxis:Xt,yr=pt&&tr?withinMaxClamp(br,cr,Sr):within(pt?br:Yt,cr,pt?Sr:Xt);Tt[$t]=yr,Pt[$t]=yr-cr}et.modifiersData[nt]=Pt}}const preventOverflow$1={name:"preventOverflow",enabled:!0,phase:"main",fn:preventOverflow,requiresIfExists:["offset"]};function getHTMLElementScroll(tt){return{scrollLeft:tt.scrollLeft,scrollTop:tt.scrollTop}}function getNodeScroll(tt){return tt===getWindow(tt)||!isHTMLElement$2(tt)?getWindowScroll(tt):getHTMLElementScroll(tt)}function isElementScaled(tt){var et=tt.getBoundingClientRect(),rt=round$2(et.width)/tt.offsetWidth||1,nt=round$2(et.height)/tt.offsetHeight||1;return rt!==1||nt!==1}function getCompositeRect(tt,et,rt){rt===void 0&&(rt=!1);var nt=isHTMLElement$2(et),it=isHTMLElement$2(et)&&isElementScaled(et),ot=getDocumentElement(et),at=getBoundingClientRect(tt,it,rt),st={scrollLeft:0,scrollTop:0},lt={x:0,y:0};return(nt||!nt&&!rt)&&((getNodeName(et)!=="body"||isScrollParent(ot))&&(st=getNodeScroll(et)),isHTMLElement$2(et)?(lt=getBoundingClientRect(et,!0),lt.x+=et.clientLeft,lt.y+=et.clientTop):ot&&(lt.x=getWindowScrollBarX(ot))),{x:at.left+st.scrollLeft-lt.x,y:at.top+st.scrollTop-lt.y,width:at.width,height:at.height}}function order(tt){var et=new Map,rt=new Set,nt=[];tt.forEach(function(ot){et.set(ot.name,ot)});function it(ot){rt.add(ot.name);var at=[].concat(ot.requires||[],ot.requiresIfExists||[]);at.forEach(function(st){if(!rt.has(st)){var lt=et.get(st);lt&&it(lt)}}),nt.push(ot)}return tt.forEach(function(ot){rt.has(ot.name)||it(ot)}),nt}function orderModifiers(tt){var et=order(tt);return modifierPhases.reduce(function(rt,nt){return rt.concat(et.filter(function(it){return it.phase===nt}))},[])}function debounce$3(tt){var et;return function(){return et||(et=new Promise(function(rt){Promise.resolve().then(function(){et=void 0,rt(tt())})})),et}}function mergeByName(tt){var et=tt.reduce(function(rt,nt){var it=rt[nt.name];return rt[nt.name]=it?Object.assign({},it,nt,{options:Object.assign({},it.options,nt.options),data:Object.assign({},it.data,nt.data)}):nt,rt},{});return Object.keys(et).map(function(rt){return et[rt]})}var DEFAULT_OPTIONS={placement:"bottom",modifiers:[],strategy:"absolute"};function areValidElements(){for(var tt=arguments.length,et=new Array(tt),rt=0;rt<tt;rt++)et[rt]=arguments[rt];return!et.some(function(nt){return!(nt&&typeof nt.getBoundingClientRect=="function")})}function popperGenerator(tt){tt===void 0&&(tt={});var et=tt,rt=et.defaultModifiers,nt=rt===void 0?[]:rt,it=et.defaultOptions,ot=it===void 0?DEFAULT_OPTIONS:it;return function(st,lt,ct){ct===void 0&&(ct=ot);var ut={placement:"bottom",orderedModifiers:[],options:Object.assign({},DEFAULT_OPTIONS,ot),modifiersData:{},elements:{reference:st,popper:lt},attributes:{},styles:{}},dt=[],ft=!1,pt={state:ut,setOptions:function(vt){var yt=typeof vt=="function"?vt(ut.options):vt;ht(),ut.options=Object.assign({},ot,ut.options,yt),ut.scrollParents={reference:isElement$1(st)?listScrollParents(st):st.contextElement?listScrollParents(st.contextElement):[],popper:listScrollParents(lt)};var bt=orderModifiers(mergeByName([].concat(nt,ut.options.modifiers)));return ut.orderedModifiers=bt.filter(function(xt){return xt.enabled}),mt(),pt.update()},forceUpdate:function(){if(!ft){var vt=ut.elements,yt=vt.reference,bt=vt.popper;if(areValidElements(yt,bt)){ut.rects={reference:getCompositeRect(yt,getOffsetParent(bt),ut.options.strategy==="fixed"),popper:getLayoutRect(bt)},ut.reset=!1,ut.placement=ut.options.placement,ut.orderedModifiers.forEach(function(It){return ut.modifiersData[It.name]=Object.assign({},It.data)});for(var xt=0;xt<ut.orderedModifiers.length;xt++){if(ut.reset===!0){ut.reset=!1,xt=-1;continue}var $t=ut.orderedModifiers[xt],Tt=$t.fn,wt=$t.options,At=wt===void 0?{}:wt,Rt=$t.name;typeof Tt=="function"&&(ut=Tt({state:ut,options:At,name:Rt,instance:pt})||ut)}}}},update:debounce$3(function(){return new Promise(function(gt){pt.forceUpdate(),gt(ut)})}),destroy:function(){ht(),ft=!0}};if(!areValidElements(st,lt))return pt;pt.setOptions(ct).then(function(gt){!ft&&ct.onFirstUpdate&&ct.onFirstUpdate(gt)});function mt(){ut.orderedModifiers.forEach(function(gt){var vt=gt.name,yt=gt.options,bt=yt===void 0?{}:yt,xt=gt.effect;if(typeof xt=="function"){var $t=xt({state:ut,name:vt,instance:pt,options:bt}),Tt=function(){};dt.push($t||Tt)}})}function ht(){dt.forEach(function(gt){return gt()}),dt=[]}return pt}}var defaultModifiers=[eventListeners,popperOffsets$1,computeStyles$1,applyStyles$1,offset$1,flip$2,preventOverflow$1,arrow$1,hide$1],createPopper=popperGenerator({defaultModifiers});function getContainer$2(tt){return typeof tt=="function"?tt():tt}const Portal$1=reactExports.forwardRef(function(et,rt){const{children:nt,container:it,disablePortal:ot=!1}=et,[at,st]=reactExports.useState(null),lt=useForkRef(reactExports.isValidElement(nt)?nt.ref:null,rt);if(useEnhancedEffect$1(()=>{ot||st(getContainer$2(it)||document.body)},[it,ot]),useEnhancedEffect$1(()=>{if(at&&!ot)return setRef(rt,at),()=>{setRef(rt,null)}},[rt,at,ot]),ot){if(reactExports.isValidElement(nt)){const ct={ref:lt};return reactExports.cloneElement(nt,ct)}return jsx$1(reactExports.Fragment,{children:nt})}return jsx$1(reactExports.Fragment,{children:at&&reactDomExports.createPortal(nt,at)})}),Portal$2=Portal$1;function getPopperUnstyledUtilityClass(tt){return generateUtilityClass("MuiPopperUnstyled",tt)}generateUtilityClasses("MuiPopperUnstyled",["root"]);const _excluded$1p=["anchorEl","children","component","direction","disablePortal","modifiers","open","ownerState","placement","popperOptions","popperRef","slotProps","slots","TransitionProps"],_excluded2$7=["anchorEl","children","container","direction","disablePortal","keepMounted","modifiers","open","placement","popperOptions","popperRef","style","transition","slotProps","slots"];function flipPlacement(tt,et){if(et==="ltr")return tt;switch(tt){case"bottom-end":return"bottom-start";case"bottom-start":return"bottom-end";case"top-end":return"top-start";case"top-start":return"top-end";default:return tt}}function resolveAnchorEl$1(tt){return typeof tt=="function"?tt():tt}function isHTMLElement$1(tt){return tt.nodeType!==void 0}const useUtilityClasses$15=()=>composeClasses({root:["root"]},getPopperUnstyledUtilityClass,{}),defaultPopperOptions={},PopperTooltip=reactExports.forwardRef(function(et,rt){var nt;const{anchorEl:it,children:ot,component:at,direction:st,disablePortal:lt,modifiers:ct,open:ut,ownerState:dt,placement:ft,popperOptions:pt,popperRef:mt,slotProps:ht={},slots:gt={},TransitionProps:vt}=et,yt=_objectWithoutPropertiesLoose$4(et,_excluded$1p),bt=reactExports.useRef(null),xt=useForkRef(bt,rt),$t=reactExports.useRef(null),Tt=useForkRef($t,mt),wt=reactExports.useRef(Tt);useEnhancedEffect$1(()=>{wt.current=Tt},[Tt]),reactExports.useImperativeHandle(mt,()=>$t.current,[]);const At=flipPlacement(ft,st),[Rt,It]=reactExports.useState(At),[Lt,Pt]=reactExports.useState(resolveAnchorEl$1(it));reactExports.useEffect(()=>{$t.current&&$t.current.forceUpdate()}),reactExports.useEffect(()=>{it&&Pt(resolveAnchorEl$1(it))},[it]),useEnhancedEffect$1(()=>{if(!Lt||!ut)return;const Vt=qt=>{It(qt.placement)};let Ut=[{name:"preventOverflow",options:{altBoundary:lt}},{name:"flip",options:{altBoundary:lt}},{name:"onUpdate",enabled:!0,phase:"afterWrite",fn:({state:qt})=>{Vt(qt)}}];ct!=null&&(Ut=Ut.concat(ct)),pt&&pt.modifiers!=null&&(Ut=Ut.concat(pt.modifiers));const jt=createPopper(Lt,bt.current,_extends$n({placement:At},pt,{modifiers:Ut}));return wt.current(jt),()=>{jt.destroy(),wt.current(null)}},[Lt,lt,ct,ut,pt,At]);const Nt={placement:Rt};vt!==null&&(Nt.TransitionProps=vt);const Ot=useUtilityClasses$15(),Bt=(nt=at??gt.root)!=null?nt:"div",zt=useSlotProps({elementType:Bt,externalSlotProps:ht.root,externalForwardedProps:yt,additionalProps:{role:"tooltip",ref:xt},ownerState:_extends$n({},et,dt),className:Ot.root});return jsx$1(Bt,_extends$n({},zt,{children:typeof ot=="function"?ot(Nt):ot}))}),PopperUnstyled=reactExports.forwardRef(function(et,rt){const{anchorEl:nt,children:it,container:ot,direction:at="ltr",disablePortal:st=!1,keepMounted:lt=!1,modifiers:ct,open:ut,placement:dt="bottom",popperOptions:ft=defaultPopperOptions,popperRef:pt,style:mt,transition:ht=!1,slotProps:gt={},slots:vt={}}=et,yt=_objectWithoutPropertiesLoose$4(et,_excluded2$7),[bt,xt]=reactExports.useState(!0),$t=()=>{xt(!1)},Tt=()=>{xt(!0)};if(!lt&&!ut&&(!ht||bt))return null;let wt;if(ot)wt=ot;else if(nt){const It=resolveAnchorEl$1(nt);wt=It&&isHTMLElement$1(It)?ownerDocument(It).body:ownerDocument(null).body}const At=!ut&&lt&&(!ht||bt)?"none":void 0,Rt=ht?{in:ut,onEnter:$t,onExited:Tt}:void 0;return jsx$1(Portal$2,{disablePortal:st,container:wt,children:jsx$1(PopperTooltip,_extends$n({anchorEl:nt,direction:at,disablePortal:st,modifiers:ct,ref:rt,open:ht?!bt:ut,placement:dt,popperOptions:ft,popperRef:pt,slotProps:gt,slots:vt},yt,{style:_extends$n({position:"fixed",top:0,left:0,display:At},mt),TransitionProps:Rt,children:it}))})}),PopperUnstyled$1=PopperUnstyled;function isOverflowing(tt){const et=ownerDocument(tt);return et.body===tt?ownerWindow(tt).innerWidth>et.documentElement.clientWidth:tt.scrollHeight>tt.clientHeight}function ariaHidden(tt,et){et?tt.setAttribute("aria-hidden","true"):tt.removeAttribute("aria-hidden")}function getPaddingRight(tt){return parseInt(ownerWindow(tt).getComputedStyle(tt).paddingRight,10)||0}function isAriaHiddenForbiddenOnElement(tt){const rt=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].indexOf(tt.tagName)!==-1,nt=tt.tagName==="INPUT"&&tt.getAttribute("type")==="hidden";return rt||nt}function ariaHiddenSiblings(tt,et,rt,nt,it){const ot=[et,rt,...nt];[].forEach.call(tt.children,at=>{const st=ot.indexOf(at)===-1,lt=!isAriaHiddenForbiddenOnElement(at);st&&lt&&ariaHidden(at,it)})}function findIndexOf(tt,et){let rt=-1;return tt.some((nt,it)=>et(nt)?(rt=it,!0):!1),rt}function handleContainer(tt,et){const rt=[],nt=tt.container;if(!et.disableScrollLock){if(isOverflowing(nt)){const at=getScrollbarSize(ownerDocument(nt));rt.push({value:nt.style.paddingRight,property:"padding-right",el:nt}),nt.style.paddingRight=`${getPaddingRight(nt)+at}px`;const st=ownerDocument(nt).querySelectorAll(".mui-fixed");[].forEach.call(st,lt=>{rt.push({value:lt.style.paddingRight,property:"padding-right",el:lt}),lt.style.paddingRight=`${getPaddingRight(lt)+at}px`})}let ot;if(nt.parentNode instanceof DocumentFragment)ot=ownerDocument(nt).body;else{const at=nt.parentElement,st=ownerWindow(nt);ot=(at==null?void 0:at.nodeName)==="HTML"&&st.getComputedStyle(at).overflowY==="scroll"?at:nt}rt.push({value:ot.style.overflow,property:"overflow",el:ot},{value:ot.style.overflowX,property:"overflow-x",el:ot},{value:ot.style.overflowY,property:"overflow-y",el:ot}),ot.style.overflow="hidden"}return()=>{rt.forEach(({value:ot,el:at,property:st})=>{ot?at.style.setProperty(st,ot):at.style.removeProperty(st)})}}function getHiddenSiblings(tt){const et=[];return[].forEach.call(tt.children,rt=>{rt.getAttribute("aria-hidden")==="true"&&et.push(rt)}),et}class ModalManager{constructor(){this.containers=void 0,this.modals=void 0,this.modals=[],this.containers=[]}add(et,rt){let nt=this.modals.indexOf(et);if(nt!==-1)return nt;nt=this.modals.length,this.modals.push(et),et.modalRef&&ariaHidden(et.modalRef,!1);const it=getHiddenSiblings(rt);ariaHiddenSiblings(rt,et.mount,et.modalRef,it,!0);const ot=findIndexOf(this.containers,at=>at.container===rt);return ot!==-1?(this.containers[ot].modals.push(et),nt):(this.containers.push({modals:[et],container:rt,restore:null,hiddenSiblings:it}),nt)}mount(et,rt){const nt=findIndexOf(this.containers,ot=>ot.modals.indexOf(et)!==-1),it=this.containers[nt];it.restore||(it.restore=handleContainer(it,rt))}remove(et,rt=!0){const nt=this.modals.indexOf(et);if(nt===-1)return nt;const it=findIndexOf(this.containers,at=>at.modals.indexOf(et)!==-1),ot=this.containers[it];if(ot.modals.splice(ot.modals.indexOf(et),1),this.modals.splice(nt,1),ot.modals.length===0)ot.restore&&ot.restore(),et.modalRef&&ariaHidden(et.modalRef,rt),ariaHiddenSiblings(ot.container,et.mount,et.modalRef,ot.hiddenSiblings,!1),this.containers.splice(it,1);else{const at=ot.modals[ot.modals.length-1];at.modalRef&&ariaHidden(at.modalRef,!1)}return nt}isTopModal(et){return this.modals.length>0&&this.modals[this.modals.length-1]===et}}function getModalUtilityClass(tt){return generateUtilityClass("MuiModal",tt)}generateUtilityClasses("MuiModal",["root","hidden"]);const _excluded$1o=["children","classes","closeAfterTransition","component","container","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","manager","onBackdropClick","onClose","onKeyDown","open","onTransitionEnter","onTransitionExited","slotProps","slots"],useUtilityClasses$14=tt=>{const{open:et,exited:rt,classes:nt}=tt;return composeClasses({root:["root",!et&&rt&&"hidden"],backdrop:["backdrop"]},getModalUtilityClass,nt)};function getContainer$1(tt){return typeof tt=="function"?tt():tt}function getHasTransition(tt){return tt?tt.props.hasOwnProperty("in"):!1}const defaultManager=new ModalManager,ModalUnstyled=reactExports.forwardRef(function(et,rt){var nt,it;const{children:ot,classes:at,closeAfterTransition:st=!1,component:lt,container:ct,disableAutoFocus:ut=!1,disableEnforceFocus:dt=!1,disableEscapeKeyDown:ft=!1,disablePortal:pt=!1,disableRestoreFocus:mt=!1,disableScrollLock:ht=!1,hideBackdrop:gt=!1,keepMounted:vt=!1,manager:yt=defaultManager,onBackdropClick:bt,onClose:xt,onKeyDown:$t,open:Tt,onTransitionEnter:wt,onTransitionExited:At,slotProps:Rt={},slots:It={}}=et,Lt=_objectWithoutPropertiesLoose$4(et,_excluded$1o),[Pt,Nt]=reactExports.useState(!Tt),Ot=reactExports.useRef({}),Bt=reactExports.useRef(null),zt=reactExports.useRef(null),Vt=useForkRef(zt,rt),Ut=getHasTransition(ot),jt=(nt=et["aria-hidden"])!=null?nt:!0,qt=()=>ownerDocument(Bt.current),Dt=()=>(Ot.current.modalRef=zt.current,Ot.current.mountNode=Bt.current,Ot.current),Ft=()=>{yt.mount(Dt(),{disableScrollLock:ht}),zt.current&&(zt.current.scrollTop=0)},Zt=useEventCallback(()=>{const Jt=getContainer$1(ct)||qt().body;yt.add(Dt(),Jt),zt.current&&Ft()}),Kt=reactExports.useCallback(()=>yt.isTopModal(Dt()),[yt]),ir=useEventCallback(Jt=>{Bt.current=Jt,!(!Jt||!zt.current)&&(Tt&&Kt()?Ft():ariaHidden(zt.current,jt))}),rr=reactExports.useCallback(()=>{yt.remove(Dt(),jt)},[yt,jt]);reactExports.useEffect(()=>()=>{rr()},[rr]),reactExports.useEffect(()=>{Tt?Zt():(!Ut||!st)&&rr()},[Tt,rr,Ut,st,Zt]);const mr=_extends$n({},et,{classes:at,closeAfterTransition:st,disableAutoFocus:ut,disableEnforceFocus:dt,disableEscapeKeyDown:ft,disablePortal:pt,disableRestoreFocus:mt,disableScrollLock:ht,exited:Pt,hideBackdrop:gt,keepMounted:vt}),sr=useUtilityClasses$14(mr),fr=()=>{Nt(!1),wt&&wt()},pr=()=>{Nt(!0),At&&At(),st&&rr()},vr=Jt=>{Jt.target===Jt.currentTarget&&(bt&&bt(Jt),xt&&xt(Jt,"backdropClick"))},dr=Jt=>{$t&&$t(Jt),!(Jt.key!=="Escape"||!Kt())&&(ft||(Jt.stopPropagation(),xt&&xt(Jt,"escapeKeyDown")))},xr={};ot.props.tabIndex===void 0&&(xr.tabIndex="-1"),Ut&&(xr.onEnter=createChainedFunction(fr,ot.props.onEnter),xr.onExited=createChainedFunction(pr,ot.props.onExited));const Gt=(it=lt??It.root)!=null?it:"div",Wt=useSlotProps({elementType:Gt,externalSlotProps:Rt.root,externalForwardedProps:Lt,additionalProps:{ref:Vt,role:"presentation",onKeyDown:dr},className:sr.root,ownerState:mr}),nr=It.backdrop,Qt=useSlotProps({elementType:nr,externalSlotProps:Rt.backdrop,additionalProps:{"aria-hidden":!0,onClick:vr,open:Tt},className:sr.backdrop,ownerState:mr});return!vt&&!Tt&&(!Ut||Pt)?null:jsx$1(Portal$2,{ref:ir,container:ct,disablePortal:pt,children:jsxs$1(Gt,_extends$n({},Wt,{children:[!gt&&nr?jsx$1(nr,_extends$n({},Qt)):null,jsx$1(FocusTrap,{disableEnforceFocus:dt,disableAutoFocus:ut,disableRestoreFocus:mt,isEnabled:Kt,open:Tt,children:reactExports.cloneElement(ot,xr)})]}))})}),ModalUnstyled$1=ModalUnstyled,INTENTIONAL_DRAG_COUNT_THRESHOLD=2;function asc(tt,et){return tt-et}function clamp$3(tt,et,rt){return tt==null?et:Math.min(Math.max(et,tt),rt)}function findClosest(tt,et){var rt;const{index:nt}=(rt=tt.reduce((it,ot,at)=>{const st=Math.abs(et-ot);return it===null||st<it.distance||st===it.distance?{distance:st,index:at}:it},null))!=null?rt:{};return nt}function trackFinger(tt,et){if(et.current!==void 0&&tt.changedTouches){const rt=tt;for(let nt=0;nt<rt.changedTouches.length;nt+=1){const it=rt.changedTouches[nt];if(it.identifier===et.current)return{x:it.clientX,y:it.clientY}}return!1}return{x:tt.clientX,y:tt.clientY}}function valueToPercent$1(tt,et,rt){return(tt-et)*100/(rt-et)}function percentToValue(tt,et,rt){return(rt-et)*tt+et}function getDecimalPrecision(tt){if(Math.abs(tt)<1){const rt=tt.toExponential().split("e-"),nt=rt[0].split(".")[1];return(nt?nt.length:0)+parseInt(rt[1],10)}const et=tt.toString().split(".")[1];return et?et.length:0}function roundValueToStep(tt,et,rt){const nt=Math.round((tt-rt)/et)*et+rt;return Number(nt.toFixed(getDecimalPrecision(et)))}function setValueIndex({values:tt,newValue:et,index:rt}){const nt=tt.slice();return nt[rt]=et,nt.sort(asc)}function focusThumb({sliderRef:tt,activeIndex:et,setActive:rt}){var nt,it;const ot=ownerDocument(tt.current);if(!((nt=tt.current)!=null&&nt.contains(ot.activeElement))||Number(ot==null||(it=ot.activeElement)==null?void 0:it.getAttribute("data-index"))!==et){var at;(at=tt.current)==null||at.querySelector(`[type="range"][data-index="${et}"]`).focus()}rt&&rt(et)}const axisProps={horizontal:{offset:tt=>({left:`${tt}%`}),leap:tt=>({width:`${tt}%`})},"horizontal-reverse":{offset:tt=>({right:`${tt}%`}),leap:tt=>({width:`${tt}%`})},vertical:{offset:tt=>({bottom:`${tt}%`}),leap:tt=>({height:`${tt}%`})}},Identity$1=tt=>tt;let cachedSupportsTouchActionNone;function doesSupportTouchActionNone(){return cachedSupportsTouchActionNone===void 0&&(typeof CSS<"u"&&typeof CSS.supports=="function"?cachedSupportsTouchActionNone=CSS.supports("touch-action","none"):cachedSupportsTouchActionNone=!0),cachedSupportsTouchActionNone}function useSlider(tt){const{"aria-labelledby":et,defaultValue:rt,disabled:nt=!1,disableSwap:it=!1,isRtl:ot=!1,marks:at=!1,max:st=100,min:lt=0,name:ct,onChange:ut,onChangeCommitted:dt,orientation:ft="horizontal",ref:pt,scale:mt=Identity$1,step:ht=1,tabIndex:gt,value:vt}=tt,yt=reactExports.useRef(),[bt,xt]=reactExports.useState(-1),[$t,Tt]=reactExports.useState(-1),[wt,At]=reactExports.useState(!1),Rt=reactExports.useRef(0),[It,Lt]=useControlled({controlled:vt,default:rt??lt,name:"Slider"}),Pt=ut&&((tr,or,br)=>{const Sr=tr.nativeEvent||tr,yr=new Sr.constructor(Sr.type,Sr);Object.defineProperty(yr,"target",{writable:!0,value:{value:or,name:ct}}),ut(yr,or,br)}),Nt=Array.isArray(It);let Ot=Nt?It.slice().sort(asc):[It];Ot=Ot.map(tr=>clamp$3(tr,lt,st));const Bt=at===!0&&ht!==null?[...Array(Math.floor((st-lt)/ht)+1)].map((tr,or)=>({value:lt+ht*or})):at||[],zt=Bt.map(tr=>tr.value),{isFocusVisibleRef:Vt,onBlur:Ut,onFocus:jt,ref:qt}=useIsFocusVisible(),[Dt,Ft]=reactExports.useState(-1),Zt=reactExports.useRef(),Kt=useForkRef(qt,Zt),ir=useForkRef(pt,Kt),rr=tr=>or=>{var br;const Sr=Number(or.currentTarget.getAttribute("data-index"));jt(or),Vt.current===!0&&Ft(Sr),Tt(Sr),tr==null||(br=tr.onFocus)==null||br.call(tr,or)},mr=tr=>or=>{var br;Ut(or),Vt.current===!1&&Ft(-1),Tt(-1),tr==null||(br=tr.onBlur)==null||br.call(tr,or)};useEnhancedEffect$1(()=>{if(nt&&Zt.current.contains(document.activeElement)){var tr;(tr=document.activeElement)==null||tr.blur()}},[nt]),nt&&bt!==-1&&xt(-1),nt&&Dt!==-1&&Ft(-1);const sr=tr=>or=>{var br;(br=tr.onChange)==null||br.call(tr,or);const Sr=Number(or.currentTarget.getAttribute("data-index")),yr=Ot[Sr],hr=zt.indexOf(yr);let $r=or.target.valueAsNumber;if(Bt&&ht==null&&($r=$r<yr?zt[hr-1]:zt[hr+1]),$r=clamp$3($r,lt,st),Bt&&ht==null){const Mr=zt.indexOf(Ot[Sr]);$r=$r<Ot[Sr]?zt[Mr-1]:zt[Mr+1]}if(Nt){it&&($r=clamp$3($r,Ot[Sr-1]||-1/0,Ot[Sr+1]||1/0));const Mr=$r;$r=setValueIndex({values:Ot,newValue:$r,index:Sr});let Ar=Sr;it||(Ar=$r.indexOf(Mr)),focusThumb({sliderRef:Zt,activeIndex:Ar})}Lt($r),Ft(Sr),Pt&&Pt(or,$r,Sr),dt&&dt(or,$r)},fr=reactExports.useRef();let pr=ft;ot&&ft==="horizontal"&&(pr+="-reverse");const vr=({finger:tr,move:or=!1})=>{const{current:br}=Zt,{width:Sr,height:yr,bottom:hr,left:$r}=br.getBoundingClientRect();let Mr;pr.indexOf("vertical")===0?Mr=(hr-tr.y)/yr:Mr=(tr.x-$r)/Sr,pr.indexOf("-reverse")!==-1&&(Mr=1-Mr);let Ar;if(Ar=percentToValue(Mr,lt,st),ht)Ar=roundValueToStep(Ar,ht,lt);else{const zr=findClosest(zt,Ar);Ar=zt[zr]}Ar=clamp$3(Ar,lt,st);let Fr=0;if(Nt){or?Fr=fr.current:Fr=findClosest(Ot,Ar),it&&(Ar=clamp$3(Ar,Ot[Fr-1]||-1/0,Ot[Fr+1]||1/0));const zr=Ar;Ar=setValueIndex({values:Ot,newValue:Ar,index:Fr}),it&&or||(Fr=Ar.indexOf(zr),fr.current=Fr)}return{newValue:Ar,activeIndex:Fr}},dr=useEventCallback(tr=>{const or=trackFinger(tr,yt);if(!or)return;if(Rt.current+=1,tr.type==="mousemove"&&tr.buttons===0){xr(tr);return}const{newValue:br,activeIndex:Sr}=vr({finger:or,move:!0});focusThumb({sliderRef:Zt,activeIndex:Sr,setActive:xt}),Lt(br),!wt&&Rt.current>INTENTIONAL_DRAG_COUNT_THRESHOLD&&At(!0),Pt&&br!==It&&Pt(tr,br,Sr)}),xr=useEventCallback(tr=>{const or=trackFinger(tr,yt);if(At(!1),!or)return;const{newValue:br}=vr({finger:or,move:!0});xt(-1),tr.type==="touchend"&&Tt(-1),dt&&dt(tr,br),yt.current=void 0,Wt()}),Gt=useEventCallback(tr=>{if(nt)return;doesSupportTouchActionNone()||tr.preventDefault();const or=tr.changedTouches[0];or!=null&&(yt.current=or.identifier);const br=trackFinger(tr,yt);if(br!==!1){const{newValue:yr,activeIndex:hr}=vr({finger:br});focusThumb({sliderRef:Zt,activeIndex:hr,setActive:xt}),Lt(yr),Pt&&Pt(tr,yr,hr)}Rt.current=0;const Sr=ownerDocument(Zt.current);Sr.addEventListener("touchmove",dr),Sr.addEventListener("touchend",xr)}),Wt=reactExports.useCallback(()=>{const tr=ownerDocument(Zt.current);tr.removeEventListener("mousemove",dr),tr.removeEventListener("mouseup",xr),tr.removeEventListener("touchmove",dr),tr.removeEventListener("touchend",xr)},[xr,dr]);reactExports.useEffect(()=>{const{current:tr}=Zt;return tr.addEventListener("touchstart",Gt,{passive:doesSupportTouchActionNone()}),()=>{tr.removeEventListener("touchstart",Gt,{passive:doesSupportTouchActionNone()}),Wt()}},[Wt,Gt]),reactExports.useEffect(()=>{nt&&Wt()},[nt,Wt]);const nr=tr=>or=>{var br;if((br=tr.onMouseDown)==null||br.call(tr,or),nt||or.defaultPrevented||or.button!==0)return;or.preventDefault();const Sr=trackFinger(or,yt);if(Sr!==!1){const{newValue:hr,activeIndex:$r}=vr({finger:Sr});focusThumb({sliderRef:Zt,activeIndex:$r,setActive:xt}),Lt(hr),Pt&&Pt(or,hr,$r)}Rt.current=0;const yr=ownerDocument(Zt.current);yr.addEventListener("mousemove",dr),yr.addEventListener("mouseup",xr)},Qt=valueToPercent$1(Nt?Ot[0]:lt,lt,st),Jt=valueToPercent$1(Ot[Ot.length-1],lt,st)-Qt,ar=(tr={})=>{const or={onMouseDown:nr(tr||{})},br=_extends$n({},tr,or);return _extends$n({ref:ir},br)},cr=tr=>or=>{var br;(br=tr.onMouseOver)==null||br.call(tr,or);const Sr=Number(or.currentTarget.getAttribute("data-index"));Tt(Sr)},lr=tr=>or=>{var br;(br=tr.onMouseLeave)==null||br.call(tr,or),Tt(-1)};return{active:bt,axis:pr,axisProps,dragging:wt,focusedThumbIndex:Dt,getHiddenInputProps:(tr={})=>{var or;const br={onChange:sr(tr||{}),onFocus:rr(tr||{}),onBlur:mr(tr||{})},Sr=_extends$n({},tr,br);return _extends$n({tabIndex:gt,"aria-labelledby":et,"aria-orientation":ft,"aria-valuemax":mt(st),"aria-valuemin":mt(lt),name:ct,type:"range",min:tt.min,max:tt.max,step:(or=tt.step)!=null?or:void 0,disabled:nt},Sr,{style:_extends$n({},visuallyHidden$1,{direction:ot?"rtl":"ltr",width:"100%",height:"100%"})})},getRootProps:ar,getThumbProps:(tr={})=>{const or={onMouseOver:cr(tr||{}),onMouseLeave:lr(tr||{})};return _extends$n({},tr,or)},marks:Bt,open:$t,range:Nt,trackLeap:Jt,trackOffset:Qt,values:Ot}}const _excluded$1n=["onChange","maxRows","minRows","style","value"];function getStyleValue(tt,et){return parseInt(tt[et],10)||0}const styles$6={shadow:{visibility:"hidden",position:"absolute",overflow:"hidden",height:0,top:0,left:0,transform:"translateZ(0)"}};function isEmpty$2(tt){return tt==null||Object.keys(tt).length===0}const TextareaAutosize=reactExports.forwardRef(function(et,rt){const{onChange:nt,maxRows:it,minRows:ot=1,style:at,value:st}=et,lt=_objectWithoutPropertiesLoose$4(et,_excluded$1n),{current:ct}=reactExports.useRef(st!=null),ut=reactExports.useRef(null),dt=useForkRef(rt,ut),ft=reactExports.useRef(null),pt=reactExports.useRef(0),[mt,ht]=reactExports.useState({}),gt=reactExports.useCallback(()=>{const $t=ut.current,wt=ownerWindow($t).getComputedStyle($t);if(wt.width==="0px")return{};const At=ft.current;At.style.width=wt.width,At.value=$t.value||et.placeholder||"x",At.value.slice(-1)===`
`&&(At.value+=" ");const Rt=wt["box-sizing"],It=getStyleValue(wt,"padding-bottom")+getStyleValue(wt,"padding-top"),Lt=getStyleValue(wt,"border-bottom-width")+getStyleValue(wt,"border-top-width"),Pt=At.scrollHeight;At.value="x";const Nt=At.scrollHeight;let Ot=Pt;ot&&(Ot=Math.max(Number(ot)*Nt,Ot)),it&&(Ot=Math.min(Number(it)*Nt,Ot)),Ot=Math.max(Ot,Nt);const Bt=Ot+(Rt==="border-box"?It+Lt:0),zt=Math.abs(Ot-Pt)<=1;return{outerHeightStyle:Bt,overflow:zt}},[it,ot,et.placeholder]),vt=($t,Tt)=>{const{outerHeightStyle:wt,overflow:At}=Tt;return pt.current<20&&(wt>0&&Math.abs(($t.outerHeightStyle||0)-wt)>1||$t.overflow!==At)?(pt.current+=1,{overflow:At,outerHeightStyle:wt}):$t},yt=reactExports.useCallback(()=>{const $t=gt();isEmpty$2($t)||ht(Tt=>vt(Tt,$t))},[gt]),bt=()=>{const $t=gt();isEmpty$2($t)||reactDomExports.flushSync(()=>{ht(Tt=>vt(Tt,$t))})};reactExports.useEffect(()=>{const $t=debounce$4(()=>{pt.current=0,ut.current&&bt()}),Tt=ownerWindow(ut.current);Tt.addEventListener("resize",$t);let wt;return typeof ResizeObserver<"u"&&(wt=new ResizeObserver($t),wt.observe(ut.current)),()=>{$t.clear(),Tt.removeEventListener("resize",$t),wt&&wt.disconnect()}}),useEnhancedEffect$1(()=>{yt()}),reactExports.useEffect(()=>{pt.current=0},[st]);const xt=$t=>{pt.current=0,ct||yt(),nt&&nt($t)};return jsxs$1(reactExports.Fragment,{children:[jsx$1("textarea",_extends$n({value:st,onChange:xt,ref:dt,rows:ot,style:_extends$n({height:mt.outerHeightStyle,overflow:mt.overflow?"hidden":null},at)},lt)),jsx$1("textarea",{"aria-hidden":!0,className:et.className,readOnly:!0,ref:ft,tabIndex:-1,style:_extends$n({},styles$6.shadow,at,{padding:0})})]})}),TextareaAutosize$1=TextareaAutosize;function getSvgIconUtilityClass(tt){return generateUtilityClass("MuiSvgIcon",tt)}generateUtilityClasses("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const _excluded$1m=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],useUtilityClasses$13=tt=>{const{color:et,fontSize:rt,classes:nt}=tt,it={root:["root",et!=="inherit"&&`color${capitalize$1(et)}`,`fontSize${capitalize$1(rt)}`]};return composeClasses(it,getSvgIconUtilityClass,nt)},SvgIconRoot=styled$1("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.color!=="inherit"&&et[`color${capitalize$1(rt.color)}`],et[`fontSize${capitalize$1(rt.fontSize)}`]]}})(({theme:tt,ownerState:et})=>{var rt,nt,it,ot,at,st,lt,ct,ut,dt,ft,pt,mt,ht,gt,vt,yt;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",fill:"currentColor",flexShrink:0,transition:(rt=tt.transitions)==null||(nt=rt.create)==null?void 0:nt.call(rt,"fill",{duration:(it=tt.transitions)==null||(ot=it.duration)==null?void 0:ot.shorter}),fontSize:{inherit:"inherit",small:((at=tt.typography)==null||(st=at.pxToRem)==null?void 0:st.call(at,20))||"1.25rem",medium:((lt=tt.typography)==null||(ct=lt.pxToRem)==null?void 0:ct.call(lt,24))||"1.5rem",large:((ut=tt.typography)==null||(dt=ut.pxToRem)==null?void 0:dt.call(ut,35))||"2.1875rem"}[et.fontSize],color:(ft=(pt=(tt.vars||tt).palette)==null||(mt=pt[et.color])==null?void 0:mt.main)!=null?ft:{action:(ht=(tt.vars||tt).palette)==null||(gt=ht.action)==null?void 0:gt.active,disabled:(vt=(tt.vars||tt).palette)==null||(yt=vt.action)==null?void 0:yt.disabled,inherit:void 0}[et.color]}}),SvgIcon=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiSvgIcon"}),{children:it,className:ot,color:at="inherit",component:st="svg",fontSize:lt="medium",htmlColor:ct,inheritViewBox:ut=!1,titleAccess:dt,viewBox:ft="0 0 24 24"}=nt,pt=_objectWithoutPropertiesLoose$4(nt,_excluded$1m),mt=_extends$n({},nt,{color:at,component:st,fontSize:lt,instanceFontSize:et.fontSize,inheritViewBox:ut,viewBox:ft}),ht={};ut||(ht.viewBox=ft);const gt=useUtilityClasses$13(mt);return jsxs$1(SvgIconRoot,_extends$n({as:st,className:clsx(gt.root,ot),focusable:"false",color:ct,"aria-hidden":dt?void 0:!0,role:dt?"img":void 0,ref:rt},ht,pt,{ownerState:mt,children:[it,dt?jsx$1("title",{children:dt}):null]}))});SvgIcon.muiName="SvgIcon";const SvgIcon$1=SvgIcon;function createSvgIcon$1(tt,et){function rt(nt,it){return jsx$1(SvgIcon$1,_extends$n({"data-testid":`${et}Icon`,ref:it},nt,{children:tt}))}return rt.muiName=SvgIcon$1.muiName,reactExports.memo(reactExports.forwardRef(rt))}const unstable_ClassNameGenerator={configure:tt=>{ClassNameGenerator$1.configure(tt)}},utils$g=Object.freeze(Object.defineProperty({__proto__:null,capitalize:capitalize$1,createChainedFunction,createSvgIcon:createSvgIcon$1,debounce:debounce$4,deprecatedPropType,isMuiElement,ownerDocument,ownerWindow,requirePropFactory,setRef,unstable_ClassNameGenerator,unstable_useEnhancedEffect:useEnhancedEffect$1,unstable_useId:useId,unsupportedProp,useControlled,useEventCallback,useForkRef,useIsFocusVisible},Symbol.toStringTag,{value:"Module"}));function _setPrototypeOf(tt,et){return _setPrototypeOf=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,it){return nt.__proto__=it,nt},_setPrototypeOf(tt,et)}function _inheritsLoose$1(tt,et){tt.prototype=Object.create(et.prototype),tt.prototype.constructor=tt,_setPrototypeOf(tt,et)}const config$6={disabled:!1},TransitionGroupContext=React.createContext(null);var forceReflow=function(et){return et.scrollTop},UNMOUNTED="unmounted",EXITED="exited",ENTERING="entering",ENTERED="entered",EXITING="exiting",Transition=function(tt){_inheritsLoose$1(et,tt);function et(nt,it){var ot;ot=tt.call(this,nt,it)||this;var at=it,st=at&&!at.isMounting?nt.enter:nt.appear,lt;return ot.appearStatus=null,nt.in?st?(lt=EXITED,ot.appearStatus=ENTERING):lt=ENTERED:nt.unmountOnExit||nt.mountOnEnter?lt=UNMOUNTED:lt=EXITED,ot.state={status:lt},ot.nextCallback=null,ot}et.getDerivedStateFromProps=function(it,ot){var at=it.in;return at&&ot.status===UNMOUNTED?{status:EXITED}:null};var rt=et.prototype;return rt.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},rt.componentDidUpdate=function(it){var ot=null;if(it!==this.props){var at=this.state.status;this.props.in?at!==ENTERING&&at!==ENTERED&&(ot=ENTERING):(at===ENTERING||at===ENTERED)&&(ot=EXITING)}this.updateStatus(!1,ot)},rt.componentWillUnmount=function(){this.cancelNextCallback()},rt.getTimeouts=function(){var it=this.props.timeout,ot,at,st;return ot=at=st=it,it!=null&&typeof it!="number"&&(ot=it.exit,at=it.enter,st=it.appear!==void 0?it.appear:at),{exit:ot,enter:at,appear:st}},rt.updateStatus=function(it,ot){if(it===void 0&&(it=!1),ot!==null)if(this.cancelNextCallback(),ot===ENTERING){if(this.props.unmountOnExit||this.props.mountOnEnter){var at=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this);at&&forceReflow(at)}this.performEnter(it)}else this.performExit();else this.props.unmountOnExit&&this.state.status===EXITED&&this.setState({status:UNMOUNTED})},rt.performEnter=function(it){var ot=this,at=this.props.enter,st=this.context?this.context.isMounting:it,lt=this.props.nodeRef?[st]:[ReactDOM.findDOMNode(this),st],ct=lt[0],ut=lt[1],dt=this.getTimeouts(),ft=st?dt.appear:dt.enter;if(!it&&!at||config$6.disabled){this.safeSetState({status:ENTERED},function(){ot.props.onEntered(ct)});return}this.props.onEnter(ct,ut),this.safeSetState({status:ENTERING},function(){ot.props.onEntering(ct,ut),ot.onTransitionEnd(ft,function(){ot.safeSetState({status:ENTERED},function(){ot.props.onEntered(ct,ut)})})})},rt.performExit=function(){var it=this,ot=this.props.exit,at=this.getTimeouts(),st=this.props.nodeRef?void 0:ReactDOM.findDOMNode(this);if(!ot||config$6.disabled){this.safeSetState({status:EXITED},function(){it.props.onExited(st)});return}this.props.onExit(st),this.safeSetState({status:EXITING},function(){it.props.onExiting(st),it.onTransitionEnd(at.exit,function(){it.safeSetState({status:EXITED},function(){it.props.onExited(st)})})})},rt.cancelNextCallback=function(){this.nextCallback!==null&&(this.nextCallback.cancel(),this.nextCallback=null)},rt.safeSetState=function(it,ot){ot=this.setNextCallback(ot),this.setState(it,ot)},rt.setNextCallback=function(it){var ot=this,at=!0;return this.nextCallback=function(st){at&&(at=!1,ot.nextCallback=null,it(st))},this.nextCallback.cancel=function(){at=!1},this.nextCallback},rt.onTransitionEnd=function(it,ot){this.setNextCallback(ot);var at=this.props.nodeRef?this.props.nodeRef.current:ReactDOM.findDOMNode(this),st=it==null&&!this.props.addEndListener;if(!at||st){setTimeout(this.nextCallback,0);return}if(this.props.addEndListener){var lt=this.props.nodeRef?[this.nextCallback]:[at,this.nextCallback],ct=lt[0],ut=lt[1];this.props.addEndListener(ct,ut)}it!=null&&setTimeout(this.nextCallback,it)},rt.render=function(){var it=this.state.status;if(it===UNMOUNTED)return null;var ot=this.props,at=ot.children;ot.in,ot.mountOnEnter,ot.unmountOnExit,ot.appear,ot.enter,ot.exit,ot.timeout,ot.addEndListener,ot.onEnter,ot.onEntering,ot.onEntered,ot.onExit,ot.onExiting,ot.onExited,ot.nodeRef;var st=_objectWithoutPropertiesLoose$4(ot,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]);return React.createElement(TransitionGroupContext.Provider,{value:null},typeof at=="function"?at(it,st):React.cloneElement(React.Children.only(at),st))},et}(React.Component);Transition.contextType=TransitionGroupContext;Transition.propTypes={};function noop$b(){}Transition.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:noop$b,onEntering:noop$b,onEntered:noop$b,onExit:noop$b,onExiting:noop$b,onExited:noop$b};Transition.UNMOUNTED=UNMOUNTED;Transition.EXITED=EXITED;Transition.ENTERING=ENTERING;Transition.ENTERED=ENTERED;Transition.EXITING=EXITING;const Transition$1=Transition;function _assertThisInitialized(tt){if(tt===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}function getChildMapping(tt,et){var rt=function(ot){return et&&reactExports.isValidElement(ot)?et(ot):ot},nt=Object.create(null);return tt&&reactExports.Children.map(tt,function(it){return it}).forEach(function(it){nt[it.key]=rt(it)}),nt}function mergeChildMappings(tt,et){tt=tt||{},et=et||{};function rt(ut){return ut in et?et[ut]:tt[ut]}var nt=Object.create(null),it=[];for(var ot in tt)ot in et?it.length&&(nt[ot]=it,it=[]):it.push(ot);var at,st={};for(var lt in et){if(nt[lt])for(at=0;at<nt[lt].length;at++){var ct=nt[lt][at];st[nt[lt][at]]=rt(ct)}st[lt]=rt(lt)}for(at=0;at<it.length;at++)st[it[at]]=rt(it[at]);return st}function getProp(tt,et,rt){return rt[et]!=null?rt[et]:tt.props[et]}function getInitialChildMapping(tt,et){return getChildMapping(tt.children,function(rt){return reactExports.cloneElement(rt,{onExited:et.bind(null,rt),in:!0,appear:getProp(rt,"appear",tt),enter:getProp(rt,"enter",tt),exit:getProp(rt,"exit",tt)})})}function getNextChildMapping(tt,et,rt){var nt=getChildMapping(tt.children),it=mergeChildMappings(et,nt);return Object.keys(it).forEach(function(ot){var at=it[ot];if(reactExports.isValidElement(at)){var st=ot in et,lt=ot in nt,ct=et[ot],ut=reactExports.isValidElement(ct)&&!ct.props.in;lt&&(!st||ut)?it[ot]=reactExports.cloneElement(at,{onExited:rt.bind(null,at),in:!0,exit:getProp(at,"exit",tt),enter:getProp(at,"enter",tt)}):!lt&&st&&!ut?it[ot]=reactExports.cloneElement(at,{in:!1}):lt&&st&&reactExports.isValidElement(ct)&&(it[ot]=reactExports.cloneElement(at,{onExited:rt.bind(null,at),in:ct.props.in,exit:getProp(at,"exit",tt),enter:getProp(at,"enter",tt)}))}}),it}var values=Object.values||function(tt){return Object.keys(tt).map(function(et){return tt[et]})},defaultProps$1={component:"div",childFactory:function(et){return et}},TransitionGroup=function(tt){_inheritsLoose$1(et,tt);function et(nt,it){var ot;ot=tt.call(this,nt,it)||this;var at=ot.handleExited.bind(_assertThisInitialized(ot));return ot.state={contextValue:{isMounting:!0},handleExited:at,firstRender:!0},ot}var rt=et.prototype;return rt.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},rt.componentWillUnmount=function(){this.mounted=!1},et.getDerivedStateFromProps=function(it,ot){var at=ot.children,st=ot.handleExited,lt=ot.firstRender;return{children:lt?getInitialChildMapping(it,st):getNextChildMapping(it,at,st),firstRender:!1}},rt.handleExited=function(it,ot){var at=getChildMapping(this.props.children);it.key in at||(it.props.onExited&&it.props.onExited(ot),this.mounted&&this.setState(function(st){var lt=_extends$n({},st.children);return delete lt[it.key],{children:lt}}))},rt.render=function(){var it=this.props,ot=it.component,at=it.childFactory,st=_objectWithoutPropertiesLoose$4(it,["component","childFactory"]),lt=this.state.contextValue,ct=values(this.state.children).map(at);return delete st.appear,delete st.enter,delete st.exit,ot===null?React.createElement(TransitionGroupContext.Provider,{value:lt},ct):React.createElement(TransitionGroupContext.Provider,{value:lt},React.createElement(ot,st,ct))},et}(React.Component);TransitionGroup.propTypes={};TransitionGroup.defaultProps=defaultProps$1;const TransitionGroup$1=TransitionGroup,reflow=tt=>tt.scrollTop;function getTransitionProps(tt,et){var rt,nt;const{timeout:it,easing:ot,style:at={}}=tt;return{duration:(rt=at.transitionDuration)!=null?rt:typeof it=="number"?it:it[et.mode]||0,easing:(nt=at.transitionTimingFunction)!=null?nt:typeof ot=="object"?ot[et.mode]:ot,delay:at.transitionDelay}}function getPaperUtilityClass(tt){return generateUtilityClass("MuiPaper",tt)}generateUtilityClasses("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const _excluded$1l=["className","component","elevation","square","variant"],useUtilityClasses$12=tt=>{const{square:et,elevation:rt,variant:nt,classes:it}=tt,ot={root:["root",nt,!et&&"rounded",nt==="elevation"&&`elevation${rt}`]};return composeClasses(ot,getPaperUtilityClass,it)},PaperRoot=styled$1("div",{name:"MuiPaper",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[rt.variant],!rt.square&&et.rounded,rt.variant==="elevation"&&et[`elevation${rt.elevation}`]]}})(({theme:tt,ownerState:et})=>{var rt;return _extends$n({backgroundColor:(tt.vars||tt).palette.background.paper,color:(tt.vars||tt).palette.text.primary,transition:tt.transitions.create("box-shadow")},!et.square&&{borderRadius:tt.shape.borderRadius},et.variant==="outlined"&&{border:`1px solid ${(tt.vars||tt).palette.divider}`},et.variant==="elevation"&&_extends$n({boxShadow:(tt.vars||tt).shadows[et.elevation]},!tt.vars&&tt.palette.mode==="dark"&&{backgroundImage:`linear-gradient(${alpha("#fff",getOverlayAlpha$1(et.elevation))}, ${alpha("#fff",getOverlayAlpha$1(et.elevation))})`},tt.vars&&{backgroundImage:(rt=tt.vars.overlays)==null?void 0:rt[et.elevation]}))}),Paper=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiPaper"}),{className:it,component:ot="div",elevation:at=1,square:st=!1,variant:lt="elevation"}=nt,ct=_objectWithoutPropertiesLoose$4(nt,_excluded$1l),ut=_extends$n({},nt,{component:ot,elevation:at,square:st,variant:lt}),dt=useUtilityClasses$12(ut);return jsx$1(PaperRoot,_extends$n({as:ot,ownerState:ut,className:clsx(dt.root,it),ref:rt},ct))}),Paper$1=Paper;function Ripple(tt){const{className:et,classes:rt,pulsate:nt=!1,rippleX:it,rippleY:ot,rippleSize:at,in:st,onExited:lt,timeout:ct}=tt,[ut,dt]=reactExports.useState(!1),ft=clsx(et,rt.ripple,rt.rippleVisible,nt&&rt.ripplePulsate),pt={width:at,height:at,top:-(at/2)+ot,left:-(at/2)+it},mt=clsx(rt.child,ut&&rt.childLeaving,nt&&rt.childPulsate);return!st&&!ut&&dt(!0),reactExports.useEffect(()=>{if(!st&&lt!=null){const ht=setTimeout(lt,ct);return()=>{clearTimeout(ht)}}},[lt,st,ct]),jsx$1("span",{className:ft,style:pt,children:jsx$1("span",{className:mt})})}const touchRippleClasses=generateUtilityClasses("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),touchRippleClasses$1=touchRippleClasses,_excluded$1k=["center","classes","className"];let _$4=tt=>tt,_t$3,_t2$3,_t3$3,_t4$3;const DURATION=550,DELAY_RIPPLE=80,enterKeyframe=keyframes(_t$3||(_t$3=_$4`
  0% {
    transform: scale(0);
    opacity: 0.1;
  }

  100% {
    transform: scale(1);
    opacity: 0.3;
  }
`)),exitKeyframe=keyframes(_t2$3||(_t2$3=_$4`
  0% {
    opacity: 1;
  }

  100% {
    opacity: 0;
  }
`)),pulsateKeyframe=keyframes(_t3$3||(_t3$3=_$4`
  0% {
    transform: scale(1);
  }

  50% {
    transform: scale(0.92);
  }

  100% {
    transform: scale(1);
  }
`)),TouchRippleRoot=styled$1("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),TouchRippleRipple=styled$1(Ripple,{name:"MuiTouchRipple",slot:"Ripple"})(_t4$3||(_t4$3=_$4`
  opacity: 0;
  position: absolute;

  &.${0} {
    opacity: 0.3;
    transform: scale(1);
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  &.${0} {
    animation-duration: ${0}ms;
  }

  & .${0} {
    opacity: 1;
    display: block;
    width: 100%;
    height: 100%;
    border-radius: 50%;
    background-color: currentColor;
  }

  & .${0} {
    opacity: 0;
    animation-name: ${0};
    animation-duration: ${0}ms;
    animation-timing-function: ${0};
  }

  & .${0} {
    position: absolute;
    /* @noflip */
    left: 0px;
    top: 0;
    animation-name: ${0};
    animation-duration: 2500ms;
    animation-timing-function: ${0};
    animation-iteration-count: infinite;
    animation-delay: 200ms;
  }
`),touchRippleClasses$1.rippleVisible,enterKeyframe,DURATION,({theme:tt})=>tt.transitions.easing.easeInOut,touchRippleClasses$1.ripplePulsate,({theme:tt})=>tt.transitions.duration.shorter,touchRippleClasses$1.child,touchRippleClasses$1.childLeaving,exitKeyframe,DURATION,({theme:tt})=>tt.transitions.easing.easeInOut,touchRippleClasses$1.childPulsate,pulsateKeyframe,({theme:tt})=>tt.transitions.easing.easeInOut),TouchRipple=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiTouchRipple"}),{center:it=!1,classes:ot={},className:at}=nt,st=_objectWithoutPropertiesLoose$4(nt,_excluded$1k),[lt,ct]=reactExports.useState([]),ut=reactExports.useRef(0),dt=reactExports.useRef(null);reactExports.useEffect(()=>{dt.current&&(dt.current(),dt.current=null)},[lt]);const ft=reactExports.useRef(!1),pt=reactExports.useRef(null),mt=reactExports.useRef(null),ht=reactExports.useRef(null);reactExports.useEffect(()=>()=>{clearTimeout(pt.current)},[]);const gt=reactExports.useCallback(xt=>{const{pulsate:$t,rippleX:Tt,rippleY:wt,rippleSize:At,cb:Rt}=xt;ct(It=>[...It,jsx$1(TouchRippleRipple,{classes:{ripple:clsx(ot.ripple,touchRippleClasses$1.ripple),rippleVisible:clsx(ot.rippleVisible,touchRippleClasses$1.rippleVisible),ripplePulsate:clsx(ot.ripplePulsate,touchRippleClasses$1.ripplePulsate),child:clsx(ot.child,touchRippleClasses$1.child),childLeaving:clsx(ot.childLeaving,touchRippleClasses$1.childLeaving),childPulsate:clsx(ot.childPulsate,touchRippleClasses$1.childPulsate)},timeout:DURATION,pulsate:$t,rippleX:Tt,rippleY:wt,rippleSize:At},ut.current)]),ut.current+=1,dt.current=Rt},[ot]),vt=reactExports.useCallback((xt={},$t={},Tt=()=>{})=>{const{pulsate:wt=!1,center:At=it||$t.pulsate,fakeElement:Rt=!1}=$t;if((xt==null?void 0:xt.type)==="mousedown"&&ft.current){ft.current=!1;return}(xt==null?void 0:xt.type)==="touchstart"&&(ft.current=!0);const It=Rt?null:ht.current,Lt=It?It.getBoundingClientRect():{width:0,height:0,left:0,top:0};let Pt,Nt,Ot;if(At||xt===void 0||xt.clientX===0&&xt.clientY===0||!xt.clientX&&!xt.touches)Pt=Math.round(Lt.width/2),Nt=Math.round(Lt.height/2);else{const{clientX:Bt,clientY:zt}=xt.touches&&xt.touches.length>0?xt.touches[0]:xt;Pt=Math.round(Bt-Lt.left),Nt=Math.round(zt-Lt.top)}if(At)Ot=Math.sqrt((2*Lt.width**2+Lt.height**2)/3),Ot%2===0&&(Ot+=1);else{const Bt=Math.max(Math.abs((It?It.clientWidth:0)-Pt),Pt)*2+2,zt=Math.max(Math.abs((It?It.clientHeight:0)-Nt),Nt)*2+2;Ot=Math.sqrt(Bt**2+zt**2)}xt!=null&&xt.touches?mt.current===null&&(mt.current=()=>{gt({pulsate:wt,rippleX:Pt,rippleY:Nt,rippleSize:Ot,cb:Tt})},pt.current=setTimeout(()=>{mt.current&&(mt.current(),mt.current=null)},DELAY_RIPPLE)):gt({pulsate:wt,rippleX:Pt,rippleY:Nt,rippleSize:Ot,cb:Tt})},[it,gt]),yt=reactExports.useCallback(()=>{vt({},{pulsate:!0})},[vt]),bt=reactExports.useCallback((xt,$t)=>{if(clearTimeout(pt.current),(xt==null?void 0:xt.type)==="touchend"&&mt.current){mt.current(),mt.current=null,pt.current=setTimeout(()=>{bt(xt,$t)});return}mt.current=null,ct(Tt=>Tt.length>0?Tt.slice(1):Tt),dt.current=$t},[]);return reactExports.useImperativeHandle(rt,()=>({pulsate:yt,start:vt,stop:bt}),[yt,vt,bt]),jsx$1(TouchRippleRoot,_extends$n({className:clsx(touchRippleClasses$1.root,ot.root,at),ref:ht},st,{children:jsx$1(TransitionGroup$1,{component:null,exit:!0,children:lt})}))}),TouchRipple$1=TouchRipple;function getButtonBaseUtilityClass(tt){return generateUtilityClass("MuiButtonBase",tt)}const buttonBaseClasses=generateUtilityClasses("MuiButtonBase",["root","disabled","focusVisible"]),buttonBaseClasses$1=buttonBaseClasses,_excluded$1j=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],useUtilityClasses$11=tt=>{const{disabled:et,focusVisible:rt,focusVisibleClassName:nt,classes:it}=tt,at=composeClasses({root:["root",et&&"disabled",rt&&"focusVisible"]},getButtonBaseUtilityClass,it);return rt&&nt&&(at.root+=` ${nt}`),at},ButtonBaseRoot=styled$1("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(tt,et)=>et.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},[`&.${buttonBaseClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}}),ButtonBase=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiButtonBase"}),{action:it,centerRipple:ot=!1,children:at,className:st,component:lt="button",disabled:ct=!1,disableRipple:ut=!1,disableTouchRipple:dt=!1,focusRipple:ft=!1,LinkComponent:pt="a",onBlur:mt,onClick:ht,onContextMenu:gt,onDragLeave:vt,onFocus:yt,onFocusVisible:bt,onKeyDown:xt,onKeyUp:$t,onMouseDown:Tt,onMouseLeave:wt,onMouseUp:At,onTouchEnd:Rt,onTouchMove:It,onTouchStart:Lt,tabIndex:Pt=0,TouchRippleProps:Nt,touchRippleRef:Ot,type:Bt}=nt,zt=_objectWithoutPropertiesLoose$4(nt,_excluded$1j),Vt=reactExports.useRef(null),Ut=reactExports.useRef(null),jt=useForkRef(Ut,Ot),{isFocusVisibleRef:qt,onFocus:Dt,onBlur:Ft,ref:Zt}=useIsFocusVisible(),[Kt,ir]=reactExports.useState(!1);ct&&Kt&&ir(!1),reactExports.useImperativeHandle(it,()=>({focusVisible:()=>{ir(!0),Vt.current.focus()}}),[]);const[rr,mr]=reactExports.useState(!1);reactExports.useEffect(()=>{mr(!0)},[]);const sr=rr&&!ut&&!ct;reactExports.useEffect(()=>{Kt&&ft&&!ut&&rr&&Ut.current.pulsate()},[ut,ft,Kt,rr]);function fr(hr,$r,Mr=dt){return useEventCallback(Ar=>($r&&$r(Ar),!Mr&&Ut.current&&Ut.current[hr](Ar),!0))}const pr=fr("start",Tt),vr=fr("stop",gt),dr=fr("stop",vt),xr=fr("stop",At),Gt=fr("stop",hr=>{Kt&&hr.preventDefault(),wt&&wt(hr)}),Wt=fr("start",Lt),nr=fr("stop",Rt),Qt=fr("stop",It),Jt=fr("stop",hr=>{Ft(hr),qt.current===!1&&ir(!1),mt&&mt(hr)},!1),ar=useEventCallback(hr=>{Vt.current||(Vt.current=hr.currentTarget),Dt(hr),qt.current===!0&&(ir(!0),bt&&bt(hr)),yt&&yt(hr)}),cr=()=>{const hr=Vt.current;return lt&&lt!=="button"&&!(hr.tagName==="A"&&hr.href)},lr=reactExports.useRef(!1),Yt=useEventCallback(hr=>{ft&&!lr.current&&Kt&&Ut.current&&hr.key===" "&&(lr.current=!0,Ut.current.stop(hr,()=>{Ut.current.start(hr)})),hr.target===hr.currentTarget&&cr()&&hr.key===" "&&hr.preventDefault(),xt&&xt(hr),hr.target===hr.currentTarget&&cr()&&hr.key==="Enter"&&!ct&&(hr.preventDefault(),ht&&ht(hr))}),Xt=useEventCallback(hr=>{ft&&hr.key===" "&&Ut.current&&Kt&&!hr.defaultPrevented&&(lr.current=!1,Ut.current.stop(hr,()=>{Ut.current.pulsate(hr)})),$t&&$t(hr),ht&&hr.target===hr.currentTarget&&cr()&&hr.key===" "&&!hr.defaultPrevented&&ht(hr)});let tr=lt;tr==="button"&&(zt.href||zt.to)&&(tr=pt);const or={};tr==="button"?(or.type=Bt===void 0?"button":Bt,or.disabled=ct):(!zt.href&&!zt.to&&(or.role="button"),ct&&(or["aria-disabled"]=ct));const br=useForkRef(rt,Zt,Vt),Sr=_extends$n({},nt,{centerRipple:ot,component:lt,disabled:ct,disableRipple:ut,disableTouchRipple:dt,focusRipple:ft,tabIndex:Pt,focusVisible:Kt}),yr=useUtilityClasses$11(Sr);return jsxs$1(ButtonBaseRoot,_extends$n({as:tr,className:clsx(yr.root,st),ownerState:Sr,onBlur:Jt,onClick:ht,onContextMenu:vr,onFocus:ar,onKeyDown:Yt,onKeyUp:Xt,onMouseDown:pr,onMouseLeave:Gt,onMouseUp:xr,onDragLeave:dr,onTouchEnd:nr,onTouchMove:Qt,onTouchStart:Wt,ref:br,tabIndex:ct?-1:Pt,type:Bt},or,zt,{children:[at,sr?jsx$1(TouchRipple$1,_extends$n({ref:jt,center:ot},Nt)):null]}))}),ButtonBase$1=ButtonBase;function getAlertUtilityClass(tt){return generateUtilityClass("MuiAlert",tt)}const alertClasses=generateUtilityClasses("MuiAlert",["root","action","icon","message","filled","filledSuccess","filledInfo","filledWarning","filledError","outlined","outlinedSuccess","outlinedInfo","outlinedWarning","outlinedError","standard","standardSuccess","standardInfo","standardWarning","standardError"]),alertClasses$1=alertClasses;function getIconButtonUtilityClass(tt){return generateUtilityClass("MuiIconButton",tt)}const iconButtonClasses=generateUtilityClasses("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),iconButtonClasses$1=iconButtonClasses,_excluded$1i=["edge","children","className","color","disabled","disableFocusRipple","size"],useUtilityClasses$10=tt=>{const{classes:et,disabled:rt,color:nt,edge:it,size:ot}=tt,at={root:["root",rt&&"disabled",nt!=="default"&&`color${capitalize$1(nt)}`,it&&`edge${capitalize$1(it)}`,`size${capitalize$1(ot)}`]};return composeClasses(at,getIconButtonUtilityClass,et)},IconButtonRoot=styled$1(ButtonBase$1,{name:"MuiIconButton",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.color!=="default"&&et[`color${capitalize$1(rt.color)}`],rt.edge&&et[`edge${capitalize$1(rt.edge)}`],et[`size${capitalize$1(rt.size)}`]]}})(({theme:tt,ownerState:et})=>_extends$n({textAlign:"center",flex:"0 0 auto",fontSize:tt.typography.pxToRem(24),padding:8,borderRadius:"50%",overflow:"visible",color:(tt.vars||tt).palette.action.active,transition:tt.transitions.create("background-color",{duration:tt.transitions.duration.shortest})},!et.disableRipple&&{"&:hover":{backgroundColor:tt.vars?`rgba(${tt.vars.palette.action.activeChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(tt.palette.action.active,tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},et.edge==="start"&&{marginLeft:et.size==="small"?-3:-12},et.edge==="end"&&{marginRight:et.size==="small"?-3:-12}),({theme:tt,ownerState:et})=>{var rt;const nt=(rt=(tt.vars||tt).palette)==null?void 0:rt[et.color];return _extends$n({},et.color==="inherit"&&{color:"inherit"},et.color!=="inherit"&&et.color!=="default"&&_extends$n({color:nt==null?void 0:nt.main},!et.disableRipple&&{"&:hover":_extends$n({},nt&&{backgroundColor:tt.vars?`rgba(${nt.mainChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(nt.main,tt.palette.action.hoverOpacity)},{"@media (hover: none)":{backgroundColor:"transparent"}})}),et.size==="small"&&{padding:5,fontSize:tt.typography.pxToRem(18)},et.size==="large"&&{padding:12,fontSize:tt.typography.pxToRem(28)},{[`&.${iconButtonClasses$1.disabled}`]:{backgroundColor:"transparent",color:(tt.vars||tt).palette.action.disabled}})}),IconButton=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiIconButton"}),{edge:it=!1,children:ot,className:at,color:st="default",disabled:lt=!1,disableFocusRipple:ct=!1,size:ut="medium"}=nt,dt=_objectWithoutPropertiesLoose$4(nt,_excluded$1i),ft=_extends$n({},nt,{edge:it,color:st,disabled:lt,disableFocusRipple:ct,size:ut}),pt=useUtilityClasses$10(ft);return jsx$1(IconButtonRoot,_extends$n({className:clsx(pt.root,at),centerRipple:!0,focusRipple:!ct,disabled:lt,ref:rt,ownerState:ft},dt,{children:ot}))}),IconButton$1=IconButton,SuccessOutlinedIcon=createSvgIcon$1(jsx$1("path",{d:"M20,12A8,8 0 0,1 12,20A8,8 0 0,1 4,12A8,8 0 0,1 12,4C12.76,4 13.5,4.11 14.2, 4.31L15.77,2.74C14.61,2.26 13.34,2 12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0, 0 22,12M7.91,10.08L6.5,11.5L11,16L21,6L19.59,4.58L11,13.17L7.91,10.08Z"}),"SuccessOutlined"),ReportProblemOutlinedIcon=createSvgIcon$1(jsx$1("path",{d:"M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z"}),"ReportProblemOutlined"),ErrorOutlineIcon=createSvgIcon$1(jsx$1("path",{d:"M11 15h2v2h-2zm0-8h2v6h-2zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutline"),InfoOutlinedIcon=createSvgIcon$1(jsx$1("path",{d:"M11,9H13V7H11M12,20C7.59,20 4,16.41 4,12C4,7.59 7.59,4 12,4C16.41,4 20,7.59 20, 12C20,16.41 16.41,20 12,20M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10, 10 0 0,0 12,2M11,17H13V11H11V17Z"}),"InfoOutlined"),ClearIcon=createSvgIcon$1(jsx$1("path",{d:"M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close"),_excluded$1h=["action","children","className","closeText","color","components","componentsProps","icon","iconMapping","onClose","role","severity","slotProps","slots","variant"],useUtilityClasses$$=tt=>{const{variant:et,color:rt,severity:nt,classes:it}=tt,ot={root:["root",`${et}${capitalize$1(rt||nt)}`,`${et}`],icon:["icon"],message:["message"],action:["action"]};return composeClasses(ot,getAlertUtilityClass,it)},AlertRoot=styled$1(Paper$1,{name:"MuiAlert",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[rt.variant],et[`${rt.variant}${capitalize$1(rt.color||rt.severity)}`]]}})(({theme:tt,ownerState:et})=>{const rt=tt.palette.mode==="light"?darken:lighten,nt=tt.palette.mode==="light"?lighten:darken,it=et.color||et.severity;return _extends$n({},tt.typography.body2,{backgroundColor:"transparent",display:"flex",padding:"6px 16px"},it&&et.variant==="standard"&&{color:tt.vars?tt.vars.palette.Alert[`${it}Color`]:rt(tt.palette[it].light,.6),backgroundColor:tt.vars?tt.vars.palette.Alert[`${it}StandardBg`]:nt(tt.palette[it].light,.9),[`& .${alertClasses$1.icon}`]:tt.vars?{color:tt.vars.palette.Alert[`${it}IconColor`]}:{color:tt.palette[it].main}},it&&et.variant==="outlined"&&{color:tt.vars?tt.vars.palette.Alert[`${it}Color`]:rt(tt.palette[it].light,.6),border:`1px solid ${(tt.vars||tt).palette[it].light}`,[`& .${alertClasses$1.icon}`]:tt.vars?{color:tt.vars.palette.Alert[`${it}IconColor`]}:{color:tt.palette[it].main}},it&&et.variant==="filled"&&_extends$n({fontWeight:tt.typography.fontWeightMedium},tt.vars?{color:tt.vars.palette.Alert[`${it}FilledColor`],backgroundColor:tt.vars.palette.Alert[`${it}FilledBg`]}:{backgroundColor:tt.palette.mode==="dark"?tt.palette[it].dark:tt.palette[it].main,color:tt.palette.getContrastText(tt.palette[it].main)}))}),AlertIcon=styled$1("div",{name:"MuiAlert",slot:"Icon",overridesResolver:(tt,et)=>et.icon})({marginRight:12,padding:"7px 0",display:"flex",fontSize:22,opacity:.9}),AlertMessage=styled$1("div",{name:"MuiAlert",slot:"Message",overridesResolver:(tt,et)=>et.message})({padding:"8px 0",minWidth:0,overflow:"auto"}),AlertAction=styled$1("div",{name:"MuiAlert",slot:"Action",overridesResolver:(tt,et)=>et.action})({display:"flex",alignItems:"flex-start",padding:"4px 0 0 16px",marginLeft:"auto",marginRight:-8}),defaultIconMapping={success:jsx$1(SuccessOutlinedIcon,{fontSize:"inherit"}),warning:jsx$1(ReportProblemOutlinedIcon,{fontSize:"inherit"}),error:jsx$1(ErrorOutlineIcon,{fontSize:"inherit"}),info:jsx$1(InfoOutlinedIcon,{fontSize:"inherit"})},Alert=reactExports.forwardRef(function(et,rt){var nt,it,ot,at,st,lt;const ct=useThemeProps({props:et,name:"MuiAlert"}),{action:ut,children:dt,className:ft,closeText:pt="Close",color:mt,components:ht={},componentsProps:gt={},icon:vt,iconMapping:yt=defaultIconMapping,onClose:bt,role:xt="alert",severity:$t="success",slotProps:Tt={},slots:wt={},variant:At="standard"}=ct,Rt=_objectWithoutPropertiesLoose$4(ct,_excluded$1h),It=_extends$n({},ct,{color:mt,severity:$t,variant:At}),Lt=useUtilityClasses$$(It),Pt=(nt=(it=wt.closeButton)!=null?it:ht.CloseButton)!=null?nt:IconButton$1,Nt=(ot=(at=wt.closeIcon)!=null?at:ht.CloseIcon)!=null?ot:ClearIcon,Ot=(st=Tt.closeButton)!=null?st:gt.closeButton,Bt=(lt=Tt.closeIcon)!=null?lt:gt.closeIcon;return jsxs$1(AlertRoot,_extends$n({role:xt,elevation:0,ownerState:It,className:clsx(Lt.root,ft),ref:rt},Rt,{children:[vt!==!1?jsx$1(AlertIcon,{ownerState:It,className:Lt.icon,children:vt||yt[$t]||defaultIconMapping[$t]}):null,jsx$1(AlertMessage,{ownerState:It,className:Lt.message,children:dt}),ut!=null?jsx$1(AlertAction,{ownerState:It,className:Lt.action,children:ut}):null,ut==null&&bt?jsx$1(AlertAction,{ownerState:It,className:Lt.action,children:jsx$1(Pt,_extends$n({size:"small","aria-label":pt,title:pt,color:"inherit",onClick:bt},Ot,{children:jsx$1(Nt,_extends$n({fontSize:"small"},Bt))}))}):null]}))}),Alert$1=Alert;function getTypographyUtilityClass(tt){return generateUtilityClass("MuiTypography",tt)}generateUtilityClasses("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]);const _excluded$1g=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],useUtilityClasses$_=tt=>{const{align:et,gutterBottom:rt,noWrap:nt,paragraph:it,variant:ot,classes:at}=tt,st={root:["root",ot,tt.align!=="inherit"&&`align${capitalize$1(et)}`,rt&&"gutterBottom",nt&&"noWrap",it&&"paragraph"]};return composeClasses(st,getTypographyUtilityClass,at)},TypographyRoot=styled$1("span",{name:"MuiTypography",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.variant&&et[rt.variant],rt.align!=="inherit"&&et[`align${capitalize$1(rt.align)}`],rt.noWrap&&et.noWrap,rt.gutterBottom&&et.gutterBottom,rt.paragraph&&et.paragraph]}})(({theme:tt,ownerState:et})=>_extends$n({margin:0},et.variant&&tt.typography[et.variant],et.align!=="inherit"&&{textAlign:et.align},et.noWrap&&{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},et.gutterBottom&&{marginBottom:"0.35em"},et.paragraph&&{marginBottom:16})),defaultVariantMapping={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},colorTransformations$1={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors$1=tt=>colorTransformations$1[tt]||tt,Typography=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiTypography"}),it=transformDeprecatedColors$1(nt.color),ot=extendSxProp(_extends$n({},nt,{color:it})),{align:at="inherit",className:st,component:lt,gutterBottom:ct=!1,noWrap:ut=!1,paragraph:dt=!1,variant:ft="body1",variantMapping:pt=defaultVariantMapping}=ot,mt=_objectWithoutPropertiesLoose$4(ot,_excluded$1g),ht=_extends$n({},ot,{align:at,color:it,className:st,component:lt,gutterBottom:ct,noWrap:ut,paragraph:dt,variant:ft,variantMapping:pt}),gt=lt||(dt?"p":pt[ft]||defaultVariantMapping[ft])||"span",vt=useUtilityClasses$_(ht);return jsx$1(TypographyRoot,_extends$n({as:gt,ref:rt,ownerState:ht,className:clsx(vt.root,st)},mt))}),Typography$1=Typography;function getAlertTitleUtilityClass(tt){return generateUtilityClass("MuiAlertTitle",tt)}generateUtilityClasses("MuiAlertTitle",["root"]);const _excluded$1f=["className"],useUtilityClasses$Z=tt=>{const{classes:et}=tt;return composeClasses({root:["root"]},getAlertTitleUtilityClass,et)},AlertTitleRoot=styled$1(Typography$1,{name:"MuiAlertTitle",slot:"Root",overridesResolver:(tt,et)=>et.root})(({theme:tt})=>({fontWeight:tt.typography.fontWeightMedium,marginTop:-2})),AlertTitle=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiAlertTitle"}),{className:it}=nt,ot=_objectWithoutPropertiesLoose$4(nt,_excluded$1f),at=nt,st=useUtilityClasses$Z(at);return jsx$1(AlertTitleRoot,_extends$n({gutterBottom:!0,component:"div",ownerState:at,ref:rt,className:clsx(st.root,it)},ot))}),AlertTitle$1=AlertTitle;function getAppBarUtilityClass(tt){return generateUtilityClass("MuiAppBar",tt)}generateUtilityClasses("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent"]);const _excluded$1e=["className","color","enableColorOnDark","position"],useUtilityClasses$Y=tt=>{const{color:et,position:rt,classes:nt}=tt,it={root:["root",`color${capitalize$1(et)}`,`position${capitalize$1(rt)}`]};return composeClasses(it,getAppBarUtilityClass,nt)},joinVars=(tt,et)=>`${tt==null?void 0:tt.replace(")","")}, ${et})`,AppBarRoot=styled$1(Paper$1,{name:"MuiAppBar",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[`position${capitalize$1(rt.position)}`],et[`color${capitalize$1(rt.color)}`]]}})(({theme:tt,ownerState:et})=>{const rt=tt.palette.mode==="light"?tt.palette.grey[100]:tt.palette.grey[900];return _extends$n({display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0},et.position==="fixed"&&{position:"fixed",zIndex:(tt.vars||tt).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}},et.position==="absolute"&&{position:"absolute",zIndex:(tt.vars||tt).zIndex.appBar,top:0,left:"auto",right:0},et.position==="sticky"&&{position:"sticky",zIndex:(tt.vars||tt).zIndex.appBar,top:0,left:"auto",right:0},et.position==="static"&&{position:"static"},et.position==="relative"&&{position:"relative"},!tt.vars&&_extends$n({},et.color==="default"&&{backgroundColor:rt,color:tt.palette.getContrastText(rt)},et.color&&et.color!=="default"&&et.color!=="inherit"&&et.color!=="transparent"&&{backgroundColor:tt.palette[et.color].main,color:tt.palette[et.color].contrastText},et.color==="inherit"&&{color:"inherit"},tt.palette.mode==="dark"&&!et.enableColorOnDark&&{backgroundColor:null,color:null},et.color==="transparent"&&_extends$n({backgroundColor:"transparent",color:"inherit"},tt.palette.mode==="dark"&&{backgroundImage:"none"})),tt.vars&&_extends$n({},et.color==="default"&&{"--AppBar-background":et.enableColorOnDark?tt.vars.palette.AppBar.defaultBg:joinVars(tt.vars.palette.AppBar.darkBg,tt.vars.palette.AppBar.defaultBg),"--AppBar-color":et.enableColorOnDark?tt.vars.palette.text.primary:joinVars(tt.vars.palette.AppBar.darkColor,tt.vars.palette.text.primary)},et.color&&!et.color.match(/^(default|inherit|transparent)$/)&&{"--AppBar-background":et.enableColorOnDark?tt.vars.palette[et.color].main:joinVars(tt.vars.palette.AppBar.darkBg,tt.vars.palette[et.color].main),"--AppBar-color":et.enableColorOnDark?tt.vars.palette[et.color].contrastText:joinVars(tt.vars.palette.AppBar.darkColor,tt.vars.palette[et.color].contrastText)},{backgroundColor:"var(--AppBar-background)",color:et.color==="inherit"?"inherit":"var(--AppBar-color)"},et.color==="transparent"&&{backgroundImage:"none",backgroundColor:"transparent",color:"inherit"}))}),AppBar=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiAppBar"}),{className:it,color:ot="primary",enableColorOnDark:at=!1,position:st="fixed"}=nt,lt=_objectWithoutPropertiesLoose$4(nt,_excluded$1e),ct=_extends$n({},nt,{color:ot,position:st,enableColorOnDark:at}),ut=useUtilityClasses$Y(ct);return jsx$1(AppBarRoot,_extends$n({square:!0,component:"header",ownerState:ct,elevation:4,className:clsx(ut.root,it,st==="fixed"&&"mui-fixed"),ref:rt},lt))}),AppBar$1=AppBar,_excluded$1d=["components","componentsProps","slots","slotProps"],PopperRoot=styled$1(PopperUnstyled$1,{name:"MuiPopper",slot:"Root",overridesResolver:(tt,et)=>et.root})({}),Popper=reactExports.forwardRef(function(et,rt){var nt;const it=useTheme$2(),ot=useThemeProps({props:et,name:"MuiPopper"}),{components:at,componentsProps:st,slots:lt,slotProps:ct}=ot,ut=_objectWithoutPropertiesLoose$4(ot,_excluded$1d),dt=(nt=lt==null?void 0:lt.root)!=null?nt:at==null?void 0:at.Root;return jsx$1(PopperRoot,_extends$n({direction:it==null?void 0:it.direction,slots:{root:dt},slotProps:ct??st},ut,{ref:rt}))}),Popper$1=Popper;function getListSubheaderUtilityClass(tt){return generateUtilityClass("MuiListSubheader",tt)}generateUtilityClasses("MuiListSubheader",["root","colorPrimary","colorInherit","gutters","inset","sticky"]);const _excluded$1c=["className","color","component","disableGutters","disableSticky","inset"],useUtilityClasses$X=tt=>{const{classes:et,color:rt,disableGutters:nt,inset:it,disableSticky:ot}=tt,at={root:["root",rt!=="default"&&`color${capitalize$1(rt)}`,!nt&&"gutters",it&&"inset",!ot&&"sticky"]};return composeClasses(at,getListSubheaderUtilityClass,et)},ListSubheaderRoot=styled$1("li",{name:"MuiListSubheader",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.color!=="default"&&et[`color${capitalize$1(rt.color)}`],!rt.disableGutters&&et.gutters,rt.inset&&et.inset,!rt.disableSticky&&et.sticky]}})(({theme:tt,ownerState:et})=>_extends$n({boxSizing:"border-box",lineHeight:"48px",listStyle:"none",color:(tt.vars||tt).palette.text.secondary,fontFamily:tt.typography.fontFamily,fontWeight:tt.typography.fontWeightMedium,fontSize:tt.typography.pxToRem(14)},et.color==="primary"&&{color:(tt.vars||tt).palette.primary.main},et.color==="inherit"&&{color:"inherit"},!et.disableGutters&&{paddingLeft:16,paddingRight:16},et.inset&&{paddingLeft:72},!et.disableSticky&&{position:"sticky",top:0,zIndex:1,backgroundColor:(tt.vars||tt).palette.background.paper})),ListSubheader=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiListSubheader"}),{className:it,color:ot="default",component:at="li",disableGutters:st=!1,disableSticky:lt=!1,inset:ct=!1}=nt,ut=_objectWithoutPropertiesLoose$4(nt,_excluded$1c),dt=_extends$n({},nt,{color:ot,component:at,disableGutters:st,disableSticky:lt,inset:ct}),ft=useUtilityClasses$X(dt);return jsx$1(ListSubheaderRoot,_extends$n({as:at,className:clsx(ft.root,it),ref:rt,ownerState:dt},ut))}),ListSubheader$1=ListSubheader,CancelIcon=createSvgIcon$1(jsx$1("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm5 13.59L15.59 17 12 13.41 8.41 17 7 15.59 10.59 12 7 8.41 8.41 7 12 10.59 15.59 7 17 8.41 13.41 12 17 15.59z"}),"Cancel");function getChipUtilityClass(tt){return generateUtilityClass("MuiChip",tt)}const chipClasses=generateUtilityClasses("MuiChip",["root","sizeSmall","sizeMedium","colorError","colorInfo","colorPrimary","colorSecondary","colorSuccess","colorWarning","disabled","clickable","clickableColorPrimary","clickableColorSecondary","deletable","deletableColorPrimary","deletableColorSecondary","outlined","filled","outlinedPrimary","outlinedSecondary","filledPrimary","filledSecondary","avatar","avatarSmall","avatarMedium","avatarColorPrimary","avatarColorSecondary","icon","iconSmall","iconMedium","iconColorPrimary","iconColorSecondary","label","labelSmall","labelMedium","deleteIcon","deleteIconSmall","deleteIconMedium","deleteIconColorPrimary","deleteIconColorSecondary","deleteIconOutlinedColorPrimary","deleteIconOutlinedColorSecondary","deleteIconFilledColorPrimary","deleteIconFilledColorSecondary","focusVisible"]),chipClasses$1=chipClasses,_excluded$1b=["avatar","className","clickable","color","component","deleteIcon","disabled","icon","label","onClick","onDelete","onKeyDown","onKeyUp","size","variant","tabIndex","skipFocusWhenDisabled"],useUtilityClasses$W=tt=>{const{classes:et,disabled:rt,size:nt,color:it,iconColor:ot,onDelete:at,clickable:st,variant:lt}=tt,ct={root:["root",lt,rt&&"disabled",`size${capitalize$1(nt)}`,`color${capitalize$1(it)}`,st&&"clickable",st&&`clickableColor${capitalize$1(it)}`,at&&"deletable",at&&`deletableColor${capitalize$1(it)}`,`${lt}${capitalize$1(it)}`],label:["label",`label${capitalize$1(nt)}`],avatar:["avatar",`avatar${capitalize$1(nt)}`,`avatarColor${capitalize$1(it)}`],icon:["icon",`icon${capitalize$1(nt)}`,`iconColor${capitalize$1(ot)}`],deleteIcon:["deleteIcon",`deleteIcon${capitalize$1(nt)}`,`deleteIconColor${capitalize$1(it)}`,`deleteIcon${capitalize$1(lt)}Color${capitalize$1(it)}`]};return composeClasses(ct,getChipUtilityClass,et)},ChipRoot=styled$1("div",{name:"MuiChip",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt,{color:nt,iconColor:it,clickable:ot,onDelete:at,size:st,variant:lt}=rt;return[{[`& .${chipClasses$1.avatar}`]:et.avatar},{[`& .${chipClasses$1.avatar}`]:et[`avatar${capitalize$1(st)}`]},{[`& .${chipClasses$1.avatar}`]:et[`avatarColor${capitalize$1(nt)}`]},{[`& .${chipClasses$1.icon}`]:et.icon},{[`& .${chipClasses$1.icon}`]:et[`icon${capitalize$1(st)}`]},{[`& .${chipClasses$1.icon}`]:et[`iconColor${capitalize$1(it)}`]},{[`& .${chipClasses$1.deleteIcon}`]:et.deleteIcon},{[`& .${chipClasses$1.deleteIcon}`]:et[`deleteIcon${capitalize$1(st)}`]},{[`& .${chipClasses$1.deleteIcon}`]:et[`deleteIconColor${capitalize$1(nt)}`]},{[`& .${chipClasses$1.deleteIcon}`]:et[`deleteIcon${capitalize$1(lt)}Color${capitalize$1(nt)}`]},et.root,et[`size${capitalize$1(st)}`],et[`color${capitalize$1(nt)}`],ot&&et.clickable,ot&&nt!=="default"&&et[`clickableColor${capitalize$1(nt)})`],at&&et.deletable,at&&nt!=="default"&&et[`deletableColor${capitalize$1(nt)}`],et[lt],et[`${lt}${capitalize$1(nt)}`]]}})(({theme:tt,ownerState:et})=>{const rt=alpha(tt.palette.text.primary,.26),nt=tt.palette.mode==="light"?tt.palette.grey[700]:tt.palette.grey[300];return _extends$n({maxWidth:"100%",fontFamily:tt.typography.fontFamily,fontSize:tt.typography.pxToRem(13),display:"inline-flex",alignItems:"center",justifyContent:"center",height:32,color:(tt.vars||tt).palette.text.primary,backgroundColor:(tt.vars||tt).palette.action.selected,borderRadius:32/2,whiteSpace:"nowrap",transition:tt.transitions.create(["background-color","box-shadow"]),cursor:"default",outline:0,textDecoration:"none",border:0,padding:0,verticalAlign:"middle",boxSizing:"border-box",[`&.${chipClasses$1.disabled}`]:{opacity:(tt.vars||tt).palette.action.disabledOpacity,pointerEvents:"none"},[`& .${chipClasses$1.avatar}`]:{marginLeft:5,marginRight:-6,width:24,height:24,color:tt.vars?tt.vars.palette.Chip.defaultAvatarColor:nt,fontSize:tt.typography.pxToRem(12)},[`& .${chipClasses$1.avatarColorPrimary}`]:{color:(tt.vars||tt).palette.primary.contrastText,backgroundColor:(tt.vars||tt).palette.primary.dark},[`& .${chipClasses$1.avatarColorSecondary}`]:{color:(tt.vars||tt).palette.secondary.contrastText,backgroundColor:(tt.vars||tt).palette.secondary.dark},[`& .${chipClasses$1.avatarSmall}`]:{marginLeft:4,marginRight:-4,width:18,height:18,fontSize:tt.typography.pxToRem(10)},[`& .${chipClasses$1.icon}`]:_extends$n({marginLeft:5,marginRight:-6},et.size==="small"&&{fontSize:18,marginLeft:4,marginRight:-4},et.iconColor===et.color&&_extends$n({color:tt.vars?tt.vars.palette.Chip.defaultIconColor:nt},et.color!=="default"&&{color:"inherit"})),[`& .${chipClasses$1.deleteIcon}`]:_extends$n({WebkitTapHighlightColor:"transparent",color:tt.vars?`rgba(${tt.vars.palette.text.primaryChannel} / 0.26)`:rt,fontSize:22,cursor:"pointer",margin:"0 5px 0 -6px","&:hover":{color:tt.vars?`rgba(${tt.vars.palette.text.primaryChannel} / 0.4)`:alpha(rt,.4)}},et.size==="small"&&{fontSize:16,marginRight:4,marginLeft:-4},et.color!=="default"&&{color:tt.vars?`rgba(${tt.vars.palette[et.color].contrastTextChannel} / 0.7)`:alpha(tt.palette[et.color].contrastText,.7),"&:hover, &:active":{color:(tt.vars||tt).palette[et.color].contrastText}})},et.size==="small"&&{height:24},et.color!=="default"&&{backgroundColor:(tt.vars||tt).palette[et.color].main,color:(tt.vars||tt).palette[et.color].contrastText},et.onDelete&&{[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette.action.selectedChannel} / calc(${tt.vars.palette.action.selectedOpacity} + ${tt.vars.palette.action.focusOpacity}))`:alpha(tt.palette.action.selected,tt.palette.action.selectedOpacity+tt.palette.action.focusOpacity)}},et.onDelete&&et.color!=="default"&&{[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:(tt.vars||tt).palette[et.color].dark}})},({theme:tt,ownerState:et})=>_extends$n({},et.clickable&&{userSelect:"none",WebkitTapHighlightColor:"transparent",cursor:"pointer","&:hover":{backgroundColor:tt.vars?`rgba(${tt.vars.palette.action.selectedChannel} / calc(${tt.vars.palette.action.selectedOpacity} + ${tt.vars.palette.action.hoverOpacity}))`:alpha(tt.palette.action.selected,tt.palette.action.selectedOpacity+tt.palette.action.hoverOpacity)},[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette.action.selectedChannel} / calc(${tt.vars.palette.action.selectedOpacity} + ${tt.vars.palette.action.focusOpacity}))`:alpha(tt.palette.action.selected,tt.palette.action.selectedOpacity+tt.palette.action.focusOpacity)},"&:active":{boxShadow:(tt.vars||tt).shadows[1]}},et.clickable&&et.color!=="default"&&{[`&:hover, &.${chipClasses$1.focusVisible}`]:{backgroundColor:(tt.vars||tt).palette[et.color].dark}}),({theme:tt,ownerState:et})=>_extends$n({},et.variant==="outlined"&&{backgroundColor:"transparent",border:tt.vars?`1px solid ${tt.vars.palette.Chip.defaultBorder}`:`1px solid ${tt.palette.mode==="light"?tt.palette.grey[400]:tt.palette.grey[700]}`,[`&.${chipClasses$1.clickable}:hover`]:{backgroundColor:(tt.vars||tt).palette.action.hover},[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:(tt.vars||tt).palette.action.focus},[`& .${chipClasses$1.avatar}`]:{marginLeft:4},[`& .${chipClasses$1.avatarSmall}`]:{marginLeft:2},[`& .${chipClasses$1.icon}`]:{marginLeft:4},[`& .${chipClasses$1.iconSmall}`]:{marginLeft:2},[`& .${chipClasses$1.deleteIcon}`]:{marginRight:5},[`& .${chipClasses$1.deleteIconSmall}`]:{marginRight:3}},et.variant==="outlined"&&et.color!=="default"&&{color:(tt.vars||tt).palette[et.color].main,border:`1px solid ${tt.vars?`rgba(${tt.vars.palette[et.color].mainChannel} / 0.7)`:alpha(tt.palette[et.color].main,.7)}`,[`&.${chipClasses$1.clickable}:hover`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette[et.color].mainChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(tt.palette[et.color].main,tt.palette.action.hoverOpacity)},[`&.${chipClasses$1.focusVisible}`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette[et.color].mainChannel} / ${tt.vars.palette.action.focusOpacity})`:alpha(tt.palette[et.color].main,tt.palette.action.focusOpacity)},[`& .${chipClasses$1.deleteIcon}`]:{color:tt.vars?`rgba(${tt.vars.palette[et.color].mainChannel} / 0.7)`:alpha(tt.palette[et.color].main,.7),"&:hover, &:active":{color:(tt.vars||tt).palette[et.color].main}}})),ChipLabel=styled$1("span",{name:"MuiChip",slot:"Label",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt,{size:nt}=rt;return[et.label,et[`label${capitalize$1(nt)}`]]}})(({ownerState:tt})=>_extends$n({overflow:"hidden",textOverflow:"ellipsis",paddingLeft:12,paddingRight:12,whiteSpace:"nowrap"},tt.size==="small"&&{paddingLeft:8,paddingRight:8}));function isDeleteKeyboardEvent(tt){return tt.key==="Backspace"||tt.key==="Delete"}const Chip=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiChip"}),{avatar:it,className:ot,clickable:at,color:st="default",component:lt,deleteIcon:ct,disabled:ut=!1,icon:dt,label:ft,onClick:pt,onDelete:mt,onKeyDown:ht,onKeyUp:gt,size:vt="medium",variant:yt="filled",tabIndex:bt,skipFocusWhenDisabled:xt=!1}=nt,$t=_objectWithoutPropertiesLoose$4(nt,_excluded$1b),Tt=reactExports.useRef(null),wt=useForkRef(Tt,rt),At=jt=>{jt.stopPropagation(),mt&&mt(jt)},Rt=jt=>{jt.currentTarget===jt.target&&isDeleteKeyboardEvent(jt)&&jt.preventDefault(),ht&&ht(jt)},It=jt=>{jt.currentTarget===jt.target&&(mt&&isDeleteKeyboardEvent(jt)?mt(jt):jt.key==="Escape"&&Tt.current&&Tt.current.blur()),gt&&gt(jt)},Lt=at!==!1&&pt?!0:at,Pt=Lt||mt?ButtonBase$1:lt||"div",Nt=_extends$n({},nt,{component:Pt,disabled:ut,size:vt,color:st,iconColor:reactExports.isValidElement(dt)&&dt.props.color||st,onDelete:!!mt,clickable:Lt,variant:yt}),Ot=useUtilityClasses$W(Nt),Bt=Pt===ButtonBase$1?_extends$n({component:lt||"div",focusVisibleClassName:Ot.focusVisible},mt&&{disableRipple:!0}):{};let zt=null;mt&&(zt=ct&&reactExports.isValidElement(ct)?reactExports.cloneElement(ct,{className:clsx(ct.props.className,Ot.deleteIcon),onClick:At}):jsx$1(CancelIcon,{className:clsx(Ot.deleteIcon),onClick:At}));let Vt=null;it&&reactExports.isValidElement(it)&&(Vt=reactExports.cloneElement(it,{className:clsx(Ot.avatar,it.props.className)}));let Ut=null;return dt&&reactExports.isValidElement(dt)&&(Ut=reactExports.cloneElement(dt,{className:clsx(Ot.icon,dt.props.className)})),jsxs$1(ChipRoot,_extends$n({as:Pt,className:clsx(Ot.root,ot),disabled:Lt&&ut?!0:void 0,onClick:pt,onKeyDown:Rt,onKeyUp:It,ref:wt,tabIndex:xt&&ut?-1:bt,ownerState:Nt},Bt,$t,{children:[Vt||Ut,jsx$1(ChipLabel,{className:clsx(Ot.label),ownerState:Nt,children:ft}),zt]}))}),Chip$1=Chip;function formControlState({props:tt,states:et,muiFormControl:rt}){return et.reduce((nt,it)=>(nt[it]=tt[it],rt&&typeof tt[it]>"u"&&(nt[it]=rt[it]),nt),{})}const FormControlContext=reactExports.createContext(void 0),FormControlContext$1=FormControlContext;function useFormControl(){return reactExports.useContext(FormControlContext$1)}function GlobalStyles(tt){return jsx$1(GlobalStyles$1,_extends$n({},tt,{defaultTheme:defaultTheme$2}))}function hasValue(tt){return tt!=null&&!(Array.isArray(tt)&&tt.length===0)}function isFilled(tt,et=!1){return tt&&(hasValue(tt.value)&&tt.value!==""||et&&hasValue(tt.defaultValue)&&tt.defaultValue!=="")}function isAdornedStart(tt){return tt.startAdornment}function getInputBaseUtilityClass(tt){return generateUtilityClass("MuiInputBase",tt)}const inputBaseClasses=generateUtilityClasses("MuiInputBase",["root","formControl","focused","disabled","adornedStart","adornedEnd","error","sizeSmall","multiline","colorSecondary","fullWidth","hiddenLabel","readOnly","input","inputSizeSmall","inputMultiline","inputTypeSearch","inputAdornedStart","inputAdornedEnd","inputHiddenLabel"]),inputBaseClasses$1=inputBaseClasses,_excluded$1a=["aria-describedby","autoComplete","autoFocus","className","color","components","componentsProps","defaultValue","disabled","disableInjectingGlobalStyles","endAdornment","error","fullWidth","id","inputComponent","inputProps","inputRef","margin","maxRows","minRows","multiline","name","onBlur","onChange","onClick","onFocus","onKeyDown","onKeyUp","placeholder","readOnly","renderSuffix","rows","size","slotProps","slots","startAdornment","type","value"],rootOverridesResolver=(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.formControl&&et.formControl,rt.startAdornment&&et.adornedStart,rt.endAdornment&&et.adornedEnd,rt.error&&et.error,rt.size==="small"&&et.sizeSmall,rt.multiline&&et.multiline,rt.color&&et[`color${capitalize$1(rt.color)}`],rt.fullWidth&&et.fullWidth,rt.hiddenLabel&&et.hiddenLabel]},inputOverridesResolver=(tt,et)=>{const{ownerState:rt}=tt;return[et.input,rt.size==="small"&&et.inputSizeSmall,rt.multiline&&et.inputMultiline,rt.type==="search"&&et.inputTypeSearch,rt.startAdornment&&et.inputAdornedStart,rt.endAdornment&&et.inputAdornedEnd,rt.hiddenLabel&&et.inputHiddenLabel]},useUtilityClasses$V=tt=>{const{classes:et,color:rt,disabled:nt,error:it,endAdornment:ot,focused:at,formControl:st,fullWidth:lt,hiddenLabel:ct,multiline:ut,readOnly:dt,size:ft,startAdornment:pt,type:mt}=tt,ht={root:["root",`color${capitalize$1(rt)}`,nt&&"disabled",it&&"error",lt&&"fullWidth",at&&"focused",st&&"formControl",ft==="small"&&"sizeSmall",ut&&"multiline",pt&&"adornedStart",ot&&"adornedEnd",ct&&"hiddenLabel",dt&&"readOnly"],input:["input",nt&&"disabled",mt==="search"&&"inputTypeSearch",ut&&"inputMultiline",ft==="small"&&"inputSizeSmall",ct&&"inputHiddenLabel",pt&&"inputAdornedStart",ot&&"inputAdornedEnd",dt&&"readOnly"]};return composeClasses(ht,getInputBaseUtilityClass,et)},InputBaseRoot=styled$1("div",{name:"MuiInputBase",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:tt,ownerState:et})=>_extends$n({},tt.typography.body1,{color:(tt.vars||tt).palette.text.primary,lineHeight:"1.4375em",boxSizing:"border-box",position:"relative",cursor:"text",display:"inline-flex",alignItems:"center",[`&.${inputBaseClasses$1.disabled}`]:{color:(tt.vars||tt).palette.text.disabled,cursor:"default"}},et.multiline&&_extends$n({padding:"4px 0 5px"},et.size==="small"&&{paddingTop:1}),et.fullWidth&&{width:"100%"})),InputBaseComponent=styled$1("input",{name:"MuiInputBase",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:tt,ownerState:et})=>{const rt=tt.palette.mode==="light",nt=_extends$n({color:"currentColor"},tt.vars?{opacity:tt.vars.opacity.inputPlaceholder}:{opacity:rt?.42:.5},{transition:tt.transitions.create("opacity",{duration:tt.transitions.duration.shorter})}),it={opacity:"0 !important"},ot=tt.vars?{opacity:tt.vars.opacity.inputPlaceholder}:{opacity:rt?.42:.5};return _extends$n({font:"inherit",letterSpacing:"inherit",color:"currentColor",padding:"4px 0 5px",border:0,boxSizing:"content-box",background:"none",height:"1.4375em",margin:0,WebkitTapHighlightColor:"transparent",display:"block",minWidth:0,width:"100%",animationName:"mui-auto-fill-cancel",animationDuration:"10ms","&::-webkit-input-placeholder":nt,"&::-moz-placeholder":nt,"&:-ms-input-placeholder":nt,"&::-ms-input-placeholder":nt,"&:focus":{outline:0},"&:invalid":{boxShadow:"none"},"&::-webkit-search-decoration":{WebkitAppearance:"none"},[`label[data-shrink=false] + .${inputBaseClasses$1.formControl} &`]:{"&::-webkit-input-placeholder":it,"&::-moz-placeholder":it,"&:-ms-input-placeholder":it,"&::-ms-input-placeholder":it,"&:focus::-webkit-input-placeholder":ot,"&:focus::-moz-placeholder":ot,"&:focus:-ms-input-placeholder":ot,"&:focus::-ms-input-placeholder":ot},[`&.${inputBaseClasses$1.disabled}`]:{opacity:1,WebkitTextFillColor:(tt.vars||tt).palette.text.disabled},"&:-webkit-autofill":{animationDuration:"5000s",animationName:"mui-auto-fill"}},et.size==="small"&&{paddingTop:1},et.multiline&&{height:"auto",resize:"none",padding:0,paddingTop:0},et.type==="search"&&{MozAppearance:"textfield"})}),inputGlobalStyles=jsx$1(GlobalStyles,{styles:{"@keyframes mui-auto-fill":{from:{display:"block"}},"@keyframes mui-auto-fill-cancel":{from:{display:"block"}}}}),InputBase=reactExports.forwardRef(function(et,rt){var nt;const it=useThemeProps({props:et,name:"MuiInputBase"}),{"aria-describedby":ot,autoComplete:at,autoFocus:st,className:lt,components:ct={},componentsProps:ut={},defaultValue:dt,disabled:ft,disableInjectingGlobalStyles:pt,endAdornment:mt,fullWidth:ht=!1,id:gt,inputComponent:vt="input",inputProps:yt={},inputRef:bt,maxRows:xt,minRows:$t,multiline:Tt=!1,name:wt,onBlur:At,onChange:Rt,onClick:It,onFocus:Lt,onKeyDown:Pt,onKeyUp:Nt,placeholder:Ot,readOnly:Bt,renderSuffix:zt,rows:Vt,slotProps:Ut={},slots:jt={},startAdornment:qt,type:Dt="text",value:Ft}=it,Zt=_objectWithoutPropertiesLoose$4(it,_excluded$1a),Kt=yt.value!=null?yt.value:Ft,{current:ir}=reactExports.useRef(Kt!=null),rr=reactExports.useRef(),mr=reactExports.useCallback(yr=>{},[]),sr=useForkRef(rr,bt,yt.ref,mr),[fr,pr]=reactExports.useState(!1),vr=useFormControl(),dr=formControlState({props:it,muiFormControl:vr,states:["color","disabled","error","hiddenLabel","size","required","filled"]});dr.focused=vr?vr.focused:fr,reactExports.useEffect(()=>{!vr&&ft&&fr&&(pr(!1),At&&At())},[vr,ft,fr,At]);const xr=vr&&vr.onFilled,Gt=vr&&vr.onEmpty,Wt=reactExports.useCallback(yr=>{isFilled(yr)?xr&&xr():Gt&&Gt()},[xr,Gt]);useEnhancedEffect$1(()=>{ir&&Wt({value:Kt})},[Kt,Wt,ir]);const nr=yr=>{if(dr.disabled){yr.stopPropagation();return}Lt&&Lt(yr),yt.onFocus&&yt.onFocus(yr),vr&&vr.onFocus?vr.onFocus(yr):pr(!0)},Qt=yr=>{At&&At(yr),yt.onBlur&&yt.onBlur(yr),vr&&vr.onBlur?vr.onBlur(yr):pr(!1)},Jt=(yr,...hr)=>{if(!ir){const $r=yr.target||rr.current;if($r==null)throw new Error(formatMuiErrorMessage(1));Wt({value:$r.value})}yt.onChange&&yt.onChange(yr,...hr),Rt&&Rt(yr,...hr)};reactExports.useEffect(()=>{Wt(rr.current)},[]);const ar=yr=>{rr.current&&yr.currentTarget===yr.target&&rr.current.focus(),It&&It(yr)};let cr=vt,lr=yt;Tt&&cr==="input"&&(Vt?lr=_extends$n({type:void 0,minRows:Vt,maxRows:Vt},lr):lr=_extends$n({type:void 0,maxRows:xt,minRows:$t},lr),cr=TextareaAutosize$1);const Yt=yr=>{Wt(yr.animationName==="mui-auto-fill-cancel"?rr.current:{value:"x"})};reactExports.useEffect(()=>{vr&&vr.setAdornedStart(Boolean(qt))},[vr,qt]);const Xt=_extends$n({},it,{color:dr.color||"primary",disabled:dr.disabled,endAdornment:mt,error:dr.error,focused:dr.focused,formControl:vr,fullWidth:ht,hiddenLabel:dr.hiddenLabel,multiline:Tt,size:dr.size,startAdornment:qt,type:Dt}),tr=useUtilityClasses$V(Xt),or=jt.root||ct.Root||InputBaseRoot,br=Ut.root||ut.root||{},Sr=jt.input||ct.Input||InputBaseComponent;return lr=_extends$n({},lr,(nt=Ut.input)!=null?nt:ut.input),jsxs$1(reactExports.Fragment,{children:[!pt&&inputGlobalStyles,jsxs$1(or,_extends$n({},br,!isHostComponent(or)&&{ownerState:_extends$n({},Xt,br.ownerState)},{ref:rt,onClick:ar},Zt,{className:clsx(tr.root,br.className,lt),children:[qt,jsx$1(FormControlContext$1.Provider,{value:null,children:jsx$1(Sr,_extends$n({ownerState:Xt,"aria-invalid":dr.error,"aria-describedby":ot,autoComplete:at,autoFocus:st,defaultValue:dt,disabled:dr.disabled,id:gt,onAnimationStart:Yt,name:wt,placeholder:Ot,readOnly:Bt,required:dr.required,rows:Vt,value:Kt,onKeyDown:Pt,onKeyUp:Nt,type:Dt},lr,!isHostComponent(Sr)&&{as:cr,ownerState:_extends$n({},Xt,lr.ownerState)},{ref:sr,className:clsx(tr.input,lr.className),onBlur:Qt,onChange:Jt,onFocus:nr}))}),mt,zt?zt(_extends$n({},dr,{startAdornment:qt})):null]}))]})}),InputBase$1=InputBase;function getInputUtilityClass(tt){return generateUtilityClass("MuiInput",tt)}const inputClasses=_extends$n({},inputBaseClasses$1,generateUtilityClasses("MuiInput",["root","underline","input"])),inputClasses$1=inputClasses;function getOutlinedInputUtilityClass(tt){return generateUtilityClass("MuiOutlinedInput",tt)}const outlinedInputClasses=_extends$n({},inputBaseClasses$1,generateUtilityClasses("MuiOutlinedInput",["root","notchedOutline","input"])),outlinedInputClasses$1=outlinedInputClasses;function getFilledInputUtilityClass(tt){return generateUtilityClass("MuiFilledInput",tt)}const filledInputClasses=_extends$n({},inputBaseClasses$1,generateUtilityClasses("MuiFilledInput",["root","underline","input"])),filledInputClasses$1=filledInputClasses,ArrowDropDownIcon=createSvgIcon$1(jsx$1("path",{d:"M7 10l5 5 5-5z"}),"ArrowDropDown");function getAutocompleteUtilityClass(tt){return generateUtilityClass("MuiAutocomplete",tt)}const autocompleteClasses=generateUtilityClasses("MuiAutocomplete",["root","fullWidth","focused","focusVisible","tag","tagSizeSmall","tagSizeMedium","hasPopupIcon","hasClearIcon","inputRoot","input","inputFocused","endAdornment","clearIndicator","popupIndicator","popupIndicatorOpen","popper","popperDisablePortal","paper","listbox","loading","noOptions","option","groupLabel","groupUl"]),autocompleteClasses$1=autocompleteClasses;var _ClearIcon,_ArrowDropDownIcon;const _excluded$19=["autoComplete","autoHighlight","autoSelect","blurOnSelect","ChipProps","className","clearIcon","clearOnBlur","clearOnEscape","clearText","closeText","componentsProps","defaultValue","disableClearable","disableCloseOnSelect","disabled","disabledItemsFocusable","disableListWrap","disablePortal","filterOptions","filterSelectedOptions","forcePopupIcon","freeSolo","fullWidth","getLimitTagsText","getOptionDisabled","getOptionLabel","isOptionEqualToValue","groupBy","handleHomeEndKeys","id","includeInputInList","inputValue","limitTags","ListboxComponent","ListboxProps","loading","loadingText","multiple","noOptionsText","onChange","onClose","onHighlightChange","onInputChange","onOpen","open","openOnFocus","openText","options","PaperComponent","PopperComponent","popupIcon","readOnly","renderGroup","renderInput","renderOption","renderTags","selectOnFocus","size","slotProps","value"],useUtilityClasses$U=tt=>{const{classes:et,disablePortal:rt,focused:nt,fullWidth:it,hasClearIcon:ot,hasPopupIcon:at,inputFocused:st,popupOpen:lt,size:ct}=tt,ut={root:["root",nt&&"focused",it&&"fullWidth",ot&&"hasClearIcon",at&&"hasPopupIcon"],inputRoot:["inputRoot"],input:["input",st&&"inputFocused"],tag:["tag",`tagSize${capitalize$1(ct)}`],endAdornment:["endAdornment"],clearIndicator:["clearIndicator"],popupIndicator:["popupIndicator",lt&&"popupIndicatorOpen"],popper:["popper",rt&&"popperDisablePortal"],paper:["paper"],listbox:["listbox"],loading:["loading"],noOptions:["noOptions"],option:["option"],groupLabel:["groupLabel"],groupUl:["groupUl"]};return composeClasses(ut,getAutocompleteUtilityClass,et)},AutocompleteRoot=styled$1("div",{name:"MuiAutocomplete",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt,{fullWidth:nt,hasClearIcon:it,hasPopupIcon:ot,inputFocused:at,size:st}=rt;return[{[`& .${autocompleteClasses$1.tag}`]:et.tag},{[`& .${autocompleteClasses$1.tag}`]:et[`tagSize${capitalize$1(st)}`]},{[`& .${autocompleteClasses$1.inputRoot}`]:et.inputRoot},{[`& .${autocompleteClasses$1.input}`]:et.input},{[`& .${autocompleteClasses$1.input}`]:at&&et.inputFocused},et.root,nt&&et.fullWidth,ot&&et.hasPopupIcon,it&&et.hasClearIcon]}})(({ownerState:tt})=>_extends$n({[`&.${autocompleteClasses$1.focused} .${autocompleteClasses$1.clearIndicator}`]:{visibility:"visible"},"@media (pointer: fine)":{[`&:hover .${autocompleteClasses$1.clearIndicator}`]:{visibility:"visible"}}},tt.fullWidth&&{width:"100%"},{[`& .${autocompleteClasses$1.tag}`]:_extends$n({margin:3,maxWidth:"calc(100% - 6px)"},tt.size==="small"&&{margin:2,maxWidth:"calc(100% - 4px)"}),[`& .${autocompleteClasses$1.inputRoot}`]:{flexWrap:"wrap",[`.${autocompleteClasses$1.hasPopupIcon}&, .${autocompleteClasses$1.hasClearIcon}&`]:{paddingRight:26+4},[`.${autocompleteClasses$1.hasPopupIcon}.${autocompleteClasses$1.hasClearIcon}&`]:{paddingRight:52+4},[`& .${autocompleteClasses$1.input}`]:{width:0,minWidth:30}},[`& .${inputClasses$1.root}`]:{paddingBottom:1,"& .MuiInput-input":{padding:"4px 4px 4px 0px"}},[`& .${inputClasses$1.root}.${inputBaseClasses$1.sizeSmall}`]:{[`& .${inputClasses$1.input}`]:{padding:"2px 4px 3px 0"}},[`& .${outlinedInputClasses$1.root}`]:{padding:9,[`.${autocompleteClasses$1.hasPopupIcon}&, .${autocompleteClasses$1.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${autocompleteClasses$1.hasPopupIcon}.${autocompleteClasses$1.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${autocompleteClasses$1.input}`]:{padding:"7.5px 4px 7.5px 6px"},[`& .${autocompleteClasses$1.endAdornment}`]:{right:9}},[`& .${outlinedInputClasses$1.root}.${inputBaseClasses$1.sizeSmall}`]:{paddingTop:6,paddingBottom:6,paddingLeft:6,[`& .${autocompleteClasses$1.input}`]:{padding:"2.5px 4px 2.5px 6px"}},[`& .${filledInputClasses$1.root}`]:{paddingTop:19,paddingLeft:8,[`.${autocompleteClasses$1.hasPopupIcon}&, .${autocompleteClasses$1.hasClearIcon}&`]:{paddingRight:26+4+9},[`.${autocompleteClasses$1.hasPopupIcon}.${autocompleteClasses$1.hasClearIcon}&`]:{paddingRight:52+4+9},[`& .${filledInputClasses$1.input}`]:{padding:"7px 4px"},[`& .${autocompleteClasses$1.endAdornment}`]:{right:9}},[`& .${filledInputClasses$1.root}.${inputBaseClasses$1.sizeSmall}`]:{paddingBottom:1,[`& .${filledInputClasses$1.input}`]:{padding:"2.5px 4px"}},[`& .${inputBaseClasses$1.hiddenLabel}`]:{paddingTop:8},[`& .${autocompleteClasses$1.input}`]:_extends$n({flexGrow:1,textOverflow:"ellipsis",opacity:0},tt.inputFocused&&{opacity:1})})),AutocompleteEndAdornment=styled$1("div",{name:"MuiAutocomplete",slot:"EndAdornment",overridesResolver:(tt,et)=>et.endAdornment})({position:"absolute",right:0,top:"calc(50% - 14px)"}),AutocompleteClearIndicator=styled$1(IconButton$1,{name:"MuiAutocomplete",slot:"ClearIndicator",overridesResolver:(tt,et)=>et.clearIndicator})({marginRight:-2,padding:4,visibility:"hidden"}),AutocompletePopupIndicator=styled$1(IconButton$1,{name:"MuiAutocomplete",slot:"PopupIndicator",overridesResolver:({ownerState:tt},et)=>_extends$n({},et.popupIndicator,tt.popupOpen&&et.popupIndicatorOpen)})(({ownerState:tt})=>_extends$n({padding:2,marginRight:-2},tt.popupOpen&&{transform:"rotate(180deg)"})),AutocompletePopper=styled$1(Popper$1,{name:"MuiAutocomplete",slot:"Popper",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[{[`& .${autocompleteClasses$1.option}`]:et.option},et.popper,rt.disablePortal&&et.popperDisablePortal]}})(({theme:tt,ownerState:et})=>_extends$n({zIndex:(tt.vars||tt).zIndex.modal},et.disablePortal&&{position:"absolute"})),AutocompletePaper=styled$1(Paper$1,{name:"MuiAutocomplete",slot:"Paper",overridesResolver:(tt,et)=>et.paper})(({theme:tt})=>_extends$n({},tt.typography.body1,{overflow:"auto"})),AutocompleteLoading=styled$1("div",{name:"MuiAutocomplete",slot:"Loading",overridesResolver:(tt,et)=>et.loading})(({theme:tt})=>({color:(tt.vars||tt).palette.text.secondary,padding:"14px 16px"})),AutocompleteNoOptions=styled$1("div",{name:"MuiAutocomplete",slot:"NoOptions",overridesResolver:(tt,et)=>et.noOptions})(({theme:tt})=>({color:(tt.vars||tt).palette.text.secondary,padding:"14px 16px"})),AutocompleteListbox=styled$1("div",{name:"MuiAutocomplete",slot:"Listbox",overridesResolver:(tt,et)=>et.listbox})(({theme:tt})=>({listStyle:"none",margin:0,padding:"8px 0",maxHeight:"40vh",overflow:"auto",position:"relative",[`& .${autocompleteClasses$1.option}`]:{minHeight:48,display:"flex",overflow:"hidden",justifyContent:"flex-start",alignItems:"center",cursor:"pointer",paddingTop:6,boxSizing:"border-box",outline:"0",WebkitTapHighlightColor:"transparent",paddingBottom:6,paddingLeft:16,paddingRight:16,[tt.breakpoints.up("sm")]:{minHeight:"auto"},[`&.${autocompleteClasses$1.focused}`]:{backgroundColor:(tt.vars||tt).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},'&[aria-disabled="true"]':{opacity:(tt.vars||tt).palette.action.disabledOpacity,pointerEvents:"none"},[`&.${autocompleteClasses$1.focusVisible}`]:{backgroundColor:(tt.vars||tt).palette.action.focus},'&[aria-selected="true"]':{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / ${tt.vars.palette.action.selectedOpacity})`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity),[`&.${autocompleteClasses$1.focused}`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / calc(${tt.vars.palette.action.selectedOpacity} + ${tt.vars.palette.action.hoverOpacity}))`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity+tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:(tt.vars||tt).palette.action.selected}},[`&.${autocompleteClasses$1.focusVisible}`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / calc(${tt.vars.palette.action.selectedOpacity} + ${tt.vars.palette.action.focusOpacity}))`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity+tt.palette.action.focusOpacity)}}}})),AutocompleteGroupLabel=styled$1(ListSubheader$1,{name:"MuiAutocomplete",slot:"GroupLabel",overridesResolver:(tt,et)=>et.groupLabel})(({theme:tt})=>({backgroundColor:(tt.vars||tt).palette.background.paper,top:-8})),AutocompleteGroupUl=styled$1("ul",{name:"MuiAutocomplete",slot:"GroupUl",overridesResolver:(tt,et)=>et.groupUl})({padding:0,[`& .${autocompleteClasses$1.option}`]:{paddingLeft:24}}),Autocomplete=reactExports.forwardRef(function(et,rt){var nt,it,ot,at;const st=useThemeProps({props:et,name:"MuiAutocomplete"}),{autoComplete:lt=!1,autoHighlight:ct=!1,autoSelect:ut=!1,blurOnSelect:dt=!1,ChipProps:ft,className:pt,clearIcon:mt=_ClearIcon||(_ClearIcon=jsx$1(ClearIcon,{fontSize:"small"})),clearOnBlur:ht=!st.freeSolo,clearOnEscape:gt=!1,clearText:vt="Clear",closeText:yt="Close",componentsProps:bt={},defaultValue:xt=st.multiple?[]:null,disableClearable:$t=!1,disableCloseOnSelect:Tt=!1,disabled:wt=!1,disabledItemsFocusable:At=!1,disableListWrap:Rt=!1,disablePortal:It=!1,filterSelectedOptions:Lt=!1,forcePopupIcon:Pt="auto",freeSolo:Nt=!1,fullWidth:Ot=!1,getLimitTagsText:Bt=yn=>`+${yn}`,getOptionLabel:zt=yn=>{var Tn;return(Tn=yn.label)!=null?Tn:yn},groupBy:Vt,handleHomeEndKeys:Ut=!st.freeSolo,includeInputInList:jt=!1,limitTags:qt=-1,ListboxComponent:Dt="ul",ListboxProps:Ft,loading:Zt=!1,loadingText:Kt="Loading…",multiple:ir=!1,noOptionsText:rr="No options",openOnFocus:mr=!1,openText:sr="Open",PaperComponent:fr=Paper$1,PopperComponent:pr=Popper$1,popupIcon:vr=_ArrowDropDownIcon||(_ArrowDropDownIcon=jsx$1(ArrowDropDownIcon,{})),readOnly:dr=!1,renderGroup:xr,renderInput:Gt,renderOption:Wt,renderTags:nr,selectOnFocus:Qt=!st.freeSolo,size:Jt="medium",slotProps:ar={}}=st,cr=_objectWithoutPropertiesLoose$4(st,_excluded$19),{getRootProps:lr,getInputProps:Yt,getInputLabelProps:Xt,getPopupIndicatorProps:tr,getClearProps:or,getTagProps:br,getListboxProps:Sr,getOptionProps:yr,value:hr,dirty:$r,id:Mr,popupOpen:Ar,focused:Fr,focusedTag:zr,anchorEl:jr,setAnchorEl:Jr,inputValue:gn,groupedOptions:mn}=useAutocomplete(_extends$n({},st,{componentName:"Autocomplete"})),Cr=!$t&&!wt&&$r&&!dr,Dr=(!Nt||Pt===!0)&&Pt!==!1,Hr=_extends$n({},st,{disablePortal:It,focused:Fr,fullWidth:Ot,hasClearIcon:Cr,hasPopupIcon:Dr,inputFocused:zr===-1,popupOpen:Ar,size:Jt}),Yr=useUtilityClasses$U(Hr);let dn;if(ir&&hr.length>0){const yn=Tn=>_extends$n({className:Yr.tag,disabled:wt},br(Tn));nr?dn=nr(hr,yn,Hr):dn=hr.map((Tn,gr)=>jsx$1(Chip$1,_extends$n({label:zt(Tn),size:Jt},yn({index:gr}),ft)))}if(qt>-1&&Array.isArray(dn)){const yn=dn.length-qt;!Fr&&yn>0&&(dn=dn.splice(0,qt),dn.push(jsx$1("span",{className:Yr.tag,children:Bt(yn)},dn.length)))}const Dn=xr||(yn=>jsxs$1("li",{children:[jsx$1(AutocompleteGroupLabel,{className:Yr.groupLabel,ownerState:Hr,component:"div",children:yn.group}),jsx$1(AutocompleteGroupUl,{className:Yr.groupUl,ownerState:Hr,children:yn.children})]},yn.key)),Fn=Wt||((yn,Tn)=>jsx$1("li",_extends$n({},yn,{children:zt(Tn)}))),Mn=(yn,Tn)=>{const gr=yr({option:yn,index:Tn});return Fn(_extends$n({},gr,{className:Yr.option}),yn,{selected:gr["aria-selected"],index:Tn,inputValue:gn})},Ln=(nt=ar.clearIndicator)!=null?nt:bt.clearIndicator,Rn=(it=ar.paper)!=null?it:bt.paper,Qn=(ot=ar.popper)!=null?ot:bt.popper,Un=(at=ar.popupIndicator)!=null?at:bt.popupIndicator;return jsxs$1(reactExports.Fragment,{children:[jsx$1(AutocompleteRoot,_extends$n({ref:rt,className:clsx(Yr.root,pt),ownerState:Hr},lr(cr),{children:Gt({id:Mr,disabled:wt,fullWidth:!0,size:Jt==="small"?"small":void 0,InputLabelProps:Xt(),InputProps:_extends$n({ref:Jr,className:Yr.inputRoot,startAdornment:dn},(Cr||Dr)&&{endAdornment:jsxs$1(AutocompleteEndAdornment,{className:Yr.endAdornment,ownerState:Hr,children:[Cr?jsx$1(AutocompleteClearIndicator,_extends$n({},or(),{"aria-label":vt,title:vt,ownerState:Hr},Ln,{className:clsx(Yr.clearIndicator,Ln==null?void 0:Ln.className),children:mt})):null,Dr?jsx$1(AutocompletePopupIndicator,_extends$n({},tr(),{disabled:wt,"aria-label":Ar?yt:sr,title:Ar?yt:sr,ownerState:Hr},Un,{className:clsx(Yr.popupIndicator,Un==null?void 0:Un.className),children:vr})):null]})}),inputProps:_extends$n({className:Yr.input,disabled:wt,readOnly:dr},Yt())})})),jr?jsx$1(AutocompletePopper,_extends$n({as:pr,disablePortal:It,style:{width:jr?jr.clientWidth:null},ownerState:Hr,role:"presentation",anchorEl:jr,open:Ar},Qn,{className:clsx(Yr.popper,Qn==null?void 0:Qn.className),children:jsxs$1(AutocompletePaper,_extends$n({ownerState:Hr,as:fr},Rn,{className:clsx(Yr.paper,Rn==null?void 0:Rn.className),children:[Zt&&mn.length===0?jsx$1(AutocompleteLoading,{className:Yr.loading,ownerState:Hr,children:Kt}):null,mn.length===0&&!Nt&&!Zt?jsx$1(AutocompleteNoOptions,{className:Yr.noOptions,ownerState:Hr,role:"presentation",onMouseDown:yn=>{yn.preventDefault()},children:rr}):null,mn.length>0?jsx$1(AutocompleteListbox,_extends$n({as:Dt,className:Yr.listbox,ownerState:Hr},Sr(),Ft,{children:mn.map((yn,Tn)=>Vt?Dn({key:yn.key,group:yn.group,children:yn.options.map((gr,kr)=>Mn(gr,yn.index+kr))}):Mn(yn,Tn))})):null]}))})):null]})}),Autocomplete$1=Autocomplete,Person=createSvgIcon$1(jsx$1("path",{d:"M12 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4zm0 2c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z"}),"Person");function getAvatarUtilityClass(tt){return generateUtilityClass("MuiAvatar",tt)}generateUtilityClasses("MuiAvatar",["root","colorDefault","circular","rounded","square","img","fallback"]);const _excluded$18=["alt","children","className","component","imgProps","sizes","src","srcSet","variant"],useUtilityClasses$T=tt=>{const{classes:et,variant:rt,colorDefault:nt}=tt;return composeClasses({root:["root",rt,nt&&"colorDefault"],img:["img"],fallback:["fallback"]},getAvatarUtilityClass,et)},AvatarRoot=styled$1("div",{name:"MuiAvatar",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[rt.variant],rt.colorDefault&&et.colorDefault]}})(({theme:tt,ownerState:et})=>_extends$n({position:"relative",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,width:40,height:40,fontFamily:tt.typography.fontFamily,fontSize:tt.typography.pxToRem(20),lineHeight:1,borderRadius:"50%",overflow:"hidden",userSelect:"none"},et.variant==="rounded"&&{borderRadius:(tt.vars||tt).shape.borderRadius},et.variant==="square"&&{borderRadius:0},et.colorDefault&&_extends$n({color:(tt.vars||tt).palette.background.default},tt.vars?{backgroundColor:tt.vars.palette.Avatar.defaultBg}:{backgroundColor:tt.palette.mode==="light"?tt.palette.grey[400]:tt.palette.grey[600]}))),AvatarImg=styled$1("img",{name:"MuiAvatar",slot:"Img",overridesResolver:(tt,et)=>et.img})({width:"100%",height:"100%",textAlign:"center",objectFit:"cover",color:"transparent",textIndent:1e4}),AvatarFallback=styled$1(Person,{name:"MuiAvatar",slot:"Fallback",overridesResolver:(tt,et)=>et.fallback})({width:"75%",height:"75%"});function useLoaded({crossOrigin:tt,referrerPolicy:et,src:rt,srcSet:nt}){const[it,ot]=reactExports.useState(!1);return reactExports.useEffect(()=>{if(!rt&&!nt)return;ot(!1);let at=!0;const st=new Image;return st.onload=()=>{at&&ot("loaded")},st.onerror=()=>{at&&ot("error")},st.crossOrigin=tt,st.referrerPolicy=et,st.src=rt,nt&&(st.srcset=nt),()=>{at=!1}},[tt,et,rt,nt]),it}const Avatar=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiAvatar"}),{alt:it,children:ot,className:at,component:st="div",imgProps:lt,sizes:ct,src:ut,srcSet:dt,variant:ft="circular"}=nt,pt=_objectWithoutPropertiesLoose$4(nt,_excluded$18);let mt=null;const ht=useLoaded(_extends$n({},lt,{src:ut,srcSet:dt})),gt=ut||dt,vt=gt&&ht!=="error",yt=_extends$n({},nt,{colorDefault:!vt,component:st,variant:ft}),bt=useUtilityClasses$T(yt);return vt?mt=jsx$1(AvatarImg,_extends$n({alt:it,src:ut,srcSet:dt,sizes:ct,ownerState:yt,className:bt.img},lt)):ot!=null?mt=ot:gt&&it?mt=it[0]:mt=jsx$1(AvatarFallback,{className:bt.fallback}),jsx$1(AvatarRoot,_extends$n({as:st,ownerState:yt,className:clsx(bt.root,at),ref:rt},pt,{children:mt}))}),Avatar$1=Avatar,_excluded$17=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$5={entering:{opacity:1},entered:{opacity:1}},Fade=reactExports.forwardRef(function(et,rt){const nt=useTheme(),it={enter:nt.transitions.duration.enteringScreen,exit:nt.transitions.duration.leavingScreen},{addEndListener:ot,appear:at=!0,children:st,easing:lt,in:ct,onEnter:ut,onEntered:dt,onEntering:ft,onExit:pt,onExited:mt,onExiting:ht,style:gt,timeout:vt=it,TransitionComponent:yt=Transition$1}=et,bt=_objectWithoutPropertiesLoose$4(et,_excluded$17),xt=reactExports.useRef(null),$t=useForkRef(xt,st.ref,rt),Tt=Ot=>Bt=>{if(Ot){const zt=xt.current;Bt===void 0?Ot(zt):Ot(zt,Bt)}},wt=Tt(ft),At=Tt((Ot,Bt)=>{reflow(Ot);const zt=getTransitionProps({style:gt,timeout:vt,easing:lt},{mode:"enter"});Ot.style.webkitTransition=nt.transitions.create("opacity",zt),Ot.style.transition=nt.transitions.create("opacity",zt),ut&&ut(Ot,Bt)}),Rt=Tt(dt),It=Tt(ht),Lt=Tt(Ot=>{const Bt=getTransitionProps({style:gt,timeout:vt,easing:lt},{mode:"exit"});Ot.style.webkitTransition=nt.transitions.create("opacity",Bt),Ot.style.transition=nt.transitions.create("opacity",Bt),pt&&pt(Ot)}),Pt=Tt(mt);return jsx$1(yt,_extends$n({appear:at,in:ct,nodeRef:xt,onEnter:At,onEntered:Rt,onEntering:wt,onExit:Lt,onExited:Pt,onExiting:It,addEndListener:Ot=>{ot&&ot(xt.current,Ot)},timeout:vt},bt,{children:(Ot,Bt)=>reactExports.cloneElement(st,_extends$n({style:_extends$n({opacity:0,visibility:Ot==="exited"&&!ct?"hidden":void 0},styles$5[Ot],gt,st.props.style),ref:$t},Bt))}))}),Fade$1=Fade;function getBackdropUtilityClass(tt){return generateUtilityClass("MuiBackdrop",tt)}generateUtilityClasses("MuiBackdrop",["root","invisible"]);const _excluded$16=["children","component","components","componentsProps","className","invisible","open","slotProps","slots","transitionDuration","TransitionComponent"],useUtilityClasses$S=tt=>{const{classes:et,invisible:rt}=tt;return composeClasses({root:["root",rt&&"invisible"]},getBackdropUtilityClass,et)},BackdropRoot=styled$1("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.invisible&&et.invisible]}})(({ownerState:tt})=>_extends$n({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent"},tt.invisible&&{backgroundColor:"transparent"})),Backdrop=reactExports.forwardRef(function(et,rt){var nt,it,ot;const at=useThemeProps({props:et,name:"MuiBackdrop"}),{children:st,component:lt="div",components:ct={},componentsProps:ut={},className:dt,invisible:ft=!1,open:pt,slotProps:mt={},slots:ht={},transitionDuration:gt,TransitionComponent:vt=Fade$1}=at,yt=_objectWithoutPropertiesLoose$4(at,_excluded$16),bt=_extends$n({},at,{component:lt,invisible:ft}),xt=useUtilityClasses$S(bt),$t=(nt=mt.root)!=null?nt:ut.root;return jsx$1(vt,_extends$n({in:pt,timeout:gt},yt,{children:jsx$1(BackdropRoot,_extends$n({"aria-hidden":!0},$t,{as:(it=(ot=ht.root)!=null?ot:ct.Root)!=null?it:lt,className:clsx(xt.root,dt,$t==null?void 0:$t.className),ownerState:_extends$n({},bt,$t==null?void 0:$t.ownerState),classes:xt,ref:rt,children:st}))}))}),Backdrop$1=Backdrop,shouldSpreadAdditionalProps=tt=>!tt||!isHostComponent(tt),shouldSpreadAdditionalProps$1=shouldSpreadAdditionalProps,defaultTheme=createTheme(),Box$1=createBox({defaultTheme,defaultClassName:"MuiBox-root",generateClassName:ClassNameGenerator$1.generate}),Box$2=Box$1;function getButtonUtilityClass(tt){return generateUtilityClass("MuiButton",tt)}const buttonClasses=generateUtilityClasses("MuiButton",["root","text","textInherit","textPrimary","textSecondary","textSuccess","textError","textInfo","textWarning","outlined","outlinedInherit","outlinedPrimary","outlinedSecondary","outlinedSuccess","outlinedError","outlinedInfo","outlinedWarning","contained","containedInherit","containedPrimary","containedSecondary","containedSuccess","containedError","containedInfo","containedWarning","disableElevation","focusVisible","disabled","colorInherit","textSizeSmall","textSizeMedium","textSizeLarge","outlinedSizeSmall","outlinedSizeMedium","outlinedSizeLarge","containedSizeSmall","containedSizeMedium","containedSizeLarge","sizeMedium","sizeSmall","sizeLarge","fullWidth","startIcon","endIcon","iconSizeSmall","iconSizeMedium","iconSizeLarge"]),buttonClasses$1=buttonClasses,ButtonGroupContext=reactExports.createContext({}),ButtonGroupContext$1=ButtonGroupContext,_excluded$15=["children","color","component","className","disabled","disableElevation","disableFocusRipple","endIcon","focusVisibleClassName","fullWidth","size","startIcon","type","variant"],useUtilityClasses$R=tt=>{const{color:et,disableElevation:rt,fullWidth:nt,size:it,variant:ot,classes:at}=tt,st={root:["root",ot,`${ot}${capitalize$1(et)}`,`size${capitalize$1(it)}`,`${ot}Size${capitalize$1(it)}`,et==="inherit"&&"colorInherit",rt&&"disableElevation",nt&&"fullWidth"],label:["label"],startIcon:["startIcon",`iconSize${capitalize$1(it)}`],endIcon:["endIcon",`iconSize${capitalize$1(it)}`]},lt=composeClasses(st,getButtonUtilityClass,at);return _extends$n({},at,lt)},commonIconStyles=tt=>_extends$n({},tt.size==="small"&&{"& > *:nth-of-type(1)":{fontSize:18}},tt.size==="medium"&&{"& > *:nth-of-type(1)":{fontSize:20}},tt.size==="large"&&{"& > *:nth-of-type(1)":{fontSize:22}}),ButtonRoot=styled$1(ButtonBase$1,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiButton",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[rt.variant],et[`${rt.variant}${capitalize$1(rt.color)}`],et[`size${capitalize$1(rt.size)}`],et[`${rt.variant}Size${capitalize$1(rt.size)}`],rt.color==="inherit"&&et.colorInherit,rt.disableElevation&&et.disableElevation,rt.fullWidth&&et.fullWidth]}})(({theme:tt,ownerState:et})=>{var rt,nt;return _extends$n({},tt.typography.button,{minWidth:64,padding:"6px 16px",borderRadius:(tt.vars||tt).shape.borderRadius,transition:tt.transitions.create(["background-color","box-shadow","border-color","color"],{duration:tt.transitions.duration.short}),"&:hover":_extends$n({textDecoration:"none",backgroundColor:tt.vars?`rgba(${tt.vars.palette.text.primaryChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(tt.palette.text.primary,tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},et.variant==="text"&&et.color!=="inherit"&&{backgroundColor:tt.vars?`rgba(${tt.vars.palette[et.color].mainChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(tt.palette[et.color].main,tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},et.variant==="outlined"&&et.color!=="inherit"&&{border:`1px solid ${(tt.vars||tt).palette[et.color].main}`,backgroundColor:tt.vars?`rgba(${tt.vars.palette[et.color].mainChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(tt.palette[et.color].main,tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},et.variant==="contained"&&{backgroundColor:(tt.vars||tt).palette.grey.A100,boxShadow:(tt.vars||tt).shadows[4],"@media (hover: none)":{boxShadow:(tt.vars||tt).shadows[2],backgroundColor:(tt.vars||tt).palette.grey[300]}},et.variant==="contained"&&et.color!=="inherit"&&{backgroundColor:(tt.vars||tt).palette[et.color].dark,"@media (hover: none)":{backgroundColor:(tt.vars||tt).palette[et.color].main}}),"&:active":_extends$n({},et.variant==="contained"&&{boxShadow:(tt.vars||tt).shadows[8]}),[`&.${buttonClasses$1.focusVisible}`]:_extends$n({},et.variant==="contained"&&{boxShadow:(tt.vars||tt).shadows[6]}),[`&.${buttonClasses$1.disabled}`]:_extends$n({color:(tt.vars||tt).palette.action.disabled},et.variant==="outlined"&&{border:`1px solid ${(tt.vars||tt).palette.action.disabledBackground}`},et.variant==="contained"&&{color:(tt.vars||tt).palette.action.disabled,boxShadow:(tt.vars||tt).shadows[0],backgroundColor:(tt.vars||tt).palette.action.disabledBackground})},et.variant==="text"&&{padding:"6px 8px"},et.variant==="text"&&et.color!=="inherit"&&{color:(tt.vars||tt).palette[et.color].main},et.variant==="outlined"&&{padding:"5px 15px",border:"1px solid currentColor"},et.variant==="outlined"&&et.color!=="inherit"&&{color:(tt.vars||tt).palette[et.color].main,border:tt.vars?`1px solid rgba(${tt.vars.palette[et.color].mainChannel} / 0.5)`:`1px solid ${alpha(tt.palette[et.color].main,.5)}`},et.variant==="contained"&&{color:tt.vars?tt.vars.palette.text.primary:(rt=(nt=tt.palette).getContrastText)==null?void 0:rt.call(nt,tt.palette.grey[300]),backgroundColor:(tt.vars||tt).palette.grey[300],boxShadow:(tt.vars||tt).shadows[2]},et.variant==="contained"&&et.color!=="inherit"&&{color:(tt.vars||tt).palette[et.color].contrastText,backgroundColor:(tt.vars||tt).palette[et.color].main},et.color==="inherit"&&{color:"inherit",borderColor:"currentColor"},et.size==="small"&&et.variant==="text"&&{padding:"4px 5px",fontSize:tt.typography.pxToRem(13)},et.size==="large"&&et.variant==="text"&&{padding:"8px 11px",fontSize:tt.typography.pxToRem(15)},et.size==="small"&&et.variant==="outlined"&&{padding:"3px 9px",fontSize:tt.typography.pxToRem(13)},et.size==="large"&&et.variant==="outlined"&&{padding:"7px 21px",fontSize:tt.typography.pxToRem(15)},et.size==="small"&&et.variant==="contained"&&{padding:"4px 10px",fontSize:tt.typography.pxToRem(13)},et.size==="large"&&et.variant==="contained"&&{padding:"8px 22px",fontSize:tt.typography.pxToRem(15)},et.fullWidth&&{width:"100%"})},({ownerState:tt})=>tt.disableElevation&&{boxShadow:"none","&:hover":{boxShadow:"none"},[`&.${buttonClasses$1.focusVisible}`]:{boxShadow:"none"},"&:active":{boxShadow:"none"},[`&.${buttonClasses$1.disabled}`]:{boxShadow:"none"}}),ButtonStartIcon=styled$1("span",{name:"MuiButton",slot:"StartIcon",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.startIcon,et[`iconSize${capitalize$1(rt.size)}`]]}})(({ownerState:tt})=>_extends$n({display:"inherit",marginRight:8,marginLeft:-4},tt.size==="small"&&{marginLeft:-2},commonIconStyles(tt))),ButtonEndIcon=styled$1("span",{name:"MuiButton",slot:"EndIcon",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.endIcon,et[`iconSize${capitalize$1(rt.size)}`]]}})(({ownerState:tt})=>_extends$n({display:"inherit",marginRight:-4,marginLeft:8},tt.size==="small"&&{marginRight:-2},commonIconStyles(tt))),Button$1=reactExports.forwardRef(function(et,rt){const nt=reactExports.useContext(ButtonGroupContext$1),it=resolveProps$1(nt,et),ot=useThemeProps({props:it,name:"MuiButton"}),{children:at,color:st="primary",component:lt="button",className:ct,disabled:ut=!1,disableElevation:dt=!1,disableFocusRipple:ft=!1,endIcon:pt,focusVisibleClassName:mt,fullWidth:ht=!1,size:gt="medium",startIcon:vt,type:yt,variant:bt="text"}=ot,xt=_objectWithoutPropertiesLoose$4(ot,_excluded$15),$t=_extends$n({},ot,{color:st,component:lt,disabled:ut,disableElevation:dt,disableFocusRipple:ft,fullWidth:ht,size:gt,type:yt,variant:bt}),Tt=useUtilityClasses$R($t),wt=vt&&jsx$1(ButtonStartIcon,{className:Tt.startIcon,ownerState:$t,children:vt}),At=pt&&jsx$1(ButtonEndIcon,{className:Tt.endIcon,ownerState:$t,children:pt});return jsxs$1(ButtonRoot,_extends$n({ownerState:$t,className:clsx(nt.className,Tt.root,ct),component:lt,disabled:ut,focusRipple:!ft,focusVisibleClassName:clsx(Tt.focusVisible,mt),ref:rt,type:yt},xt,{classes:Tt,children:[wt,at,At]}))}),Button$2=Button$1;function getCardUtilityClass(tt){return generateUtilityClass("MuiCard",tt)}generateUtilityClasses("MuiCard",["root"]);const _excluded$14=["className","raised"],useUtilityClasses$Q=tt=>{const{classes:et}=tt;return composeClasses({root:["root"]},getCardUtilityClass,et)},CardRoot=styled$1(Paper$1,{name:"MuiCard",slot:"Root",overridesResolver:(tt,et)=>et.root})(()=>({overflow:"hidden"})),Card=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiCard"}),{className:it,raised:ot=!1}=nt,at=_objectWithoutPropertiesLoose$4(nt,_excluded$14),st=_extends$n({},nt,{raised:ot}),lt=useUtilityClasses$Q(st);return jsx$1(CardRoot,_extends$n({className:clsx(lt.root,it),elevation:ot?8:void 0,ref:rt,ownerState:st},at))}),Card$1=Card;function getCardContentUtilityClass(tt){return generateUtilityClass("MuiCardContent",tt)}generateUtilityClasses("MuiCardContent",["root"]);const _excluded$13=["className","component"],useUtilityClasses$P=tt=>{const{classes:et}=tt;return composeClasses({root:["root"]},getCardContentUtilityClass,et)},CardContentRoot=styled$1("div",{name:"MuiCardContent",slot:"Root",overridesResolver:(tt,et)=>et.root})(()=>({padding:16,"&:last-child":{paddingBottom:24}})),CardContent$1=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiCardContent"}),{className:it,component:ot="div"}=nt,at=_objectWithoutPropertiesLoose$4(nt,_excluded$13),st=_extends$n({},nt,{component:ot}),lt=useUtilityClasses$P(st);return jsx$1(CardContentRoot,_extends$n({as:ot,className:clsx(lt.root,it),ownerState:st,ref:rt},at))}),CardContent$2=CardContent$1;function getCardMediaUtilityClass(tt){return generateUtilityClass("MuiCardMedia",tt)}generateUtilityClasses("MuiCardMedia",["root","media","img"]);const _excluded$12=["children","className","component","image","src","style"],useUtilityClasses$O=tt=>{const{classes:et,isMediaComponent:rt,isImageComponent:nt}=tt;return composeClasses({root:["root",rt&&"media",nt&&"img"]},getCardMediaUtilityClass,et)},CardMediaRoot=styled$1("div",{name:"MuiCardMedia",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt,{isMediaComponent:nt,isImageComponent:it}=rt;return[et.root,nt&&et.media,it&&et.img]}})(({ownerState:tt})=>_extends$n({display:"block",backgroundSize:"cover",backgroundRepeat:"no-repeat",backgroundPosition:"center"},tt.isMediaComponent&&{width:"100%"},tt.isImageComponent&&{objectFit:"cover"})),MEDIA_COMPONENTS=["video","audio","picture","iframe","img"],IMAGE_COMPONENTS=["picture","img"],CardMedia=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiCardMedia"}),{children:it,className:ot,component:at="div",image:st,src:lt,style:ct}=nt,ut=_objectWithoutPropertiesLoose$4(nt,_excluded$12),dt=MEDIA_COMPONENTS.indexOf(at)!==-1,ft=!dt&&st?_extends$n({backgroundImage:`url("${st}")`},ct):ct,pt=_extends$n({},nt,{component:at,isMediaComponent:dt,isImageComponent:IMAGE_COMPONENTS.indexOf(at)!==-1}),mt=useUtilityClasses$O(pt);return jsx$1(CardMediaRoot,_extends$n({className:clsx(mt.root,ot),as:at,role:!dt&&st?"img":void 0,ref:rt,style:ft,ownerState:pt,src:dt?st||lt:void 0},ut,{children:it}))}),CardMedia$1=CardMedia;function getSwitchBaseUtilityClass(tt){return generateUtilityClass("PrivateSwitchBase",tt)}generateUtilityClasses("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const _excluded$11=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],useUtilityClasses$N=tt=>{const{classes:et,checked:rt,disabled:nt,edge:it}=tt,ot={root:["root",rt&&"checked",nt&&"disabled",it&&`edge${capitalize$1(it)}`],input:["input"]};return composeClasses(ot,getSwitchBaseUtilityClass,et)},SwitchBaseRoot=styled$1(ButtonBase$1)(({ownerState:tt})=>_extends$n({padding:9,borderRadius:"50%"},tt.edge==="start"&&{marginLeft:tt.size==="small"?-3:-12},tt.edge==="end"&&{marginRight:tt.size==="small"?-3:-12})),SwitchBaseInput=styled$1("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),SwitchBase=reactExports.forwardRef(function(et,rt){const{autoFocus:nt,checked:it,checkedIcon:ot,className:at,defaultChecked:st,disabled:lt,disableFocusRipple:ct=!1,edge:ut=!1,icon:dt,id:ft,inputProps:pt,inputRef:mt,name:ht,onBlur:gt,onChange:vt,onFocus:yt,readOnly:bt,required:xt=!1,tabIndex:$t,type:Tt,value:wt}=et,At=_objectWithoutPropertiesLoose$4(et,_excluded$11),[Rt,It]=useControlled({controlled:it,default:Boolean(st),name:"SwitchBase",state:"checked"}),Lt=useFormControl(),Pt=jt=>{yt&&yt(jt),Lt&&Lt.onFocus&&Lt.onFocus(jt)},Nt=jt=>{gt&&gt(jt),Lt&&Lt.onBlur&&Lt.onBlur(jt)},Ot=jt=>{if(jt.nativeEvent.defaultPrevented)return;const qt=jt.target.checked;It(qt),vt&&vt(jt,qt)};let Bt=lt;Lt&&typeof Bt>"u"&&(Bt=Lt.disabled);const zt=Tt==="checkbox"||Tt==="radio",Vt=_extends$n({},et,{checked:Rt,disabled:Bt,disableFocusRipple:ct,edge:ut}),Ut=useUtilityClasses$N(Vt);return jsxs$1(SwitchBaseRoot,_extends$n({component:"span",className:clsx(Ut.root,at),centerRipple:!0,focusRipple:!ct,disabled:Bt,tabIndex:null,role:void 0,onFocus:Pt,onBlur:Nt,ownerState:Vt,ref:rt},At,{children:[jsx$1(SwitchBaseInput,_extends$n({autoFocus:nt,checked:it,defaultChecked:st,className:Ut.input,disabled:Bt,id:zt&&ft,name:ht,onChange:Ot,readOnly:bt,ref:mt,required:xt,ownerState:Vt,tabIndex:$t,type:Tt},Tt==="checkbox"&&wt===void 0?{}:{value:wt},pt)),Rt?ot:dt]}))}),SwitchBase$1=SwitchBase,CheckBoxOutlineBlankIcon=createSvgIcon$1(jsx$1("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),CheckBoxIcon=createSvgIcon$1(jsx$1("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),IndeterminateCheckBoxIcon=createSvgIcon$1(jsx$1("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function getCheckboxUtilityClass(tt){return generateUtilityClass("MuiCheckbox",tt)}const checkboxClasses=generateUtilityClasses("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]),checkboxClasses$1=checkboxClasses,_excluded$10=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size","className"],useUtilityClasses$M=tt=>{const{classes:et,indeterminate:rt,color:nt}=tt,it={root:["root",rt&&"indeterminate",`color${capitalize$1(nt)}`]},ot=composeClasses(it,getCheckboxUtilityClass,et);return _extends$n({},et,ot)},CheckboxRoot=styled$1(SwitchBase$1,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.indeterminate&&et.indeterminate,rt.color!=="default"&&et[`color${capitalize$1(rt.color)}`]]}})(({theme:tt,ownerState:et})=>_extends$n({color:(tt.vars||tt).palette.text.secondary},!et.disableRipple&&{"&:hover":{backgroundColor:tt.vars?`rgba(${et.color==="default"?tt.vars.palette.action.activeChannel:tt.vars.palette.primary.mainChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(et.color==="default"?tt.palette.action.active:tt.palette[et.color].main,tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},et.color!=="default"&&{[`&.${checkboxClasses$1.checked}, &.${checkboxClasses$1.indeterminate}`]:{color:(tt.vars||tt).palette[et.color].main},[`&.${checkboxClasses$1.disabled}`]:{color:(tt.vars||tt).palette.action.disabled}})),defaultCheckedIcon$1=jsx$1(CheckBoxIcon,{}),defaultIcon$1=jsx$1(CheckBoxOutlineBlankIcon,{}),defaultIndeterminateIcon=jsx$1(IndeterminateCheckBoxIcon,{}),Checkbox=reactExports.forwardRef(function(et,rt){var nt,it;const ot=useThemeProps({props:et,name:"MuiCheckbox"}),{checkedIcon:at=defaultCheckedIcon$1,color:st="primary",icon:lt=defaultIcon$1,indeterminate:ct=!1,indeterminateIcon:ut=defaultIndeterminateIcon,inputProps:dt,size:ft="medium",className:pt}=ot,mt=_objectWithoutPropertiesLoose$4(ot,_excluded$10),ht=ct?ut:lt,gt=ct?ut:at,vt=_extends$n({},ot,{color:st,indeterminate:ct,size:ft}),yt=useUtilityClasses$M(vt);return jsx$1(CheckboxRoot,_extends$n({type:"checkbox",inputProps:_extends$n({"data-indeterminate":ct},dt),icon:reactExports.cloneElement(ht,{fontSize:(nt=ht.props.fontSize)!=null?nt:ft}),checkedIcon:reactExports.cloneElement(gt,{fontSize:(it=gt.props.fontSize)!=null?it:ft}),ownerState:vt,ref:rt,className:clsx(yt.root,pt)},mt,{classes:yt}))}),Checkbox$1=Checkbox;function getCircularProgressUtilityClass(tt){return generateUtilityClass("MuiCircularProgress",tt)}generateUtilityClasses("MuiCircularProgress",["root","determinate","indeterminate","colorPrimary","colorSecondary","svg","circle","circleDeterminate","circleIndeterminate","circleDisableShrink"]);const _excluded$$=["className","color","disableShrink","size","style","thickness","value","variant"];let _$3=tt=>tt,_t$2,_t2$2,_t3$2,_t4$2;const SIZE=44,circularRotateKeyframe=keyframes(_t$2||(_t$2=_$3`
  0% {
    transform: rotate(0deg);
  }

  100% {
    transform: rotate(360deg);
  }
`)),circularDashKeyframe=keyframes(_t2$2||(_t2$2=_$3`
  0% {
    stroke-dasharray: 1px, 200px;
    stroke-dashoffset: 0;
  }

  50% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -15px;
  }

  100% {
    stroke-dasharray: 100px, 200px;
    stroke-dashoffset: -125px;
  }
`)),useUtilityClasses$L=tt=>{const{classes:et,variant:rt,color:nt,disableShrink:it}=tt,ot={root:["root",rt,`color${capitalize$1(nt)}`],svg:["svg"],circle:["circle",`circle${capitalize$1(rt)}`,it&&"circleDisableShrink"]};return composeClasses(ot,getCircularProgressUtilityClass,et)},CircularProgressRoot=styled$1("span",{name:"MuiCircularProgress",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[rt.variant],et[`color${capitalize$1(rt.color)}`]]}})(({ownerState:tt,theme:et})=>_extends$n({display:"inline-block"},tt.variant==="determinate"&&{transition:et.transitions.create("transform")},tt.color!=="inherit"&&{color:(et.vars||et).palette[tt.color].main}),({ownerState:tt})=>tt.variant==="indeterminate"&&css(_t3$2||(_t3$2=_$3`
      animation: ${0} 1.4s linear infinite;
    `),circularRotateKeyframe)),CircularProgressSVG=styled$1("svg",{name:"MuiCircularProgress",slot:"Svg",overridesResolver:(tt,et)=>et.svg})({display:"block"}),CircularProgressCircle=styled$1("circle",{name:"MuiCircularProgress",slot:"Circle",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.circle,et[`circle${capitalize$1(rt.variant)}`],rt.disableShrink&&et.circleDisableShrink]}})(({ownerState:tt,theme:et})=>_extends$n({stroke:"currentColor"},tt.variant==="determinate"&&{transition:et.transitions.create("stroke-dashoffset")},tt.variant==="indeterminate"&&{strokeDasharray:"80px, 200px",strokeDashoffset:0}),({ownerState:tt})=>tt.variant==="indeterminate"&&!tt.disableShrink&&css(_t4$2||(_t4$2=_$3`
      animation: ${0} 1.4s ease-in-out infinite;
    `),circularDashKeyframe)),CircularProgress=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiCircularProgress"}),{className:it,color:ot="primary",disableShrink:at=!1,size:st=40,style:lt,thickness:ct=3.6,value:ut=0,variant:dt="indeterminate"}=nt,ft=_objectWithoutPropertiesLoose$4(nt,_excluded$$),pt=_extends$n({},nt,{color:ot,disableShrink:at,size:st,thickness:ct,value:ut,variant:dt}),mt=useUtilityClasses$L(pt),ht={},gt={},vt={};if(dt==="determinate"){const yt=2*Math.PI*((SIZE-ct)/2);ht.strokeDasharray=yt.toFixed(3),vt["aria-valuenow"]=Math.round(ut),ht.strokeDashoffset=`${((100-ut)/100*yt).toFixed(3)}px`,gt.transform="rotate(-90deg)"}return jsx$1(CircularProgressRoot,_extends$n({className:clsx(mt.root,it),style:_extends$n({width:st,height:st},gt,lt),ownerState:pt,ref:rt,role:"progressbar"},vt,ft,{children:jsx$1(CircularProgressSVG,{className:mt.svg,ownerState:pt,viewBox:`${SIZE/2} ${SIZE/2} ${SIZE} ${SIZE}`,children:jsx$1(CircularProgressCircle,{className:mt.circle,style:ht,ownerState:pt,cx:SIZE,cy:SIZE,r:(SIZE-ct)/2,fill:"none",strokeWidth:ct})})}))}),CircularProgress$1=CircularProgress,html$4=(tt,et)=>_extends$n({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},et&&!tt.vars&&{colorScheme:tt.palette.mode}),body=tt=>_extends$n({color:(tt.vars||tt).palette.text.primary},tt.typography.body1,{backgroundColor:(tt.vars||tt).palette.background.default,"@media print":{backgroundColor:(tt.vars||tt).palette.common.white}}),styles$4=(tt,et=!1)=>{var rt,nt;const it={};et&&tt.colorSchemes&&Object.entries(tt.colorSchemes).forEach(([st,lt])=>{var ct;it[tt.getColorSchemeSelector(st).replace(/\s*&/,"")]={colorScheme:(ct=lt.palette)==null?void 0:ct.mode}});let ot=_extends$n({html:html$4(tt,et),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:tt.typography.fontWeightBold},body:_extends$n({margin:0},body(tt),{"&::backdrop":{backgroundColor:(tt.vars||tt).palette.background.default}})},it);const at=(rt=tt.components)==null||(nt=rt.MuiCssBaseline)==null?void 0:nt.styleOverrides;return at&&(ot=[ot,at]),ot};function CssBaseline(tt){const et=useThemeProps({props:tt,name:"MuiCssBaseline"}),{children:rt,enableColorScheme:nt=!1}=et;return jsxs$1(reactExports.Fragment,{children:[jsx$1(GlobalStyles,{styles:it=>styles$4(it,nt)}),rt]})}const scrollBar={track:"#2b2b2b",thumb:"#6b6b6b",active:"#959595"};function darkScrollbar(tt=scrollBar){return{scrollbarColor:`${tt.thumb} ${tt.track}`,"&::-webkit-scrollbar, & *::-webkit-scrollbar":{backgroundColor:tt.track},"&::-webkit-scrollbar-thumb, & *::-webkit-scrollbar-thumb":{borderRadius:8,backgroundColor:tt.thumb,minHeight:24,border:`3px solid ${tt.track}`},"&::-webkit-scrollbar-thumb:focus, & *::-webkit-scrollbar-thumb:focus":{backgroundColor:tt.active},"&::-webkit-scrollbar-thumb:active, & *::-webkit-scrollbar-thumb:active":{backgroundColor:tt.active},"&::-webkit-scrollbar-thumb:hover, & *::-webkit-scrollbar-thumb:hover":{backgroundColor:tt.active},"&::-webkit-scrollbar-corner, & *::-webkit-scrollbar-corner":{backgroundColor:tt.track}}}const _excluded$_=["BackdropComponent","BackdropProps","closeAfterTransition","children","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","slotProps","slots","theme"],extendUtilityClasses=tt=>tt.classes,ModalRoot=styled$1("div",{name:"MuiModal",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,!rt.open&&rt.exited&&et.hidden]}})(({theme:tt,ownerState:et})=>_extends$n({position:"fixed",zIndex:(tt.vars||tt).zIndex.modal,right:0,bottom:0,top:0,left:0},!et.open&&et.exited&&{visibility:"hidden"})),ModalBackdrop=styled$1(Backdrop$1,{name:"MuiModal",slot:"Backdrop",overridesResolver:(tt,et)=>et.backdrop})({zIndex:-1}),Modal=reactExports.forwardRef(function(et,rt){var nt,it,ot,at,st,lt;const ct=useThemeProps({name:"MuiModal",props:et}),{BackdropComponent:ut=ModalBackdrop,BackdropProps:dt,closeAfterTransition:ft=!1,children:pt,component:mt,components:ht={},componentsProps:gt={},disableAutoFocus:vt=!1,disableEnforceFocus:yt=!1,disableEscapeKeyDown:bt=!1,disablePortal:xt=!1,disableRestoreFocus:$t=!1,disableScrollLock:Tt=!1,hideBackdrop:wt=!1,keepMounted:At=!1,slotProps:Rt,slots:It,theme:Lt}=ct,Pt=_objectWithoutPropertiesLoose$4(ct,_excluded$_),[Nt,Ot]=reactExports.useState(!0),Bt={closeAfterTransition:ft,disableAutoFocus:vt,disableEnforceFocus:yt,disableEscapeKeyDown:bt,disablePortal:xt,disableRestoreFocus:$t,disableScrollLock:Tt,hideBackdrop:wt,keepMounted:At},zt=_extends$n({},ct,Bt,{exited:Nt}),Vt=extendUtilityClasses(zt),Ut=(nt=(it=It==null?void 0:It.root)!=null?it:ht.Root)!=null?nt:ModalRoot,jt=(ot=(at=It==null?void 0:It.backdrop)!=null?at:ht.Backdrop)!=null?ot:ut,qt=(st=Rt==null?void 0:Rt.root)!=null?st:gt.root,Dt=(lt=Rt==null?void 0:Rt.backdrop)!=null?lt:gt.backdrop;return jsx$1(ModalUnstyled$1,_extends$n({slots:{root:Ut,backdrop:jt},slotProps:{root:()=>_extends$n({},resolveComponentProps(qt,zt),!isHostComponent(Ut)&&{as:mt,theme:Lt}),backdrop:()=>_extends$n({},dt,resolveComponentProps(Dt,zt))},onTransitionEnter:()=>Ot(!1),onTransitionExited:()=>Ot(!0),ref:rt},Pt,{classes:Vt},Bt,{children:pt}))}),Modal$1=Modal;function getDialogUtilityClass(tt){return generateUtilityClass("MuiDialog",tt)}const dialogClasses=generateUtilityClasses("MuiDialog",["root","scrollPaper","scrollBody","container","paper","paperScrollPaper","paperScrollBody","paperWidthFalse","paperWidthXs","paperWidthSm","paperWidthMd","paperWidthLg","paperWidthXl","paperFullWidth","paperFullScreen"]),dialogClasses$1=dialogClasses,DialogContext$1=reactExports.createContext({}),DialogContext$2=DialogContext$1,_excluded$Z=["aria-describedby","aria-labelledby","BackdropComponent","BackdropProps","children","className","disableEscapeKeyDown","fullScreen","fullWidth","maxWidth","onBackdropClick","onClose","open","PaperComponent","PaperProps","scroll","TransitionComponent","transitionDuration","TransitionProps"],DialogBackdrop=styled$1(Backdrop$1,{name:"MuiDialog",slot:"Backdrop",overrides:(tt,et)=>et.backdrop})({zIndex:-1}),useUtilityClasses$K=tt=>{const{classes:et,scroll:rt,maxWidth:nt,fullWidth:it,fullScreen:ot}=tt,at={root:["root"],container:["container",`scroll${capitalize$1(rt)}`],paper:["paper",`paperScroll${capitalize$1(rt)}`,`paperWidth${capitalize$1(String(nt))}`,it&&"paperFullWidth",ot&&"paperFullScreen"]};return composeClasses(at,getDialogUtilityClass,et)},DialogRoot=styled$1(Modal$1,{name:"MuiDialog",slot:"Root",overridesResolver:(tt,et)=>et.root})({"@media print":{position:"absolute !important"}}),DialogContainer=styled$1("div",{name:"MuiDialog",slot:"Container",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.container,et[`scroll${capitalize$1(rt.scroll)}`]]}})(({ownerState:tt})=>_extends$n({height:"100%","@media print":{height:"auto"},outline:0},tt.scroll==="paper"&&{display:"flex",justifyContent:"center",alignItems:"center"},tt.scroll==="body"&&{overflowY:"auto",overflowX:"hidden",textAlign:"center","&:after":{content:'""',display:"inline-block",verticalAlign:"middle",height:"100%",width:"0"}})),DialogPaper=styled$1(Paper$1,{name:"MuiDialog",slot:"Paper",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.paper,et[`scrollPaper${capitalize$1(rt.scroll)}`],et[`paperWidth${capitalize$1(String(rt.maxWidth))}`],rt.fullWidth&&et.paperFullWidth,rt.fullScreen&&et.paperFullScreen]}})(({theme:tt,ownerState:et})=>_extends$n({margin:32,position:"relative",overflowY:"auto","@media print":{overflowY:"visible",boxShadow:"none"}},et.scroll==="paper"&&{display:"flex",flexDirection:"column",maxHeight:"calc(100% - 64px)"},et.scroll==="body"&&{display:"inline-block",verticalAlign:"middle",textAlign:"left"},!et.maxWidth&&{maxWidth:"calc(100% - 64px)"},et.maxWidth==="xs"&&{maxWidth:tt.breakpoints.unit==="px"?Math.max(tt.breakpoints.values.xs,444):`${tt.breakpoints.values.xs}${tt.breakpoints.unit}`,[`&.${dialogClasses$1.paperScrollBody}`]:{[tt.breakpoints.down(Math.max(tt.breakpoints.values.xs,444)+32*2)]:{maxWidth:"calc(100% - 64px)"}}},et.maxWidth&&et.maxWidth!=="xs"&&{maxWidth:`${tt.breakpoints.values[et.maxWidth]}${tt.breakpoints.unit}`,[`&.${dialogClasses$1.paperScrollBody}`]:{[tt.breakpoints.down(tt.breakpoints.values[et.maxWidth]+32*2)]:{maxWidth:"calc(100% - 64px)"}}},et.fullWidth&&{width:"calc(100% - 64px)"},et.fullScreen&&{margin:0,width:"100%",maxWidth:"100%",height:"100%",maxHeight:"none",borderRadius:0,[`&.${dialogClasses$1.paperScrollBody}`]:{margin:0,maxWidth:"100%"}})),Dialog=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiDialog"}),it=useTheme(),ot={enter:it.transitions.duration.enteringScreen,exit:it.transitions.duration.leavingScreen},{"aria-describedby":at,"aria-labelledby":st,BackdropComponent:lt,BackdropProps:ct,children:ut,className:dt,disableEscapeKeyDown:ft=!1,fullScreen:pt=!1,fullWidth:mt=!1,maxWidth:ht="sm",onBackdropClick:gt,onClose:vt,open:yt,PaperComponent:bt=Paper$1,PaperProps:xt={},scroll:$t="paper",TransitionComponent:Tt=Fade$1,transitionDuration:wt=ot,TransitionProps:At}=nt,Rt=_objectWithoutPropertiesLoose$4(nt,_excluded$Z),It=_extends$n({},nt,{disableEscapeKeyDown:ft,fullScreen:pt,fullWidth:mt,maxWidth:ht,scroll:$t}),Lt=useUtilityClasses$K(It),Pt=reactExports.useRef(),Nt=Vt=>{Pt.current=Vt.target===Vt.currentTarget},Ot=Vt=>{Pt.current&&(Pt.current=null,gt&&gt(Vt),vt&&vt(Vt,"backdropClick"))},Bt=useId(st),zt=reactExports.useMemo(()=>({titleId:Bt}),[Bt]);return jsx$1(DialogRoot,_extends$n({className:clsx(Lt.root,dt),closeAfterTransition:!0,components:{Backdrop:DialogBackdrop},componentsProps:{backdrop:_extends$n({transitionDuration:wt,as:lt},ct)},disableEscapeKeyDown:ft,onClose:vt,open:yt,ref:rt,onClick:Ot,ownerState:It},Rt,{children:jsx$1(Tt,_extends$n({appear:!0,in:yt,timeout:wt,role:"presentation"},At,{children:jsx$1(DialogContainer,{className:clsx(Lt.container),onMouseDown:Nt,ownerState:It,children:jsx$1(DialogPaper,_extends$n({as:bt,elevation:24,role:"dialog","aria-describedby":at,"aria-labelledby":Bt},xt,{className:clsx(Lt.paper,xt.className),ownerState:It,children:jsx$1(DialogContext$2.Provider,{value:zt,children:ut})}))})}))}))}),Dialog$1=Dialog;function getDialogActionsUtilityClass(tt){return generateUtilityClass("MuiDialogActions",tt)}generateUtilityClasses("MuiDialogActions",["root","spacing"]);const _excluded$Y=["className","disableSpacing"],useUtilityClasses$J=tt=>{const{classes:et,disableSpacing:rt}=tt;return composeClasses({root:["root",!rt&&"spacing"]},getDialogActionsUtilityClass,et)},DialogActionsRoot=styled$1("div",{name:"MuiDialogActions",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,!rt.disableSpacing&&et.spacing]}})(({ownerState:tt})=>_extends$n({display:"flex",alignItems:"center",padding:8,justifyContent:"flex-end",flex:"0 0 auto"},!tt.disableSpacing&&{"& > :not(:first-of-type)":{marginLeft:8}})),DialogActions=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiDialogActions"}),{className:it,disableSpacing:ot=!1}=nt,at=_objectWithoutPropertiesLoose$4(nt,_excluded$Y),st=_extends$n({},nt,{disableSpacing:ot}),lt=useUtilityClasses$J(st);return jsx$1(DialogActionsRoot,_extends$n({className:clsx(lt.root,it),ownerState:st,ref:rt},at))}),DialogActions$1=DialogActions;function getDialogContentUtilityClass(tt){return generateUtilityClass("MuiDialogContent",tt)}generateUtilityClasses("MuiDialogContent",["root","dividers"]);function getDialogTitleUtilityClass(tt){return generateUtilityClass("MuiDialogTitle",tt)}const dialogTitleClasses=generateUtilityClasses("MuiDialogTitle",["root"]),dialogTitleClasses$1=dialogTitleClasses,_excluded$X=["className","dividers"],useUtilityClasses$I=tt=>{const{classes:et,dividers:rt}=tt;return composeClasses({root:["root",rt&&"dividers"]},getDialogContentUtilityClass,et)},DialogContentRoot=styled$1("div",{name:"MuiDialogContent",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.dividers&&et.dividers]}})(({theme:tt,ownerState:et})=>_extends$n({flex:"1 1 auto",WebkitOverflowScrolling:"touch",overflowY:"auto",padding:"20px 24px"},et.dividers?{padding:"16px 24px",borderTop:`1px solid ${(tt.vars||tt).palette.divider}`,borderBottom:`1px solid ${(tt.vars||tt).palette.divider}`}:{[`.${dialogTitleClasses$1.root} + &`]:{paddingTop:0}})),DialogContent=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiDialogContent"}),{className:it,dividers:ot=!1}=nt,at=_objectWithoutPropertiesLoose$4(nt,_excluded$X),st=_extends$n({},nt,{dividers:ot}),lt=useUtilityClasses$I(st);return jsx$1(DialogContentRoot,_extends$n({className:clsx(lt.root,it),ownerState:st,ref:rt},at))}),DialogContent$1=DialogContent;function getDialogContentTextUtilityClass(tt){return generateUtilityClass("MuiDialogContentText",tt)}generateUtilityClasses("MuiDialogContentText",["root"]);const _excluded$W=["children","className"],useUtilityClasses$H=tt=>{const{classes:et}=tt,nt=composeClasses({root:["root"]},getDialogContentTextUtilityClass,et);return _extends$n({},et,nt)},DialogContentTextRoot=styled$1(Typography$1,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiDialogContentText",slot:"Root",overridesResolver:(tt,et)=>et.root})({}),DialogContentText=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiDialogContentText"}),{className:it}=nt,ot=_objectWithoutPropertiesLoose$4(nt,_excluded$W),at=useUtilityClasses$H(ot);return jsx$1(DialogContentTextRoot,_extends$n({component:"p",variant:"body1",color:"text.secondary",ref:rt,ownerState:ot,className:clsx(at.root,it)},nt,{classes:at}))}),DialogContentText$1=DialogContentText,_excluded$V=["className","id"],useUtilityClasses$G=tt=>{const{classes:et}=tt;return composeClasses({root:["root"]},getDialogTitleUtilityClass,et)},DialogTitleRoot=styled$1(Typography$1,{name:"MuiDialogTitle",slot:"Root",overridesResolver:(tt,et)=>et.root})({padding:"16px 24px",flex:"0 0 auto"}),DialogTitle=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiDialogTitle"}),{className:it,id:ot}=nt,at=_objectWithoutPropertiesLoose$4(nt,_excluded$V),st=nt,lt=useUtilityClasses$G(st),{titleId:ct=ot}=reactExports.useContext(DialogContext$2);return jsx$1(DialogTitleRoot,_extends$n({component:"h2",className:clsx(lt.root,it),ownerState:st,ref:rt,variant:"h6",id:ct},at))}),DialogTitle$1=DialogTitle;function getDividerUtilityClass(tt){return generateUtilityClass("MuiDivider",tt)}const dividerClasses=generateUtilityClasses("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]),dividerClasses$1=dividerClasses,_excluded$U=["absolute","children","className","component","flexItem","light","orientation","role","textAlign","variant"],useUtilityClasses$F=tt=>{const{absolute:et,children:rt,classes:nt,flexItem:it,light:ot,orientation:at,textAlign:st,variant:lt}=tt;return composeClasses({root:["root",et&&"absolute",lt,ot&&"light",at==="vertical"&&"vertical",it&&"flexItem",rt&&"withChildren",rt&&at==="vertical"&&"withChildrenVertical",st==="right"&&at!=="vertical"&&"textAlignRight",st==="left"&&at!=="vertical"&&"textAlignLeft"],wrapper:["wrapper",at==="vertical"&&"wrapperVertical"]},getDividerUtilityClass,nt)},DividerRoot=styled$1("div",{name:"MuiDivider",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.absolute&&et.absolute,et[rt.variant],rt.light&&et.light,rt.orientation==="vertical"&&et.vertical,rt.flexItem&&et.flexItem,rt.children&&et.withChildren,rt.children&&rt.orientation==="vertical"&&et.withChildrenVertical,rt.textAlign==="right"&&rt.orientation!=="vertical"&&et.textAlignRight,rt.textAlign==="left"&&rt.orientation!=="vertical"&&et.textAlignLeft]}})(({theme:tt,ownerState:et})=>_extends$n({margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(tt.vars||tt).palette.divider,borderBottomWidth:"thin"},et.absolute&&{position:"absolute",bottom:0,left:0,width:"100%"},et.light&&{borderColor:tt.vars?`rgba(${tt.vars.palette.dividerChannel} / 0.08)`:alpha(tt.palette.divider,.08)},et.variant==="inset"&&{marginLeft:72},et.variant==="middle"&&et.orientation==="horizontal"&&{marginLeft:tt.spacing(2),marginRight:tt.spacing(2)},et.variant==="middle"&&et.orientation==="vertical"&&{marginTop:tt.spacing(1),marginBottom:tt.spacing(1)},et.orientation==="vertical"&&{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"},et.flexItem&&{alignSelf:"stretch",height:"auto"}),({theme:tt,ownerState:et})=>_extends$n({},et.children&&{display:"flex",whiteSpace:"nowrap",textAlign:"center",border:0,"&::before, &::after":{position:"relative",width:"100%",borderTop:`thin solid ${(tt.vars||tt).palette.divider}`,top:"50%",content:'""',transform:"translateY(50%)"}}),({theme:tt,ownerState:et})=>_extends$n({},et.children&&et.orientation==="vertical"&&{flexDirection:"column","&::before, &::after":{height:"100%",top:"0%",left:"50%",borderTop:0,borderLeft:`thin solid ${(tt.vars||tt).palette.divider}`,transform:"translateX(0%)"}}),({ownerState:tt})=>_extends$n({},tt.textAlign==="right"&&tt.orientation!=="vertical"&&{"&::before":{width:"90%"},"&::after":{width:"10%"}},tt.textAlign==="left"&&tt.orientation!=="vertical"&&{"&::before":{width:"10%"},"&::after":{width:"90%"}})),DividerWrapper=styled$1("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.wrapper,rt.orientation==="vertical"&&et.wrapperVertical]}})(({theme:tt,ownerState:et})=>_extends$n({display:"inline-block",paddingLeft:`calc(${tt.spacing(1)} * 1.2)`,paddingRight:`calc(${tt.spacing(1)} * 1.2)`},et.orientation==="vertical"&&{paddingTop:`calc(${tt.spacing(1)} * 1.2)`,paddingBottom:`calc(${tt.spacing(1)} * 1.2)`})),Divider=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiDivider"}),{absolute:it=!1,children:ot,className:at,component:st=ot?"div":"hr",flexItem:lt=!1,light:ct=!1,orientation:ut="horizontal",role:dt=st!=="hr"?"separator":void 0,textAlign:ft="center",variant:pt="fullWidth"}=nt,mt=_objectWithoutPropertiesLoose$4(nt,_excluded$U),ht=_extends$n({},nt,{absolute:it,component:st,flexItem:lt,light:ct,orientation:ut,role:dt,textAlign:ft,variant:pt}),gt=useUtilityClasses$F(ht);return jsx$1(DividerRoot,_extends$n({as:st,className:clsx(gt.root,at),role:dt,ref:rt,ownerState:ht},mt,{children:ot?jsx$1(DividerWrapper,{className:gt.wrapper,ownerState:ht,children:ot}):null}))}),Divider$1=Divider,_excluded$T=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getTranslateValue(tt,et,rt){const nt=et.getBoundingClientRect(),it=rt&&rt.getBoundingClientRect(),ot=ownerWindow(et);let at;if(et.fakeTransform)at=et.fakeTransform;else{const ct=ot.getComputedStyle(et);at=ct.getPropertyValue("-webkit-transform")||ct.getPropertyValue("transform")}let st=0,lt=0;if(at&&at!=="none"&&typeof at=="string"){const ct=at.split("(")[1].split(")")[0].split(",");st=parseInt(ct[4],10),lt=parseInt(ct[5],10)}return tt==="left"?it?`translateX(${it.right+st-nt.left}px)`:`translateX(${ot.innerWidth+st-nt.left}px)`:tt==="right"?it?`translateX(-${nt.right-it.left-st}px)`:`translateX(-${nt.left+nt.width-st}px)`:tt==="up"?it?`translateY(${it.bottom+lt-nt.top}px)`:`translateY(${ot.innerHeight+lt-nt.top}px)`:it?`translateY(-${nt.top-it.top+nt.height-lt}px)`:`translateY(-${nt.top+nt.height-lt}px)`}function resolveContainer(tt){return typeof tt=="function"?tt():tt}function setTranslateValue(tt,et,rt){const nt=resolveContainer(rt),it=getTranslateValue(tt,et,nt);it&&(et.style.webkitTransform=it,et.style.transform=it)}const Slide=reactExports.forwardRef(function(et,rt){const nt=useTheme(),it={enter:nt.transitions.easing.easeOut,exit:nt.transitions.easing.sharp},ot={enter:nt.transitions.duration.enteringScreen,exit:nt.transitions.duration.leavingScreen},{addEndListener:at,appear:st=!0,children:lt,container:ct,direction:ut="down",easing:dt=it,in:ft,onEnter:pt,onEntered:mt,onEntering:ht,onExit:gt,onExited:vt,onExiting:yt,style:bt,timeout:xt=ot,TransitionComponent:$t=Transition$1}=et,Tt=_objectWithoutPropertiesLoose$4(et,_excluded$T),wt=reactExports.useRef(null),At=useForkRef(lt.ref,wt,rt),Rt=Ut=>jt=>{Ut&&(jt===void 0?Ut(wt.current):Ut(wt.current,jt))},It=Rt((Ut,jt)=>{setTranslateValue(ut,Ut,ct),reflow(Ut),pt&&pt(Ut,jt)}),Lt=Rt((Ut,jt)=>{const qt=getTransitionProps({timeout:xt,style:bt,easing:dt},{mode:"enter"});Ut.style.webkitTransition=nt.transitions.create("-webkit-transform",_extends$n({},qt)),Ut.style.transition=nt.transitions.create("transform",_extends$n({},qt)),Ut.style.webkitTransform="none",Ut.style.transform="none",ht&&ht(Ut,jt)}),Pt=Rt(mt),Nt=Rt(yt),Ot=Rt(Ut=>{const jt=getTransitionProps({timeout:xt,style:bt,easing:dt},{mode:"exit"});Ut.style.webkitTransition=nt.transitions.create("-webkit-transform",jt),Ut.style.transition=nt.transitions.create("transform",jt),setTranslateValue(ut,Ut,ct),gt&&gt(Ut)}),Bt=Rt(Ut=>{Ut.style.webkitTransition="",Ut.style.transition="",vt&&vt(Ut)}),zt=Ut=>{at&&at(wt.current,Ut)},Vt=reactExports.useCallback(()=>{wt.current&&setTranslateValue(ut,wt.current,ct)},[ut,ct]);return reactExports.useEffect(()=>{if(ft||ut==="down"||ut==="right")return;const Ut=debounce$4(()=>{wt.current&&setTranslateValue(ut,wt.current,ct)}),jt=ownerWindow(wt.current);return jt.addEventListener("resize",Ut),()=>{Ut.clear(),jt.removeEventListener("resize",Ut)}},[ut,ft,ct]),reactExports.useEffect(()=>{ft||Vt()},[ft,Vt]),jsx$1($t,_extends$n({nodeRef:wt,onEnter:It,onEntered:Pt,onEntering:Lt,onExit:Ot,onExited:Bt,onExiting:Nt,addEndListener:zt,appear:st,in:ft,timeout:xt},Tt,{children:(Ut,jt)=>reactExports.cloneElement(lt,_extends$n({ref:At,style:_extends$n({visibility:Ut==="exited"&&!ft?"hidden":void 0},bt,lt.props.style)},jt))}))}),Slide$1=Slide;function getDrawerUtilityClass(tt){return generateUtilityClass("MuiDrawer",tt)}generateUtilityClasses("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const _excluded$S=["BackdropProps"],_excluded2$6=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],overridesResolver$3=(tt,et)=>{const{ownerState:rt}=tt;return[et.root,(rt.variant==="permanent"||rt.variant==="persistent")&&et.docked,et.modal]},useUtilityClasses$E=tt=>{const{classes:et,anchor:rt,variant:nt}=tt,it={root:["root"],docked:[(nt==="permanent"||nt==="persistent")&&"docked"],modal:["modal"],paper:["paper",`paperAnchor${capitalize$1(rt)}`,nt!=="temporary"&&`paperAnchorDocked${capitalize$1(rt)}`]};return composeClasses(it,getDrawerUtilityClass,et)},DrawerRoot=styled$1(Modal$1,{name:"MuiDrawer",slot:"Root",overridesResolver:overridesResolver$3})(({theme:tt})=>({zIndex:(tt.vars||tt).zIndex.drawer})),DrawerDockedRoot=styled$1("div",{shouldForwardProp:rootShouldForwardProp,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:overridesResolver$3})({flex:"0 0 auto"}),DrawerPaper=styled$1(Paper$1,{name:"MuiDrawer",slot:"Paper",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.paper,et[`paperAnchor${capitalize$1(rt.anchor)}`],rt.variant!=="temporary"&&et[`paperAnchorDocked${capitalize$1(rt.anchor)}`]]}})(({theme:tt,ownerState:et})=>_extends$n({overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(tt.vars||tt).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0},et.anchor==="left"&&{left:0},et.anchor==="top"&&{top:0,left:0,right:0,height:"auto",maxHeight:"100%"},et.anchor==="right"&&{right:0},et.anchor==="bottom"&&{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"},et.anchor==="left"&&et.variant!=="temporary"&&{borderRight:`1px solid ${(tt.vars||tt).palette.divider}`},et.anchor==="top"&&et.variant!=="temporary"&&{borderBottom:`1px solid ${(tt.vars||tt).palette.divider}`},et.anchor==="right"&&et.variant!=="temporary"&&{borderLeft:`1px solid ${(tt.vars||tt).palette.divider}`},et.anchor==="bottom"&&et.variant!=="temporary"&&{borderTop:`1px solid ${(tt.vars||tt).palette.divider}`})),oppositeDirection={left:"right",right:"left",top:"down",bottom:"up"};function isHorizontal(tt){return["left","right"].indexOf(tt)!==-1}function getAnchor(tt,et){return tt.direction==="rtl"&&isHorizontal(et)?oppositeDirection[et]:et}const Drawer=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiDrawer"}),it=useTheme(),ot={enter:it.transitions.duration.enteringScreen,exit:it.transitions.duration.leavingScreen},{anchor:at="left",BackdropProps:st,children:lt,className:ct,elevation:ut=16,hideBackdrop:dt=!1,ModalProps:{BackdropProps:ft}={},onClose:pt,open:mt=!1,PaperProps:ht={},SlideProps:gt,TransitionComponent:vt=Slide$1,transitionDuration:yt=ot,variant:bt="temporary"}=nt,xt=_objectWithoutPropertiesLoose$4(nt.ModalProps,_excluded$S),$t=_objectWithoutPropertiesLoose$4(nt,_excluded2$6),Tt=reactExports.useRef(!1);reactExports.useEffect(()=>{Tt.current=!0},[]);const wt=getAnchor(it,at),Rt=_extends$n({},nt,{anchor:at,elevation:ut,open:mt,variant:bt},$t),It=useUtilityClasses$E(Rt),Lt=jsx$1(DrawerPaper,_extends$n({elevation:bt==="temporary"?ut:0,square:!0},ht,{className:clsx(It.paper,ht.className),ownerState:Rt,children:lt}));if(bt==="permanent")return jsx$1(DrawerDockedRoot,_extends$n({className:clsx(It.root,It.docked,ct),ownerState:Rt,ref:rt},$t,{children:Lt}));const Pt=jsx$1(vt,_extends$n({in:mt,direction:oppositeDirection[wt],timeout:yt,appear:Tt.current},gt,{children:Lt}));return bt==="persistent"?jsx$1(DrawerDockedRoot,_extends$n({className:clsx(It.root,It.docked,ct),ownerState:Rt,ref:rt},$t,{children:Pt})):jsx$1(DrawerRoot,_extends$n({BackdropProps:_extends$n({},st,ft,{transitionDuration:yt}),className:clsx(It.root,It.modal,ct),open:mt,ownerState:Rt,onClose:pt,hideBackdrop:dt,ref:rt},$t,xt,{children:Pt}))}),Drawer$1=Drawer;function getFabUtilityClass(tt){return generateUtilityClass("MuiFab",tt)}const fabClasses=generateUtilityClasses("MuiFab",["root","primary","secondary","extended","circular","focusVisible","disabled","colorInherit","sizeSmall","sizeMedium","sizeLarge","info","error","warning","success"]),fabClasses$1=fabClasses,_excluded$R=["children","className","color","component","disabled","disableFocusRipple","focusVisibleClassName","size","variant"],useUtilityClasses$D=tt=>{const{color:et,variant:rt,classes:nt,size:it}=tt,ot={root:["root",rt,`size${capitalize$1(it)}`,et==="inherit"?"colorInherit":et]},at=composeClasses(ot,getFabUtilityClass,nt);return _extends$n({},nt,at)},FabRoot=styled$1(ButtonBase$1,{name:"MuiFab",slot:"Root",shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[rt.variant],et[`size${capitalize$1(rt.size)}`],rt.color==="inherit"&&et.colorInherit,et[capitalize$1(rt.size)],et[rt.color]]}})(({theme:tt,ownerState:et})=>{var rt,nt;return _extends$n({},tt.typography.button,{minHeight:36,transition:tt.transitions.create(["background-color","box-shadow","border-color"],{duration:tt.transitions.duration.short}),borderRadius:"50%",padding:0,minWidth:0,width:56,height:56,zIndex:(tt.vars||tt).zIndex.fab,boxShadow:(tt.vars||tt).shadows[6],"&:active":{boxShadow:(tt.vars||tt).shadows[12]},color:tt.vars?tt.vars.palette.text.primary:(rt=(nt=tt.palette).getContrastText)==null?void 0:rt.call(nt,tt.palette.grey[300]),backgroundColor:(tt.vars||tt).palette.grey[300],"&:hover":{backgroundColor:(tt.vars||tt).palette.grey.A100,"@media (hover: none)":{backgroundColor:(tt.vars||tt).palette.grey[300]},textDecoration:"none"},[`&.${fabClasses$1.focusVisible}`]:{boxShadow:(tt.vars||tt).shadows[6]}},et.size==="small"&&{width:40,height:40},et.size==="medium"&&{width:48,height:48},et.variant==="extended"&&{borderRadius:48/2,padding:"0 16px",width:"auto",minHeight:"auto",minWidth:48,height:48},et.variant==="extended"&&et.size==="small"&&{width:"auto",padding:"0 8px",borderRadius:34/2,minWidth:34,height:34},et.variant==="extended"&&et.size==="medium"&&{width:"auto",padding:"0 16px",borderRadius:40/2,minWidth:40,height:40},et.color==="inherit"&&{color:"inherit"})},({theme:tt,ownerState:et})=>_extends$n({},et.color!=="inherit"&&et.color!=="default"&&(tt.vars||tt).palette[et.color]!=null&&{color:(tt.vars||tt).palette[et.color].contrastText,backgroundColor:(tt.vars||tt).palette[et.color].main,"&:hover":{backgroundColor:(tt.vars||tt).palette[et.color].dark,"@media (hover: none)":{backgroundColor:(tt.vars||tt).palette[et.color].main}}}),({theme:tt})=>({[`&.${fabClasses$1.disabled}`]:{color:(tt.vars||tt).palette.action.disabled,boxShadow:(tt.vars||tt).shadows[0],backgroundColor:(tt.vars||tt).palette.action.disabledBackground}})),Fab=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiFab"}),{children:it,className:ot,color:at="default",component:st="button",disabled:lt=!1,disableFocusRipple:ct=!1,focusVisibleClassName:ut,size:dt="large",variant:ft="circular"}=nt,pt=_objectWithoutPropertiesLoose$4(nt,_excluded$R),mt=_extends$n({},nt,{color:at,component:st,disabled:lt,disableFocusRipple:ct,size:dt,variant:ft}),ht=useUtilityClasses$D(mt);return jsx$1(FabRoot,_extends$n({className:clsx(ht.root,ot),component:st,disabled:lt,focusRipple:!ct,focusVisibleClassName:clsx(ht.focusVisible,ut),ownerState:mt,ref:rt},pt,{classes:ht,children:it}))}),Fab$1=Fab,_excluded$Q=["disableUnderline","components","componentsProps","fullWidth","hiddenLabel","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$C=tt=>{const{classes:et,disableUnderline:rt}=tt,it=composeClasses({root:["root",!rt&&"underline"],input:["input"]},getFilledInputUtilityClass,et);return _extends$n({},et,it)},FilledInputRoot=styled$1(InputBaseRoot,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiFilledInput",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[...rootOverridesResolver(tt,et),!rt.disableUnderline&&et.underline]}})(({theme:tt,ownerState:et})=>{var rt;const nt=tt.palette.mode==="light",it=nt?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)",ot=nt?"rgba(0, 0, 0, 0.06)":"rgba(255, 255, 255, 0.09)",at=nt?"rgba(0, 0, 0, 0.09)":"rgba(255, 255, 255, 0.13)",st=nt?"rgba(0, 0, 0, 0.12)":"rgba(255, 255, 255, 0.12)";return _extends$n({position:"relative",backgroundColor:tt.vars?tt.vars.palette.FilledInput.bg:ot,borderTopLeftRadius:(tt.vars||tt).shape.borderRadius,borderTopRightRadius:(tt.vars||tt).shape.borderRadius,transition:tt.transitions.create("background-color",{duration:tt.transitions.duration.shorter,easing:tt.transitions.easing.easeOut}),"&:hover":{backgroundColor:tt.vars?tt.vars.palette.FilledInput.hoverBg:at,"@media (hover: none)":{backgroundColor:tt.vars?tt.vars.palette.FilledInput.bg:ot}},[`&.${filledInputClasses$1.focused}`]:{backgroundColor:tt.vars?tt.vars.palette.FilledInput.bg:ot},[`&.${filledInputClasses$1.disabled}`]:{backgroundColor:tt.vars?tt.vars.palette.FilledInput.disabledBg:st}},!et.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(rt=(tt.vars||tt).palette[et.color||"primary"])==null?void 0:rt.main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:tt.transitions.create("transform",{duration:tt.transitions.duration.shorter,easing:tt.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${filledInputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${filledInputClasses$1.error}`]:{"&:before, &:after":{borderBottomColor:(tt.vars||tt).palette.error.main}},"&:before":{borderBottom:`1px solid ${tt.vars?`rgba(${tt.vars.palette.common.onBackgroundChannel} / ${tt.vars.opacity.inputUnderline})`:it}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:tt.transitions.create("border-bottom-color",{duration:tt.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${filledInputClasses$1.disabled}, .${filledInputClasses$1.error}):before`]:{borderBottom:`1px solid ${(tt.vars||tt).palette.text.primary}`},[`&.${filledInputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}},et.startAdornment&&{paddingLeft:12},et.endAdornment&&{paddingRight:12},et.multiline&&_extends$n({padding:"25px 12px 8px"},et.size==="small"&&{paddingTop:21,paddingBottom:4},et.hiddenLabel&&{paddingTop:16,paddingBottom:17}))}),FilledInputInput=styled$1(InputBaseComponent,{name:"MuiFilledInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:tt,ownerState:et})=>_extends$n({paddingTop:25,paddingRight:12,paddingBottom:8,paddingLeft:12},!tt.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:tt.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:tt.palette.mode==="light"?null:"#fff",caretColor:tt.palette.mode==="light"?null:"#fff",borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"}},tt.vars&&{"&:-webkit-autofill":{borderTopLeftRadius:"inherit",borderTopRightRadius:"inherit"},[tt.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},et.size==="small"&&{paddingTop:21,paddingBottom:4},et.hiddenLabel&&{paddingTop:16,paddingBottom:17},et.multiline&&{paddingTop:0,paddingBottom:0,paddingLeft:0,paddingRight:0},et.startAdornment&&{paddingLeft:0},et.endAdornment&&{paddingRight:0},et.hiddenLabel&&et.size==="small"&&{paddingTop:8,paddingBottom:9})),FilledInput=reactExports.forwardRef(function(et,rt){var nt,it,ot,at;const st=useThemeProps({props:et,name:"MuiFilledInput"}),{components:lt={},componentsProps:ct,fullWidth:ut=!1,inputComponent:dt="input",multiline:ft=!1,slotProps:pt,slots:mt={},type:ht="text"}=st,gt=_objectWithoutPropertiesLoose$4(st,_excluded$Q),vt=_extends$n({},st,{fullWidth:ut,inputComponent:dt,multiline:ft,type:ht}),yt=useUtilityClasses$C(st),bt={root:{ownerState:vt},input:{ownerState:vt}},xt=pt??ct?deepmerge$1(pt??ct,bt):bt,$t=(nt=(it=mt.root)!=null?it:lt.Root)!=null?nt:FilledInputRoot,Tt=(ot=(at=mt.input)!=null?at:lt.Input)!=null?ot:FilledInputInput;return jsx$1(InputBase$1,_extends$n({slots:{root:$t,input:Tt},componentsProps:xt,fullWidth:ut,inputComponent:dt,multiline:ft,ref:rt,type:ht},gt,{classes:yt}))});FilledInput.muiName="Input";const FilledInput$1=FilledInput;function getFormControlUtilityClasses(tt){return generateUtilityClass("MuiFormControl",tt)}generateUtilityClasses("MuiFormControl",["root","marginNone","marginNormal","marginDense","fullWidth","disabled"]);const _excluded$P=["children","className","color","component","disabled","error","focused","fullWidth","hiddenLabel","margin","required","size","variant"],useUtilityClasses$B=tt=>{const{classes:et,margin:rt,fullWidth:nt}=tt,it={root:["root",rt!=="none"&&`margin${capitalize$1(rt)}`,nt&&"fullWidth"]};return composeClasses(it,getFormControlUtilityClasses,et)},FormControlRoot=styled$1("div",{name:"MuiFormControl",slot:"Root",overridesResolver:({ownerState:tt},et)=>_extends$n({},et.root,et[`margin${capitalize$1(tt.margin)}`],tt.fullWidth&&et.fullWidth)})(({ownerState:tt})=>_extends$n({display:"inline-flex",flexDirection:"column",position:"relative",minWidth:0,padding:0,margin:0,border:0,verticalAlign:"top"},tt.margin==="normal"&&{marginTop:16,marginBottom:8},tt.margin==="dense"&&{marginTop:8,marginBottom:4},tt.fullWidth&&{width:"100%"})),FormControl=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiFormControl"}),{children:it,className:ot,color:at="primary",component:st="div",disabled:lt=!1,error:ct=!1,focused:ut,fullWidth:dt=!1,hiddenLabel:ft=!1,margin:pt="none",required:mt=!1,size:ht="medium",variant:gt="outlined"}=nt,vt=_objectWithoutPropertiesLoose$4(nt,_excluded$P),yt=_extends$n({},nt,{color:at,component:st,disabled:lt,error:ct,fullWidth:dt,hiddenLabel:ft,margin:pt,required:mt,size:ht,variant:gt}),bt=useUtilityClasses$B(yt),[xt,$t]=reactExports.useState(()=>{let Nt=!1;return it&&reactExports.Children.forEach(it,Ot=>{if(!isMuiElement(Ot,["Input","Select"]))return;const Bt=isMuiElement(Ot,["Select"])?Ot.props.input:Ot;Bt&&isAdornedStart(Bt.props)&&(Nt=!0)}),Nt}),[Tt,wt]=reactExports.useState(()=>{let Nt=!1;return it&&reactExports.Children.forEach(it,Ot=>{isMuiElement(Ot,["Input","Select"])&&isFilled(Ot.props,!0)&&(Nt=!0)}),Nt}),[At,Rt]=reactExports.useState(!1);lt&&At&&Rt(!1);const It=ut!==void 0&&!lt?ut:At;let Lt;const Pt=reactExports.useMemo(()=>({adornedStart:xt,setAdornedStart:$t,color:at,disabled:lt,error:ct,filled:Tt,focused:It,fullWidth:dt,hiddenLabel:ft,size:ht,onBlur:()=>{Rt(!1)},onEmpty:()=>{wt(!1)},onFilled:()=>{wt(!0)},onFocus:()=>{Rt(!0)},registerEffect:Lt,required:mt,variant:gt}),[xt,at,lt,ct,Tt,It,dt,ft,Lt,mt,ht,gt]);return jsx$1(FormControlContext$1.Provider,{value:Pt,children:jsx$1(FormControlRoot,_extends$n({as:st,ownerState:yt,className:clsx(bt.root,ot),ref:rt},vt,{children:it}))})}),FormControl$1=FormControl;function getFormControlLabelUtilityClasses(tt){return generateUtilityClass("MuiFormControlLabel",tt)}const formControlLabelClasses=generateUtilityClasses("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]),formControlLabelClasses$1=formControlLabelClasses,_excluded$O=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","slotProps","value"],useUtilityClasses$A=tt=>{const{classes:et,disabled:rt,labelPlacement:nt,error:it}=tt,ot={root:["root",rt&&"disabled",`labelPlacement${capitalize$1(nt)}`,it&&"error"],label:["label",rt&&"disabled"]};return composeClasses(ot,getFormControlLabelUtilityClasses,et)},FormControlLabelRoot=styled$1("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[{[`& .${formControlLabelClasses$1.label}`]:et.label},et.root,et[`labelPlacement${capitalize$1(rt.labelPlacement)}`]]}})(({theme:tt,ownerState:et})=>_extends$n({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${formControlLabelClasses$1.disabled}`]:{cursor:"default"}},et.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},et.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},et.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${formControlLabelClasses$1.label}`]:{[`&.${formControlLabelClasses$1.disabled}`]:{color:(tt.vars||tt).palette.text.disabled}}})),FormControlLabel=reactExports.forwardRef(function(et,rt){var nt;const it=useThemeProps({props:et,name:"MuiFormControlLabel"}),{className:ot,componentsProps:at={},control:st,disabled:lt,disableTypography:ct,label:ut,labelPlacement:dt="end",slotProps:ft={}}=it,pt=_objectWithoutPropertiesLoose$4(it,_excluded$O),mt=useFormControl();let ht=lt;typeof ht>"u"&&typeof st.props.disabled<"u"&&(ht=st.props.disabled),typeof ht>"u"&&mt&&(ht=mt.disabled);const gt={disabled:ht};["checked","name","onChange","value","inputRef"].forEach(Tt=>{typeof st.props[Tt]>"u"&&typeof it[Tt]<"u"&&(gt[Tt]=it[Tt])});const vt=formControlState({props:it,muiFormControl:mt,states:["error"]}),yt=_extends$n({},it,{disabled:ht,labelPlacement:dt,error:vt.error}),bt=useUtilityClasses$A(yt),xt=(nt=ft.typography)!=null?nt:at.typography;let $t=ut;return $t!=null&&$t.type!==Typography$1&&!ct&&($t=jsx$1(Typography$1,_extends$n({component:"span"},xt,{className:clsx(bt.label,xt==null?void 0:xt.className),children:$t}))),jsxs$1(FormControlLabelRoot,_extends$n({className:clsx(bt.root,ot),ownerState:yt,ref:rt},pt,{children:[reactExports.cloneElement(st,gt),$t]}))}),FormControlLabel$1=FormControlLabel;function getFormGroupUtilityClass(tt){return generateUtilityClass("MuiFormGroup",tt)}generateUtilityClasses("MuiFormGroup",["root","row","error"]);const _excluded$N=["className","row"],useUtilityClasses$z=tt=>{const{classes:et,row:rt,error:nt}=tt;return composeClasses({root:["root",rt&&"row",nt&&"error"]},getFormGroupUtilityClass,et)},FormGroupRoot=styled$1("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.row&&et.row]}})(({ownerState:tt})=>_extends$n({display:"flex",flexDirection:"column",flexWrap:"wrap"},tt.row&&{flexDirection:"row"})),FormGroup=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiFormGroup"}),{className:it,row:ot=!1}=nt,at=_objectWithoutPropertiesLoose$4(nt,_excluded$N),st=useFormControl(),lt=formControlState({props:nt,muiFormControl:st,states:["error"]}),ct=_extends$n({},nt,{row:ot,error:lt.error}),ut=useUtilityClasses$z(ct);return jsx$1(FormGroupRoot,_extends$n({className:clsx(ut.root,it),ownerState:ct,ref:rt},at))}),FormGroup$1=FormGroup;function getFormHelperTextUtilityClasses(tt){return generateUtilityClass("MuiFormHelperText",tt)}const formHelperTextClasses=generateUtilityClasses("MuiFormHelperText",["root","error","disabled","sizeSmall","sizeMedium","contained","focused","filled","required"]),formHelperTextClasses$1=formHelperTextClasses;var _span$3;const _excluded$M=["children","className","component","disabled","error","filled","focused","margin","required","variant"],useUtilityClasses$y=tt=>{const{classes:et,contained:rt,size:nt,disabled:it,error:ot,filled:at,focused:st,required:lt}=tt,ct={root:["root",it&&"disabled",ot&&"error",nt&&`size${capitalize$1(nt)}`,rt&&"contained",st&&"focused",at&&"filled",lt&&"required"]};return composeClasses(ct,getFormHelperTextUtilityClasses,et)},FormHelperTextRoot=styled$1("p",{name:"MuiFormHelperText",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.size&&et[`size${capitalize$1(rt.size)}`],rt.contained&&et.contained,rt.filled&&et.filled]}})(({theme:tt,ownerState:et})=>_extends$n({color:(tt.vars||tt).palette.text.secondary},tt.typography.caption,{textAlign:"left",marginTop:3,marginRight:0,marginBottom:0,marginLeft:0,[`&.${formHelperTextClasses$1.disabled}`]:{color:(tt.vars||tt).palette.text.disabled},[`&.${formHelperTextClasses$1.error}`]:{color:(tt.vars||tt).palette.error.main}},et.size==="small"&&{marginTop:4},et.contained&&{marginLeft:14,marginRight:14})),FormHelperText=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiFormHelperText"}),{children:it,className:ot,component:at="p"}=nt,st=_objectWithoutPropertiesLoose$4(nt,_excluded$M),lt=useFormControl(),ct=formControlState({props:nt,muiFormControl:lt,states:["variant","size","disabled","error","filled","focused","required"]}),ut=_extends$n({},nt,{component:at,contained:ct.variant==="filled"||ct.variant==="outlined",variant:ct.variant,size:ct.size,disabled:ct.disabled,error:ct.error,filled:ct.filled,focused:ct.focused,required:ct.required}),dt=useUtilityClasses$y(ut);return jsx$1(FormHelperTextRoot,_extends$n({as:at,ownerState:ut,className:clsx(dt.root,ot),ref:rt},st,{children:it===" "?_span$3||(_span$3=jsx$1("span",{className:"notranslate",children:"​"})):it}))}),FormHelperText$1=FormHelperText;function getFormLabelUtilityClasses(tt){return generateUtilityClass("MuiFormLabel",tt)}const formLabelClasses=generateUtilityClasses("MuiFormLabel",["root","colorSecondary","focused","disabled","error","filled","required","asterisk"]),formLabelClasses$1=formLabelClasses,_excluded$L=["children","className","color","component","disabled","error","filled","focused","required"],useUtilityClasses$x=tt=>{const{classes:et,color:rt,focused:nt,disabled:it,error:ot,filled:at,required:st}=tt,lt={root:["root",`color${capitalize$1(rt)}`,it&&"disabled",ot&&"error",at&&"filled",nt&&"focused",st&&"required"],asterisk:["asterisk",ot&&"error"]};return composeClasses(lt,getFormLabelUtilityClasses,et)},FormLabelRoot=styled$1("label",{name:"MuiFormLabel",slot:"Root",overridesResolver:({ownerState:tt},et)=>_extends$n({},et.root,tt.color==="secondary"&&et.colorSecondary,tt.filled&&et.filled)})(({theme:tt,ownerState:et})=>_extends$n({color:(tt.vars||tt).palette.text.secondary},tt.typography.body1,{lineHeight:"1.4375em",padding:0,position:"relative",[`&.${formLabelClasses$1.focused}`]:{color:(tt.vars||tt).palette[et.color].main},[`&.${formLabelClasses$1.disabled}`]:{color:(tt.vars||tt).palette.text.disabled},[`&.${formLabelClasses$1.error}`]:{color:(tt.vars||tt).palette.error.main}})),AsteriskComponent=styled$1("span",{name:"MuiFormLabel",slot:"Asterisk",overridesResolver:(tt,et)=>et.asterisk})(({theme:tt})=>({[`&.${formLabelClasses$1.error}`]:{color:(tt.vars||tt).palette.error.main}})),FormLabel=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiFormLabel"}),{children:it,className:ot,component:at="label"}=nt,st=_objectWithoutPropertiesLoose$4(nt,_excluded$L),lt=useFormControl(),ct=formControlState({props:nt,muiFormControl:lt,states:["color","required","focused","disabled","error","filled"]}),ut=_extends$n({},nt,{color:ct.color||"primary",component:at,disabled:ct.disabled,error:ct.error,filled:ct.filled,focused:ct.focused,required:ct.required}),dt=useUtilityClasses$x(ut);return jsxs$1(FormLabelRoot,_extends$n({as:at,ownerState:ut,className:clsx(dt.root,ot),ref:rt},st,{children:[it,ct.required&&jsxs$1(AsteriskComponent,{ownerState:ut,"aria-hidden":!0,className:dt.asterisk,children:[" ","*"]})]}))}),FormLabel$1=FormLabel,GridContext=reactExports.createContext(),GridContext$1=GridContext;function getGridUtilityClass(tt){return generateUtilityClass("MuiGrid",tt)}const SPACINGS=[0,1,2,3,4,5,6,7,8,9,10],DIRECTIONS=["column-reverse","column","row-reverse","row"],WRAPS=["nowrap","wrap-reverse","wrap"],GRID_SIZES=["auto",!0,1,2,3,4,5,6,7,8,9,10,11,12],gridClasses=generateUtilityClasses("MuiGrid",["root","container","item","zeroMinWidth",...SPACINGS.map(tt=>`spacing-xs-${tt}`),...DIRECTIONS.map(tt=>`direction-xs-${tt}`),...WRAPS.map(tt=>`wrap-xs-${tt}`),...GRID_SIZES.map(tt=>`grid-xs-${tt}`),...GRID_SIZES.map(tt=>`grid-sm-${tt}`),...GRID_SIZES.map(tt=>`grid-md-${tt}`),...GRID_SIZES.map(tt=>`grid-lg-${tt}`),...GRID_SIZES.map(tt=>`grid-xl-${tt}`)]),gridClasses$1=gridClasses,_excluded$K=["className","columns","columnSpacing","component","container","direction","item","rowSpacing","spacing","wrap","zeroMinWidth"];function getOffset(tt){const et=parseFloat(tt);return`${et}${String(tt).replace(String(et),"")||"px"}`}function generateGrid({theme:tt,ownerState:et}){let rt;return tt.breakpoints.keys.reduce((nt,it)=>{let ot={};if(et[it]&&(rt=et[it]),!rt)return nt;if(rt===!0)ot={flexBasis:0,flexGrow:1,maxWidth:"100%"};else if(rt==="auto")ot={flexBasis:"auto",flexGrow:0,flexShrink:0,maxWidth:"none",width:"auto"};else{const at=resolveBreakpointValues({values:et.columns,breakpoints:tt.breakpoints.values}),st=typeof at=="object"?at[it]:at;if(st==null)return nt;const lt=`${Math.round(rt/st*1e8)/1e6}%`;let ct={};if(et.container&&et.item&&et.columnSpacing!==0){const ut=tt.spacing(et.columnSpacing);if(ut!=="0px"){const dt=`calc(${lt} + ${getOffset(ut)})`;ct={flexBasis:dt,maxWidth:dt}}}ot=_extends$n({flexBasis:lt,flexGrow:0,maxWidth:lt},ct)}return tt.breakpoints.values[it]===0?Object.assign(nt,ot):nt[tt.breakpoints.up(it)]=ot,nt},{})}function generateDirection({theme:tt,ownerState:et}){const rt=resolveBreakpointValues({values:et.direction,breakpoints:tt.breakpoints.values});return handleBreakpoints({theme:tt},rt,nt=>{const it={flexDirection:nt};return nt.indexOf("column")===0&&(it[`& > .${gridClasses$1.item}`]={maxWidth:"none"}),it})}function extractZeroValueBreakpointKeys({breakpoints:tt,values:et}){let rt="";Object.keys(et).forEach(it=>{rt===""&&et[it]!==0&&(rt=it)});const nt=Object.keys(tt).sort((it,ot)=>tt[it]-tt[ot]);return nt.slice(0,nt.indexOf(rt))}function generateRowGap({theme:tt,ownerState:et}){const{container:rt,rowSpacing:nt}=et;let it={};if(rt&&nt!==0){const ot=resolveBreakpointValues({values:nt,breakpoints:tt.breakpoints.values});let at;typeof ot=="object"&&(at=extractZeroValueBreakpointKeys({breakpoints:tt.breakpoints.values,values:ot})),it=handleBreakpoints({theme:tt},ot,(st,lt)=>{var ct;const ut=tt.spacing(st);return ut!=="0px"?{marginTop:`-${getOffset(ut)}`,[`& > .${gridClasses$1.item}`]:{paddingTop:getOffset(ut)}}:(ct=at)!=null&&ct.includes(lt)?{}:{marginTop:0,[`& > .${gridClasses$1.item}`]:{paddingTop:0}}})}return it}function generateColumnGap({theme:tt,ownerState:et}){const{container:rt,columnSpacing:nt}=et;let it={};if(rt&&nt!==0){const ot=resolveBreakpointValues({values:nt,breakpoints:tt.breakpoints.values});let at;typeof ot=="object"&&(at=extractZeroValueBreakpointKeys({breakpoints:tt.breakpoints.values,values:ot})),it=handleBreakpoints({theme:tt},ot,(st,lt)=>{var ct;const ut=tt.spacing(st);return ut!=="0px"?{width:`calc(100% + ${getOffset(ut)})`,marginLeft:`-${getOffset(ut)}`,[`& > .${gridClasses$1.item}`]:{paddingLeft:getOffset(ut)}}:(ct=at)!=null&&ct.includes(lt)?{}:{width:"100%",marginLeft:0,[`& > .${gridClasses$1.item}`]:{paddingLeft:0}}})}return it}function resolveSpacingStyles(tt,et,rt={}){if(!tt||tt<=0)return[];if(typeof tt=="string"&&!Number.isNaN(Number(tt))||typeof tt=="number")return[rt[`spacing-xs-${String(tt)}`]];const nt=[];return et.forEach(it=>{const ot=tt[it];Number(ot)>0&&nt.push(rt[`spacing-${it}-${String(ot)}`])}),nt}const GridRoot=styled$1("div",{name:"MuiGrid",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt,{container:nt,direction:it,item:ot,spacing:at,wrap:st,zeroMinWidth:lt,breakpoints:ct}=rt;let ut=[];nt&&(ut=resolveSpacingStyles(at,ct,et));const dt=[];return ct.forEach(ft=>{const pt=rt[ft];pt&&dt.push(et[`grid-${ft}-${String(pt)}`])}),[et.root,nt&&et.container,ot&&et.item,lt&&et.zeroMinWidth,...ut,it!=="row"&&et[`direction-xs-${String(it)}`],st!=="wrap"&&et[`wrap-xs-${String(st)}`],...dt]}})(({ownerState:tt})=>_extends$n({boxSizing:"border-box"},tt.container&&{display:"flex",flexWrap:"wrap",width:"100%"},tt.item&&{margin:0},tt.zeroMinWidth&&{minWidth:0},tt.wrap!=="wrap"&&{flexWrap:tt.wrap}),generateDirection,generateRowGap,generateColumnGap,generateGrid);function resolveSpacingClasses(tt,et){if(!tt||tt<=0)return[];if(typeof tt=="string"&&!Number.isNaN(Number(tt))||typeof tt=="number")return[`spacing-xs-${String(tt)}`];const rt=[];return et.forEach(nt=>{const it=tt[nt];if(Number(it)>0){const ot=`spacing-${nt}-${String(it)}`;rt.push(ot)}}),rt}const useUtilityClasses$w=tt=>{const{classes:et,container:rt,direction:nt,item:it,spacing:ot,wrap:at,zeroMinWidth:st,breakpoints:lt}=tt;let ct=[];rt&&(ct=resolveSpacingClasses(ot,lt));const ut=[];lt.forEach(ft=>{const pt=tt[ft];pt&&ut.push(`grid-${ft}-${String(pt)}`)});const dt={root:["root",rt&&"container",it&&"item",st&&"zeroMinWidth",...ct,nt!=="row"&&`direction-xs-${String(nt)}`,at!=="wrap"&&`wrap-xs-${String(at)}`,...ut]};return composeClasses(dt,getGridUtilityClass,et)},Grid=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiGrid"}),{breakpoints:it}=useTheme(),ot=extendSxProp(nt),{className:at,columns:st,columnSpacing:lt,component:ct="div",container:ut=!1,direction:dt="row",item:ft=!1,rowSpacing:pt,spacing:mt=0,wrap:ht="wrap",zeroMinWidth:gt=!1}=ot,vt=_objectWithoutPropertiesLoose$4(ot,_excluded$K),yt=pt||mt,bt=lt||mt,xt=reactExports.useContext(GridContext$1),$t=ut?st||12:xt,Tt={},wt=_extends$n({},vt);it.keys.forEach(It=>{vt[It]!=null&&(Tt[It]=vt[It],delete wt[It])});const At=_extends$n({},ot,{columns:$t,container:ut,direction:dt,item:ft,rowSpacing:yt,columnSpacing:bt,wrap:ht,zeroMinWidth:gt,spacing:mt},Tt,{breakpoints:it.keys}),Rt=useUtilityClasses$w(At);return jsx$1(GridContext$1.Provider,{value:$t,children:jsx$1(GridRoot,_extends$n({ownerState:At,className:clsx(Rt.root,at),as:ct,ref:rt},wt))})}),Grid$1=Grid,_excluded$J=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"];function getScale(tt){return`scale(${tt}, ${tt**2})`}const styles$3={entering:{opacity:1,transform:getScale(1)},entered:{opacity:1,transform:"none"}},isWebKit154=typeof navigator<"u"&&/^((?!chrome|android).)*(safari|mobile)/i.test(navigator.userAgent)&&/(os |version\/)15(.|_)4/i.test(navigator.userAgent),Grow=reactExports.forwardRef(function(et,rt){const{addEndListener:nt,appear:it=!0,children:ot,easing:at,in:st,onEnter:lt,onEntered:ct,onEntering:ut,onExit:dt,onExited:ft,onExiting:pt,style:mt,timeout:ht="auto",TransitionComponent:gt=Transition$1}=et,vt=_objectWithoutPropertiesLoose$4(et,_excluded$J),yt=reactExports.useRef(),bt=reactExports.useRef(),xt=useTheme(),$t=reactExports.useRef(null),Tt=useForkRef($t,ot.ref,rt),wt=Bt=>zt=>{if(Bt){const Vt=$t.current;zt===void 0?Bt(Vt):Bt(Vt,zt)}},At=wt(ut),Rt=wt((Bt,zt)=>{reflow(Bt);const{duration:Vt,delay:Ut,easing:jt}=getTransitionProps({style:mt,timeout:ht,easing:at},{mode:"enter"});let qt;ht==="auto"?(qt=xt.transitions.getAutoHeightDuration(Bt.clientHeight),bt.current=qt):qt=Vt,Bt.style.transition=[xt.transitions.create("opacity",{duration:qt,delay:Ut}),xt.transitions.create("transform",{duration:isWebKit154?qt:qt*.666,delay:Ut,easing:jt})].join(","),lt&&lt(Bt,zt)}),It=wt(ct),Lt=wt(pt),Pt=wt(Bt=>{const{duration:zt,delay:Vt,easing:Ut}=getTransitionProps({style:mt,timeout:ht,easing:at},{mode:"exit"});let jt;ht==="auto"?(jt=xt.transitions.getAutoHeightDuration(Bt.clientHeight),bt.current=jt):jt=zt,Bt.style.transition=[xt.transitions.create("opacity",{duration:jt,delay:Vt}),xt.transitions.create("transform",{duration:isWebKit154?jt:jt*.666,delay:isWebKit154?Vt:Vt||jt*.333,easing:Ut})].join(","),Bt.style.opacity=0,Bt.style.transform=getScale(.75),dt&&dt(Bt)}),Nt=wt(ft),Ot=Bt=>{ht==="auto"&&(yt.current=setTimeout(Bt,bt.current||0)),nt&&nt($t.current,Bt)};return reactExports.useEffect(()=>()=>{clearTimeout(yt.current)},[]),jsx$1(gt,_extends$n({appear:it,in:st,nodeRef:$t,onEnter:Rt,onEntered:It,onEntering:At,onExit:Pt,onExited:Nt,onExiting:Lt,addEndListener:Ot,timeout:ht==="auto"?null:ht},vt,{children:(Bt,zt)=>reactExports.cloneElement(ot,_extends$n({style:_extends$n({opacity:0,transform:getScale(.75),visibility:Bt==="exited"&&!st?"hidden":void 0},styles$3[Bt],mt,ot.props.style),ref:Tt},zt))}))});Grow.muiSupportAuto=!0;const Grow$1=Grow;function useMediaQueryOld(tt,et,rt,nt,it){const ot=typeof window<"u"&&typeof window.matchMedia<"u",[at,st]=reactExports.useState(()=>it&&ot?rt(tt).matches:nt?nt(tt).matches:et);return useEnhancedEffect$1(()=>{let lt=!0;if(!ot)return;const ct=rt(tt),ut=()=>{lt&&st(ct.matches)};return ut(),ct.addListener(ut),()=>{lt=!1,ct.removeListener(ut)}},[tt,rt,ot]),at}const maybeReactUseSyncExternalStore=React$1["useSyncExternalStore"];function useMediaQueryNew(tt,et,rt,nt){const it=reactExports.useCallback(()=>et,[et]),ot=reactExports.useMemo(()=>{if(nt!==null){const{matches:ct}=nt(tt);return()=>ct}return it},[it,tt,nt]),[at,st]=reactExports.useMemo(()=>{if(rt===null)return[it,()=>()=>{}];const ct=rt(tt);return[()=>ct.matches,ut=>(ct.addListener(ut),()=>{ct.removeListener(ut)})]},[it,rt,tt]);return maybeReactUseSyncExternalStore(st,at,ot)}function useMediaQuery(tt,et={}){const rt=useTheme$2(),nt=typeof window<"u"&&typeof window.matchMedia<"u",{defaultMatches:it=!1,matchMedia:ot=nt?window.matchMedia:null,ssrMatchMedia:at=null,noSsr:st}=getThemeProps({name:"MuiUseMediaQuery",props:et,theme:rt});let lt=typeof tt=="function"?tt(rt):tt;return lt=lt.replace(/^@media( ?)/m,""),(maybeReactUseSyncExternalStore!==void 0?useMediaQueryNew:useMediaQueryOld)(lt,it,ot,at,st)}const _excluded$I=["initialWidth","width"],breakpointKeys=["xs","sm","md","lg","xl"],isWidthUp=(tt,et,rt=!0)=>rt?breakpointKeys.indexOf(tt)<=breakpointKeys.indexOf(et):breakpointKeys.indexOf(tt)<breakpointKeys.indexOf(et),isWidthDown=(tt,et,rt=!1)=>rt?breakpointKeys.indexOf(et)<=breakpointKeys.indexOf(tt):breakpointKeys.indexOf(et)<breakpointKeys.indexOf(tt),withWidth=(tt={})=>et=>{const{withTheme:rt=!1,noSSR:nt=!1,initialWidth:it}=tt;function ot(at){const st=useTheme(),lt=at.theme||st,ct=getThemeProps({theme:lt,name:"MuiWithWidth",props:at}),{initialWidth:ut,width:dt}=ct,ft=_objectWithoutPropertiesLoose$4(ct,_excluded$I),[pt,mt]=reactExports.useState(!1);useEnhancedEffect$1(()=>{mt(!0)},[]);const gt=lt.breakpoints.keys.slice().reverse().reduce((yt,bt)=>{const xt=useMediaQuery(lt.breakpoints.up(bt));return!yt&&xt?bt:yt},null),vt=_extends$n({width:dt||(pt||nt?gt:void 0)||ut||it},rt?{theme:lt}:{},ft);return vt.width===void 0?null:jsx$1(et,_extends$n({},vt))}return ot},withWidth$1=withWidth;function HiddenJs(tt){const{children:et,only:rt,width:nt}=tt,it=useTheme();let ot=!0;if(rt)if(Array.isArray(rt))for(let at=0;at<rt.length;at+=1){const st=rt[at];if(nt===st){ot=!1;break}}else rt&&nt===rt&&(ot=!1);if(ot)for(let at=0;at<it.breakpoints.keys.length;at+=1){const st=it.breakpoints.keys[at],lt=tt[`${st}Up`],ct=tt[`${st}Down`];if(lt&&isWidthUp(st,nt)||ct&&isWidthDown(st,nt)){ot=!1;break}}return ot?jsx$1(reactExports.Fragment,{children:et}):null}const HiddenJs$1=withWidth$1()(HiddenJs);function getHiddenCssUtilityClass(tt){return generateUtilityClass("PrivateHiddenCss",tt)}generateUtilityClasses("PrivateHiddenCss",["root","xlDown","xlUp","onlyXl","lgDown","lgUp","onlyLg","mdDown","mdUp","onlyMd","smDown","smUp","onlySm","xsDown","xsUp","onlyXs"]);const _excluded$H=["children","className","only"],useUtilityClasses$v=tt=>{const{classes:et,breakpoints:rt}=tt,nt={root:["root",...rt.map(({breakpoint:it,dir:ot})=>ot==="only"?`${ot}${capitalize$1(it)}`:`${it}${capitalize$1(ot)}`)]};return composeClasses(nt,getHiddenCssUtilityClass,et)},HiddenCssRoot=styled$1("div",{name:"PrivateHiddenCss",slot:"Root"})(({theme:tt,ownerState:et})=>{const rt={display:"none"};return _extends$n({},et.breakpoints.map(({breakpoint:nt,dir:it})=>it==="only"?{[tt.breakpoints.only(nt)]:rt}:it==="up"?{[tt.breakpoints.up(nt)]:rt}:{[tt.breakpoints.down(nt)]:rt}).reduce((nt,it)=>(Object.keys(it).forEach(ot=>{nt[ot]=it[ot]}),nt),{}))});function HiddenCss(tt){const{children:et,className:rt,only:nt}=tt,it=_objectWithoutPropertiesLoose$4(tt,_excluded$H),ot=useTheme(),at=[];for(let ct=0;ct<ot.breakpoints.keys.length;ct+=1){const ut=ot.breakpoints.keys[ct],dt=it[`${ut}Up`],ft=it[`${ut}Down`];dt&&at.push({breakpoint:ut,dir:"up"}),ft&&at.push({breakpoint:ut,dir:"down"})}nt&&(Array.isArray(nt)?nt:[nt]).forEach(ut=>{at.push({breakpoint:ut,dir:"only"})});const st=_extends$n({},tt,{breakpoints:at}),lt=useUtilityClasses$v(st);return jsx$1(HiddenCssRoot,{className:clsx(lt.root,rt),ownerState:st,children:et})}const _excluded$G=["implementation","lgDown","lgUp","mdDown","mdUp","smDown","smUp","xlDown","xlUp","xsDown","xsUp"];function Hidden(tt){const{implementation:et="js",lgDown:rt=!1,lgUp:nt=!1,mdDown:it=!1,mdUp:ot=!1,smDown:at=!1,smUp:st=!1,xlDown:lt=!1,xlUp:ct=!1,xsDown:ut=!1,xsUp:dt=!1}=tt,ft=_objectWithoutPropertiesLoose$4(tt,_excluded$G);return et==="js"?jsx$1(HiddenJs$1,_extends$n({lgDown:rt,lgUp:nt,mdDown:it,mdUp:ot,smDown:at,smUp:st,xlDown:lt,xlUp:ct,xsDown:ut,xsUp:dt},ft)):jsx$1(HiddenCss,_extends$n({lgDown:rt,lgUp:nt,mdDown:it,mdUp:ot,smDown:at,smUp:st,xlDown:lt,xlUp:ct,xsDown:ut,xsUp:dt},ft))}const _excluded$F=["disableUnderline","components","componentsProps","fullWidth","inputComponent","multiline","slotProps","slots","type"],useUtilityClasses$u=tt=>{const{classes:et,disableUnderline:rt}=tt,it=composeClasses({root:["root",!rt&&"underline"],input:["input"]},getInputUtilityClass,et);return _extends$n({},et,it)},InputRoot=styled$1(InputBaseRoot,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiInput",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[...rootOverridesResolver(tt,et),!rt.disableUnderline&&et.underline]}})(({theme:tt,ownerState:et})=>{let nt=tt.palette.mode==="light"?"rgba(0, 0, 0, 0.42)":"rgba(255, 255, 255, 0.7)";return tt.vars&&(nt=`rgba(${tt.vars.palette.common.onBackgroundChannel} / ${tt.vars.opacity.inputUnderline})`),_extends$n({position:"relative"},et.formControl&&{"label + &":{marginTop:16}},!et.disableUnderline&&{"&:after":{borderBottom:`2px solid ${(tt.vars||tt).palette[et.color].main}`,left:0,bottom:0,content:'""',position:"absolute",right:0,transform:"scaleX(0)",transition:tt.transitions.create("transform",{duration:tt.transitions.duration.shorter,easing:tt.transitions.easing.easeOut}),pointerEvents:"none"},[`&.${inputClasses$1.focused}:after`]:{transform:"scaleX(1) translateX(0)"},[`&.${inputClasses$1.error}`]:{"&:before, &:after":{borderBottomColor:(tt.vars||tt).palette.error.main}},"&:before":{borderBottom:`1px solid ${nt}`,left:0,bottom:0,content:'"\\00a0"',position:"absolute",right:0,transition:tt.transitions.create("border-bottom-color",{duration:tt.transitions.duration.shorter}),pointerEvents:"none"},[`&:hover:not(.${inputClasses$1.disabled}, .${inputClasses$1.error}):before`]:{borderBottom:`2px solid ${(tt.vars||tt).palette.text.primary}`,"@media (hover: none)":{borderBottom:`1px solid ${nt}`}},[`&.${inputClasses$1.disabled}:before`]:{borderBottomStyle:"dotted"}})}),InputInput=styled$1(InputBaseComponent,{name:"MuiInput",slot:"Input",overridesResolver:inputOverridesResolver})({}),Input$1=reactExports.forwardRef(function(et,rt){var nt,it,ot,at;const st=useThemeProps({props:et,name:"MuiInput"}),{disableUnderline:lt,components:ct={},componentsProps:ut,fullWidth:dt=!1,inputComponent:ft="input",multiline:pt=!1,slotProps:mt,slots:ht={},type:gt="text"}=st,vt=_objectWithoutPropertiesLoose$4(st,_excluded$F),yt=useUtilityClasses$u(st),xt={root:{ownerState:{disableUnderline:lt}}},$t=mt??ut?deepmerge$1(mt??ut,xt):xt,Tt=(nt=(it=ht.root)!=null?it:ct.Root)!=null?nt:InputRoot,wt=(ot=(at=ht.input)!=null?at:ct.Input)!=null?ot:InputInput;return jsx$1(InputBase$1,_extends$n({slots:{root:Tt,input:wt},slotProps:$t,fullWidth:dt,inputComponent:ft,multiline:pt,ref:rt,type:gt},vt,{classes:yt}))});Input$1.muiName="Input";const Input$2=Input$1;function getInputAdornmentUtilityClass(tt){return generateUtilityClass("MuiInputAdornment",tt)}const inputAdornmentClasses=generateUtilityClasses("MuiInputAdornment",["root","filled","standard","outlined","positionStart","positionEnd","disablePointerEvents","hiddenLabel","sizeSmall"]),inputAdornmentClasses$1=inputAdornmentClasses;var _span$2;const _excluded$E=["children","className","component","disablePointerEvents","disableTypography","position","variant"],overridesResolver$2=(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[`position${capitalize$1(rt.position)}`],rt.disablePointerEvents===!0&&et.disablePointerEvents,et[rt.variant]]},useUtilityClasses$t=tt=>{const{classes:et,disablePointerEvents:rt,hiddenLabel:nt,position:it,size:ot,variant:at}=tt,st={root:["root",rt&&"disablePointerEvents",it&&`position${capitalize$1(it)}`,at,nt&&"hiddenLabel",ot&&`size${capitalize$1(ot)}`]};return composeClasses(st,getInputAdornmentUtilityClass,et)},InputAdornmentRoot=styled$1("div",{name:"MuiInputAdornment",slot:"Root",overridesResolver:overridesResolver$2})(({theme:tt,ownerState:et})=>_extends$n({display:"flex",height:"0.01em",maxHeight:"2em",alignItems:"center",whiteSpace:"nowrap",color:(tt.vars||tt).palette.action.active},et.variant==="filled"&&{[`&.${inputAdornmentClasses$1.positionStart}&:not(.${inputAdornmentClasses$1.hiddenLabel})`]:{marginTop:16}},et.position==="start"&&{marginRight:8},et.position==="end"&&{marginLeft:8},et.disablePointerEvents===!0&&{pointerEvents:"none"})),InputAdornment=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiInputAdornment"}),{children:it,className:ot,component:at="div",disablePointerEvents:st=!1,disableTypography:lt=!1,position:ct,variant:ut}=nt,dt=_objectWithoutPropertiesLoose$4(nt,_excluded$E),ft=useFormControl()||{};let pt=ut;ut&&ft.variant,ft&&!pt&&(pt=ft.variant);const mt=_extends$n({},nt,{hiddenLabel:ft.hiddenLabel,size:ft.size,disablePointerEvents:st,position:ct,variant:pt}),ht=useUtilityClasses$t(mt);return jsx$1(FormControlContext$1.Provider,{value:null,children:jsx$1(InputAdornmentRoot,_extends$n({as:at,ownerState:mt,className:clsx(ht.root,ot),ref:rt},dt,{children:typeof it=="string"&&!lt?jsx$1(Typography$1,{color:"text.secondary",children:it}):jsxs$1(reactExports.Fragment,{children:[ct==="start"?_span$2||(_span$2=jsx$1("span",{className:"notranslate",children:"​"})):null,it]})}))})}),InputAdornment$1=InputAdornment;function getInputLabelUtilityClasses(tt){return generateUtilityClass("MuiInputLabel",tt)}generateUtilityClasses("MuiInputLabel",["root","focused","disabled","error","required","asterisk","formControl","sizeSmall","shrink","animated","standard","filled","outlined"]);const _excluded$D=["disableAnimation","margin","shrink","variant","className"],useUtilityClasses$s=tt=>{const{classes:et,formControl:rt,size:nt,shrink:it,disableAnimation:ot,variant:at,required:st}=tt,ct=composeClasses({root:["root",rt&&"formControl",!ot&&"animated",it&&"shrink",nt==="small"&&"sizeSmall",at],asterisk:[st&&"asterisk"]},getInputLabelUtilityClasses,et);return _extends$n({},et,ct)},InputLabelRoot=styled$1(FormLabel$1,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiInputLabel",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[{[`& .${formLabelClasses$1.asterisk}`]:et.asterisk},et.root,rt.formControl&&et.formControl,rt.size==="small"&&et.sizeSmall,rt.shrink&&et.shrink,!rt.disableAnimation&&et.animated,et[rt.variant]]}})(({theme:tt,ownerState:et})=>_extends$n({display:"block",transformOrigin:"top left",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},et.formControl&&{position:"absolute",left:0,top:0,transform:"translate(0, 20px) scale(1)"},et.size==="small"&&{transform:"translate(0, 17px) scale(1)"},et.shrink&&{transform:"translate(0, -1.5px) scale(0.75)",transformOrigin:"top left",maxWidth:"133%"},!et.disableAnimation&&{transition:tt.transitions.create(["color","transform","max-width"],{duration:tt.transitions.duration.shorter,easing:tt.transitions.easing.easeOut})},et.variant==="filled"&&_extends$n({zIndex:1,pointerEvents:"none",transform:"translate(12px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},et.size==="small"&&{transform:"translate(12px, 13px) scale(1)"},et.shrink&&_extends$n({userSelect:"none",pointerEvents:"auto",transform:"translate(12px, 7px) scale(0.75)",maxWidth:"calc(133% - 24px)"},et.size==="small"&&{transform:"translate(12px, 4px) scale(0.75)"})),et.variant==="outlined"&&_extends$n({zIndex:1,pointerEvents:"none",transform:"translate(14px, 16px) scale(1)",maxWidth:"calc(100% - 24px)"},et.size==="small"&&{transform:"translate(14px, 9px) scale(1)"},et.shrink&&{userSelect:"none",pointerEvents:"auto",maxWidth:"calc(133% - 24px)",transform:"translate(14px, -9px) scale(0.75)"}))),InputLabel=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({name:"MuiInputLabel",props:et}),{disableAnimation:it=!1,shrink:ot,className:at}=nt,st=_objectWithoutPropertiesLoose$4(nt,_excluded$D),lt=useFormControl();let ct=ot;typeof ct>"u"&&lt&&(ct=lt.filled||lt.focused||lt.adornedStart);const ut=formControlState({props:nt,muiFormControl:lt,states:["size","variant","required"]}),dt=_extends$n({},nt,{disableAnimation:it,formControl:lt,shrink:ct,size:ut.size,variant:ut.variant,required:ut.required}),ft=useUtilityClasses$s(dt);return jsx$1(InputLabelRoot,_extends$n({"data-shrink":ct,ownerState:dt,ref:rt,className:clsx(ft.root,at)},st,{classes:ft}))}),InputLabel$1=InputLabel;function getLinearProgressUtilityClass(tt){return generateUtilityClass("MuiLinearProgress",tt)}generateUtilityClasses("MuiLinearProgress",["root","colorPrimary","colorSecondary","determinate","indeterminate","buffer","query","dashed","dashedColorPrimary","dashedColorSecondary","bar","barColorPrimary","barColorSecondary","bar1Indeterminate","bar1Determinate","bar1Buffer","bar2Indeterminate","bar2Buffer"]);const _excluded$C=["className","color","value","valueBuffer","variant"];let _$2=tt=>tt,_t$1,_t2$1,_t3$1,_t4$1,_t5,_t6;const TRANSITION_DURATION=4,indeterminate1Keyframe=keyframes(_t$1||(_t$1=_$2`
  0% {
    left: -35%;
    right: 100%;
  }

  60% {
    left: 100%;
    right: -90%;
  }

  100% {
    left: 100%;
    right: -90%;
  }
`)),indeterminate2Keyframe=keyframes(_t2$1||(_t2$1=_$2`
  0% {
    left: -200%;
    right: 100%;
  }

  60% {
    left: 107%;
    right: -8%;
  }

  100% {
    left: 107%;
    right: -8%;
  }
`)),bufferKeyframe=keyframes(_t3$1||(_t3$1=_$2`
  0% {
    opacity: 1;
    background-position: 0 -23px;
  }

  60% {
    opacity: 0;
    background-position: 0 -23px;
  }

  100% {
    opacity: 1;
    background-position: -200px -23px;
  }
`)),useUtilityClasses$r=tt=>{const{classes:et,variant:rt,color:nt}=tt,it={root:["root",`color${capitalize$1(nt)}`,rt],dashed:["dashed",`dashedColor${capitalize$1(nt)}`],bar1:["bar",`barColor${capitalize$1(nt)}`,(rt==="indeterminate"||rt==="query")&&"bar1Indeterminate",rt==="determinate"&&"bar1Determinate",rt==="buffer"&&"bar1Buffer"],bar2:["bar",rt!=="buffer"&&`barColor${capitalize$1(nt)}`,rt==="buffer"&&`color${capitalize$1(nt)}`,(rt==="indeterminate"||rt==="query")&&"bar2Indeterminate",rt==="buffer"&&"bar2Buffer"]};return composeClasses(it,getLinearProgressUtilityClass,et)},getColorShade=(tt,et)=>et==="inherit"?"currentColor":tt.vars?tt.vars.palette.LinearProgress[`${et}Bg`]:tt.palette.mode==="light"?lighten(tt.palette[et].main,.62):darken(tt.palette[et].main,.5),LinearProgressRoot=styled$1("span",{name:"MuiLinearProgress",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[`color${capitalize$1(rt.color)}`],et[rt.variant]]}})(({ownerState:tt,theme:et})=>_extends$n({position:"relative",overflow:"hidden",display:"block",height:4,zIndex:0,"@media print":{colorAdjust:"exact"},backgroundColor:getColorShade(et,tt.color)},tt.color==="inherit"&&tt.variant!=="buffer"&&{backgroundColor:"none","&::before":{content:'""',position:"absolute",left:0,top:0,right:0,bottom:0,backgroundColor:"currentColor",opacity:.3}},tt.variant==="buffer"&&{backgroundColor:"transparent"},tt.variant==="query"&&{transform:"rotate(180deg)"})),LinearProgressDashed=styled$1("span",{name:"MuiLinearProgress",slot:"Dashed",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.dashed,et[`dashedColor${capitalize$1(rt.color)}`]]}})(({ownerState:tt,theme:et})=>{const rt=getColorShade(et,tt.color);return _extends$n({position:"absolute",marginTop:0,height:"100%",width:"100%"},tt.color==="inherit"&&{opacity:.3},{backgroundImage:`radial-gradient(${rt} 0%, ${rt} 16%, transparent 42%)`,backgroundSize:"10px 10px",backgroundPosition:"0 -23px"})},css(_t4$1||(_t4$1=_$2`
    animation: ${0} 3s infinite linear;
  `),bufferKeyframe)),LinearProgressBar1=styled$1("span",{name:"MuiLinearProgress",slot:"Bar1",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.bar,et[`barColor${capitalize$1(rt.color)}`],(rt.variant==="indeterminate"||rt.variant==="query")&&et.bar1Indeterminate,rt.variant==="determinate"&&et.bar1Determinate,rt.variant==="buffer"&&et.bar1Buffer]}})(({ownerState:tt,theme:et})=>_extends$n({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left",backgroundColor:tt.color==="inherit"?"currentColor":(et.vars||et).palette[tt.color].main},tt.variant==="determinate"&&{transition:`transform .${TRANSITION_DURATION}s linear`},tt.variant==="buffer"&&{zIndex:1,transition:`transform .${TRANSITION_DURATION}s linear`}),({ownerState:tt})=>(tt.variant==="indeterminate"||tt.variant==="query")&&css(_t5||(_t5=_$2`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.65, 0.815, 0.735, 0.395) infinite;
    `),indeterminate1Keyframe)),LinearProgressBar2=styled$1("span",{name:"MuiLinearProgress",slot:"Bar2",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.bar,et[`barColor${capitalize$1(rt.color)}`],(rt.variant==="indeterminate"||rt.variant==="query")&&et.bar2Indeterminate,rt.variant==="buffer"&&et.bar2Buffer]}})(({ownerState:tt,theme:et})=>_extends$n({width:"100%",position:"absolute",left:0,bottom:0,top:0,transition:"transform 0.2s linear",transformOrigin:"left"},tt.variant!=="buffer"&&{backgroundColor:tt.color==="inherit"?"currentColor":(et.vars||et).palette[tt.color].main},tt.color==="inherit"&&{opacity:.3},tt.variant==="buffer"&&{backgroundColor:getColorShade(et,tt.color),transition:`transform .${TRANSITION_DURATION}s linear`}),({ownerState:tt})=>(tt.variant==="indeterminate"||tt.variant==="query")&&css(_t6||(_t6=_$2`
      width: auto;
      animation: ${0} 2.1s cubic-bezier(0.165, 0.84, 0.44, 1) 1.15s infinite;
    `),indeterminate2Keyframe)),LinearProgress=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiLinearProgress"}),{className:it,color:ot="primary",value:at,valueBuffer:st,variant:lt="indeterminate"}=nt,ct=_objectWithoutPropertiesLoose$4(nt,_excluded$C),ut=_extends$n({},nt,{color:ot,variant:lt}),dt=useUtilityClasses$r(ut),ft=useTheme(),pt={},mt={bar1:{},bar2:{}};if((lt==="determinate"||lt==="buffer")&&at!==void 0){pt["aria-valuenow"]=Math.round(at),pt["aria-valuemin"]=0,pt["aria-valuemax"]=100;let ht=at-100;ft.direction==="rtl"&&(ht=-ht),mt.bar1.transform=`translateX(${ht}%)`}if(lt==="buffer"&&st!==void 0){let ht=(st||0)-100;ft.direction==="rtl"&&(ht=-ht),mt.bar2.transform=`translateX(${ht}%)`}return jsxs$1(LinearProgressRoot,_extends$n({className:clsx(dt.root,it),ownerState:ut,role:"progressbar"},pt,{ref:rt},ct,{children:[lt==="buffer"?jsx$1(LinearProgressDashed,{className:dt.dashed,ownerState:ut}):null,jsx$1(LinearProgressBar1,{className:dt.bar1,ownerState:ut,style:mt.bar1}),lt==="determinate"?null:jsx$1(LinearProgressBar2,{className:dt.bar2,ownerState:ut,style:mt.bar2})]}))}),LinearProgress$1=LinearProgress;function getLinkUtilityClass(tt){return generateUtilityClass("MuiLink",tt)}const linkClasses=generateUtilityClasses("MuiLink",["root","underlineNone","underlineHover","underlineAlways","button","focusVisible"]),linkClasses$1=linkClasses,colorTransformations={primary:"primary.main",textPrimary:"text.primary",secondary:"secondary.main",textSecondary:"text.secondary",error:"error.main"},transformDeprecatedColors=tt=>colorTransformations[tt]||tt,getTextDecoration=({theme:tt,ownerState:et})=>{const rt=transformDeprecatedColors(et.color),nt=getPath$1(tt,`palette.${rt}`,!1)||et.color,it=getPath$1(tt,`palette.${rt}Channel`);return"vars"in tt&&it?`rgba(${it} / 0.4)`:alpha(nt,.4)},getTextDecoration$1=getTextDecoration,_excluded$B=["className","color","component","onBlur","onFocus","TypographyClasses","underline","variant","sx"],useUtilityClasses$q=tt=>{const{classes:et,component:rt,focusVisible:nt,underline:it}=tt,ot={root:["root",`underline${capitalize$1(it)}`,rt==="button"&&"button",nt&&"focusVisible"]};return composeClasses(ot,getLinkUtilityClass,et)},LinkRoot=styled$1(Typography$1,{name:"MuiLink",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[`underline${capitalize$1(rt.underline)}`],rt.component==="button"&&et.button]}})(({theme:tt,ownerState:et})=>_extends$n({},et.underline==="none"&&{textDecoration:"none"},et.underline==="hover"&&{textDecoration:"none","&:hover":{textDecoration:"underline"}},et.underline==="always"&&_extends$n({textDecoration:"underline"},et.color!=="inherit"&&{textDecorationColor:getTextDecoration$1({theme:tt,ownerState:et})},{"&:hover":{textDecorationColor:"inherit"}}),et.component==="button"&&{position:"relative",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none","&::-moz-focus-inner":{borderStyle:"none"},[`&.${linkClasses$1.focusVisible}`]:{outline:"auto"}})),Link$1=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiLink"}),{className:it,color:ot="primary",component:at="a",onBlur:st,onFocus:lt,TypographyClasses:ct,underline:ut="always",variant:dt="inherit",sx:ft}=nt,pt=_objectWithoutPropertiesLoose$4(nt,_excluded$B),{isFocusVisibleRef:mt,onBlur:ht,onFocus:gt,ref:vt}=useIsFocusVisible(),[yt,bt]=reactExports.useState(!1),xt=useForkRef(rt,vt),$t=Rt=>{ht(Rt),mt.current===!1&&bt(!1),st&&st(Rt)},Tt=Rt=>{gt(Rt),mt.current===!0&&bt(!0),lt&&lt(Rt)},wt=_extends$n({},nt,{color:ot,component:at,focusVisible:yt,underline:ut,variant:dt}),At=useUtilityClasses$q(wt);return jsx$1(LinkRoot,_extends$n({color:ot,className:clsx(At.root,it),classes:ct,component:at,onBlur:$t,onFocus:Tt,ref:xt,ownerState:wt,variant:dt,sx:[...Object.keys(colorTransformations).includes(ot)?[]:[{color:ot}],...Array.isArray(ft)?ft:[ft]]},pt))}),Link$2=Link$1,ListContext=reactExports.createContext({}),ListContext$1=ListContext;function getListUtilityClass(tt){return generateUtilityClass("MuiList",tt)}generateUtilityClasses("MuiList",["root","padding","dense","subheader"]);const _excluded$A=["children","className","component","dense","disablePadding","subheader"],useUtilityClasses$p=tt=>{const{classes:et,disablePadding:rt,dense:nt,subheader:it}=tt;return composeClasses({root:["root",!rt&&"padding",nt&&"dense",it&&"subheader"]},getListUtilityClass,et)},ListRoot=styled$1("ul",{name:"MuiList",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,!rt.disablePadding&&et.padding,rt.dense&&et.dense,rt.subheader&&et.subheader]}})(({ownerState:tt})=>_extends$n({listStyle:"none",margin:0,padding:0,position:"relative"},!tt.disablePadding&&{paddingTop:8,paddingBottom:8},tt.subheader&&{paddingTop:0})),List=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiList"}),{children:it,className:ot,component:at="ul",dense:st=!1,disablePadding:lt=!1,subheader:ct}=nt,ut=_objectWithoutPropertiesLoose$4(nt,_excluded$A),dt=reactExports.useMemo(()=>({dense:st}),[st]),ft=_extends$n({},nt,{component:at,dense:st,disablePadding:lt}),pt=useUtilityClasses$p(ft);return jsx$1(ListContext$1.Provider,{value:dt,children:jsxs$1(ListRoot,_extends$n({as:at,className:clsx(pt.root,ot),ref:rt,ownerState:ft},ut,{children:[ct,it]}))})}),List$1=List;function getListItemUtilityClass(tt){return generateUtilityClass("MuiListItem",tt)}const listItemClasses=generateUtilityClasses("MuiListItem",["root","container","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","padding","button","secondaryAction","selected"]),listItemClasses$1=listItemClasses,listItemButtonClasses=generateUtilityClasses("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]),listItemButtonClasses$1=listItemButtonClasses;function getListItemSecondaryActionClassesUtilityClass(tt){return generateUtilityClass("MuiListItemSecondaryAction",tt)}generateUtilityClasses("MuiListItemSecondaryAction",["root","disableGutters"]);const _excluded$z=["className"],useUtilityClasses$o=tt=>{const{disableGutters:et,classes:rt}=tt;return composeClasses({root:["root",et&&"disableGutters"]},getListItemSecondaryActionClassesUtilityClass,rt)},ListItemSecondaryActionRoot=styled$1("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.disableGutters&&et.disableGutters]}})(({ownerState:tt})=>_extends$n({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)"},tt.disableGutters&&{right:0})),ListItemSecondaryAction=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiListItemSecondaryAction"}),{className:it}=nt,ot=_objectWithoutPropertiesLoose$4(nt,_excluded$z),at=reactExports.useContext(ListContext$1),st=_extends$n({},nt,{disableGutters:at.disableGutters}),lt=useUtilityClasses$o(st);return jsx$1(ListItemSecondaryActionRoot,_extends$n({className:clsx(lt.root,it),ownerState:st,ref:rt},ot))});ListItemSecondaryAction.muiName="ListItemSecondaryAction";const ListItemSecondaryAction$1=ListItemSecondaryAction,_excluded$y=["className"],_excluded2$5=["alignItems","autoFocus","button","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disabled","disableGutters","disablePadding","divider","focusVisibleClassName","secondaryAction","selected","slotProps","slots"],overridesResolver$1=(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.dense&&et.dense,rt.alignItems==="flex-start"&&et.alignItemsFlexStart,rt.divider&&et.divider,!rt.disableGutters&&et.gutters,!rt.disablePadding&&et.padding,rt.button&&et.button,rt.hasSecondaryAction&&et.secondaryAction]},useUtilityClasses$n=tt=>{const{alignItems:et,button:rt,classes:nt,dense:it,disabled:ot,disableGutters:at,disablePadding:st,divider:lt,hasSecondaryAction:ct,selected:ut}=tt;return composeClasses({root:["root",it&&"dense",!at&&"gutters",!st&&"padding",lt&&"divider",ot&&"disabled",rt&&"button",et==="flex-start"&&"alignItemsFlexStart",ct&&"secondaryAction",ut&&"selected"],container:["container"]},getListItemUtilityClass,nt)},ListItemRoot=styled$1("div",{name:"MuiListItem",slot:"Root",overridesResolver:overridesResolver$1})(({theme:tt,ownerState:et})=>_extends$n({display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left"},!et.disablePadding&&_extends$n({paddingTop:8,paddingBottom:8},et.dense&&{paddingTop:4,paddingBottom:4},!et.disableGutters&&{paddingLeft:16,paddingRight:16},!!et.secondaryAction&&{paddingRight:48}),!!et.secondaryAction&&{[`& > .${listItemButtonClasses$1.root}`]:{paddingRight:48}},{[`&.${listItemClasses$1.focusVisible}`]:{backgroundColor:(tt.vars||tt).palette.action.focus},[`&.${listItemClasses$1.selected}`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / ${tt.vars.palette.action.selectedOpacity})`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity),[`&.${listItemClasses$1.focusVisible}`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / calc(${tt.vars.palette.action.selectedOpacity} + ${tt.vars.palette.action.focusOpacity}))`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity+tt.palette.action.focusOpacity)}},[`&.${listItemClasses$1.disabled}`]:{opacity:(tt.vars||tt).palette.action.disabledOpacity}},et.alignItems==="flex-start"&&{alignItems:"flex-start"},et.divider&&{borderBottom:`1px solid ${(tt.vars||tt).palette.divider}`,backgroundClip:"padding-box"},et.button&&{transition:tt.transitions.create("background-color",{duration:tt.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(tt.vars||tt).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${listItemClasses$1.selected}:hover`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / calc(${tt.vars.palette.action.selectedOpacity} + ${tt.vars.palette.action.hoverOpacity}))`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity+tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / ${tt.vars.palette.action.selectedOpacity})`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity)}}},et.hasSecondaryAction&&{paddingRight:48})),ListItemContainer=styled$1("li",{name:"MuiListItem",slot:"Container",overridesResolver:(tt,et)=>et.container})({position:"relative"}),ListItem=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiListItem"}),{alignItems:it="center",autoFocus:ot=!1,button:at=!1,children:st,className:lt,component:ct,components:ut={},componentsProps:dt={},ContainerComponent:ft="li",ContainerProps:{className:pt}={},dense:mt=!1,disabled:ht=!1,disableGutters:gt=!1,disablePadding:vt=!1,divider:yt=!1,focusVisibleClassName:bt,secondaryAction:xt,selected:$t=!1,slotProps:Tt={},slots:wt={}}=nt,At=_objectWithoutPropertiesLoose$4(nt.ContainerProps,_excluded$y),Rt=_objectWithoutPropertiesLoose$4(nt,_excluded2$5),It=reactExports.useContext(ListContext$1),Lt=reactExports.useMemo(()=>({dense:mt||It.dense||!1,alignItems:it,disableGutters:gt}),[it,It.dense,mt,gt]),Pt=reactExports.useRef(null);useEnhancedEffect$1(()=>{ot&&Pt.current&&Pt.current.focus()},[ot]);const Nt=reactExports.Children.toArray(st),Ot=Nt.length&&isMuiElement(Nt[Nt.length-1],["ListItemSecondaryAction"]),Bt=_extends$n({},nt,{alignItems:it,autoFocus:ot,button:at,dense:Lt.dense,disabled:ht,disableGutters:gt,disablePadding:vt,divider:yt,hasSecondaryAction:Ot,selected:$t}),zt=useUtilityClasses$n(Bt),Vt=useForkRef(Pt,rt),Ut=wt.root||ut.Root||ListItemRoot,jt=Tt.root||dt.root||{},qt=_extends$n({className:clsx(zt.root,jt.className,lt),disabled:ht},Rt);let Dt=ct||"li";return at&&(qt.component=ct||"div",qt.focusVisibleClassName=clsx(listItemClasses$1.focusVisible,bt),Dt=ButtonBase$1),Ot?(Dt=!qt.component&&!ct?"div":Dt,ft==="li"&&(Dt==="li"?Dt="div":qt.component==="li"&&(qt.component="div")),jsx$1(ListContext$1.Provider,{value:Lt,children:jsxs$1(ListItemContainer,_extends$n({as:ft,className:clsx(zt.container,pt),ref:Vt,ownerState:Bt},At,{children:[jsx$1(Ut,_extends$n({},jt,!isHostComponent(Ut)&&{as:Dt,ownerState:_extends$n({},Bt,jt.ownerState)},qt,{children:Nt})),Nt.pop()]}))})):jsx$1(ListContext$1.Provider,{value:Lt,children:jsxs$1(Ut,_extends$n({},jt,{as:Dt,ref:Vt},!isHostComponent(Ut)&&{ownerState:_extends$n({},Bt,jt.ownerState)},qt,{children:[Nt,xt&&jsx$1(ListItemSecondaryAction$1,{children:xt})]}))})}),ListItem$1=ListItem;function getListItemIconUtilityClass(tt){return generateUtilityClass("MuiListItemIcon",tt)}const listItemIconClasses=generateUtilityClasses("MuiListItemIcon",["root","alignItemsFlexStart"]),listItemIconClasses$1=listItemIconClasses,_excluded$x=["className"],useUtilityClasses$m=tt=>{const{alignItems:et,classes:rt}=tt;return composeClasses({root:["root",et==="flex-start"&&"alignItemsFlexStart"]},getListItemIconUtilityClass,rt)},ListItemIconRoot=styled$1("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.alignItems==="flex-start"&&et.alignItemsFlexStart]}})(({theme:tt,ownerState:et})=>_extends$n({minWidth:56,color:(tt.vars||tt).palette.action.active,flexShrink:0,display:"inline-flex"},et.alignItems==="flex-start"&&{marginTop:8})),ListItemIcon=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiListItemIcon"}),{className:it}=nt,ot=_objectWithoutPropertiesLoose$4(nt,_excluded$x),at=reactExports.useContext(ListContext$1),st=_extends$n({},nt,{alignItems:at.alignItems}),lt=useUtilityClasses$m(st);return jsx$1(ListItemIconRoot,_extends$n({className:clsx(lt.root,it),ownerState:st,ref:rt},ot))}),ListItemIcon$1=ListItemIcon;function getListItemTextUtilityClass(tt){return generateUtilityClass("MuiListItemText",tt)}const listItemTextClasses=generateUtilityClasses("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),listItemTextClasses$1=listItemTextClasses,_excluded$w=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps"],useUtilityClasses$l=tt=>{const{classes:et,inset:rt,primary:nt,secondary:it,dense:ot}=tt;return composeClasses({root:["root",rt&&"inset",ot&&"dense",nt&&it&&"multiline"],primary:["primary"],secondary:["secondary"]},getListItemTextUtilityClass,et)},ListItemTextRoot=styled$1("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[{[`& .${listItemTextClasses$1.primary}`]:et.primary},{[`& .${listItemTextClasses$1.secondary}`]:et.secondary},et.root,rt.inset&&et.inset,rt.primary&&rt.secondary&&et.multiline,rt.dense&&et.dense]}})(({ownerState:tt})=>_extends$n({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4},tt.primary&&tt.secondary&&{marginTop:6,marginBottom:6},tt.inset&&{paddingLeft:56})),ListItemText=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiListItemText"}),{children:it,className:ot,disableTypography:at=!1,inset:st=!1,primary:lt,primaryTypographyProps:ct,secondary:ut,secondaryTypographyProps:dt}=nt,ft=_objectWithoutPropertiesLoose$4(nt,_excluded$w),{dense:pt}=reactExports.useContext(ListContext$1);let mt=lt??it,ht=ut;const gt=_extends$n({},nt,{disableTypography:at,inset:st,primary:!!mt,secondary:!!ht,dense:pt}),vt=useUtilityClasses$l(gt);return mt!=null&&mt.type!==Typography$1&&!at&&(mt=jsx$1(Typography$1,_extends$n({variant:pt?"body2":"body1",className:vt.primary,component:ct!=null&&ct.variant?void 0:"span",display:"block"},ct,{children:mt}))),ht!=null&&ht.type!==Typography$1&&!at&&(ht=jsx$1(Typography$1,_extends$n({variant:"body2",className:vt.secondary,color:"text.secondary",display:"block"},dt,{children:ht}))),jsxs$1(ListItemTextRoot,_extends$n({className:clsx(vt.root,ot),ownerState:gt,ref:rt},ft,{children:[mt,ht]}))}),ListItemText$1=ListItemText,_excluded$v=["actions","autoFocus","autoFocusItem","children","className","disabledItemsFocusable","disableListWrap","onKeyDown","variant"];function nextItem$1(tt,et,rt){return tt===et?tt.firstChild:et&&et.nextElementSibling?et.nextElementSibling:rt?null:tt.firstChild}function previousItem$1(tt,et,rt){return tt===et?rt?tt.firstChild:tt.lastChild:et&&et.previousElementSibling?et.previousElementSibling:rt?null:tt.lastChild}function textCriteriaMatches(tt,et){if(et===void 0)return!0;let rt=tt.innerText;return rt===void 0&&(rt=tt.textContent),rt=rt.trim().toLowerCase(),rt.length===0?!1:et.repeating?rt[0]===et.keys[0]:rt.indexOf(et.keys.join(""))===0}function moveFocus$1(tt,et,rt,nt,it,ot){let at=!1,st=it(tt,et,et?rt:!1);for(;st;){if(st===tt.firstChild){if(at)return!1;at=!0}const lt=nt?!1:st.disabled||st.getAttribute("aria-disabled")==="true";if(!st.hasAttribute("tabindex")||!textCriteriaMatches(st,ot)||lt)st=it(tt,st,rt);else return st.focus(),!0}return!1}const MenuList=reactExports.forwardRef(function(et,rt){const{actions:nt,autoFocus:it=!1,autoFocusItem:ot=!1,children:at,className:st,disabledItemsFocusable:lt=!1,disableListWrap:ct=!1,onKeyDown:ut,variant:dt="selectedMenu"}=et,ft=_objectWithoutPropertiesLoose$4(et,_excluded$v),pt=reactExports.useRef(null),mt=reactExports.useRef({keys:[],repeating:!0,previousKeyMatched:!0,lastTime:null});useEnhancedEffect$1(()=>{it&&pt.current.focus()},[it]),reactExports.useImperativeHandle(nt,()=>({adjustStyleForScrollbar:(bt,xt)=>{const $t=!pt.current.style.width;if(bt.clientHeight<pt.current.clientHeight&&$t){const Tt=`${getScrollbarSize(ownerDocument(bt))}px`;pt.current.style[xt.direction==="rtl"?"paddingLeft":"paddingRight"]=Tt,pt.current.style.width=`calc(100% + ${Tt})`}return pt.current}}),[]);const ht=bt=>{const xt=pt.current,$t=bt.key,Tt=ownerDocument(xt).activeElement;if($t==="ArrowDown")bt.preventDefault(),moveFocus$1(xt,Tt,ct,lt,nextItem$1);else if($t==="ArrowUp")bt.preventDefault(),moveFocus$1(xt,Tt,ct,lt,previousItem$1);else if($t==="Home")bt.preventDefault(),moveFocus$1(xt,null,ct,lt,nextItem$1);else if($t==="End")bt.preventDefault(),moveFocus$1(xt,null,ct,lt,previousItem$1);else if($t.length===1){const wt=mt.current,At=$t.toLowerCase(),Rt=performance.now();wt.keys.length>0&&(Rt-wt.lastTime>500?(wt.keys=[],wt.repeating=!0,wt.previousKeyMatched=!0):wt.repeating&&At!==wt.keys[0]&&(wt.repeating=!1)),wt.lastTime=Rt,wt.keys.push(At);const It=Tt&&!wt.repeating&&textCriteriaMatches(Tt,wt);wt.previousKeyMatched&&(It||moveFocus$1(xt,Tt,!1,lt,nextItem$1,wt))?bt.preventDefault():wt.previousKeyMatched=!1}ut&&ut(bt)},gt=useForkRef(pt,rt);let vt=-1;reactExports.Children.forEach(at,(bt,xt)=>{reactExports.isValidElement(bt)&&(bt.props.disabled||(dt==="selectedMenu"&&bt.props.selected||vt===-1)&&(vt=xt))});const yt=reactExports.Children.map(at,(bt,xt)=>{if(xt===vt){const $t={};return ot&&($t.autoFocus=!0),bt.props.tabIndex===void 0&&dt==="selectedMenu"&&($t.tabIndex=0),reactExports.cloneElement(bt,$t)}return bt});return jsx$1(List$1,_extends$n({role:"menu",ref:gt,className:st,onKeyDown:ht,tabIndex:it?0:-1},ft,{children:yt}))}),MenuList$1=MenuList;function getPopoverUtilityClass(tt){return generateUtilityClass("MuiPopover",tt)}generateUtilityClasses("MuiPopover",["root","paper"]);const _excluded$u=["onEntering"],_excluded2$4=["action","anchorEl","anchorOrigin","anchorPosition","anchorReference","children","className","container","elevation","marginThreshold","open","PaperProps","transformOrigin","TransitionComponent","transitionDuration","TransitionProps"];function getOffsetTop(tt,et){let rt=0;return typeof et=="number"?rt=et:et==="center"?rt=tt.height/2:et==="bottom"&&(rt=tt.height),rt}function getOffsetLeft(tt,et){let rt=0;return typeof et=="number"?rt=et:et==="center"?rt=tt.width/2:et==="right"&&(rt=tt.width),rt}function getTransformOriginValue(tt){return[tt.horizontal,tt.vertical].map(et=>typeof et=="number"?`${et}px`:et).join(" ")}function resolveAnchorEl(tt){return typeof tt=="function"?tt():tt}const useUtilityClasses$k=tt=>{const{classes:et}=tt;return composeClasses({root:["root"],paper:["paper"]},getPopoverUtilityClass,et)},PopoverRoot=styled$1(Modal$1,{name:"MuiPopover",slot:"Root",overridesResolver:(tt,et)=>et.root})({}),PopoverPaper=styled$1(Paper$1,{name:"MuiPopover",slot:"Paper",overridesResolver:(tt,et)=>et.paper})({position:"absolute",overflowY:"auto",overflowX:"hidden",minWidth:16,minHeight:16,maxWidth:"calc(100% - 32px)",maxHeight:"calc(100% - 32px)",outline:0}),Popover=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiPopover"}),{action:it,anchorEl:ot,anchorOrigin:at={vertical:"top",horizontal:"left"},anchorPosition:st,anchorReference:lt="anchorEl",children:ct,className:ut,container:dt,elevation:ft=8,marginThreshold:pt=16,open:mt,PaperProps:ht={},transformOrigin:gt={vertical:"top",horizontal:"left"},TransitionComponent:vt=Grow$1,transitionDuration:yt="auto",TransitionProps:{onEntering:bt}={}}=nt,xt=_objectWithoutPropertiesLoose$4(nt.TransitionProps,_excluded$u),$t=_objectWithoutPropertiesLoose$4(nt,_excluded2$4),Tt=reactExports.useRef(),wt=useForkRef(Tt,ht.ref),At=_extends$n({},nt,{anchorOrigin:at,anchorReference:lt,elevation:ft,marginThreshold:pt,PaperProps:ht,transformOrigin:gt,TransitionComponent:vt,transitionDuration:yt,TransitionProps:xt}),Rt=useUtilityClasses$k(At),It=reactExports.useCallback(()=>{if(lt==="anchorPosition")return st;const qt=resolveAnchorEl(ot),Ft=(qt&&qt.nodeType===1?qt:ownerDocument(Tt.current).body).getBoundingClientRect();return{top:Ft.top+getOffsetTop(Ft,at.vertical),left:Ft.left+getOffsetLeft(Ft,at.horizontal)}},[ot,at.horizontal,at.vertical,st,lt]),Lt=reactExports.useCallback(qt=>({vertical:getOffsetTop(qt,gt.vertical),horizontal:getOffsetLeft(qt,gt.horizontal)}),[gt.horizontal,gt.vertical]),Pt=reactExports.useCallback(qt=>{const Dt={width:qt.offsetWidth,height:qt.offsetHeight},Ft=Lt(Dt);if(lt==="none")return{top:null,left:null,transformOrigin:getTransformOriginValue(Ft)};const Zt=It();let Kt=Zt.top-Ft.vertical,ir=Zt.left-Ft.horizontal;const rr=Kt+Dt.height,mr=ir+Dt.width,sr=ownerWindow(resolveAnchorEl(ot)),fr=sr.innerHeight-pt,pr=sr.innerWidth-pt;if(Kt<pt){const vr=Kt-pt;Kt-=vr,Ft.vertical+=vr}else if(rr>fr){const vr=rr-fr;Kt-=vr,Ft.vertical+=vr}if(ir<pt){const vr=ir-pt;ir-=vr,Ft.horizontal+=vr}else if(mr>pr){const vr=mr-pr;ir-=vr,Ft.horizontal+=vr}return{top:`${Math.round(Kt)}px`,left:`${Math.round(ir)}px`,transformOrigin:getTransformOriginValue(Ft)}},[ot,lt,It,Lt,pt]),[Nt,Ot]=reactExports.useState(mt),Bt=reactExports.useCallback(()=>{const qt=Tt.current;if(!qt)return;const Dt=Pt(qt);Dt.top!==null&&(qt.style.top=Dt.top),Dt.left!==null&&(qt.style.left=Dt.left),qt.style.transformOrigin=Dt.transformOrigin,Ot(!0)},[Pt]),zt=(qt,Dt)=>{bt&&bt(qt,Dt),Bt()},Vt=()=>{Ot(!1)};reactExports.useEffect(()=>{mt&&Bt()}),reactExports.useImperativeHandle(it,()=>mt?{updatePosition:()=>{Bt()}}:null,[mt,Bt]),reactExports.useEffect(()=>{if(!mt)return;const qt=debounce$4(()=>{Bt()}),Dt=ownerWindow(ot);return Dt.addEventListener("resize",qt),()=>{qt.clear(),Dt.removeEventListener("resize",qt)}},[ot,mt,Bt]);let Ut=yt;yt==="auto"&&!vt.muiSupportAuto&&(Ut=void 0);const jt=dt||(ot?ownerDocument(resolveAnchorEl(ot)).body:void 0);return jsx$1(PopoverRoot,_extends$n({BackdropProps:{invisible:!0},className:clsx(Rt.root,ut),container:jt,open:mt,ref:rt,ownerState:At},$t,{children:jsx$1(vt,_extends$n({appear:!0,in:mt,onEntering:zt,onExited:Vt,timeout:Ut},xt,{children:jsx$1(PopoverPaper,_extends$n({elevation:ft},ht,{ref:wt,className:clsx(Rt.paper,ht.className)},Nt?void 0:{style:_extends$n({},ht.style,{opacity:0})},{ownerState:At,children:ct}))}))}))}),Popover$1=Popover;function getMenuUtilityClass(tt){return generateUtilityClass("MuiMenu",tt)}generateUtilityClasses("MuiMenu",["root","paper","list"]);const _excluded$t=["onEntering"],_excluded2$3=["autoFocus","children","disableAutoFocusItem","MenuListProps","onClose","open","PaperProps","PopoverClasses","transitionDuration","TransitionProps","variant"],RTL_ORIGIN={vertical:"top",horizontal:"right"},LTR_ORIGIN={vertical:"top",horizontal:"left"},useUtilityClasses$j=tt=>{const{classes:et}=tt;return composeClasses({root:["root"],paper:["paper"],list:["list"]},getMenuUtilityClass,et)},MenuRoot=styled$1(Popover$1,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiMenu",slot:"Root",overridesResolver:(tt,et)=>et.root})({}),MenuPaper=styled$1(Paper$1,{name:"MuiMenu",slot:"Paper",overridesResolver:(tt,et)=>et.paper})({maxHeight:"calc(100% - 96px)",WebkitOverflowScrolling:"touch"}),MenuMenuList=styled$1(MenuList$1,{name:"MuiMenu",slot:"List",overridesResolver:(tt,et)=>et.list})({outline:0}),Menu=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiMenu"}),{autoFocus:it=!0,children:ot,disableAutoFocusItem:at=!1,MenuListProps:st={},onClose:lt,open:ct,PaperProps:ut={},PopoverClasses:dt,transitionDuration:ft="auto",TransitionProps:{onEntering:pt}={},variant:mt="selectedMenu"}=nt,ht=_objectWithoutPropertiesLoose$4(nt.TransitionProps,_excluded$t),gt=_objectWithoutPropertiesLoose$4(nt,_excluded2$3),vt=useTheme(),yt=vt.direction==="rtl",bt=_extends$n({},nt,{autoFocus:it,disableAutoFocusItem:at,MenuListProps:st,onEntering:pt,PaperProps:ut,transitionDuration:ft,TransitionProps:ht,variant:mt}),xt=useUtilityClasses$j(bt),$t=it&&!at&&ct,Tt=reactExports.useRef(null),wt=(It,Lt)=>{Tt.current&&Tt.current.adjustStyleForScrollbar(It,vt),pt&&pt(It,Lt)},At=It=>{It.key==="Tab"&&(It.preventDefault(),lt&&lt(It,"tabKeyDown"))};let Rt=-1;return reactExports.Children.map(ot,(It,Lt)=>{reactExports.isValidElement(It)&&(It.props.disabled||(mt==="selectedMenu"&&It.props.selected||Rt===-1)&&(Rt=Lt))}),jsx$1(MenuRoot,_extends$n({onClose:lt,anchorOrigin:{vertical:"bottom",horizontal:yt?"right":"left"},transformOrigin:yt?RTL_ORIGIN:LTR_ORIGIN,PaperProps:_extends$n({component:MenuPaper},ut,{classes:_extends$n({},ut.classes,{root:xt.paper})}),className:xt.root,open:ct,ref:rt,transitionDuration:ft,TransitionProps:_extends$n({onEntering:wt},ht),ownerState:bt},gt,{classes:dt,children:jsx$1(MenuMenuList,_extends$n({onKeyDown:At,actions:Tt,autoFocus:it&&(Rt===-1||at),autoFocusItem:$t,variant:mt},st,{className:clsx(xt.list,st.className),children:ot}))}))}),Menu$1=Menu;function getMenuItemUtilityClass(tt){return generateUtilityClass("MuiMenuItem",tt)}const menuItemClasses=generateUtilityClasses("MuiMenuItem",["root","focusVisible","dense","disabled","divider","gutters","selected"]),menuItemClasses$1=menuItemClasses,_excluded$s=["autoFocus","component","dense","divider","disableGutters","focusVisibleClassName","role","tabIndex","className"],overridesResolver=(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.dense&&et.dense,rt.divider&&et.divider,!rt.disableGutters&&et.gutters]},useUtilityClasses$i=tt=>{const{disabled:et,dense:rt,divider:nt,disableGutters:it,selected:ot,classes:at}=tt,lt=composeClasses({root:["root",rt&&"dense",et&&"disabled",!it&&"gutters",nt&&"divider",ot&&"selected"]},getMenuItemUtilityClass,at);return _extends$n({},at,lt)},MenuItemRoot=styled$1(ButtonBase$1,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiMenuItem",slot:"Root",overridesResolver})(({theme:tt,ownerState:et})=>_extends$n({},tt.typography.body1,{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minHeight:48,paddingTop:6,paddingBottom:6,boxSizing:"border-box",whiteSpace:"nowrap"},!et.disableGutters&&{paddingLeft:16,paddingRight:16},et.divider&&{borderBottom:`1px solid ${(tt.vars||tt).palette.divider}`,backgroundClip:"padding-box"},{"&:hover":{textDecoration:"none",backgroundColor:(tt.vars||tt).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${menuItemClasses$1.selected}`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / ${tt.vars.palette.action.selectedOpacity})`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity),[`&.${menuItemClasses$1.focusVisible}`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / calc(${tt.vars.palette.action.selectedOpacity} + ${tt.vars.palette.action.focusOpacity}))`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity+tt.palette.action.focusOpacity)}},[`&.${menuItemClasses$1.selected}:hover`]:{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / calc(${tt.vars.palette.action.selectedOpacity} + ${tt.vars.palette.action.hoverOpacity}))`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity+tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:tt.vars?`rgba(${tt.vars.palette.primary.mainChannel} / ${tt.vars.palette.action.selectedOpacity})`:alpha(tt.palette.primary.main,tt.palette.action.selectedOpacity)}},[`&.${menuItemClasses$1.focusVisible}`]:{backgroundColor:(tt.vars||tt).palette.action.focus},[`&.${menuItemClasses$1.disabled}`]:{opacity:(tt.vars||tt).palette.action.disabledOpacity},[`& + .${dividerClasses$1.root}`]:{marginTop:tt.spacing(1),marginBottom:tt.spacing(1)},[`& + .${dividerClasses$1.inset}`]:{marginLeft:52},[`& .${listItemTextClasses$1.root}`]:{marginTop:0,marginBottom:0},[`& .${listItemTextClasses$1.inset}`]:{paddingLeft:36},[`& .${listItemIconClasses$1.root}`]:{minWidth:36}},!et.dense&&{[tt.breakpoints.up("sm")]:{minHeight:"auto"}},et.dense&&_extends$n({minHeight:32,paddingTop:4,paddingBottom:4},tt.typography.body2,{[`& .${listItemIconClasses$1.root} svg`]:{fontSize:"1.25rem"}}))),MenuItem=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiMenuItem"}),{autoFocus:it=!1,component:ot="li",dense:at=!1,divider:st=!1,disableGutters:lt=!1,focusVisibleClassName:ct,role:ut="menuitem",tabIndex:dt,className:ft}=nt,pt=_objectWithoutPropertiesLoose$4(nt,_excluded$s),mt=reactExports.useContext(ListContext$1),ht=reactExports.useMemo(()=>({dense:at||mt.dense||!1,disableGutters:lt}),[mt.dense,at,lt]),gt=reactExports.useRef(null);useEnhancedEffect$1(()=>{it&&gt.current&&gt.current.focus()},[it]);const vt=_extends$n({},nt,{dense:ht.dense,divider:st,disableGutters:lt}),yt=useUtilityClasses$i(nt),bt=useForkRef(gt,rt);let xt;return nt.disabled||(xt=dt!==void 0?dt:-1),jsx$1(ListContext$1.Provider,{value:ht,children:jsx$1(MenuItemRoot,_extends$n({ref:bt,role:ut,tabIndex:xt,component:ot,focusVisibleClassName:clsx(yt.focusVisible,ct),className:clsx(yt.root,ft)},pt,{ownerState:vt,classes:yt}))})}),MenuItem$1=MenuItem;function getNativeSelectUtilityClasses(tt){return generateUtilityClass("MuiNativeSelect",tt)}const nativeSelectClasses=generateUtilityClasses("MuiNativeSelect",["root","select","multiple","filled","outlined","standard","disabled","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),nativeSelectClasses$1=nativeSelectClasses,_excluded$r=["className","disabled","IconComponent","inputRef","variant"],useUtilityClasses$h=tt=>{const{classes:et,variant:rt,disabled:nt,multiple:it,open:ot}=tt,at={select:["select",rt,nt&&"disabled",it&&"multiple"],icon:["icon",`icon${capitalize$1(rt)}`,ot&&"iconOpen",nt&&"disabled"]};return composeClasses(at,getNativeSelectUtilityClasses,et)},nativeSelectSelectStyles=({ownerState:tt,theme:et})=>_extends$n({MozAppearance:"none",WebkitAppearance:"none",userSelect:"none",borderRadius:0,cursor:"pointer","&:focus":_extends$n({},et.vars?{backgroundColor:`rgba(${et.vars.palette.common.onBackgroundChannel} / 0.05)`}:{backgroundColor:et.palette.mode==="light"?"rgba(0, 0, 0, 0.05)":"rgba(255, 255, 255, 0.05)"},{borderRadius:0}),"&::-ms-expand":{display:"none"},[`&.${nativeSelectClasses$1.disabled}`]:{cursor:"default"},"&[multiple]":{height:"auto"},"&:not([multiple]) option, &:not([multiple]) optgroup":{backgroundColor:(et.vars||et).palette.background.paper},"&&&":{paddingRight:24,minWidth:16}},tt.variant==="filled"&&{"&&&":{paddingRight:32}},tt.variant==="outlined"&&{borderRadius:(et.vars||et).shape.borderRadius,"&:focus":{borderRadius:(et.vars||et).shape.borderRadius},"&&&":{paddingRight:32}}),NativeSelectSelect=styled$1("select",{name:"MuiNativeSelect",slot:"Select",shouldForwardProp:rootShouldForwardProp,overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.select,et[rt.variant],{[`&.${nativeSelectClasses$1.multiple}`]:et.multiple}]}})(nativeSelectSelectStyles),nativeSelectIconStyles=({ownerState:tt,theme:et})=>_extends$n({position:"absolute",right:0,top:"calc(50% - .5em)",pointerEvents:"none",color:(et.vars||et).palette.action.active,[`&.${nativeSelectClasses$1.disabled}`]:{color:(et.vars||et).palette.action.disabled}},tt.open&&{transform:"rotate(180deg)"},tt.variant==="filled"&&{right:7},tt.variant==="outlined"&&{right:7}),NativeSelectIcon=styled$1("svg",{name:"MuiNativeSelect",slot:"Icon",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.icon,rt.variant&&et[`icon${capitalize$1(rt.variant)}`],rt.open&&et.iconOpen]}})(nativeSelectIconStyles),NativeSelectInput=reactExports.forwardRef(function(et,rt){const{className:nt,disabled:it,IconComponent:ot,inputRef:at,variant:st="standard"}=et,lt=_objectWithoutPropertiesLoose$4(et,_excluded$r),ct=_extends$n({},et,{disabled:it,variant:st}),ut=useUtilityClasses$h(ct);return jsxs$1(reactExports.Fragment,{children:[jsx$1(NativeSelectSelect,_extends$n({ownerState:ct,className:clsx(ut.select,nt),disabled:it,ref:at||rt},lt)),et.multiple?null:jsx$1(NativeSelectIcon,{as:ot,ownerState:ct,className:ut.icon})]})}),NativeSelectInput$1=NativeSelectInput;var _span$1;const _excluded$q=["children","classes","className","label","notched"],NotchedOutlineRoot$1=styled$1("fieldset")({textAlign:"left",position:"absolute",bottom:0,right:0,top:-5,left:0,margin:0,padding:"0 8px",pointerEvents:"none",borderRadius:"inherit",borderStyle:"solid",borderWidth:1,overflow:"hidden",minWidth:"0%"}),NotchedOutlineLegend=styled$1("legend")(({ownerState:tt,theme:et})=>_extends$n({float:"unset",width:"auto",overflow:"hidden"},!tt.withLabel&&{padding:0,lineHeight:"11px",transition:et.transitions.create("width",{duration:150,easing:et.transitions.easing.easeOut})},tt.withLabel&&_extends$n({display:"block",padding:0,height:11,fontSize:"0.75em",visibility:"hidden",maxWidth:.01,transition:et.transitions.create("max-width",{duration:50,easing:et.transitions.easing.easeOut}),whiteSpace:"nowrap","& > span":{paddingLeft:5,paddingRight:5,display:"inline-block",opacity:0,visibility:"visible"}},tt.notched&&{maxWidth:"100%",transition:et.transitions.create("max-width",{duration:100,easing:et.transitions.easing.easeOut,delay:50})})));function NotchedOutline(tt){const{className:et,label:rt,notched:nt}=tt,it=_objectWithoutPropertiesLoose$4(tt,_excluded$q),ot=rt!=null&&rt!=="",at=_extends$n({},tt,{notched:nt,withLabel:ot});return jsx$1(NotchedOutlineRoot$1,_extends$n({"aria-hidden":!0,className:et,ownerState:at},it,{children:jsx$1(NotchedOutlineLegend,{ownerState:at,children:ot?jsx$1("span",{children:rt}):_span$1||(_span$1=jsx$1("span",{className:"notranslate",children:"​"}))})}))}const _excluded$p=["components","fullWidth","inputComponent","label","multiline","notched","slots","type"],useUtilityClasses$g=tt=>{const{classes:et}=tt,nt=composeClasses({root:["root"],notchedOutline:["notchedOutline"],input:["input"]},getOutlinedInputUtilityClass,et);return _extends$n({},et,nt)},OutlinedInputRoot=styled$1(InputBaseRoot,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiOutlinedInput",slot:"Root",overridesResolver:rootOverridesResolver})(({theme:tt,ownerState:et})=>{const rt=tt.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return _extends$n({position:"relative",borderRadius:(tt.vars||tt).shape.borderRadius,[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(tt.vars||tt).palette.text.primary},"@media (hover: none)":{[`&:hover .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:tt.vars?`rgba(${tt.vars.palette.common.onBackgroundChannel} / 0.23)`:rt}},[`&.${outlinedInputClasses$1.focused} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(tt.vars||tt).palette[et.color].main,borderWidth:2},[`&.${outlinedInputClasses$1.error} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(tt.vars||tt).palette.error.main},[`&.${outlinedInputClasses$1.disabled} .${outlinedInputClasses$1.notchedOutline}`]:{borderColor:(tt.vars||tt).palette.action.disabled}},et.startAdornment&&{paddingLeft:14},et.endAdornment&&{paddingRight:14},et.multiline&&_extends$n({padding:"16.5px 14px"},et.size==="small"&&{padding:"8.5px 14px"}))}),NotchedOutlineRoot=styled$1(NotchedOutline,{name:"MuiOutlinedInput",slot:"NotchedOutline",overridesResolver:(tt,et)=>et.notchedOutline})(({theme:tt})=>{const et=tt.palette.mode==="light"?"rgba(0, 0, 0, 0.23)":"rgba(255, 255, 255, 0.23)";return{borderColor:tt.vars?`rgba(${tt.vars.palette.common.onBackgroundChannel} / 0.23)`:et}}),OutlinedInputInput=styled$1(InputBaseComponent,{name:"MuiOutlinedInput",slot:"Input",overridesResolver:inputOverridesResolver})(({theme:tt,ownerState:et})=>_extends$n({padding:"16.5px 14px"},!tt.vars&&{"&:-webkit-autofill":{WebkitBoxShadow:tt.palette.mode==="light"?null:"0 0 0 100px #266798 inset",WebkitTextFillColor:tt.palette.mode==="light"?null:"#fff",caretColor:tt.palette.mode==="light"?null:"#fff",borderRadius:"inherit"}},tt.vars&&{"&:-webkit-autofill":{borderRadius:"inherit"},[tt.getColorSchemeSelector("dark")]:{"&:-webkit-autofill":{WebkitBoxShadow:"0 0 0 100px #266798 inset",WebkitTextFillColor:"#fff",caretColor:"#fff"}}},et.size==="small"&&{padding:"8.5px 14px"},et.multiline&&{padding:0},et.startAdornment&&{paddingLeft:0},et.endAdornment&&{paddingRight:0})),OutlinedInput=reactExports.forwardRef(function(et,rt){var nt,it,ot,at,st;const lt=useThemeProps({props:et,name:"MuiOutlinedInput"}),{components:ct={},fullWidth:ut=!1,inputComponent:dt="input",label:ft,multiline:pt=!1,notched:mt,slots:ht={},type:gt="text"}=lt,vt=_objectWithoutPropertiesLoose$4(lt,_excluded$p),yt=useUtilityClasses$g(lt),bt=useFormControl(),xt=formControlState({props:lt,muiFormControl:bt,states:["required"]}),$t=_extends$n({},lt,{color:xt.color||"primary",disabled:xt.disabled,error:xt.error,focused:xt.focused,formControl:bt,fullWidth:ut,hiddenLabel:xt.hiddenLabel,multiline:pt,size:xt.size,type:gt}),Tt=(nt=(it=ht.root)!=null?it:ct.Root)!=null?nt:OutlinedInputRoot,wt=(ot=(at=ht.input)!=null?at:ct.Input)!=null?ot:OutlinedInputInput;return jsx$1(InputBase$1,_extends$n({slots:{root:Tt,input:wt},renderSuffix:At=>jsx$1(NotchedOutlineRoot,{ownerState:$t,className:yt.notchedOutline,label:ft!=null&&ft!==""&&xt.required?st||(st=jsxs$1(reactExports.Fragment,{children:[ft," ","*"]})):ft,notched:typeof mt<"u"?mt:Boolean(At.startAdornment||At.filled||At.focused)}),fullWidth:ut,inputComponent:dt,multiline:pt,ref:rt,type:gt},vt,{classes:_extends$n({},yt,{notchedOutline:null})}))});OutlinedInput.muiName="Input";const OutlinedInput$1=OutlinedInput,RadioButtonUncheckedIcon=createSvgIcon$1(jsx$1("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonUnchecked"),RadioButtonCheckedIcon$1=createSvgIcon$1(jsx$1("path",{d:"M8.465 8.465C9.37 7.56 10.62 7 12 7C14.76 7 17 9.24 17 12C17 13.38 16.44 14.63 15.535 15.535C14.63 16.44 13.38 17 12 17C9.24 17 7 14.76 7 12C7 10.62 7.56 9.37 8.465 8.465Z"}),"RadioButtonChecked"),RadioButtonIconRoot=styled$1("span")({position:"relative",display:"flex"}),RadioButtonIconBackground=styled$1(RadioButtonUncheckedIcon)({transform:"scale(1)"}),RadioButtonIconDot=styled$1(RadioButtonCheckedIcon$1)(({theme:tt,ownerState:et})=>_extends$n({left:0,position:"absolute",transform:"scale(0)",transition:tt.transitions.create("transform",{easing:tt.transitions.easing.easeIn,duration:tt.transitions.duration.shortest})},et.checked&&{transform:"scale(1)",transition:tt.transitions.create("transform",{easing:tt.transitions.easing.easeOut,duration:tt.transitions.duration.shortest})}));function RadioButtonIcon(tt){const{checked:et=!1,classes:rt={},fontSize:nt}=tt,it=_extends$n({},tt,{checked:et});return jsxs$1(RadioButtonIconRoot,{className:rt.root,ownerState:it,children:[jsx$1(RadioButtonIconBackground,{fontSize:nt,className:rt.background,ownerState:it}),jsx$1(RadioButtonIconDot,{fontSize:nt,className:rt.dot,ownerState:it})]})}const RadioGroupContext=reactExports.createContext(void 0),RadioGroupContext$1=RadioGroupContext;function useRadioGroup(){return reactExports.useContext(RadioGroupContext$1)}function getRadioUtilityClass(tt){return generateUtilityClass("MuiRadio",tt)}const radioClasses=generateUtilityClasses("MuiRadio",["root","checked","disabled","colorPrimary","colorSecondary"]),radioClasses$1=radioClasses,_excluded$o=["checked","checkedIcon","color","icon","name","onChange","size","className"],useUtilityClasses$f=tt=>{const{classes:et,color:rt}=tt,nt={root:["root",`color${capitalize$1(rt)}`]};return _extends$n({},et,composeClasses(nt,getRadioUtilityClass,et))},RadioRoot=styled$1(SwitchBase$1,{shouldForwardProp:tt=>rootShouldForwardProp(tt)||tt==="classes",name:"MuiRadio",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[`color${capitalize$1(rt.color)}`]]}})(({theme:tt,ownerState:et})=>_extends$n({color:(tt.vars||tt).palette.text.secondary},!et.disableRipple&&{"&:hover":{backgroundColor:tt.vars?`rgba(${et.color==="default"?tt.vars.palette.action.activeChannel:tt.vars.palette[et.color].mainChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(et.color==="default"?tt.palette.action.active:tt.palette[et.color].main,tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},et.color!=="default"&&{[`&.${radioClasses$1.checked}`]:{color:(tt.vars||tt).palette[et.color].main}},{[`&.${radioClasses$1.disabled}`]:{color:(tt.vars||tt).palette.action.disabled}}));function areEqualValues$1(tt,et){return typeof et=="object"&&et!==null?tt===et:String(tt)===String(et)}const defaultCheckedIcon=jsx$1(RadioButtonIcon,{checked:!0}),defaultIcon=jsx$1(RadioButtonIcon,{}),Radio=reactExports.forwardRef(function(et,rt){var nt,it;const ot=useThemeProps({props:et,name:"MuiRadio"}),{checked:at,checkedIcon:st=defaultCheckedIcon,color:lt="primary",icon:ct=defaultIcon,name:ut,onChange:dt,size:ft="medium",className:pt}=ot,mt=_objectWithoutPropertiesLoose$4(ot,_excluded$o),ht=_extends$n({},ot,{color:lt,size:ft}),gt=useUtilityClasses$f(ht),vt=useRadioGroup();let yt=at;const bt=createChainedFunction(dt,vt&&vt.onChange);let xt=ut;return vt&&(typeof yt>"u"&&(yt=areEqualValues$1(vt.value,ot.value)),typeof xt>"u"&&(xt=vt.name)),jsx$1(RadioRoot,_extends$n({type:"radio",icon:reactExports.cloneElement(ct,{fontSize:(nt=defaultIcon.props.fontSize)!=null?nt:ft}),checkedIcon:reactExports.cloneElement(st,{fontSize:(it=defaultCheckedIcon.props.fontSize)!=null?it:ft}),ownerState:ht,classes:gt,name:xt,checked:yt,onChange:bt,ref:rt,className:clsx(gt.root,pt)},mt))}),Radio$1=Radio,_excluded$n=["actions","children","defaultValue","name","onChange","value"],RadioGroup=reactExports.forwardRef(function(et,rt){const{actions:nt,children:it,defaultValue:ot,name:at,onChange:st,value:lt}=et,ct=_objectWithoutPropertiesLoose$4(et,_excluded$n),ut=reactExports.useRef(null),[dt,ft]=useControlled({controlled:lt,default:ot,name:"RadioGroup"});reactExports.useImperativeHandle(nt,()=>({focus:()=>{let gt=ut.current.querySelector("input:not(:disabled):checked");gt||(gt=ut.current.querySelector("input:not(:disabled)")),gt&&gt.focus()}}),[]);const pt=useForkRef(rt,ut),mt=useId(at),ht=reactExports.useMemo(()=>({name:mt,onChange(gt){ft(gt.target.value),st&&st(gt,gt.target.value)},value:dt}),[mt,st,ft,dt]);return jsx$1(RadioGroupContext$1.Provider,{value:ht,children:jsx$1(FormGroup$1,_extends$n({role:"radiogroup",ref:pt},ct,{children:it}))})}),RadioGroup$1=RadioGroup;function getSelectUtilityClasses(tt){return generateUtilityClass("MuiSelect",tt)}const selectClasses=generateUtilityClasses("MuiSelect",["select","multiple","filled","outlined","standard","disabled","focused","icon","iconOpen","iconFilled","iconOutlined","iconStandard","nativeInput"]),selectClasses$1=selectClasses;var _span;const _excluded$m=["aria-describedby","aria-label","autoFocus","autoWidth","children","className","defaultOpen","defaultValue","disabled","displayEmpty","IconComponent","inputRef","labelId","MenuProps","multiple","name","onBlur","onChange","onClose","onFocus","onOpen","open","readOnly","renderValue","SelectDisplayProps","tabIndex","type","value","variant"],SelectSelect=styled$1("div",{name:"MuiSelect",slot:"Select",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[{[`&.${selectClasses$1.select}`]:et.select},{[`&.${selectClasses$1.select}`]:et[rt.variant]},{[`&.${selectClasses$1.multiple}`]:et.multiple}]}})(nativeSelectSelectStyles,{[`&.${selectClasses$1.select}`]:{height:"auto",minHeight:"1.4375em",textOverflow:"ellipsis",whiteSpace:"nowrap",overflow:"hidden"}}),SelectIcon=styled$1("svg",{name:"MuiSelect",slot:"Icon",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.icon,rt.variant&&et[`icon${capitalize$1(rt.variant)}`],rt.open&&et.iconOpen]}})(nativeSelectIconStyles),SelectNativeInput=styled$1("input",{shouldForwardProp:tt=>slotShouldForwardProp(tt)&&tt!=="classes",name:"MuiSelect",slot:"NativeInput",overridesResolver:(tt,et)=>et.nativeInput})({bottom:0,left:0,position:"absolute",opacity:0,pointerEvents:"none",width:"100%",boxSizing:"border-box"});function areEqualValues(tt,et){return typeof et=="object"&&et!==null?tt===et:String(tt)===String(et)}function isEmpty$1(tt){return tt==null||typeof tt=="string"&&!tt.trim()}const useUtilityClasses$e=tt=>{const{classes:et,variant:rt,disabled:nt,multiple:it,open:ot}=tt,at={select:["select",rt,nt&&"disabled",it&&"multiple"],icon:["icon",`icon${capitalize$1(rt)}`,ot&&"iconOpen",nt&&"disabled"],nativeInput:["nativeInput"]};return composeClasses(at,getSelectUtilityClasses,et)},SelectInput=reactExports.forwardRef(function(et,rt){const{"aria-describedby":nt,"aria-label":it,autoFocus:ot,autoWidth:at,children:st,className:lt,defaultOpen:ct,defaultValue:ut,disabled:dt,displayEmpty:ft,IconComponent:pt,inputRef:mt,labelId:ht,MenuProps:gt={},multiple:vt,name:yt,onBlur:bt,onChange:xt,onClose:$t,onFocus:Tt,onOpen:wt,open:At,readOnly:Rt,renderValue:It,SelectDisplayProps:Lt={},tabIndex:Pt,value:Nt,variant:Ot="standard"}=et,Bt=_objectWithoutPropertiesLoose$4(et,_excluded$m),[zt,Vt]=useControlled({controlled:Nt,default:ut,name:"Select"}),[Ut,jt]=useControlled({controlled:At,default:ct,name:"Select"}),qt=reactExports.useRef(null),Dt=reactExports.useRef(null),[Ft,Zt]=reactExports.useState(null),{current:Kt}=reactExports.useRef(At!=null),[ir,rr]=reactExports.useState(),mr=useForkRef(rt,mt),sr=reactExports.useCallback(hr=>{Dt.current=hr,hr&&Zt(hr)},[]),fr=Ft==null?void 0:Ft.parentNode;reactExports.useImperativeHandle(mr,()=>({focus:()=>{Dt.current.focus()},node:qt.current,value:zt}),[zt]),reactExports.useEffect(()=>{ct&&Ut&&Ft&&!Kt&&(rr(at?null:fr.clientWidth),Dt.current.focus())},[Ft,at]),reactExports.useEffect(()=>{ot&&Dt.current.focus()},[ot]),reactExports.useEffect(()=>{if(!ht)return;const hr=ownerDocument(Dt.current).getElementById(ht);if(hr){const $r=()=>{getSelection().isCollapsed&&Dt.current.focus()};return hr.addEventListener("click",$r),()=>{hr.removeEventListener("click",$r)}}},[ht]);const pr=(hr,$r)=>{hr?wt&&wt($r):$t&&$t($r),Kt||(rr(at?null:fr.clientWidth),jt(hr))},vr=hr=>{hr.button===0&&(hr.preventDefault(),Dt.current.focus(),pr(!0,hr))},dr=hr=>{pr(!1,hr)},xr=reactExports.Children.toArray(st),Gt=hr=>{const $r=xr.map(Ar=>Ar.props.value).indexOf(hr.target.value);if($r===-1)return;const Mr=xr[$r];Vt(Mr.props.value),xt&&xt(hr,Mr)},Wt=hr=>$r=>{let Mr;if($r.currentTarget.hasAttribute("tabindex")){if(vt){Mr=Array.isArray(zt)?zt.slice():[];const Ar=zt.indexOf(hr.props.value);Ar===-1?Mr.push(hr.props.value):Mr.splice(Ar,1)}else Mr=hr.props.value;if(hr.props.onClick&&hr.props.onClick($r),zt!==Mr&&(Vt(Mr),xt)){const Ar=$r.nativeEvent||$r,Fr=new Ar.constructor(Ar.type,Ar);Object.defineProperty(Fr,"target",{writable:!0,value:{value:Mr,name:yt}}),xt(Fr,hr)}vt||pr(!1,$r)}},nr=hr=>{Rt||[" ","ArrowUp","ArrowDown","Enter"].indexOf(hr.key)!==-1&&(hr.preventDefault(),pr(!0,hr))},Qt=Ft!==null&&Ut,Jt=hr=>{!Qt&&bt&&(Object.defineProperty(hr,"target",{writable:!0,value:{value:zt,name:yt}}),bt(hr))};delete Bt["aria-invalid"];let ar,cr;const lr=[];let Yt=!1;(isFilled({value:zt})||ft)&&(It?ar=It(zt):Yt=!0);const Xt=xr.map((hr,$r,Mr)=>{var Ar,Fr,zr,jr;if(!reactExports.isValidElement(hr))return null;let Jr;if(vt){if(!Array.isArray(zt))throw new Error(formatMuiErrorMessage(2));Jr=zt.some(mn=>areEqualValues(mn,hr.props.value)),Jr&&Yt&&lr.push(hr.props.children)}else Jr=areEqualValues(zt,hr.props.value),Jr&&Yt&&(cr=hr.props.children);if(hr.props.value===void 0)return reactExports.cloneElement(hr,{"aria-readonly":!0,role:"option"});const gn=()=>{if(zt)return Jr;const mn=Mr.find(Cr=>{var Dr;return(Cr==null||(Dr=Cr.props)==null?void 0:Dr.value)!==void 0&&Cr.props.disabled!==!0});return hr===mn?!0:Jr};return reactExports.cloneElement(hr,{"aria-selected":Jr?"true":"false",onClick:Wt(hr),onKeyUp:mn=>{mn.key===" "&&mn.preventDefault(),hr.props.onKeyUp&&hr.props.onKeyUp(mn)},role:"option",selected:((Ar=Mr[0])==null||(Fr=Ar.props)==null?void 0:Fr.value)===void 0||((zr=Mr[0])==null||(jr=zr.props)==null?void 0:jr.disabled)===!0?gn():Jr,value:void 0,"data-value":hr.props.value})});Yt&&(vt?lr.length===0?ar=null:ar=lr.reduce((hr,$r,Mr)=>(hr.push($r),Mr<lr.length-1&&hr.push(", "),hr),[]):ar=cr);let tr=ir;!at&&Kt&&Ft&&(tr=fr.clientWidth);let or;typeof Pt<"u"?or=Pt:or=dt?null:0;const br=Lt.id||(yt?`mui-component-select-${yt}`:void 0),Sr=_extends$n({},et,{variant:Ot,value:zt,open:Qt}),yr=useUtilityClasses$e(Sr);return jsxs$1(reactExports.Fragment,{children:[jsx$1(SelectSelect,_extends$n({ref:sr,tabIndex:or,role:"button","aria-disabled":dt?"true":void 0,"aria-expanded":Qt?"true":"false","aria-haspopup":"listbox","aria-label":it,"aria-labelledby":[ht,br].filter(Boolean).join(" ")||void 0,"aria-describedby":nt,onKeyDown:nr,onMouseDown:dt||Rt?null:vr,onBlur:Jt,onFocus:Tt},Lt,{ownerState:Sr,className:clsx(Lt.className,yr.select,lt),id:br,children:isEmpty$1(ar)?_span||(_span=jsx$1("span",{className:"notranslate",children:"​"})):ar})),jsx$1(SelectNativeInput,_extends$n({value:Array.isArray(zt)?zt.join(","):zt,name:yt,ref:qt,"aria-hidden":!0,onChange:Gt,tabIndex:-1,disabled:dt,className:yr.nativeInput,autoFocus:ot,ownerState:Sr},Bt)),jsx$1(SelectIcon,{as:pt,className:yr.icon,ownerState:Sr}),jsx$1(Menu$1,_extends$n({id:`menu-${yt||""}`,anchorEl:fr,open:Qt,onClose:dr,anchorOrigin:{vertical:"bottom",horizontal:"center"},transformOrigin:{vertical:"top",horizontal:"center"}},gt,{MenuListProps:_extends$n({"aria-labelledby":ht,role:"listbox",disableListWrap:!0},gt.MenuListProps),PaperProps:_extends$n({},gt.PaperProps,{style:_extends$n({minWidth:tr},gt.PaperProps!=null?gt.PaperProps.style:null)}),children:Xt}))]})}),SelectInput$1=SelectInput;var _StyledInput,_StyledFilledInput;const _excluded$l=["autoWidth","children","classes","className","defaultOpen","displayEmpty","IconComponent","id","input","inputProps","label","labelId","MenuProps","multiple","native","onClose","onOpen","open","renderValue","SelectDisplayProps","variant"],useUtilityClasses$d=tt=>{const{classes:et}=tt;return et},styledRootConfig={name:"MuiSelect",overridesResolver:(tt,et)=>et.root,shouldForwardProp:tt=>rootShouldForwardProp(tt)&&tt!=="variant",slot:"Root"},StyledInput=styled$1(Input$2,styledRootConfig)(""),StyledOutlinedInput=styled$1(OutlinedInput$1,styledRootConfig)(""),StyledFilledInput=styled$1(FilledInput$1,styledRootConfig)(""),Select$1=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({name:"MuiSelect",props:et}),{autoWidth:it=!1,children:ot,classes:at={},className:st,defaultOpen:lt=!1,displayEmpty:ct=!1,IconComponent:ut=ArrowDropDownIcon,id:dt,input:ft,inputProps:pt,label:mt,labelId:ht,MenuProps:gt,multiple:vt=!1,native:yt=!1,onClose:bt,onOpen:xt,open:$t,renderValue:Tt,SelectDisplayProps:wt,variant:At="outlined"}=nt,Rt=_objectWithoutPropertiesLoose$4(nt,_excluded$l),It=yt?NativeSelectInput$1:SelectInput$1,Lt=useFormControl(),Nt=formControlState({props:nt,muiFormControl:Lt,states:["variant"]}).variant||At,Ot=ft||{standard:_StyledInput||(_StyledInput=jsx$1(StyledInput,{})),outlined:jsx$1(StyledOutlinedInput,{label:mt}),filled:_StyledFilledInput||(_StyledFilledInput=jsx$1(StyledFilledInput,{}))}[Nt],Bt=_extends$n({},nt,{variant:Nt,classes:at}),zt=useUtilityClasses$d(Bt),Vt=useForkRef(rt,Ot.ref);return jsx$1(reactExports.Fragment,{children:reactExports.cloneElement(Ot,_extends$n({inputComponent:It,inputProps:_extends$n({children:ot,IconComponent:ut,variant:Nt,type:void 0,multiple:vt},yt?{id:dt}:{autoWidth:it,defaultOpen:lt,displayEmpty:ct,labelId:ht,MenuProps:gt,onClose:bt,onOpen:xt,open:$t,renderValue:Tt,SelectDisplayProps:_extends$n({id:dt},wt)},pt,{classes:pt?deepmerge$1(zt,pt.classes):zt},ft?ft.props.inputProps:{})},vt&&yt&&Nt==="outlined"?{notched:!0}:{},{ref:Vt,className:clsx(Ot.props.className,st)},!ft&&{variant:Nt},Rt))})});Select$1.muiName="Select";const Select$2=Select$1;function getSkeletonUtilityClass(tt){return generateUtilityClass("MuiSkeleton",tt)}generateUtilityClasses("MuiSkeleton",["root","text","rectangular","rounded","circular","pulse","wave","withChildren","fitContent","heightAuto"]);const _excluded$k=["animation","className","component","height","style","variant","width"];let _$1=tt=>tt,_t,_t2,_t3,_t4;const useUtilityClasses$c=tt=>{const{classes:et,variant:rt,animation:nt,hasChildren:it,width:ot,height:at}=tt;return composeClasses({root:["root",rt,nt,it&&"withChildren",it&&!ot&&"fitContent",it&&!at&&"heightAuto"]},getSkeletonUtilityClass,et)},pulseKeyframe=keyframes(_t||(_t=_$1`
  0% {
    opacity: 1;
  }

  50% {
    opacity: 0.4;
  }

  100% {
    opacity: 1;
  }
`)),waveKeyframe=keyframes(_t2||(_t2=_$1`
  0% {
    transform: translateX(-100%);
  }

  50% {
    /* +0.5s of delay between each loop */
    transform: translateX(100%);
  }

  100% {
    transform: translateX(100%);
  }
`)),SkeletonRoot=styled$1("span",{name:"MuiSkeleton",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[rt.variant],rt.animation!==!1&&et[rt.animation],rt.hasChildren&&et.withChildren,rt.hasChildren&&!rt.width&&et.fitContent,rt.hasChildren&&!rt.height&&et.heightAuto]}})(({theme:tt,ownerState:et})=>{const rt=getUnit(tt.shape.borderRadius)||"px",nt=toUnitless(tt.shape.borderRadius);return _extends$n({display:"block",backgroundColor:tt.vars?tt.vars.palette.Skeleton.bg:alpha(tt.palette.text.primary,tt.palette.mode==="light"?.11:.13),height:"1.2em"},et.variant==="text"&&{marginTop:0,marginBottom:0,height:"auto",transformOrigin:"0 55%",transform:"scale(1, 0.60)",borderRadius:`${nt}${rt}/${Math.round(nt/.6*10)/10}${rt}`,"&:empty:before":{content:'"\\00a0"'}},et.variant==="circular"&&{borderRadius:"50%"},et.variant==="rounded"&&{borderRadius:(tt.vars||tt).shape.borderRadius},et.hasChildren&&{"& > *":{visibility:"hidden"}},et.hasChildren&&!et.width&&{maxWidth:"fit-content"},et.hasChildren&&!et.height&&{height:"auto"})},({ownerState:tt})=>tt.animation==="pulse"&&css(_t3||(_t3=_$1`
      animation: ${0} 1.5s ease-in-out 0.5s infinite;
    `),pulseKeyframe),({ownerState:tt,theme:et})=>tt.animation==="wave"&&css(_t4||(_t4=_$1`
      position: relative;
      overflow: hidden;

      /* Fix bug in Safari https://bugs.webkit.org/show_bug.cgi?id=68196 */
      -webkit-mask-image: -webkit-radial-gradient(white, black);

      &::after {
        animation: ${0} 1.6s linear 0.5s infinite;
        background: linear-gradient(
          90deg,
          transparent,
          ${0},
          transparent
        );
        content: '';
        position: absolute;
        transform: translateX(-100%); /* Avoid flash during server-side hydration */
        bottom: 0;
        left: 0;
        right: 0;
        top: 0;
      }
    `),waveKeyframe,(et.vars||et).palette.action.hover)),Skeleton$1=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiSkeleton"}),{animation:it="pulse",className:ot,component:at="span",height:st,style:lt,variant:ct="text",width:ut}=nt,dt=_objectWithoutPropertiesLoose$4(nt,_excluded$k),ft=_extends$n({},nt,{animation:it,component:at,variant:ct,hasChildren:Boolean(dt.children)}),pt=useUtilityClasses$c(ft);return jsx$1(SkeletonRoot,_extends$n({as:at,ref:rt,className:clsx(pt.root,ot),ownerState:ft},dt,{style:_extends$n({width:ut,height:st},lt)}))}),Skeleton$2=Skeleton$1;function getSliderUtilityClass(tt){return generateUtilityClass("MuiSlider",tt)}const sliderClasses=generateUtilityClasses("MuiSlider",["root","active","colorPrimary","colorSecondary","disabled","dragging","focusVisible","mark","markActive","marked","markLabel","markLabelActive","rail","sizeSmall","thumb","thumbColorPrimary","thumbColorSecondary","track","trackInverted","trackFalse","thumbSizeSmall","valueLabel","valueLabelOpen","valueLabelCircle","valueLabelLabel","vertical"]),sliderClasses$1=sliderClasses,useValueLabelClasses=tt=>{const{open:et}=tt;return{offset:clsx(et&&sliderClasses$1.valueLabelOpen),circle:sliderClasses$1.valueLabelCircle,label:sliderClasses$1.valueLabelLabel}};function SliderValueLabel(tt){const{children:et,className:rt,value:nt}=tt,it=useValueLabelClasses(tt);return et?reactExports.cloneElement(et,{className:clsx(et.props.className)},jsxs$1(reactExports.Fragment,{children:[et.props.children,jsx$1("span",{className:clsx(it.offset,rt),"aria-hidden":!0,children:jsx$1("span",{className:it.circle,children:jsx$1("span",{className:it.label,children:nt})})})]})):null}const _excluded$j=["aria-label","aria-valuetext","aria-labelledby","component","components","componentsProps","color","classes","className","disableSwap","disabled","getAriaLabel","getAriaValueText","marks","max","min","name","onChange","onChangeCommitted","orientation","size","step","scale","slotProps","slots","tabIndex","track","value","valueLabelDisplay","valueLabelFormat"],valueToPercent=(tt,et,rt)=>(tt-et)*100/(rt-et);function Identity(tt){return tt}const SliderRoot=styled$1("span",{name:"MuiSlider",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[`color${capitalize$1(rt.color)}`],rt.size!=="medium"&&et[`size${capitalize$1(rt.size)}`],rt.marked&&et.marked,rt.orientation==="vertical"&&et.vertical,rt.track==="inverted"&&et.trackInverted,rt.track===!1&&et.trackFalse]}})(({theme:tt,ownerState:et})=>_extends$n({borderRadius:12,boxSizing:"content-box",display:"inline-block",position:"relative",cursor:"pointer",touchAction:"none",color:(tt.vars||tt).palette[et.color].main,WebkitTapHighlightColor:"transparent"},et.orientation==="horizontal"&&_extends$n({height:4,width:"100%",padding:"13px 0","@media (pointer: coarse)":{padding:"20px 0"}},et.size==="small"&&{height:2},et.marked&&{marginBottom:20}),et.orientation==="vertical"&&_extends$n({height:"100%",width:4,padding:"0 13px","@media (pointer: coarse)":{padding:"0 20px"}},et.size==="small"&&{width:2},et.marked&&{marginRight:44}),{"@media print":{colorAdjust:"exact"},[`&.${sliderClasses$1.disabled}`]:{pointerEvents:"none",cursor:"default",color:(tt.vars||tt).palette.grey[400]},[`&.${sliderClasses$1.dragging}`]:{[`& .${sliderClasses$1.thumb}, & .${sliderClasses$1.track}`]:{transition:"none"}}})),SliderRail=styled$1("span",{name:"MuiSlider",slot:"Rail",overridesResolver:(tt,et)=>et.rail})(({ownerState:tt})=>_extends$n({display:"block",position:"absolute",borderRadius:"inherit",backgroundColor:"currentColor",opacity:.38},tt.orientation==="horizontal"&&{width:"100%",height:"inherit",top:"50%",transform:"translateY(-50%)"},tt.orientation==="vertical"&&{height:"100%",width:"inherit",left:"50%",transform:"translateX(-50%)"},tt.track==="inverted"&&{opacity:1})),SliderTrack=styled$1("span",{name:"MuiSlider",slot:"Track",overridesResolver:(tt,et)=>et.track})(({theme:tt,ownerState:et})=>{const rt=tt.palette.mode==="light"?lighten(tt.palette[et.color].main,.62):darken(tt.palette[et.color].main,.5);return _extends$n({display:"block",position:"absolute",borderRadius:"inherit",border:"1px solid currentColor",backgroundColor:"currentColor",transition:tt.transitions.create(["left","width","bottom","height"],{duration:tt.transitions.duration.shortest})},et.size==="small"&&{border:"none"},et.orientation==="horizontal"&&{height:"inherit",top:"50%",transform:"translateY(-50%)"},et.orientation==="vertical"&&{width:"inherit",left:"50%",transform:"translateX(-50%)"},et.track===!1&&{display:"none"},et.track==="inverted"&&{backgroundColor:tt.vars?tt.vars.palette.Slider[`${et.color}Track`]:rt,borderColor:tt.vars?tt.vars.palette.Slider[`${et.color}Track`]:rt})}),SliderThumb=styled$1("span",{name:"MuiSlider",slot:"Thumb",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.thumb,et[`thumbColor${capitalize$1(rt.color)}`],rt.size!=="medium"&&et[`thumbSize${capitalize$1(rt.size)}`]]}})(({theme:tt,ownerState:et})=>_extends$n({position:"absolute",width:20,height:20,boxSizing:"border-box",borderRadius:"50%",outline:0,backgroundColor:"currentColor",display:"flex",alignItems:"center",justifyContent:"center",transition:tt.transitions.create(["box-shadow","left","bottom"],{duration:tt.transitions.duration.shortest})},et.size==="small"&&{width:12,height:12},et.orientation==="horizontal"&&{top:"50%",transform:"translate(-50%, -50%)"},et.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 50%)"},{"&:before":_extends$n({position:"absolute",content:'""',borderRadius:"inherit",width:"100%",height:"100%",boxShadow:(tt.vars||tt).shadows[2]},et.size==="small"&&{boxShadow:"none"}),"&::after":{position:"absolute",content:'""',borderRadius:"50%",width:42,height:42,top:"50%",left:"50%",transform:"translate(-50%, -50%)"},[`&:hover, &.${sliderClasses$1.focusVisible}`]:{boxShadow:`0px 0px 0px 8px ${tt.vars?`rgba(${tt.vars.palette[et.color].mainChannel} / 0.16)`:alpha(tt.palette[et.color].main,.16)}`,"@media (hover: none)":{boxShadow:"none"}},[`&.${sliderClasses$1.active}`]:{boxShadow:`0px 0px 0px 14px ${tt.vars?`rgba(${tt.vars.palette[et.color].mainChannel} / 0.16)`:alpha(tt.palette[et.color].main,.16)}`},[`&.${sliderClasses$1.disabled}`]:{"&:hover":{boxShadow:"none"}}})),StyledSliderValueLabel=styled$1(SliderValueLabel,{name:"MuiSlider",slot:"ValueLabel",overridesResolver:(tt,et)=>et.valueLabel})(({theme:tt,ownerState:et})=>_extends$n({[`&.${sliderClasses$1.valueLabelOpen}`]:{transform:"translateY(-100%) scale(1)"},zIndex:1,whiteSpace:"nowrap"},tt.typography.body2,{fontWeight:500,transition:tt.transitions.create(["transform"],{duration:tt.transitions.duration.shortest}),transform:"translateY(-100%) scale(0)",position:"absolute",backgroundColor:(tt.vars||tt).palette.grey[600],borderRadius:2,color:(tt.vars||tt).palette.common.white,display:"flex",alignItems:"center",justifyContent:"center",padding:"0.25rem 0.75rem"},et.orientation==="horizontal"&&{top:"-10px",transformOrigin:"bottom center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",bottom:0,left:"50%"}},et.orientation==="vertical"&&{right:"30px",top:"24px",transformOrigin:"right center","&:before":{position:"absolute",content:'""',width:8,height:8,transform:"translate(-50%, 50%) rotate(45deg)",backgroundColor:"inherit",right:"-20%",top:"25%"}},et.size==="small"&&{fontSize:tt.typography.pxToRem(12),padding:"0.25rem 0.5rem"})),SliderMark=styled$1("span",{name:"MuiSlider",slot:"Mark",shouldForwardProp:tt=>slotShouldForwardProp(tt)&&tt!=="markActive",overridesResolver:(tt,et)=>{const{markActive:rt}=tt;return[et.mark,rt&&et.markActive]}})(({theme:tt,ownerState:et,markActive:rt})=>_extends$n({position:"absolute",width:2,height:2,borderRadius:1,backgroundColor:"currentColor"},et.orientation==="horizontal"&&{top:"50%",transform:"translate(-1px, -50%)"},et.orientation==="vertical"&&{left:"50%",transform:"translate(-50%, 1px)"},rt&&{backgroundColor:(tt.vars||tt).palette.background.paper,opacity:.8})),SliderMarkLabel=styled$1("span",{name:"MuiSlider",slot:"MarkLabel",shouldForwardProp:tt=>slotShouldForwardProp(tt)&&tt!=="markLabelActive",overridesResolver:(tt,et)=>et.markLabel})(({theme:tt,ownerState:et,markLabelActive:rt})=>_extends$n({},tt.typography.body2,{color:(tt.vars||tt).palette.text.secondary,position:"absolute",whiteSpace:"nowrap"},et.orientation==="horizontal"&&{top:30,transform:"translateX(-50%)","@media (pointer: coarse)":{top:40}},et.orientation==="vertical"&&{left:36,transform:"translateY(50%)","@media (pointer: coarse)":{left:44}},rt&&{color:(tt.vars||tt).palette.text.primary})),useUtilityClasses$b=tt=>{const{disabled:et,dragging:rt,marked:nt,orientation:it,track:ot,classes:at,color:st,size:lt}=tt,ct={root:["root",et&&"disabled",rt&&"dragging",nt&&"marked",it==="vertical"&&"vertical",ot==="inverted"&&"trackInverted",ot===!1&&"trackFalse",st&&`color${capitalize$1(st)}`,lt&&`size${capitalize$1(lt)}`],rail:["rail"],track:["track"],mark:["mark"],markActive:["markActive"],markLabel:["markLabel"],markLabelActive:["markLabelActive"],valueLabel:["valueLabel"],thumb:["thumb",et&&"disabled",lt&&`thumbSize${capitalize$1(lt)}`,st&&`thumbColor${capitalize$1(st)}`],active:["active"],disabled:["disabled"],focusVisible:["focusVisible"]};return composeClasses(ct,getSliderUtilityClass,at)},Forward=({children:tt})=>tt,Slider$2=reactExports.forwardRef(function(et,rt){var nt,it,ot,at,st,lt,ct,ut,dt,ft,pt,mt,ht,gt,vt,yt,bt,xt,$t,Tt,wt,At,Rt,It;const Lt=useThemeProps({props:et,name:"MuiSlider"}),Nt=useTheme().direction==="rtl",{"aria-label":Ot,"aria-valuetext":Bt,"aria-labelledby":zt,component:Vt="span",components:Ut={},componentsProps:jt={},color:qt="primary",classes:Dt,className:Ft,disableSwap:Zt=!1,disabled:Kt=!1,getAriaLabel:ir,getAriaValueText:rr,marks:mr=!1,max:sr=100,min:fr=0,orientation:pr="horizontal",size:vr="medium",step:dr=1,scale:xr=Identity,slotProps:Gt,slots:Wt,track:nr="normal",valueLabelDisplay:Qt="off",valueLabelFormat:Jt=Identity}=Lt,ar=_objectWithoutPropertiesLoose$4(Lt,_excluded$j),cr=_extends$n({},Lt,{isRtl:Nt,max:sr,min:fr,classes:Dt,disabled:Kt,disableSwap:Zt,orientation:pr,marks:mr,color:qt,size:vr,step:dr,scale:xr,track:nr,valueLabelDisplay:Qt,valueLabelFormat:Jt}),{axisProps:lr,getRootProps:Yt,getHiddenInputProps:Xt,getThumbProps:tr,open:or,active:br,axis:Sr,focusedThumbIndex:yr,range:hr,dragging:$r,marks:Mr,values:Ar,trackOffset:Fr,trackLeap:zr}=useSlider(_extends$n({},cr,{ref:rt}));cr.marked=Mr.length>0&&Mr.some(Or=>Or.label),cr.dragging=$r,cr.focusedThumbIndex=yr;const jr=useUtilityClasses$b(cr),Jr=(nt=(it=Wt==null?void 0:Wt.root)!=null?it:Ut.Root)!=null?nt:SliderRoot,gn=(ot=(at=Wt==null?void 0:Wt.rail)!=null?at:Ut.Rail)!=null?ot:SliderRail,mn=(st=(lt=Wt==null?void 0:Wt.track)!=null?lt:Ut.Track)!=null?st:SliderTrack,Cr=(ct=(ut=Wt==null?void 0:Wt.thumb)!=null?ut:Ut.Thumb)!=null?ct:SliderThumb,Dr=(dt=(ft=Wt==null?void 0:Wt.valueLabel)!=null?ft:Ut.ValueLabel)!=null?dt:StyledSliderValueLabel,Hr=(pt=(mt=Wt==null?void 0:Wt.mark)!=null?mt:Ut.Mark)!=null?pt:SliderMark,Yr=(ht=(gt=Wt==null?void 0:Wt.markLabel)!=null?gt:Ut.MarkLabel)!=null?ht:SliderMarkLabel,dn=(vt=(yt=Wt==null?void 0:Wt.input)!=null?yt:Ut.Input)!=null?vt:"input",On=(bt=Gt==null?void 0:Gt.root)!=null?bt:jt.root,Dn=(xt=Gt==null?void 0:Gt.rail)!=null?xt:jt.rail,Bn=($t=Gt==null?void 0:Gt.track)!=null?$t:jt.track,Fn=(Tt=Gt==null?void 0:Gt.thumb)!=null?Tt:jt.thumb,Mn=(wt=Gt==null?void 0:Gt.valueLabel)!=null?wt:jt.valueLabel,Ln=(At=Gt==null?void 0:Gt.mark)!=null?At:jt.mark,Rn=(Rt=Gt==null?void 0:Gt.markLabel)!=null?Rt:jt.markLabel,Qn=(It=Gt==null?void 0:Gt.input)!=null?It:jt.input,Un=useSlotProps({elementType:Jr,getSlotProps:Yt,externalSlotProps:On,externalForwardedProps:ar,additionalProps:_extends$n({},shouldSpreadAdditionalProps$1(Jr)&&{as:Vt}),ownerState:_extends$n({},cr,On==null?void 0:On.ownerState),className:[jr.root,Ft]}),yn=useSlotProps({elementType:gn,externalSlotProps:Dn,ownerState:cr,className:jr.rail}),Tn=useSlotProps({elementType:mn,externalSlotProps:Bn,additionalProps:{style:_extends$n({},lr[Sr].offset(Fr),lr[Sr].leap(zr))},ownerState:_extends$n({},cr,Bn==null?void 0:Bn.ownerState),className:jr.track}),gr=useSlotProps({elementType:Cr,getSlotProps:tr,externalSlotProps:Fn,ownerState:_extends$n({},cr,Fn==null?void 0:Fn.ownerState)}),kr=useSlotProps({elementType:Dr,externalSlotProps:Mn,ownerState:_extends$n({},cr,Mn==null?void 0:Mn.ownerState),className:jr.valueLabel}),Ur=useSlotProps({elementType:Hr,externalSlotProps:Ln,ownerState:cr,className:jr.mark}),Lr=useSlotProps({elementType:Yr,externalSlotProps:Rn,ownerState:cr}),Vr=useSlotProps({elementType:dn,getSlotProps:Xt,externalSlotProps:Qn,ownerState:cr});return jsxs$1(Jr,_extends$n({},Un,{children:[jsx$1(gn,_extends$n({},yn)),jsx$1(mn,_extends$n({},Tn)),Mr.filter(Or=>Or.value>=fr&&Or.value<=sr).map((Or,Rr)=>{const Xr=valueToPercent(Or.value,fr,sr),ln=lr[Sr].offset(Xr);let vn;return nr===!1?vn=Ar.indexOf(Or.value)!==-1:vn=nr==="normal"&&(hr?Or.value>=Ar[0]&&Or.value<=Ar[Ar.length-1]:Or.value<=Ar[0])||nr==="inverted"&&(hr?Or.value<=Ar[0]||Or.value>=Ar[Ar.length-1]:Or.value>=Ar[0]),jsxs$1(reactExports.Fragment,{children:[jsx$1(Hr,_extends$n({"data-index":Rr},Ur,!isHostComponent(Hr)&&{markActive:vn},{style:_extends$n({},ln,Ur.style),className:clsx(Ur.className,vn&&jr.markActive)})),Or.label!=null?jsx$1(Yr,_extends$n({"aria-hidden":!0,"data-index":Rr},Lr,!isHostComponent(Yr)&&{markLabelActive:vn},{style:_extends$n({},ln,Lr.style),className:clsx(jr.markLabel,Lr.className,vn&&jr.markLabelActive),children:Or.label})):null]},Rr)}),Ar.map((Or,Rr)=>{const Xr=valueToPercent(Or,fr,sr),ln=lr[Sr].offset(Xr),vn=Qt==="off"?Forward:Dr;return jsx$1(reactExports.Fragment,{children:jsx$1(vn,_extends$n({},!isHostComponent(vn)&&{valueLabelFormat:Jt,valueLabelDisplay:Qt,value:typeof Jt=="function"?Jt(xr(Or),Rr):Jt,index:Rr,open:or===Rr||br===Rr||Qt==="on",disabled:Kt},kr,{children:jsx$1(Cr,_extends$n({"data-index":Rr,"data-focusvisible":yr===Rr},gr,{className:clsx(jr.thumb,gr.className,br===Rr&&jr.active,yr===Rr&&jr.focusVisible),style:_extends$n({},ln,{pointerEvents:Zt&&br!==Rr?"none":void 0},gr.style),children:jsx$1(dn,_extends$n({"data-index":Rr,"aria-label":ir?ir(Rr):Ot,"aria-valuenow":xr(Or),"aria-labelledby":zt,"aria-valuetext":rr?rr(xr(Or),Rr):Bt,value:Ar[Rr]},Vr))}))}))},Rr)})]}))}),Slider$3=Slider$2,_excluded$i=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],styles$2={entering:{transform:"none"},entered:{transform:"none"}},Zoom=reactExports.forwardRef(function(et,rt){const nt=useTheme(),it={enter:nt.transitions.duration.enteringScreen,exit:nt.transitions.duration.leavingScreen},{addEndListener:ot,appear:at=!0,children:st,easing:lt,in:ct,onEnter:ut,onEntered:dt,onEntering:ft,onExit:pt,onExited:mt,onExiting:ht,style:gt,timeout:vt=it,TransitionComponent:yt=Transition$1}=et,bt=_objectWithoutPropertiesLoose$4(et,_excluded$i),xt=reactExports.useRef(null),$t=useForkRef(xt,st.ref,rt),Tt=Ot=>Bt=>{if(Ot){const zt=xt.current;Bt===void 0?Ot(zt):Ot(zt,Bt)}},wt=Tt(ft),At=Tt((Ot,Bt)=>{reflow(Ot);const zt=getTransitionProps({style:gt,timeout:vt,easing:lt},{mode:"enter"});Ot.style.webkitTransition=nt.transitions.create("transform",zt),Ot.style.transition=nt.transitions.create("transform",zt),ut&&ut(Ot,Bt)}),Rt=Tt(dt),It=Tt(ht),Lt=Tt(Ot=>{const Bt=getTransitionProps({style:gt,timeout:vt,easing:lt},{mode:"exit"});Ot.style.webkitTransition=nt.transitions.create("transform",Bt),Ot.style.transition=nt.transitions.create("transform",Bt),pt&&pt(Ot)}),Pt=Tt(mt);return jsx$1(yt,_extends$n({appear:at,in:ct,nodeRef:xt,onEnter:At,onEntered:Rt,onEntering:wt,onExit:Lt,onExited:Pt,onExiting:It,addEndListener:Ot=>{ot&&ot(xt.current,Ot)},timeout:vt},bt,{children:(Ot,Bt)=>reactExports.cloneElement(st,_extends$n({style:_extends$n({transform:"scale(0)",visibility:Ot==="exited"&&!ct?"hidden":void 0},styles$2[Ot],gt,st.props.style),ref:$t},Bt))}))}),Zoom$1=Zoom;function getSpeedDialUtilityClass(tt){return generateUtilityClass("MuiSpeedDial",tt)}const speedDialClasses=generateUtilityClasses("MuiSpeedDial",["root","fab","directionUp","directionDown","directionLeft","directionRight","actions","actionsClosed"]),speedDialClasses$1=speedDialClasses,_excluded$h=["ref"],_excluded2$2=["ariaLabel","FabProps","children","className","direction","hidden","icon","onBlur","onClose","onFocus","onKeyDown","onMouseEnter","onMouseLeave","onOpen","open","openIcon","TransitionComponent","transitionDuration","TransitionProps"],_excluded3$1=["ref"],useUtilityClasses$a=tt=>{const{classes:et,open:rt,direction:nt}=tt,it={root:["root",`direction${capitalize$1(nt)}`],fab:["fab"],actions:["actions",!rt&&"actionsClosed"]};return composeClasses(it,getSpeedDialUtilityClass,et)};function getOrientation(tt){if(tt==="up"||tt==="down")return"vertical";if(tt==="right"||tt==="left")return"horizontal"}function clamp$2(tt,et,rt){return tt<et?et:tt>rt?rt:tt}const dialRadius=32,spacingActions=16,SpeedDialRoot=styled$1("div",{name:"MuiSpeedDial",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[`direction${capitalize$1(rt.direction)}`]]}})(({theme:tt,ownerState:et})=>_extends$n({zIndex:(tt.vars||tt).zIndex.speedDial,display:"flex",alignItems:"center",pointerEvents:"none"},et.direction==="up"&&{flexDirection:"column-reverse",[`& .${speedDialClasses$1.actions}`]:{flexDirection:"column-reverse",marginBottom:-dialRadius,paddingBottom:spacingActions+dialRadius}},et.direction==="down"&&{flexDirection:"column",[`& .${speedDialClasses$1.actions}`]:{flexDirection:"column",marginTop:-dialRadius,paddingTop:spacingActions+dialRadius}},et.direction==="left"&&{flexDirection:"row-reverse",[`& .${speedDialClasses$1.actions}`]:{flexDirection:"row-reverse",marginRight:-dialRadius,paddingRight:spacingActions+dialRadius}},et.direction==="right"&&{flexDirection:"row",[`& .${speedDialClasses$1.actions}`]:{flexDirection:"row",marginLeft:-dialRadius,paddingLeft:spacingActions+dialRadius}})),SpeedDialFab=styled$1(Fab$1,{name:"MuiSpeedDial",slot:"Fab",overridesResolver:(tt,et)=>et.fab})(()=>({pointerEvents:"auto"})),SpeedDialActions=styled$1("div",{name:"MuiSpeedDial",slot:"Actions",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.actions,!rt.open&&et.actionsClosed]}})(({ownerState:tt})=>_extends$n({display:"flex",pointerEvents:"auto"},!tt.open&&{transition:"top 0s linear 0.2s",pointerEvents:"none"})),SpeedDial=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiSpeedDial"}),it=useTheme(),ot={enter:it.transitions.duration.enteringScreen,exit:it.transitions.duration.leavingScreen},{ariaLabel:at,FabProps:{ref:st}={},children:lt,className:ct,direction:ut="up",hidden:dt=!1,icon:ft,onBlur:pt,onClose:mt,onFocus:ht,onKeyDown:gt,onMouseEnter:vt,onMouseLeave:yt,onOpen:bt,open:xt,TransitionComponent:$t=Zoom$1,transitionDuration:Tt=ot,TransitionProps:wt}=nt,At=_objectWithoutPropertiesLoose$4(nt.FabProps,_excluded$h),Rt=_objectWithoutPropertiesLoose$4(nt,_excluded2$2),[It,Lt]=useControlled({controlled:xt,default:!1,name:"SpeedDial",state:"open"}),Pt=_extends$n({},nt,{open:It,direction:ut}),Nt=useUtilityClasses$a(Pt),Ot=reactExports.useRef();reactExports.useEffect(()=>()=>{clearTimeout(Ot.current)},[]);const Bt=reactExports.useRef(0),zt=reactExports.useRef(),Vt=reactExports.useRef([]);Vt.current=[Vt.current[0]];const Ut=reactExports.useCallback(sr=>{Vt.current[0]=sr},[]),jt=useForkRef(st,Ut),qt=(sr,fr)=>pr=>{Vt.current[sr+1]=pr,fr&&fr(pr)},Dt=sr=>{gt&&gt(sr);const fr=sr.key.replace("Arrow","").toLowerCase(),{current:pr=fr}=zt;if(sr.key==="Escape"){Lt(!1),Vt.current[0].focus(),mt&&mt(sr,"escapeKeyDown");return}if(getOrientation(fr)===getOrientation(pr)&&getOrientation(fr)!==void 0){sr.preventDefault();const vr=fr===pr?1:-1,dr=clamp$2(Bt.current+vr,0,Vt.current.length-1);Vt.current[dr].focus(),Bt.current=dr,zt.current=pr}};reactExports.useEffect(()=>{It||(Bt.current=0,zt.current=void 0)},[It]);const Ft=sr=>{sr.type==="mouseleave"&&yt&&yt(sr),sr.type==="blur"&&pt&&pt(sr),clearTimeout(Ot.current),sr.type==="blur"?Ot.current=setTimeout(()=>{Lt(!1),mt&&mt(sr,"blur")}):(Lt(!1),mt&&mt(sr,"mouseLeave"))},Zt=sr=>{At.onClick&&At.onClick(sr),clearTimeout(Ot.current),It?(Lt(!1),mt&&mt(sr,"toggle")):(Lt(!0),bt&&bt(sr,"toggle"))},Kt=sr=>{sr.type==="mouseenter"&&vt&&vt(sr),sr.type==="focus"&&ht&&ht(sr),clearTimeout(Ot.current),It||(Ot.current=setTimeout(()=>{Lt(!0),bt&&bt(sr,{focus:"focus",mouseenter:"mouseEnter"}[sr.type])}))},ir=at.replace(/^[^a-z]+|[^\w:.-]+/gi,""),rr=reactExports.Children.toArray(lt).filter(sr=>reactExports.isValidElement(sr)),mr=rr.map((sr,fr)=>{const pr=sr.props,{FabProps:{ref:vr}={},tooltipPlacement:dr}=pr,xr=_objectWithoutPropertiesLoose$4(pr.FabProps,_excluded3$1),Gt=dr||(getOrientation(ut)==="vertical"?"left":"top");return reactExports.cloneElement(sr,{FabProps:_extends$n({},xr,{ref:qt(fr,vr)}),delay:30*(It?fr:rr.length-fr),open:It,tooltipPlacement:Gt,id:`${ir}-action-${fr}`})});return jsxs$1(SpeedDialRoot,_extends$n({className:clsx(Nt.root,ct),ref:rt,role:"presentation",onKeyDown:Dt,onBlur:Ft,onFocus:Kt,onMouseEnter:Kt,onMouseLeave:Ft,ownerState:Pt},Rt,{children:[jsx$1($t,_extends$n({in:!dt,timeout:Tt,unmountOnExit:!0},wt,{children:jsx$1(SpeedDialFab,_extends$n({color:"primary","aria-label":at,"aria-haspopup":"true","aria-expanded":It,"aria-controls":`${ir}-actions`},At,{onClick:Zt,className:clsx(Nt.fab,At.className),ref:jt,ownerState:Pt,children:reactExports.isValidElement(ft)&&isMuiElement(ft,["SpeedDialIcon"])?reactExports.cloneElement(ft,{open:It}):ft}))})),jsx$1(SpeedDialActions,{id:`${ir}-actions`,role:"menu","aria-orientation":getOrientation(ut),className:clsx(Nt.actions,!It&&Nt.actionsClosed),ownerState:Pt,children:mr})]}))}),SpeedDial$1=SpeedDial;function getTooltipUtilityClass(tt){return generateUtilityClass("MuiTooltip",tt)}const tooltipClasses=generateUtilityClasses("MuiTooltip",["popper","popperInteractive","popperArrow","popperClose","tooltip","tooltipArrow","touch","tooltipPlacementLeft","tooltipPlacementRight","tooltipPlacementTop","tooltipPlacementBottom","arrow"]),tooltipClasses$1=tooltipClasses,_excluded$g=["arrow","children","classes","components","componentsProps","describeChild","disableFocusListener","disableHoverListener","disableInteractive","disableTouchListener","enterDelay","enterNextDelay","enterTouchDelay","followCursor","id","leaveDelay","leaveTouchDelay","onClose","onOpen","open","placement","PopperComponent","PopperProps","slotProps","slots","title","TransitionComponent","TransitionProps"];function round$1(tt){return Math.round(tt*1e5)/1e5}const useUtilityClasses$9=tt=>{const{classes:et,disableInteractive:rt,arrow:nt,touch:it,placement:ot}=tt,at={popper:["popper",!rt&&"popperInteractive",nt&&"popperArrow"],tooltip:["tooltip",nt&&"tooltipArrow",it&&"touch",`tooltipPlacement${capitalize$1(ot.split("-")[0])}`],arrow:["arrow"]};return composeClasses(at,getTooltipUtilityClass,et)},TooltipPopper=styled$1(Popper$1,{name:"MuiTooltip",slot:"Popper",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.popper,!rt.disableInteractive&&et.popperInteractive,rt.arrow&&et.popperArrow,!rt.open&&et.popperClose]}})(({theme:tt,ownerState:et,open:rt})=>_extends$n({zIndex:(tt.vars||tt).zIndex.tooltip,pointerEvents:"none"},!et.disableInteractive&&{pointerEvents:"auto"},!rt&&{pointerEvents:"none"},et.arrow&&{[`&[data-popper-placement*="bottom"] .${tooltipClasses$1.arrow}`]:{top:0,marginTop:"-0.71em","&::before":{transformOrigin:"0 100%"}},[`&[data-popper-placement*="top"] .${tooltipClasses$1.arrow}`]:{bottom:0,marginBottom:"-0.71em","&::before":{transformOrigin:"100% 0"}},[`&[data-popper-placement*="right"] .${tooltipClasses$1.arrow}`]:_extends$n({},et.isRtl?{right:0,marginRight:"-0.71em"}:{left:0,marginLeft:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"100% 100%"}}),[`&[data-popper-placement*="left"] .${tooltipClasses$1.arrow}`]:_extends$n({},et.isRtl?{left:0,marginLeft:"-0.71em"}:{right:0,marginRight:"-0.71em"},{height:"1em",width:"0.71em","&::before":{transformOrigin:"0 0"}})})),TooltipTooltip=styled$1("div",{name:"MuiTooltip",slot:"Tooltip",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.tooltip,rt.touch&&et.touch,rt.arrow&&et.tooltipArrow,et[`tooltipPlacement${capitalize$1(rt.placement.split("-")[0])}`]]}})(({theme:tt,ownerState:et})=>_extends$n({backgroundColor:tt.vars?tt.vars.palette.Tooltip.bg:alpha(tt.palette.grey[700],.92),borderRadius:(tt.vars||tt).shape.borderRadius,color:(tt.vars||tt).palette.common.white,fontFamily:tt.typography.fontFamily,padding:"4px 8px",fontSize:tt.typography.pxToRem(11),maxWidth:300,margin:2,wordWrap:"break-word",fontWeight:tt.typography.fontWeightMedium},et.arrow&&{position:"relative",margin:0},et.touch&&{padding:"8px 16px",fontSize:tt.typography.pxToRem(14),lineHeight:`${round$1(16/14)}em`,fontWeight:tt.typography.fontWeightRegular},{[`.${tooltipClasses$1.popper}[data-popper-placement*="left"] &`]:_extends$n({transformOrigin:"right center"},et.isRtl?_extends$n({marginLeft:"14px"},et.touch&&{marginLeft:"24px"}):_extends$n({marginRight:"14px"},et.touch&&{marginRight:"24px"})),[`.${tooltipClasses$1.popper}[data-popper-placement*="right"] &`]:_extends$n({transformOrigin:"left center"},et.isRtl?_extends$n({marginRight:"14px"},et.touch&&{marginRight:"24px"}):_extends$n({marginLeft:"14px"},et.touch&&{marginLeft:"24px"})),[`.${tooltipClasses$1.popper}[data-popper-placement*="top"] &`]:_extends$n({transformOrigin:"center bottom",marginBottom:"14px"},et.touch&&{marginBottom:"24px"}),[`.${tooltipClasses$1.popper}[data-popper-placement*="bottom"] &`]:_extends$n({transformOrigin:"center top",marginTop:"14px"},et.touch&&{marginTop:"24px"})})),TooltipArrow=styled$1("span",{name:"MuiTooltip",slot:"Arrow",overridesResolver:(tt,et)=>et.arrow})(({theme:tt})=>({overflow:"hidden",position:"absolute",width:"1em",height:"0.71em",boxSizing:"border-box",color:tt.vars?tt.vars.palette.Tooltip.bg:alpha(tt.palette.grey[700],.9),"&::before":{content:'""',margin:"auto",display:"block",width:"100%",height:"100%",backgroundColor:"currentColor",transform:"rotate(45deg)"}}));let hystersisOpen=!1,hystersisTimer=null,cursorPosition={x:0,y:0};function composeEventHandler(tt,et){return rt=>{et&&et(rt),tt(rt)}}const Tooltip=reactExports.forwardRef(function(et,rt){var nt,it,ot,at,st,lt,ct,ut,dt,ft,pt,mt,ht,gt,vt,yt,bt,xt,$t;const Tt=useThemeProps({props:et,name:"MuiTooltip"}),{arrow:wt=!1,children:At,components:Rt={},componentsProps:It={},describeChild:Lt=!1,disableFocusListener:Pt=!1,disableHoverListener:Nt=!1,disableInteractive:Ot=!1,disableTouchListener:Bt=!1,enterDelay:zt=100,enterNextDelay:Vt=0,enterTouchDelay:Ut=700,followCursor:jt=!1,id:qt,leaveDelay:Dt=0,leaveTouchDelay:Ft=1500,onClose:Zt,onOpen:Kt,open:ir,placement:rr="bottom",PopperComponent:mr,PopperProps:sr={},slotProps:fr={},slots:pr={},title:vr,TransitionComponent:dr=Grow$1,TransitionProps:xr}=Tt,Gt=_objectWithoutPropertiesLoose$4(Tt,_excluded$g),Wt=useTheme(),nr=Wt.direction==="rtl",[Qt,Jt]=reactExports.useState(),[ar,cr]=reactExports.useState(null),lr=reactExports.useRef(!1),Yt=Ot||jt,Xt=reactExports.useRef(),tr=reactExports.useRef(),or=reactExports.useRef(),br=reactExports.useRef(),[Sr,yr]=useControlled({controlled:ir,default:!1,name:"Tooltip",state:"open"});let hr=Sr;const $r=useId(qt),Mr=reactExports.useRef(),Ar=reactExports.useCallback(()=>{Mr.current!==void 0&&(document.body.style.WebkitUserSelect=Mr.current,Mr.current=void 0),clearTimeout(br.current)},[]);reactExports.useEffect(()=>()=>{clearTimeout(Xt.current),clearTimeout(tr.current),clearTimeout(or.current),Ar()},[Ar]);const Fr=_n=>{clearTimeout(hystersisTimer),hystersisOpen=!0,yr(!0),Kt&&!hr&&Kt(_n)},zr=useEventCallback(_n=>{clearTimeout(hystersisTimer),hystersisTimer=setTimeout(()=>{hystersisOpen=!1},800+Dt),yr(!1),Zt&&hr&&Zt(_n),clearTimeout(Xt.current),Xt.current=setTimeout(()=>{lr.current=!1},Wt.transitions.duration.shortest)}),jr=_n=>{lr.current&&_n.type!=="touchstart"||(Qt&&Qt.removeAttribute("title"),clearTimeout(tr.current),clearTimeout(or.current),zt||hystersisOpen&&Vt?tr.current=setTimeout(()=>{Fr(_n)},hystersisOpen?Vt:zt):Fr(_n))},Jr=_n=>{clearTimeout(tr.current),clearTimeout(or.current),or.current=setTimeout(()=>{zr(_n)},Dt)},{isFocusVisibleRef:gn,onBlur:mn,onFocus:Cr,ref:Dr}=useIsFocusVisible(),[,Hr]=reactExports.useState(!1),Yr=_n=>{mn(_n),gn.current===!1&&(Hr(!1),Jr(_n))},dn=_n=>{Qt||Jt(_n.currentTarget),Cr(_n),gn.current===!0&&(Hr(!0),jr(_n))},On=_n=>{lr.current=!0;const qn=At.props;qn.onTouchStart&&qn.onTouchStart(_n)},Dn=jr,Bn=Jr,Fn=_n=>{On(_n),clearTimeout(or.current),clearTimeout(Xt.current),Ar(),Mr.current=document.body.style.WebkitUserSelect,document.body.style.WebkitUserSelect="none",br.current=setTimeout(()=>{document.body.style.WebkitUserSelect=Mr.current,jr(_n)},Ut)},Mn=_n=>{At.props.onTouchEnd&&At.props.onTouchEnd(_n),Ar(),clearTimeout(or.current),or.current=setTimeout(()=>{zr(_n)},Ft)};reactExports.useEffect(()=>{if(!hr)return;function _n(qn){(qn.key==="Escape"||qn.key==="Esc")&&zr(qn)}return document.addEventListener("keydown",_n),()=>{document.removeEventListener("keydown",_n)}},[zr,hr]);const Ln=useForkRef(At.ref,Dr,Jt,rt);!vr&&vr!==0&&(hr=!1);const Rn=reactExports.useRef(),Qn=_n=>{const qn=At.props;qn.onMouseMove&&qn.onMouseMove(_n),cursorPosition={x:_n.clientX,y:_n.clientY},Rn.current&&Rn.current.update()},Un={},yn=typeof vr=="string";Lt?(Un.title=!hr&&yn&&!Nt?vr:null,Un["aria-describedby"]=hr?$r:null):(Un["aria-label"]=yn?vr:null,Un["aria-labelledby"]=hr&&!yn?$r:null);const Tn=_extends$n({},Un,Gt,At.props,{className:clsx(Gt.className,At.props.className),onTouchStart:On,ref:Ln},jt?{onMouseMove:Qn}:{}),gr={};Bt||(Tn.onTouchStart=Fn,Tn.onTouchEnd=Mn),Nt||(Tn.onMouseOver=composeEventHandler(Dn,Tn.onMouseOver),Tn.onMouseLeave=composeEventHandler(Bn,Tn.onMouseLeave),Yt||(gr.onMouseOver=Dn,gr.onMouseLeave=Bn)),Pt||(Tn.onFocus=composeEventHandler(dn,Tn.onFocus),Tn.onBlur=composeEventHandler(Yr,Tn.onBlur),Yt||(gr.onFocus=dn,gr.onBlur=Yr));const kr=reactExports.useMemo(()=>{var _n;let qn=[{name:"arrow",enabled:Boolean(ar),options:{element:ar,padding:4}}];return(_n=sr.popperOptions)!=null&&_n.modifiers&&(qn=qn.concat(sr.popperOptions.modifiers)),_extends$n({},sr.popperOptions,{modifiers:qn})},[ar,sr]),Ur=_extends$n({},Tt,{isRtl:nr,arrow:wt,disableInteractive:Yt,placement:rr,PopperComponentProp:mr,touch:lr.current}),Lr=useUtilityClasses$9(Ur),Vr=(nt=(it=pr.popper)!=null?it:Rt.Popper)!=null?nt:TooltipPopper,Or=(ot=(at=(st=pr.transition)!=null?st:Rt.Transition)!=null?at:dr)!=null?ot:Grow$1,Rr=(lt=(ct=pr.tooltip)!=null?ct:Rt.Tooltip)!=null?lt:TooltipTooltip,Xr=(ut=(dt=pr.arrow)!=null?dt:Rt.Arrow)!=null?ut:TooltipArrow,ln=appendOwnerState(Vr,_extends$n({},sr,(ft=fr.popper)!=null?ft:It.popper,{className:clsx(Lr.popper,sr==null?void 0:sr.className,(pt=(mt=fr.popper)!=null?mt:It.popper)==null?void 0:pt.className)}),Ur),vn=appendOwnerState(Or,_extends$n({},xr,(ht=fr.transition)!=null?ht:It.transition),Ur),Sn=appendOwnerState(Rr,_extends$n({},(gt=fr.tooltip)!=null?gt:It.tooltip,{className:clsx(Lr.tooltip,(vt=(yt=fr.tooltip)!=null?yt:It.tooltip)==null?void 0:vt.className)}),Ur),Cn=appendOwnerState(Xr,_extends$n({},(bt=fr.arrow)!=null?bt:It.arrow,{className:clsx(Lr.arrow,(xt=($t=fr.arrow)!=null?$t:It.arrow)==null?void 0:xt.className)}),Ur);return jsxs$1(reactExports.Fragment,{children:[reactExports.cloneElement(At,Tn),jsx$1(Vr,_extends$n({as:mr??Popper$1,placement:rr,anchorEl:jt?{getBoundingClientRect:()=>({top:cursorPosition.y,left:cursorPosition.x,right:cursorPosition.x,bottom:cursorPosition.y,width:0,height:0})}:Qt,popperRef:Rn,open:Qt?hr:!1,id:$r,transition:!0},gr,ln,{popperOptions:kr,children:({TransitionProps:_n})=>jsx$1(Or,_extends$n({timeout:Wt.transitions.duration.shorter},_n,vn,{children:jsxs$1(Rr,_extends$n({},Sn,{children:[vr,wt?jsx$1(Xr,_extends$n({},Cn,{ref:cr})):null]}))}))}))]})}),Tooltip$1=Tooltip;function getSpeedDialActionUtilityClass(tt){return generateUtilityClass("MuiSpeedDialAction",tt)}const speedDialActionClasses=generateUtilityClasses("MuiSpeedDialAction",["fab","fabClosed","staticTooltip","staticTooltipClosed","staticTooltipLabel","tooltipPlacementLeft","tooltipPlacementRight"]),speedDialActionClasses$1=speedDialActionClasses,_excluded$f=["className","delay","FabProps","icon","id","open","TooltipClasses","tooltipOpen","tooltipPlacement","tooltipTitle"],useUtilityClasses$8=tt=>{const{open:et,tooltipPlacement:rt,classes:nt}=tt,it={fab:["fab",!et&&"fabClosed"],staticTooltip:["staticTooltip",`tooltipPlacement${capitalize$1(rt)}`,!et&&"staticTooltipClosed"],staticTooltipLabel:["staticTooltipLabel"]};return composeClasses(it,getSpeedDialActionUtilityClass,nt)},SpeedDialActionFab=styled$1(Fab$1,{name:"MuiSpeedDialAction",slot:"Fab",skipVariantsResolver:!1,overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.fab,!rt.open&&et.fabClosed]}})(({theme:tt,ownerState:et})=>_extends$n({margin:8,color:(tt.vars||tt).palette.text.secondary,backgroundColor:(tt.vars||tt).palette.background.paper,"&:hover":{backgroundColor:tt.vars?tt.vars.palette.SpeedDialAction.fabHoverBg:emphasize(tt.palette.background.paper,.15)},transition:`${tt.transitions.create("transform",{duration:tt.transitions.duration.shorter})}, opacity 0.8s`,opacity:1},!et.open&&{opacity:0,transform:"scale(0)"})),SpeedDialActionStaticTooltip=styled$1("span",{name:"MuiSpeedDialAction",slot:"StaticTooltip",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.staticTooltip,!rt.open&&et.staticTooltipClosed,et[`tooltipPlacement${capitalize$1(rt.tooltipPlacement)}`]]}})(({theme:tt,ownerState:et})=>({position:"relative",display:"flex",alignItems:"center",[`& .${speedDialActionClasses$1.staticTooltipLabel}`]:_extends$n({transition:tt.transitions.create(["transform","opacity"],{duration:tt.transitions.duration.shorter}),opacity:1},!et.open&&{opacity:0,transform:"scale(0.5)"},et.tooltipPlacement==="left"&&{transformOrigin:"100% 50%",right:"100%",marginRight:8},et.tooltipPlacement==="right"&&{transformOrigin:"0% 50%",left:"100%",marginLeft:8})})),SpeedDialActionStaticTooltipLabel=styled$1("span",{name:"MuiSpeedDialAction",slot:"StaticTooltipLabel",overridesResolver:(tt,et)=>et.staticTooltipLabel})(({theme:tt})=>_extends$n({position:"absolute"},tt.typography.body1,{backgroundColor:(tt.vars||tt).palette.background.paper,borderRadius:(tt.vars||tt).shape.borderRadius,boxShadow:(tt.vars||tt).shadows[1],color:(tt.vars||tt).palette.text.secondary,padding:"4px 16px",wordBreak:"keep-all"})),SpeedDialAction=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiSpeedDialAction"}),{className:it,delay:ot=0,FabProps:at={},icon:st,id:lt,open:ct,TooltipClasses:ut,tooltipOpen:dt=!1,tooltipPlacement:ft="left",tooltipTitle:pt}=nt,mt=_objectWithoutPropertiesLoose$4(nt,_excluded$f),ht=_extends$n({},nt,{tooltipPlacement:ft}),gt=useUtilityClasses$8(ht),[vt,yt]=reactExports.useState(dt),bt=()=>{yt(!1)},xt=()=>{yt(!0)},$t={transitionDelay:`${ot}ms`},Tt=jsx$1(SpeedDialActionFab,_extends$n({size:"small",className:clsx(gt.fab,it),tabIndex:-1,role:"menuitem",ownerState:ht},at,{style:_extends$n({},$t,at.style),children:st}));return dt?jsxs$1(SpeedDialActionStaticTooltip,_extends$n({id:lt,ref:rt,className:gt.staticTooltip,ownerState:ht},mt,{children:[jsx$1(SpeedDialActionStaticTooltipLabel,{style:$t,id:`${lt}-label`,className:gt.staticTooltipLabel,ownerState:ht,children:pt}),reactExports.cloneElement(Tt,{"aria-labelledby":`${lt}-label`})]})):(!ct&&vt&&yt(!1),jsx$1(Tooltip$1,_extends$n({id:lt,ref:rt,title:pt,placement:ft,onClose:bt,onOpen:xt,open:ct&&vt,classes:ut},mt,{children:Tt})))}),SpeedDialAction$1=SpeedDialAction,_excluded$e=["component","direction","spacing","divider","children"];function joinChildren(tt,et){const rt=reactExports.Children.toArray(tt).filter(Boolean);return rt.reduce((nt,it,ot)=>(nt.push(it),ot<rt.length-1&&nt.push(reactExports.cloneElement(et,{key:`separator-${ot}`})),nt),[])}const getSideFromDirection=tt=>({row:"Left","row-reverse":"Right",column:"Top","column-reverse":"Bottom"})[tt],style$1=({ownerState:tt,theme:et})=>{let rt=_extends$n({display:"flex",flexDirection:"column"},handleBreakpoints({theme:et},resolveBreakpointValues({values:tt.direction,breakpoints:et.breakpoints.values}),nt=>({flexDirection:nt})));if(tt.spacing){const nt=createUnarySpacing(et),it=Object.keys(et.breakpoints.values).reduce((lt,ct)=>((typeof tt.spacing=="object"&&tt.spacing[ct]!=null||typeof tt.direction=="object"&&tt.direction[ct]!=null)&&(lt[ct]=!0),lt),{}),ot=resolveBreakpointValues({values:tt.direction,base:it}),at=resolveBreakpointValues({values:tt.spacing,base:it});typeof ot=="object"&&Object.keys(ot).forEach((lt,ct,ut)=>{if(!ot[lt]){const ft=ct>0?ot[ut[ct-1]]:"column";ot[lt]=ft}}),rt=deepmerge$1(rt,handleBreakpoints({theme:et},at,(lt,ct)=>({"& > :not(style) + :not(style)":{margin:0,[`margin${getSideFromDirection(ct?ot[ct]:tt.direction)}`]:getValue$3(nt,lt)}})))}return rt=mergeBreakpointsInOrder(et.breakpoints,rt),rt},StackRoot=styled$1("div",{name:"MuiStack",slot:"Root",overridesResolver:(tt,et)=>[et.root]})(style$1),Stack$4=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiStack"}),it=extendSxProp(nt),{component:ot="div",direction:at="column",spacing:st=0,divider:lt,children:ct}=it,ut=_objectWithoutPropertiesLoose$4(it,_excluded$e);return jsx$1(StackRoot,_extends$n({as:ot,ownerState:{direction:at,spacing:st},ref:rt},ut,{children:lt?joinChildren(ct,lt):ct}))}),Stack$5=Stack$4;function getSwitchUtilityClass(tt){return generateUtilityClass("MuiSwitch",tt)}const switchClasses=generateUtilityClasses("MuiSwitch",["root","edgeStart","edgeEnd","switchBase","colorPrimary","colorSecondary","sizeSmall","sizeMedium","checked","disabled","input","thumb","track"]),switchClasses$1=switchClasses,_excluded$d=["className","color","edge","size","sx"],useUtilityClasses$7=tt=>{const{classes:et,edge:rt,size:nt,color:it,checked:ot,disabled:at}=tt,st={root:["root",rt&&`edge${capitalize$1(rt)}`,`size${capitalize$1(nt)}`],switchBase:["switchBase",`color${capitalize$1(it)}`,ot&&"checked",at&&"disabled"],thumb:["thumb"],track:["track"],input:["input"]},lt=composeClasses(st,getSwitchUtilityClass,et);return _extends$n({},et,lt)},SwitchRoot=styled$1("span",{name:"MuiSwitch",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.edge&&et[`edge${capitalize$1(rt.edge)}`],et[`size${capitalize$1(rt.size)}`]]}})(({ownerState:tt})=>_extends$n({display:"inline-flex",width:34+12*2,height:14+12*2,overflow:"hidden",padding:12,boxSizing:"border-box",position:"relative",flexShrink:0,zIndex:0,verticalAlign:"middle","@media print":{colorAdjust:"exact"}},tt.edge==="start"&&{marginLeft:-8},tt.edge==="end"&&{marginRight:-8},tt.size==="small"&&{width:40,height:24,padding:7,[`& .${switchClasses$1.thumb}`]:{width:16,height:16},[`& .${switchClasses$1.switchBase}`]:{padding:4,[`&.${switchClasses$1.checked}`]:{transform:"translateX(16px)"}}})),SwitchSwitchBase=styled$1(SwitchBase$1,{name:"MuiSwitch",slot:"SwitchBase",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.switchBase,{[`& .${switchClasses$1.input}`]:et.input},rt.color!=="default"&&et[`color${capitalize$1(rt.color)}`]]}})(({theme:tt})=>({position:"absolute",top:0,left:0,zIndex:1,color:tt.vars?tt.vars.palette.Switch.defaultColor:`${tt.palette.mode==="light"?tt.palette.common.white:tt.palette.grey[300]}`,transition:tt.transitions.create(["left","transform"],{duration:tt.transitions.duration.shortest}),[`&.${switchClasses$1.checked}`]:{transform:"translateX(20px)"},[`&.${switchClasses$1.disabled}`]:{color:tt.vars?tt.vars.palette.Switch.defaultDisabledColor:`${tt.palette.mode==="light"?tt.palette.grey[100]:tt.palette.grey[600]}`},[`&.${switchClasses$1.checked} + .${switchClasses$1.track}`]:{opacity:.5},[`&.${switchClasses$1.disabled} + .${switchClasses$1.track}`]:{opacity:tt.vars?tt.vars.opacity.switchTrackDisabled:`${tt.palette.mode==="light"?.12:.2}`},[`& .${switchClasses$1.input}`]:{left:"-100%",width:"300%"}}),({theme:tt,ownerState:et})=>_extends$n({"&:hover":{backgroundColor:tt.vars?`rgba(${tt.vars.palette.action.activeChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(tt.palette.action.active,tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},et.color!=="default"&&{[`&.${switchClasses$1.checked}`]:{color:(tt.vars||tt).palette[et.color].main,"&:hover":{backgroundColor:tt.vars?`rgba(${tt.vars.palette[et.color].mainChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(tt.palette[et.color].main,tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${switchClasses$1.disabled}`]:{color:tt.vars?tt.vars.palette.Switch[`${et.color}DisabledColor`]:`${tt.palette.mode==="light"?lighten(tt.palette[et.color].main,.62):darken(tt.palette[et.color].main,.55)}`}},[`&.${switchClasses$1.checked} + .${switchClasses$1.track}`]:{backgroundColor:(tt.vars||tt).palette[et.color].main}})),SwitchTrack=styled$1("span",{name:"MuiSwitch",slot:"Track",overridesResolver:(tt,et)=>et.track})(({theme:tt})=>({height:"100%",width:"100%",borderRadius:14/2,zIndex:-1,transition:tt.transitions.create(["opacity","background-color"],{duration:tt.transitions.duration.shortest}),backgroundColor:tt.vars?tt.vars.palette.common.onBackground:`${tt.palette.mode==="light"?tt.palette.common.black:tt.palette.common.white}`,opacity:tt.vars?tt.vars.opacity.switchTrack:`${tt.palette.mode==="light"?.38:.3}`})),SwitchThumb=styled$1("span",{name:"MuiSwitch",slot:"Thumb",overridesResolver:(tt,et)=>et.thumb})(({theme:tt})=>({boxShadow:(tt.vars||tt).shadows[1],backgroundColor:"currentColor",width:20,height:20,borderRadius:"50%"})),Switch=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiSwitch"}),{className:it,color:ot="primary",edge:at=!1,size:st="medium",sx:lt}=nt,ct=_objectWithoutPropertiesLoose$4(nt,_excluded$d),ut=_extends$n({},nt,{color:ot,edge:at,size:st}),dt=useUtilityClasses$7(ut),ft=jsx$1(SwitchThumb,{className:dt.thumb,ownerState:ut});return jsxs$1(SwitchRoot,{className:clsx(dt.root,it),sx:lt,ownerState:ut,children:[jsx$1(SwitchSwitchBase,_extends$n({type:"checkbox",icon:ft,checkedIcon:ft,ref:rt,ownerState:ut},ct,{classes:_extends$n({},dt,{root:dt.switchBase})})),jsx$1(SwitchTrack,{className:dt.track,ownerState:ut})]})}),Switch$1=Switch;function getTabUtilityClass(tt){return generateUtilityClass("MuiTab",tt)}const tabClasses=generateUtilityClasses("MuiTab",["root","labelIcon","textColorInherit","textColorPrimary","textColorSecondary","selected","disabled","fullWidth","wrapped","iconWrapper"]),tabClasses$1=tabClasses,_excluded$c=["className","disabled","disableFocusRipple","fullWidth","icon","iconPosition","indicator","label","onChange","onClick","onFocus","selected","selectionFollowsFocus","textColor","value","wrapped"],useUtilityClasses$6=tt=>{const{classes:et,textColor:rt,fullWidth:nt,wrapped:it,icon:ot,label:at,selected:st,disabled:lt}=tt,ct={root:["root",ot&&at&&"labelIcon",`textColor${capitalize$1(rt)}`,nt&&"fullWidth",it&&"wrapped",st&&"selected",lt&&"disabled"],iconWrapper:["iconWrapper"]};return composeClasses(ct,getTabUtilityClass,et)},TabRoot=styled$1(ButtonBase$1,{name:"MuiTab",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.label&&rt.icon&&et.labelIcon,et[`textColor${capitalize$1(rt.textColor)}`],rt.fullWidth&&et.fullWidth,rt.wrapped&&et.wrapped]}})(({theme:tt,ownerState:et})=>_extends$n({},tt.typography.button,{maxWidth:360,minWidth:90,position:"relative",minHeight:48,flexShrink:0,padding:"12px 16px",overflow:"hidden",whiteSpace:"normal",textAlign:"center"},et.label&&{flexDirection:et.iconPosition==="top"||et.iconPosition==="bottom"?"column":"row"},{lineHeight:1.25},et.icon&&et.label&&{minHeight:72,paddingTop:9,paddingBottom:9,[`& > .${tabClasses$1.iconWrapper}`]:_extends$n({},et.iconPosition==="top"&&{marginBottom:6},et.iconPosition==="bottom"&&{marginTop:6},et.iconPosition==="start"&&{marginRight:tt.spacing(1)},et.iconPosition==="end"&&{marginLeft:tt.spacing(1)})},et.textColor==="inherit"&&{color:"inherit",opacity:.6,[`&.${tabClasses$1.selected}`]:{opacity:1},[`&.${tabClasses$1.disabled}`]:{opacity:(tt.vars||tt).palette.action.disabledOpacity}},et.textColor==="primary"&&{color:(tt.vars||tt).palette.text.secondary,[`&.${tabClasses$1.selected}`]:{color:(tt.vars||tt).palette.primary.main},[`&.${tabClasses$1.disabled}`]:{color:(tt.vars||tt).palette.text.disabled}},et.textColor==="secondary"&&{color:(tt.vars||tt).palette.text.secondary,[`&.${tabClasses$1.selected}`]:{color:(tt.vars||tt).palette.secondary.main},[`&.${tabClasses$1.disabled}`]:{color:(tt.vars||tt).palette.text.disabled}},et.fullWidth&&{flexShrink:1,flexGrow:1,flexBasis:0,maxWidth:"none"},et.wrapped&&{fontSize:tt.typography.pxToRem(12)})),Tab$1=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiTab"}),{className:it,disabled:ot=!1,disableFocusRipple:at=!1,fullWidth:st,icon:lt,iconPosition:ct="top",indicator:ut,label:dt,onChange:ft,onClick:pt,onFocus:mt,selected:ht,selectionFollowsFocus:gt,textColor:vt="inherit",value:yt,wrapped:bt=!1}=nt,xt=_objectWithoutPropertiesLoose$4(nt,_excluded$c),$t=_extends$n({},nt,{disabled:ot,disableFocusRipple:at,selected:ht,icon:!!lt,iconPosition:ct,label:!!dt,fullWidth:st,textColor:vt,wrapped:bt}),Tt=useUtilityClasses$6($t),wt=lt&&dt&&reactExports.isValidElement(lt)?reactExports.cloneElement(lt,{className:clsx(Tt.iconWrapper,lt.props.className)}):lt,At=It=>{!ht&&ft&&ft(It,yt),pt&&pt(It)},Rt=It=>{gt&&!ht&&ft&&ft(It,yt),mt&&mt(It)};return jsxs$1(TabRoot,_extends$n({focusRipple:!at,className:clsx(Tt.root,it),ref:rt,role:"tab","aria-selected":ht,disabled:ot,onClick:At,onFocus:Rt,ownerState:$t,tabIndex:ht?0:-1},xt,{children:[ct==="top"||ct==="start"?jsxs$1(reactExports.Fragment,{children:[wt,dt]}):jsxs$1(reactExports.Fragment,{children:[dt,wt]}),ut]}))}),Tab$2=Tab$1;function getToolbarUtilityClass(tt){return generateUtilityClass("MuiToolbar",tt)}generateUtilityClasses("MuiToolbar",["root","gutters","regular","dense"]);const _excluded$b=["className","component","disableGutters","variant"],useUtilityClasses$5=tt=>{const{classes:et,disableGutters:rt,variant:nt}=tt;return composeClasses({root:["root",!rt&&"gutters",nt]},getToolbarUtilityClass,et)},ToolbarRoot=styled$1("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,!rt.disableGutters&&et.gutters,et[rt.variant]]}})(({theme:tt,ownerState:et})=>_extends$n({position:"relative",display:"flex",alignItems:"center"},!et.disableGutters&&{paddingLeft:tt.spacing(2),paddingRight:tt.spacing(2),[tt.breakpoints.up("sm")]:{paddingLeft:tt.spacing(3),paddingRight:tt.spacing(3)}},et.variant==="dense"&&{minHeight:48}),({theme:tt,ownerState:et})=>et.variant==="regular"&&tt.mixins.toolbar),Toolbar=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiToolbar"}),{className:it,component:ot="div",disableGutters:at=!1,variant:st="regular"}=nt,lt=_objectWithoutPropertiesLoose$4(nt,_excluded$b),ct=_extends$n({},nt,{component:ot,disableGutters:at,variant:st}),ut=useUtilityClasses$5(ct);return jsx$1(ToolbarRoot,_extends$n({as:ot,className:clsx(ut.root,it),ref:rt,ownerState:ct},lt))}),Toolbar$1=Toolbar,KeyboardArrowLeft=createSvgIcon$1(jsx$1("path",{d:"M15.41 16.09l-4.58-4.59 4.58-4.59L14 5.5l-6 6 6 6z"}),"KeyboardArrowLeft"),KeyboardArrowRight=createSvgIcon$1(jsx$1("path",{d:"M8.59 16.34l4.58-4.59-4.58-4.59L10 5.75l6 6-6 6z"}),"KeyboardArrowRight");function easeInOutSin(tt){return(1+Math.sin(Math.PI*tt-Math.PI/2))/2}function animate(tt,et,rt,nt={},it=()=>{}){const{ease:ot=easeInOutSin,duration:at=300}=nt;let st=null;const lt=et[tt];let ct=!1;const ut=()=>{ct=!0},dt=ft=>{if(ct){it(new Error("Animation cancelled"));return}st===null&&(st=ft);const pt=Math.min(1,(ft-st)/at);if(et[tt]=ot(pt)*(rt-lt)+lt,pt>=1){requestAnimationFrame(()=>{it(null)});return}requestAnimationFrame(dt)};return lt===rt?(it(new Error("Element already at target position")),ut):(requestAnimationFrame(dt),ut)}const _excluded$a=["onChange"],styles$1={width:99,height:99,position:"absolute",top:-9999,overflow:"scroll"};function ScrollbarSize(tt){const{onChange:et}=tt,rt=_objectWithoutPropertiesLoose$4(tt,_excluded$a),nt=reactExports.useRef(),it=reactExports.useRef(null),ot=()=>{nt.current=it.current.offsetHeight-it.current.clientHeight};return reactExports.useEffect(()=>{const at=debounce$4(()=>{const lt=nt.current;ot(),lt!==nt.current&&et(nt.current)}),st=ownerWindow(it.current);return st.addEventListener("resize",at),()=>{at.clear(),st.removeEventListener("resize",at)}},[et]),reactExports.useEffect(()=>{ot(),et(nt.current)},[et]),jsx$1("div",_extends$n({style:styles$1,ref:it},rt))}function getTabScrollButtonUtilityClass(tt){return generateUtilityClass("MuiTabScrollButton",tt)}const tabScrollButtonClasses=generateUtilityClasses("MuiTabScrollButton",["root","vertical","horizontal","disabled"]),tabScrollButtonClasses$1=tabScrollButtonClasses;var _KeyboardArrowLeft,_KeyboardArrowRight;const _excluded$9=["className","direction","orientation","disabled"],useUtilityClasses$4=tt=>{const{classes:et,orientation:rt,disabled:nt}=tt;return composeClasses({root:["root",rt,nt&&"disabled"]},getTabScrollButtonUtilityClass,et)},TabScrollButtonRoot=styled$1(ButtonBase$1,{name:"MuiTabScrollButton",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,rt.orientation&&et[rt.orientation]]}})(({ownerState:tt})=>_extends$n({width:40,flexShrink:0,opacity:.8,[`&.${tabScrollButtonClasses$1.disabled}`]:{opacity:0}},tt.orientation==="vertical"&&{width:"100%",height:40,"& svg":{transform:`rotate(${tt.isRtl?-90:90}deg)`}})),TabScrollButton=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiTabScrollButton"}),{className:it,direction:ot}=nt,at=_objectWithoutPropertiesLoose$4(nt,_excluded$9),lt=useTheme().direction==="rtl",ct=_extends$n({isRtl:lt},nt),ut=useUtilityClasses$4(ct);return jsx$1(TabScrollButtonRoot,_extends$n({component:"div",className:clsx(ut.root,it),ref:rt,role:null,ownerState:ct,tabIndex:null},at,{children:ot==="left"?_KeyboardArrowLeft||(_KeyboardArrowLeft=jsx$1(KeyboardArrowLeft,{fontSize:"small"})):_KeyboardArrowRight||(_KeyboardArrowRight=jsx$1(KeyboardArrowRight,{fontSize:"small"}))}))}),TabScrollButton$1=TabScrollButton;function getTabsUtilityClass(tt){return generateUtilityClass("MuiTabs",tt)}const tabsClasses=generateUtilityClasses("MuiTabs",["root","vertical","flexContainer","flexContainerVertical","centered","scroller","fixed","scrollableX","scrollableY","hideScrollbar","scrollButtons","scrollButtonsHideMobile","indicator"]),tabsClasses$1=tabsClasses,_excluded$8=["aria-label","aria-labelledby","action","centered","children","className","component","allowScrollButtonsMobile","indicatorColor","onChange","orientation","ScrollButtonComponent","scrollButtons","selectionFollowsFocus","TabIndicatorProps","TabScrollButtonProps","textColor","value","variant","visibleScrollbar"],nextItem=(tt,et)=>tt===et?tt.firstChild:et&&et.nextElementSibling?et.nextElementSibling:tt.firstChild,previousItem=(tt,et)=>tt===et?tt.lastChild:et&&et.previousElementSibling?et.previousElementSibling:tt.lastChild,moveFocus=(tt,et,rt)=>{let nt=!1,it=rt(tt,et);for(;it;){if(it===tt.firstChild){if(nt)return;nt=!0}const ot=it.disabled||it.getAttribute("aria-disabled")==="true";if(!it.hasAttribute("tabindex")||ot)it=rt(tt,it);else{it.focus();return}}},useUtilityClasses$3=tt=>{const{vertical:et,fixed:rt,hideScrollbar:nt,scrollableX:it,scrollableY:ot,centered:at,scrollButtonsHideMobile:st,classes:lt}=tt;return composeClasses({root:["root",et&&"vertical"],scroller:["scroller",rt&&"fixed",nt&&"hideScrollbar",it&&"scrollableX",ot&&"scrollableY"],flexContainer:["flexContainer",et&&"flexContainerVertical",at&&"centered"],indicator:["indicator"],scrollButtons:["scrollButtons",st&&"scrollButtonsHideMobile"],scrollableX:[it&&"scrollableX"],hideScrollbar:[nt&&"hideScrollbar"]},getTabsUtilityClass,lt)},TabsRoot=styled$1("div",{name:"MuiTabs",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[{[`& .${tabsClasses$1.scrollButtons}`]:et.scrollButtons},{[`& .${tabsClasses$1.scrollButtons}`]:rt.scrollButtonsHideMobile&&et.scrollButtonsHideMobile},et.root,rt.vertical&&et.vertical]}})(({ownerState:tt,theme:et})=>_extends$n({overflow:"hidden",minHeight:48,WebkitOverflowScrolling:"touch",display:"flex"},tt.vertical&&{flexDirection:"column"},tt.scrollButtonsHideMobile&&{[`& .${tabsClasses$1.scrollButtons}`]:{[et.breakpoints.down("sm")]:{display:"none"}}})),TabsScroller=styled$1("div",{name:"MuiTabs",slot:"Scroller",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.scroller,rt.fixed&&et.fixed,rt.hideScrollbar&&et.hideScrollbar,rt.scrollableX&&et.scrollableX,rt.scrollableY&&et.scrollableY]}})(({ownerState:tt})=>_extends$n({position:"relative",display:"inline-block",flex:"1 1 auto",whiteSpace:"nowrap"},tt.fixed&&{overflowX:"hidden",width:"100%"},tt.hideScrollbar&&{scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}},tt.scrollableX&&{overflowX:"auto",overflowY:"hidden"},tt.scrollableY&&{overflowY:"auto",overflowX:"hidden"})),FlexContainer=styled$1("div",{name:"MuiTabs",slot:"FlexContainer",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.flexContainer,rt.vertical&&et.flexContainerVertical,rt.centered&&et.centered]}})(({ownerState:tt})=>_extends$n({display:"flex"},tt.vertical&&{flexDirection:"column"},tt.centered&&{justifyContent:"center"})),TabsIndicator=styled$1("span",{name:"MuiTabs",slot:"Indicator",overridesResolver:(tt,et)=>et.indicator})(({ownerState:tt,theme:et})=>_extends$n({position:"absolute",height:2,bottom:0,width:"100%",transition:et.transitions.create()},tt.indicatorColor==="primary"&&{backgroundColor:(et.vars||et).palette.primary.main},tt.indicatorColor==="secondary"&&{backgroundColor:(et.vars||et).palette.secondary.main},tt.vertical&&{height:"100%",width:2,right:0})),TabsScrollbarSize=styled$1(ScrollbarSize,{name:"MuiTabs",slot:"ScrollbarSize"})({overflowX:"auto",overflowY:"hidden",scrollbarWidth:"none","&::-webkit-scrollbar":{display:"none"}}),defaultIndicatorStyle={},Tabs=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiTabs"}),it=useTheme(),ot=it.direction==="rtl",{"aria-label":at,"aria-labelledby":st,action:lt,centered:ct=!1,children:ut,className:dt,component:ft="div",allowScrollButtonsMobile:pt=!1,indicatorColor:mt="primary",onChange:ht,orientation:gt="horizontal",ScrollButtonComponent:vt=TabScrollButton$1,scrollButtons:yt="auto",selectionFollowsFocus:bt,TabIndicatorProps:xt={},TabScrollButtonProps:$t={},textColor:Tt="primary",value:wt,variant:At="standard",visibleScrollbar:Rt=!1}=nt,It=_objectWithoutPropertiesLoose$4(nt,_excluded$8),Lt=At==="scrollable",Pt=gt==="vertical",Nt=Pt?"scrollTop":"scrollLeft",Ot=Pt?"top":"left",Bt=Pt?"bottom":"right",zt=Pt?"clientHeight":"clientWidth",Vt=Pt?"height":"width",Ut=_extends$n({},nt,{component:ft,allowScrollButtonsMobile:pt,indicatorColor:mt,orientation:gt,vertical:Pt,scrollButtons:yt,textColor:Tt,variant:At,visibleScrollbar:Rt,fixed:!Lt,hideScrollbar:Lt&&!Rt,scrollableX:Lt&&!Pt,scrollableY:Lt&&Pt,centered:ct&&!Lt,scrollButtonsHideMobile:!pt}),jt=useUtilityClasses$3(Ut),[qt,Dt]=reactExports.useState(!1),[Ft,Zt]=reactExports.useState(defaultIndicatorStyle),[Kt,ir]=reactExports.useState({start:!1,end:!1}),[rr,mr]=reactExports.useState({overflow:"hidden",scrollbarWidth:0}),sr=new Map,fr=reactExports.useRef(null),pr=reactExports.useRef(null),vr=()=>{const yr=fr.current;let hr;if(yr){const Mr=yr.getBoundingClientRect();hr={clientWidth:yr.clientWidth,scrollLeft:yr.scrollLeft,scrollTop:yr.scrollTop,scrollLeftNormalized:getNormalizedScrollLeft(yr,it.direction),scrollWidth:yr.scrollWidth,top:Mr.top,bottom:Mr.bottom,left:Mr.left,right:Mr.right}}let $r;if(yr&&wt!==!1){const Mr=pr.current.children;if(Mr.length>0){const Ar=Mr[sr.get(wt)];$r=Ar?Ar.getBoundingClientRect():null}}return{tabsMeta:hr,tabMeta:$r}},dr=useEventCallback(()=>{const{tabsMeta:yr,tabMeta:hr}=vr();let $r=0,Mr;if(Pt)Mr="top",hr&&yr&&($r=hr.top-yr.top+yr.scrollTop);else if(Mr=ot?"right":"left",hr&&yr){const Fr=ot?yr.scrollLeftNormalized+yr.clientWidth-yr.scrollWidth:yr.scrollLeft;$r=(ot?-1:1)*(hr[Mr]-yr[Mr]+Fr)}const Ar={[Mr]:$r,[Vt]:hr?hr[Vt]:0};if(isNaN(Ft[Mr])||isNaN(Ft[Vt]))Zt(Ar);else{const Fr=Math.abs(Ft[Mr]-Ar[Mr]),zr=Math.abs(Ft[Vt]-Ar[Vt]);(Fr>=1||zr>=1)&&Zt(Ar)}}),xr=(yr,{animation:hr=!0}={})=>{hr?animate(Nt,fr.current,yr,{duration:it.transitions.duration.standard}):fr.current[Nt]=yr},Gt=yr=>{let hr=fr.current[Nt];Pt?hr+=yr:(hr+=yr*(ot?-1:1),hr*=ot&&detectScrollType()==="reverse"?-1:1),xr(hr)},Wt=()=>{const yr=fr.current[zt];let hr=0;const $r=Array.from(pr.current.children);for(let Mr=0;Mr<$r.length;Mr+=1){const Ar=$r[Mr];if(hr+Ar[zt]>yr){Mr===0&&(hr=yr);break}hr+=Ar[zt]}return hr},nr=()=>{Gt(-1*Wt())},Qt=()=>{Gt(Wt())},Jt=reactExports.useCallback(yr=>{mr({overflow:null,scrollbarWidth:yr})},[]),ar=()=>{const yr={};yr.scrollbarSizeListener=Lt?jsx$1(TabsScrollbarSize,{onChange:Jt,className:clsx(jt.scrollableX,jt.hideScrollbar)}):null;const hr=Kt.start||Kt.end,$r=Lt&&(yt==="auto"&&hr||yt===!0);return yr.scrollButtonStart=$r?jsx$1(vt,_extends$n({orientation:gt,direction:ot?"right":"left",onClick:nr,disabled:!Kt.start},$t,{className:clsx(jt.scrollButtons,$t.className)})):null,yr.scrollButtonEnd=$r?jsx$1(vt,_extends$n({orientation:gt,direction:ot?"left":"right",onClick:Qt,disabled:!Kt.end},$t,{className:clsx(jt.scrollButtons,$t.className)})):null,yr},cr=useEventCallback(yr=>{const{tabsMeta:hr,tabMeta:$r}=vr();if(!(!$r||!hr)){if($r[Ot]<hr[Ot]){const Mr=hr[Nt]+($r[Ot]-hr[Ot]);xr(Mr,{animation:yr})}else if($r[Bt]>hr[Bt]){const Mr=hr[Nt]+($r[Bt]-hr[Bt]);xr(Mr,{animation:yr})}}}),lr=useEventCallback(()=>{if(Lt&&yt!==!1){const{scrollTop:yr,scrollHeight:hr,clientHeight:$r,scrollWidth:Mr,clientWidth:Ar}=fr.current;let Fr,zr;if(Pt)Fr=yr>1,zr=yr<hr-$r-1;else{const jr=getNormalizedScrollLeft(fr.current,it.direction);Fr=ot?jr<Mr-Ar-1:jr>1,zr=ot?jr>1:jr<Mr-Ar-1}(Fr!==Kt.start||zr!==Kt.end)&&ir({start:Fr,end:zr})}});reactExports.useEffect(()=>{const yr=debounce$4(()=>{fr.current&&(dr(),lr())}),hr=ownerWindow(fr.current);hr.addEventListener("resize",yr);let $r;return typeof ResizeObserver<"u"&&($r=new ResizeObserver(yr),Array.from(pr.current.children).forEach(Mr=>{$r.observe(Mr)})),()=>{yr.clear(),hr.removeEventListener("resize",yr),$r&&$r.disconnect()}},[dr,lr]);const Yt=reactExports.useMemo(()=>debounce$4(()=>{lr()}),[lr]);reactExports.useEffect(()=>()=>{Yt.clear()},[Yt]),reactExports.useEffect(()=>{Dt(!0)},[]),reactExports.useEffect(()=>{dr(),lr()}),reactExports.useEffect(()=>{cr(defaultIndicatorStyle!==Ft)},[cr,Ft]),reactExports.useImperativeHandle(lt,()=>({updateIndicator:dr,updateScrollButtons:lr}),[dr,lr]);const Xt=jsx$1(TabsIndicator,_extends$n({},xt,{className:clsx(jt.indicator,xt.className),ownerState:Ut,style:_extends$n({},Ft,xt.style)}));let tr=0;const or=reactExports.Children.map(ut,yr=>{if(!reactExports.isValidElement(yr))return null;const hr=yr.props.value===void 0?tr:yr.props.value;sr.set(hr,tr);const $r=hr===wt;return tr+=1,reactExports.cloneElement(yr,_extends$n({fullWidth:At==="fullWidth",indicator:$r&&!qt&&Xt,selected:$r,selectionFollowsFocus:bt,onChange:ht,textColor:Tt,value:hr},tr===1&&wt===!1&&!yr.props.tabIndex?{tabIndex:0}:{}))}),br=yr=>{const hr=pr.current,$r=ownerDocument(hr).activeElement;if($r.getAttribute("role")!=="tab")return;let Ar=gt==="horizontal"?"ArrowLeft":"ArrowUp",Fr=gt==="horizontal"?"ArrowRight":"ArrowDown";switch(gt==="horizontal"&&ot&&(Ar="ArrowRight",Fr="ArrowLeft"),yr.key){case Ar:yr.preventDefault(),moveFocus(hr,$r,previousItem);break;case Fr:yr.preventDefault(),moveFocus(hr,$r,nextItem);break;case"Home":yr.preventDefault(),moveFocus(hr,null,nextItem);break;case"End":yr.preventDefault(),moveFocus(hr,null,previousItem);break}},Sr=ar();return jsxs$1(TabsRoot,_extends$n({className:clsx(jt.root,dt),ownerState:Ut,ref:rt,as:ft},It,{children:[Sr.scrollButtonStart,Sr.scrollbarSizeListener,jsxs$1(TabsScroller,{className:jt.scroller,ownerState:Ut,style:{overflow:rr.overflow,[Pt?`margin${ot?"Left":"Right"}`:"marginBottom"]:Rt?void 0:-rr.scrollbarWidth},ref:fr,onScroll:Yt,children:[jsx$1(FlexContainer,{"aria-label":at,"aria-labelledby":st,"aria-orientation":gt==="vertical"?"vertical":null,className:jt.flexContainer,ownerState:Ut,onKeyDown:br,ref:pr,role:"tablist",children:or}),qt&&Xt]}),Sr.scrollButtonEnd]}))}),Tabs$1=Tabs;function getTextFieldUtilityClass(tt){return generateUtilityClass("MuiTextField",tt)}const textFieldClasses=generateUtilityClasses("MuiTextField",["root"]),textFieldClasses$1=textFieldClasses,_excluded$7=["autoComplete","autoFocus","children","className","color","defaultValue","disabled","error","FormHelperTextProps","fullWidth","helperText","id","InputLabelProps","inputProps","InputProps","inputRef","label","maxRows","minRows","multiline","name","onBlur","onChange","onFocus","placeholder","required","rows","select","SelectProps","type","value","variant"],variantComponent={standard:Input$2,filled:FilledInput$1,outlined:OutlinedInput$1},useUtilityClasses$2=tt=>{const{classes:et}=tt;return composeClasses({root:["root"]},getTextFieldUtilityClass,et)},TextFieldRoot=styled$1(FormControl$1,{name:"MuiTextField",slot:"Root",overridesResolver:(tt,et)=>et.root})({}),TextField$1=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiTextField"}),{autoComplete:it,autoFocus:ot=!1,children:at,className:st,color:lt="primary",defaultValue:ct,disabled:ut=!1,error:dt=!1,FormHelperTextProps:ft,fullWidth:pt=!1,helperText:mt,id:ht,InputLabelProps:gt,inputProps:vt,InputProps:yt,inputRef:bt,label:xt,maxRows:$t,minRows:Tt,multiline:wt=!1,name:At,onBlur:Rt,onChange:It,onFocus:Lt,placeholder:Pt,required:Nt=!1,rows:Ot,select:Bt=!1,SelectProps:zt,type:Vt,value:Ut,variant:jt="outlined"}=nt,qt=_objectWithoutPropertiesLoose$4(nt,_excluded$7),Dt=_extends$n({},nt,{autoFocus:ot,color:lt,disabled:ut,error:dt,fullWidth:pt,multiline:wt,required:Nt,select:Bt,variant:jt}),Ft=useUtilityClasses$2(Dt),Zt={};jt==="outlined"&&(gt&&typeof gt.shrink<"u"&&(Zt.notched=gt.shrink),Zt.label=xt),Bt&&((!zt||!zt.native)&&(Zt.id=void 0),Zt["aria-describedby"]=void 0);const Kt=useId(ht),ir=mt&&Kt?`${Kt}-helper-text`:void 0,rr=xt&&Kt?`${Kt}-label`:void 0,mr=variantComponent[jt],sr=jsx$1(mr,_extends$n({"aria-describedby":ir,autoComplete:it,autoFocus:ot,defaultValue:ct,fullWidth:pt,multiline:wt,name:At,rows:Ot,maxRows:$t,minRows:Tt,type:Vt,value:Ut,id:Kt,inputRef:bt,onBlur:Rt,onChange:It,onFocus:Lt,placeholder:Pt,inputProps:vt},Zt,yt));return jsxs$1(TextFieldRoot,_extends$n({className:clsx(Ft.root,st),disabled:ut,error:dt,fullWidth:pt,ref:rt,required:Nt,color:lt,variant:jt,ownerState:Dt},qt,{children:[xt!=null&&xt!==""&&jsx$1(InputLabel$1,_extends$n({htmlFor:Kt,id:rr},gt,{children:xt})),Bt?jsx$1(Select$2,_extends$n({"aria-describedby":ir,id:Kt,labelId:rr,value:Ut,input:sr},zt,{children:at})):sr,mt&&jsx$1(FormHelperText$1,_extends$n({id:ir},ft,{children:mt}))]}))}),TextField$2=TextField$1,TextField=Object.freeze(Object.defineProperty({__proto__:null,default:TextField$2,getTextFieldUtilityClass,textFieldClasses:textFieldClasses$1},Symbol.toStringTag,{value:"Module"}));function getToggleButtonUtilityClass(tt){return generateUtilityClass("MuiToggleButton",tt)}const toggleButtonClasses=generateUtilityClasses("MuiToggleButton",["root","disabled","selected","standard","primary","secondary","sizeSmall","sizeMedium","sizeLarge"]),toggleButtonClasses$1=toggleButtonClasses,_excluded$5=["children","className","color","disabled","disableFocusRipple","fullWidth","onChange","onClick","selected","size","value"],useUtilityClasses$1=tt=>{const{classes:et,fullWidth:rt,selected:nt,disabled:it,size:ot,color:at}=tt,st={root:["root",nt&&"selected",it&&"disabled",rt&&"fullWidth",`size${capitalize$1(ot)}`,at]};return composeClasses(st,getToggleButtonUtilityClass,et)},ToggleButtonRoot=styled$1(ButtonBase$1,{name:"MuiToggleButton",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[et.root,et[`size${capitalize$1(rt.size)}`]]}})(({theme:tt,ownerState:et})=>{let rt=et.color==="standard"?tt.palette.text.primary:tt.palette[et.color].main,nt;return tt.vars&&(rt=et.color==="standard"?tt.vars.palette.text.primary:tt.vars.palette[et.color].main,nt=et.color==="standard"?tt.vars.palette.text.primaryChannel:tt.vars.palette[et.color].mainChannel),_extends$n({},tt.typography.button,{borderRadius:(tt.vars||tt).shape.borderRadius,padding:11,border:`1px solid ${(tt.vars||tt).palette.divider}`,color:(tt.vars||tt).palette.action.active},et.fullWidth&&{width:"100%"},{[`&.${toggleButtonClasses$1.disabled}`]:{color:(tt.vars||tt).palette.action.disabled,border:`1px solid ${(tt.vars||tt).palette.action.disabledBackground}`},"&:hover":{textDecoration:"none",backgroundColor:tt.vars?`rgba(${tt.vars.palette.text.primaryChannel} / ${tt.vars.palette.action.hoverOpacity})`:alpha(tt.palette.text.primary,tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}},[`&.${toggleButtonClasses$1.selected}`]:{color:rt,backgroundColor:tt.vars?`rgba(${nt} / ${tt.vars.palette.action.selectedOpacity})`:alpha(rt,tt.palette.action.selectedOpacity),"&:hover":{backgroundColor:tt.vars?`rgba(${nt} / calc(${tt.vars.palette.action.selectedOpacity} + ${tt.vars.palette.action.hoverOpacity}))`:alpha(rt,tt.palette.action.selectedOpacity+tt.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:tt.vars?`rgba(${nt} / ${tt.vars.palette.action.selectedOpacity})`:alpha(rt,tt.palette.action.selectedOpacity)}}}},et.size==="small"&&{padding:7,fontSize:tt.typography.pxToRem(13)},et.size==="large"&&{padding:15,fontSize:tt.typography.pxToRem(15)})}),ToggleButton=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiToggleButton"}),{children:it,className:ot,color:at="standard",disabled:st=!1,disableFocusRipple:lt=!1,fullWidth:ct=!1,onChange:ut,onClick:dt,selected:ft,size:pt="medium",value:mt}=nt,ht=_objectWithoutPropertiesLoose$4(nt,_excluded$5),gt=_extends$n({},nt,{color:at,disabled:st,disableFocusRipple:lt,fullWidth:ct,size:pt}),vt=useUtilityClasses$1(gt),yt=bt=>{dt&&(dt(bt,mt),bt.defaultPrevented)||ut&&ut(bt,mt)};return jsx$1(ToggleButtonRoot,_extends$n({className:clsx(vt.root,ot),disabled:st,focusRipple:!lt,ref:rt,onClick:yt,onChange:ut,value:mt,ownerState:gt,"aria-pressed":ft},ht,{children:it}))}),ToggleButton$1=ToggleButton;function isValueSelected(tt,et){return et===void 0||tt===void 0?!1:Array.isArray(et)?et.indexOf(tt)>=0:tt===et}function getToggleButtonGroupUtilityClass(tt){return generateUtilityClass("MuiToggleButtonGroup",tt)}const toggleButtonGroupClasses=generateUtilityClasses("MuiToggleButtonGroup",["root","selected","vertical","disabled","grouped","groupedHorizontal","groupedVertical"]),toggleButtonGroupClasses$1=toggleButtonGroupClasses,_excluded$4=["children","className","color","disabled","exclusive","fullWidth","onChange","orientation","size","value"],useUtilityClasses=tt=>{const{classes:et,orientation:rt,fullWidth:nt,disabled:it}=tt,ot={root:["root",rt==="vertical"&&"vertical",nt&&"fullWidth"],grouped:["grouped",`grouped${capitalize$1(rt)}`,it&&"disabled"]};return composeClasses(ot,getToggleButtonGroupUtilityClass,et)},ToggleButtonGroupRoot=styled$1("div",{name:"MuiToggleButtonGroup",slot:"Root",overridesResolver:(tt,et)=>{const{ownerState:rt}=tt;return[{[`& .${toggleButtonGroupClasses$1.grouped}`]:et.grouped},{[`& .${toggleButtonGroupClasses$1.grouped}`]:et[`grouped${capitalize$1(rt.orientation)}`]},et.root,rt.orientation==="vertical"&&et.vertical,rt.fullWidth&&et.fullWidth]}})(({ownerState:tt,theme:et})=>_extends$n({display:"inline-flex",borderRadius:(et.vars||et).shape.borderRadius},tt.orientation==="vertical"&&{flexDirection:"column"},tt.fullWidth&&{width:"100%"},{[`& .${toggleButtonGroupClasses$1.grouped}`]:_extends$n({},tt.orientation==="horizontal"?{"&:not(:first-of-type)":{marginLeft:-1,borderLeft:"1px solid transparent",borderTopLeftRadius:0,borderBottomLeftRadius:0},"&:not(:last-of-type)":{borderTopRightRadius:0,borderBottomRightRadius:0},[`&.${toggleButtonGroupClasses$1.selected} + .${toggleButtonGroupClasses$1.grouped}.${toggleButtonGroupClasses$1.selected}`]:{borderLeft:0,marginLeft:0}}:{"&:not(:first-of-type)":{marginTop:-1,borderTop:"1px solid transparent",borderTopLeftRadius:0,borderTopRightRadius:0},"&:not(:last-of-type)":{borderBottomLeftRadius:0,borderBottomRightRadius:0},[`&.${toggleButtonGroupClasses$1.selected} + .${toggleButtonGroupClasses$1.grouped}.${toggleButtonGroupClasses$1.selected}`]:{borderTop:0,marginTop:0}})})),ToggleButtonGroup=reactExports.forwardRef(function(et,rt){const nt=useThemeProps({props:et,name:"MuiToggleButtonGroup"}),{children:it,className:ot,color:at="standard",disabled:st=!1,exclusive:lt=!1,fullWidth:ct=!1,onChange:ut,orientation:dt="horizontal",size:ft="medium",value:pt}=nt,mt=_objectWithoutPropertiesLoose$4(nt,_excluded$4),ht=_extends$n({},nt,{disabled:st,fullWidth:ct,orientation:dt,size:ft}),gt=useUtilityClasses(ht),vt=(bt,xt)=>{if(!ut)return;const $t=pt&&pt.indexOf(xt);let Tt;pt&&$t>=0?(Tt=pt.slice(),Tt.splice($t,1)):Tt=pt?pt.concat(xt):[xt],ut(bt,Tt)},yt=(bt,xt)=>{ut&&ut(bt,pt===xt?null:xt)};return jsx$1(ToggleButtonGroupRoot,_extends$n({role:"group",className:clsx(gt.root,ot),ref:rt,ownerState:ht},mt,{children:reactExports.Children.map(it,bt=>reactExports.isValidElement(bt)?reactExports.cloneElement(bt,{className:clsx(gt.grouped,bt.props.className),onChange:lt?yt:vt,selected:bt.props.selected===void 0?isValueSelected(bt.props.value,pt):bt.props.selected,size:bt.props.size||ft,fullWidth:ct,color:bt.props.color||at,disabled:bt.props.disabled||st}):null)}))}),ToggleButtonGroup$1=ToggleButtonGroup,defaultEnqueueParams={anchorOrigin:{vertical:"top",horizontal:"center"},autoHideDuration:3e3,TransitionComponent:Slide$1},useNotice=()=>{let tt=useSnackbar();return{enqueueSnackbar:(rt,nt)=>tt.enqueueSnackbar(rt,{...defaultEnqueueParams,...nt}),closeSnackbar:tt.closeSnackbar}},notice={success(tt,et={...defaultEnqueueParams}){this.toast(tt,{...et,variant:"success"})},warning(tt,et={...defaultEnqueueParams}){this.toast(tt,{...et,variant:"warning"})},info(tt,et={...defaultEnqueueParams}){this.toast(tt,{...et,variant:"info"})},error(tt,et={...defaultEnqueueParams}){this.toast(tt,{...et,variant:"error"})},toast(tt,et={...defaultEnqueueParams}){enqueueSnackbar(tt,et)}},convertFileToArrayBuffer=tt=>new Promise((et,rt)=>{const nt=new FileReader;nt.onload=function(){et(nt.result)},nt.onerror=function(it){rt(it)},nt.readAsArrayBuffer(tt)});function downloadByOfficialMusic(tt){const et=new Uint8Array([235,186,174,235,186,174,235,186,174,85,85]),rt=11;return new Promise((nt,it)=>{tt.arrayBuffer().then(async ot=>{const at=new Uint8Array(ot.slice(0,rt));if(isEqual$1(at,et)){const st=tt.slice(rt,tt.size);nt(st)}else notice.info("歌曲获取异常，请反馈给官方进行处理"),it(null)}).catch(ot=>{it(ot)})})}function WaveformDataChannel(tt,et){this._waveformData=tt,this._channelIndex=et}WaveformDataChannel.prototype.min_sample=function(tt){var et=(tt*this._waveformData.channels+this._channelIndex)*2;return this._waveformData._at(et)};WaveformDataChannel.prototype.max_sample=function(tt){var et=(tt*this._waveformData.channels+this._channelIndex)*2+1;return this._waveformData._at(et)};WaveformDataChannel.prototype.set_min_sample=function(tt,et){var rt=(tt*this._waveformData.channels+this._channelIndex)*2;return this._waveformData._set_at(rt,et)};WaveformDataChannel.prototype.set_max_sample=function(tt,et){var rt=(tt*this._waveformData.channels+this._channelIndex)*2+1;return this._waveformData._set_at(rt,et)};WaveformDataChannel.prototype.min_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,this._channelIndex*2)};WaveformDataChannel.prototype.max_array=function(){return this._waveformData._offsetValues(0,this._waveformData.length,this._channelIndex*2+1)};var INT8_MAX=127,INT8_MIN=-128;function calculateWaveformDataLength(tt,et){var rt=Math.floor(tt/et),nt=tt-rt*et;return nt>0&&rt++,rt}function generateWaveformData(tt){var et=tt.scale,rt=tt.amplitude_scale,nt=tt.split_channels,it=tt.length,ot=tt.sample_rate,at=tt.channels.map(function($t){return new Float32Array($t)}),st=nt?at.length:1,lt=st===1?1:2,ct=lt===1?20:24,ut=calculateWaveformDataLength(it,et),dt=ct+ut*2*st,ft=new ArrayBuffer(dt),pt=new DataView(ft),mt=0,ht=ct,gt,vt,yt=new Array(st),bt=new Array(st);for(gt=0;gt<st;gt++)yt[gt]=1/0,bt[gt]=-1/0;for(pt.setInt32(0,lt,!0),pt.setUint32(4,1,!0),pt.setInt32(8,ot,!0),pt.setInt32(12,et,!0),pt.setInt32(16,ut,!0),lt===2&&pt.setInt32(20,st,!0),vt=0;vt<it;vt++){var xt=0;if(st===1){for(gt=0;gt<at.length;++gt)xt+=at[gt][vt];xt=Math.floor(INT8_MAX*xt*rt/at.length),xt<yt[0]&&(yt[0]=xt,yt[0]<INT8_MIN&&(yt[0]=INT8_MIN)),xt>bt[0]&&(bt[0]=xt,bt[0]>INT8_MAX&&(bt[0]=INT8_MAX))}else for(gt=0;gt<st;++gt)xt=Math.floor(INT8_MAX*at[gt][vt]*rt),xt<yt[gt]&&(yt[gt]=xt,yt[gt]<INT8_MIN&&(yt[gt]=INT8_MIN)),xt>bt[gt]&&(bt[gt]=xt,bt[gt]>INT8_MAX&&(bt[gt]=INT8_MAX));if(++mt===et){for(gt=0;gt<st;gt++)pt.setInt8(ht++,yt[gt]),pt.setInt8(ht++,bt[gt]),yt[gt]=1/0,bt[gt]=-1/0;mt=0}}if(mt>0)for(gt=0;gt<st;gt++)pt.setInt8(ht++,yt[gt]),pt.setInt8(ht++,bt[gt]);return ft}function _typeof$1(tt){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?_typeof$1=function(et){return typeof et}:_typeof$1=function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof$1(tt)}function isJsonWaveformData(tt){return tt&&_typeof$1(tt)==="object"&&"sample_rate"in tt&&"samples_per_pixel"in tt&&"bits"in tt&&"length"in tt&&"data"in tt}function isBinaryWaveformData(tt){var et=tt&&_typeof$1(tt)==="object"&&"byteLength"in tt;if(et){var rt=new DataView(tt),nt=rt.getInt32(0,!0);if(nt!==1&&nt!==2)throw new TypeError("WaveformData.create(): This waveform data version not supported")}return et}function convertJsonToBinary(tt){var et=tt.data,rt=tt.channels||1,nt=24,it=tt.bits===8?1:2,ot=tt.length*2*rt;if(et.length!==ot)throw new Error("WaveformData.create(): Length mismatch in JSON waveform data");var at=nt+et.length*it,st=new ArrayBuffer(at),lt=new DataView(st);lt.setInt32(0,2,!0),lt.setUint32(4,tt.bits===8,!0),lt.setInt32(8,tt.sample_rate,!0),lt.setInt32(12,tt.samples_per_pixel,!0),lt.setInt32(16,tt.length,!0),lt.setInt32(20,rt,!0);var ct=nt,ut;if(tt.bits===8)for(ut=0;ut<et.length;ut++)lt.setInt8(ct++,et[ut],!0);else for(ut=0;ut<et.length;ut++)lt.setInt16(ct,et[ut],!0),ct+=2;return st}function decodeBase64(tt,et){var rt=atob(tt);if(et){for(var nt=new Uint8Array(rt.length),it=0,ot=rt.length;it<ot;++it)nt[it]=rt.charCodeAt(it);return String.fromCharCode.apply(null,new Uint16Array(nt.buffer))}return rt}function createURL(tt,et,rt){var nt=et===void 0?null:et,it=rt===void 0?!1:rt,ot=decodeBase64(tt,it),at=ot.indexOf(`
`,10)+1,st=ot.substring(at)+(nt?"//# sourceMappingURL="+nt:""),lt=new Blob([st],{type:"application/javascript"});return URL.createObjectURL(lt)}function createBase64WorkerFactory(tt,et,rt){var nt;return function(ot){return nt=nt||createURL(tt,et,rt),new Worker(nt,ot)}}var WorkerFactory=createBase64WorkerFactory("Lyogcm9sbHVwLXBsdWdpbi13ZWItd29ya2VyLWxvYWRlciAqLwooZnVuY3Rpb24gKCkgewogICd1c2Ugc3RyaWN0JzsKCiAgLyoqCiAgICogQXVkaW9CdWZmZXItYmFzZWQgV2F2ZWZvcm1EYXRhIGdlbmVyYXRvcgogICAqCiAgICogQWRhcHRlZCBmcm9tIEJsb2NrRmlsZTo6Q2FsY1N1bW1hcnkgaW4gQXVkYWNpdHksIHdpdGggcGVybWlzc2lvbi4KICAgKiBTZWUgaHR0cHM6Ly9jb2RlLmdvb2dsZS5jb20vcC9hdWRhY2l0eS9zb3VyY2UvYnJvd3NlL2F1ZGFjaXR5LXNyYy90cnVuay9zcmMvQmxvY2tGaWxlLmNwcAogICAqLwogIHZhciBJTlQ4X01BWCA9IDEyNzsKICB2YXIgSU5UOF9NSU4gPSAtMTI4OwoKICBmdW5jdGlvbiBjYWxjdWxhdGVXYXZlZm9ybURhdGFMZW5ndGgoYXVkaW9fc2FtcGxlX2NvdW50LCBzY2FsZSkgewogICAgdmFyIGRhdGFfbGVuZ3RoID0gTWF0aC5mbG9vcihhdWRpb19zYW1wbGVfY291bnQgLyBzY2FsZSk7CiAgICB2YXIgc2FtcGxlc19yZW1haW5pbmcgPSBhdWRpb19zYW1wbGVfY291bnQgLSBkYXRhX2xlbmd0aCAqIHNjYWxlOwoKICAgIGlmIChzYW1wbGVzX3JlbWFpbmluZyA+IDApIHsKICAgICAgZGF0YV9sZW5ndGgrKzsKICAgIH0KCiAgICByZXR1cm4gZGF0YV9sZW5ndGg7CiAgfQoKICBmdW5jdGlvbiBnZW5lcmF0ZVdhdmVmb3JtRGF0YShvcHRpb25zKSB7CiAgICB2YXIgc2NhbGUgPSBvcHRpb25zLnNjYWxlOwogICAgdmFyIGFtcGxpdHVkZV9zY2FsZSA9IG9wdGlvbnMuYW1wbGl0dWRlX3NjYWxlOwogICAgdmFyIHNwbGl0X2NoYW5uZWxzID0gb3B0aW9ucy5zcGxpdF9jaGFubmVsczsKICAgIHZhciBsZW5ndGggPSBvcHRpb25zLmxlbmd0aDsKICAgIHZhciBzYW1wbGVfcmF0ZSA9IG9wdGlvbnMuc2FtcGxlX3JhdGU7CiAgICB2YXIgY2hhbm5lbHMgPSBvcHRpb25zLmNoYW5uZWxzLm1hcChmdW5jdGlvbiAoY2hhbm5lbCkgewogICAgICByZXR1cm4gbmV3IEZsb2F0MzJBcnJheShjaGFubmVsKTsKICAgIH0pOwogICAgdmFyIG91dHB1dF9jaGFubmVscyA9IHNwbGl0X2NoYW5uZWxzID8gY2hhbm5lbHMubGVuZ3RoIDogMTsKICAgIHZhciB2ZXJzaW9uID0gb3V0cHV0X2NoYW5uZWxzID09PSAxID8gMSA6IDI7CiAgICB2YXIgaGVhZGVyX3NpemUgPSB2ZXJzaW9uID09PSAxID8gMjAgOiAyNDsKICAgIHZhciBkYXRhX2xlbmd0aCA9IGNhbGN1bGF0ZVdhdmVmb3JtRGF0YUxlbmd0aChsZW5ndGgsIHNjYWxlKTsKICAgIHZhciB0b3RhbF9zaXplID0gaGVhZGVyX3NpemUgKyBkYXRhX2xlbmd0aCAqIDIgKiBvdXRwdXRfY2hhbm5lbHM7CiAgICB2YXIgYnVmZmVyID0gbmV3IEFycmF5QnVmZmVyKHRvdGFsX3NpemUpOwogICAgdmFyIGRhdGFfdmlldyA9IG5ldyBEYXRhVmlldyhidWZmZXIpOwogICAgdmFyIHNjYWxlX2NvdW50ZXIgPSAwOwogICAgdmFyIG9mZnNldCA9IGhlYWRlcl9zaXplOwogICAgdmFyIGNoYW5uZWwsIGk7CiAgICB2YXIgbWluX3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CiAgICB2YXIgbWF4X3ZhbHVlID0gbmV3IEFycmF5KG91dHB1dF9jaGFubmVscyk7CgogICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICBtYXhfdmFsdWVbY2hhbm5lbF0gPSAtSW5maW5pdHk7CiAgICB9CgogICAgZGF0YV92aWV3LnNldEludDMyKDAsIHZlcnNpb24sIHRydWUpOyAvLyBWZXJzaW9uCgogICAgZGF0YV92aWV3LnNldFVpbnQzMig0LCAxLCB0cnVlKTsgLy8gSXMgOCBiaXQ/CgogICAgZGF0YV92aWV3LnNldEludDMyKDgsIHNhbXBsZV9yYXRlLCB0cnVlKTsgLy8gU2FtcGxlIHJhdGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTIsIHNjYWxlLCB0cnVlKTsgLy8gU2NhbGUKCiAgICBkYXRhX3ZpZXcuc2V0SW50MzIoMTYsIGRhdGFfbGVuZ3RoLCB0cnVlKTsgLy8gTGVuZ3RoCgogICAgaWYgKHZlcnNpb24gPT09IDIpIHsKICAgICAgZGF0YV92aWV3LnNldEludDMyKDIwLCBvdXRwdXRfY2hhbm5lbHMsIHRydWUpOwogICAgfQoKICAgIGZvciAoaSA9IDA7IGkgPCBsZW5ndGg7IGkrKykgewogICAgICB2YXIgc2FtcGxlID0gMDsKCiAgICAgIGlmIChvdXRwdXRfY2hhbm5lbHMgPT09IDEpIHsKICAgICAgICBmb3IgKGNoYW5uZWwgPSAwOyBjaGFubmVsIDwgY2hhbm5lbHMubGVuZ3RoOyArK2NoYW5uZWwpIHsKICAgICAgICAgIHNhbXBsZSArPSBjaGFubmVsc1tjaGFubmVsXVtpXTsKICAgICAgICB9CgogICAgICAgIHNhbXBsZSA9IE1hdGguZmxvb3IoSU5UOF9NQVggKiBzYW1wbGUgKiBhbXBsaXR1ZGVfc2NhbGUgLyBjaGFubmVscy5sZW5ndGgpOwoKICAgICAgICBpZiAoc2FtcGxlIDwgbWluX3ZhbHVlWzBdKSB7CiAgICAgICAgICBtaW5fdmFsdWVbMF0gPSBzYW1wbGU7CgogICAgICAgICAgaWYgKG1pbl92YWx1ZVswXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgIG1pbl92YWx1ZVswXSA9IElOVDhfTUlOOwogICAgICAgICAgfQogICAgICAgIH0KCiAgICAgICAgaWYgKHNhbXBsZSA+IG1heF92YWx1ZVswXSkgewogICAgICAgICAgbWF4X3ZhbHVlWzBdID0gc2FtcGxlOwoKICAgICAgICAgIGlmIChtYXhfdmFsdWVbMF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICBtYXhfdmFsdWVbMF0gPSBJTlQ4X01BWDsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgKytjaGFubmVsKSB7CiAgICAgICAgICBzYW1wbGUgPSBNYXRoLmZsb29yKElOVDhfTUFYICogY2hhbm5lbHNbY2hhbm5lbF1baV0gKiBhbXBsaXR1ZGVfc2NhbGUpOwoKICAgICAgICAgIGlmIChzYW1wbGUgPCBtaW5fdmFsdWVbY2hhbm5lbF0pIHsKICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gc2FtcGxlOwoKICAgICAgICAgICAgaWYgKG1pbl92YWx1ZVtjaGFubmVsXSA8IElOVDhfTUlOKSB7CiAgICAgICAgICAgICAgbWluX3ZhbHVlW2NoYW5uZWxdID0gSU5UOF9NSU47CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KCiAgICAgICAgICBpZiAoc2FtcGxlID4gbWF4X3ZhbHVlW2NoYW5uZWxdKSB7CiAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IHNhbXBsZTsKCiAgICAgICAgICAgIGlmIChtYXhfdmFsdWVbY2hhbm5lbF0gPiBJTlQ4X01BWCkgewogICAgICAgICAgICAgIG1heF92YWx1ZVtjaGFubmVsXSA9IElOVDhfTUFYOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CgogICAgICBpZiAoKytzY2FsZV9jb3VudGVyID09PSBzY2FsZSkgewogICAgICAgIGZvciAoY2hhbm5lbCA9IDA7IGNoYW5uZWwgPCBvdXRwdXRfY2hhbm5lbHM7IGNoYW5uZWwrKykgewogICAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgICBkYXRhX3ZpZXcuc2V0SW50OChvZmZzZXQrKywgbWF4X3ZhbHVlW2NoYW5uZWxdKTsKICAgICAgICAgIG1pbl92YWx1ZVtjaGFubmVsXSA9IEluZmluaXR5OwogICAgICAgICAgbWF4X3ZhbHVlW2NoYW5uZWxdID0gLUluZmluaXR5OwogICAgICAgIH0KCiAgICAgICAgc2NhbGVfY291bnRlciA9IDA7CiAgICAgIH0KICAgIH0KCiAgICBpZiAoc2NhbGVfY291bnRlciA+IDApIHsKICAgICAgZm9yIChjaGFubmVsID0gMDsgY2hhbm5lbCA8IG91dHB1dF9jaGFubmVsczsgY2hhbm5lbCsrKSB7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1pbl92YWx1ZVtjaGFubmVsXSk7CiAgICAgICAgZGF0YV92aWV3LnNldEludDgob2Zmc2V0KyssIG1heF92YWx1ZVtjaGFubmVsXSk7CiAgICAgIH0KICAgIH0KCiAgICByZXR1cm4gYnVmZmVyOwogIH0KCiAgb25tZXNzYWdlID0gZnVuY3Rpb24gb25tZXNzYWdlKGV2dCkgewogICAgdmFyIGJ1ZmZlciA9IGdlbmVyYXRlV2F2ZWZvcm1EYXRhKGV2dC5kYXRhKTsgLy8gVHJhbnNmZXIgYnVmZmVyIHRvIHRoZSBjYWxsaW5nIHRocmVhZAoKICAgIHRoaXMucG9zdE1lc3NhZ2UoYnVmZmVyLCBbYnVmZmVyXSk7CiAgICB0aGlzLmNsb3NlKCk7CiAgfTsKCn0pKCk7Cgo=",null,!1);function WaveformData(tt){if(isJsonWaveformData(tt)&&(tt=convertJsonToBinary(tt)),isBinaryWaveformData(tt)){this._data=new DataView(tt),this._offset=this._version()===2?24:20,this._channels=[];for(var et=0;et<this.channels;et++)this._channels[et]=new WaveformDataChannel(this,et)}else throw new TypeError("WaveformData.create(): Unknown data format")}var defaultOptions$2={scale:512,amplitude_scale:1,split_channels:!1,disable_worker:!1};function getOptions(tt){var et={scale:tt.scale||defaultOptions$2.scale,amplitude_scale:tt.amplitude_scale||defaultOptions$2.amplitude_scale,split_channels:tt.split_channels||defaultOptions$2.split_channels,disable_worker:tt.disable_worker||defaultOptions$2.disable_worker};return et}function getChannelData(tt){for(var et=[],rt=0;rt<tt.numberOfChannels;++rt)et.push(tt.getChannelData(rt).buffer);return et}function createFromAudioBuffer(tt,et,rt){var nt=getChannelData(tt);if(et.disable_worker){var it=generateWaveformData({scale:et.scale,amplitude_scale:et.amplitude_scale,split_channels:et.split_channels,length:tt.length,sample_rate:tt.sampleRate,channels:nt});rt(null,new WaveformData(it),tt)}else{var ot=new WorkerFactory;ot.onmessage=function(at){rt(null,new WaveformData(at.data),tt)},ot.postMessage({scale:et.scale,amplitude_scale:et.amplitude_scale,split_channels:et.split_channels,length:tt.length,sample_rate:tt.sampleRate,channels:nt},nt)}}function createFromArrayBuffer(tt,et,rt,nt){function it(ot){ot||(ot=new DOMException("EncodingError")),nt(ot)}tt.decodeAudioData(et,function(ot){createFromAudioBuffer(ot,rt,nt)},it)}WaveformData.create=function(et){return new WaveformData(et)};WaveformData.createFromAudio=function(tt,et){var rt=getOptions(tt);if(tt.audio_context&&tt.array_buffer)return createFromArrayBuffer(tt.audio_context,tt.array_buffer,rt,et);if(tt.audio_buffer)return createFromAudioBuffer(tt.audio_buffer,rt,et);throw new TypeError("WaveformData.createFromAudio(): Pass either an AudioContext and ArrayBuffer, or an AudioBuffer object")};WaveformData.prototype={resample:function(et){if(et.scale=typeof et.scale=="number"?et.scale:null,et.width=typeof et.width=="number"?et.width:null,et.width!=null&&et.width<=0)throw new RangeError("WaveformData.resample(): width should be a positive integer value");if(et.scale!=null&&et.scale<=0)throw new RangeError("WaveformData.resample(): scale should be a positive integer value");if(!et.scale&&!et.width)throw new Error("WaveformData.resample(): Missing scale or width option");var rt=et.scale||Math.floor(this.duration*this.sample_rate/et.width),nt=this.scale,it=this.length,ot=it*this.scale,at=Math.ceil(ot/rt),st=24,lt=this.bits===8?1:2,ct=st+at*2*this.channels*lt,ut=new ArrayBuffer(ct),dt=new DataView(ut);dt.setInt32(0,2,!0),dt.setUint32(4,this.bits===8,!0),dt.setInt32(8,this.sample_rate,!0),dt.setInt32(12,rt,!0),dt.setInt32(16,at,!0),dt.setInt32(20,this.channels,!0);var ft=new WaveformData(ut),pt=0,mt=0,ht=this.channels,gt=new Array(ht),vt=new Array(ht),yt;for(yt=0;yt<ht;++yt)it>0?(gt[yt]=this.channel(yt).min_sample(pt),vt[yt]=this.channel(yt).max_sample(pt)):(gt[yt]=0,vt[yt]=0);var bt=this.bits===8?-128:-32768,xt=this.bits===8?127:32767;if(rt<nt)throw new Error("WaveformData.resample(): Zoom level "+rt+" too low, minimum: "+nt);var $t,Tt,wt,At,Rt;function It(Lt){return Math.floor(Lt*rt)}for(;pt<it;){for(;Math.floor(It(mt)/nt)===pt;){if(mt>0)for(yt=0;yt<ht;++yt)ft.channel(yt).set_min_sample(mt-1,gt[yt]),ft.channel(yt).set_max_sample(mt-1,vt[yt]);if(Rt=pt,mt++,$t=It(mt),Tt=It(mt-1),$t!==Tt)for(yt=0;yt<ht;++yt)gt[yt]=xt,vt[yt]=bt}for($t=It(mt),wt=Math.floor($t/nt),wt>it&&(wt=it);pt<wt;){for(yt=0;yt<ht;++yt)At=this.channel(yt).min_sample(pt),At<gt[yt]&&(gt[yt]=At),At=this.channel(yt).max_sample(pt),At>vt[yt]&&(vt[yt]=At);pt++}}if(pt!==Rt)for(yt=0;yt<ht;++yt)ft.channel(yt).set_min_sample(mt-1,gt[yt]),ft.channel(yt).set_max_sample(mt-1,vt[yt]);return ft},concat:function(){var et=this,rt=Array.prototype.slice.call(arguments);rt.forEach(function(it){if(et.channels!==it.channels||et.sample_rate!==it.sample_rate||et.bits!==it.bits||et.scale!==it.scale)throw new Error("WaveformData.concat(): Waveforms are incompatible")});var nt=this._concatBuffers.apply(this,rt);return WaveformData.create(nt)},_concatBuffers:function(){var et=Array.prototype.slice.call(arguments),rt=this._offset,nt=rt,it=0,ot=[this].concat(et).map(function(mt){return mt._data.buffer}),at,st;for(at=0;at<ot.length;at++){st=ot[at];var lt=new DataView(st).getInt32(16,!0);nt+=st.byteLength-rt,it+=lt}var ct=new ArrayBuffer(nt),ut=new DataView(ot[0]),dt=new DataView(ct);for(at=0;at<rt;at++)dt.setUint8(at,ut.getUint8(at));dt.setInt32(16,it,!0);var ft=0,pt=new Uint8Array(ct,rt);for(at=0;at<ot.length;at++)st=ot[at],pt.set(new Uint8Array(st,rt),ft),ft+=st.byteLength-rt;return ct},_offsetValues:function(et,rt,nt){var it=[],ot=this.channels;nt+=et*ot*2;for(var at=0;at<rt;at++)it.push(this._at(at*ot*2+nt));return it},_version:function(){return this._data.getInt32(0,!0)},get length(){return this._data.getUint32(16,!0)},get bits(){var tt=Boolean(this._data.getUint32(4,!0));return tt?8:16},get duration(){return this.length*this.scale/this.sample_rate},get pixels_per_second(){return this.sample_rate/this.scale},get seconds_per_pixel(){return this.scale/this.sample_rate},get channels(){return this._version()===2?this._data.getInt32(20,!0):1},channel:function(et){if(et>=0&&et<this._channels.length)return this._channels[et];throw new RangeError("Invalid channel: "+et)},get sample_rate(){return this._data.getInt32(8,!0)},get scale(){return this._data.getInt32(12,!0)},_at:function(et){return this.bits===8?this._data.getInt8(this._offset+et):this._data.getInt16(this._offset+et*2,!0)},_set_at:function(et,rt){return this.bits===8?this._data.setInt8(this._offset+et,rt):this._data.setInt16(this._offset+et*2,rt,!0)},at_time:function(et){return Math.floor(et*this.sample_rate/this.scale)},time:function(et){return et*this.scale/this.sample_rate},toJSON:function(){for(var et={version:2,channels:this.channels,sample_rate:this.sample_rate,samples_per_pixel:this.scale,bits:this.bits,length:this.length,data:[]},rt=0;rt<this.length;rt++)for(var nt=0;nt<this.channels;nt++)et.data.push(this.channel(nt).min_sample(rt)),et.data.push(this.channel(nt).max_sample(rt));return et},toArrayBuffer:function(){return this._data.buffer}};var DP=20,RM=1,MAX_DP=1e6,MAX_POWER=1e6,NE=-7,PE=21,STRICT=!1,NAME="[big.js] ",INVALID=NAME+"Invalid ",INVALID_DP=INVALID+"decimal places",INVALID_RM=INVALID+"rounding mode",DIV_BY_ZERO=NAME+"Division by zero",P$1={},UNDEFINED=void 0,NUMERIC=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function _Big_(){function tt(et){var rt=this;if(!(rt instanceof tt))return et===UNDEFINED?_Big_():new tt(et);if(et instanceof tt)rt.s=et.s,rt.e=et.e,rt.c=et.c.slice();else{if(typeof et!="string"){if(tt.strict===!0&&typeof et!="bigint")throw TypeError(INVALID+"value");et=et===0&&1/et<0?"-0":String(et)}parse$3(rt,et)}rt.constructor=tt}return tt.prototype=P$1,tt.DP=DP,tt.RM=RM,tt.NE=NE,tt.PE=PE,tt.strict=STRICT,tt.roundDown=0,tt.roundHalfUp=1,tt.roundHalfEven=2,tt.roundUp=3,tt}function parse$3(tt,et){var rt,nt,it;if(!NUMERIC.test(et))throw Error(INVALID+"number");for(tt.s=et.charAt(0)=="-"?(et=et.slice(1),-1):1,(rt=et.indexOf("."))>-1&&(et=et.replace(".","")),(nt=et.search(/e/i))>0?(rt<0&&(rt=nt),rt+=+et.slice(nt+1),et=et.substring(0,nt)):rt<0&&(rt=et.length),it=et.length,nt=0;nt<it&&et.charAt(nt)=="0";)++nt;if(nt==it)tt.c=[tt.e=0];else{for(;it>0&&et.charAt(--it)=="0";);for(tt.e=rt-nt-1,tt.c=[],rt=0;nt<=it;)tt.c[rt++]=+et.charAt(nt++)}return tt}function round(tt,et,rt,nt){var it=tt.c;if(rt===UNDEFINED&&(rt=tt.constructor.RM),rt!==0&&rt!==1&&rt!==2&&rt!==3)throw Error(INVALID_RM);if(et<1)nt=rt===3&&(nt||!!it[0])||et===0&&(rt===1&&it[0]>=5||rt===2&&(it[0]>5||it[0]===5&&(nt||it[1]!==UNDEFINED))),it.length=1,nt?(tt.e=tt.e-et+1,it[0]=1):it[0]=tt.e=0;else if(et<it.length){if(nt=rt===1&&it[et]>=5||rt===2&&(it[et]>5||it[et]===5&&(nt||it[et+1]!==UNDEFINED||it[et-1]&1))||rt===3&&(nt||!!it[0]),it.length=et,nt){for(;++it[--et]>9;)if(it[et]=0,et===0){++tt.e,it.unshift(1);break}}for(et=it.length;!it[--et];)it.pop()}return tt}function stringify$a(tt,et,rt){var nt=tt.e,it=tt.c.join(""),ot=it.length;if(et)it=it.charAt(0)+(ot>1?"."+it.slice(1):"")+(nt<0?"e":"e+")+nt;else if(nt<0){for(;++nt;)it="0"+it;it="0."+it}else if(nt>0)if(++nt>ot)for(nt-=ot;nt--;)it+="0";else nt<ot&&(it=it.slice(0,nt)+"."+it.slice(nt));else ot>1&&(it=it.charAt(0)+"."+it.slice(1));return tt.s<0&&rt?"-"+it:it}P$1.abs=function(){var tt=new this.constructor(this);return tt.s=1,tt};P$1.cmp=function(tt){var et,rt=this,nt=rt.c,it=(tt=new rt.constructor(tt)).c,ot=rt.s,at=tt.s,st=rt.e,lt=tt.e;if(!nt[0]||!it[0])return nt[0]?ot:it[0]?-at:0;if(ot!=at)return ot;if(et=ot<0,st!=lt)return st>lt^et?1:-1;for(at=(st=nt.length)<(lt=it.length)?st:lt,ot=-1;++ot<at;)if(nt[ot]!=it[ot])return nt[ot]>it[ot]^et?1:-1;return st==lt?0:st>lt^et?1:-1};P$1.div=function(tt){var et=this,rt=et.constructor,nt=et.c,it=(tt=new rt(tt)).c,ot=et.s==tt.s?1:-1,at=rt.DP;if(at!==~~at||at<0||at>MAX_DP)throw Error(INVALID_DP);if(!it[0])throw Error(DIV_BY_ZERO);if(!nt[0])return tt.s=ot,tt.c=[tt.e=0],tt;var st,lt,ct,ut,dt,ft=it.slice(),pt=st=it.length,mt=nt.length,ht=nt.slice(0,st),gt=ht.length,vt=tt,yt=vt.c=[],bt=0,xt=at+(vt.e=et.e-tt.e)+1;for(vt.s=ot,ot=xt<0?0:xt,ft.unshift(0);gt++<st;)ht.push(0);do{for(ct=0;ct<10;ct++){if(st!=(gt=ht.length))ut=st>gt?1:-1;else for(dt=-1,ut=0;++dt<st;)if(it[dt]!=ht[dt]){ut=it[dt]>ht[dt]?1:-1;break}if(ut<0){for(lt=gt==st?it:ft;gt;){if(ht[--gt]<lt[gt]){for(dt=gt;dt&&!ht[--dt];)ht[dt]=9;--ht[dt],ht[gt]+=10}ht[gt]-=lt[gt]}for(;!ht[0];)ht.shift()}else break}yt[bt++]=ut?ct:++ct,ht[0]&&ut?ht[gt]=nt[pt]||0:ht=[nt[pt]]}while((pt++<mt||ht[0]!==UNDEFINED)&&ot--);return!yt[0]&&bt!=1&&(yt.shift(),vt.e--,xt--),bt>xt&&round(vt,xt,rt.RM,ht[0]!==UNDEFINED),vt};P$1.eq=function(tt){return this.cmp(tt)===0};P$1.gt=function(tt){return this.cmp(tt)>0};P$1.gte=function(tt){return this.cmp(tt)>-1};P$1.lt=function(tt){return this.cmp(tt)<0};P$1.lte=function(tt){return this.cmp(tt)<1};P$1.minus=P$1.sub=function(tt){var et,rt,nt,it,ot=this,at=ot.constructor,st=ot.s,lt=(tt=new at(tt)).s;if(st!=lt)return tt.s=-lt,ot.plus(tt);var ct=ot.c.slice(),ut=ot.e,dt=tt.c,ft=tt.e;if(!ct[0]||!dt[0])return dt[0]?tt.s=-lt:ct[0]?tt=new at(ot):tt.s=1,tt;if(st=ut-ft){for((it=st<0)?(st=-st,nt=ct):(ft=ut,nt=dt),nt.reverse(),lt=st;lt--;)nt.push(0);nt.reverse()}else for(rt=((it=ct.length<dt.length)?ct:dt).length,st=lt=0;lt<rt;lt++)if(ct[lt]!=dt[lt]){it=ct[lt]<dt[lt];break}if(it&&(nt=ct,ct=dt,dt=nt,tt.s=-tt.s),(lt=(rt=dt.length)-(et=ct.length))>0)for(;lt--;)ct[et++]=0;for(lt=et;rt>st;){if(ct[--rt]<dt[rt]){for(et=rt;et&&!ct[--et];)ct[et]=9;--ct[et],ct[rt]+=10}ct[rt]-=dt[rt]}for(;ct[--lt]===0;)ct.pop();for(;ct[0]===0;)ct.shift(),--ft;return ct[0]||(tt.s=1,ct=[ft=0]),tt.c=ct,tt.e=ft,tt};P$1.mod=function(tt){var et,rt=this,nt=rt.constructor,it=rt.s,ot=(tt=new nt(tt)).s;if(!tt.c[0])throw Error(DIV_BY_ZERO);return rt.s=tt.s=1,et=tt.cmp(rt)==1,rt.s=it,tt.s=ot,et?new nt(rt):(it=nt.DP,ot=nt.RM,nt.DP=nt.RM=0,rt=rt.div(tt),nt.DP=it,nt.RM=ot,this.minus(rt.times(tt)))};P$1.neg=function(){var tt=new this.constructor(this);return tt.s=-tt.s,tt};P$1.plus=P$1.add=function(tt){var et,rt,nt,it=this,ot=it.constructor;if(tt=new ot(tt),it.s!=tt.s)return tt.s=-tt.s,it.minus(tt);var at=it.e,st=it.c,lt=tt.e,ct=tt.c;if(!st[0]||!ct[0])return ct[0]||(st[0]?tt=new ot(it):tt.s=it.s),tt;if(st=st.slice(),et=at-lt){for(et>0?(lt=at,nt=ct):(et=-et,nt=st),nt.reverse();et--;)nt.push(0);nt.reverse()}for(st.length-ct.length<0&&(nt=ct,ct=st,st=nt),et=ct.length,rt=0;et;st[et]%=10)rt=(st[--et]=st[et]+ct[et]+rt)/10|0;for(rt&&(st.unshift(rt),++lt),et=st.length;st[--et]===0;)st.pop();return tt.c=st,tt.e=lt,tt};P$1.pow=function(tt){var et=this,rt=new et.constructor("1"),nt=rt,it=tt<0;if(tt!==~~tt||tt<-MAX_POWER||tt>MAX_POWER)throw Error(INVALID+"exponent");for(it&&(tt=-tt);tt&1&&(nt=nt.times(et)),tt>>=1,!!tt;)et=et.times(et);return it?rt.div(nt):nt};P$1.prec=function(tt,et){if(tt!==~~tt||tt<1||tt>MAX_DP)throw Error(INVALID+"precision");return round(new this.constructor(this),tt,et)};P$1.round=function(tt,et){if(tt===UNDEFINED)tt=0;else if(tt!==~~tt||tt<-MAX_DP||tt>MAX_DP)throw Error(INVALID_DP);return round(new this.constructor(this),tt+this.e+1,et)};P$1.sqrt=function(){var tt,et,rt,nt=this,it=nt.constructor,ot=nt.s,at=nt.e,st=new it("0.5");if(!nt.c[0])return new it(nt);if(ot<0)throw Error(NAME+"No square root");ot=Math.sqrt(nt+""),ot===0||ot===1/0?(et=nt.c.join(""),et.length+at&1||(et+="0"),ot=Math.sqrt(et),at=((at+1)/2|0)-(at<0||at&1),tt=new it((ot==1/0?"5e":(ot=ot.toExponential()).slice(0,ot.indexOf("e")+1))+at)):tt=new it(ot+""),at=tt.e+(it.DP+=4);do rt=tt,tt=st.times(rt.plus(nt.div(rt)));while(rt.c.slice(0,at).join("")!==tt.c.slice(0,at).join(""));return round(tt,(it.DP-=4)+tt.e+1,it.RM)};P$1.times=P$1.mul=function(tt){var et,rt=this,nt=rt.constructor,it=rt.c,ot=(tt=new nt(tt)).c,at=it.length,st=ot.length,lt=rt.e,ct=tt.e;if(tt.s=rt.s==tt.s?1:-1,!it[0]||!ot[0])return tt.c=[tt.e=0],tt;for(tt.e=lt+ct,at<st&&(et=it,it=ot,ot=et,ct=at,at=st,st=ct),et=new Array(ct=at+st);ct--;)et[ct]=0;for(lt=st;lt--;){for(st=0,ct=at+lt;ct>lt;)st=et[ct]+ot[lt]*it[ct-lt-1]+st,et[ct--]=st%10,st=st/10|0;et[ct]=st}for(st?++tt.e:et.shift(),lt=et.length;!et[--lt];)et.pop();return tt.c=et,tt};P$1.toExponential=function(tt,et){var rt=this,nt=rt.c[0];if(tt!==UNDEFINED){if(tt!==~~tt||tt<0||tt>MAX_DP)throw Error(INVALID_DP);for(rt=round(new rt.constructor(rt),++tt,et);rt.c.length<tt;)rt.c.push(0)}return stringify$a(rt,!0,!!nt)};P$1.toFixed=function(tt,et){var rt=this,nt=rt.c[0];if(tt!==UNDEFINED){if(tt!==~~tt||tt<0||tt>MAX_DP)throw Error(INVALID_DP);for(rt=round(new rt.constructor(rt),tt+rt.e+1,et),tt=tt+rt.e+1;rt.c.length<tt;)rt.c.push(0)}return stringify$a(rt,!1,!!nt)};P$1[Symbol.for("nodejs.util.inspect.custom")]=P$1.toJSON=P$1.toString=function(){var tt=this,et=tt.constructor;return stringify$a(tt,tt.e<=et.NE||tt.e>=et.PE,!!tt.c[0])};P$1.toNumber=function(){var tt=Number(stringify$a(this,!0,!0));if(this.constructor.strict===!0&&!this.eq(tt.toString()))throw Error(NAME+"Imprecise conversion");return tt};P$1.toPrecision=function(tt,et){var rt=this,nt=rt.constructor,it=rt.c[0];if(tt!==UNDEFINED){if(tt!==~~tt||tt<1||tt>MAX_DP)throw Error(INVALID+"precision");for(rt=round(new nt(rt),tt,et);rt.c.length<tt;)rt.c.push(0)}return stringify$a(rt,tt<=rt.e||rt.e<=nt.NE||rt.e>=nt.PE,!!it)};P$1.valueOf=function(){var tt=this,et=tt.constructor;if(et.strict===!0)throw Error(NAME+"valueOf disallowed");return stringify$a(tt,tt.e<=et.NE||tt.e>=et.PE,!0)};var Big=_Big_();const LOWEST_COMMON_MULTIPLE=1/96,convertMillisecondsToBeats=(tt,et)=>{if(tt===null&&(tt=0),isUnDef(et)||et===null)return 0;const rt=et/60;let nt=tt/1e3*rt;return roundToNearest(nt,LOWEST_COMMON_MULTIPLE)},convertBeatsToMilliseconds=(tt,et)=>{tt===null&&(tt=0);const rt=new Big(tt),nt=new Big(et);return rt.div(nt.div(60)).times(1e3).toNumber()},getWaveformDataForAudioFile=tt=>{const et=URL.createObjectURL(tt),rt=new AudioContext;return new Promise((nt,it)=>{fetch(et).then(ot=>ot.arrayBuffer()).then(ot=>{const at={audio_context:rt,array_buffer:ot};WaveformData.createFromAudio(at,(st,lt)=>{st&&it(st),nt(lt)})})})},getSnapToNearestBeat=(tt,et,rt,nt)=>{const it=convertMillisecondsToBeats(tt-rt,et),ot=nt<=1?roundToNearest(it,nt):Math.round(it);return convertBeatsToMilliseconds(ot,et)+rt},getMinutesSecondsTimestamp=tt=>{const et=String(Math.floor(tt/1e3%60)).padStart(2,"0");return`${String(Math.floor(tt/(1e3*60)%60)).padStart(2,"0")}:${et}`},getFormatBeatNum=tt=>{const et=Math.floor(tt),rt=String(roundToNearest(Math.abs(tt)%1,LOWEST_COMMON_MULTIPLE)).replace("0.","").slice(0,3).padEnd(3,"0");return`${et}.${rt}`};let LAST_BEAT_FOOL=0;const getSongIdFromName=()=>formatToDateTime(new Date,"YYYY_MM_DD_HH_mm_ss")+buildShortUUID(),sortDifficultyIds=tt=>tt.sort((et,rt)=>{const nt=DIFFICULTIES.indexOf(et),it=DIFFICULTIES.indexOf(rt);return nt>it?1:-1}),generateWaveformForSongFile=async tt=>{const et=await convertFileToArrayBuffer(tt),nt={audio_context:new AudioContext,array_buffer:et,scale:128};return new Promise((it,ot)=>{WaveformData.createFromAudio(nt,(at,st)=>{at&&ot(at),it(st)})})},triggerTickerIfNecessary=({song:tt,playNoteTick:et,notes:rt,currentBeat:nt,lastBeat:it,ticker:ot,processingDelay:at})=>{et&&rt.some(ct=>it&&ct._time-0>=it&&ct._time-0<nt&&ct._type!==3)&&ot.trigger()},handleBeatTick=({currentBeat:tt,lastBeat:et,ticker:rt})=>{const nt=Math.floor(tt+.1);et===null&&(LAST_BEAT_FOOL=nt),nt>LAST_BEAT_FOOL&&(LAST_BEAT_FOOL=nt,rt.trigger())},calculateIfPlaybackShouldBeCommandeered=({currentBeat:tt,lastBeat:et,processingDelay:rt,view:nt,song:it,isLockedToCurrentWindow:ot,beatsPerZoomLevel:at})=>{if(nt!==VIEW_TYPE.EVENTS)return;const st=convertBeatsToMilliseconds(tt,it.bpm),lt=convertBeatsToMilliseconds(et,it.bpm),ct=st-lt,ut=convertMillisecondsToBeats(rt,it.bpm),dt=floorToNearest(tt+ut,at),ft=floorToNearest(et+ut,at),pt=ft<dt&&ct<100;if(ot&&pt)return convertBeatsToMilliseconds(ft,it.bpm)+it.offset},ALIAS=Symbol.for("yaml.alias"),DOC=Symbol.for("yaml.document"),MAP=Symbol.for("yaml.map"),PAIR=Symbol.for("yaml.pair"),SCALAR$1=Symbol.for("yaml.scalar"),SEQ=Symbol.for("yaml.seq"),NODE_TYPE=Symbol.for("yaml.node.type"),isAlias=tt=>!!tt&&typeof tt=="object"&&tt[NODE_TYPE]===ALIAS,isDocument=tt=>!!tt&&typeof tt=="object"&&tt[NODE_TYPE]===DOC,isMap$3=tt=>!!tt&&typeof tt=="object"&&tt[NODE_TYPE]===MAP,isPair=tt=>!!tt&&typeof tt=="object"&&tt[NODE_TYPE]===PAIR,isScalar$1=tt=>!!tt&&typeof tt=="object"&&tt[NODE_TYPE]===SCALAR$1,isSeq=tt=>!!tt&&typeof tt=="object"&&tt[NODE_TYPE]===SEQ;function isCollection$1(tt){if(tt&&typeof tt=="object")switch(tt[NODE_TYPE]){case MAP:case SEQ:return!0}return!1}function isNode(tt){if(tt&&typeof tt=="object")switch(tt[NODE_TYPE]){case ALIAS:case MAP:case SCALAR$1:case SEQ:return!0}return!1}const hasAnchor=tt=>(isScalar$1(tt)||isCollection$1(tt))&&!!tt.anchor;class NodeBase{constructor(et){Object.defineProperty(this,NODE_TYPE,{value:et})}clone(){const et=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return this.range&&(et.range=this.range.slice()),et}}const BREAK$1=Symbol("break visit"),SKIP$1=Symbol("skip children"),REMOVE$1=Symbol("remove node");function visit$1(tt,et){const rt=initVisitor(et);isDocument(tt)?visit_(null,tt.contents,rt,Object.freeze([tt]))===REMOVE$1&&(tt.contents=null):visit_(null,tt,rt,Object.freeze([]))}visit$1.BREAK=BREAK$1;visit$1.SKIP=SKIP$1;visit$1.REMOVE=REMOVE$1;function visit_(tt,et,rt,nt){const it=callVisitor(tt,et,rt,nt);if(isNode(it)||isPair(it))return replaceNode(tt,nt,it),visit_(tt,it,rt,nt);if(typeof it!="symbol"){if(isCollection$1(et)){nt=Object.freeze(nt.concat(et));for(let ot=0;ot<et.items.length;++ot){const at=visit_(ot,et.items[ot],rt,nt);if(typeof at=="number")ot=at-1;else{if(at===BREAK$1)return BREAK$1;at===REMOVE$1&&(et.items.splice(ot,1),ot-=1)}}}else if(isPair(et)){nt=Object.freeze(nt.concat(et));const ot=visit_("key",et.key,rt,nt);if(ot===BREAK$1)return BREAK$1;ot===REMOVE$1&&(et.key=null);const at=visit_("value",et.value,rt,nt);if(at===BREAK$1)return BREAK$1;at===REMOVE$1&&(et.value=null)}}return it}async function visitAsync(tt,et){const rt=initVisitor(et);isDocument(tt)?await visitAsync_(null,tt.contents,rt,Object.freeze([tt]))===REMOVE$1&&(tt.contents=null):await visitAsync_(null,tt,rt,Object.freeze([]))}visitAsync.BREAK=BREAK$1;visitAsync.SKIP=SKIP$1;visitAsync.REMOVE=REMOVE$1;async function visitAsync_(tt,et,rt,nt){const it=await callVisitor(tt,et,rt,nt);if(isNode(it)||isPair(it))return replaceNode(tt,nt,it),visitAsync_(tt,it,rt,nt);if(typeof it!="symbol"){if(isCollection$1(et)){nt=Object.freeze(nt.concat(et));for(let ot=0;ot<et.items.length;++ot){const at=await visitAsync_(ot,et.items[ot],rt,nt);if(typeof at=="number")ot=at-1;else{if(at===BREAK$1)return BREAK$1;at===REMOVE$1&&(et.items.splice(ot,1),ot-=1)}}}else if(isPair(et)){nt=Object.freeze(nt.concat(et));const ot=await visitAsync_("key",et.key,rt,nt);if(ot===BREAK$1)return BREAK$1;ot===REMOVE$1&&(et.key=null);const at=await visitAsync_("value",et.value,rt,nt);if(at===BREAK$1)return BREAK$1;at===REMOVE$1&&(et.value=null)}}return it}function initVisitor(tt){return typeof tt=="object"&&(tt.Collection||tt.Node||tt.Value)?Object.assign({Alias:tt.Node,Map:tt.Node,Scalar:tt.Node,Seq:tt.Node},tt.Value&&{Map:tt.Value,Scalar:tt.Value,Seq:tt.Value},tt.Collection&&{Map:tt.Collection,Seq:tt.Collection},tt):tt}function callVisitor(tt,et,rt,nt){var it,ot,at,st,lt;if(typeof rt=="function")return rt(tt,et,nt);if(isMap$3(et))return(it=rt.Map)==null?void 0:it.call(rt,tt,et,nt);if(isSeq(et))return(ot=rt.Seq)==null?void 0:ot.call(rt,tt,et,nt);if(isPair(et))return(at=rt.Pair)==null?void 0:at.call(rt,tt,et,nt);if(isScalar$1(et))return(st=rt.Scalar)==null?void 0:st.call(rt,tt,et,nt);if(isAlias(et))return(lt=rt.Alias)==null?void 0:lt.call(rt,tt,et,nt)}function replaceNode(tt,et,rt){const nt=et[et.length-1];if(isCollection$1(nt))nt.items[tt]=rt;else if(isPair(nt))tt==="key"?nt.key=rt:nt.value=rt;else if(isDocument(nt))nt.contents=rt;else{const it=isAlias(nt)?"alias":"scalar";throw new Error(`Cannot replace node with ${it} parent`)}}const escapeChars={"!":"%21",",":"%2C","[":"%5B","]":"%5D","{":"%7B","}":"%7D"},escapeTagName=tt=>tt.replace(/[!,[\]{}]/g,et=>escapeChars[et]);class Directives{constructor(et,rt){this.docStart=null,this.docEnd=!1,this.yaml=Object.assign({},Directives.defaultYaml,et),this.tags=Object.assign({},Directives.defaultTags,rt)}clone(){const et=new Directives(this.yaml,this.tags);return et.docStart=this.docStart,et}atDocument(){const et=new Directives(this.yaml,this.tags);switch(this.yaml.version){case"1.1":this.atNextDocument=!0;break;case"1.2":this.atNextDocument=!1,this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.2"},this.tags=Object.assign({},Directives.defaultTags);break}return et}add(et,rt){this.atNextDocument&&(this.yaml={explicit:Directives.defaultYaml.explicit,version:"1.1"},this.tags=Object.assign({},Directives.defaultTags),this.atNextDocument=!1);const nt=et.trim().split(/[ \t]+/),it=nt.shift();switch(it){case"%TAG":{if(nt.length!==2&&(rt(0,"%TAG directive should contain exactly two parts"),nt.length<2))return!1;const[ot,at]=nt;return this.tags[ot]=at,!0}case"%YAML":{if(this.yaml.explicit=!0,nt.length!==1)return rt(0,"%YAML directive should contain exactly one part"),!1;const[ot]=nt;if(ot==="1.1"||ot==="1.2")return this.yaml.version=ot,!0;{const at=/^\d+\.\d+$/.test(ot);return rt(6,`Unsupported YAML version ${ot}`,at),!1}}default:return rt(0,`Unknown directive ${it}`,!0),!1}}tagName(et,rt){if(et==="!")return"!";if(et[0]!=="!")return rt(`Not a valid tag: ${et}`),null;if(et[1]==="<"){const at=et.slice(2,-1);return at==="!"||at==="!!"?(rt(`Verbatim tags aren't resolved, so ${et} is invalid.`),null):(et[et.length-1]!==">"&&rt("Verbatim tags must end with a >"),at)}const[,nt,it]=et.match(/^(.*!)([^!]*)$/);it||rt(`The ${et} tag has no suffix`);const ot=this.tags[nt];return ot?ot+decodeURIComponent(it):nt==="!"?et:(rt(`Could not resolve tag: ${et}`),null)}tagString(et){for(const[rt,nt]of Object.entries(this.tags))if(et.startsWith(nt))return rt+escapeTagName(et.substring(nt.length));return et[0]==="!"?et:`!<${et}>`}toString(et){const rt=this.yaml.explicit?[`%YAML ${this.yaml.version||"1.2"}`]:[],nt=Object.entries(this.tags);let it;if(et&&nt.length>0&&isNode(et.contents)){const ot={};visit$1(et.contents,(at,st)=>{isNode(st)&&st.tag&&(ot[st.tag]=!0)}),it=Object.keys(ot)}else it=[];for(const[ot,at]of nt)ot==="!!"&&at==="tag:yaml.org,2002:"||(!et||it.some(st=>st.startsWith(at)))&&rt.push(`%TAG ${ot} ${at}`);return rt.join(`
`)}}Directives.defaultYaml={explicit:!1,version:"1.2"};Directives.defaultTags={"!!":"tag:yaml.org,2002:"};function anchorIsValid(tt){if(/[\x00-\x19\s,[\]{}]/.test(tt)){const rt=`Anchor must not contain whitespace or control characters: ${JSON.stringify(tt)}`;throw new Error(rt)}return!0}function anchorNames(tt){const et=new Set;return visit$1(tt,{Value(rt,nt){nt.anchor&&et.add(nt.anchor)}}),et}function findNewAnchor(tt,et){for(let rt=1;;++rt){const nt=`${tt}${rt}`;if(!et.has(nt))return nt}}function createNodeAnchors(tt,et){const rt=[],nt=new Map;let it=null;return{onAnchor:ot=>{rt.push(ot),it||(it=anchorNames(tt));const at=findNewAnchor(et,it);return it.add(at),at},setAnchors:()=>{for(const ot of rt){const at=nt.get(ot);if(typeof at=="object"&&at.anchor&&(isScalar$1(at.node)||isCollection$1(at.node)))at.node.anchor=at.anchor;else{const st=new Error("Failed to resolve repeated object (this should not happen)");throw st.source=ot,st}}},sourceObjects:nt}}class Alias extends NodeBase{constructor(et){super(ALIAS),this.source=et,Object.defineProperty(this,"tag",{set(){throw new Error("Alias nodes cannot have tags")}})}resolve(et){let rt;return visit$1(et,{Node:(nt,it)=>{if(it===this)return visit$1.BREAK;it.anchor===this.source&&(rt=it)}}),rt}toJSON(et,rt){if(!rt)return{source:this.source};const{anchors:nt,doc:it,maxAliasCount:ot}=rt,at=this.resolve(it);if(!at){const lt=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new ReferenceError(lt)}const st=nt.get(at);if(!st||st.res===void 0){const lt="This should not happen: Alias anchor was not resolved?";throw new ReferenceError(lt)}if(ot>=0&&(st.count+=1,st.aliasCount===0&&(st.aliasCount=getAliasCount(it,at,nt)),st.count*st.aliasCount>ot)){const lt="Excessive alias count indicates a resource exhaustion attack";throw new ReferenceError(lt)}return st.res}toString(et,rt,nt){const it=`*${this.source}`;if(et){if(anchorIsValid(this.source),et.options.verifyAliasOrder&&!et.anchors.has(this.source)){const ot=`Unresolved alias (the anchor must be set before the alias): ${this.source}`;throw new Error(ot)}if(et.implicitKey)return`${it} `}return it}}function getAliasCount(tt,et,rt){if(isAlias(et)){const nt=et.resolve(tt),it=rt&&nt&&rt.get(nt);return it?it.count*it.aliasCount:0}else if(isCollection$1(et)){let nt=0;for(const it of et.items){const ot=getAliasCount(tt,it,rt);ot>nt&&(nt=ot)}return nt}else if(isPair(et)){const nt=getAliasCount(tt,et.key,rt),it=getAliasCount(tt,et.value,rt);return Math.max(nt,it)}return 1}function toJS(tt,et,rt){if(Array.isArray(tt))return tt.map((nt,it)=>toJS(nt,String(it),rt));if(tt&&typeof tt.toJSON=="function"){if(!rt||!hasAnchor(tt))return tt.toJSON(et,rt);const nt={aliasCount:0,count:1,res:void 0};rt.anchors.set(tt,nt),rt.onCreate=ot=>{nt.res=ot,delete rt.onCreate};const it=tt.toJSON(et,rt);return rt.onCreate&&rt.onCreate(it),it}return typeof tt=="bigint"&&!(rt!=null&&rt.keep)?Number(tt):tt}const isScalarValue=tt=>!tt||typeof tt!="function"&&typeof tt!="object";class Scalar extends NodeBase{constructor(et){super(SCALAR$1),this.value=et}toJSON(et,rt){return rt!=null&&rt.keep?this.value:toJS(this.value,et,rt)}toString(){return String(this.value)}}Scalar.BLOCK_FOLDED="BLOCK_FOLDED";Scalar.BLOCK_LITERAL="BLOCK_LITERAL";Scalar.PLAIN="PLAIN";Scalar.QUOTE_DOUBLE="QUOTE_DOUBLE";Scalar.QUOTE_SINGLE="QUOTE_SINGLE";const defaultTagPrefix="tag:yaml.org,2002:";function findTagObject(tt,et,rt){if(et){const nt=rt.filter(ot=>ot.tag===et),it=nt.find(ot=>!ot.format)??nt[0];if(!it)throw new Error(`Tag ${et} not found`);return it}return rt.find(nt=>{var it;return((it=nt.identify)==null?void 0:it.call(nt,tt))&&!nt.format})}function createNode(tt,et,rt){var dt,ft;if(isDocument(tt)&&(tt=tt.contents),isNode(tt))return tt;if(isPair(tt)){const pt=(ft=(dt=rt.schema[MAP]).createNode)==null?void 0:ft.call(dt,rt.schema,null,rt);return pt.items.push(tt),pt}(tt instanceof String||tt instanceof Number||tt instanceof Boolean||typeof BigInt<"u"&&tt instanceof BigInt)&&(tt=tt.valueOf());const{aliasDuplicateObjects:nt,onAnchor:it,onTagObj:ot,schema:at,sourceObjects:st}=rt;let lt;if(nt&&tt&&typeof tt=="object"){if(lt=st.get(tt),lt)return lt.anchor||(lt.anchor=it(tt)),new Alias(lt.anchor);lt={anchor:null,node:null},st.set(tt,lt)}et!=null&&et.startsWith("!!")&&(et=defaultTagPrefix+et.slice(2));let ct=findTagObject(tt,et,at.tags);if(!ct){if(tt&&typeof tt.toJSON=="function"&&(tt=tt.toJSON()),!tt||typeof tt!="object"){const pt=new Scalar(tt);return lt&&(lt.node=pt),pt}ct=tt instanceof Map?at[MAP]:Symbol.iterator in Object(tt)?at[SEQ]:at[MAP]}ot&&(ot(ct),delete rt.onTagObj);const ut=ct!=null&&ct.createNode?ct.createNode(rt.schema,tt,rt):new Scalar(tt);return et&&(ut.tag=et),lt&&(lt.node=ut),ut}function collectionFromPath(tt,et,rt){let nt=rt;for(let it=et.length-1;it>=0;--it){const ot=et[it];if(typeof ot=="number"&&Number.isInteger(ot)&&ot>=0){const at=[];at[ot]=nt,nt=at}else nt=new Map([[ot,nt]])}return createNode(nt,void 0,{aliasDuplicateObjects:!1,keepUndefined:!1,onAnchor:()=>{throw new Error("This should not happen, please report a bug.")},schema:tt,sourceObjects:new Map})}const isEmptyPath=tt=>tt==null||typeof tt=="object"&&!!tt[Symbol.iterator]().next().done;let Collection$4=class extends NodeBase{constructor(et,rt){super(et),Object.defineProperty(this,"schema",{value:rt,configurable:!0,enumerable:!1,writable:!0})}clone(et){const rt=Object.create(Object.getPrototypeOf(this),Object.getOwnPropertyDescriptors(this));return et&&(rt.schema=et),rt.items=rt.items.map(nt=>isNode(nt)||isPair(nt)?nt.clone(et):nt),this.range&&(rt.range=this.range.slice()),rt}addIn(et,rt){if(isEmptyPath(et))this.add(rt);else{const[nt,...it]=et,ot=this.get(nt,!0);if(isCollection$1(ot))ot.addIn(it,rt);else if(ot===void 0&&this.schema)this.set(nt,collectionFromPath(this.schema,it,rt));else throw new Error(`Expected YAML collection at ${nt}. Remaining path: ${it}`)}}deleteIn(et){const[rt,...nt]=et;if(nt.length===0)return this.delete(rt);const it=this.get(rt,!0);if(isCollection$1(it))return it.deleteIn(nt);throw new Error(`Expected YAML collection at ${rt}. Remaining path: ${nt}`)}getIn(et,rt){const[nt,...it]=et,ot=this.get(nt,!0);return it.length===0?!rt&&isScalar$1(ot)?ot.value:ot:isCollection$1(ot)?ot.getIn(it,rt):void 0}hasAllNullValues(et){return this.items.every(rt=>{if(!isPair(rt))return!1;const nt=rt.value;return nt==null||et&&isScalar$1(nt)&&nt.value==null&&!nt.commentBefore&&!nt.comment&&!nt.tag})}hasIn(et){const[rt,...nt]=et;if(nt.length===0)return this.has(rt);const it=this.get(rt,!0);return isCollection$1(it)?it.hasIn(nt):!1}setIn(et,rt){const[nt,...it]=et;if(it.length===0)this.set(nt,rt);else{const ot=this.get(nt,!0);if(isCollection$1(ot))ot.setIn(it,rt);else if(ot===void 0&&this.schema)this.set(nt,collectionFromPath(this.schema,it,rt));else throw new Error(`Expected YAML collection at ${nt}. Remaining path: ${it}`)}}};Collection$4.maxFlowStringSingleLineLength=60;const stringifyComment=tt=>tt.replace(/^(?!$)(?: $)?/gm,"#");function indentComment(tt,et){return/^\n+$/.test(tt)?tt.substring(1):et?tt.replace(/^(?! *$)/gm,et):tt}const lineComment=(tt,et,rt)=>tt.endsWith(`
`)?indentComment(rt,et):rt.includes(`
`)?`
`+indentComment(rt,et):(tt.endsWith(" ")?"":" ")+rt,FOLD_FLOW="flow",FOLD_BLOCK="block",FOLD_QUOTED="quoted";function foldFlowLines(tt,et,rt="flow",{indentAtStart:nt,lineWidth:it=80,minContentWidth:ot=20,onFold:at,onOverflow:st}={}){if(!it||it<0)return tt;const lt=Math.max(1+ot,1+it-et.length);if(tt.length<=lt)return tt;const ct=[],ut={};let dt=it-et.length;typeof nt=="number"&&(nt>it-Math.max(2,ot)?ct.push(0):dt=it-nt);let ft,pt,mt=!1,ht=-1,gt=-1,vt=-1;rt===FOLD_BLOCK&&(ht=consumeMoreIndentedLines(tt,ht),ht!==-1&&(dt=ht+lt));for(let bt;bt=tt[ht+=1];){if(rt===FOLD_QUOTED&&bt==="\\"){switch(gt=ht,tt[ht+1]){case"x":ht+=3;break;case"u":ht+=5;break;case"U":ht+=9;break;default:ht+=1}vt=ht}if(bt===`
`)rt===FOLD_BLOCK&&(ht=consumeMoreIndentedLines(tt,ht)),dt=ht+lt,ft=void 0;else{if(bt===" "&&pt&&pt!==" "&&pt!==`
`&&pt!=="	"){const xt=tt[ht+1];xt&&xt!==" "&&xt!==`
`&&xt!=="	"&&(ft=ht)}if(ht>=dt)if(ft)ct.push(ft),dt=ft+lt,ft=void 0;else if(rt===FOLD_QUOTED){for(;pt===" "||pt==="	";)pt=bt,bt=tt[ht+=1],mt=!0;const xt=ht>vt+1?ht-2:gt-1;if(ut[xt])return tt;ct.push(xt),ut[xt]=!0,dt=xt+lt,ft=void 0}else mt=!0}pt=bt}if(mt&&st&&st(),ct.length===0)return tt;at&&at();let yt=tt.slice(0,ct[0]);for(let bt=0;bt<ct.length;++bt){const xt=ct[bt],$t=ct[bt+1]||tt.length;xt===0?yt=`
${et}${tt.slice(0,$t)}`:(rt===FOLD_QUOTED&&ut[xt]&&(yt+=`${tt[xt]}\\`),yt+=`
${et}${tt.slice(xt+1,$t)}`)}return yt}function consumeMoreIndentedLines(tt,et){let rt=tt[et+1];for(;rt===" "||rt==="	";){do rt=tt[et+=1];while(rt&&rt!==`
`);rt=tt[et+1]}return et}const getFoldOptions=tt=>({indentAtStart:tt.indentAtStart,lineWidth:tt.options.lineWidth,minContentWidth:tt.options.minContentWidth}),containsDocumentMarker=tt=>/^(%|---|\.\.\.)/m.test(tt);function lineLengthOverLimit(tt,et,rt){if(!et||et<0)return!1;const nt=et-rt,it=tt.length;if(it<=nt)return!1;for(let ot=0,at=0;ot<it;++ot)if(tt[ot]===`
`){if(ot-at>nt)return!0;if(at=ot+1,it-at<=nt)return!1}return!0}function doubleQuotedString(tt,et){const rt=JSON.stringify(tt);if(et.options.doubleQuotedAsJSON)return rt;const{implicitKey:nt}=et,it=et.options.doubleQuotedMinMultiLineLength,ot=et.indent||(containsDocumentMarker(tt)?"  ":"");let at="",st=0;for(let lt=0,ct=rt[lt];ct;ct=rt[++lt])if(ct===" "&&rt[lt+1]==="\\"&&rt[lt+2]==="n"&&(at+=rt.slice(st,lt)+"\\ ",lt+=1,st=lt,ct="\\"),ct==="\\")switch(rt[lt+1]){case"u":{at+=rt.slice(st,lt);const ut=rt.substr(lt+2,4);switch(ut){case"0000":at+="\\0";break;case"0007":at+="\\a";break;case"000b":at+="\\v";break;case"001b":at+="\\e";break;case"0085":at+="\\N";break;case"00a0":at+="\\_";break;case"2028":at+="\\L";break;case"2029":at+="\\P";break;default:ut.substr(0,2)==="00"?at+="\\x"+ut.substr(2):at+=rt.substr(lt,6)}lt+=5,st=lt+1}break;case"n":if(nt||rt[lt+2]==='"'||rt.length<it)lt+=1;else{for(at+=rt.slice(st,lt)+`

`;rt[lt+2]==="\\"&&rt[lt+3]==="n"&&rt[lt+4]!=='"';)at+=`
`,lt+=2;at+=ot,rt[lt+2]===" "&&(at+="\\"),lt+=1,st=lt+1}break;default:lt+=1}return at=st?at+rt.slice(st):rt,nt?at:foldFlowLines(at,ot,FOLD_QUOTED,getFoldOptions(et))}function singleQuotedString(tt,et){if(et.options.singleQuote===!1||et.implicitKey&&tt.includes(`
`)||/[ \t]\n|\n[ \t]/.test(tt))return doubleQuotedString(tt,et);const rt=et.indent||(containsDocumentMarker(tt)?"  ":""),nt="'"+tt.replace(/'/g,"''").replace(/\n+/g,`$&
${rt}`)+"'";return et.implicitKey?nt:foldFlowLines(nt,rt,FOLD_FLOW,getFoldOptions(et))}function quotedString(tt,et){const{singleQuote:rt}=et.options;let nt;if(rt===!1)nt=doubleQuotedString;else{const it=tt.includes('"'),ot=tt.includes("'");it&&!ot?nt=singleQuotedString:ot&&!it?nt=doubleQuotedString:nt=rt?singleQuotedString:doubleQuotedString}return nt(tt,et)}function blockString({comment:tt,type:et,value:rt},nt,it,ot){const{blockQuote:at,commentString:st,lineWidth:lt}=nt.options;if(!at||/\n[\t ]+$/.test(rt)||/^\s*$/.test(rt))return quotedString(rt,nt);const ct=nt.indent||(nt.forceBlockIndent||containsDocumentMarker(rt)?"  ":""),ut=at==="literal"?!0:at==="folded"||et===Scalar.BLOCK_FOLDED?!1:et===Scalar.BLOCK_LITERAL?!0:!lineLengthOverLimit(rt,lt,ct.length);if(!rt)return ut?`|
`:`>
`;let dt,ft;for(ft=rt.length;ft>0;--ft){const Tt=rt[ft-1];if(Tt!==`
`&&Tt!=="	"&&Tt!==" ")break}let pt=rt.substring(ft);const mt=pt.indexOf(`
`);mt===-1?dt="-":rt===pt||mt!==pt.length-1?(dt="+",ot&&ot()):dt="",pt&&(rt=rt.slice(0,-pt.length),pt[pt.length-1]===`
`&&(pt=pt.slice(0,-1)),pt=pt.replace(/\n+(?!\n|$)/g,`$&${ct}`));let ht=!1,gt,vt=-1;for(gt=0;gt<rt.length;++gt){const Tt=rt[gt];if(Tt===" ")ht=!0;else if(Tt===`
`)vt=gt;else break}let yt=rt.substring(0,vt<gt?vt+1:gt);yt&&(rt=rt.substring(yt.length),yt=yt.replace(/\n+/g,`$&${ct}`));let xt=(ut?"|":">")+(ht?ct?"2":"1":"")+dt;if(tt&&(xt+=" "+st(tt.replace(/ ?[\r\n]+/g," ")),it&&it()),ut)return rt=rt.replace(/\n+/g,`$&${ct}`),`${xt}
${ct}${yt}${rt}${pt}`;rt=rt.replace(/\n+/g,`
$&`).replace(/(?:^|\n)([\t ].*)(?:([\n\t ]*)\n(?![\n\t ]))?/g,"$1$2").replace(/\n+/g,`$&${ct}`);const $t=foldFlowLines(`${yt}${rt}${pt}`,ct,FOLD_BLOCK,getFoldOptions(nt));return`${xt}
${ct}${$t}`}function plainString(tt,et,rt,nt){const{type:it,value:ot}=tt,{actualString:at,implicitKey:st,indent:lt,indentStep:ct,inFlow:ut}=et;if(st&&/[\n[\]{},]/.test(ot)||ut&&/[[\]{},]/.test(ot))return quotedString(ot,et);if(!ot||/^[\n\t ,[\]{}#&*!|>'"%@`]|^[?-]$|^[?-][ \t]|[\n:][ \t]|[ \t]\n|[\n\t ]#|[\n\t :]$/.test(ot))return st||ut||!ot.includes(`
`)?quotedString(ot,et):blockString(tt,et,rt,nt);if(!st&&!ut&&it!==Scalar.PLAIN&&ot.includes(`
`))return blockString(tt,et,rt,nt);if(containsDocumentMarker(ot)){if(lt==="")return et.forceBlockIndent=!0,blockString(tt,et,rt,nt);if(st&&lt===ct)return quotedString(ot,et)}const dt=ot.replace(/\n+/g,`$&
${lt}`);if(at){const ft=ht=>{var gt;return ht.default&&ht.tag!=="tag:yaml.org,2002:str"&&((gt=ht.test)==null?void 0:gt.test(dt))},{compat:pt,tags:mt}=et.doc.schema;if(mt.some(ft)||pt!=null&&pt.some(ft))return quotedString(ot,et)}return st?dt:foldFlowLines(dt,lt,FOLD_FLOW,getFoldOptions(et))}function stringifyString(tt,et,rt,nt){const{implicitKey:it,inFlow:ot}=et,at=typeof tt.value=="string"?tt:Object.assign({},tt,{value:String(tt.value)});let{type:st}=tt;st!==Scalar.QUOTE_DOUBLE&&/[\x00-\x08\x0b-\x1f\x7f-\x9f\u{D800}-\u{DFFF}]/u.test(at.value)&&(st=Scalar.QUOTE_DOUBLE);const lt=ut=>{switch(ut){case Scalar.BLOCK_FOLDED:case Scalar.BLOCK_LITERAL:return it||ot?quotedString(at.value,et):blockString(at,et,rt,nt);case Scalar.QUOTE_DOUBLE:return doubleQuotedString(at.value,et);case Scalar.QUOTE_SINGLE:return singleQuotedString(at.value,et);case Scalar.PLAIN:return plainString(at,et,rt,nt);default:return null}};let ct=lt(st);if(ct===null){const{defaultKeyType:ut,defaultStringType:dt}=et.options,ft=it&&ut||dt;if(ct=lt(ft),ct===null)throw new Error(`Unsupported default string type ${ft}`)}return ct}function createStringifyContext(tt,et){const rt=Object.assign({blockQuote:!0,commentString:stringifyComment,defaultKeyType:null,defaultStringType:"PLAIN",directives:null,doubleQuotedAsJSON:!1,doubleQuotedMinMultiLineLength:40,falseStr:"false",flowCollectionPadding:!0,indentSeq:!0,lineWidth:80,minContentWidth:20,nullStr:"null",simpleKeys:!1,singleQuote:null,trueStr:"true",verifyAliasOrder:!0},tt.schema.toStringOptions,et);let nt;switch(rt.collectionStyle){case"block":nt=!1;break;case"flow":nt=!0;break;default:nt=null}return{anchors:new Set,doc:tt,flowCollectionPadding:rt.flowCollectionPadding?" ":"",indent:"",indentStep:typeof rt.indent=="number"?" ".repeat(rt.indent):"  ",inFlow:nt,options:rt}}function getTagObject(tt,et){var it;if(et.tag){const ot=tt.filter(at=>at.tag===et.tag);if(ot.length>0)return ot.find(at=>at.format===et.format)??ot[0]}let rt,nt;if(isScalar$1(et)){nt=et.value;const ot=tt.filter(at=>{var st;return(st=at.identify)==null?void 0:st.call(at,nt)});rt=ot.find(at=>at.format===et.format)??ot.find(at=>!at.format)}else nt=et,rt=tt.find(ot=>ot.nodeClass&&nt instanceof ot.nodeClass);if(!rt){const ot=((it=nt==null?void 0:nt.constructor)==null?void 0:it.name)??typeof nt;throw new Error(`Tag not resolved for ${ot} value`)}return rt}function stringifyProps(tt,et,{anchors:rt,doc:nt}){if(!nt.directives)return"";const it=[],ot=(isScalar$1(tt)||isCollection$1(tt))&&tt.anchor;ot&&anchorIsValid(ot)&&(rt.add(ot),it.push(`&${ot}`));const at=tt.tag?tt.tag:et.default?null:et.tag;return at&&it.push(nt.directives.tagString(at)),it.join(" ")}function stringify$9(tt,et,rt,nt){var lt;if(isPair(tt))return tt.toString(et,rt,nt);if(isAlias(tt)){if(et.doc.directives)return tt.toString(et);if((lt=et.resolvedAliases)!=null&&lt.has(tt))throw new TypeError("Cannot stringify circular structure without alias nodes");et.resolvedAliases?et.resolvedAliases.add(tt):et.resolvedAliases=new Set([tt]),tt=tt.resolve(et.doc)}let it;const ot=isNode(tt)?tt:et.doc.createNode(tt,{onTagObj:ct=>it=ct});it||(it=getTagObject(et.doc.schema.tags,ot));const at=stringifyProps(ot,it,et);at.length>0&&(et.indentAtStart=(et.indentAtStart??0)+at.length+1);const st=typeof it.stringify=="function"?it.stringify(ot,et,rt,nt):isScalar$1(ot)?stringifyString(ot,et,rt,nt):ot.toString(et,rt,nt);return at?isScalar$1(ot)||st[0]==="{"||st[0]==="["?`${at} ${st}`:`${at}
${et.indent}${st}`:st}function stringifyPair({key:tt,value:et},rt,nt,it){const{allNullValues:ot,doc:at,indent:st,indentStep:lt,options:{commentString:ct,indentSeq:ut,simpleKeys:dt}}=rt;let ft=isNode(tt)&&tt.comment||null;if(dt){if(ft)throw new Error("With simple keys, key nodes cannot have comments");if(isCollection$1(tt)){const wt="With simple keys, collection cannot be used as a key value";throw new Error(wt)}}let pt=!dt&&(!tt||ft&&et==null&&!rt.inFlow||isCollection$1(tt)||(isScalar$1(tt)?tt.type===Scalar.BLOCK_FOLDED||tt.type===Scalar.BLOCK_LITERAL:typeof tt=="object"));rt=Object.assign({},rt,{allNullValues:!1,implicitKey:!pt&&(dt||!ot),indent:st+lt});let mt=!1,ht=!1,gt=stringify$9(tt,rt,()=>mt=!0,()=>ht=!0);if(!pt&&!rt.inFlow&&gt.length>1024){if(dt)throw new Error("With simple keys, single line scalar must not span more than 1024 characters");pt=!0}if(rt.inFlow){if(ot||et==null)return mt&&nt&&nt(),gt===""?"?":pt?`? ${gt}`:gt}else if(ot&&!dt||et==null&&pt)return gt=`? ${gt}`,ft&&!mt?gt+=lineComment(gt,rt.indent,ct(ft)):ht&&it&&it(),gt;mt&&(ft=null),pt?(ft&&(gt+=lineComment(gt,rt.indent,ct(ft))),gt=`? ${gt}
${st}:`):(gt=`${gt}:`,ft&&(gt+=lineComment(gt,rt.indent,ct(ft))));let vt,yt,bt;isNode(et)?(vt=!!et.spaceBefore,yt=et.commentBefore,bt=et.comment):(vt=!1,yt=null,bt=null,et&&typeof et=="object"&&(et=at.createNode(et))),rt.implicitKey=!1,!pt&&!ft&&isScalar$1(et)&&(rt.indentAtStart=gt.length+1),ht=!1,!ut&&lt.length>=2&&!rt.inFlow&&!pt&&isSeq(et)&&!et.flow&&!et.tag&&!et.anchor&&(rt.indent=rt.indent.substring(2));let xt=!1;const $t=stringify$9(et,rt,()=>xt=!0,()=>ht=!0);let Tt=" ";if(ft||vt||yt){if(Tt=vt?`
`:"",yt){const wt=ct(yt);Tt+=`
${indentComment(wt,rt.indent)}`}$t===""&&!rt.inFlow?Tt===`
`&&(Tt=`

`):Tt+=`
${rt.indent}`}else if(!pt&&isCollection$1(et)){const wt=$t[0],At=$t.indexOf(`
`),Rt=At!==-1,It=rt.inFlow??et.flow??et.items.length===0;if(Rt||!It){let Lt=!1;if(Rt&&(wt==="&"||wt==="!")){let Pt=$t.indexOf(" ");wt==="&"&&Pt!==-1&&Pt<At&&$t[Pt+1]==="!"&&(Pt=$t.indexOf(" ",Pt+1)),(Pt===-1||At<Pt)&&(Lt=!0)}Lt||(Tt=`
${rt.indent}`)}}else($t===""||$t[0]===`
`)&&(Tt="");return gt+=Tt+$t,rt.inFlow?xt&&nt&&nt():bt&&!xt?gt+=lineComment(gt,rt.indent,ct(bt)):ht&&it&&it(),gt}function warn$7(tt,et){(tt==="debug"||tt==="warn")&&(typeof process<"u"&&process.emitWarning?process.emitWarning(et):console.warn(et))}const MERGE_KEY="<<";function addPairToJSMap(tt,et,{key:rt,value:nt}){if(tt!=null&&tt.doc.schema.merge&&isMergeKey(rt))if(nt=isAlias(nt)?nt.resolve(tt.doc):nt,isSeq(nt))for(const it of nt.items)mergeToJSMap(tt,et,it);else if(Array.isArray(nt))for(const it of nt)mergeToJSMap(tt,et,it);else mergeToJSMap(tt,et,nt);else{const it=toJS(rt,"",tt);if(et instanceof Map)et.set(it,toJS(nt,it,tt));else if(et instanceof Set)et.add(it);else{const ot=stringifyKey(rt,it,tt),at=toJS(nt,ot,tt);ot in et?Object.defineProperty(et,ot,{value:at,writable:!0,enumerable:!0,configurable:!0}):et[ot]=at}}return et}const isMergeKey=tt=>tt===MERGE_KEY||isScalar$1(tt)&&tt.value===MERGE_KEY&&(!tt.type||tt.type===Scalar.PLAIN);function mergeToJSMap(tt,et,rt){const nt=tt&&isAlias(rt)?rt.resolve(tt.doc):rt;if(!isMap$3(nt))throw new Error("Merge sources must be maps or map aliases");const it=nt.toJSON(null,tt,Map);for(const[ot,at]of it)et instanceof Map?et.has(ot)||et.set(ot,at):et instanceof Set?et.add(ot):Object.prototype.hasOwnProperty.call(et,ot)||Object.defineProperty(et,ot,{value:at,writable:!0,enumerable:!0,configurable:!0});return et}function stringifyKey(tt,et,rt){if(et===null)return"";if(typeof et!="object")return String(et);if(isNode(tt)&&rt&&rt.doc){const nt=createStringifyContext(rt.doc,{});nt.anchors=new Set;for(const ot of rt.anchors.keys())nt.anchors.add(ot.anchor);nt.inFlow=!0,nt.inStringifyKey=!0;const it=tt.toString(nt);if(!rt.mapKeyWarned){let ot=JSON.stringify(it);ot.length>40&&(ot=ot.substring(0,36)+'..."'),warn$7(rt.doc.options.logLevel,`Keys with collection values will be stringified due to JS Object restrictions: ${ot}. Set mapAsMap: true to use object keys.`),rt.mapKeyWarned=!0}return it}return JSON.stringify(et)}function createPair(tt,et,rt){const nt=createNode(tt,void 0,rt),it=createNode(et,void 0,rt);return new Pair(nt,it)}class Pair{constructor(et,rt=null){Object.defineProperty(this,NODE_TYPE,{value:PAIR}),this.key=et,this.value=rt}clone(et){let{key:rt,value:nt}=this;return isNode(rt)&&(rt=rt.clone(et)),isNode(nt)&&(nt=nt.clone(et)),new Pair(rt,nt)}toJSON(et,rt){const nt=rt!=null&&rt.mapAsMap?new Map:{};return addPairToJSMap(rt,nt,this)}toString(et,rt,nt){return et!=null&&et.doc?stringifyPair(this,et,rt,nt):JSON.stringify(this)}}function stringifyCollection(tt,et,rt){return(et.inFlow??tt.flow?stringifyFlowCollection:stringifyBlockCollection)(tt,et,rt)}function stringifyBlockCollection({comment:tt,items:et},rt,{blockItemPrefix:nt,flowChars:it,itemIndent:ot,onChompKeep:at,onComment:st}){const{indent:lt,options:{commentString:ct}}=rt,ut=Object.assign({},rt,{indent:ot,type:null});let dt=!1;const ft=[];for(let mt=0;mt<et.length;++mt){const ht=et[mt];let gt=null;if(isNode(ht))!dt&&ht.spaceBefore&&ft.push(""),addCommentBefore(rt,ft,ht.commentBefore,dt),ht.comment&&(gt=ht.comment);else if(isPair(ht)){const yt=isNode(ht.key)?ht.key:null;yt&&(!dt&&yt.spaceBefore&&ft.push(""),addCommentBefore(rt,ft,yt.commentBefore,dt))}dt=!1;let vt=stringify$9(ht,ut,()=>gt=null,()=>dt=!0);gt&&(vt+=lineComment(vt,ot,ct(gt))),dt&&gt&&(dt=!1),ft.push(nt+vt)}let pt;if(ft.length===0)pt=it.start+it.end;else{pt=ft[0];for(let mt=1;mt<ft.length;++mt){const ht=ft[mt];pt+=ht?`
${lt}${ht}`:`
`}}return tt?(pt+=`
`+indentComment(ct(tt),lt),st&&st()):dt&&at&&at(),pt}function stringifyFlowCollection({comment:tt,items:et},rt,{flowChars:nt,itemIndent:it,onComment:ot}){const{indent:at,indentStep:st,flowCollectionPadding:lt,options:{commentString:ct}}=rt;it+=st;const ut=Object.assign({},rt,{indent:it,inFlow:!0,type:null});let dt=!1,ft=0;const pt=[];for(let vt=0;vt<et.length;++vt){const yt=et[vt];let bt=null;if(isNode(yt))yt.spaceBefore&&pt.push(""),addCommentBefore(rt,pt,yt.commentBefore,!1),yt.comment&&(bt=yt.comment);else if(isPair(yt)){const $t=isNode(yt.key)?yt.key:null;$t&&($t.spaceBefore&&pt.push(""),addCommentBefore(rt,pt,$t.commentBefore,!1),$t.comment&&(dt=!0));const Tt=isNode(yt.value)?yt.value:null;Tt?(Tt.comment&&(bt=Tt.comment),Tt.commentBefore&&(dt=!0)):yt.value==null&&$t&&$t.comment&&(bt=$t.comment)}bt&&(dt=!0);let xt=stringify$9(yt,ut,()=>bt=null);vt<et.length-1&&(xt+=","),bt&&(xt+=lineComment(xt,it,ct(bt))),!dt&&(pt.length>ft||xt.includes(`
`))&&(dt=!0),pt.push(xt),ft=pt.length}let mt;const{start:ht,end:gt}=nt;if(pt.length===0)mt=ht+gt;else if(dt||(dt=pt.reduce((yt,bt)=>yt+bt.length+2,2)>Collection$4.maxFlowStringSingleLineLength),dt){mt=ht;for(const vt of pt)mt+=vt?`
${st}${at}${vt}`:`
`;mt+=`
${at}${gt}`}else mt=`${ht}${lt}${pt.join(" ")}${lt}${gt}`;return tt&&(mt+=lineComment(mt,ct(tt),at),ot&&ot()),mt}function addCommentBefore({indent:tt,options:{commentString:et}},rt,nt,it){if(nt&&it&&(nt=nt.replace(/^\n+/,"")),nt){const ot=indentComment(et(nt),tt);rt.push(ot.trimStart())}}function findPair(tt,et){const rt=isScalar$1(et)?et.value:et;for(const nt of tt)if(isPair(nt)&&(nt.key===et||nt.key===rt||isScalar$1(nt.key)&&nt.key.value===rt))return nt}class YAMLMap extends Collection$4{static get tagName(){return"tag:yaml.org,2002:map"}constructor(et){super(MAP,et),this.items=[]}add(et,rt){var at;let nt;isPair(et)?nt=et:!et||typeof et!="object"||!("key"in et)?nt=new Pair(et,et==null?void 0:et.value):nt=new Pair(et.key,et.value);const it=findPair(this.items,nt.key),ot=(at=this.schema)==null?void 0:at.sortMapEntries;if(it){if(!rt)throw new Error(`Key ${nt.key} already set`);isScalar$1(it.value)&&isScalarValue(nt.value)?it.value.value=nt.value:it.value=nt.value}else if(ot){const st=this.items.findIndex(lt=>ot(nt,lt)<0);st===-1?this.items.push(nt):this.items.splice(st,0,nt)}else this.items.push(nt)}delete(et){const rt=findPair(this.items,et);return rt?this.items.splice(this.items.indexOf(rt),1).length>0:!1}get(et,rt){const nt=findPair(this.items,et),it=nt==null?void 0:nt.value;return(!rt&&isScalar$1(it)?it.value:it)??void 0}has(et){return!!findPair(this.items,et)}set(et,rt){this.add(new Pair(et,rt),!0)}toJSON(et,rt,nt){const it=nt?new nt:rt!=null&&rt.mapAsMap?new Map:{};rt!=null&&rt.onCreate&&rt.onCreate(it);for(const ot of this.items)addPairToJSMap(rt,it,ot);return it}toString(et,rt,nt){if(!et)return JSON.stringify(this);for(const it of this.items)if(!isPair(it))throw new Error(`Map items must all be pairs; found ${JSON.stringify(it)} instead`);return!et.allNullValues&&this.hasAllNullValues(!1)&&(et=Object.assign({},et,{allNullValues:!0})),stringifyCollection(this,et,{blockItemPrefix:"",flowChars:{start:"{",end:"}"},itemIndent:et.indent||"",onChompKeep:nt,onComment:rt})}}function createMap(tt,et,rt){const{keepUndefined:nt,replacer:it}=rt,ot=new YAMLMap(tt),at=(st,lt)=>{if(typeof it=="function")lt=it.call(et,st,lt);else if(Array.isArray(it)&&!it.includes(st))return;(lt!==void 0||nt)&&ot.items.push(createPair(st,lt,rt))};if(et instanceof Map)for(const[st,lt]of et)at(st,lt);else if(et&&typeof et=="object")for(const st of Object.keys(et))at(st,et[st]);return typeof tt.sortMapEntries=="function"&&ot.items.sort(tt.sortMapEntries),ot}const map$1={collection:"map",createNode:createMap,default:!0,nodeClass:YAMLMap,tag:"tag:yaml.org,2002:map",resolve(tt,et){return isMap$3(tt)||et("Expected a mapping for this tag"),tt}};class YAMLSeq extends Collection$4{static get tagName(){return"tag:yaml.org,2002:seq"}constructor(et){super(SEQ,et),this.items=[]}add(et){this.items.push(et)}delete(et){const rt=asItemIndex(et);return typeof rt!="number"?!1:this.items.splice(rt,1).length>0}get(et,rt){const nt=asItemIndex(et);if(typeof nt!="number")return;const it=this.items[nt];return!rt&&isScalar$1(it)?it.value:it}has(et){const rt=asItemIndex(et);return typeof rt=="number"&&rt<this.items.length}set(et,rt){const nt=asItemIndex(et);if(typeof nt!="number")throw new Error(`Expected a valid index, not ${et}.`);const it=this.items[nt];isScalar$1(it)&&isScalarValue(rt)?it.value=rt:this.items[nt]=rt}toJSON(et,rt){const nt=[];rt!=null&&rt.onCreate&&rt.onCreate(nt);let it=0;for(const ot of this.items)nt.push(toJS(ot,String(it++),rt));return nt}toString(et,rt,nt){return et?stringifyCollection(this,et,{blockItemPrefix:"- ",flowChars:{start:"[",end:"]"},itemIndent:(et.indent||"")+"  ",onChompKeep:nt,onComment:rt}):JSON.stringify(this)}}function asItemIndex(tt){let et=isScalar$1(tt)?tt.value:tt;return et&&typeof et=="string"&&(et=Number(et)),typeof et=="number"&&Number.isInteger(et)&&et>=0?et:null}function createSeq(tt,et,rt){const{replacer:nt}=rt,it=new YAMLSeq(tt);if(et&&Symbol.iterator in Object(et)){let ot=0;for(let at of et){if(typeof nt=="function"){const st=et instanceof Set?at:String(ot++);at=nt.call(et,st,at)}it.items.push(createNode(at,void 0,rt))}}return it}const seq={collection:"seq",createNode:createSeq,default:!0,nodeClass:YAMLSeq,tag:"tag:yaml.org,2002:seq",resolve(tt,et){return isSeq(tt)||et("Expected a sequence for this tag"),tt}},string={identify:tt=>typeof tt=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:tt=>tt,stringify(tt,et,rt,nt){return et=Object.assign({actualString:!0},et),stringifyString(tt,et,rt,nt)}},nullTag$1={identify:tt=>tt==null,createNode:()=>new Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^(?:~|[Nn]ull|NULL)?$/,resolve:()=>new Scalar(null),stringify:({source:tt},et)=>typeof tt=="string"&&nullTag$1.test.test(tt)?tt:et.options.nullStr},boolTag$4={identify:tt=>typeof tt=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:[Tt]rue|TRUE|[Ff]alse|FALSE)$/,resolve:tt=>new Scalar(tt[0]==="t"||tt[0]==="T"),stringify({source:tt,value:et},rt){if(tt&&boolTag$4.test.test(tt)){const nt=tt[0]==="t"||tt[0]==="T";if(et===nt)return tt}return et?rt.options.trueStr:rt.options.falseStr}};function stringifyNumber({format:tt,minFractionDigits:et,tag:rt,value:nt}){if(typeof nt=="bigint")return String(nt);const it=typeof nt=="number"?nt:Number(nt);if(!isFinite(it))return isNaN(it)?".nan":it<0?"-.inf":".inf";let ot=JSON.stringify(nt);if(!tt&&et&&(!rt||rt==="tag:yaml.org,2002:float")&&/^\d/.test(ot)){let at=ot.indexOf(".");at<0&&(at=ot.length,ot+=".");let st=et-(ot.length-at-1);for(;st-- >0;)ot+="0"}return ot}const floatNaN$1={identify:tt=>typeof tt=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^(?:[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN))$/,resolve:tt=>tt.slice(-3).toLowerCase()==="nan"?NaN:tt[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber},floatExp$1={identify:tt=>typeof tt=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:\.[0-9]+|[0-9]+(?:\.[0-9]*)?)[eE][-+]?[0-9]+$/,resolve:tt=>parseFloat(tt),stringify(tt){const et=Number(tt.value);return isFinite(et)?et.toExponential():stringifyNumber(tt)}},float$1={identify:tt=>typeof tt=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:\.[0-9]+|[0-9]+\.[0-9]*)$/,resolve(tt){const et=new Scalar(parseFloat(tt)),rt=tt.indexOf(".");return rt!==-1&&tt[tt.length-1]==="0"&&(et.minFractionDigits=tt.length-rt-1),et},stringify:stringifyNumber},intIdentify$2=tt=>typeof tt=="bigint"||Number.isInteger(tt),intResolve$1=(tt,et,rt,{intAsBigInt:nt})=>nt?BigInt(tt):parseInt(tt.substring(et),rt);function intStringify$1(tt,et,rt){const{value:nt}=tt;return intIdentify$2(nt)&&nt>=0?rt+nt.toString(et):stringifyNumber(tt)}const intOct$1={identify:tt=>intIdentify$2(tt)&&tt>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^0o[0-7]+$/,resolve:(tt,et,rt)=>intResolve$1(tt,2,8,rt),stringify:tt=>intStringify$1(tt,8,"0o")},int$1={identify:intIdentify$2,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9]+$/,resolve:(tt,et,rt)=>intResolve$1(tt,0,10,rt),stringify:stringifyNumber},intHex$1={identify:tt=>intIdentify$2(tt)&&tt>=0,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^0x[0-9a-fA-F]+$/,resolve:(tt,et,rt)=>intResolve$1(tt,2,16,rt),stringify:tt=>intStringify$1(tt,16,"0x")},schema$2=[map$1,seq,string,nullTag$1,boolTag$4,intOct$1,int$1,intHex$1,floatNaN$1,floatExp$1,float$1];function intIdentify$1(tt){return typeof tt=="bigint"||Number.isInteger(tt)}const stringifyJSON=({value:tt})=>JSON.stringify(tt),jsonScalars=[{identify:tt=>typeof tt=="string",default:!0,tag:"tag:yaml.org,2002:str",resolve:tt=>tt,stringify:stringifyJSON},{identify:tt=>tt==null,createNode:()=>new Scalar(null),default:!0,tag:"tag:yaml.org,2002:null",test:/^null$/,resolve:()=>null,stringify:stringifyJSON},{identify:tt=>typeof tt=="boolean",default:!0,tag:"tag:yaml.org,2002:bool",test:/^true|false$/,resolve:tt=>tt==="true",stringify:stringifyJSON},{identify:intIdentify$1,default:!0,tag:"tag:yaml.org,2002:int",test:/^-?(?:0|[1-9][0-9]*)$/,resolve:(tt,et,{intAsBigInt:rt})=>rt?BigInt(tt):parseInt(tt,10),stringify:({value:tt})=>intIdentify$1(tt)?tt.toString():JSON.stringify(tt)},{identify:tt=>typeof tt=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^-?(?:0|[1-9][0-9]*)(?:\.[0-9]*)?(?:[eE][-+]?[0-9]+)?$/,resolve:tt=>parseFloat(tt),stringify:stringifyJSON}],jsonError={default:!0,tag:"",test:/^/,resolve(tt,et){return et(`Unresolved plain scalar ${JSON.stringify(tt)}`),tt}},schema$1=[map$1,seq].concat(jsonScalars,jsonError),binary={identify:tt=>tt instanceof Uint8Array,default:!1,tag:"tag:yaml.org,2002:binary",resolve(tt,et){if(typeof Buffer=="function")return Buffer.from(tt,"base64");if(typeof atob=="function"){const rt=atob(tt.replace(/[\n\r]/g,"")),nt=new Uint8Array(rt.length);for(let it=0;it<rt.length;++it)nt[it]=rt.charCodeAt(it);return nt}else return et("This environment does not support reading binary tags; either Buffer or atob is required"),tt},stringify({comment:tt,type:et,value:rt},nt,it,ot){const at=rt;let st;if(typeof Buffer=="function")st=at instanceof Buffer?at.toString("base64"):Buffer.from(at.buffer).toString("base64");else if(typeof btoa=="function"){let lt="";for(let ct=0;ct<at.length;++ct)lt+=String.fromCharCode(at[ct]);st=btoa(lt)}else throw new Error("This environment does not support writing binary tags; either Buffer or btoa is required");if(et||(et=Scalar.BLOCK_LITERAL),et!==Scalar.QUOTE_DOUBLE){const lt=Math.max(nt.options.lineWidth-nt.indent.length,nt.options.minContentWidth),ct=Math.ceil(st.length/lt),ut=new Array(ct);for(let dt=0,ft=0;dt<ct;++dt,ft+=lt)ut[dt]=st.substr(ft,lt);st=ut.join(et===Scalar.BLOCK_LITERAL?`
`:" ")}return stringifyString({comment:tt,type:et,value:st},nt,it,ot)}};function resolvePairs(tt,et){if(isSeq(tt))for(let rt=0;rt<tt.items.length;++rt){let nt=tt.items[rt];if(!isPair(nt)){if(isMap$3(nt)){nt.items.length>1&&et("Each pair must have its own sequence indicator");const it=nt.items[0]||new Pair(new Scalar(null));if(nt.commentBefore&&(it.key.commentBefore=it.key.commentBefore?`${nt.commentBefore}
${it.key.commentBefore}`:nt.commentBefore),nt.comment){const ot=it.value??it.key;ot.comment=ot.comment?`${nt.comment}
${ot.comment}`:nt.comment}nt=it}tt.items[rt]=isPair(nt)?nt:new Pair(nt)}}else et("Expected a sequence for this tag");return tt}function createPairs(tt,et,rt){const{replacer:nt}=rt,it=new YAMLSeq(tt);it.tag="tag:yaml.org,2002:pairs";let ot=0;if(et&&Symbol.iterator in Object(et))for(let at of et){typeof nt=="function"&&(at=nt.call(et,String(ot++),at));let st,lt;if(Array.isArray(at))if(at.length===2)st=at[0],lt=at[1];else throw new TypeError(`Expected [key, value] tuple: ${at}`);else if(at&&at instanceof Object){const ct=Object.keys(at);if(ct.length===1)st=ct[0],lt=at[st];else throw new TypeError(`Expected { key: value } tuple: ${at}`)}else st=at;it.items.push(createPair(st,lt,rt))}return it}const pairs={collection:"seq",default:!1,tag:"tag:yaml.org,2002:pairs",resolve:resolvePairs,createNode:createPairs};class YAMLOMap extends YAMLSeq{constructor(){super(),this.add=YAMLMap.prototype.add.bind(this),this.delete=YAMLMap.prototype.delete.bind(this),this.get=YAMLMap.prototype.get.bind(this),this.has=YAMLMap.prototype.has.bind(this),this.set=YAMLMap.prototype.set.bind(this),this.tag=YAMLOMap.tag}toJSON(et,rt){if(!rt)return super.toJSON(et);const nt=new Map;rt!=null&&rt.onCreate&&rt.onCreate(nt);for(const it of this.items){let ot,at;if(isPair(it)?(ot=toJS(it.key,"",rt),at=toJS(it.value,ot,rt)):ot=toJS(it,"",rt),nt.has(ot))throw new Error("Ordered maps must not include duplicate keys");nt.set(ot,at)}return nt}}YAMLOMap.tag="tag:yaml.org,2002:omap";const omap={collection:"seq",identify:tt=>tt instanceof Map,nodeClass:YAMLOMap,default:!1,tag:"tag:yaml.org,2002:omap",resolve(tt,et){const rt=resolvePairs(tt,et),nt=[];for(const{key:it}of rt.items)isScalar$1(it)&&(nt.includes(it.value)?et(`Ordered maps must not include duplicate keys: ${it.value}`):nt.push(it.value));return Object.assign(new YAMLOMap,rt)},createNode(tt,et,rt){const nt=createPairs(tt,et,rt),it=new YAMLOMap;return it.items=nt.items,it}};function boolStringify({value:tt,source:et},rt){return et&&(tt?trueTag:falseTag).test.test(et)?et:tt?rt.options.trueStr:rt.options.falseStr}const trueTag={identify:tt=>tt===!0,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:Y|y|[Yy]es|YES|[Tt]rue|TRUE|[Oo]n|ON)$/,resolve:()=>new Scalar(!0),stringify:boolStringify},falseTag={identify:tt=>tt===!1,default:!0,tag:"tag:yaml.org,2002:bool",test:/^(?:N|n|[Nn]o|NO|[Ff]alse|FALSE|[Oo]ff|OFF)$/i,resolve:()=>new Scalar(!1),stringify:boolStringify},floatNaN={identify:tt=>typeof tt=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?\.(?:inf|Inf|INF|nan|NaN|NAN)$/,resolve:tt=>tt.slice(-3).toLowerCase()==="nan"?NaN:tt[0]==="-"?Number.NEGATIVE_INFINITY:Number.POSITIVE_INFINITY,stringify:stringifyNumber},floatExp={identify:tt=>typeof tt=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"EXP",test:/^[-+]?(?:[0-9][0-9_]*)?(?:\.[0-9_]*)?[eE][-+]?[0-9]+$/,resolve:tt=>parseFloat(tt.replace(/_/g,"")),stringify(tt){const et=Number(tt.value);return isFinite(et)?et.toExponential():stringifyNumber(tt)}},float={identify:tt=>typeof tt=="number",default:!0,tag:"tag:yaml.org,2002:float",test:/^[-+]?(?:[0-9][0-9_]*)?\.[0-9_]*$/,resolve(tt){const et=new Scalar(parseFloat(tt.replace(/_/g,""))),rt=tt.indexOf(".");if(rt!==-1){const nt=tt.substring(rt+1).replace(/_/g,"");nt[nt.length-1]==="0"&&(et.minFractionDigits=nt.length)}return et},stringify:stringifyNumber},intIdentify=tt=>typeof tt=="bigint"||Number.isInteger(tt);function intResolve(tt,et,rt,{intAsBigInt:nt}){const it=tt[0];if((it==="-"||it==="+")&&(et+=1),tt=tt.substring(et).replace(/_/g,""),nt){switch(rt){case 2:tt=`0b${tt}`;break;case 8:tt=`0o${tt}`;break;case 16:tt=`0x${tt}`;break}const at=BigInt(tt);return it==="-"?BigInt(-1)*at:at}const ot=parseInt(tt,rt);return it==="-"?-1*ot:ot}function intStringify(tt,et,rt){const{value:nt}=tt;if(intIdentify(nt)){const it=nt.toString(et);return nt<0?"-"+rt+it.substr(1):rt+it}return stringifyNumber(tt)}const intBin={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"BIN",test:/^[-+]?0b[0-1_]+$/,resolve:(tt,et,rt)=>intResolve(tt,2,2,rt),stringify:tt=>intStringify(tt,2,"0b")},intOct={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"OCT",test:/^[-+]?0[0-7_]+$/,resolve:(tt,et,rt)=>intResolve(tt,1,8,rt),stringify:tt=>intStringify(tt,8,"0")},int={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",test:/^[-+]?[0-9][0-9_]*$/,resolve:(tt,et,rt)=>intResolve(tt,0,10,rt),stringify:stringifyNumber},intHex={identify:intIdentify,default:!0,tag:"tag:yaml.org,2002:int",format:"HEX",test:/^[-+]?0x[0-9a-fA-F_]+$/,resolve:(tt,et,rt)=>intResolve(tt,2,16,rt),stringify:tt=>intStringify(tt,16,"0x")};class YAMLSet extends YAMLMap{constructor(et){super(et),this.tag=YAMLSet.tag}add(et){let rt;isPair(et)?rt=et:et&&typeof et=="object"&&"key"in et&&"value"in et&&et.value===null?rt=new Pair(et.key,null):rt=new Pair(et,null),findPair(this.items,rt.key)||this.items.push(rt)}get(et,rt){const nt=findPair(this.items,et);return!rt&&isPair(nt)?isScalar$1(nt.key)?nt.key.value:nt.key:nt}set(et,rt){if(typeof rt!="boolean")throw new Error(`Expected boolean value for set(key, value) in a YAML set, not ${typeof rt}`);const nt=findPair(this.items,et);nt&&!rt?this.items.splice(this.items.indexOf(nt),1):!nt&&rt&&this.items.push(new Pair(et))}toJSON(et,rt){return super.toJSON(et,rt,Set)}toString(et,rt,nt){if(!et)return JSON.stringify(this);if(this.hasAllNullValues(!0))return super.toString(Object.assign({},et,{allNullValues:!0}),rt,nt);throw new Error("Set items must all have null values")}}YAMLSet.tag="tag:yaml.org,2002:set";const set$8={collection:"map",identify:tt=>tt instanceof Set,nodeClass:YAMLSet,default:!1,tag:"tag:yaml.org,2002:set",resolve(tt,et){if(isMap$3(tt)){if(tt.hasAllNullValues(!0))return Object.assign(new YAMLSet,tt);et("Set items must all have null values")}else et("Expected a mapping for this tag");return tt},createNode(tt,et,rt){const{replacer:nt}=rt,it=new YAMLSet(tt);if(et&&Symbol.iterator in Object(et))for(let ot of et)typeof nt=="function"&&(ot=nt.call(et,ot,ot)),it.items.push(createPair(ot,null,rt));return it}};function parseSexagesimal(tt,et){const rt=tt[0],nt=rt==="-"||rt==="+"?tt.substring(1):tt,it=at=>et?BigInt(at):Number(at),ot=nt.replace(/_/g,"").split(":").reduce((at,st)=>at*it(60)+it(st),it(0));return rt==="-"?it(-1)*ot:ot}function stringifySexagesimal(tt){let{value:et}=tt,rt=at=>at;if(typeof et=="bigint")rt=at=>BigInt(at);else if(isNaN(et)||!isFinite(et))return stringifyNumber(tt);let nt="";et<0&&(nt="-",et*=rt(-1));const it=rt(60),ot=[et%it];return et<60?ot.unshift(0):(et=(et-ot[0])/it,ot.unshift(et%it),et>=60&&(et=(et-ot[0])/it,ot.unshift(et))),nt+ot.map(at=>at<10?"0"+String(at):String(at)).join(":").replace(/000000\d*$/,"")}const intTime={identify:tt=>typeof tt=="bigint"||Number.isInteger(tt),default:!0,tag:"tag:yaml.org,2002:int",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+$/,resolve:(tt,et,{intAsBigInt:rt})=>parseSexagesimal(tt,rt),stringify:stringifySexagesimal},floatTime={identify:tt=>typeof tt=="number",default:!0,tag:"tag:yaml.org,2002:float",format:"TIME",test:/^[-+]?[0-9][0-9_]*(?::[0-5]?[0-9])+\.[0-9_]*$/,resolve:tt=>parseSexagesimal(tt,!1),stringify:stringifySexagesimal},timestamp={identify:tt=>tt instanceof Date,default:!0,tag:"tag:yaml.org,2002:timestamp",test:RegExp("^([0-9]{4})-([0-9]{1,2})-([0-9]{1,2})(?:(?:t|T|[ \\t]+)([0-9]{1,2}):([0-9]{1,2}):([0-9]{1,2}(\\.[0-9]+)?)(?:[ \\t]*(Z|[-+][012]?[0-9](?::[0-9]{2})?))?)?$"),resolve(tt){const et=tt.match(timestamp.test);if(!et)throw new Error("!!timestamp expects a date, starting with yyyy-mm-dd");const[,rt,nt,it,ot,at,st]=et.map(Number),lt=et[7]?Number((et[7]+"00").substr(1,3)):0;let ct=Date.UTC(rt,nt-1,it,ot||0,at||0,st||0,lt);const ut=et[8];if(ut&&ut!=="Z"){let dt=parseSexagesimal(ut,!1);Math.abs(dt)<30&&(dt*=60),ct-=6e4*dt}return new Date(ct)},stringify:({value:tt})=>tt.toISOString().replace(/((T00:00)?:00)?\.000Z$/,"")},schema=[map$1,seq,string,nullTag$1,trueTag,falseTag,intBin,intOct,int,intHex,floatNaN,floatExp,float,binary,omap,pairs,set$8,intTime,floatTime,timestamp],schemas=new Map([["core",schema$2],["failsafe",[map$1,seq,string]],["json",schema$1],["yaml11",schema],["yaml-1.1",schema]]),tagsByName={binary,bool:boolTag$4,float:float$1,floatExp:floatExp$1,floatNaN:floatNaN$1,floatTime,int:int$1,intHex:intHex$1,intOct:intOct$1,intTime,map:map$1,null:nullTag$1,omap,pairs,seq,set:set$8,timestamp},coreKnownTags={"tag:yaml.org,2002:binary":binary,"tag:yaml.org,2002:omap":omap,"tag:yaml.org,2002:pairs":pairs,"tag:yaml.org,2002:set":set$8,"tag:yaml.org,2002:timestamp":timestamp};function getTags(tt,et){let rt=schemas.get(et);if(!rt)if(Array.isArray(tt))rt=[];else{const nt=Array.from(schemas.keys()).filter(it=>it!=="yaml11").map(it=>JSON.stringify(it)).join(", ");throw new Error(`Unknown schema "${et}"; use one of ${nt} or define customTags array`)}if(Array.isArray(tt))for(const nt of tt)rt=rt.concat(nt);else typeof tt=="function"&&(rt=tt(rt.slice()));return rt.map(nt=>{if(typeof nt!="string")return nt;const it=tagsByName[nt];if(it)return it;const ot=Object.keys(tagsByName).map(at=>JSON.stringify(at)).join(", ");throw new Error(`Unknown custom tag "${nt}"; use one of ${ot}`)})}const sortMapEntriesByKey=(tt,et)=>tt.key<et.key?-1:tt.key>et.key?1:0;class Schema{constructor({compat:et,customTags:rt,merge:nt,resolveKnownTags:it,schema:ot,sortMapEntries:at,toStringDefaults:st}){this.compat=Array.isArray(et)?getTags(et,"compat"):et?getTags(null,et):null,this.merge=!!nt,this.name=typeof ot=="string"&&ot||"core",this.knownTags=it?coreKnownTags:{},this.tags=getTags(rt,this.name),this.toStringOptions=st??null,Object.defineProperty(this,MAP,{value:map$1}),Object.defineProperty(this,SCALAR$1,{value:string}),Object.defineProperty(this,SEQ,{value:seq}),this.sortMapEntries=typeof at=="function"?at:at===!0?sortMapEntriesByKey:null}clone(){const et=Object.create(Schema.prototype,Object.getOwnPropertyDescriptors(this));return et.tags=this.tags.slice(),et}}function stringifyDocument(tt,et){var lt;const rt=[];let nt=et.directives===!0;if(et.directives!==!1&&tt.directives){const ct=tt.directives.toString(tt);ct?(rt.push(ct),nt=!0):tt.directives.docStart&&(nt=!0)}nt&&rt.push("---");const it=createStringifyContext(tt,et),{commentString:ot}=it.options;if(tt.commentBefore){rt.length!==1&&rt.unshift("");const ct=ot(tt.commentBefore);rt.unshift(indentComment(ct,""))}let at=!1,st=null;if(tt.contents){if(isNode(tt.contents)){if(tt.contents.spaceBefore&&nt&&rt.push(""),tt.contents.commentBefore){const dt=ot(tt.contents.commentBefore);rt.push(indentComment(dt,""))}it.forceBlockIndent=!!tt.comment,st=tt.contents.comment}const ct=st?void 0:()=>at=!0;let ut=stringify$9(tt.contents,it,()=>st=null,ct);st&&(ut+=lineComment(ut,"",ot(st))),(ut[0]==="|"||ut[0]===">")&&rt[rt.length-1]==="---"?rt[rt.length-1]=`--- ${ut}`:rt.push(ut)}else rt.push(stringify$9(tt.contents,it));if((lt=tt.directives)!=null&&lt.docEnd)if(tt.comment){const ct=ot(tt.comment);ct.includes(`
`)?(rt.push("..."),rt.push(indentComment(ct,""))):rt.push(`... ${ct}`)}else rt.push("...");else{let ct=tt.comment;ct&&at&&(ct=ct.replace(/^\n+/,"")),ct&&((!at||st)&&rt[rt.length-1]!==""&&rt.push(""),rt.push(indentComment(ot(ct),"")))}return rt.join(`
`)+`
`}function applyReviver(tt,et,rt,nt){if(nt&&typeof nt=="object")if(Array.isArray(nt))for(let it=0,ot=nt.length;it<ot;++it){const at=nt[it],st=applyReviver(tt,nt,String(it),at);st===void 0?delete nt[it]:st!==at&&(nt[it]=st)}else if(nt instanceof Map)for(const it of Array.from(nt.keys())){const ot=nt.get(it),at=applyReviver(tt,nt,it,ot);at===void 0?nt.delete(it):at!==ot&&nt.set(it,at)}else if(nt instanceof Set)for(const it of Array.from(nt)){const ot=applyReviver(tt,nt,it,it);ot===void 0?nt.delete(it):ot!==it&&(nt.delete(it),nt.add(ot))}else for(const[it,ot]of Object.entries(nt)){const at=applyReviver(tt,nt,it,ot);at===void 0?delete nt[it]:at!==ot&&(nt[it]=at)}return tt.call(et,rt,nt)}class Document{constructor(et,rt,nt){this.commentBefore=null,this.comment=null,this.errors=[],this.warnings=[],Object.defineProperty(this,NODE_TYPE,{value:DOC});let it=null;typeof rt=="function"||Array.isArray(rt)?it=rt:nt===void 0&&rt&&(nt=rt,rt=void 0);const ot=Object.assign({intAsBigInt:!1,keepSourceTokens:!1,logLevel:"warn",prettyErrors:!0,strict:!0,uniqueKeys:!0,version:"1.2"},nt);this.options=ot;let{version:at}=ot;nt!=null&&nt._directives?(this.directives=nt._directives.atDocument(),this.directives.yaml.explicit&&(at=this.directives.yaml.version)):this.directives=new Directives({version:at}),this.setSchema(at,nt),et===void 0?this.contents=null:this.contents=this.createNode(et,it,nt)}clone(){const et=Object.create(Document.prototype,{[NODE_TYPE]:{value:DOC}});return et.commentBefore=this.commentBefore,et.comment=this.comment,et.errors=this.errors.slice(),et.warnings=this.warnings.slice(),et.options=Object.assign({},this.options),this.directives&&(et.directives=this.directives.clone()),et.schema=this.schema.clone(),et.contents=isNode(this.contents)?this.contents.clone(et.schema):this.contents,this.range&&(et.range=this.range.slice()),et}add(et){assertCollection(this.contents)&&this.contents.add(et)}addIn(et,rt){assertCollection(this.contents)&&this.contents.addIn(et,rt)}createAlias(et,rt){if(!et.anchor){const nt=anchorNames(this);et.anchor=!rt||nt.has(rt)?findNewAnchor(rt||"a",nt):rt}return new Alias(et.anchor)}createNode(et,rt,nt){let it;if(typeof rt=="function")et=rt.call({"":et},"",et),it=rt;else if(Array.isArray(rt)){const gt=yt=>typeof yt=="number"||yt instanceof String||yt instanceof Number,vt=rt.filter(gt).map(String);vt.length>0&&(rt=rt.concat(vt)),it=rt}else nt===void 0&&rt&&(nt=rt,rt=void 0);const{aliasDuplicateObjects:ot,anchorPrefix:at,flow:st,keepUndefined:lt,onTagObj:ct,tag:ut}=nt??{},{onAnchor:dt,setAnchors:ft,sourceObjects:pt}=createNodeAnchors(this,at||"a"),mt={aliasDuplicateObjects:ot??!0,keepUndefined:lt??!1,onAnchor:dt,onTagObj:ct,replacer:it,schema:this.schema,sourceObjects:pt},ht=createNode(et,ut,mt);return st&&isCollection$1(ht)&&(ht.flow=!0),ft(),ht}createPair(et,rt,nt={}){const it=this.createNode(et,null,nt),ot=this.createNode(rt,null,nt);return new Pair(it,ot)}delete(et){return assertCollection(this.contents)?this.contents.delete(et):!1}deleteIn(et){return isEmptyPath(et)?this.contents==null?!1:(this.contents=null,!0):assertCollection(this.contents)?this.contents.deleteIn(et):!1}get(et,rt){return isCollection$1(this.contents)?this.contents.get(et,rt):void 0}getIn(et,rt){return isEmptyPath(et)?!rt&&isScalar$1(this.contents)?this.contents.value:this.contents:isCollection$1(this.contents)?this.contents.getIn(et,rt):void 0}has(et){return isCollection$1(this.contents)?this.contents.has(et):!1}hasIn(et){return isEmptyPath(et)?this.contents!==void 0:isCollection$1(this.contents)?this.contents.hasIn(et):!1}set(et,rt){this.contents==null?this.contents=collectionFromPath(this.schema,[et],rt):assertCollection(this.contents)&&this.contents.set(et,rt)}setIn(et,rt){isEmptyPath(et)?this.contents=rt:this.contents==null?this.contents=collectionFromPath(this.schema,Array.from(et),rt):assertCollection(this.contents)&&this.contents.setIn(et,rt)}setSchema(et,rt={}){typeof et=="number"&&(et=String(et));let nt;switch(et){case"1.1":this.directives?this.directives.yaml.version="1.1":this.directives=new Directives({version:"1.1"}),nt={merge:!0,resolveKnownTags:!1,schema:"yaml-1.1"};break;case"1.2":case"next":this.directives?this.directives.yaml.version=et:this.directives=new Directives({version:et}),nt={merge:!1,resolveKnownTags:!0,schema:"core"};break;case null:this.directives&&delete this.directives,nt=null;break;default:{const it=JSON.stringify(et);throw new Error(`Expected '1.1', '1.2' or null as first argument, but found: ${it}`)}}if(rt.schema instanceof Object)this.schema=rt.schema;else if(nt)this.schema=new Schema(Object.assign(nt,rt));else throw new Error("With a null YAML version, the { schema: Schema } option is required")}toJS({json:et,jsonArg:rt,mapAsMap:nt,maxAliasCount:it,onAnchor:ot,reviver:at}={}){const st={anchors:new Map,doc:this,keep:!et,mapAsMap:nt===!0,mapKeyWarned:!1,maxAliasCount:typeof it=="number"?it:100,stringify:stringify$9},lt=toJS(this.contents,rt??"",st);if(typeof ot=="function")for(const{count:ct,res:ut}of st.anchors.values())ot(ut,ct);return typeof at=="function"?applyReviver(at,{"":lt},"",lt):lt}toJSON(et,rt){return this.toJS({json:!0,jsonArg:et,mapAsMap:!1,onAnchor:rt})}toString(et={}){if(this.errors.length>0)throw new Error("Document with errors cannot be stringified");if("indent"in et&&(!Number.isInteger(et.indent)||Number(et.indent)<=0)){const rt=JSON.stringify(et.indent);throw new Error(`"indent" option must be a positive integer, not ${rt}`)}return stringifyDocument(this,et)}}function assertCollection(tt){if(isCollection$1(tt))return!0;throw new Error("Expected a YAML collection as document contents")}class YAMLError extends Error{constructor(et,rt,nt,it){super(),this.name=et,this.code=nt,this.message=it,this.pos=rt}}class YAMLParseError extends YAMLError{constructor(et,rt,nt){super("YAMLParseError",et,rt,nt)}}class YAMLWarning extends YAMLError{constructor(et,rt,nt){super("YAMLWarning",et,rt,nt)}}const prettifyError=(tt,et)=>rt=>{if(rt.pos[0]===-1)return;rt.linePos=rt.pos.map(st=>et.linePos(st));const{line:nt,col:it}=rt.linePos[0];rt.message+=` at line ${nt}, column ${it}`;let ot=it-1,at=tt.substring(et.lineStarts[nt-1],et.lineStarts[nt]).replace(/[\n\r]+$/,"");if(ot>=60&&at.length>80){const st=Math.min(ot-39,at.length-79);at="…"+at.substring(st),ot-=st-1}if(at.length>80&&(at=at.substring(0,79)+"…"),nt>1&&/^ *$/.test(at.substring(0,ot))){let st=tt.substring(et.lineStarts[nt-2],et.lineStarts[nt-1]);st.length>80&&(st=st.substring(0,79)+`…
`),at=st+at}if(/[^ ]/.test(at)){let st=1;const lt=rt.linePos[1];lt&&lt.line===nt&&lt.col>it&&(st=Math.min(lt.col-it,80-ot));const ct=" ".repeat(ot)+"^".repeat(st);rt.message+=`:

${at}
${ct}
`}};function resolveProps(tt,{flow:et,indicator:rt,next:nt,offset:it,onError:ot,startOnNewline:at}){let st=!1,lt=at,ct=at,ut="",dt="",ft=!1,pt=!1,mt=!1,ht=null,gt=null,vt=null,yt=null,bt=null;for(const Tt of tt)switch(mt&&(Tt.type!=="space"&&Tt.type!=="newline"&&Tt.type!=="comma"&&ot(Tt.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),mt=!1),Tt.type){case"space":!et&&lt&&rt!=="doc-start"&&Tt.source[0]==="	"&&ot(Tt,"TAB_AS_INDENT","Tabs are not allowed as indentation"),ct=!0;break;case"comment":{ct||ot(Tt,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const wt=Tt.source.substring(1)||" ";ut?ut+=dt+wt:ut=wt,dt="",lt=!1;break}case"newline":lt?ut?ut+=Tt.source:st=!0:dt+=Tt.source,lt=!0,ft=!0,(ht||gt)&&(pt=!0),ct=!0;break;case"anchor":ht&&ot(Tt,"MULTIPLE_ANCHORS","A node can have at most one anchor"),Tt.source.endsWith(":")&&ot(Tt.offset+Tt.source.length-1,"BAD_ALIAS","Anchor ending in : is ambiguous",!0),ht=Tt,bt===null&&(bt=Tt.offset),lt=!1,ct=!1,mt=!0;break;case"tag":{gt&&ot(Tt,"MULTIPLE_TAGS","A node can have at most one tag"),gt=Tt,bt===null&&(bt=Tt.offset),lt=!1,ct=!1,mt=!0;break}case rt:(ht||gt)&&ot(Tt,"BAD_PROP_ORDER",`Anchors and tags must be after the ${Tt.source} indicator`),yt&&ot(Tt,"UNEXPECTED_TOKEN",`Unexpected ${Tt.source} in ${et??"collection"}`),yt=Tt,lt=!1,ct=!1;break;case"comma":if(et){vt&&ot(Tt,"UNEXPECTED_TOKEN",`Unexpected , in ${et}`),vt=Tt,lt=!1,ct=!1;break}default:ot(Tt,"UNEXPECTED_TOKEN",`Unexpected ${Tt.type} token`),lt=!1,ct=!1}const xt=tt[tt.length-1],$t=xt?xt.offset+xt.source.length:it;return mt&&nt&&nt.type!=="space"&&nt.type!=="newline"&&nt.type!=="comma"&&(nt.type!=="scalar"||nt.source!=="")&&ot(nt.offset,"MISSING_CHAR","Tags and anchors must be separated from the next token by white space"),{comma:vt,found:yt,spaceBefore:st,comment:ut,hasNewline:ft,hasNewlineAfterProp:pt,anchor:ht,tag:gt,end:$t,start:bt??$t}}function containsNewline(tt){if(!tt)return null;switch(tt.type){case"alias":case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":if(tt.source.includes(`
`))return!0;if(tt.end){for(const et of tt.end)if(et.type==="newline")return!0}return!1;case"flow-collection":for(const et of tt.items){for(const rt of et.start)if(rt.type==="newline")return!0;if(et.sep){for(const rt of et.sep)if(rt.type==="newline")return!0}if(containsNewline(et.key)||containsNewline(et.value))return!0}return!1;default:return!0}}function flowIndentCheck(tt,et,rt){if((et==null?void 0:et.type)==="flow-collection"){const nt=et.end[0];nt.indent===tt&&(nt.source==="]"||nt.source==="}")&&containsNewline(et)&&rt(nt,"BAD_INDENT","Flow end indicator should be more indented than parent",!0)}}function mapIncludes(tt,et,rt){const{uniqueKeys:nt}=tt.options;if(nt===!1)return!1;const it=typeof nt=="function"?nt:(ot,at)=>ot===at||isScalar$1(ot)&&isScalar$1(at)&&ot.value===at.value&&!(ot.value==="<<"&&tt.schema.merge);return et.some(ot=>it(ot.key,rt))}const startColMsg="All mapping items must start at the same column";function resolveBlockMap({composeNode:tt,composeEmptyNode:et},rt,nt,it){var lt;const ot=new YAMLMap(rt.schema);rt.atRoot&&(rt.atRoot=!1);let at=nt.offset,st=null;for(const ct of nt.items){const{start:ut,key:dt,sep:ft,value:pt}=ct,mt=resolveProps(ut,{indicator:"explicit-key-ind",next:dt??(ft==null?void 0:ft[0]),offset:at,onError:it,startOnNewline:!0}),ht=!mt.found;if(ht){if(dt&&(dt.type==="block-seq"?it(at,"BLOCK_AS_IMPLICIT_KEY","A block sequence may not be used as an implicit map key"):"indent"in dt&&dt.indent!==nt.indent&&it(at,"BAD_INDENT",startColMsg)),!mt.anchor&&!mt.tag&&!ft){st=mt.end,mt.comment&&(ot.comment?ot.comment+=`
`+mt.comment:ot.comment=mt.comment);continue}(mt.hasNewlineAfterProp||containsNewline(dt))&&it(dt??ut[ut.length-1],"MULTILINE_IMPLICIT_KEY","Implicit keys need to be on a single line")}else((lt=mt.found)==null?void 0:lt.indent)!==nt.indent&&it(at,"BAD_INDENT",startColMsg);const gt=mt.end,vt=dt?tt(rt,dt,mt,it):et(rt,gt,ut,null,mt,it);rt.schema.compat&&flowIndentCheck(nt.indent,dt,it),mapIncludes(rt,ot.items,vt)&&it(gt,"DUPLICATE_KEY","Map keys must be unique");const yt=resolveProps(ft??[],{indicator:"map-value-ind",next:pt,offset:vt.range[2],onError:it,startOnNewline:!dt||dt.type==="block-scalar"});if(at=yt.end,yt.found){ht&&((pt==null?void 0:pt.type)==="block-map"&&!yt.hasNewline&&it(at,"BLOCK_AS_IMPLICIT_KEY","Nested mappings are not allowed in compact mappings"),rt.options.strict&&mt.start<yt.found.offset-1024&&it(vt.range,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit block mapping key"));const bt=pt?tt(rt,pt,yt,it):et(rt,at,ft,null,yt,it);rt.schema.compat&&flowIndentCheck(nt.indent,pt,it),at=bt.range[2];const xt=new Pair(vt,bt);rt.options.keepSourceTokens&&(xt.srcToken=ct),ot.items.push(xt)}else{ht&&it(vt.range,"MISSING_CHAR","Implicit map keys need to be followed by map values"),yt.comment&&(vt.comment?vt.comment+=`
`+yt.comment:vt.comment=yt.comment);const bt=new Pair(vt);rt.options.keepSourceTokens&&(bt.srcToken=ct),ot.items.push(bt)}}return st&&st<at&&it(st,"IMPOSSIBLE","Map comment with trailing content"),ot.range=[nt.offset,at,st??at],ot}function resolveBlockSeq({composeNode:tt,composeEmptyNode:et},rt,nt,it){const ot=new YAMLSeq(rt.schema);rt.atRoot&&(rt.atRoot=!1);let at=nt.offset,st=null;for(const{start:lt,value:ct}of nt.items){const ut=resolveProps(lt,{indicator:"seq-item-ind",next:ct,offset:at,onError:it,startOnNewline:!0});if(!ut.found)if(ut.anchor||ut.tag||ct)ct&&ct.type==="block-seq"?it(ut.end,"BAD_INDENT","All sequence items must start at the same column"):it(at,"MISSING_CHAR","Sequence item without - indicator");else{st=ut.end,ut.comment&&(ot.comment=ut.comment);continue}const dt=ct?tt(rt,ct,ut,it):et(rt,ut.end,lt,null,ut,it);rt.schema.compat&&flowIndentCheck(nt.indent,ct,it),at=dt.range[2],ot.items.push(dt)}return ot.range=[nt.offset,at,st??at],ot}function resolveEnd(tt,et,rt,nt){let it="";if(tt){let ot=!1,at="";for(const st of tt){const{source:lt,type:ct}=st;switch(ct){case"space":ot=!0;break;case"comment":{rt&&!ot&&nt(st,"MISSING_CHAR","Comments must be separated from other tokens by white space characters");const ut=lt.substring(1)||" ";it?it+=at+ut:it=ut,at="";break}case"newline":it&&(at+=lt),ot=!0;break;default:nt(st,"UNEXPECTED_TOKEN",`Unexpected ${ct} at node end`)}et+=lt.length}}return{comment:it,offset:et}}const blockMsg="Block collections are not allowed within flow collections",isBlock=tt=>tt&&(tt.type==="block-map"||tt.type==="block-seq");function resolveFlowCollection({composeNode:tt,composeEmptyNode:et},rt,nt,it){const ot=nt.start.source==="{",at=ot?"flow map":"flow sequence",st=ot?new YAMLMap(rt.schema):new YAMLSeq(rt.schema);st.flow=!0;const lt=rt.atRoot;lt&&(rt.atRoot=!1);let ct=nt.offset+nt.start.source.length;for(let mt=0;mt<nt.items.length;++mt){const ht=nt.items[mt],{start:gt,key:vt,sep:yt,value:bt}=ht,xt=resolveProps(gt,{flow:at,indicator:"explicit-key-ind",next:vt??(yt==null?void 0:yt[0]),offset:ct,onError:it,startOnNewline:!1});if(!xt.found){if(!xt.anchor&&!xt.tag&&!yt&&!bt){mt===0&&xt.comma?it(xt.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${at}`):mt<nt.items.length-1&&it(xt.start,"UNEXPECTED_TOKEN",`Unexpected empty item in ${at}`),xt.comment&&(st.comment?st.comment+=`
`+xt.comment:st.comment=xt.comment),ct=xt.end;continue}!ot&&rt.options.strict&&containsNewline(vt)&&it(vt,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line")}if(mt===0)xt.comma&&it(xt.comma,"UNEXPECTED_TOKEN",`Unexpected , in ${at}`);else if(xt.comma||it(xt.start,"MISSING_CHAR",`Missing , between ${at} items`),xt.comment){let $t="";e:for(const Tt of gt)switch(Tt.type){case"comma":case"space":break;case"comment":$t=Tt.source.substring(1);break e;default:break e}if($t){let Tt=st.items[st.items.length-1];isPair(Tt)&&(Tt=Tt.value??Tt.key),Tt.comment?Tt.comment+=`
`+$t:Tt.comment=$t,xt.comment=xt.comment.substring($t.length+1)}}if(!ot&&!yt&&!xt.found){const $t=bt?tt(rt,bt,xt,it):et(rt,xt.end,yt,null,xt,it);st.items.push($t),ct=$t.range[2],isBlock(bt)&&it($t.range,"BLOCK_IN_FLOW",blockMsg)}else{const $t=xt.end,Tt=vt?tt(rt,vt,xt,it):et(rt,$t,gt,null,xt,it);isBlock(vt)&&it(Tt.range,"BLOCK_IN_FLOW",blockMsg);const wt=resolveProps(yt??[],{flow:at,indicator:"map-value-ind",next:bt,offset:Tt.range[2],onError:it,startOnNewline:!1});if(wt.found){if(!ot&&!xt.found&&rt.options.strict){if(yt)for(const It of yt){if(It===wt.found)break;if(It.type==="newline"){it(It,"MULTILINE_IMPLICIT_KEY","Implicit keys of flow sequence pairs need to be on a single line");break}}xt.start<wt.found.offset-1024&&it(wt.found,"KEY_OVER_1024_CHARS","The : indicator must be at most 1024 chars after the start of an implicit flow sequence key")}}else bt&&("source"in bt&&bt.source&&bt.source[0]===":"?it(bt,"MISSING_CHAR",`Missing space after : in ${at}`):it(wt.start,"MISSING_CHAR",`Missing , or : between ${at} items`));const At=bt?tt(rt,bt,wt,it):wt.found?et(rt,wt.end,yt,null,wt,it):null;At?isBlock(bt)&&it(At.range,"BLOCK_IN_FLOW",blockMsg):wt.comment&&(Tt.comment?Tt.comment+=`
`+wt.comment:Tt.comment=wt.comment);const Rt=new Pair(Tt,At);if(rt.options.keepSourceTokens&&(Rt.srcToken=ht),ot){const It=st;mapIncludes(rt,It.items,Tt)&&it($t,"DUPLICATE_KEY","Map keys must be unique"),It.items.push(Rt)}else{const It=new YAMLMap(rt.schema);It.flow=!0,It.items.push(Rt),st.items.push(It)}ct=At?At.range[2]:wt.end}}const ut=ot?"}":"]",[dt,...ft]=nt.end;let pt=ct;if(dt&&dt.source===ut)pt=dt.offset+dt.source.length;else{const mt=at[0].toUpperCase()+at.substring(1),ht=lt?`${mt} must end with a ${ut}`:`${mt} in block collection must be sufficiently indented and end with a ${ut}`;it(ct,lt?"MISSING_CHAR":"BAD_INDENT",ht),dt&&dt.source.length!==1&&ft.unshift(dt)}if(ft.length>0){const mt=resolveEnd(ft,pt,rt.options.strict,it);mt.comment&&(st.comment?st.comment+=`
`+mt.comment:st.comment=mt.comment),st.range=[nt.offset,pt,mt.offset]}else st.range=[nt.offset,pt,pt];return st}function composeCollection(tt,et,rt,nt,it){let ot;switch(rt.type){case"block-map":{ot=resolveBlockMap(tt,et,rt,it);break}case"block-seq":{ot=resolveBlockSeq(tt,et,rt,it);break}case"flow-collection":{ot=resolveFlowCollection(tt,et,rt,it);break}}if(!nt)return ot;const at=et.directives.tagName(nt.source,ft=>it(nt,"TAG_RESOLVE_FAILED",ft));if(!at)return ot;const st=ot.constructor;if(at==="!"||at===st.tagName)return ot.tag=st.tagName,ot;const lt=isMap$3(ot)?"map":"seq";let ct=et.schema.tags.find(ft=>ft.collection===lt&&ft.tag===at);if(!ct){const ft=et.schema.knownTags[at];if(ft&&ft.collection===lt)et.schema.tags.push(Object.assign({},ft,{default:!1})),ct=ft;else return it(nt,"TAG_RESOLVE_FAILED",`Unresolved tag: ${at}`,!0),ot.tag=at,ot}const ut=ct.resolve(ot,ft=>it(nt,"TAG_RESOLVE_FAILED",ft),et.options),dt=isNode(ut)?ut:new Scalar(ut);return dt.range=ot.range,dt.tag=at,ct!=null&&ct.format&&(dt.format=ct.format),dt}function resolveBlockScalar(tt,et,rt){const nt=tt.offset,it=parseBlockScalarHeader(tt,et,rt);if(!it)return{value:"",type:null,comment:"",range:[nt,nt,nt]};const ot=it.mode===">"?Scalar.BLOCK_FOLDED:Scalar.BLOCK_LITERAL,at=tt.source?splitLines(tt.source):[];let st=at.length;for(let ht=at.length-1;ht>=0;--ht){const gt=at[ht][1];if(gt===""||gt==="\r")st=ht;else break}if(st===0){const ht=it.chomp==="+"&&at.length>0?`
`.repeat(Math.max(1,at.length-1)):"";let gt=nt+it.length;return tt.source&&(gt+=tt.source.length),{value:ht,type:ot,comment:it.comment,range:[nt,gt,gt]}}let lt=tt.indent+it.indent,ct=tt.offset+it.length,ut=0;for(let ht=0;ht<st;++ht){const[gt,vt]=at[ht];if(vt===""||vt==="\r")it.indent===0&&gt.length>lt&&(lt=gt.length);else{if(gt.length<lt){const yt="Block scalars with more-indented leading empty lines must use an explicit indentation indicator";rt(ct+gt.length,"MISSING_CHAR",yt)}it.indent===0&&(lt=gt.length),ut=ht;break}ct+=gt.length+vt.length+1}for(let ht=at.length-1;ht>=st;--ht)at[ht][0].length>lt&&(st=ht+1);let dt="",ft="",pt=!1;for(let ht=0;ht<ut;++ht)dt+=at[ht][0].slice(lt)+`
`;for(let ht=ut;ht<st;++ht){let[gt,vt]=at[ht];ct+=gt.length+vt.length+1;const yt=vt[vt.length-1]==="\r";if(yt&&(vt=vt.slice(0,-1)),vt&&gt.length<lt){const xt=`Block scalar lines must not be less indented than their ${it.indent?"explicit indentation indicator":"first line"}`;rt(ct-vt.length-(yt?2:1),"BAD_INDENT",xt),gt=""}ot===Scalar.BLOCK_LITERAL?(dt+=ft+gt.slice(lt)+vt,ft=`
`):gt.length>lt||vt[0]==="	"?(ft===" "?ft=`
`:!pt&&ft===`
`&&(ft=`

`),dt+=ft+gt.slice(lt)+vt,ft=`
`,pt=!0):vt===""?ft===`
`?dt+=`
`:ft=`
`:(dt+=ft+vt,ft=" ",pt=!1)}switch(it.chomp){case"-":break;case"+":for(let ht=st;ht<at.length;++ht)dt+=`
`+at[ht][0].slice(lt);dt[dt.length-1]!==`
`&&(dt+=`
`);break;default:dt+=`
`}const mt=nt+it.length+tt.source.length;return{value:dt,type:ot,comment:it.comment,range:[nt,mt,mt]}}function parseBlockScalarHeader({offset:tt,props:et},rt,nt){if(et[0].type!=="block-scalar-header")return nt(et[0],"IMPOSSIBLE","Block scalar header not found"),null;const{source:it}=et[0],ot=it[0];let at=0,st="",lt=-1;for(let ft=1;ft<it.length;++ft){const pt=it[ft];if(!st&&(pt==="-"||pt==="+"))st=pt;else{const mt=Number(pt);!at&&mt?at=mt:lt===-1&&(lt=tt+ft)}}lt!==-1&&nt(lt,"UNEXPECTED_TOKEN",`Block scalar header includes extra characters: ${it}`);let ct=!1,ut="",dt=it.length;for(let ft=1;ft<et.length;++ft){const pt=et[ft];switch(pt.type){case"space":ct=!0;case"newline":dt+=pt.source.length;break;case"comment":rt&&!ct&&nt(pt,"MISSING_CHAR","Comments must be separated from other tokens by white space characters"),dt+=pt.source.length,ut=pt.source.substring(1);break;case"error":nt(pt,"UNEXPECTED_TOKEN",pt.message),dt+=pt.source.length;break;default:{const mt=`Unexpected token in block scalar header: ${pt.type}`;nt(pt,"UNEXPECTED_TOKEN",mt);const ht=pt.source;ht&&typeof ht=="string"&&(dt+=ht.length)}}}return{mode:ot,indent:at,chomp:st,comment:ut,length:dt}}function splitLines(tt){const et=tt.split(/\n( *)/),rt=et[0],nt=rt.match(/^( *)/),ot=[nt!=null&&nt[1]?[nt[1],rt.slice(nt[1].length)]:["",rt]];for(let at=1;at<et.length;at+=2)ot.push([et[at],et[at+1]]);return ot}function resolveFlowScalar(tt,et,rt){const{offset:nt,type:it,source:ot,end:at}=tt;let st,lt;const ct=(ft,pt,mt)=>rt(nt+ft,pt,mt);switch(it){case"scalar":st=Scalar.PLAIN,lt=plainValue(ot,ct);break;case"single-quoted-scalar":st=Scalar.QUOTE_SINGLE,lt=singleQuotedValue(ot,ct);break;case"double-quoted-scalar":st=Scalar.QUOTE_DOUBLE,lt=doubleQuotedValue(ot,ct);break;default:return rt(tt,"UNEXPECTED_TOKEN",`Expected a flow scalar value, but found: ${it}`),{value:"",type:null,comment:"",range:[nt,nt+ot.length,nt+ot.length]}}const ut=nt+ot.length,dt=resolveEnd(at,ut,et,rt);return{value:lt,type:st,comment:dt.comment,range:[nt,ut,dt.offset]}}function plainValue(tt,et){let rt="";switch(tt[0]){case"	":rt="a tab character";break;case",":rt="flow indicator character ,";break;case"%":rt="directive indicator character %";break;case"|":case">":{rt=`block scalar indicator ${tt[0]}`;break}case"@":case"`":{rt=`reserved character ${tt[0]}`;break}}return rt&&et(0,"BAD_SCALAR_START",`Plain value cannot start with ${rt}`),foldLines(tt)}function singleQuotedValue(tt,et){return(tt[tt.length-1]!=="'"||tt.length===1)&&et(tt.length,"MISSING_CHAR","Missing closing 'quote"),foldLines(tt.slice(1,-1)).replace(/''/g,"'")}function foldLines(tt){let et,rt;try{et=new RegExp(`(.*?)(?<![ 	])[ 	]*\r?
`,"sy"),rt=new RegExp(`[ 	]*(.*?)(?:(?<![ 	])[ 	]*)?\r?
`,"sy")}catch{et=/(.*?)[ \t]*\r?\n/sy,rt=/[ \t]*(.*?)[ \t]*\r?\n/sy}let nt=et.exec(tt);if(!nt)return tt;let it=nt[1],ot=" ",at=et.lastIndex;for(rt.lastIndex=at;nt=rt.exec(tt);)nt[1]===""?ot===`
`?it+=ot:ot=`
`:(it+=ot+nt[1],ot=" "),at=rt.lastIndex;const st=/[ \t]*(.*)/sy;return st.lastIndex=at,nt=st.exec(tt),it+ot+((nt==null?void 0:nt[1])??"")}function doubleQuotedValue(tt,et){let rt="";for(let nt=1;nt<tt.length-1;++nt){const it=tt[nt];if(!(it==="\r"&&tt[nt+1]===`
`))if(it===`
`){const{fold:ot,offset:at}=foldNewline(tt,nt);rt+=ot,nt=at}else if(it==="\\"){let ot=tt[++nt];const at=escapeCodes[ot];if(at)rt+=at;else if(ot===`
`)for(ot=tt[nt+1];ot===" "||ot==="	";)ot=tt[++nt+1];else if(ot==="\r"&&tt[nt+1]===`
`)for(ot=tt[++nt+1];ot===" "||ot==="	";)ot=tt[++nt+1];else if(ot==="x"||ot==="u"||ot==="U"){const st={x:2,u:4,U:8}[ot];rt+=parseCharCode(tt,nt+1,st,et),nt+=st}else{const st=tt.substr(nt-1,2);et(nt-1,"BAD_DQ_ESCAPE",`Invalid escape sequence ${st}`),rt+=st}}else if(it===" "||it==="	"){const ot=nt;let at=tt[nt+1];for(;at===" "||at==="	";)at=tt[++nt+1];at!==`
`&&!(at==="\r"&&tt[nt+2]===`
`)&&(rt+=nt>ot?tt.slice(ot,nt+1):it)}else rt+=it}return(tt[tt.length-1]!=='"'||tt.length===1)&&et(tt.length,"MISSING_CHAR",'Missing closing "quote'),rt}function foldNewline(tt,et){let rt="",nt=tt[et+1];for(;(nt===" "||nt==="	"||nt===`
`||nt==="\r")&&!(nt==="\r"&&tt[et+2]!==`
`);)nt===`
`&&(rt+=`
`),et+=1,nt=tt[et+1];return rt||(rt=" "),{fold:rt,offset:et}}const escapeCodes={0:"\0",a:"\x07",b:"\b",e:"\x1B",f:"\f",n:`
`,r:"\r",t:"	",v:"\v",N:"",_:" ",L:"\u2028",P:"\u2029"," ":" ",'"':'"',"/":"/","\\":"\\","	":"	"};function parseCharCode(tt,et,rt,nt){const it=tt.substr(et,rt),at=it.length===rt&&/^[0-9a-fA-F]+$/.test(it)?parseInt(it,16):NaN;if(isNaN(at)){const st=tt.substr(et-2,rt+2);return nt(et-2,"BAD_DQ_ESCAPE",`Invalid escape sequence ${st}`),st}return String.fromCodePoint(at)}function composeScalar(tt,et,rt,nt){const{value:it,type:ot,comment:at,range:st}=et.type==="block-scalar"?resolveBlockScalar(et,tt.options.strict,nt):resolveFlowScalar(et,tt.options.strict,nt),lt=rt?tt.directives.tagName(rt.source,dt=>nt(rt,"TAG_RESOLVE_FAILED",dt)):null,ct=rt&&lt?findScalarTagByName(tt.schema,it,lt,rt,nt):et.type==="scalar"?findScalarTagByTest(tt,it,et,nt):tt.schema[SCALAR$1];let ut;try{const dt=ct.resolve(it,ft=>nt(rt??et,"TAG_RESOLVE_FAILED",ft),tt.options);ut=isScalar$1(dt)?dt:new Scalar(dt)}catch(dt){const ft=dt instanceof Error?dt.message:String(dt);nt(rt??et,"TAG_RESOLVE_FAILED",ft),ut=new Scalar(it)}return ut.range=st,ut.source=it,ot&&(ut.type=ot),lt&&(ut.tag=lt),ct.format&&(ut.format=ct.format),at&&(ut.comment=at),ut}function findScalarTagByName(tt,et,rt,nt,it){var st;if(rt==="!")return tt[SCALAR$1];const ot=[];for(const lt of tt.tags)if(!lt.collection&&lt.tag===rt)if(lt.default&&lt.test)ot.push(lt);else return lt;for(const lt of ot)if((st=lt.test)!=null&&st.test(et))return lt;const at=tt.knownTags[rt];return at&&!at.collection?(tt.tags.push(Object.assign({},at,{default:!1,test:void 0})),at):(it(nt,"TAG_RESOLVE_FAILED",`Unresolved tag: ${rt}`,rt!=="tag:yaml.org,2002:str"),tt[SCALAR$1])}function findScalarTagByTest({directives:tt,schema:et},rt,nt,it){const ot=et.tags.find(at=>{var st;return at.default&&((st=at.test)==null?void 0:st.test(rt))})||et[SCALAR$1];if(et.compat){const at=et.compat.find(st=>{var lt;return st.default&&((lt=st.test)==null?void 0:lt.test(rt))})??et[SCALAR$1];if(ot.tag!==at.tag){const st=tt.tagString(ot.tag),lt=tt.tagString(at.tag),ct=`Value may be parsed as either ${st} or ${lt}`;it(nt,"TAG_RESOLVE_FAILED",ct,!0)}}return ot}function emptyScalarPosition(tt,et,rt){if(et){rt===null&&(rt=et.length);for(let nt=rt-1;nt>=0;--nt){let it=et[nt];switch(it.type){case"space":case"comment":case"newline":tt-=it.source.length;continue}for(it=et[++nt];(it==null?void 0:it.type)==="space";)tt+=it.source.length,it=et[++nt];break}}return tt}const CN={composeNode,composeEmptyNode};function composeNode(tt,et,rt,nt){const{spaceBefore:it,comment:ot,anchor:at,tag:st}=rt;let lt,ct=!0;switch(et.type){case"alias":lt=composeAlias(tt,et,nt),(at||st)&&nt(et,"ALIAS_PROPS","An alias node must not specify any properties");break;case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"block-scalar":lt=composeScalar(tt,et,st,nt),at&&(lt.anchor=at.source.substring(1));break;case"block-map":case"block-seq":case"flow-collection":lt=composeCollection(CN,tt,et,st,nt),at&&(lt.anchor=at.source.substring(1));break;default:{const ut=et.type==="error"?et.message:`Unsupported token (type: ${et.type})`;nt(et,"UNEXPECTED_TOKEN",ut),lt=composeEmptyNode(tt,et.offset,void 0,null,rt,nt),ct=!1}}return at&&lt.anchor===""&&nt(at,"BAD_ALIAS","Anchor cannot be an empty string"),it&&(lt.spaceBefore=!0),ot&&(et.type==="scalar"&&et.source===""?lt.comment=ot:lt.commentBefore=ot),tt.options.keepSourceTokens&&ct&&(lt.srcToken=et),lt}function composeEmptyNode(tt,et,rt,nt,{spaceBefore:it,comment:ot,anchor:at,tag:st,end:lt},ct){const ut={type:"scalar",offset:emptyScalarPosition(et,rt,nt),indent:-1,source:""},dt=composeScalar(tt,ut,st,ct);return at&&(dt.anchor=at.source.substring(1),dt.anchor===""&&ct(at,"BAD_ALIAS","Anchor cannot be an empty string")),it&&(dt.spaceBefore=!0),ot&&(dt.comment=ot,dt.range[2]=lt),dt}function composeAlias({options:tt},{offset:et,source:rt,end:nt},it){const ot=new Alias(rt.substring(1));ot.source===""&&it(et,"BAD_ALIAS","Alias cannot be an empty string"),ot.source.endsWith(":")&&it(et+rt.length-1,"BAD_ALIAS","Alias ending in : is ambiguous",!0);const at=et+rt.length,st=resolveEnd(nt,at,tt.strict,it);return ot.range=[et,at,st.offset],st.comment&&(ot.comment=st.comment),ot}function composeDoc(tt,et,{offset:rt,start:nt,value:it,end:ot},at){const st=Object.assign({_directives:et},tt),lt=new Document(void 0,st),ct={atRoot:!0,directives:lt.directives,options:lt.options,schema:lt.schema},ut=resolveProps(nt,{indicator:"doc-start",next:it??(ot==null?void 0:ot[0]),offset:rt,onError:at,startOnNewline:!0});ut.found&&(lt.directives.docStart=!0,it&&(it.type==="block-map"||it.type==="block-seq")&&!ut.hasNewline&&at(ut.end,"MISSING_CHAR","Block collection cannot start on same line with directives-end marker")),lt.contents=it?composeNode(ct,it,ut,at):composeEmptyNode(ct,ut.end,nt,null,ut,at);const dt=lt.contents.range[2],ft=resolveEnd(ot,dt,!1,at);return ft.comment&&(lt.comment=ft.comment),lt.range=[rt,dt,ft.offset],lt}function getErrorPos(tt){if(typeof tt=="number")return[tt,tt+1];if(Array.isArray(tt))return tt.length===2?tt:[tt[0],tt[1]];const{offset:et,source:rt}=tt;return[et,et+(typeof rt=="string"?rt.length:1)]}function parsePrelude(tt){var it;let et="",rt=!1,nt=!1;for(let ot=0;ot<tt.length;++ot){const at=tt[ot];switch(at[0]){case"#":et+=(et===""?"":nt?`

`:`
`)+(at.substring(1)||" "),rt=!0,nt=!1;break;case"%":((it=tt[ot+1])==null?void 0:it[0])!=="#"&&(ot+=1),rt=!1;break;default:rt||(nt=!0),rt=!1}}return{comment:et,afterEmptyLine:nt}}class Composer{constructor(et={}){this.doc=null,this.atDirectives=!1,this.prelude=[],this.errors=[],this.warnings=[],this.onError=(rt,nt,it,ot)=>{const at=getErrorPos(rt);ot?this.warnings.push(new YAMLWarning(at,nt,it)):this.errors.push(new YAMLParseError(at,nt,it))},this.directives=new Directives({version:et.version||"1.2"}),this.options=et}decorate(et,rt){const{comment:nt,afterEmptyLine:it}=parsePrelude(this.prelude);if(nt){const ot=et.contents;if(rt)et.comment=et.comment?`${et.comment}
${nt}`:nt;else if(it||et.directives.docStart||!ot)et.commentBefore=nt;else if(isCollection$1(ot)&&!ot.flow&&ot.items.length>0){let at=ot.items[0];isPair(at)&&(at=at.key);const st=at.commentBefore;at.commentBefore=st?`${nt}
${st}`:nt}else{const at=ot.commentBefore;ot.commentBefore=at?`${nt}
${at}`:nt}}rt?(Array.prototype.push.apply(et.errors,this.errors),Array.prototype.push.apply(et.warnings,this.warnings)):(et.errors=this.errors,et.warnings=this.warnings),this.prelude=[],this.errors=[],this.warnings=[]}streamInfo(){return{comment:parsePrelude(this.prelude).comment,directives:this.directives,errors:this.errors,warnings:this.warnings}}*compose(et,rt=!1,nt=-1){for(const it of et)yield*this.next(it);yield*this.end(rt,nt)}*next(et){switch(et.type){case"directive":this.directives.add(et.source,(rt,nt,it)=>{const ot=getErrorPos(et);ot[0]+=rt,this.onError(ot,"BAD_DIRECTIVE",nt,it)}),this.prelude.push(et.source),this.atDirectives=!0;break;case"document":{const rt=composeDoc(this.options,this.directives,et,this.onError);this.atDirectives&&!rt.directives.docStart&&this.onError(et,"MISSING_CHAR","Missing directives-end/doc-start indicator line"),this.decorate(rt,!1),this.doc&&(yield this.doc),this.doc=rt,this.atDirectives=!1;break}case"byte-order-mark":case"space":break;case"comment":case"newline":this.prelude.push(et.source);break;case"error":{const rt=et.source?`${et.message}: ${JSON.stringify(et.source)}`:et.message,nt=new YAMLParseError(getErrorPos(et),"UNEXPECTED_TOKEN",rt);this.atDirectives||!this.doc?this.errors.push(nt):this.doc.errors.push(nt);break}case"doc-end":{if(!this.doc){const nt="Unexpected doc-end without preceding document";this.errors.push(new YAMLParseError(getErrorPos(et),"UNEXPECTED_TOKEN",nt));break}this.doc.directives.docEnd=!0;const rt=resolveEnd(et.end,et.offset+et.source.length,this.doc.options.strict,this.onError);if(this.decorate(this.doc,!0),rt.comment){const nt=this.doc.comment;this.doc.comment=nt?`${nt}
${rt.comment}`:rt.comment}this.doc.range[2]=rt.offset;break}default:this.errors.push(new YAMLParseError(getErrorPos(et),"UNEXPECTED_TOKEN",`Unsupported token ${et.type}`))}}*end(et=!1,rt=-1){if(this.doc)this.decorate(this.doc,!0),yield this.doc,this.doc=null;else if(et){const nt=Object.assign({_directives:this.directives},this.options),it=new Document(void 0,nt);this.atDirectives&&this.onError(rt,"MISSING_CHAR","Missing directives-end indicator line"),it.range=[0,rt,rt],this.decorate(it,!1),yield it}}}function resolveAsScalar(tt,et=!0,rt){if(tt){const nt=(it,ot,at)=>{const st=typeof it=="number"?it:Array.isArray(it)?it[0]:it.offset;if(rt)rt(st,ot,at);else throw new YAMLParseError([st,st+1],ot,at)};switch(tt.type){case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return resolveFlowScalar(tt,et,nt);case"block-scalar":return resolveBlockScalar(tt,et,nt)}}return null}function createScalarToken(tt,et){const{implicitKey:rt=!1,indent:nt,inFlow:it=!1,offset:ot=-1,type:at="PLAIN"}=et,st=stringifyString({type:at,value:tt},{implicitKey:rt,indent:nt>0?" ".repeat(nt):"",inFlow:it,options:{blockQuote:!0,lineWidth:-1}}),lt=et.end??[{type:"newline",offset:-1,indent:nt,source:`
`}];switch(st[0]){case"|":case">":{const ct=st.indexOf(`
`),ut=st.substring(0,ct),dt=st.substring(ct+1)+`
`,ft=[{type:"block-scalar-header",offset:ot,indent:nt,source:ut}];return addEndtoBlockProps(ft,lt)||ft.push({type:"newline",offset:-1,indent:nt,source:`
`}),{type:"block-scalar",offset:ot,indent:nt,props:ft,source:dt}}case'"':return{type:"double-quoted-scalar",offset:ot,indent:nt,source:st,end:lt};case"'":return{type:"single-quoted-scalar",offset:ot,indent:nt,source:st,end:lt};default:return{type:"scalar",offset:ot,indent:nt,source:st,end:lt}}}function setScalarValue(tt,et,rt={}){let{afterKey:nt=!1,implicitKey:it=!1,inFlow:ot=!1,type:at}=rt,st="indent"in tt?tt.indent:null;if(nt&&typeof st=="number"&&(st+=2),!at)switch(tt.type){case"single-quoted-scalar":at="QUOTE_SINGLE";break;case"double-quoted-scalar":at="QUOTE_DOUBLE";break;case"block-scalar":{const ct=tt.props[0];if(ct.type!=="block-scalar-header")throw new Error("Invalid block scalar header");at=ct.source[0]===">"?"BLOCK_FOLDED":"BLOCK_LITERAL";break}default:at="PLAIN"}const lt=stringifyString({type:at,value:et},{implicitKey:it||st===null,indent:st!==null&&st>0?" ".repeat(st):"",inFlow:ot,options:{blockQuote:!0,lineWidth:-1}});switch(lt[0]){case"|":case">":setBlockScalarValue(tt,lt);break;case'"':setFlowScalarValue(tt,lt,"double-quoted-scalar");break;case"'":setFlowScalarValue(tt,lt,"single-quoted-scalar");break;default:setFlowScalarValue(tt,lt,"scalar")}}function setBlockScalarValue(tt,et){const rt=et.indexOf(`
`),nt=et.substring(0,rt),it=et.substring(rt+1)+`
`;if(tt.type==="block-scalar"){const ot=tt.props[0];if(ot.type!=="block-scalar-header")throw new Error("Invalid block scalar header");ot.source=nt,tt.source=it}else{const{offset:ot}=tt,at="indent"in tt?tt.indent:-1,st=[{type:"block-scalar-header",offset:ot,indent:at,source:nt}];addEndtoBlockProps(st,"end"in tt?tt.end:void 0)||st.push({type:"newline",offset:-1,indent:at,source:`
`});for(const lt of Object.keys(tt))lt!=="type"&&lt!=="offset"&&delete tt[lt];Object.assign(tt,{type:"block-scalar",indent:at,props:st,source:it})}}function addEndtoBlockProps(tt,et){if(et)for(const rt of et)switch(rt.type){case"space":case"comment":tt.push(rt);break;case"newline":return tt.push(rt),!0}return!1}function setFlowScalarValue(tt,et,rt){switch(tt.type){case"scalar":case"double-quoted-scalar":case"single-quoted-scalar":tt.type=rt,tt.source=et;break;case"block-scalar":{const nt=tt.props.slice(1);let it=et.length;tt.props[0].type==="block-scalar-header"&&(it-=tt.props[0].source.length);for(const ot of nt)ot.offset+=it;delete tt.props,Object.assign(tt,{type:rt,source:et,end:nt});break}case"block-map":case"block-seq":{const it={type:"newline",offset:tt.offset+et.length,indent:tt.indent,source:`
`};delete tt.items,Object.assign(tt,{type:rt,source:et,end:[it]});break}default:{const nt="indent"in tt?tt.indent:-1,it="end"in tt&&Array.isArray(tt.end)?tt.end.filter(ot=>ot.type==="space"||ot.type==="comment"||ot.type==="newline"):[];for(const ot of Object.keys(tt))ot!=="type"&&ot!=="offset"&&delete tt[ot];Object.assign(tt,{type:rt,indent:nt,source:et,end:it})}}}const stringify$8=tt=>"type"in tt?stringifyToken(tt):stringifyItem(tt);function stringifyToken(tt){switch(tt.type){case"block-scalar":{let et="";for(const rt of tt.props)et+=stringifyToken(rt);return et+tt.source}case"block-map":case"block-seq":{let et="";for(const rt of tt.items)et+=stringifyItem(rt);return et}case"flow-collection":{let et=tt.start.source;for(const rt of tt.items)et+=stringifyItem(rt);for(const rt of tt.end)et+=rt.source;return et}case"document":{let et=stringifyItem(tt);if(tt.end)for(const rt of tt.end)et+=rt.source;return et}default:{let et=tt.source;if("end"in tt&&tt.end)for(const rt of tt.end)et+=rt.source;return et}}}function stringifyItem({start:tt,key:et,sep:rt,value:nt}){let it="";for(const ot of tt)it+=ot.source;if(et&&(it+=stringifyToken(et)),rt)for(const ot of rt)it+=ot.source;return nt&&(it+=stringifyToken(nt)),it}const BREAK=Symbol("break visit"),SKIP=Symbol("skip children"),REMOVE=Symbol("remove item");function visit(tt,et){"type"in tt&&tt.type==="document"&&(tt={start:tt.start,value:tt.value}),_visit(Object.freeze([]),tt,et)}visit.BREAK=BREAK;visit.SKIP=SKIP;visit.REMOVE=REMOVE;visit.itemAtPath=(tt,et)=>{let rt=tt;for(const[nt,it]of et){const ot=rt==null?void 0:rt[nt];if(ot&&"items"in ot)rt=ot.items[it];else return}return rt};visit.parentCollection=(tt,et)=>{const rt=visit.itemAtPath(tt,et.slice(0,-1)),nt=et[et.length-1][0],it=rt==null?void 0:rt[nt];if(it&&"items"in it)return it;throw new Error("Parent collection not found")};function _visit(tt,et,rt){let nt=rt(et,tt);if(typeof nt=="symbol")return nt;for(const it of["key","value"]){const ot=et[it];if(ot&&"items"in ot){for(let at=0;at<ot.items.length;++at){const st=_visit(Object.freeze(tt.concat([[it,at]])),ot.items[at],rt);if(typeof st=="number")at=st-1;else{if(st===BREAK)return BREAK;st===REMOVE&&(ot.items.splice(at,1),at-=1)}}typeof nt=="function"&&it==="key"&&(nt=nt(et,tt))}}return typeof nt=="function"?nt(et,tt):nt}const BOM="\uFEFF",DOCUMENT="",FLOW_END="",SCALAR="",isCollection=tt=>!!tt&&"items"in tt,isScalar=tt=>!!tt&&(tt.type==="scalar"||tt.type==="single-quoted-scalar"||tt.type==="double-quoted-scalar"||tt.type==="block-scalar");function prettyToken(tt){switch(tt){case BOM:return"<BOM>";case DOCUMENT:return"<DOC>";case FLOW_END:return"<FLOW_END>";case SCALAR:return"<SCALAR>";default:return JSON.stringify(tt)}}function tokenType(tt){switch(tt){case BOM:return"byte-order-mark";case DOCUMENT:return"doc-mode";case FLOW_END:return"flow-error-end";case SCALAR:return"scalar";case"---":return"doc-start";case"...":return"doc-end";case"":case`
`:case`\r
`:return"newline";case"-":return"seq-item-ind";case"?":return"explicit-key-ind";case":":return"map-value-ind";case"{":return"flow-map-start";case"}":return"flow-map-end";case"[":return"flow-seq-start";case"]":return"flow-seq-end";case",":return"comma"}switch(tt[0]){case" ":case"	":return"space";case"#":return"comment";case"%":return"directive-line";case"*":return"alias";case"&":return"anchor";case"!":return"tag";case"'":return"single-quoted-scalar";case'"':return"double-quoted-scalar";case"|":case">":return"block-scalar-header"}return null}const cst=Object.freeze(Object.defineProperty({__proto__:null,BOM,DOCUMENT,FLOW_END,SCALAR,createScalarToken,isCollection,isScalar,prettyToken,resolveAsScalar,setScalarValue,stringify:stringify$8,tokenType,visit},Symbol.toStringTag,{value:"Module"}));function isEmpty(tt){switch(tt){case void 0:case" ":case`
`:case"\r":case"	":return!0;default:return!1}}const hexDigits="0123456789ABCDEFabcdef".split(""),tagChars="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-#;/?:@&=+$_.!~*'()".split(""),invalidFlowScalarChars=",[]{}".split(""),invalidAnchorChars=` ,[]{}
\r	`.split(""),isNotAnchorChar=tt=>!tt||invalidAnchorChars.includes(tt);class Lexer{constructor(){this.atEnd=!1,this.blockScalarIndent=-1,this.blockScalarKeep=!1,this.buffer="",this.flowKey=!1,this.flowLevel=0,this.indentNext=0,this.indentValue=0,this.lineEndPos=null,this.next=null,this.pos=0}*lex(et,rt=!1){et&&(this.buffer=this.buffer?this.buffer+et:et,this.lineEndPos=null),this.atEnd=!rt;let nt=this.next??"stream";for(;nt&&(rt||this.hasChars(1));)nt=yield*this.parseNext(nt)}atLineEnd(){let et=this.pos,rt=this.buffer[et];for(;rt===" "||rt==="	";)rt=this.buffer[++et];return!rt||rt==="#"||rt===`
`?!0:rt==="\r"?this.buffer[et+1]===`
`:!1}charAt(et){return this.buffer[this.pos+et]}continueScalar(et){let rt=this.buffer[et];if(this.indentNext>0){let nt=0;for(;rt===" ";)rt=this.buffer[++nt+et];if(rt==="\r"){const it=this.buffer[nt+et+1];if(it===`
`||!it&&!this.atEnd)return et+nt+1}return rt===`
`||nt>=this.indentNext||!rt&&!this.atEnd?et+nt:-1}if(rt==="-"||rt==="."){const nt=this.buffer.substr(et,3);if((nt==="---"||nt==="...")&&isEmpty(this.buffer[et+3]))return-1}return et}getLine(){let et=this.lineEndPos;return(typeof et!="number"||et!==-1&&et<this.pos)&&(et=this.buffer.indexOf(`
`,this.pos),this.lineEndPos=et),et===-1?this.atEnd?this.buffer.substring(this.pos):null:(this.buffer[et-1]==="\r"&&(et-=1),this.buffer.substring(this.pos,et))}hasChars(et){return this.pos+et<=this.buffer.length}setNext(et){return this.buffer=this.buffer.substring(this.pos),this.pos=0,this.lineEndPos=null,this.next=et,null}peek(et){return this.buffer.substr(this.pos,et)}*parseNext(et){switch(et){case"stream":return yield*this.parseStream();case"line-start":return yield*this.parseLineStart();case"block-start":return yield*this.parseBlockStart();case"doc":return yield*this.parseDocument();case"flow":return yield*this.parseFlowCollection();case"quoted-scalar":return yield*this.parseQuotedScalar();case"block-scalar":return yield*this.parseBlockScalar();case"plain-scalar":return yield*this.parsePlainScalar()}}*parseStream(){let et=this.getLine();if(et===null)return this.setNext("stream");if(et[0]===BOM&&(yield*this.pushCount(1),et=et.substring(1)),et[0]==="%"){let rt=et.length;const nt=et.indexOf("#");if(nt!==-1){const ot=et[nt-1];(ot===" "||ot==="	")&&(rt=nt-1)}for(;;){const ot=et[rt-1];if(ot===" "||ot==="	")rt-=1;else break}const it=(yield*this.pushCount(rt))+(yield*this.pushSpaces(!0));return yield*this.pushCount(et.length-it),this.pushNewline(),"stream"}if(this.atLineEnd()){const rt=yield*this.pushSpaces(!0);return yield*this.pushCount(et.length-rt),yield*this.pushNewline(),"stream"}return yield DOCUMENT,yield*this.parseLineStart()}*parseLineStart(){const et=this.charAt(0);if(!et&&!this.atEnd)return this.setNext("line-start");if(et==="-"||et==="."){if(!this.atEnd&&!this.hasChars(4))return this.setNext("line-start");const rt=this.peek(3);if(rt==="---"&&isEmpty(this.charAt(3)))return yield*this.pushCount(3),this.indentValue=0,this.indentNext=0,"doc";if(rt==="..."&&isEmpty(this.charAt(3)))return yield*this.pushCount(3),"stream"}return this.indentValue=yield*this.pushSpaces(!1),this.indentNext>this.indentValue&&!isEmpty(this.charAt(1))&&(this.indentNext=this.indentValue),yield*this.parseBlockStart()}*parseBlockStart(){const[et,rt]=this.peek(2);if(!rt&&!this.atEnd)return this.setNext("block-start");if((et==="-"||et==="?"||et===":")&&isEmpty(rt)){const nt=(yield*this.pushCount(1))+(yield*this.pushSpaces(!0));return this.indentNext=this.indentValue+1,this.indentValue+=nt,yield*this.parseBlockStart()}return"doc"}*parseDocument(){yield*this.pushSpaces(!0);const et=this.getLine();if(et===null)return this.setNext("doc");let rt=yield*this.pushIndicators();switch(et[rt]){case"#":yield*this.pushCount(et.length-rt);case void 0:return yield*this.pushNewline(),yield*this.parseLineStart();case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel=1,"flow";case"}":case"]":return yield*this.pushCount(1),"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"doc";case'"':case"'":return yield*this.parseQuotedScalar();case"|":case">":return rt+=yield*this.parseBlockScalarHeader(),rt+=yield*this.pushSpaces(!0),yield*this.pushCount(et.length-rt),yield*this.pushNewline(),yield*this.parseBlockScalar();default:return yield*this.parsePlainScalar()}}*parseFlowCollection(){let et,rt,nt=-1;do et=yield*this.pushNewline(),et>0?(rt=yield*this.pushSpaces(!1),this.indentValue=nt=rt):rt=0,rt+=yield*this.pushSpaces(!0);while(et+rt>0);const it=this.getLine();if(it===null)return this.setNext("flow");if((nt!==-1&&nt<this.indentNext&&it[0]!=="#"||nt===0&&(it.startsWith("---")||it.startsWith("..."))&&isEmpty(it[3]))&&!(nt===this.indentNext-1&&this.flowLevel===1&&(it[0]==="]"||it[0]==="}")))return this.flowLevel=0,yield FLOW_END,yield*this.parseLineStart();let ot=0;for(;it[ot]===",";)ot+=yield*this.pushCount(1),ot+=yield*this.pushSpaces(!0),this.flowKey=!1;switch(ot+=yield*this.pushIndicators(),it[ot]){case void 0:return"flow";case"#":return yield*this.pushCount(it.length-ot),"flow";case"{":case"[":return yield*this.pushCount(1),this.flowKey=!1,this.flowLevel+=1,"flow";case"}":case"]":return yield*this.pushCount(1),this.flowKey=!0,this.flowLevel-=1,this.flowLevel?"flow":"doc";case"*":return yield*this.pushUntil(isNotAnchorChar),"flow";case'"':case"'":return this.flowKey=!0,yield*this.parseQuotedScalar();case":":{const at=this.charAt(1);if(this.flowKey||isEmpty(at)||at===",")return this.flowKey=!1,yield*this.pushCount(1),yield*this.pushSpaces(!0),"flow"}default:return this.flowKey=!1,yield*this.parsePlainScalar()}}*parseQuotedScalar(){const et=this.charAt(0);let rt=this.buffer.indexOf(et,this.pos+1);if(et==="'")for(;rt!==-1&&this.buffer[rt+1]==="'";)rt=this.buffer.indexOf("'",rt+2);else for(;rt!==-1;){let ot=0;for(;this.buffer[rt-1-ot]==="\\";)ot+=1;if(ot%2===0)break;rt=this.buffer.indexOf('"',rt+1)}const nt=this.buffer.substring(0,rt);let it=nt.indexOf(`
`,this.pos);if(it!==-1){for(;it!==-1;){const ot=this.continueScalar(it+1);if(ot===-1)break;it=nt.indexOf(`
`,ot)}it!==-1&&(rt=it-(nt[it-1]==="\r"?2:1))}if(rt===-1){if(!this.atEnd)return this.setNext("quoted-scalar");rt=this.buffer.length}return yield*this.pushToIndex(rt+1,!1),this.flowLevel?"flow":"doc"}*parseBlockScalarHeader(){this.blockScalarIndent=-1,this.blockScalarKeep=!1;let et=this.pos;for(;;){const rt=this.buffer[++et];if(rt==="+")this.blockScalarKeep=!0;else if(rt>"0"&&rt<="9")this.blockScalarIndent=Number(rt)-1;else if(rt!=="-")break}return yield*this.pushUntil(rt=>isEmpty(rt)||rt==="#")}*parseBlockScalar(){let et=this.pos-1,rt=0,nt;e:for(let it=this.pos;nt=this.buffer[it];++it)switch(nt){case" ":rt+=1;break;case`
`:et=it,rt=0;break;case"\r":{const ot=this.buffer[it+1];if(!ot&&!this.atEnd)return this.setNext("block-scalar");if(ot===`
`)break}default:break e}if(!nt&&!this.atEnd)return this.setNext("block-scalar");if(rt>=this.indentNext){this.blockScalarIndent===-1?this.indentNext=rt:this.indentNext+=this.blockScalarIndent;do{const it=this.continueScalar(et+1);if(it===-1)break;et=this.buffer.indexOf(`
`,it)}while(et!==-1);if(et===-1){if(!this.atEnd)return this.setNext("block-scalar");et=this.buffer.length}}if(!this.blockScalarKeep)do{let it=et-1,ot=this.buffer[it];ot==="\r"&&(ot=this.buffer[--it]);const at=it;for(;ot===" "||ot==="	";)ot=this.buffer[--it];if(ot===`
`&&it>=this.pos&&it+1+rt>at)et=it;else break}while(!0);return yield SCALAR,yield*this.pushToIndex(et+1,!0),yield*this.parseLineStart()}*parsePlainScalar(){const et=this.flowLevel>0;let rt=this.pos-1,nt=this.pos-1,it;for(;it=this.buffer[++nt];)if(it===":"){const ot=this.buffer[nt+1];if(isEmpty(ot)||et&&ot===",")break;rt=nt}else if(isEmpty(it)){let ot=this.buffer[nt+1];if(it==="\r"&&(ot===`
`?(nt+=1,it=`
`,ot=this.buffer[nt+1]):rt=nt),ot==="#"||et&&invalidFlowScalarChars.includes(ot))break;if(it===`
`){const at=this.continueScalar(nt+1);if(at===-1)break;nt=Math.max(nt,at-2)}}else{if(et&&invalidFlowScalarChars.includes(it))break;rt=nt}return!it&&!this.atEnd?this.setNext("plain-scalar"):(yield SCALAR,yield*this.pushToIndex(rt+1,!0),et?"flow":"doc")}*pushCount(et){return et>0?(yield this.buffer.substr(this.pos,et),this.pos+=et,et):0}*pushToIndex(et,rt){const nt=this.buffer.slice(this.pos,et);return nt?(yield nt,this.pos+=nt.length,nt.length):(rt&&(yield""),0)}*pushIndicators(){switch(this.charAt(0)){case"!":return(yield*this.pushTag())+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"&":return(yield*this.pushUntil(isNotAnchorChar))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators());case"-":case"?":case":":{const et=this.flowLevel>0,rt=this.charAt(1);if(isEmpty(rt)||et&&invalidFlowScalarChars.includes(rt))return et?this.flowKey&&(this.flowKey=!1):this.indentNext=this.indentValue+1,(yield*this.pushCount(1))+(yield*this.pushSpaces(!0))+(yield*this.pushIndicators())}}return 0}*pushTag(){if(this.charAt(1)==="<"){let et=this.pos+2,rt=this.buffer[et];for(;!isEmpty(rt)&&rt!==">";)rt=this.buffer[++et];return yield*this.pushToIndex(rt===">"?et+1:et,!1)}else{let et=this.pos+1,rt=this.buffer[et];for(;rt;)if(tagChars.includes(rt))rt=this.buffer[++et];else if(rt==="%"&&hexDigits.includes(this.buffer[et+1])&&hexDigits.includes(this.buffer[et+2]))rt=this.buffer[et+=3];else break;return yield*this.pushToIndex(et,!1)}}*pushNewline(){const et=this.buffer[this.pos];return et===`
`?yield*this.pushCount(1):et==="\r"&&this.charAt(1)===`
`?yield*this.pushCount(2):0}*pushSpaces(et){let rt=this.pos-1,nt;do nt=this.buffer[++rt];while(nt===" "||et&&nt==="	");const it=rt-this.pos;return it>0&&(yield this.buffer.substr(this.pos,it),this.pos=rt),it}*pushUntil(et){let rt=this.pos,nt=this.buffer[rt];for(;!et(nt);)nt=this.buffer[++rt];return yield*this.pushToIndex(rt,!1)}}class LineCounter{constructor(){this.lineStarts=[],this.addNewLine=et=>this.lineStarts.push(et),this.linePos=et=>{let rt=0,nt=this.lineStarts.length;for(;rt<nt;){const ot=rt+nt>>1;this.lineStarts[ot]<et?rt=ot+1:nt=ot}if(this.lineStarts[rt]===et)return{line:rt+1,col:1};if(rt===0)return{line:0,col:et};const it=this.lineStarts[rt-1];return{line:rt,col:et-it+1}}}}function includesToken(tt,et){for(let rt=0;rt<tt.length;++rt)if(tt[rt].type===et)return!0;return!1}function findNonEmptyIndex(tt){for(let et=0;et<tt.length;++et)switch(tt[et].type){case"space":case"comment":case"newline":break;default:return et}return-1}function isFlowToken(tt){switch(tt==null?void 0:tt.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":case"flow-collection":return!0;default:return!1}}function getPrevProps(tt){switch(tt.type){case"document":return tt.start;case"block-map":{const et=tt.items[tt.items.length-1];return et.sep??et.start}case"block-seq":return tt.items[tt.items.length-1].start;default:return[]}}function getFirstKeyStartProps(tt){var rt;if(tt.length===0)return[];let et=tt.length;e:for(;--et>=0;)switch(tt[et].type){case"doc-start":case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":case"newline":break e}for(;((rt=tt[++et])==null?void 0:rt.type)==="space";);return tt.splice(et,tt.length)}function fixFlowSeqItems(tt){if(tt.start.type==="flow-seq-start")for(const et of tt.items)et.sep&&!et.value&&!includesToken(et.start,"explicit-key-ind")&&!includesToken(et.sep,"map-value-ind")&&(et.key&&(et.value=et.key),delete et.key,isFlowToken(et.value)?et.value.end?Array.prototype.push.apply(et.value.end,et.sep):et.value.end=et.sep:Array.prototype.push.apply(et.start,et.sep),delete et.sep)}class Parser{constructor(et){this.atNewLine=!0,this.atScalar=!1,this.indent=0,this.offset=0,this.onKeyLine=!1,this.stack=[],this.source="",this.type="",this.lexer=new Lexer,this.onNewLine=et}*parse(et,rt=!1){this.onNewLine&&this.offset===0&&this.onNewLine(0);for(const nt of this.lexer.lex(et,rt))yield*this.next(nt);rt||(yield*this.end())}*next(et){if(this.source=et,this.atScalar){this.atScalar=!1,yield*this.step(),this.offset+=et.length;return}const rt=tokenType(et);if(rt)if(rt==="scalar")this.atNewLine=!1,this.atScalar=!0,this.type="scalar";else{switch(this.type=rt,yield*this.step(),rt){case"newline":this.atNewLine=!0,this.indent=0,this.onNewLine&&this.onNewLine(this.offset+et.length);break;case"space":this.atNewLine&&et[0]===" "&&(this.indent+=et.length);break;case"explicit-key-ind":case"map-value-ind":case"seq-item-ind":this.atNewLine&&(this.indent+=et.length);break;case"doc-mode":case"flow-error-end":return;default:this.atNewLine=!1}this.offset+=et.length}else{const nt=`Not a YAML token: ${et}`;yield*this.pop({type:"error",offset:this.offset,message:nt,source:et}),this.offset+=et.length}}*end(){for(;this.stack.length>0;)yield*this.pop()}get sourceToken(){return{type:this.type,offset:this.offset,indent:this.indent,source:this.source}}*step(){const et=this.peek(1);if(this.type==="doc-end"&&(!et||et.type!=="doc-end")){for(;this.stack.length>0;)yield*this.pop();this.stack.push({type:"doc-end",offset:this.offset,source:this.source});return}if(!et)return yield*this.stream();switch(et.type){case"document":return yield*this.document(et);case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return yield*this.scalar(et);case"block-scalar":return yield*this.blockScalar(et);case"block-map":return yield*this.blockMap(et);case"block-seq":return yield*this.blockSequence(et);case"flow-collection":return yield*this.flowCollection(et);case"doc-end":return yield*this.documentEnd(et)}yield*this.pop()}peek(et){return this.stack[this.stack.length-et]}*pop(et){const rt=et??this.stack.pop();if(rt)if(this.stack.length===0)yield rt;else{const nt=this.peek(1);switch(rt.type==="block-scalar"?rt.indent="indent"in nt?nt.indent:0:rt.type==="flow-collection"&&nt.type==="document"&&(rt.indent=0),rt.type==="flow-collection"&&fixFlowSeqItems(rt),nt.type){case"document":nt.value=rt;break;case"block-scalar":nt.props.push(rt);break;case"block-map":{const it=nt.items[nt.items.length-1];if(it.value){nt.items.push({start:[],key:rt,sep:[]}),this.onKeyLine=!0;return}else if(it.sep)it.value=rt;else{Object.assign(it,{key:rt,sep:[]}),this.onKeyLine=!includesToken(it.start,"explicit-key-ind");return}break}case"block-seq":{const it=nt.items[nt.items.length-1];it.value?nt.items.push({start:[],value:rt}):it.value=rt;break}case"flow-collection":{const it=nt.items[nt.items.length-1];!it||it.value?nt.items.push({start:[],key:rt,sep:[]}):it.sep?it.value=rt:Object.assign(it,{key:rt,sep:[]});return}default:yield*this.pop(),yield*this.pop(rt)}if((nt.type==="document"||nt.type==="block-map"||nt.type==="block-seq")&&(rt.type==="block-map"||rt.type==="block-seq")){const it=rt.items[rt.items.length-1];it&&!it.sep&&!it.value&&it.start.length>0&&findNonEmptyIndex(it.start)===-1&&(rt.indent===0||it.start.every(ot=>ot.type!=="comment"||ot.indent<rt.indent))&&(nt.type==="document"?nt.end=it.start:nt.items.push({start:it.start}),rt.items.splice(-1,1))}}else{const nt="Tried to pop an empty stack";yield{type:"error",offset:this.offset,source:"",message:nt}}}*stream(){switch(this.type){case"directive-line":yield{type:"directive",offset:this.offset,source:this.source};return;case"byte-order-mark":case"space":case"comment":case"newline":yield this.sourceToken;return;case"doc-mode":case"doc-start":{const et={type:"document",offset:this.offset,start:[]};this.type==="doc-start"&&et.start.push(this.sourceToken),this.stack.push(et);return}}yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML stream`,source:this.source}}*document(et){if(et.value)return yield*this.lineEnd(et);switch(this.type){case"doc-start":{findNonEmptyIndex(et.start)!==-1?(yield*this.pop(),yield*this.step()):et.start.push(this.sourceToken);return}case"anchor":case"tag":case"space":case"comment":case"newline":et.start.push(this.sourceToken);return}const rt=this.startBlockValue(et);rt?this.stack.push(rt):yield{type:"error",offset:this.offset,message:`Unexpected ${this.type} token in YAML document`,source:this.source}}*scalar(et){if(this.type==="map-value-ind"){const rt=getPrevProps(this.peek(2)),nt=getFirstKeyStartProps(rt);let it;et.end?(it=et.end,it.push(this.sourceToken),delete et.end):it=[this.sourceToken];const ot={type:"block-map",offset:et.offset,indent:et.indent,items:[{start:nt,key:et,sep:it}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=ot}else yield*this.lineEnd(et)}*blockScalar(et){switch(this.type){case"space":case"comment":case"newline":et.props.push(this.sourceToken);return;case"scalar":if(et.source=this.source,this.atNewLine=!0,this.indent=0,this.onNewLine){let rt=this.source.indexOf(`
`)+1;for(;rt!==0;)this.onNewLine(this.offset+rt),rt=this.source.indexOf(`
`,rt)+1}yield*this.pop();break;default:yield*this.pop(),yield*this.step()}}*blockMap(et){var nt;const rt=et.items[et.items.length-1];switch(this.type){case"newline":if(this.onKeyLine=!1,rt.value){const it="end"in rt.value?rt.value.end:void 0,ot=Array.isArray(it)?it[it.length-1]:void 0;(ot==null?void 0:ot.type)==="comment"?it==null||it.push(this.sourceToken):et.items.push({start:[this.sourceToken]})}else rt.sep?rt.sep.push(this.sourceToken):rt.start.push(this.sourceToken);return;case"space":case"comment":if(rt.value)et.items.push({start:[this.sourceToken]});else if(rt.sep)rt.sep.push(this.sourceToken);else{if(this.atIndentedComment(rt.start,et.indent)){const it=et.items[et.items.length-2],ot=(nt=it==null?void 0:it.value)==null?void 0:nt.end;if(Array.isArray(ot)){Array.prototype.push.apply(ot,rt.start),ot.push(this.sourceToken),et.items.pop();return}}rt.start.push(this.sourceToken)}return}if(this.indent>=et.indent){const it=!this.onKeyLine&&this.indent===et.indent&&rt.sep;let ot=[];if(it&&rt.sep&&!rt.value){const at=[];for(let st=0;st<rt.sep.length;++st){const lt=rt.sep[st];switch(lt.type){case"newline":at.push(st);break;case"space":break;case"comment":lt.indent>et.indent&&(at.length=0);break;default:at.length=0}}at.length>=2&&(ot=rt.sep.splice(at[1]))}switch(this.type){case"anchor":case"tag":it||rt.value?(ot.push(this.sourceToken),et.items.push({start:ot}),this.onKeyLine=!0):rt.sep?rt.sep.push(this.sourceToken):rt.start.push(this.sourceToken);return;case"explicit-key-ind":!rt.sep&&!includesToken(rt.start,"explicit-key-ind")?rt.start.push(this.sourceToken):it||rt.value?(ot.push(this.sourceToken),et.items.push({start:ot})):this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]}),this.onKeyLine=!0;return;case"map-value-ind":if(includesToken(rt.start,"explicit-key-ind"))if(rt.sep)if(rt.value)et.items.push({start:[],key:null,sep:[this.sourceToken]});else if(includesToken(rt.sep,"map-value-ind"))this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:ot,key:null,sep:[this.sourceToken]}]});else if(isFlowToken(rt.key)&&!includesToken(rt.sep,"newline")){const at=getFirstKeyStartProps(rt.start),st=rt.key,lt=rt.sep;lt.push(this.sourceToken),delete rt.key,delete rt.sep,this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:at,key:st,sep:lt}]})}else ot.length>0?rt.sep=rt.sep.concat(ot,this.sourceToken):rt.sep.push(this.sourceToken);else if(includesToken(rt.start,"newline"))Object.assign(rt,{key:null,sep:[this.sourceToken]});else{const at=getFirstKeyStartProps(rt.start);this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:at,key:null,sep:[this.sourceToken]}]})}else rt.sep?rt.value||it?et.items.push({start:ot,key:null,sep:[this.sourceToken]}):includesToken(rt.sep,"map-value-ind")?this.stack.push({type:"block-map",offset:this.offset,indent:this.indent,items:[{start:[],key:null,sep:[this.sourceToken]}]}):rt.sep.push(this.sourceToken):Object.assign(rt,{key:null,sep:[this.sourceToken]});this.onKeyLine=!0;return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const at=this.flowScalar(this.type);it||rt.value?(et.items.push({start:ot,key:at,sep:[]}),this.onKeyLine=!0):rt.sep?this.stack.push(at):(Object.assign(rt,{key:at,sep:[]}),this.onKeyLine=!0);return}default:{const at=this.startBlockValue(et);if(at){it&&at.type!=="block-seq"&&includesToken(rt.start,"explicit-key-ind")&&et.items.push({start:ot}),this.stack.push(at);return}}}}yield*this.pop(),yield*this.step()}*blockSequence(et){var nt;const rt=et.items[et.items.length-1];switch(this.type){case"newline":if(rt.value){const it="end"in rt.value?rt.value.end:void 0,ot=Array.isArray(it)?it[it.length-1]:void 0;(ot==null?void 0:ot.type)==="comment"?it==null||it.push(this.sourceToken):et.items.push({start:[this.sourceToken]})}else rt.start.push(this.sourceToken);return;case"space":case"comment":if(rt.value)et.items.push({start:[this.sourceToken]});else{if(this.atIndentedComment(rt.start,et.indent)){const it=et.items[et.items.length-2],ot=(nt=it==null?void 0:it.value)==null?void 0:nt.end;if(Array.isArray(ot)){Array.prototype.push.apply(ot,rt.start),ot.push(this.sourceToken),et.items.pop();return}}rt.start.push(this.sourceToken)}return;case"anchor":case"tag":if(rt.value||this.indent<=et.indent)break;rt.start.push(this.sourceToken);return;case"seq-item-ind":if(this.indent!==et.indent)break;rt.value||includesToken(rt.start,"seq-item-ind")?et.items.push({start:[this.sourceToken]}):rt.start.push(this.sourceToken);return}if(this.indent>et.indent){const it=this.startBlockValue(et);if(it){this.stack.push(it);return}}yield*this.pop(),yield*this.step()}*flowCollection(et){const rt=et.items[et.items.length-1];if(this.type==="flow-error-end"){let nt;do yield*this.pop(),nt=this.peek(1);while(nt&&nt.type==="flow-collection")}else if(et.end.length===0){switch(this.type){case"comma":case"explicit-key-ind":!rt||rt.sep?et.items.push({start:[this.sourceToken]}):rt.start.push(this.sourceToken);return;case"map-value-ind":!rt||rt.value?et.items.push({start:[],key:null,sep:[this.sourceToken]}):rt.sep?rt.sep.push(this.sourceToken):Object.assign(rt,{key:null,sep:[this.sourceToken]});return;case"space":case"comment":case"newline":case"anchor":case"tag":!rt||rt.value?et.items.push({start:[this.sourceToken]}):rt.sep?rt.sep.push(this.sourceToken):rt.start.push(this.sourceToken);return;case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":{const it=this.flowScalar(this.type);!rt||rt.value?et.items.push({start:[],key:it,sep:[]}):rt.sep?this.stack.push(it):Object.assign(rt,{key:it,sep:[]});return}case"flow-map-end":case"flow-seq-end":et.end.push(this.sourceToken);return}const nt=this.startBlockValue(et);nt?this.stack.push(nt):(yield*this.pop(),yield*this.step())}else{const nt=this.peek(2);if(nt.type==="block-map"&&(this.type==="map-value-ind"&&nt.indent===et.indent||this.type==="newline"&&!nt.items[nt.items.length-1].sep))yield*this.pop(),yield*this.step();else if(this.type==="map-value-ind"&&nt.type!=="flow-collection"){const it=getPrevProps(nt),ot=getFirstKeyStartProps(it);fixFlowSeqItems(et);const at=et.end.splice(1,et.end.length);at.push(this.sourceToken);const st={type:"block-map",offset:et.offset,indent:et.indent,items:[{start:ot,key:et,sep:at}]};this.onKeyLine=!0,this.stack[this.stack.length-1]=st}else yield*this.lineEnd(et)}}flowScalar(et){if(this.onNewLine){let rt=this.source.indexOf(`
`)+1;for(;rt!==0;)this.onNewLine(this.offset+rt),rt=this.source.indexOf(`
`,rt)+1}return{type:et,offset:this.offset,indent:this.indent,source:this.source}}startBlockValue(et){switch(this.type){case"alias":case"scalar":case"single-quoted-scalar":case"double-quoted-scalar":return this.flowScalar(this.type);case"block-scalar-header":return{type:"block-scalar",offset:this.offset,indent:this.indent,props:[this.sourceToken],source:""};case"flow-map-start":case"flow-seq-start":return{type:"flow-collection",offset:this.offset,indent:this.indent,start:this.sourceToken,items:[],end:[]};case"seq-item-ind":return{type:"block-seq",offset:this.offset,indent:this.indent,items:[{start:[this.sourceToken]}]};case"explicit-key-ind":{this.onKeyLine=!0;const rt=getPrevProps(et),nt=getFirstKeyStartProps(rt);return nt.push(this.sourceToken),{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:nt}]}}case"map-value-ind":{this.onKeyLine=!0;const rt=getPrevProps(et),nt=getFirstKeyStartProps(rt);return{type:"block-map",offset:this.offset,indent:this.indent,items:[{start:nt,key:null,sep:[this.sourceToken]}]}}}return null}atIndentedComment(et,rt){return this.type!=="comment"||this.indent<=rt?!1:et.every(nt=>nt.type==="newline"||nt.type==="space")}*documentEnd(et){this.type!=="doc-mode"&&(et.end?et.end.push(this.sourceToken):et.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop()))}*lineEnd(et){switch(this.type){case"comma":case"doc-start":case"doc-end":case"flow-seq-end":case"flow-map-end":case"map-value-ind":yield*this.pop(),yield*this.step();break;case"newline":this.onKeyLine=!1;case"space":case"comment":default:et.end?et.end.push(this.sourceToken):et.end=[this.sourceToken],this.type==="newline"&&(yield*this.pop())}}}function parseOptions(tt){const et=tt.prettyErrors!==!1;return{lineCounter:tt.lineCounter||et&&new LineCounter||null,prettyErrors:et}}function parseAllDocuments(tt,et={}){const{lineCounter:rt,prettyErrors:nt}=parseOptions(et),it=new Parser(rt==null?void 0:rt.addNewLine),ot=new Composer(et),at=Array.from(ot.compose(it.parse(tt)));if(nt&&rt)for(const st of at)st.errors.forEach(prettifyError(tt,rt)),st.warnings.forEach(prettifyError(tt,rt));return at.length>0?at:Object.assign([],{empty:!0},ot.streamInfo())}function parseDocument(tt,et={}){const{lineCounter:rt,prettyErrors:nt}=parseOptions(et),it=new Parser(rt==null?void 0:rt.addNewLine),ot=new Composer(et);let at=null;for(const st of ot.compose(it.parse(tt),!0,tt.length))if(!at)at=st;else if(at.options.logLevel!=="silent"){at.errors.push(new YAMLParseError(st.range.slice(0,2),"MULTIPLE_DOCS","Source contains multiple documents; please use YAML.parseAllDocuments()"));break}return nt&&rt&&(at.errors.forEach(prettifyError(tt,rt)),at.warnings.forEach(prettifyError(tt,rt))),at}function parse$2(tt,et,rt){let nt;typeof et=="function"?nt=et:rt===void 0&&et&&typeof et=="object"&&(rt=et);const it=parseDocument(tt,rt);if(!it)return null;if(it.warnings.forEach(ot=>warn$7(it.options.logLevel,ot)),it.errors.length>0){if(it.options.logLevel!=="silent")throw it.errors[0];it.errors=[]}return it.toJS(Object.assign({reviver:nt},rt))}function stringify$7(tt,et,rt){let nt=null;if(typeof et=="function"||Array.isArray(et)?nt=et:rt===void 0&&et&&(rt=et),typeof rt=="string"&&(rt=rt.length),typeof rt=="number"){const it=Math.round(rt);rt=it<1?void 0:it>8?{indent:8}:{indent:it}}if(tt===void 0){const{keepUndefined:it}=rt??et??{};if(!it)return}return new Document(tt,nt,rt).toString(rt)}const YAML$1=Object.freeze(Object.defineProperty({__proto__:null,Alias,CST:cst,Composer,Document,Lexer,LineCounter,Pair,Parser,Scalar,Schema,YAMLError,YAMLMap,YAMLParseError,YAMLSeq,YAMLWarning,isAlias,isCollection:isCollection$1,isDocument,isMap:isMap$3,isNode,isPair,isScalar:isScalar$1,isSeq,parse:parse$2,parseAllDocuments,parseDocument,stringify:stringify$7,visit:visit$1,visitAsync},Symbol.toStringTag,{value:"Module"}));function commonjsRequire$4(tt){throw new Error('Could not dynamically require "'+tt+'". Please configure the dynamicRequireTargets or/and ignoreDynamicRequires option of @rollup/plugin-commonjs appropriately for this require call to work.')}var jszip_minExports={},jszip_min={get exports(){return jszip_minExports},set exports(tt){jszip_minExports=tt}};/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(tt,et){(function(rt){tt.exports=rt()})(function(){return function rt(nt,it,ot){function at(ct,ut){if(!it[ct]){if(!nt[ct]){var dt=typeof commonjsRequire$4=="function"&&commonjsRequire$4;if(!ut&&dt)return dt(ct,!0);if(st)return st(ct,!0);var ft=new Error("Cannot find module '"+ct+"'");throw ft.code="MODULE_NOT_FOUND",ft}var pt=it[ct]={exports:{}};nt[ct][0].call(pt.exports,function(mt){var ht=nt[ct][1][mt];return at(ht||mt)},pt,pt.exports,rt,nt,it,ot)}return it[ct].exports}for(var st=typeof commonjsRequire$4=="function"&&commonjsRequire$4,lt=0;lt<ot.length;lt++)at(ot[lt]);return at}({1:[function(rt,nt,it){var ot=rt("./utils"),at=rt("./support"),st="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";it.encode=function(lt){for(var ct,ut,dt,ft,pt,mt,ht,gt=[],vt=0,yt=lt.length,bt=yt,xt=ot.getTypeOf(lt)!=="string";vt<lt.length;)bt=yt-vt,dt=xt?(ct=lt[vt++],ut=vt<yt?lt[vt++]:0,vt<yt?lt[vt++]:0):(ct=lt.charCodeAt(vt++),ut=vt<yt?lt.charCodeAt(vt++):0,vt<yt?lt.charCodeAt(vt++):0),ft=ct>>2,pt=(3&ct)<<4|ut>>4,mt=1<bt?(15&ut)<<2|dt>>6:64,ht=2<bt?63&dt:64,gt.push(st.charAt(ft)+st.charAt(pt)+st.charAt(mt)+st.charAt(ht));return gt.join("")},it.decode=function(lt){var ct,ut,dt,ft,pt,mt,ht=0,gt=0,vt="data:";if(lt.substr(0,vt.length)===vt)throw new Error("Invalid base64 input, it looks like a data url.");var yt,bt=3*(lt=lt.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(lt.charAt(lt.length-1)===st.charAt(64)&&bt--,lt.charAt(lt.length-2)===st.charAt(64)&&bt--,bt%1!=0)throw new Error("Invalid base64 input, bad content length.");for(yt=at.uint8array?new Uint8Array(0|bt):new Array(0|bt);ht<lt.length;)ct=st.indexOf(lt.charAt(ht++))<<2|(ft=st.indexOf(lt.charAt(ht++)))>>4,ut=(15&ft)<<4|(pt=st.indexOf(lt.charAt(ht++)))>>2,dt=(3&pt)<<6|(mt=st.indexOf(lt.charAt(ht++))),yt[gt++]=ct,pt!==64&&(yt[gt++]=ut),mt!==64&&(yt[gt++]=dt);return yt}},{"./support":30,"./utils":32}],2:[function(rt,nt,it){var ot=rt("./external"),at=rt("./stream/DataWorker"),st=rt("./stream/Crc32Probe"),lt=rt("./stream/DataLengthProbe");function ct(ut,dt,ft,pt,mt){this.compressedSize=ut,this.uncompressedSize=dt,this.crc32=ft,this.compression=pt,this.compressedContent=mt}ct.prototype={getContentWorker:function(){var ut=new at(ot.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new lt("data_length")),dt=this;return ut.on("end",function(){if(this.streamInfo.data_length!==dt.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),ut},getCompressedWorker:function(){return new at(ot.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},ct.createWorkerFrom=function(ut,dt,ft){return ut.pipe(new st).pipe(new lt("uncompressedSize")).pipe(dt.compressWorker(ft)).pipe(new lt("compressedSize")).withStreamInfo("compression",dt)},nt.exports=ct},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(rt,nt,it){var ot=rt("./stream/GenericWorker");it.STORE={magic:"\0\0",compressWorker:function(){return new ot("STORE compression")},uncompressWorker:function(){return new ot("STORE decompression")}},it.DEFLATE=rt("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(rt,nt,it){var ot=rt("./utils"),at=function(){for(var st,lt=[],ct=0;ct<256;ct++){st=ct;for(var ut=0;ut<8;ut++)st=1&st?3988292384^st>>>1:st>>>1;lt[ct]=st}return lt}();nt.exports=function(st,lt){return st!==void 0&&st.length?ot.getTypeOf(st)!=="string"?function(ct,ut,dt,ft){var pt=at,mt=ft+dt;ct^=-1;for(var ht=ft;ht<mt;ht++)ct=ct>>>8^pt[255&(ct^ut[ht])];return-1^ct}(0|lt,st,st.length,0):function(ct,ut,dt,ft){var pt=at,mt=ft+dt;ct^=-1;for(var ht=ft;ht<mt;ht++)ct=ct>>>8^pt[255&(ct^ut.charCodeAt(ht))];return-1^ct}(0|lt,st,st.length,0):0}},{"./utils":32}],5:[function(rt,nt,it){it.base64=!1,it.binary=!1,it.dir=!1,it.createFolders=!0,it.date=null,it.compression=null,it.compressionOptions=null,it.comment=null,it.unixPermissions=null,it.dosPermissions=null},{}],6:[function(rt,nt,it){var ot=null;ot=typeof Promise<"u"?Promise:rt("lie"),nt.exports={Promise:ot}},{lie:37}],7:[function(rt,nt,it){var ot=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Uint32Array<"u",at=rt("pako"),st=rt("./utils"),lt=rt("./stream/GenericWorker"),ct=ot?"uint8array":"array";function ut(dt,ft){lt.call(this,"FlateWorker/"+dt),this._pako=null,this._pakoAction=dt,this._pakoOptions=ft,this.meta={}}it.magic="\b\0",st.inherits(ut,lt),ut.prototype.processChunk=function(dt){this.meta=dt.meta,this._pako===null&&this._createPako(),this._pako.push(st.transformTo(ct,dt.data),!1)},ut.prototype.flush=function(){lt.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},ut.prototype.cleanUp=function(){lt.prototype.cleanUp.call(this),this._pako=null},ut.prototype._createPako=function(){this._pako=new at[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var dt=this;this._pako.onData=function(ft){dt.push({data:ft,meta:dt.meta})}},it.compressWorker=function(dt){return new ut("Deflate",dt)},it.uncompressWorker=function(){return new ut("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(rt,nt,it){function ot(pt,mt){var ht,gt="";for(ht=0;ht<mt;ht++)gt+=String.fromCharCode(255&pt),pt>>>=8;return gt}function at(pt,mt,ht,gt,vt,yt){var bt,xt,$t=pt.file,Tt=pt.compression,wt=yt!==ct.utf8encode,At=st.transformTo("string",yt($t.name)),Rt=st.transformTo("string",ct.utf8encode($t.name)),It=$t.comment,Lt=st.transformTo("string",yt(It)),Pt=st.transformTo("string",ct.utf8encode(It)),Nt=Rt.length!==$t.name.length,Ot=Pt.length!==It.length,Bt="",zt="",Vt="",Ut=$t.dir,jt=$t.date,qt={crc32:0,compressedSize:0,uncompressedSize:0};mt&&!ht||(qt.crc32=pt.crc32,qt.compressedSize=pt.compressedSize,qt.uncompressedSize=pt.uncompressedSize);var Dt=0;mt&&(Dt|=8),wt||!Nt&&!Ot||(Dt|=2048);var Ft=0,Zt=0;Ut&&(Ft|=16),vt==="UNIX"?(Zt=798,Ft|=function(ir,rr){var mr=ir;return ir||(mr=rr?16893:33204),(65535&mr)<<16}($t.unixPermissions,Ut)):(Zt=20,Ft|=function(ir){return 63&(ir||0)}($t.dosPermissions)),bt=jt.getUTCHours(),bt<<=6,bt|=jt.getUTCMinutes(),bt<<=5,bt|=jt.getUTCSeconds()/2,xt=jt.getUTCFullYear()-1980,xt<<=4,xt|=jt.getUTCMonth()+1,xt<<=5,xt|=jt.getUTCDate(),Nt&&(zt=ot(1,1)+ot(ut(At),4)+Rt,Bt+="up"+ot(zt.length,2)+zt),Ot&&(Vt=ot(1,1)+ot(ut(Lt),4)+Pt,Bt+="uc"+ot(Vt.length,2)+Vt);var Kt="";return Kt+=`
\0`,Kt+=ot(Dt,2),Kt+=Tt.magic,Kt+=ot(bt,2),Kt+=ot(xt,2),Kt+=ot(qt.crc32,4),Kt+=ot(qt.compressedSize,4),Kt+=ot(qt.uncompressedSize,4),Kt+=ot(At.length,2),Kt+=ot(Bt.length,2),{fileRecord:dt.LOCAL_FILE_HEADER+Kt+At+Bt,dirRecord:dt.CENTRAL_FILE_HEADER+ot(Zt,2)+Kt+ot(Lt.length,2)+"\0\0\0\0"+ot(Ft,4)+ot(gt,4)+At+Bt+Lt}}var st=rt("../utils"),lt=rt("../stream/GenericWorker"),ct=rt("../utf8"),ut=rt("../crc32"),dt=rt("../signature");function ft(pt,mt,ht,gt){lt.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=mt,this.zipPlatform=ht,this.encodeFileName=gt,this.streamFiles=pt,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}st.inherits(ft,lt),ft.prototype.push=function(pt){var mt=pt.meta.percent||0,ht=this.entriesCount,gt=this._sources.length;this.accumulate?this.contentBuffer.push(pt):(this.bytesWritten+=pt.data.length,lt.prototype.push.call(this,{data:pt.data,meta:{currentFile:this.currentFile,percent:ht?(mt+100*(ht-gt-1))/ht:100}}))},ft.prototype.openedSource=function(pt){this.currentSourceOffset=this.bytesWritten,this.currentFile=pt.file.name;var mt=this.streamFiles&&!pt.file.dir;if(mt){var ht=at(pt,mt,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:ht.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ft.prototype.closedSource=function(pt){this.accumulate=!1;var mt=this.streamFiles&&!pt.file.dir,ht=at(pt,mt,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(ht.dirRecord),mt)this.push({data:function(gt){return dt.DATA_DESCRIPTOR+ot(gt.crc32,4)+ot(gt.compressedSize,4)+ot(gt.uncompressedSize,4)}(pt),meta:{percent:100}});else for(this.push({data:ht.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ft.prototype.flush=function(){for(var pt=this.bytesWritten,mt=0;mt<this.dirRecords.length;mt++)this.push({data:this.dirRecords[mt],meta:{percent:100}});var ht=this.bytesWritten-pt,gt=function(vt,yt,bt,xt,$t){var Tt=st.transformTo("string",$t(xt));return dt.CENTRAL_DIRECTORY_END+"\0\0\0\0"+ot(vt,2)+ot(vt,2)+ot(yt,4)+ot(bt,4)+ot(Tt.length,2)+Tt}(this.dirRecords.length,ht,pt,this.zipComment,this.encodeFileName);this.push({data:gt,meta:{percent:100}})},ft.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ft.prototype.registerPrevious=function(pt){this._sources.push(pt);var mt=this;return pt.on("data",function(ht){mt.processChunk(ht)}),pt.on("end",function(){mt.closedSource(mt.previous.streamInfo),mt._sources.length?mt.prepareNextSource():mt.end()}),pt.on("error",function(ht){mt.error(ht)}),this},ft.prototype.resume=function(){return!!lt.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ft.prototype.error=function(pt){var mt=this._sources;if(!lt.prototype.error.call(this,pt))return!1;for(var ht=0;ht<mt.length;ht++)try{mt[ht].error(pt)}catch{}return!0},ft.prototype.lock=function(){lt.prototype.lock.call(this);for(var pt=this._sources,mt=0;mt<pt.length;mt++)pt[mt].lock()},nt.exports=ft},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(rt,nt,it){var ot=rt("../compressions"),at=rt("./ZipFileWorker");it.generateWorker=function(st,lt,ct){var ut=new at(lt.streamFiles,ct,lt.platform,lt.encodeFileName),dt=0;try{st.forEach(function(ft,pt){dt++;var mt=function(yt,bt){var xt=yt||bt,$t=ot[xt];if(!$t)throw new Error(xt+" is not a valid compression method !");return $t}(pt.options.compression,lt.compression),ht=pt.options.compressionOptions||lt.compressionOptions||{},gt=pt.dir,vt=pt.date;pt._compressWorker(mt,ht).withStreamInfo("file",{name:ft,dir:gt,date:vt,comment:pt.comment||"",unixPermissions:pt.unixPermissions,dosPermissions:pt.dosPermissions}).pipe(ut)}),ut.entriesCount=dt}catch(ft){ut.error(ft)}return ut}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(rt,nt,it){function ot(){if(!(this instanceof ot))return new ot;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var at=new ot;for(var st in this)typeof this[st]!="function"&&(at[st]=this[st]);return at}}(ot.prototype=rt("./object")).loadAsync=rt("./load"),ot.support=rt("./support"),ot.defaults=rt("./defaults"),ot.version="3.10.1",ot.loadAsync=function(at,st){return new ot().loadAsync(at,st)},ot.external=rt("./external"),nt.exports=ot},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(rt,nt,it){var ot=rt("./utils"),at=rt("./external"),st=rt("./utf8"),lt=rt("./zipEntries"),ct=rt("./stream/Crc32Probe"),ut=rt("./nodejsUtils");function dt(ft){return new at.Promise(function(pt,mt){var ht=ft.decompressed.getContentWorker().pipe(new ct);ht.on("error",function(gt){mt(gt)}).on("end",function(){ht.streamInfo.crc32!==ft.decompressed.crc32?mt(new Error("Corrupted zip : CRC32 mismatch")):pt()}).resume()})}nt.exports=function(ft,pt){var mt=this;return pt=ot.extend(pt||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:st.utf8decode}),ut.isNode&&ut.isStream(ft)?at.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):ot.prepareContent("the loaded zip file",ft,!0,pt.optimizedBinaryString,pt.base64).then(function(ht){var gt=new lt(pt);return gt.load(ht),gt}).then(function(ht){var gt=[at.Promise.resolve(ht)],vt=ht.files;if(pt.checkCRC32)for(var yt=0;yt<vt.length;yt++)gt.push(dt(vt[yt]));return at.Promise.all(gt)}).then(function(ht){for(var gt=ht.shift(),vt=gt.files,yt=0;yt<vt.length;yt++){var bt=vt[yt],xt=bt.fileNameStr,$t=ot.resolve(bt.fileNameStr);mt.file($t,bt.decompressed,{binary:!0,optimizedBinaryString:!0,date:bt.date,dir:bt.dir,comment:bt.fileCommentStr.length?bt.fileCommentStr:null,unixPermissions:bt.unixPermissions,dosPermissions:bt.dosPermissions,createFolders:pt.createFolders}),bt.dir||(mt.file($t).unsafeOriginalName=xt)}return gt.zipComment.length&&(mt.comment=gt.zipComment),mt})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(rt,nt,it){var ot=rt("../utils"),at=rt("../stream/GenericWorker");function st(lt,ct){at.call(this,"Nodejs stream input adapter for "+lt),this._upstreamEnded=!1,this._bindStream(ct)}ot.inherits(st,at),st.prototype._bindStream=function(lt){var ct=this;(this._stream=lt).pause(),lt.on("data",function(ut){ct.push({data:ut,meta:{percent:0}})}).on("error",function(ut){ct.isPaused?this.generatedError=ut:ct.error(ut)}).on("end",function(){ct.isPaused?ct._upstreamEnded=!0:ct.end()})},st.prototype.pause=function(){return!!at.prototype.pause.call(this)&&(this._stream.pause(),!0)},st.prototype.resume=function(){return!!at.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},nt.exports=st},{"../stream/GenericWorker":28,"../utils":32}],13:[function(rt,nt,it){var ot=rt("readable-stream").Readable;function at(st,lt,ct){ot.call(this,lt),this._helper=st;var ut=this;st.on("data",function(dt,ft){ut.push(dt)||ut._helper.pause(),ct&&ct(ft)}).on("error",function(dt){ut.emit("error",dt)}).on("end",function(){ut.push(null)})}rt("../utils").inherits(at,ot),at.prototype._read=function(){this._helper.resume()},nt.exports=at},{"../utils":32,"readable-stream":16}],14:[function(rt,nt,it){nt.exports={isNode:typeof Buffer<"u",newBufferFrom:function(ot,at){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(ot,at);if(typeof ot=="number")throw new Error('The "data" argument must not be a number');return new Buffer(ot,at)},allocBuffer:function(ot){if(Buffer.alloc)return Buffer.alloc(ot);var at=new Buffer(ot);return at.fill(0),at},isBuffer:function(ot){return Buffer.isBuffer(ot)},isStream:function(ot){return ot&&typeof ot.on=="function"&&typeof ot.pause=="function"&&typeof ot.resume=="function"}}},{}],15:[function(rt,nt,it){function ot($t,Tt,wt){var At,Rt=st.getTypeOf(Tt),It=st.extend(wt||{},ut);It.date=It.date||new Date,It.compression!==null&&(It.compression=It.compression.toUpperCase()),typeof It.unixPermissions=="string"&&(It.unixPermissions=parseInt(It.unixPermissions,8)),It.unixPermissions&&16384&It.unixPermissions&&(It.dir=!0),It.dosPermissions&&16&It.dosPermissions&&(It.dir=!0),It.dir&&($t=vt($t)),It.createFolders&&(At=gt($t))&&yt.call(this,At,!0);var Lt=Rt==="string"&&It.binary===!1&&It.base64===!1;wt&&wt.binary!==void 0||(It.binary=!Lt),(Tt instanceof dt&&Tt.uncompressedSize===0||It.dir||!Tt||Tt.length===0)&&(It.base64=!1,It.binary=!0,Tt="",It.compression="STORE",Rt="string");var Pt=null;Pt=Tt instanceof dt||Tt instanceof lt?Tt:mt.isNode&&mt.isStream(Tt)?new ht($t,Tt):st.prepareContent($t,Tt,It.binary,It.optimizedBinaryString,It.base64);var Nt=new ft($t,Pt,It);this.files[$t]=Nt}var at=rt("./utf8"),st=rt("./utils"),lt=rt("./stream/GenericWorker"),ct=rt("./stream/StreamHelper"),ut=rt("./defaults"),dt=rt("./compressedObject"),ft=rt("./zipObject"),pt=rt("./generate"),mt=rt("./nodejsUtils"),ht=rt("./nodejs/NodejsStreamInputAdapter"),gt=function($t){$t.slice(-1)==="/"&&($t=$t.substring(0,$t.length-1));var Tt=$t.lastIndexOf("/");return 0<Tt?$t.substring(0,Tt):""},vt=function($t){return $t.slice(-1)!=="/"&&($t+="/"),$t},yt=function($t,Tt){return Tt=Tt!==void 0?Tt:ut.createFolders,$t=vt($t),this.files[$t]||ot.call(this,$t,null,{dir:!0,createFolders:Tt}),this.files[$t]};function bt($t){return Object.prototype.toString.call($t)==="[object RegExp]"}var xt={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function($t){var Tt,wt,At;for(Tt in this.files)At=this.files[Tt],(wt=Tt.slice(this.root.length,Tt.length))&&Tt.slice(0,this.root.length)===this.root&&$t(wt,At)},filter:function($t){var Tt=[];return this.forEach(function(wt,At){$t(wt,At)&&Tt.push(At)}),Tt},file:function($t,Tt,wt){if(arguments.length!==1)return $t=this.root+$t,ot.call(this,$t,Tt,wt),this;if(bt($t)){var At=$t;return this.filter(function(It,Lt){return!Lt.dir&&At.test(It)})}var Rt=this.files[this.root+$t];return Rt&&!Rt.dir?Rt:null},folder:function($t){if(!$t)return this;if(bt($t))return this.filter(function(Rt,It){return It.dir&&$t.test(Rt)});var Tt=this.root+$t,wt=yt.call(this,Tt),At=this.clone();return At.root=wt.name,At},remove:function($t){$t=this.root+$t;var Tt=this.files[$t];if(Tt||($t.slice(-1)!=="/"&&($t+="/"),Tt=this.files[$t]),Tt&&!Tt.dir)delete this.files[$t];else for(var wt=this.filter(function(Rt,It){return It.name.slice(0,$t.length)===$t}),At=0;At<wt.length;At++)delete this.files[wt[At].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function($t){var Tt,wt={};try{if((wt=st.extend($t||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:at.utf8encode})).type=wt.type.toLowerCase(),wt.compression=wt.compression.toUpperCase(),wt.type==="binarystring"&&(wt.type="string"),!wt.type)throw new Error("No output type specified.");st.checkSupport(wt.type),wt.platform!=="darwin"&&wt.platform!=="freebsd"&&wt.platform!=="linux"&&wt.platform!=="sunos"||(wt.platform="UNIX"),wt.platform==="win32"&&(wt.platform="DOS");var At=wt.comment||this.comment||"";Tt=pt.generateWorker(this,wt,At)}catch(Rt){(Tt=new lt("error")).error(Rt)}return new ct(Tt,wt.type||"string",wt.mimeType)},generateAsync:function($t,Tt){return this.generateInternalStream($t).accumulate(Tt)},generateNodeStream:function($t,Tt){return($t=$t||{}).type||($t.type="nodebuffer"),this.generateInternalStream($t).toNodejsStream(Tt)}};nt.exports=xt},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(rt,nt,it){nt.exports=rt("stream")},{stream:void 0}],17:[function(rt,nt,it){var ot=rt("./DataReader");function at(st){ot.call(this,st);for(var lt=0;lt<this.data.length;lt++)st[lt]=255&st[lt]}rt("../utils").inherits(at,ot),at.prototype.byteAt=function(st){return this.data[this.zero+st]},at.prototype.lastIndexOfSignature=function(st){for(var lt=st.charCodeAt(0),ct=st.charCodeAt(1),ut=st.charCodeAt(2),dt=st.charCodeAt(3),ft=this.length-4;0<=ft;--ft)if(this.data[ft]===lt&&this.data[ft+1]===ct&&this.data[ft+2]===ut&&this.data[ft+3]===dt)return ft-this.zero;return-1},at.prototype.readAndCheckSignature=function(st){var lt=st.charCodeAt(0),ct=st.charCodeAt(1),ut=st.charCodeAt(2),dt=st.charCodeAt(3),ft=this.readData(4);return lt===ft[0]&&ct===ft[1]&&ut===ft[2]&&dt===ft[3]},at.prototype.readData=function(st){if(this.checkOffset(st),st===0)return[];var lt=this.data.slice(this.zero+this.index,this.zero+this.index+st);return this.index+=st,lt},nt.exports=at},{"../utils":32,"./DataReader":18}],18:[function(rt,nt,it){var ot=rt("../utils");function at(st){this.data=st,this.length=st.length,this.index=0,this.zero=0}at.prototype={checkOffset:function(st){this.checkIndex(this.index+st)},checkIndex:function(st){if(this.length<this.zero+st||st<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+st+"). Corrupted zip ?")},setIndex:function(st){this.checkIndex(st),this.index=st},skip:function(st){this.setIndex(this.index+st)},byteAt:function(){},readInt:function(st){var lt,ct=0;for(this.checkOffset(st),lt=this.index+st-1;lt>=this.index;lt--)ct=(ct<<8)+this.byteAt(lt);return this.index+=st,ct},readString:function(st){return ot.transformTo("string",this.readData(st))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var st=this.readInt(4);return new Date(Date.UTC(1980+(st>>25&127),(st>>21&15)-1,st>>16&31,st>>11&31,st>>5&63,(31&st)<<1))}},nt.exports=at},{"../utils":32}],19:[function(rt,nt,it){var ot=rt("./Uint8ArrayReader");function at(st){ot.call(this,st)}rt("../utils").inherits(at,ot),at.prototype.readData=function(st){this.checkOffset(st);var lt=this.data.slice(this.zero+this.index,this.zero+this.index+st);return this.index+=st,lt},nt.exports=at},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(rt,nt,it){var ot=rt("./DataReader");function at(st){ot.call(this,st)}rt("../utils").inherits(at,ot),at.prototype.byteAt=function(st){return this.data.charCodeAt(this.zero+st)},at.prototype.lastIndexOfSignature=function(st){return this.data.lastIndexOf(st)-this.zero},at.prototype.readAndCheckSignature=function(st){return st===this.readData(4)},at.prototype.readData=function(st){this.checkOffset(st);var lt=this.data.slice(this.zero+this.index,this.zero+this.index+st);return this.index+=st,lt},nt.exports=at},{"../utils":32,"./DataReader":18}],21:[function(rt,nt,it){var ot=rt("./ArrayReader");function at(st){ot.call(this,st)}rt("../utils").inherits(at,ot),at.prototype.readData=function(st){if(this.checkOffset(st),st===0)return new Uint8Array(0);var lt=this.data.subarray(this.zero+this.index,this.zero+this.index+st);return this.index+=st,lt},nt.exports=at},{"../utils":32,"./ArrayReader":17}],22:[function(rt,nt,it){var ot=rt("../utils"),at=rt("../support"),st=rt("./ArrayReader"),lt=rt("./StringReader"),ct=rt("./NodeBufferReader"),ut=rt("./Uint8ArrayReader");nt.exports=function(dt){var ft=ot.getTypeOf(dt);return ot.checkSupport(ft),ft!=="string"||at.uint8array?ft==="nodebuffer"?new ct(dt):at.uint8array?new ut(ot.transformTo("uint8array",dt)):new st(ot.transformTo("array",dt)):new lt(dt)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(rt,nt,it){it.LOCAL_FILE_HEADER="PK",it.CENTRAL_FILE_HEADER="PK",it.CENTRAL_DIRECTORY_END="PK",it.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",it.ZIP64_CENTRAL_DIRECTORY_END="PK",it.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(rt,nt,it){var ot=rt("./GenericWorker"),at=rt("../utils");function st(lt){ot.call(this,"ConvertWorker to "+lt),this.destType=lt}at.inherits(st,ot),st.prototype.processChunk=function(lt){this.push({data:at.transformTo(this.destType,lt.data),meta:lt.meta})},nt.exports=st},{"../utils":32,"./GenericWorker":28}],25:[function(rt,nt,it){var ot=rt("./GenericWorker"),at=rt("../crc32");function st(){ot.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}rt("../utils").inherits(st,ot),st.prototype.processChunk=function(lt){this.streamInfo.crc32=at(lt.data,this.streamInfo.crc32||0),this.push(lt)},nt.exports=st},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(rt,nt,it){var ot=rt("../utils"),at=rt("./GenericWorker");function st(lt){at.call(this,"DataLengthProbe for "+lt),this.propName=lt,this.withStreamInfo(lt,0)}ot.inherits(st,at),st.prototype.processChunk=function(lt){if(lt){var ct=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=ct+lt.data.length}at.prototype.processChunk.call(this,lt)},nt.exports=st},{"../utils":32,"./GenericWorker":28}],27:[function(rt,nt,it){var ot=rt("../utils"),at=rt("./GenericWorker");function st(lt){at.call(this,"DataWorker");var ct=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,lt.then(function(ut){ct.dataIsReady=!0,ct.data=ut,ct.max=ut&&ut.length||0,ct.type=ot.getTypeOf(ut),ct.isPaused||ct._tickAndRepeat()},function(ut){ct.error(ut)})}ot.inherits(st,at),st.prototype.cleanUp=function(){at.prototype.cleanUp.call(this),this.data=null},st.prototype.resume=function(){return!!at.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,ot.delay(this._tickAndRepeat,[],this)),!0)},st.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(ot.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},st.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var lt=null,ct=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":lt=this.data.substring(this.index,ct);break;case"uint8array":lt=this.data.subarray(this.index,ct);break;case"array":case"nodebuffer":lt=this.data.slice(this.index,ct)}return this.index=ct,this.push({data:lt,meta:{percent:this.max?this.index/this.max*100:0}})},nt.exports=st},{"../utils":32,"./GenericWorker":28}],28:[function(rt,nt,it){function ot(at){this.name=at||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}ot.prototype={push:function(at){this.emit("data",at)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(at){this.emit("error",at)}return!0},error:function(at){return!this.isFinished&&(this.isPaused?this.generatedError=at:(this.isFinished=!0,this.emit("error",at),this.previous&&this.previous.error(at),this.cleanUp()),!0)},on:function(at,st){return this._listeners[at].push(st),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(at,st){if(this._listeners[at])for(var lt=0;lt<this._listeners[at].length;lt++)this._listeners[at][lt].call(this,st)},pipe:function(at){return at.registerPrevious(this)},registerPrevious:function(at){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=at.streamInfo,this.mergeStreamInfo(),this.previous=at;var st=this;return at.on("data",function(lt){st.processChunk(lt)}),at.on("end",function(){st.end()}),at.on("error",function(lt){st.error(lt)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var at=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),at=!0),this.previous&&this.previous.resume(),!at},flush:function(){},processChunk:function(at){this.push(at)},withStreamInfo:function(at,st){return this.extraStreamInfo[at]=st,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var at in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,at)&&(this.streamInfo[at]=this.extraStreamInfo[at])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var at="Worker "+this.name;return this.previous?this.previous+" -> "+at:at}},nt.exports=ot},{}],29:[function(rt,nt,it){var ot=rt("../utils"),at=rt("./ConvertWorker"),st=rt("./GenericWorker"),lt=rt("../base64"),ct=rt("../support"),ut=rt("../external"),dt=null;if(ct.nodestream)try{dt=rt("../nodejs/NodejsStreamOutputAdapter")}catch{}function ft(mt,ht){return new ut.Promise(function(gt,vt){var yt=[],bt=mt._internalType,xt=mt._outputType,$t=mt._mimeType;mt.on("data",function(Tt,wt){yt.push(Tt),ht&&ht(wt)}).on("error",function(Tt){yt=[],vt(Tt)}).on("end",function(){try{var Tt=function(wt,At,Rt){switch(wt){case"blob":return ot.newBlob(ot.transformTo("arraybuffer",At),Rt);case"base64":return lt.encode(At);default:return ot.transformTo(wt,At)}}(xt,function(wt,At){var Rt,It=0,Lt=null,Pt=0;for(Rt=0;Rt<At.length;Rt++)Pt+=At[Rt].length;switch(wt){case"string":return At.join("");case"array":return Array.prototype.concat.apply([],At);case"uint8array":for(Lt=new Uint8Array(Pt),Rt=0;Rt<At.length;Rt++)Lt.set(At[Rt],It),It+=At[Rt].length;return Lt;case"nodebuffer":return Buffer.concat(At);default:throw new Error("concat : unsupported type '"+wt+"'")}}(bt,yt),$t);gt(Tt)}catch(wt){vt(wt)}yt=[]}).resume()})}function pt(mt,ht,gt){var vt=ht;switch(ht){case"blob":case"arraybuffer":vt="uint8array";break;case"base64":vt="string"}try{this._internalType=vt,this._outputType=ht,this._mimeType=gt,ot.checkSupport(vt),this._worker=mt.pipe(new at(vt)),mt.lock()}catch(yt){this._worker=new st("error"),this._worker.error(yt)}}pt.prototype={accumulate:function(mt){return ft(this,mt)},on:function(mt,ht){var gt=this;return mt==="data"?this._worker.on(mt,function(vt){ht.call(gt,vt.data,vt.meta)}):this._worker.on(mt,function(){ot.delay(ht,arguments,gt)}),this},resume:function(){return ot.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(mt){if(ot.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new dt(this,{objectMode:this._outputType!=="nodebuffer"},mt)}},nt.exports=pt},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(rt,nt,it){if(it.base64=!0,it.array=!0,it.string=!0,it.arraybuffer=typeof ArrayBuffer<"u"&&typeof Uint8Array<"u",it.nodebuffer=typeof Buffer<"u",it.uint8array=typeof Uint8Array<"u",typeof ArrayBuffer>"u")it.blob=!1;else{var ot=new ArrayBuffer(0);try{it.blob=new Blob([ot],{type:"application/zip"}).size===0}catch{try{var at=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);at.append(ot),it.blob=at.getBlob("application/zip").size===0}catch{it.blob=!1}}}try{it.nodestream=!!rt("readable-stream").Readable}catch{it.nodestream=!1}},{"readable-stream":16}],31:[function(rt,nt,it){for(var ot=rt("./utils"),at=rt("./support"),st=rt("./nodejsUtils"),lt=rt("./stream/GenericWorker"),ct=new Array(256),ut=0;ut<256;ut++)ct[ut]=252<=ut?6:248<=ut?5:240<=ut?4:224<=ut?3:192<=ut?2:1;ct[254]=ct[254]=1;function dt(){lt.call(this,"utf-8 decode"),this.leftOver=null}function ft(){lt.call(this,"utf-8 encode")}it.utf8encode=function(pt){return at.nodebuffer?st.newBufferFrom(pt,"utf-8"):function(mt){var ht,gt,vt,yt,bt,xt=mt.length,$t=0;for(yt=0;yt<xt;yt++)(64512&(gt=mt.charCodeAt(yt)))==55296&&yt+1<xt&&(64512&(vt=mt.charCodeAt(yt+1)))==56320&&(gt=65536+(gt-55296<<10)+(vt-56320),yt++),$t+=gt<128?1:gt<2048?2:gt<65536?3:4;for(ht=at.uint8array?new Uint8Array($t):new Array($t),yt=bt=0;bt<$t;yt++)(64512&(gt=mt.charCodeAt(yt)))==55296&&yt+1<xt&&(64512&(vt=mt.charCodeAt(yt+1)))==56320&&(gt=65536+(gt-55296<<10)+(vt-56320),yt++),gt<128?ht[bt++]=gt:(gt<2048?ht[bt++]=192|gt>>>6:(gt<65536?ht[bt++]=224|gt>>>12:(ht[bt++]=240|gt>>>18,ht[bt++]=128|gt>>>12&63),ht[bt++]=128|gt>>>6&63),ht[bt++]=128|63&gt);return ht}(pt)},it.utf8decode=function(pt){return at.nodebuffer?ot.transformTo("nodebuffer",pt).toString("utf-8"):function(mt){var ht,gt,vt,yt,bt=mt.length,xt=new Array(2*bt);for(ht=gt=0;ht<bt;)if((vt=mt[ht++])<128)xt[gt++]=vt;else if(4<(yt=ct[vt]))xt[gt++]=65533,ht+=yt-1;else{for(vt&=yt===2?31:yt===3?15:7;1<yt&&ht<bt;)vt=vt<<6|63&mt[ht++],yt--;1<yt?xt[gt++]=65533:vt<65536?xt[gt++]=vt:(vt-=65536,xt[gt++]=55296|vt>>10&1023,xt[gt++]=56320|1023&vt)}return xt.length!==gt&&(xt.subarray?xt=xt.subarray(0,gt):xt.length=gt),ot.applyFromCharCode(xt)}(pt=ot.transformTo(at.uint8array?"uint8array":"array",pt))},ot.inherits(dt,lt),dt.prototype.processChunk=function(pt){var mt=ot.transformTo(at.uint8array?"uint8array":"array",pt.data);if(this.leftOver&&this.leftOver.length){if(at.uint8array){var ht=mt;(mt=new Uint8Array(ht.length+this.leftOver.length)).set(this.leftOver,0),mt.set(ht,this.leftOver.length)}else mt=this.leftOver.concat(mt);this.leftOver=null}var gt=function(yt,bt){var xt;for((bt=bt||yt.length)>yt.length&&(bt=yt.length),xt=bt-1;0<=xt&&(192&yt[xt])==128;)xt--;return xt<0||xt===0?bt:xt+ct[yt[xt]]>bt?xt:bt}(mt),vt=mt;gt!==mt.length&&(at.uint8array?(vt=mt.subarray(0,gt),this.leftOver=mt.subarray(gt,mt.length)):(vt=mt.slice(0,gt),this.leftOver=mt.slice(gt,mt.length))),this.push({data:it.utf8decode(vt),meta:pt.meta})},dt.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:it.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},it.Utf8DecodeWorker=dt,ot.inherits(ft,lt),ft.prototype.processChunk=function(pt){this.push({data:it.utf8encode(pt.data),meta:pt.meta})},it.Utf8EncodeWorker=ft},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(rt,nt,it){var ot=rt("./support"),at=rt("./base64"),st=rt("./nodejsUtils"),lt=rt("./external");function ct(ht){return ht}function ut(ht,gt){for(var vt=0;vt<ht.length;++vt)gt[vt]=255&ht.charCodeAt(vt);return gt}rt("setimmediate"),it.newBlob=function(ht,gt){it.checkSupport("blob");try{return new Blob([ht],{type:gt})}catch{try{var vt=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return vt.append(ht),vt.getBlob(gt)}catch{throw new Error("Bug : can't construct the Blob.")}}};var dt={stringifyByChunk:function(ht,gt,vt){var yt=[],bt=0,xt=ht.length;if(xt<=vt)return String.fromCharCode.apply(null,ht);for(;bt<xt;)gt==="array"||gt==="nodebuffer"?yt.push(String.fromCharCode.apply(null,ht.slice(bt,Math.min(bt+vt,xt)))):yt.push(String.fromCharCode.apply(null,ht.subarray(bt,Math.min(bt+vt,xt)))),bt+=vt;return yt.join("")},stringifyByChar:function(ht){for(var gt="",vt=0;vt<ht.length;vt++)gt+=String.fromCharCode(ht[vt]);return gt},applyCanBeUsed:{uint8array:function(){try{return ot.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch{return!1}}(),nodebuffer:function(){try{return ot.nodebuffer&&String.fromCharCode.apply(null,st.allocBuffer(1)).length===1}catch{return!1}}()}};function ft(ht){var gt=65536,vt=it.getTypeOf(ht),yt=!0;if(vt==="uint8array"?yt=dt.applyCanBeUsed.uint8array:vt==="nodebuffer"&&(yt=dt.applyCanBeUsed.nodebuffer),yt)for(;1<gt;)try{return dt.stringifyByChunk(ht,vt,gt)}catch{gt=Math.floor(gt/2)}return dt.stringifyByChar(ht)}function pt(ht,gt){for(var vt=0;vt<ht.length;vt++)gt[vt]=ht[vt];return gt}it.applyFromCharCode=ft;var mt={};mt.string={string:ct,array:function(ht){return ut(ht,new Array(ht.length))},arraybuffer:function(ht){return mt.string.uint8array(ht).buffer},uint8array:function(ht){return ut(ht,new Uint8Array(ht.length))},nodebuffer:function(ht){return ut(ht,st.allocBuffer(ht.length))}},mt.array={string:ft,array:ct,arraybuffer:function(ht){return new Uint8Array(ht).buffer},uint8array:function(ht){return new Uint8Array(ht)},nodebuffer:function(ht){return st.newBufferFrom(ht)}},mt.arraybuffer={string:function(ht){return ft(new Uint8Array(ht))},array:function(ht){return pt(new Uint8Array(ht),new Array(ht.byteLength))},arraybuffer:ct,uint8array:function(ht){return new Uint8Array(ht)},nodebuffer:function(ht){return st.newBufferFrom(new Uint8Array(ht))}},mt.uint8array={string:ft,array:function(ht){return pt(ht,new Array(ht.length))},arraybuffer:function(ht){return ht.buffer},uint8array:ct,nodebuffer:function(ht){return st.newBufferFrom(ht)}},mt.nodebuffer={string:ft,array:function(ht){return pt(ht,new Array(ht.length))},arraybuffer:function(ht){return mt.nodebuffer.uint8array(ht).buffer},uint8array:function(ht){return pt(ht,new Uint8Array(ht.length))},nodebuffer:ct},it.transformTo=function(ht,gt){if(gt=gt||"",!ht)return gt;it.checkSupport(ht);var vt=it.getTypeOf(gt);return mt[vt][ht](gt)},it.resolve=function(ht){for(var gt=ht.split("/"),vt=[],yt=0;yt<gt.length;yt++){var bt=gt[yt];bt==="."||bt===""&&yt!==0&&yt!==gt.length-1||(bt===".."?vt.pop():vt.push(bt))}return vt.join("/")},it.getTypeOf=function(ht){return typeof ht=="string"?"string":Object.prototype.toString.call(ht)==="[object Array]"?"array":ot.nodebuffer&&st.isBuffer(ht)?"nodebuffer":ot.uint8array&&ht instanceof Uint8Array?"uint8array":ot.arraybuffer&&ht instanceof ArrayBuffer?"arraybuffer":void 0},it.checkSupport=function(ht){if(!ot[ht.toLowerCase()])throw new Error(ht+" is not supported by this platform")},it.MAX_VALUE_16BITS=65535,it.MAX_VALUE_32BITS=-1,it.pretty=function(ht){var gt,vt,yt="";for(vt=0;vt<(ht||"").length;vt++)yt+="\\x"+((gt=ht.charCodeAt(vt))<16?"0":"")+gt.toString(16).toUpperCase();return yt},it.delay=function(ht,gt,vt){setImmediate(function(){ht.apply(vt||null,gt||[])})},it.inherits=function(ht,gt){function vt(){}vt.prototype=gt.prototype,ht.prototype=new vt},it.extend=function(){var ht,gt,vt={};for(ht=0;ht<arguments.length;ht++)for(gt in arguments[ht])Object.prototype.hasOwnProperty.call(arguments[ht],gt)&&vt[gt]===void 0&&(vt[gt]=arguments[ht][gt]);return vt},it.prepareContent=function(ht,gt,vt,yt,bt){return lt.Promise.resolve(gt).then(function(xt){return ot.blob&&(xt instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(xt))!==-1)&&typeof FileReader<"u"?new lt.Promise(function($t,Tt){var wt=new FileReader;wt.onload=function(At){$t(At.target.result)},wt.onerror=function(At){Tt(At.target.error)},wt.readAsArrayBuffer(xt)}):xt}).then(function(xt){var $t=it.getTypeOf(xt);return $t?($t==="arraybuffer"?xt=it.transformTo("uint8array",xt):$t==="string"&&(bt?xt=at.decode(xt):vt&&yt!==!0&&(xt=function(Tt){return ut(Tt,ot.uint8array?new Uint8Array(Tt.length):new Array(Tt.length))}(xt))),xt):lt.Promise.reject(new Error("Can't read the data of '"+ht+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(rt,nt,it){var ot=rt("./reader/readerFor"),at=rt("./utils"),st=rt("./signature"),lt=rt("./zipEntry"),ct=rt("./support");function ut(dt){this.files=[],this.loadOptions=dt}ut.prototype={checkSignature:function(dt){if(!this.reader.readAndCheckSignature(dt)){this.reader.index-=4;var ft=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+at.pretty(ft)+", expected "+at.pretty(dt)+")")}},isSignature:function(dt,ft){var pt=this.reader.index;this.reader.setIndex(dt);var mt=this.reader.readString(4)===ft;return this.reader.setIndex(pt),mt},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var dt=this.reader.readData(this.zipCommentLength),ft=ct.uint8array?"uint8array":"array",pt=at.transformTo(ft,dt);this.zipComment=this.loadOptions.decodeFileName(pt)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var dt,ft,pt,mt=this.zip64EndOfCentralSize-44;0<mt;)dt=this.reader.readInt(2),ft=this.reader.readInt(4),pt=this.reader.readData(ft),this.zip64ExtensibleData[dt]={id:dt,length:ft,value:pt}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var dt,ft;for(dt=0;dt<this.files.length;dt++)ft=this.files[dt],this.reader.setIndex(ft.localHeaderOffset),this.checkSignature(st.LOCAL_FILE_HEADER),ft.readLocalPart(this.reader),ft.handleUTF8(),ft.processAttributes()},readCentralDir:function(){var dt;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(st.CENTRAL_FILE_HEADER);)(dt=new lt({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(dt);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var dt=this.reader.lastIndexOfSignature(st.CENTRAL_DIRECTORY_END);if(dt<0)throw this.isSignature(0,st.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(dt);var ft=dt;if(this.checkSignature(st.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===at.MAX_VALUE_16BITS||this.diskWithCentralDirStart===at.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===at.MAX_VALUE_16BITS||this.centralDirRecords===at.MAX_VALUE_16BITS||this.centralDirSize===at.MAX_VALUE_32BITS||this.centralDirOffset===at.MAX_VALUE_32BITS){if(this.zip64=!0,(dt=this.reader.lastIndexOfSignature(st.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(dt),this.checkSignature(st.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,st.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(st.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(st.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var pt=this.centralDirOffset+this.centralDirSize;this.zip64&&(pt+=20,pt+=12+this.zip64EndOfCentralSize);var mt=ft-pt;if(0<mt)this.isSignature(ft,st.CENTRAL_FILE_HEADER)||(this.reader.zero=mt);else if(mt<0)throw new Error("Corrupted zip: missing "+Math.abs(mt)+" bytes.")},prepareReader:function(dt){this.reader=ot(dt)},load:function(dt){this.prepareReader(dt),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},nt.exports=ut},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(rt,nt,it){var ot=rt("./reader/readerFor"),at=rt("./utils"),st=rt("./compressedObject"),lt=rt("./crc32"),ct=rt("./utf8"),ut=rt("./compressions"),dt=rt("./support");function ft(pt,mt){this.options=pt,this.loadOptions=mt}ft.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(pt){var mt,ht;if(pt.skip(22),this.fileNameLength=pt.readInt(2),ht=pt.readInt(2),this.fileName=pt.readData(this.fileNameLength),pt.skip(ht),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((mt=function(gt){for(var vt in ut)if(Object.prototype.hasOwnProperty.call(ut,vt)&&ut[vt].magic===gt)return ut[vt];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+at.pretty(this.compressionMethod)+" unknown (inner file : "+at.transformTo("string",this.fileName)+")");this.decompressed=new st(this.compressedSize,this.uncompressedSize,this.crc32,mt,pt.readData(this.compressedSize))},readCentralPart:function(pt){this.versionMadeBy=pt.readInt(2),pt.skip(2),this.bitFlag=pt.readInt(2),this.compressionMethod=pt.readString(2),this.date=pt.readDate(),this.crc32=pt.readInt(4),this.compressedSize=pt.readInt(4),this.uncompressedSize=pt.readInt(4);var mt=pt.readInt(2);if(this.extraFieldsLength=pt.readInt(2),this.fileCommentLength=pt.readInt(2),this.diskNumberStart=pt.readInt(2),this.internalFileAttributes=pt.readInt(2),this.externalFileAttributes=pt.readInt(4),this.localHeaderOffset=pt.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");pt.skip(mt),this.readExtraFields(pt),this.parseZIP64ExtraField(pt),this.fileComment=pt.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var pt=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),pt==0&&(this.dosPermissions=63&this.externalFileAttributes),pt==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var pt=ot(this.extraFields[1].value);this.uncompressedSize===at.MAX_VALUE_32BITS&&(this.uncompressedSize=pt.readInt(8)),this.compressedSize===at.MAX_VALUE_32BITS&&(this.compressedSize=pt.readInt(8)),this.localHeaderOffset===at.MAX_VALUE_32BITS&&(this.localHeaderOffset=pt.readInt(8)),this.diskNumberStart===at.MAX_VALUE_32BITS&&(this.diskNumberStart=pt.readInt(4))}},readExtraFields:function(pt){var mt,ht,gt,vt=pt.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});pt.index+4<vt;)mt=pt.readInt(2),ht=pt.readInt(2),gt=pt.readData(ht),this.extraFields[mt]={id:mt,length:ht,value:gt};pt.setIndex(vt)},handleUTF8:function(){var pt=dt.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=ct.utf8decode(this.fileName),this.fileCommentStr=ct.utf8decode(this.fileComment);else{var mt=this.findExtraFieldUnicodePath();if(mt!==null)this.fileNameStr=mt;else{var ht=at.transformTo(pt,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(ht)}var gt=this.findExtraFieldUnicodeComment();if(gt!==null)this.fileCommentStr=gt;else{var vt=at.transformTo(pt,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(vt)}}},findExtraFieldUnicodePath:function(){var pt=this.extraFields[28789];if(pt){var mt=ot(pt.value);return mt.readInt(1)!==1||lt(this.fileName)!==mt.readInt(4)?null:ct.utf8decode(mt.readData(pt.length-5))}return null},findExtraFieldUnicodeComment:function(){var pt=this.extraFields[25461];if(pt){var mt=ot(pt.value);return mt.readInt(1)!==1||lt(this.fileComment)!==mt.readInt(4)?null:ct.utf8decode(mt.readData(pt.length-5))}return null}},nt.exports=ft},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(rt,nt,it){function ot(mt,ht,gt){this.name=mt,this.dir=gt.dir,this.date=gt.date,this.comment=gt.comment,this.unixPermissions=gt.unixPermissions,this.dosPermissions=gt.dosPermissions,this._data=ht,this._dataBinary=gt.binary,this.options={compression:gt.compression,compressionOptions:gt.compressionOptions}}var at=rt("./stream/StreamHelper"),st=rt("./stream/DataWorker"),lt=rt("./utf8"),ct=rt("./compressedObject"),ut=rt("./stream/GenericWorker");ot.prototype={internalStream:function(mt){var ht=null,gt="string";try{if(!mt)throw new Error("No output type specified.");var vt=(gt=mt.toLowerCase())==="string"||gt==="text";gt!=="binarystring"&&gt!=="text"||(gt="string"),ht=this._decompressWorker();var yt=!this._dataBinary;yt&&!vt&&(ht=ht.pipe(new lt.Utf8EncodeWorker)),!yt&&vt&&(ht=ht.pipe(new lt.Utf8DecodeWorker))}catch(bt){(ht=new ut("error")).error(bt)}return new at(ht,gt,"")},async:function(mt,ht){return this.internalStream(mt).accumulate(ht)},nodeStream:function(mt,ht){return this.internalStream(mt||"nodebuffer").toNodejsStream(ht)},_compressWorker:function(mt,ht){if(this._data instanceof ct&&this._data.compression.magic===mt.magic)return this._data.getCompressedWorker();var gt=this._decompressWorker();return this._dataBinary||(gt=gt.pipe(new lt.Utf8EncodeWorker)),ct.createWorkerFrom(gt,mt,ht)},_decompressWorker:function(){return this._data instanceof ct?this._data.getContentWorker():this._data instanceof ut?this._data:new st(this._data)}};for(var dt=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],ft=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},pt=0;pt<dt.length;pt++)ot.prototype[dt[pt]]=ft;nt.exports=ot},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(rt,nt,it){(function(ot){var at,st,lt=ot.MutationObserver||ot.WebKitMutationObserver;if(lt){var ct=0,ut=new lt(mt),dt=ot.document.createTextNode("");ut.observe(dt,{characterData:!0}),at=function(){dt.data=ct=++ct%2}}else if(ot.setImmediate||ot.MessageChannel===void 0)at="document"in ot&&"onreadystatechange"in ot.document.createElement("script")?function(){var ht=ot.document.createElement("script");ht.onreadystatechange=function(){mt(),ht.onreadystatechange=null,ht.parentNode.removeChild(ht),ht=null},ot.document.documentElement.appendChild(ht)}:function(){setTimeout(mt,0)};else{var ft=new ot.MessageChannel;ft.port1.onmessage=mt,at=function(){ft.port2.postMessage(0)}}var pt=[];function mt(){var ht,gt;st=!0;for(var vt=pt.length;vt;){for(gt=pt,pt=[],ht=-1;++ht<vt;)gt[ht]();vt=pt.length}st=!1}nt.exports=function(ht){pt.push(ht)!==1||st||at()}}).call(this,typeof commonjsGlobal$4<"u"?commonjsGlobal$4:typeof self<"u"?self:typeof window<"u"?window:{})},{}],37:[function(rt,nt,it){var ot=rt("immediate");function at(){}var st={},lt=["REJECTED"],ct=["FULFILLED"],ut=["PENDING"];function dt(vt){if(typeof vt!="function")throw new TypeError("resolver must be a function");this.state=ut,this.queue=[],this.outcome=void 0,vt!==at&&ht(this,vt)}function ft(vt,yt,bt){this.promise=vt,typeof yt=="function"&&(this.onFulfilled=yt,this.callFulfilled=this.otherCallFulfilled),typeof bt=="function"&&(this.onRejected=bt,this.callRejected=this.otherCallRejected)}function pt(vt,yt,bt){ot(function(){var xt;try{xt=yt(bt)}catch($t){return st.reject(vt,$t)}xt===vt?st.reject(vt,new TypeError("Cannot resolve promise with itself")):st.resolve(vt,xt)})}function mt(vt){var yt=vt&&vt.then;if(vt&&(typeof vt=="object"||typeof vt=="function")&&typeof yt=="function")return function(){yt.apply(vt,arguments)}}function ht(vt,yt){var bt=!1;function xt(wt){bt||(bt=!0,st.reject(vt,wt))}function $t(wt){bt||(bt=!0,st.resolve(vt,wt))}var Tt=gt(function(){yt($t,xt)});Tt.status==="error"&&xt(Tt.value)}function gt(vt,yt){var bt={};try{bt.value=vt(yt),bt.status="success"}catch(xt){bt.status="error",bt.value=xt}return bt}(nt.exports=dt).prototype.finally=function(vt){if(typeof vt!="function")return this;var yt=this.constructor;return this.then(function(bt){return yt.resolve(vt()).then(function(){return bt})},function(bt){return yt.resolve(vt()).then(function(){throw bt})})},dt.prototype.catch=function(vt){return this.then(null,vt)},dt.prototype.then=function(vt,yt){if(typeof vt!="function"&&this.state===ct||typeof yt!="function"&&this.state===lt)return this;var bt=new this.constructor(at);return this.state!==ut?pt(bt,this.state===ct?vt:yt,this.outcome):this.queue.push(new ft(bt,vt,yt)),bt},ft.prototype.callFulfilled=function(vt){st.resolve(this.promise,vt)},ft.prototype.otherCallFulfilled=function(vt){pt(this.promise,this.onFulfilled,vt)},ft.prototype.callRejected=function(vt){st.reject(this.promise,vt)},ft.prototype.otherCallRejected=function(vt){pt(this.promise,this.onRejected,vt)},st.resolve=function(vt,yt){var bt=gt(mt,yt);if(bt.status==="error")return st.reject(vt,bt.value);var xt=bt.value;if(xt)ht(vt,xt);else{vt.state=ct,vt.outcome=yt;for(var $t=-1,Tt=vt.queue.length;++$t<Tt;)vt.queue[$t].callFulfilled(yt)}return vt},st.reject=function(vt,yt){vt.state=lt,vt.outcome=yt;for(var bt=-1,xt=vt.queue.length;++bt<xt;)vt.queue[bt].callRejected(yt);return vt},dt.resolve=function(vt){return vt instanceof this?vt:st.resolve(new this(at),vt)},dt.reject=function(vt){var yt=new this(at);return st.reject(yt,vt)},dt.all=function(vt){var yt=this;if(Object.prototype.toString.call(vt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var bt=vt.length,xt=!1;if(!bt)return this.resolve([]);for(var $t=new Array(bt),Tt=0,wt=-1,At=new this(at);++wt<bt;)Rt(vt[wt],wt);return At;function Rt(It,Lt){yt.resolve(It).then(function(Pt){$t[Lt]=Pt,++Tt!==bt||xt||(xt=!0,st.resolve(At,$t))},function(Pt){xt||(xt=!0,st.reject(At,Pt))})}},dt.race=function(vt){var yt=this;if(Object.prototype.toString.call(vt)!=="[object Array]")return this.reject(new TypeError("must be an array"));var bt=vt.length,xt=!1;if(!bt)return this.resolve([]);for(var $t=-1,Tt=new this(at);++$t<bt;)wt=vt[$t],yt.resolve(wt).then(function(At){xt||(xt=!0,st.resolve(Tt,At))},function(At){xt||(xt=!0,st.reject(Tt,At))});var wt;return Tt}},{immediate:36}],38:[function(rt,nt,it){var ot={};(0,rt("./lib/utils/common").assign)(ot,rt("./lib/deflate"),rt("./lib/inflate"),rt("./lib/zlib/constants")),nt.exports=ot},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(rt,nt,it){var ot=rt("./zlib/deflate"),at=rt("./utils/common"),st=rt("./utils/strings"),lt=rt("./zlib/messages"),ct=rt("./zlib/zstream"),ut=Object.prototype.toString,dt=0,ft=-1,pt=0,mt=8;function ht(vt){if(!(this instanceof ht))return new ht(vt);this.options=at.assign({level:ft,method:mt,chunkSize:16384,windowBits:15,memLevel:8,strategy:pt,to:""},vt||{});var yt=this.options;yt.raw&&0<yt.windowBits?yt.windowBits=-yt.windowBits:yt.gzip&&0<yt.windowBits&&yt.windowBits<16&&(yt.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ct,this.strm.avail_out=0;var bt=ot.deflateInit2(this.strm,yt.level,yt.method,yt.windowBits,yt.memLevel,yt.strategy);if(bt!==dt)throw new Error(lt[bt]);if(yt.header&&ot.deflateSetHeader(this.strm,yt.header),yt.dictionary){var xt;if(xt=typeof yt.dictionary=="string"?st.string2buf(yt.dictionary):ut.call(yt.dictionary)==="[object ArrayBuffer]"?new Uint8Array(yt.dictionary):yt.dictionary,(bt=ot.deflateSetDictionary(this.strm,xt))!==dt)throw new Error(lt[bt]);this._dict_set=!0}}function gt(vt,yt){var bt=new ht(yt);if(bt.push(vt,!0),bt.err)throw bt.msg||lt[bt.err];return bt.result}ht.prototype.push=function(vt,yt){var bt,xt,$t=this.strm,Tt=this.options.chunkSize;if(this.ended)return!1;xt=yt===~~yt?yt:yt===!0?4:0,typeof vt=="string"?$t.input=st.string2buf(vt):ut.call(vt)==="[object ArrayBuffer]"?$t.input=new Uint8Array(vt):$t.input=vt,$t.next_in=0,$t.avail_in=$t.input.length;do{if($t.avail_out===0&&($t.output=new at.Buf8(Tt),$t.next_out=0,$t.avail_out=Tt),(bt=ot.deflate($t,xt))!==1&&bt!==dt)return this.onEnd(bt),!(this.ended=!0);$t.avail_out!==0&&($t.avail_in!==0||xt!==4&&xt!==2)||(this.options.to==="string"?this.onData(st.buf2binstring(at.shrinkBuf($t.output,$t.next_out))):this.onData(at.shrinkBuf($t.output,$t.next_out)))}while((0<$t.avail_in||$t.avail_out===0)&&bt!==1);return xt===4?(bt=ot.deflateEnd(this.strm),this.onEnd(bt),this.ended=!0,bt===dt):xt!==2||(this.onEnd(dt),!($t.avail_out=0))},ht.prototype.onData=function(vt){this.chunks.push(vt)},ht.prototype.onEnd=function(vt){vt===dt&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=at.flattenChunks(this.chunks)),this.chunks=[],this.err=vt,this.msg=this.strm.msg},it.Deflate=ht,it.deflate=gt,it.deflateRaw=function(vt,yt){return(yt=yt||{}).raw=!0,gt(vt,yt)},it.gzip=function(vt,yt){return(yt=yt||{}).gzip=!0,gt(vt,yt)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(rt,nt,it){var ot=rt("./zlib/inflate"),at=rt("./utils/common"),st=rt("./utils/strings"),lt=rt("./zlib/constants"),ct=rt("./zlib/messages"),ut=rt("./zlib/zstream"),dt=rt("./zlib/gzheader"),ft=Object.prototype.toString;function pt(ht){if(!(this instanceof pt))return new pt(ht);this.options=at.assign({chunkSize:16384,windowBits:0,to:""},ht||{});var gt=this.options;gt.raw&&0<=gt.windowBits&&gt.windowBits<16&&(gt.windowBits=-gt.windowBits,gt.windowBits===0&&(gt.windowBits=-15)),!(0<=gt.windowBits&&gt.windowBits<16)||ht&&ht.windowBits||(gt.windowBits+=32),15<gt.windowBits&&gt.windowBits<48&&!(15&gt.windowBits)&&(gt.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ut,this.strm.avail_out=0;var vt=ot.inflateInit2(this.strm,gt.windowBits);if(vt!==lt.Z_OK)throw new Error(ct[vt]);this.header=new dt,ot.inflateGetHeader(this.strm,this.header)}function mt(ht,gt){var vt=new pt(gt);if(vt.push(ht,!0),vt.err)throw vt.msg||ct[vt.err];return vt.result}pt.prototype.push=function(ht,gt){var vt,yt,bt,xt,$t,Tt,wt=this.strm,At=this.options.chunkSize,Rt=this.options.dictionary,It=!1;if(this.ended)return!1;yt=gt===~~gt?gt:gt===!0?lt.Z_FINISH:lt.Z_NO_FLUSH,typeof ht=="string"?wt.input=st.binstring2buf(ht):ft.call(ht)==="[object ArrayBuffer]"?wt.input=new Uint8Array(ht):wt.input=ht,wt.next_in=0,wt.avail_in=wt.input.length;do{if(wt.avail_out===0&&(wt.output=new at.Buf8(At),wt.next_out=0,wt.avail_out=At),(vt=ot.inflate(wt,lt.Z_NO_FLUSH))===lt.Z_NEED_DICT&&Rt&&(Tt=typeof Rt=="string"?st.string2buf(Rt):ft.call(Rt)==="[object ArrayBuffer]"?new Uint8Array(Rt):Rt,vt=ot.inflateSetDictionary(this.strm,Tt)),vt===lt.Z_BUF_ERROR&&It===!0&&(vt=lt.Z_OK,It=!1),vt!==lt.Z_STREAM_END&&vt!==lt.Z_OK)return this.onEnd(vt),!(this.ended=!0);wt.next_out&&(wt.avail_out!==0&&vt!==lt.Z_STREAM_END&&(wt.avail_in!==0||yt!==lt.Z_FINISH&&yt!==lt.Z_SYNC_FLUSH)||(this.options.to==="string"?(bt=st.utf8border(wt.output,wt.next_out),xt=wt.next_out-bt,$t=st.buf2string(wt.output,bt),wt.next_out=xt,wt.avail_out=At-xt,xt&&at.arraySet(wt.output,wt.output,bt,xt,0),this.onData($t)):this.onData(at.shrinkBuf(wt.output,wt.next_out)))),wt.avail_in===0&&wt.avail_out===0&&(It=!0)}while((0<wt.avail_in||wt.avail_out===0)&&vt!==lt.Z_STREAM_END);return vt===lt.Z_STREAM_END&&(yt=lt.Z_FINISH),yt===lt.Z_FINISH?(vt=ot.inflateEnd(this.strm),this.onEnd(vt),this.ended=!0,vt===lt.Z_OK):yt!==lt.Z_SYNC_FLUSH||(this.onEnd(lt.Z_OK),!(wt.avail_out=0))},pt.prototype.onData=function(ht){this.chunks.push(ht)},pt.prototype.onEnd=function(ht){ht===lt.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=at.flattenChunks(this.chunks)),this.chunks=[],this.err=ht,this.msg=this.strm.msg},it.Inflate=pt,it.inflate=mt,it.inflateRaw=function(ht,gt){return(gt=gt||{}).raw=!0,mt(ht,gt)},it.ungzip=mt},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(rt,nt,it){var ot=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";it.assign=function(lt){for(var ct=Array.prototype.slice.call(arguments,1);ct.length;){var ut=ct.shift();if(ut){if(typeof ut!="object")throw new TypeError(ut+"must be non-object");for(var dt in ut)ut.hasOwnProperty(dt)&&(lt[dt]=ut[dt])}}return lt},it.shrinkBuf=function(lt,ct){return lt.length===ct?lt:lt.subarray?lt.subarray(0,ct):(lt.length=ct,lt)};var at={arraySet:function(lt,ct,ut,dt,ft){if(ct.subarray&&lt.subarray)lt.set(ct.subarray(ut,ut+dt),ft);else for(var pt=0;pt<dt;pt++)lt[ft+pt]=ct[ut+pt]},flattenChunks:function(lt){var ct,ut,dt,ft,pt,mt;for(ct=dt=0,ut=lt.length;ct<ut;ct++)dt+=lt[ct].length;for(mt=new Uint8Array(dt),ct=ft=0,ut=lt.length;ct<ut;ct++)pt=lt[ct],mt.set(pt,ft),ft+=pt.length;return mt}},st={arraySet:function(lt,ct,ut,dt,ft){for(var pt=0;pt<dt;pt++)lt[ft+pt]=ct[ut+pt]},flattenChunks:function(lt){return[].concat.apply([],lt)}};it.setTyped=function(lt){lt?(it.Buf8=Uint8Array,it.Buf16=Uint16Array,it.Buf32=Int32Array,it.assign(it,at)):(it.Buf8=Array,it.Buf16=Array,it.Buf32=Array,it.assign(it,st))},it.setTyped(ot)},{}],42:[function(rt,nt,it){var ot=rt("./common"),at=!0,st=!0;try{String.fromCharCode.apply(null,[0])}catch{at=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{st=!1}for(var lt=new ot.Buf8(256),ct=0;ct<256;ct++)lt[ct]=252<=ct?6:248<=ct?5:240<=ct?4:224<=ct?3:192<=ct?2:1;function ut(dt,ft){if(ft<65537&&(dt.subarray&&st||!dt.subarray&&at))return String.fromCharCode.apply(null,ot.shrinkBuf(dt,ft));for(var pt="",mt=0;mt<ft;mt++)pt+=String.fromCharCode(dt[mt]);return pt}lt[254]=lt[254]=1,it.string2buf=function(dt){var ft,pt,mt,ht,gt,vt=dt.length,yt=0;for(ht=0;ht<vt;ht++)(64512&(pt=dt.charCodeAt(ht)))==55296&&ht+1<vt&&(64512&(mt=dt.charCodeAt(ht+1)))==56320&&(pt=65536+(pt-55296<<10)+(mt-56320),ht++),yt+=pt<128?1:pt<2048?2:pt<65536?3:4;for(ft=new ot.Buf8(yt),ht=gt=0;gt<yt;ht++)(64512&(pt=dt.charCodeAt(ht)))==55296&&ht+1<vt&&(64512&(mt=dt.charCodeAt(ht+1)))==56320&&(pt=65536+(pt-55296<<10)+(mt-56320),ht++),pt<128?ft[gt++]=pt:(pt<2048?ft[gt++]=192|pt>>>6:(pt<65536?ft[gt++]=224|pt>>>12:(ft[gt++]=240|pt>>>18,ft[gt++]=128|pt>>>12&63),ft[gt++]=128|pt>>>6&63),ft[gt++]=128|63&pt);return ft},it.buf2binstring=function(dt){return ut(dt,dt.length)},it.binstring2buf=function(dt){for(var ft=new ot.Buf8(dt.length),pt=0,mt=ft.length;pt<mt;pt++)ft[pt]=dt.charCodeAt(pt);return ft},it.buf2string=function(dt,ft){var pt,mt,ht,gt,vt=ft||dt.length,yt=new Array(2*vt);for(pt=mt=0;pt<vt;)if((ht=dt[pt++])<128)yt[mt++]=ht;else if(4<(gt=lt[ht]))yt[mt++]=65533,pt+=gt-1;else{for(ht&=gt===2?31:gt===3?15:7;1<gt&&pt<vt;)ht=ht<<6|63&dt[pt++],gt--;1<gt?yt[mt++]=65533:ht<65536?yt[mt++]=ht:(ht-=65536,yt[mt++]=55296|ht>>10&1023,yt[mt++]=56320|1023&ht)}return ut(yt,mt)},it.utf8border=function(dt,ft){var pt;for((ft=ft||dt.length)>dt.length&&(ft=dt.length),pt=ft-1;0<=pt&&(192&dt[pt])==128;)pt--;return pt<0||pt===0?ft:pt+lt[dt[pt]]>ft?pt:ft}},{"./common":41}],43:[function(rt,nt,it){nt.exports=function(ot,at,st,lt){for(var ct=65535&ot|0,ut=ot>>>16&65535|0,dt=0;st!==0;){for(st-=dt=2e3<st?2e3:st;ut=ut+(ct=ct+at[lt++]|0)|0,--dt;);ct%=65521,ut%=65521}return ct|ut<<16|0}},{}],44:[function(rt,nt,it){nt.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(rt,nt,it){var ot=function(){for(var at,st=[],lt=0;lt<256;lt++){at=lt;for(var ct=0;ct<8;ct++)at=1&at?3988292384^at>>>1:at>>>1;st[lt]=at}return st}();nt.exports=function(at,st,lt,ct){var ut=ot,dt=ct+lt;at^=-1;for(var ft=ct;ft<dt;ft++)at=at>>>8^ut[255&(at^st[ft])];return-1^at}},{}],46:[function(rt,nt,it){var ot,at=rt("../utils/common"),st=rt("./trees"),lt=rt("./adler32"),ct=rt("./crc32"),ut=rt("./messages"),dt=0,ft=4,pt=0,mt=-2,ht=-1,gt=4,vt=2,yt=8,bt=9,xt=286,$t=30,Tt=19,wt=2*xt+1,At=15,Rt=3,It=258,Lt=It+Rt+1,Pt=42,Nt=113,Ot=1,Bt=2,zt=3,Vt=4;function Ut(Gt,Wt){return Gt.msg=ut[Wt],Wt}function jt(Gt){return(Gt<<1)-(4<Gt?9:0)}function qt(Gt){for(var Wt=Gt.length;0<=--Wt;)Gt[Wt]=0}function Dt(Gt){var Wt=Gt.state,nr=Wt.pending;nr>Gt.avail_out&&(nr=Gt.avail_out),nr!==0&&(at.arraySet(Gt.output,Wt.pending_buf,Wt.pending_out,nr,Gt.next_out),Gt.next_out+=nr,Wt.pending_out+=nr,Gt.total_out+=nr,Gt.avail_out-=nr,Wt.pending-=nr,Wt.pending===0&&(Wt.pending_out=0))}function Ft(Gt,Wt){st._tr_flush_block(Gt,0<=Gt.block_start?Gt.block_start:-1,Gt.strstart-Gt.block_start,Wt),Gt.block_start=Gt.strstart,Dt(Gt.strm)}function Zt(Gt,Wt){Gt.pending_buf[Gt.pending++]=Wt}function Kt(Gt,Wt){Gt.pending_buf[Gt.pending++]=Wt>>>8&255,Gt.pending_buf[Gt.pending++]=255&Wt}function ir(Gt,Wt){var nr,Qt,Jt=Gt.max_chain_length,ar=Gt.strstart,cr=Gt.prev_length,lr=Gt.nice_match,Yt=Gt.strstart>Gt.w_size-Lt?Gt.strstart-(Gt.w_size-Lt):0,Xt=Gt.window,tr=Gt.w_mask,or=Gt.prev,br=Gt.strstart+It,Sr=Xt[ar+cr-1],yr=Xt[ar+cr];Gt.prev_length>=Gt.good_match&&(Jt>>=2),lr>Gt.lookahead&&(lr=Gt.lookahead);do if(Xt[(nr=Wt)+cr]===yr&&Xt[nr+cr-1]===Sr&&Xt[nr]===Xt[ar]&&Xt[++nr]===Xt[ar+1]){ar+=2,nr++;do;while(Xt[++ar]===Xt[++nr]&&Xt[++ar]===Xt[++nr]&&Xt[++ar]===Xt[++nr]&&Xt[++ar]===Xt[++nr]&&Xt[++ar]===Xt[++nr]&&Xt[++ar]===Xt[++nr]&&Xt[++ar]===Xt[++nr]&&Xt[++ar]===Xt[++nr]&&ar<br);if(Qt=It-(br-ar),ar=br-It,cr<Qt){if(Gt.match_start=Wt,lr<=(cr=Qt))break;Sr=Xt[ar+cr-1],yr=Xt[ar+cr]}}while((Wt=or[Wt&tr])>Yt&&--Jt!=0);return cr<=Gt.lookahead?cr:Gt.lookahead}function rr(Gt){var Wt,nr,Qt,Jt,ar,cr,lr,Yt,Xt,tr,or=Gt.w_size;do{if(Jt=Gt.window_size-Gt.lookahead-Gt.strstart,Gt.strstart>=or+(or-Lt)){for(at.arraySet(Gt.window,Gt.window,or,or,0),Gt.match_start-=or,Gt.strstart-=or,Gt.block_start-=or,Wt=nr=Gt.hash_size;Qt=Gt.head[--Wt],Gt.head[Wt]=or<=Qt?Qt-or:0,--nr;);for(Wt=nr=or;Qt=Gt.prev[--Wt],Gt.prev[Wt]=or<=Qt?Qt-or:0,--nr;);Jt+=or}if(Gt.strm.avail_in===0)break;if(cr=Gt.strm,lr=Gt.window,Yt=Gt.strstart+Gt.lookahead,Xt=Jt,tr=void 0,tr=cr.avail_in,Xt<tr&&(tr=Xt),nr=tr===0?0:(cr.avail_in-=tr,at.arraySet(lr,cr.input,cr.next_in,tr,Yt),cr.state.wrap===1?cr.adler=lt(cr.adler,lr,tr,Yt):cr.state.wrap===2&&(cr.adler=ct(cr.adler,lr,tr,Yt)),cr.next_in+=tr,cr.total_in+=tr,tr),Gt.lookahead+=nr,Gt.lookahead+Gt.insert>=Rt)for(ar=Gt.strstart-Gt.insert,Gt.ins_h=Gt.window[ar],Gt.ins_h=(Gt.ins_h<<Gt.hash_shift^Gt.window[ar+1])&Gt.hash_mask;Gt.insert&&(Gt.ins_h=(Gt.ins_h<<Gt.hash_shift^Gt.window[ar+Rt-1])&Gt.hash_mask,Gt.prev[ar&Gt.w_mask]=Gt.head[Gt.ins_h],Gt.head[Gt.ins_h]=ar,ar++,Gt.insert--,!(Gt.lookahead+Gt.insert<Rt)););}while(Gt.lookahead<Lt&&Gt.strm.avail_in!==0)}function mr(Gt,Wt){for(var nr,Qt;;){if(Gt.lookahead<Lt){if(rr(Gt),Gt.lookahead<Lt&&Wt===dt)return Ot;if(Gt.lookahead===0)break}if(nr=0,Gt.lookahead>=Rt&&(Gt.ins_h=(Gt.ins_h<<Gt.hash_shift^Gt.window[Gt.strstart+Rt-1])&Gt.hash_mask,nr=Gt.prev[Gt.strstart&Gt.w_mask]=Gt.head[Gt.ins_h],Gt.head[Gt.ins_h]=Gt.strstart),nr!==0&&Gt.strstart-nr<=Gt.w_size-Lt&&(Gt.match_length=ir(Gt,nr)),Gt.match_length>=Rt)if(Qt=st._tr_tally(Gt,Gt.strstart-Gt.match_start,Gt.match_length-Rt),Gt.lookahead-=Gt.match_length,Gt.match_length<=Gt.max_lazy_match&&Gt.lookahead>=Rt){for(Gt.match_length--;Gt.strstart++,Gt.ins_h=(Gt.ins_h<<Gt.hash_shift^Gt.window[Gt.strstart+Rt-1])&Gt.hash_mask,nr=Gt.prev[Gt.strstart&Gt.w_mask]=Gt.head[Gt.ins_h],Gt.head[Gt.ins_h]=Gt.strstart,--Gt.match_length!=0;);Gt.strstart++}else Gt.strstart+=Gt.match_length,Gt.match_length=0,Gt.ins_h=Gt.window[Gt.strstart],Gt.ins_h=(Gt.ins_h<<Gt.hash_shift^Gt.window[Gt.strstart+1])&Gt.hash_mask;else Qt=st._tr_tally(Gt,0,Gt.window[Gt.strstart]),Gt.lookahead--,Gt.strstart++;if(Qt&&(Ft(Gt,!1),Gt.strm.avail_out===0))return Ot}return Gt.insert=Gt.strstart<Rt-1?Gt.strstart:Rt-1,Wt===ft?(Ft(Gt,!0),Gt.strm.avail_out===0?zt:Vt):Gt.last_lit&&(Ft(Gt,!1),Gt.strm.avail_out===0)?Ot:Bt}function sr(Gt,Wt){for(var nr,Qt,Jt;;){if(Gt.lookahead<Lt){if(rr(Gt),Gt.lookahead<Lt&&Wt===dt)return Ot;if(Gt.lookahead===0)break}if(nr=0,Gt.lookahead>=Rt&&(Gt.ins_h=(Gt.ins_h<<Gt.hash_shift^Gt.window[Gt.strstart+Rt-1])&Gt.hash_mask,nr=Gt.prev[Gt.strstart&Gt.w_mask]=Gt.head[Gt.ins_h],Gt.head[Gt.ins_h]=Gt.strstart),Gt.prev_length=Gt.match_length,Gt.prev_match=Gt.match_start,Gt.match_length=Rt-1,nr!==0&&Gt.prev_length<Gt.max_lazy_match&&Gt.strstart-nr<=Gt.w_size-Lt&&(Gt.match_length=ir(Gt,nr),Gt.match_length<=5&&(Gt.strategy===1||Gt.match_length===Rt&&4096<Gt.strstart-Gt.match_start)&&(Gt.match_length=Rt-1)),Gt.prev_length>=Rt&&Gt.match_length<=Gt.prev_length){for(Jt=Gt.strstart+Gt.lookahead-Rt,Qt=st._tr_tally(Gt,Gt.strstart-1-Gt.prev_match,Gt.prev_length-Rt),Gt.lookahead-=Gt.prev_length-1,Gt.prev_length-=2;++Gt.strstart<=Jt&&(Gt.ins_h=(Gt.ins_h<<Gt.hash_shift^Gt.window[Gt.strstart+Rt-1])&Gt.hash_mask,nr=Gt.prev[Gt.strstart&Gt.w_mask]=Gt.head[Gt.ins_h],Gt.head[Gt.ins_h]=Gt.strstart),--Gt.prev_length!=0;);if(Gt.match_available=0,Gt.match_length=Rt-1,Gt.strstart++,Qt&&(Ft(Gt,!1),Gt.strm.avail_out===0))return Ot}else if(Gt.match_available){if((Qt=st._tr_tally(Gt,0,Gt.window[Gt.strstart-1]))&&Ft(Gt,!1),Gt.strstart++,Gt.lookahead--,Gt.strm.avail_out===0)return Ot}else Gt.match_available=1,Gt.strstart++,Gt.lookahead--}return Gt.match_available&&(Qt=st._tr_tally(Gt,0,Gt.window[Gt.strstart-1]),Gt.match_available=0),Gt.insert=Gt.strstart<Rt-1?Gt.strstart:Rt-1,Wt===ft?(Ft(Gt,!0),Gt.strm.avail_out===0?zt:Vt):Gt.last_lit&&(Ft(Gt,!1),Gt.strm.avail_out===0)?Ot:Bt}function fr(Gt,Wt,nr,Qt,Jt){this.good_length=Gt,this.max_lazy=Wt,this.nice_length=nr,this.max_chain=Qt,this.func=Jt}function pr(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=yt,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new at.Buf16(2*wt),this.dyn_dtree=new at.Buf16(2*(2*$t+1)),this.bl_tree=new at.Buf16(2*(2*Tt+1)),qt(this.dyn_ltree),qt(this.dyn_dtree),qt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new at.Buf16(At+1),this.heap=new at.Buf16(2*xt+1),qt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new at.Buf16(2*xt+1),qt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function vr(Gt){var Wt;return Gt&&Gt.state?(Gt.total_in=Gt.total_out=0,Gt.data_type=vt,(Wt=Gt.state).pending=0,Wt.pending_out=0,Wt.wrap<0&&(Wt.wrap=-Wt.wrap),Wt.status=Wt.wrap?Pt:Nt,Gt.adler=Wt.wrap===2?0:1,Wt.last_flush=dt,st._tr_init(Wt),pt):Ut(Gt,mt)}function dr(Gt){var Wt=vr(Gt);return Wt===pt&&function(nr){nr.window_size=2*nr.w_size,qt(nr.head),nr.max_lazy_match=ot[nr.level].max_lazy,nr.good_match=ot[nr.level].good_length,nr.nice_match=ot[nr.level].nice_length,nr.max_chain_length=ot[nr.level].max_chain,nr.strstart=0,nr.block_start=0,nr.lookahead=0,nr.insert=0,nr.match_length=nr.prev_length=Rt-1,nr.match_available=0,nr.ins_h=0}(Gt.state),Wt}function xr(Gt,Wt,nr,Qt,Jt,ar){if(!Gt)return mt;var cr=1;if(Wt===ht&&(Wt=6),Qt<0?(cr=0,Qt=-Qt):15<Qt&&(cr=2,Qt-=16),Jt<1||bt<Jt||nr!==yt||Qt<8||15<Qt||Wt<0||9<Wt||ar<0||gt<ar)return Ut(Gt,mt);Qt===8&&(Qt=9);var lr=new pr;return(Gt.state=lr).strm=Gt,lr.wrap=cr,lr.gzhead=null,lr.w_bits=Qt,lr.w_size=1<<lr.w_bits,lr.w_mask=lr.w_size-1,lr.hash_bits=Jt+7,lr.hash_size=1<<lr.hash_bits,lr.hash_mask=lr.hash_size-1,lr.hash_shift=~~((lr.hash_bits+Rt-1)/Rt),lr.window=new at.Buf8(2*lr.w_size),lr.head=new at.Buf16(lr.hash_size),lr.prev=new at.Buf16(lr.w_size),lr.lit_bufsize=1<<Jt+6,lr.pending_buf_size=4*lr.lit_bufsize,lr.pending_buf=new at.Buf8(lr.pending_buf_size),lr.d_buf=1*lr.lit_bufsize,lr.l_buf=3*lr.lit_bufsize,lr.level=Wt,lr.strategy=ar,lr.method=nr,dr(Gt)}ot=[new fr(0,0,0,0,function(Gt,Wt){var nr=65535;for(nr>Gt.pending_buf_size-5&&(nr=Gt.pending_buf_size-5);;){if(Gt.lookahead<=1){if(rr(Gt),Gt.lookahead===0&&Wt===dt)return Ot;if(Gt.lookahead===0)break}Gt.strstart+=Gt.lookahead,Gt.lookahead=0;var Qt=Gt.block_start+nr;if((Gt.strstart===0||Gt.strstart>=Qt)&&(Gt.lookahead=Gt.strstart-Qt,Gt.strstart=Qt,Ft(Gt,!1),Gt.strm.avail_out===0)||Gt.strstart-Gt.block_start>=Gt.w_size-Lt&&(Ft(Gt,!1),Gt.strm.avail_out===0))return Ot}return Gt.insert=0,Wt===ft?(Ft(Gt,!0),Gt.strm.avail_out===0?zt:Vt):(Gt.strstart>Gt.block_start&&(Ft(Gt,!1),Gt.strm.avail_out),Ot)}),new fr(4,4,8,4,mr),new fr(4,5,16,8,mr),new fr(4,6,32,32,mr),new fr(4,4,16,16,sr),new fr(8,16,32,32,sr),new fr(8,16,128,128,sr),new fr(8,32,128,256,sr),new fr(32,128,258,1024,sr),new fr(32,258,258,4096,sr)],it.deflateInit=function(Gt,Wt){return xr(Gt,Wt,yt,15,8,0)},it.deflateInit2=xr,it.deflateReset=dr,it.deflateResetKeep=vr,it.deflateSetHeader=function(Gt,Wt){return Gt&&Gt.state?Gt.state.wrap!==2?mt:(Gt.state.gzhead=Wt,pt):mt},it.deflate=function(Gt,Wt){var nr,Qt,Jt,ar;if(!Gt||!Gt.state||5<Wt||Wt<0)return Gt?Ut(Gt,mt):mt;if(Qt=Gt.state,!Gt.output||!Gt.input&&Gt.avail_in!==0||Qt.status===666&&Wt!==ft)return Ut(Gt,Gt.avail_out===0?-5:mt);if(Qt.strm=Gt,nr=Qt.last_flush,Qt.last_flush=Wt,Qt.status===Pt)if(Qt.wrap===2)Gt.adler=0,Zt(Qt,31),Zt(Qt,139),Zt(Qt,8),Qt.gzhead?(Zt(Qt,(Qt.gzhead.text?1:0)+(Qt.gzhead.hcrc?2:0)+(Qt.gzhead.extra?4:0)+(Qt.gzhead.name?8:0)+(Qt.gzhead.comment?16:0)),Zt(Qt,255&Qt.gzhead.time),Zt(Qt,Qt.gzhead.time>>8&255),Zt(Qt,Qt.gzhead.time>>16&255),Zt(Qt,Qt.gzhead.time>>24&255),Zt(Qt,Qt.level===9?2:2<=Qt.strategy||Qt.level<2?4:0),Zt(Qt,255&Qt.gzhead.os),Qt.gzhead.extra&&Qt.gzhead.extra.length&&(Zt(Qt,255&Qt.gzhead.extra.length),Zt(Qt,Qt.gzhead.extra.length>>8&255)),Qt.gzhead.hcrc&&(Gt.adler=ct(Gt.adler,Qt.pending_buf,Qt.pending,0)),Qt.gzindex=0,Qt.status=69):(Zt(Qt,0),Zt(Qt,0),Zt(Qt,0),Zt(Qt,0),Zt(Qt,0),Zt(Qt,Qt.level===9?2:2<=Qt.strategy||Qt.level<2?4:0),Zt(Qt,3),Qt.status=Nt);else{var cr=yt+(Qt.w_bits-8<<4)<<8;cr|=(2<=Qt.strategy||Qt.level<2?0:Qt.level<6?1:Qt.level===6?2:3)<<6,Qt.strstart!==0&&(cr|=32),cr+=31-cr%31,Qt.status=Nt,Kt(Qt,cr),Qt.strstart!==0&&(Kt(Qt,Gt.adler>>>16),Kt(Qt,65535&Gt.adler)),Gt.adler=1}if(Qt.status===69)if(Qt.gzhead.extra){for(Jt=Qt.pending;Qt.gzindex<(65535&Qt.gzhead.extra.length)&&(Qt.pending!==Qt.pending_buf_size||(Qt.gzhead.hcrc&&Qt.pending>Jt&&(Gt.adler=ct(Gt.adler,Qt.pending_buf,Qt.pending-Jt,Jt)),Dt(Gt),Jt=Qt.pending,Qt.pending!==Qt.pending_buf_size));)Zt(Qt,255&Qt.gzhead.extra[Qt.gzindex]),Qt.gzindex++;Qt.gzhead.hcrc&&Qt.pending>Jt&&(Gt.adler=ct(Gt.adler,Qt.pending_buf,Qt.pending-Jt,Jt)),Qt.gzindex===Qt.gzhead.extra.length&&(Qt.gzindex=0,Qt.status=73)}else Qt.status=73;if(Qt.status===73)if(Qt.gzhead.name){Jt=Qt.pending;do{if(Qt.pending===Qt.pending_buf_size&&(Qt.gzhead.hcrc&&Qt.pending>Jt&&(Gt.adler=ct(Gt.adler,Qt.pending_buf,Qt.pending-Jt,Jt)),Dt(Gt),Jt=Qt.pending,Qt.pending===Qt.pending_buf_size)){ar=1;break}ar=Qt.gzindex<Qt.gzhead.name.length?255&Qt.gzhead.name.charCodeAt(Qt.gzindex++):0,Zt(Qt,ar)}while(ar!==0);Qt.gzhead.hcrc&&Qt.pending>Jt&&(Gt.adler=ct(Gt.adler,Qt.pending_buf,Qt.pending-Jt,Jt)),ar===0&&(Qt.gzindex=0,Qt.status=91)}else Qt.status=91;if(Qt.status===91)if(Qt.gzhead.comment){Jt=Qt.pending;do{if(Qt.pending===Qt.pending_buf_size&&(Qt.gzhead.hcrc&&Qt.pending>Jt&&(Gt.adler=ct(Gt.adler,Qt.pending_buf,Qt.pending-Jt,Jt)),Dt(Gt),Jt=Qt.pending,Qt.pending===Qt.pending_buf_size)){ar=1;break}ar=Qt.gzindex<Qt.gzhead.comment.length?255&Qt.gzhead.comment.charCodeAt(Qt.gzindex++):0,Zt(Qt,ar)}while(ar!==0);Qt.gzhead.hcrc&&Qt.pending>Jt&&(Gt.adler=ct(Gt.adler,Qt.pending_buf,Qt.pending-Jt,Jt)),ar===0&&(Qt.status=103)}else Qt.status=103;if(Qt.status===103&&(Qt.gzhead.hcrc?(Qt.pending+2>Qt.pending_buf_size&&Dt(Gt),Qt.pending+2<=Qt.pending_buf_size&&(Zt(Qt,255&Gt.adler),Zt(Qt,Gt.adler>>8&255),Gt.adler=0,Qt.status=Nt)):Qt.status=Nt),Qt.pending!==0){if(Dt(Gt),Gt.avail_out===0)return Qt.last_flush=-1,pt}else if(Gt.avail_in===0&&jt(Wt)<=jt(nr)&&Wt!==ft)return Ut(Gt,-5);if(Qt.status===666&&Gt.avail_in!==0)return Ut(Gt,-5);if(Gt.avail_in!==0||Qt.lookahead!==0||Wt!==dt&&Qt.status!==666){var lr=Qt.strategy===2?function(Yt,Xt){for(var tr;;){if(Yt.lookahead===0&&(rr(Yt),Yt.lookahead===0)){if(Xt===dt)return Ot;break}if(Yt.match_length=0,tr=st._tr_tally(Yt,0,Yt.window[Yt.strstart]),Yt.lookahead--,Yt.strstart++,tr&&(Ft(Yt,!1),Yt.strm.avail_out===0))return Ot}return Yt.insert=0,Xt===ft?(Ft(Yt,!0),Yt.strm.avail_out===0?zt:Vt):Yt.last_lit&&(Ft(Yt,!1),Yt.strm.avail_out===0)?Ot:Bt}(Qt,Wt):Qt.strategy===3?function(Yt,Xt){for(var tr,or,br,Sr,yr=Yt.window;;){if(Yt.lookahead<=It){if(rr(Yt),Yt.lookahead<=It&&Xt===dt)return Ot;if(Yt.lookahead===0)break}if(Yt.match_length=0,Yt.lookahead>=Rt&&0<Yt.strstart&&(or=yr[br=Yt.strstart-1])===yr[++br]&&or===yr[++br]&&or===yr[++br]){Sr=Yt.strstart+It;do;while(or===yr[++br]&&or===yr[++br]&&or===yr[++br]&&or===yr[++br]&&or===yr[++br]&&or===yr[++br]&&or===yr[++br]&&or===yr[++br]&&br<Sr);Yt.match_length=It-(Sr-br),Yt.match_length>Yt.lookahead&&(Yt.match_length=Yt.lookahead)}if(Yt.match_length>=Rt?(tr=st._tr_tally(Yt,1,Yt.match_length-Rt),Yt.lookahead-=Yt.match_length,Yt.strstart+=Yt.match_length,Yt.match_length=0):(tr=st._tr_tally(Yt,0,Yt.window[Yt.strstart]),Yt.lookahead--,Yt.strstart++),tr&&(Ft(Yt,!1),Yt.strm.avail_out===0))return Ot}return Yt.insert=0,Xt===ft?(Ft(Yt,!0),Yt.strm.avail_out===0?zt:Vt):Yt.last_lit&&(Ft(Yt,!1),Yt.strm.avail_out===0)?Ot:Bt}(Qt,Wt):ot[Qt.level].func(Qt,Wt);if(lr!==zt&&lr!==Vt||(Qt.status=666),lr===Ot||lr===zt)return Gt.avail_out===0&&(Qt.last_flush=-1),pt;if(lr===Bt&&(Wt===1?st._tr_align(Qt):Wt!==5&&(st._tr_stored_block(Qt,0,0,!1),Wt===3&&(qt(Qt.head),Qt.lookahead===0&&(Qt.strstart=0,Qt.block_start=0,Qt.insert=0))),Dt(Gt),Gt.avail_out===0))return Qt.last_flush=-1,pt}return Wt!==ft?pt:Qt.wrap<=0?1:(Qt.wrap===2?(Zt(Qt,255&Gt.adler),Zt(Qt,Gt.adler>>8&255),Zt(Qt,Gt.adler>>16&255),Zt(Qt,Gt.adler>>24&255),Zt(Qt,255&Gt.total_in),Zt(Qt,Gt.total_in>>8&255),Zt(Qt,Gt.total_in>>16&255),Zt(Qt,Gt.total_in>>24&255)):(Kt(Qt,Gt.adler>>>16),Kt(Qt,65535&Gt.adler)),Dt(Gt),0<Qt.wrap&&(Qt.wrap=-Qt.wrap),Qt.pending!==0?pt:1)},it.deflateEnd=function(Gt){var Wt;return Gt&&Gt.state?(Wt=Gt.state.status)!==Pt&&Wt!==69&&Wt!==73&&Wt!==91&&Wt!==103&&Wt!==Nt&&Wt!==666?Ut(Gt,mt):(Gt.state=null,Wt===Nt?Ut(Gt,-3):pt):mt},it.deflateSetDictionary=function(Gt,Wt){var nr,Qt,Jt,ar,cr,lr,Yt,Xt,tr=Wt.length;if(!Gt||!Gt.state||(ar=(nr=Gt.state).wrap)===2||ar===1&&nr.status!==Pt||nr.lookahead)return mt;for(ar===1&&(Gt.adler=lt(Gt.adler,Wt,tr,0)),nr.wrap=0,tr>=nr.w_size&&(ar===0&&(qt(nr.head),nr.strstart=0,nr.block_start=0,nr.insert=0),Xt=new at.Buf8(nr.w_size),at.arraySet(Xt,Wt,tr-nr.w_size,nr.w_size,0),Wt=Xt,tr=nr.w_size),cr=Gt.avail_in,lr=Gt.next_in,Yt=Gt.input,Gt.avail_in=tr,Gt.next_in=0,Gt.input=Wt,rr(nr);nr.lookahead>=Rt;){for(Qt=nr.strstart,Jt=nr.lookahead-(Rt-1);nr.ins_h=(nr.ins_h<<nr.hash_shift^nr.window[Qt+Rt-1])&nr.hash_mask,nr.prev[Qt&nr.w_mask]=nr.head[nr.ins_h],nr.head[nr.ins_h]=Qt,Qt++,--Jt;);nr.strstart=Qt,nr.lookahead=Rt-1,rr(nr)}return nr.strstart+=nr.lookahead,nr.block_start=nr.strstart,nr.insert=nr.lookahead,nr.lookahead=0,nr.match_length=nr.prev_length=Rt-1,nr.match_available=0,Gt.next_in=lr,Gt.input=Yt,Gt.avail_in=cr,nr.wrap=ar,pt},it.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(rt,nt,it){nt.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(rt,nt,it){nt.exports=function(ot,at){var st,lt,ct,ut,dt,ft,pt,mt,ht,gt,vt,yt,bt,xt,$t,Tt,wt,At,Rt,It,Lt,Pt,Nt,Ot,Bt;st=ot.state,lt=ot.next_in,Ot=ot.input,ct=lt+(ot.avail_in-5),ut=ot.next_out,Bt=ot.output,dt=ut-(at-ot.avail_out),ft=ut+(ot.avail_out-257),pt=st.dmax,mt=st.wsize,ht=st.whave,gt=st.wnext,vt=st.window,yt=st.hold,bt=st.bits,xt=st.lencode,$t=st.distcode,Tt=(1<<st.lenbits)-1,wt=(1<<st.distbits)-1;e:do{bt<15&&(yt+=Ot[lt++]<<bt,bt+=8,yt+=Ot[lt++]<<bt,bt+=8),At=xt[yt&Tt];t:for(;;){if(yt>>>=Rt=At>>>24,bt-=Rt,(Rt=At>>>16&255)===0)Bt[ut++]=65535&At;else{if(!(16&Rt)){if(!(64&Rt)){At=xt[(65535&At)+(yt&(1<<Rt)-1)];continue t}if(32&Rt){st.mode=12;break e}ot.msg="invalid literal/length code",st.mode=30;break e}It=65535&At,(Rt&=15)&&(bt<Rt&&(yt+=Ot[lt++]<<bt,bt+=8),It+=yt&(1<<Rt)-1,yt>>>=Rt,bt-=Rt),bt<15&&(yt+=Ot[lt++]<<bt,bt+=8,yt+=Ot[lt++]<<bt,bt+=8),At=$t[yt&wt];r:for(;;){if(yt>>>=Rt=At>>>24,bt-=Rt,!(16&(Rt=At>>>16&255))){if(!(64&Rt)){At=$t[(65535&At)+(yt&(1<<Rt)-1)];continue r}ot.msg="invalid distance code",st.mode=30;break e}if(Lt=65535&At,bt<(Rt&=15)&&(yt+=Ot[lt++]<<bt,(bt+=8)<Rt&&(yt+=Ot[lt++]<<bt,bt+=8)),pt<(Lt+=yt&(1<<Rt)-1)){ot.msg="invalid distance too far back",st.mode=30;break e}if(yt>>>=Rt,bt-=Rt,(Rt=ut-dt)<Lt){if(ht<(Rt=Lt-Rt)&&st.sane){ot.msg="invalid distance too far back",st.mode=30;break e}if(Nt=vt,(Pt=0)===gt){if(Pt+=mt-Rt,Rt<It){for(It-=Rt;Bt[ut++]=vt[Pt++],--Rt;);Pt=ut-Lt,Nt=Bt}}else if(gt<Rt){if(Pt+=mt+gt-Rt,(Rt-=gt)<It){for(It-=Rt;Bt[ut++]=vt[Pt++],--Rt;);if(Pt=0,gt<It){for(It-=Rt=gt;Bt[ut++]=vt[Pt++],--Rt;);Pt=ut-Lt,Nt=Bt}}}else if(Pt+=gt-Rt,Rt<It){for(It-=Rt;Bt[ut++]=vt[Pt++],--Rt;);Pt=ut-Lt,Nt=Bt}for(;2<It;)Bt[ut++]=Nt[Pt++],Bt[ut++]=Nt[Pt++],Bt[ut++]=Nt[Pt++],It-=3;It&&(Bt[ut++]=Nt[Pt++],1<It&&(Bt[ut++]=Nt[Pt++]))}else{for(Pt=ut-Lt;Bt[ut++]=Bt[Pt++],Bt[ut++]=Bt[Pt++],Bt[ut++]=Bt[Pt++],2<(It-=3););It&&(Bt[ut++]=Bt[Pt++],1<It&&(Bt[ut++]=Bt[Pt++]))}break}}break}}while(lt<ct&&ut<ft);lt-=It=bt>>3,yt&=(1<<(bt-=It<<3))-1,ot.next_in=lt,ot.next_out=ut,ot.avail_in=lt<ct?ct-lt+5:5-(lt-ct),ot.avail_out=ut<ft?ft-ut+257:257-(ut-ft),st.hold=yt,st.bits=bt}},{}],49:[function(rt,nt,it){var ot=rt("../utils/common"),at=rt("./adler32"),st=rt("./crc32"),lt=rt("./inffast"),ct=rt("./inftrees"),ut=1,dt=2,ft=0,pt=-2,mt=1,ht=852,gt=592;function vt(Pt){return(Pt>>>24&255)+(Pt>>>8&65280)+((65280&Pt)<<8)+((255&Pt)<<24)}function yt(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new ot.Buf16(320),this.work=new ot.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function bt(Pt){var Nt;return Pt&&Pt.state?(Nt=Pt.state,Pt.total_in=Pt.total_out=Nt.total=0,Pt.msg="",Nt.wrap&&(Pt.adler=1&Nt.wrap),Nt.mode=mt,Nt.last=0,Nt.havedict=0,Nt.dmax=32768,Nt.head=null,Nt.hold=0,Nt.bits=0,Nt.lencode=Nt.lendyn=new ot.Buf32(ht),Nt.distcode=Nt.distdyn=new ot.Buf32(gt),Nt.sane=1,Nt.back=-1,ft):pt}function xt(Pt){var Nt;return Pt&&Pt.state?((Nt=Pt.state).wsize=0,Nt.whave=0,Nt.wnext=0,bt(Pt)):pt}function $t(Pt,Nt){var Ot,Bt;return Pt&&Pt.state?(Bt=Pt.state,Nt<0?(Ot=0,Nt=-Nt):(Ot=1+(Nt>>4),Nt<48&&(Nt&=15)),Nt&&(Nt<8||15<Nt)?pt:(Bt.window!==null&&Bt.wbits!==Nt&&(Bt.window=null),Bt.wrap=Ot,Bt.wbits=Nt,xt(Pt))):pt}function Tt(Pt,Nt){var Ot,Bt;return Pt?(Bt=new yt,(Pt.state=Bt).window=null,(Ot=$t(Pt,Nt))!==ft&&(Pt.state=null),Ot):pt}var wt,At,Rt=!0;function It(Pt){if(Rt){var Nt;for(wt=new ot.Buf32(512),At=new ot.Buf32(32),Nt=0;Nt<144;)Pt.lens[Nt++]=8;for(;Nt<256;)Pt.lens[Nt++]=9;for(;Nt<280;)Pt.lens[Nt++]=7;for(;Nt<288;)Pt.lens[Nt++]=8;for(ct(ut,Pt.lens,0,288,wt,0,Pt.work,{bits:9}),Nt=0;Nt<32;)Pt.lens[Nt++]=5;ct(dt,Pt.lens,0,32,At,0,Pt.work,{bits:5}),Rt=!1}Pt.lencode=wt,Pt.lenbits=9,Pt.distcode=At,Pt.distbits=5}function Lt(Pt,Nt,Ot,Bt){var zt,Vt=Pt.state;return Vt.window===null&&(Vt.wsize=1<<Vt.wbits,Vt.wnext=0,Vt.whave=0,Vt.window=new ot.Buf8(Vt.wsize)),Bt>=Vt.wsize?(ot.arraySet(Vt.window,Nt,Ot-Vt.wsize,Vt.wsize,0),Vt.wnext=0,Vt.whave=Vt.wsize):(Bt<(zt=Vt.wsize-Vt.wnext)&&(zt=Bt),ot.arraySet(Vt.window,Nt,Ot-Bt,zt,Vt.wnext),(Bt-=zt)?(ot.arraySet(Vt.window,Nt,Ot-Bt,Bt,0),Vt.wnext=Bt,Vt.whave=Vt.wsize):(Vt.wnext+=zt,Vt.wnext===Vt.wsize&&(Vt.wnext=0),Vt.whave<Vt.wsize&&(Vt.whave+=zt))),0}it.inflateReset=xt,it.inflateReset2=$t,it.inflateResetKeep=bt,it.inflateInit=function(Pt){return Tt(Pt,15)},it.inflateInit2=Tt,it.inflate=function(Pt,Nt){var Ot,Bt,zt,Vt,Ut,jt,qt,Dt,Ft,Zt,Kt,ir,rr,mr,sr,fr,pr,vr,dr,xr,Gt,Wt,nr,Qt,Jt=0,ar=new ot.Buf8(4),cr=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!Pt||!Pt.state||!Pt.output||!Pt.input&&Pt.avail_in!==0)return pt;(Ot=Pt.state).mode===12&&(Ot.mode=13),Ut=Pt.next_out,zt=Pt.output,qt=Pt.avail_out,Vt=Pt.next_in,Bt=Pt.input,jt=Pt.avail_in,Dt=Ot.hold,Ft=Ot.bits,Zt=jt,Kt=qt,Wt=ft;e:for(;;)switch(Ot.mode){case mt:if(Ot.wrap===0){Ot.mode=13;break}for(;Ft<16;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}if(2&Ot.wrap&&Dt===35615){ar[Ot.check=0]=255&Dt,ar[1]=Dt>>>8&255,Ot.check=st(Ot.check,ar,2,0),Ft=Dt=0,Ot.mode=2;break}if(Ot.flags=0,Ot.head&&(Ot.head.done=!1),!(1&Ot.wrap)||(((255&Dt)<<8)+(Dt>>8))%31){Pt.msg="incorrect header check",Ot.mode=30;break}if((15&Dt)!=8){Pt.msg="unknown compression method",Ot.mode=30;break}if(Ft-=4,Gt=8+(15&(Dt>>>=4)),Ot.wbits===0)Ot.wbits=Gt;else if(Gt>Ot.wbits){Pt.msg="invalid window size",Ot.mode=30;break}Ot.dmax=1<<Gt,Pt.adler=Ot.check=1,Ot.mode=512&Dt?10:12,Ft=Dt=0;break;case 2:for(;Ft<16;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}if(Ot.flags=Dt,(255&Ot.flags)!=8){Pt.msg="unknown compression method",Ot.mode=30;break}if(57344&Ot.flags){Pt.msg="unknown header flags set",Ot.mode=30;break}Ot.head&&(Ot.head.text=Dt>>8&1),512&Ot.flags&&(ar[0]=255&Dt,ar[1]=Dt>>>8&255,Ot.check=st(Ot.check,ar,2,0)),Ft=Dt=0,Ot.mode=3;case 3:for(;Ft<32;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}Ot.head&&(Ot.head.time=Dt),512&Ot.flags&&(ar[0]=255&Dt,ar[1]=Dt>>>8&255,ar[2]=Dt>>>16&255,ar[3]=Dt>>>24&255,Ot.check=st(Ot.check,ar,4,0)),Ft=Dt=0,Ot.mode=4;case 4:for(;Ft<16;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}Ot.head&&(Ot.head.xflags=255&Dt,Ot.head.os=Dt>>8),512&Ot.flags&&(ar[0]=255&Dt,ar[1]=Dt>>>8&255,Ot.check=st(Ot.check,ar,2,0)),Ft=Dt=0,Ot.mode=5;case 5:if(1024&Ot.flags){for(;Ft<16;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}Ot.length=Dt,Ot.head&&(Ot.head.extra_len=Dt),512&Ot.flags&&(ar[0]=255&Dt,ar[1]=Dt>>>8&255,Ot.check=st(Ot.check,ar,2,0)),Ft=Dt=0}else Ot.head&&(Ot.head.extra=null);Ot.mode=6;case 6:if(1024&Ot.flags&&(jt<(ir=Ot.length)&&(ir=jt),ir&&(Ot.head&&(Gt=Ot.head.extra_len-Ot.length,Ot.head.extra||(Ot.head.extra=new Array(Ot.head.extra_len)),ot.arraySet(Ot.head.extra,Bt,Vt,ir,Gt)),512&Ot.flags&&(Ot.check=st(Ot.check,Bt,ir,Vt)),jt-=ir,Vt+=ir,Ot.length-=ir),Ot.length))break e;Ot.length=0,Ot.mode=7;case 7:if(2048&Ot.flags){if(jt===0)break e;for(ir=0;Gt=Bt[Vt+ir++],Ot.head&&Gt&&Ot.length<65536&&(Ot.head.name+=String.fromCharCode(Gt)),Gt&&ir<jt;);if(512&Ot.flags&&(Ot.check=st(Ot.check,Bt,ir,Vt)),jt-=ir,Vt+=ir,Gt)break e}else Ot.head&&(Ot.head.name=null);Ot.length=0,Ot.mode=8;case 8:if(4096&Ot.flags){if(jt===0)break e;for(ir=0;Gt=Bt[Vt+ir++],Ot.head&&Gt&&Ot.length<65536&&(Ot.head.comment+=String.fromCharCode(Gt)),Gt&&ir<jt;);if(512&Ot.flags&&(Ot.check=st(Ot.check,Bt,ir,Vt)),jt-=ir,Vt+=ir,Gt)break e}else Ot.head&&(Ot.head.comment=null);Ot.mode=9;case 9:if(512&Ot.flags){for(;Ft<16;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}if(Dt!==(65535&Ot.check)){Pt.msg="header crc mismatch",Ot.mode=30;break}Ft=Dt=0}Ot.head&&(Ot.head.hcrc=Ot.flags>>9&1,Ot.head.done=!0),Pt.adler=Ot.check=0,Ot.mode=12;break;case 10:for(;Ft<32;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}Pt.adler=Ot.check=vt(Dt),Ft=Dt=0,Ot.mode=11;case 11:if(Ot.havedict===0)return Pt.next_out=Ut,Pt.avail_out=qt,Pt.next_in=Vt,Pt.avail_in=jt,Ot.hold=Dt,Ot.bits=Ft,2;Pt.adler=Ot.check=1,Ot.mode=12;case 12:if(Nt===5||Nt===6)break e;case 13:if(Ot.last){Dt>>>=7&Ft,Ft-=7&Ft,Ot.mode=27;break}for(;Ft<3;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}switch(Ot.last=1&Dt,Ft-=1,3&(Dt>>>=1)){case 0:Ot.mode=14;break;case 1:if(It(Ot),Ot.mode=20,Nt!==6)break;Dt>>>=2,Ft-=2;break e;case 2:Ot.mode=17;break;case 3:Pt.msg="invalid block type",Ot.mode=30}Dt>>>=2,Ft-=2;break;case 14:for(Dt>>>=7&Ft,Ft-=7&Ft;Ft<32;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}if((65535&Dt)!=(Dt>>>16^65535)){Pt.msg="invalid stored block lengths",Ot.mode=30;break}if(Ot.length=65535&Dt,Ft=Dt=0,Ot.mode=15,Nt===6)break e;case 15:Ot.mode=16;case 16:if(ir=Ot.length){if(jt<ir&&(ir=jt),qt<ir&&(ir=qt),ir===0)break e;ot.arraySet(zt,Bt,Vt,ir,Ut),jt-=ir,Vt+=ir,qt-=ir,Ut+=ir,Ot.length-=ir;break}Ot.mode=12;break;case 17:for(;Ft<14;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}if(Ot.nlen=257+(31&Dt),Dt>>>=5,Ft-=5,Ot.ndist=1+(31&Dt),Dt>>>=5,Ft-=5,Ot.ncode=4+(15&Dt),Dt>>>=4,Ft-=4,286<Ot.nlen||30<Ot.ndist){Pt.msg="too many length or distance symbols",Ot.mode=30;break}Ot.have=0,Ot.mode=18;case 18:for(;Ot.have<Ot.ncode;){for(;Ft<3;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}Ot.lens[cr[Ot.have++]]=7&Dt,Dt>>>=3,Ft-=3}for(;Ot.have<19;)Ot.lens[cr[Ot.have++]]=0;if(Ot.lencode=Ot.lendyn,Ot.lenbits=7,nr={bits:Ot.lenbits},Wt=ct(0,Ot.lens,0,19,Ot.lencode,0,Ot.work,nr),Ot.lenbits=nr.bits,Wt){Pt.msg="invalid code lengths set",Ot.mode=30;break}Ot.have=0,Ot.mode=19;case 19:for(;Ot.have<Ot.nlen+Ot.ndist;){for(;fr=(Jt=Ot.lencode[Dt&(1<<Ot.lenbits)-1])>>>16&255,pr=65535&Jt,!((sr=Jt>>>24)<=Ft);){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}if(pr<16)Dt>>>=sr,Ft-=sr,Ot.lens[Ot.have++]=pr;else{if(pr===16){for(Qt=sr+2;Ft<Qt;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}if(Dt>>>=sr,Ft-=sr,Ot.have===0){Pt.msg="invalid bit length repeat",Ot.mode=30;break}Gt=Ot.lens[Ot.have-1],ir=3+(3&Dt),Dt>>>=2,Ft-=2}else if(pr===17){for(Qt=sr+3;Ft<Qt;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}Ft-=sr,Gt=0,ir=3+(7&(Dt>>>=sr)),Dt>>>=3,Ft-=3}else{for(Qt=sr+7;Ft<Qt;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}Ft-=sr,Gt=0,ir=11+(127&(Dt>>>=sr)),Dt>>>=7,Ft-=7}if(Ot.have+ir>Ot.nlen+Ot.ndist){Pt.msg="invalid bit length repeat",Ot.mode=30;break}for(;ir--;)Ot.lens[Ot.have++]=Gt}}if(Ot.mode===30)break;if(Ot.lens[256]===0){Pt.msg="invalid code -- missing end-of-block",Ot.mode=30;break}if(Ot.lenbits=9,nr={bits:Ot.lenbits},Wt=ct(ut,Ot.lens,0,Ot.nlen,Ot.lencode,0,Ot.work,nr),Ot.lenbits=nr.bits,Wt){Pt.msg="invalid literal/lengths set",Ot.mode=30;break}if(Ot.distbits=6,Ot.distcode=Ot.distdyn,nr={bits:Ot.distbits},Wt=ct(dt,Ot.lens,Ot.nlen,Ot.ndist,Ot.distcode,0,Ot.work,nr),Ot.distbits=nr.bits,Wt){Pt.msg="invalid distances set",Ot.mode=30;break}if(Ot.mode=20,Nt===6)break e;case 20:Ot.mode=21;case 21:if(6<=jt&&258<=qt){Pt.next_out=Ut,Pt.avail_out=qt,Pt.next_in=Vt,Pt.avail_in=jt,Ot.hold=Dt,Ot.bits=Ft,lt(Pt,Kt),Ut=Pt.next_out,zt=Pt.output,qt=Pt.avail_out,Vt=Pt.next_in,Bt=Pt.input,jt=Pt.avail_in,Dt=Ot.hold,Ft=Ot.bits,Ot.mode===12&&(Ot.back=-1);break}for(Ot.back=0;fr=(Jt=Ot.lencode[Dt&(1<<Ot.lenbits)-1])>>>16&255,pr=65535&Jt,!((sr=Jt>>>24)<=Ft);){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}if(fr&&!(240&fr)){for(vr=sr,dr=fr,xr=pr;fr=(Jt=Ot.lencode[xr+((Dt&(1<<vr+dr)-1)>>vr)])>>>16&255,pr=65535&Jt,!(vr+(sr=Jt>>>24)<=Ft);){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}Dt>>>=vr,Ft-=vr,Ot.back+=vr}if(Dt>>>=sr,Ft-=sr,Ot.back+=sr,Ot.length=pr,fr===0){Ot.mode=26;break}if(32&fr){Ot.back=-1,Ot.mode=12;break}if(64&fr){Pt.msg="invalid literal/length code",Ot.mode=30;break}Ot.extra=15&fr,Ot.mode=22;case 22:if(Ot.extra){for(Qt=Ot.extra;Ft<Qt;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}Ot.length+=Dt&(1<<Ot.extra)-1,Dt>>>=Ot.extra,Ft-=Ot.extra,Ot.back+=Ot.extra}Ot.was=Ot.length,Ot.mode=23;case 23:for(;fr=(Jt=Ot.distcode[Dt&(1<<Ot.distbits)-1])>>>16&255,pr=65535&Jt,!((sr=Jt>>>24)<=Ft);){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}if(!(240&fr)){for(vr=sr,dr=fr,xr=pr;fr=(Jt=Ot.distcode[xr+((Dt&(1<<vr+dr)-1)>>vr)])>>>16&255,pr=65535&Jt,!(vr+(sr=Jt>>>24)<=Ft);){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}Dt>>>=vr,Ft-=vr,Ot.back+=vr}if(Dt>>>=sr,Ft-=sr,Ot.back+=sr,64&fr){Pt.msg="invalid distance code",Ot.mode=30;break}Ot.offset=pr,Ot.extra=15&fr,Ot.mode=24;case 24:if(Ot.extra){for(Qt=Ot.extra;Ft<Qt;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}Ot.offset+=Dt&(1<<Ot.extra)-1,Dt>>>=Ot.extra,Ft-=Ot.extra,Ot.back+=Ot.extra}if(Ot.offset>Ot.dmax){Pt.msg="invalid distance too far back",Ot.mode=30;break}Ot.mode=25;case 25:if(qt===0)break e;if(ir=Kt-qt,Ot.offset>ir){if((ir=Ot.offset-ir)>Ot.whave&&Ot.sane){Pt.msg="invalid distance too far back",Ot.mode=30;break}rr=ir>Ot.wnext?(ir-=Ot.wnext,Ot.wsize-ir):Ot.wnext-ir,ir>Ot.length&&(ir=Ot.length),mr=Ot.window}else mr=zt,rr=Ut-Ot.offset,ir=Ot.length;for(qt<ir&&(ir=qt),qt-=ir,Ot.length-=ir;zt[Ut++]=mr[rr++],--ir;);Ot.length===0&&(Ot.mode=21);break;case 26:if(qt===0)break e;zt[Ut++]=Ot.length,qt--,Ot.mode=21;break;case 27:if(Ot.wrap){for(;Ft<32;){if(jt===0)break e;jt--,Dt|=Bt[Vt++]<<Ft,Ft+=8}if(Kt-=qt,Pt.total_out+=Kt,Ot.total+=Kt,Kt&&(Pt.adler=Ot.check=Ot.flags?st(Ot.check,zt,Kt,Ut-Kt):at(Ot.check,zt,Kt,Ut-Kt)),Kt=qt,(Ot.flags?Dt:vt(Dt))!==Ot.check){Pt.msg="incorrect data check",Ot.mode=30;break}Ft=Dt=0}Ot.mode=28;case 28:if(Ot.wrap&&Ot.flags){for(;Ft<32;){if(jt===0)break e;jt--,Dt+=Bt[Vt++]<<Ft,Ft+=8}if(Dt!==(4294967295&Ot.total)){Pt.msg="incorrect length check",Ot.mode=30;break}Ft=Dt=0}Ot.mode=29;case 29:Wt=1;break e;case 30:Wt=-3;break e;case 31:return-4;case 32:default:return pt}return Pt.next_out=Ut,Pt.avail_out=qt,Pt.next_in=Vt,Pt.avail_in=jt,Ot.hold=Dt,Ot.bits=Ft,(Ot.wsize||Kt!==Pt.avail_out&&Ot.mode<30&&(Ot.mode<27||Nt!==4))&&Lt(Pt,Pt.output,Pt.next_out,Kt-Pt.avail_out)?(Ot.mode=31,-4):(Zt-=Pt.avail_in,Kt-=Pt.avail_out,Pt.total_in+=Zt,Pt.total_out+=Kt,Ot.total+=Kt,Ot.wrap&&Kt&&(Pt.adler=Ot.check=Ot.flags?st(Ot.check,zt,Kt,Pt.next_out-Kt):at(Ot.check,zt,Kt,Pt.next_out-Kt)),Pt.data_type=Ot.bits+(Ot.last?64:0)+(Ot.mode===12?128:0)+(Ot.mode===20||Ot.mode===15?256:0),(Zt==0&&Kt===0||Nt===4)&&Wt===ft&&(Wt=-5),Wt)},it.inflateEnd=function(Pt){if(!Pt||!Pt.state)return pt;var Nt=Pt.state;return Nt.window&&(Nt.window=null),Pt.state=null,ft},it.inflateGetHeader=function(Pt,Nt){var Ot;return Pt&&Pt.state&&2&(Ot=Pt.state).wrap?((Ot.head=Nt).done=!1,ft):pt},it.inflateSetDictionary=function(Pt,Nt){var Ot,Bt=Nt.length;return Pt&&Pt.state?(Ot=Pt.state).wrap!==0&&Ot.mode!==11?pt:Ot.mode===11&&at(1,Nt,Bt,0)!==Ot.check?-3:Lt(Pt,Nt,Bt,Bt)?(Ot.mode=31,-4):(Ot.havedict=1,ft):pt},it.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(rt,nt,it){var ot=rt("../utils/common"),at=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],st=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],lt=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],ct=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];nt.exports=function(ut,dt,ft,pt,mt,ht,gt,vt){var yt,bt,xt,$t,Tt,wt,At,Rt,It,Lt=vt.bits,Pt=0,Nt=0,Ot=0,Bt=0,zt=0,Vt=0,Ut=0,jt=0,qt=0,Dt=0,Ft=null,Zt=0,Kt=new ot.Buf16(16),ir=new ot.Buf16(16),rr=null,mr=0;for(Pt=0;Pt<=15;Pt++)Kt[Pt]=0;for(Nt=0;Nt<pt;Nt++)Kt[dt[ft+Nt]]++;for(zt=Lt,Bt=15;1<=Bt&&Kt[Bt]===0;Bt--);if(Bt<zt&&(zt=Bt),Bt===0)return mt[ht++]=20971520,mt[ht++]=20971520,vt.bits=1,0;for(Ot=1;Ot<Bt&&Kt[Ot]===0;Ot++);for(zt<Ot&&(zt=Ot),Pt=jt=1;Pt<=15;Pt++)if(jt<<=1,(jt-=Kt[Pt])<0)return-1;if(0<jt&&(ut===0||Bt!==1))return-1;for(ir[1]=0,Pt=1;Pt<15;Pt++)ir[Pt+1]=ir[Pt]+Kt[Pt];for(Nt=0;Nt<pt;Nt++)dt[ft+Nt]!==0&&(gt[ir[dt[ft+Nt]]++]=Nt);if(wt=ut===0?(Ft=rr=gt,19):ut===1?(Ft=at,Zt-=257,rr=st,mr-=257,256):(Ft=lt,rr=ct,-1),Pt=Ot,Tt=ht,Ut=Nt=Dt=0,xt=-1,$t=(qt=1<<(Vt=zt))-1,ut===1&&852<qt||ut===2&&592<qt)return 1;for(;;){for(At=Pt-Ut,It=gt[Nt]<wt?(Rt=0,gt[Nt]):gt[Nt]>wt?(Rt=rr[mr+gt[Nt]],Ft[Zt+gt[Nt]]):(Rt=96,0),yt=1<<Pt-Ut,Ot=bt=1<<Vt;mt[Tt+(Dt>>Ut)+(bt-=yt)]=At<<24|Rt<<16|It|0,bt!==0;);for(yt=1<<Pt-1;Dt&yt;)yt>>=1;if(yt!==0?(Dt&=yt-1,Dt+=yt):Dt=0,Nt++,--Kt[Pt]==0){if(Pt===Bt)break;Pt=dt[ft+gt[Nt]]}if(zt<Pt&&(Dt&$t)!==xt){for(Ut===0&&(Ut=zt),Tt+=Ot,jt=1<<(Vt=Pt-Ut);Vt+Ut<Bt&&!((jt-=Kt[Vt+Ut])<=0);)Vt++,jt<<=1;if(qt+=1<<Vt,ut===1&&852<qt||ut===2&&592<qt)return 1;mt[xt=Dt&$t]=zt<<24|Vt<<16|Tt-ht|0}}return Dt!==0&&(mt[Tt+Dt]=Pt-Ut<<24|64<<16|0),vt.bits=zt,0}},{"../utils/common":41}],51:[function(rt,nt,it){nt.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(rt,nt,it){var ot=rt("../utils/common"),at=0,st=1;function lt(Jt){for(var ar=Jt.length;0<=--ar;)Jt[ar]=0}var ct=0,ut=29,dt=256,ft=dt+1+ut,pt=30,mt=19,ht=2*ft+1,gt=15,vt=16,yt=7,bt=256,xt=16,$t=17,Tt=18,wt=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],At=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Rt=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],It=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Lt=new Array(2*(ft+2));lt(Lt);var Pt=new Array(2*pt);lt(Pt);var Nt=new Array(512);lt(Nt);var Ot=new Array(256);lt(Ot);var Bt=new Array(ut);lt(Bt);var zt,Vt,Ut,jt=new Array(pt);function qt(Jt,ar,cr,lr,Yt){this.static_tree=Jt,this.extra_bits=ar,this.extra_base=cr,this.elems=lr,this.max_length=Yt,this.has_stree=Jt&&Jt.length}function Dt(Jt,ar){this.dyn_tree=Jt,this.max_code=0,this.stat_desc=ar}function Ft(Jt){return Jt<256?Nt[Jt]:Nt[256+(Jt>>>7)]}function Zt(Jt,ar){Jt.pending_buf[Jt.pending++]=255&ar,Jt.pending_buf[Jt.pending++]=ar>>>8&255}function Kt(Jt,ar,cr){Jt.bi_valid>vt-cr?(Jt.bi_buf|=ar<<Jt.bi_valid&65535,Zt(Jt,Jt.bi_buf),Jt.bi_buf=ar>>vt-Jt.bi_valid,Jt.bi_valid+=cr-vt):(Jt.bi_buf|=ar<<Jt.bi_valid&65535,Jt.bi_valid+=cr)}function ir(Jt,ar,cr){Kt(Jt,cr[2*ar],cr[2*ar+1])}function rr(Jt,ar){for(var cr=0;cr|=1&Jt,Jt>>>=1,cr<<=1,0<--ar;);return cr>>>1}function mr(Jt,ar,cr){var lr,Yt,Xt=new Array(gt+1),tr=0;for(lr=1;lr<=gt;lr++)Xt[lr]=tr=tr+cr[lr-1]<<1;for(Yt=0;Yt<=ar;Yt++){var or=Jt[2*Yt+1];or!==0&&(Jt[2*Yt]=rr(Xt[or]++,or))}}function sr(Jt){var ar;for(ar=0;ar<ft;ar++)Jt.dyn_ltree[2*ar]=0;for(ar=0;ar<pt;ar++)Jt.dyn_dtree[2*ar]=0;for(ar=0;ar<mt;ar++)Jt.bl_tree[2*ar]=0;Jt.dyn_ltree[2*bt]=1,Jt.opt_len=Jt.static_len=0,Jt.last_lit=Jt.matches=0}function fr(Jt){8<Jt.bi_valid?Zt(Jt,Jt.bi_buf):0<Jt.bi_valid&&(Jt.pending_buf[Jt.pending++]=Jt.bi_buf),Jt.bi_buf=0,Jt.bi_valid=0}function pr(Jt,ar,cr,lr){var Yt=2*ar,Xt=2*cr;return Jt[Yt]<Jt[Xt]||Jt[Yt]===Jt[Xt]&&lr[ar]<=lr[cr]}function vr(Jt,ar,cr){for(var lr=Jt.heap[cr],Yt=cr<<1;Yt<=Jt.heap_len&&(Yt<Jt.heap_len&&pr(ar,Jt.heap[Yt+1],Jt.heap[Yt],Jt.depth)&&Yt++,!pr(ar,lr,Jt.heap[Yt],Jt.depth));)Jt.heap[cr]=Jt.heap[Yt],cr=Yt,Yt<<=1;Jt.heap[cr]=lr}function dr(Jt,ar,cr){var lr,Yt,Xt,tr,or=0;if(Jt.last_lit!==0)for(;lr=Jt.pending_buf[Jt.d_buf+2*or]<<8|Jt.pending_buf[Jt.d_buf+2*or+1],Yt=Jt.pending_buf[Jt.l_buf+or],or++,lr===0?ir(Jt,Yt,ar):(ir(Jt,(Xt=Ot[Yt])+dt+1,ar),(tr=wt[Xt])!==0&&Kt(Jt,Yt-=Bt[Xt],tr),ir(Jt,Xt=Ft(--lr),cr),(tr=At[Xt])!==0&&Kt(Jt,lr-=jt[Xt],tr)),or<Jt.last_lit;);ir(Jt,bt,ar)}function xr(Jt,ar){var cr,lr,Yt,Xt=ar.dyn_tree,tr=ar.stat_desc.static_tree,or=ar.stat_desc.has_stree,br=ar.stat_desc.elems,Sr=-1;for(Jt.heap_len=0,Jt.heap_max=ht,cr=0;cr<br;cr++)Xt[2*cr]!==0?(Jt.heap[++Jt.heap_len]=Sr=cr,Jt.depth[cr]=0):Xt[2*cr+1]=0;for(;Jt.heap_len<2;)Xt[2*(Yt=Jt.heap[++Jt.heap_len]=Sr<2?++Sr:0)]=1,Jt.depth[Yt]=0,Jt.opt_len--,or&&(Jt.static_len-=tr[2*Yt+1]);for(ar.max_code=Sr,cr=Jt.heap_len>>1;1<=cr;cr--)vr(Jt,Xt,cr);for(Yt=br;cr=Jt.heap[1],Jt.heap[1]=Jt.heap[Jt.heap_len--],vr(Jt,Xt,1),lr=Jt.heap[1],Jt.heap[--Jt.heap_max]=cr,Jt.heap[--Jt.heap_max]=lr,Xt[2*Yt]=Xt[2*cr]+Xt[2*lr],Jt.depth[Yt]=(Jt.depth[cr]>=Jt.depth[lr]?Jt.depth[cr]:Jt.depth[lr])+1,Xt[2*cr+1]=Xt[2*lr+1]=Yt,Jt.heap[1]=Yt++,vr(Jt,Xt,1),2<=Jt.heap_len;);Jt.heap[--Jt.heap_max]=Jt.heap[1],function(yr,hr){var $r,Mr,Ar,Fr,zr,jr,Jr=hr.dyn_tree,gn=hr.max_code,mn=hr.stat_desc.static_tree,Cr=hr.stat_desc.has_stree,Dr=hr.stat_desc.extra_bits,Hr=hr.stat_desc.extra_base,Yr=hr.stat_desc.max_length,dn=0;for(Fr=0;Fr<=gt;Fr++)yr.bl_count[Fr]=0;for(Jr[2*yr.heap[yr.heap_max]+1]=0,$r=yr.heap_max+1;$r<ht;$r++)Yr<(Fr=Jr[2*Jr[2*(Mr=yr.heap[$r])+1]+1]+1)&&(Fr=Yr,dn++),Jr[2*Mr+1]=Fr,gn<Mr||(yr.bl_count[Fr]++,zr=0,Hr<=Mr&&(zr=Dr[Mr-Hr]),jr=Jr[2*Mr],yr.opt_len+=jr*(Fr+zr),Cr&&(yr.static_len+=jr*(mn[2*Mr+1]+zr)));if(dn!==0){do{for(Fr=Yr-1;yr.bl_count[Fr]===0;)Fr--;yr.bl_count[Fr]--,yr.bl_count[Fr+1]+=2,yr.bl_count[Yr]--,dn-=2}while(0<dn);for(Fr=Yr;Fr!==0;Fr--)for(Mr=yr.bl_count[Fr];Mr!==0;)gn<(Ar=yr.heap[--$r])||(Jr[2*Ar+1]!==Fr&&(yr.opt_len+=(Fr-Jr[2*Ar+1])*Jr[2*Ar],Jr[2*Ar+1]=Fr),Mr--)}}(Jt,ar),mr(Xt,Sr,Jt.bl_count)}function Gt(Jt,ar,cr){var lr,Yt,Xt=-1,tr=ar[1],or=0,br=7,Sr=4;for(tr===0&&(br=138,Sr=3),ar[2*(cr+1)+1]=65535,lr=0;lr<=cr;lr++)Yt=tr,tr=ar[2*(lr+1)+1],++or<br&&Yt===tr||(or<Sr?Jt.bl_tree[2*Yt]+=or:Yt!==0?(Yt!==Xt&&Jt.bl_tree[2*Yt]++,Jt.bl_tree[2*xt]++):or<=10?Jt.bl_tree[2*$t]++:Jt.bl_tree[2*Tt]++,Xt=Yt,Sr=(or=0)===tr?(br=138,3):Yt===tr?(br=6,3):(br=7,4))}function Wt(Jt,ar,cr){var lr,Yt,Xt=-1,tr=ar[1],or=0,br=7,Sr=4;for(tr===0&&(br=138,Sr=3),lr=0;lr<=cr;lr++)if(Yt=tr,tr=ar[2*(lr+1)+1],!(++or<br&&Yt===tr)){if(or<Sr)for(;ir(Jt,Yt,Jt.bl_tree),--or!=0;);else Yt!==0?(Yt!==Xt&&(ir(Jt,Yt,Jt.bl_tree),or--),ir(Jt,xt,Jt.bl_tree),Kt(Jt,or-3,2)):or<=10?(ir(Jt,$t,Jt.bl_tree),Kt(Jt,or-3,3)):(ir(Jt,Tt,Jt.bl_tree),Kt(Jt,or-11,7));Xt=Yt,Sr=(or=0)===tr?(br=138,3):Yt===tr?(br=6,3):(br=7,4)}}lt(jt);var nr=!1;function Qt(Jt,ar,cr,lr){Kt(Jt,(ct<<1)+(lr?1:0),3),function(Yt,Xt,tr,or){fr(Yt),or&&(Zt(Yt,tr),Zt(Yt,~tr)),ot.arraySet(Yt.pending_buf,Yt.window,Xt,tr,Yt.pending),Yt.pending+=tr}(Jt,ar,cr,!0)}it._tr_init=function(Jt){nr||(function(){var ar,cr,lr,Yt,Xt,tr=new Array(gt+1);for(Yt=lr=0;Yt<ut-1;Yt++)for(Bt[Yt]=lr,ar=0;ar<1<<wt[Yt];ar++)Ot[lr++]=Yt;for(Ot[lr-1]=Yt,Yt=Xt=0;Yt<16;Yt++)for(jt[Yt]=Xt,ar=0;ar<1<<At[Yt];ar++)Nt[Xt++]=Yt;for(Xt>>=7;Yt<pt;Yt++)for(jt[Yt]=Xt<<7,ar=0;ar<1<<At[Yt]-7;ar++)Nt[256+Xt++]=Yt;for(cr=0;cr<=gt;cr++)tr[cr]=0;for(ar=0;ar<=143;)Lt[2*ar+1]=8,ar++,tr[8]++;for(;ar<=255;)Lt[2*ar+1]=9,ar++,tr[9]++;for(;ar<=279;)Lt[2*ar+1]=7,ar++,tr[7]++;for(;ar<=287;)Lt[2*ar+1]=8,ar++,tr[8]++;for(mr(Lt,ft+1,tr),ar=0;ar<pt;ar++)Pt[2*ar+1]=5,Pt[2*ar]=rr(ar,5);zt=new qt(Lt,wt,dt+1,ft,gt),Vt=new qt(Pt,At,0,pt,gt),Ut=new qt(new Array(0),Rt,0,mt,yt)}(),nr=!0),Jt.l_desc=new Dt(Jt.dyn_ltree,zt),Jt.d_desc=new Dt(Jt.dyn_dtree,Vt),Jt.bl_desc=new Dt(Jt.bl_tree,Ut),Jt.bi_buf=0,Jt.bi_valid=0,sr(Jt)},it._tr_stored_block=Qt,it._tr_flush_block=function(Jt,ar,cr,lr){var Yt,Xt,tr=0;0<Jt.level?(Jt.strm.data_type===2&&(Jt.strm.data_type=function(or){var br,Sr=4093624447;for(br=0;br<=31;br++,Sr>>>=1)if(1&Sr&&or.dyn_ltree[2*br]!==0)return at;if(or.dyn_ltree[18]!==0||or.dyn_ltree[20]!==0||or.dyn_ltree[26]!==0)return st;for(br=32;br<dt;br++)if(or.dyn_ltree[2*br]!==0)return st;return at}(Jt)),xr(Jt,Jt.l_desc),xr(Jt,Jt.d_desc),tr=function(or){var br;for(Gt(or,or.dyn_ltree,or.l_desc.max_code),Gt(or,or.dyn_dtree,or.d_desc.max_code),xr(or,or.bl_desc),br=mt-1;3<=br&&or.bl_tree[2*It[br]+1]===0;br--);return or.opt_len+=3*(br+1)+5+5+4,br}(Jt),Yt=Jt.opt_len+3+7>>>3,(Xt=Jt.static_len+3+7>>>3)<=Yt&&(Yt=Xt)):Yt=Xt=cr+5,cr+4<=Yt&&ar!==-1?Qt(Jt,ar,cr,lr):Jt.strategy===4||Xt===Yt?(Kt(Jt,2+(lr?1:0),3),dr(Jt,Lt,Pt)):(Kt(Jt,4+(lr?1:0),3),function(or,br,Sr,yr){var hr;for(Kt(or,br-257,5),Kt(or,Sr-1,5),Kt(or,yr-4,4),hr=0;hr<yr;hr++)Kt(or,or.bl_tree[2*It[hr]+1],3);Wt(or,or.dyn_ltree,br-1),Wt(or,or.dyn_dtree,Sr-1)}(Jt,Jt.l_desc.max_code+1,Jt.d_desc.max_code+1,tr+1),dr(Jt,Jt.dyn_ltree,Jt.dyn_dtree)),sr(Jt),lr&&fr(Jt)},it._tr_tally=function(Jt,ar,cr){return Jt.pending_buf[Jt.d_buf+2*Jt.last_lit]=ar>>>8&255,Jt.pending_buf[Jt.d_buf+2*Jt.last_lit+1]=255&ar,Jt.pending_buf[Jt.l_buf+Jt.last_lit]=255&cr,Jt.last_lit++,ar===0?Jt.dyn_ltree[2*cr]++:(Jt.matches++,ar--,Jt.dyn_ltree[2*(Ot[cr]+dt+1)]++,Jt.dyn_dtree[2*Ft(ar)]++),Jt.last_lit===Jt.lit_bufsize-1},it._tr_align=function(Jt){Kt(Jt,2,3),ir(Jt,bt,Lt),function(ar){ar.bi_valid===16?(Zt(ar,ar.bi_buf),ar.bi_buf=0,ar.bi_valid=0):8<=ar.bi_valid&&(ar.pending_buf[ar.pending++]=255&ar.bi_buf,ar.bi_buf>>=8,ar.bi_valid-=8)}(Jt)}},{"../utils/common":41}],53:[function(rt,nt,it){nt.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(rt,nt,it){(function(ot){(function(at,st){if(!at.setImmediate){var lt,ct,ut,dt,ft=1,pt={},mt=!1,ht=at.document,gt=Object.getPrototypeOf&&Object.getPrototypeOf(at);gt=gt&&gt.setTimeout?gt:at,lt={}.toString.call(at.process)==="[object process]"?function(xt){process.nextTick(function(){yt(xt)})}:function(){if(at.postMessage&&!at.importScripts){var xt=!0,$t=at.onmessage;return at.onmessage=function(){xt=!1},at.postMessage("","*"),at.onmessage=$t,xt}}()?(dt="setImmediate$"+Math.random()+"$",at.addEventListener?at.addEventListener("message",bt,!1):at.attachEvent("onmessage",bt),function(xt){at.postMessage(dt+xt,"*")}):at.MessageChannel?((ut=new MessageChannel).port1.onmessage=function(xt){yt(xt.data)},function(xt){ut.port2.postMessage(xt)}):ht&&"onreadystatechange"in ht.createElement("script")?(ct=ht.documentElement,function(xt){var $t=ht.createElement("script");$t.onreadystatechange=function(){yt(xt),$t.onreadystatechange=null,ct.removeChild($t),$t=null},ct.appendChild($t)}):function(xt){setTimeout(yt,0,xt)},gt.setImmediate=function(xt){typeof xt!="function"&&(xt=new Function(""+xt));for(var $t=new Array(arguments.length-1),Tt=0;Tt<$t.length;Tt++)$t[Tt]=arguments[Tt+1];var wt={callback:xt,args:$t};return pt[ft]=wt,lt(ft),ft++},gt.clearImmediate=vt}function vt(xt){delete pt[xt]}function yt(xt){if(mt)setTimeout(yt,0,xt);else{var $t=pt[xt];if($t){mt=!0;try{(function(Tt){var wt=Tt.callback,At=Tt.args;switch(At.length){case 0:wt();break;case 1:wt(At[0]);break;case 2:wt(At[0],At[1]);break;case 3:wt(At[0],At[1],At[2]);break;default:wt.apply(st,At)}})($t)}finally{vt(xt),mt=!1}}}}function bt(xt){xt.source===at&&typeof xt.data=="string"&&xt.data.indexOf(dt)===0&&yt(+xt.data.slice(dt.length))}})(typeof self>"u"?ot===void 0?this:ot:self)}).call(this,typeof commonjsGlobal$4<"u"?commonjsGlobal$4:typeof self<"u"?self:typeof window<"u"?window:{})},{}]},{},[10])(10)})})(jszip_min);const JSZip=jszip_minExports;var FileSaver_minExports={},FileSaver_min={get exports(){return FileSaver_minExports},set exports(tt){FileSaver_minExports=tt}};(function(tt,et){(function(rt,nt){nt()})(commonjsGlobal$4,function(){function rt(ct,ut){return typeof ut>"u"?ut={autoBom:!1}:typeof ut!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),ut={autoBom:!ut}),ut.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(ct.type)?new Blob(["\uFEFF",ct],{type:ct.type}):ct}function nt(ct,ut,dt){var ft=new XMLHttpRequest;ft.open("GET",ct),ft.responseType="blob",ft.onload=function(){lt(ft.response,ut,dt)},ft.onerror=function(){console.error("could not download file")},ft.send()}function it(ct){var ut=new XMLHttpRequest;ut.open("HEAD",ct,!1);try{ut.send()}catch{}return 200<=ut.status&&299>=ut.status}function ot(ct){try{ct.dispatchEvent(new MouseEvent("click"))}catch{var ut=document.createEvent("MouseEvents");ut.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),ct.dispatchEvent(ut)}}var at=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof commonjsGlobal$4=="object"&&commonjsGlobal$4.global===commonjsGlobal$4?commonjsGlobal$4:void 0,st=at.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),lt=at.saveAs||(typeof window!="object"||window!==at?function(){}:"download"in HTMLAnchorElement.prototype&&!st?function(ct,ut,dt){var ft=at.URL||at.webkitURL,pt=document.createElement("a");ut=ut||ct.name||"download",pt.download=ut,pt.rel="noopener",typeof ct=="string"?(pt.href=ct,pt.origin===location.origin?ot(pt):it(pt.href)?nt(ct,ut,dt):ot(pt,pt.target="_blank")):(pt.href=ft.createObjectURL(ct),setTimeout(function(){ft.revokeObjectURL(pt.href)},4e4),setTimeout(function(){ot(pt)},0))}:"msSaveOrOpenBlob"in navigator?function(ct,ut,dt){if(ut=ut||ct.name||"download",typeof ct!="string")navigator.msSaveOrOpenBlob(rt(ct,dt),ut);else if(it(ct))nt(ct,ut,dt);else{var ft=document.createElement("a");ft.href=ct,ft.target="_blank",setTimeout(function(){ot(ft)})}}:function(ct,ut,dt,ft){if(ft=ft||open("","_blank"),ft&&(ft.document.title=ft.document.body.innerText="downloading..."),typeof ct=="string")return nt(ct,ut,dt);var pt=ct.type==="application/octet-stream",mt=/constructor/i.test(at.HTMLElement)||at.safari,ht=/CriOS\/[\d]+/.test(navigator.userAgent);if((ht||pt&&mt||st)&&typeof FileReader<"u"){var gt=new FileReader;gt.onloadend=function(){var bt=gt.result;bt=ht?bt:bt.replace(/^data:[^;]*;/,"data:attachment/file;"),ft?ft.location.href=bt:location=bt,ft=null},gt.readAsDataURL(ct)}else{var vt=at.URL||at.webkitURL,yt=vt.createObjectURL(ct);ft?ft.location=yt:location.href=yt,ft=null,setTimeout(function(){vt.revokeObjectURL(yt)},4e4)}});at.saveAs=lt.saveAs=lt,tt.exports=lt})})(FileSaver_min);const defaultCoverArtPath="/assets/default-cover-art-28169459.png",SCALE=.01,SCALE_ARR_1=[-SCALE,SCALE,SCALE],SCALE_ARR_2=[-SCALE,SCALE,-SCALE],SCALE_ARR_3=[SCALE,SCALE,-SCALE],NOTE_FOOTER_TRANSFORM=.7,NOTE_FOOTER_LINE_LAYER=3,RING_NUM={ONE:1,TWO:2,THREE:3,FOUR:4,FIVE:5,SIX:6,SEVEN:7,EIGHT:8,NINE:9,TEN:10,ELEVEN:11,TWELVE:12},ROW_AND_COL_RING_CELL={[RING_NUM.ONE]:[2,0],[RING_NUM.TWO]:[2,1],[RING_NUM.THREE]:[2,2],[RING_NUM.FOUR]:[2,3],[RING_NUM.FIVE]:[1,3],[RING_NUM.SIX]:[0,3],[RING_NUM.SEVEN]:[0,2],[RING_NUM.EIGHT]:[0,1],[RING_NUM.NINE]:[0,0],[RING_NUM.TEN]:[1,0],[RING_NUM.ELEVEN]:[1,1],[RING_NUM.TWELVE]:[1,2]},GROUP_RING_SORT={[RING_NUM.ONE]:[2,2],[RING_NUM.TWO]:[2,3],[RING_NUM.THREE]:[1,3],[RING_NUM.FOUR]:[0,3],[RING_NUM.FIVE]:[0,2],[RING_NUM.SIX]:[0,1],[RING_NUM.SEVEN]:[0,0],[RING_NUM.EIGHT]:[1,0],[RING_NUM.NINE]:[2,0],[RING_NUM.TEN]:[2,1]},RING_DIRECTION_OUTSIDE=[{value:RING_NUM.ONE,directionArr:[NOTE_ARROW.LEFT,NOTE_ARROW.UP,NOTE_ARROW.UP_LEFT,NOTE_ARROW.DOWN_LEFT],directionRing:NOTE_ARROW.UP_LEFT,position:[-1.493,.91],rotationY:.8},{value:RING_NUM.TWO,directionArr:[NOTE_ARROW.LEFT,NOTE_ARROW.UP_LEFT,NOTE_ARROW.UP,NOTE_ARROW.UP_RIGHT],directionRing:NOTE_ARROW.UP,position:[-.573,1.35],rotationY:.3},{value:RING_NUM.THREE,directionArr:[NOTE_ARROW.UP_LEFT,NOTE_ARROW.UP,NOTE_ARROW.UP_RIGHT,NOTE_ARROW.RIGHT],directionRing:NOTE_ARROW.UP,position:[.54,1.35],rotationY:-.2},{value:RING_NUM.FOUR,directionArr:[NOTE_ARROW.UP,NOTE_ARROW.UP_RIGHT,NOTE_ARROW.RIGHT,NOTE_ARROW.DOWN_RIGHT],directionRing:NOTE_ARROW.UP_RIGHT,position:[1.48,.9],rotationY:-.8},{value:RING_NUM.FIVE,directionArr:[NOTE_ARROW.UP,NOTE_ARROW.UP_LEFT,NOTE_ARROW.LEFT,NOTE_ARROW.DOWN_LEFT],directionRing:NOTE_ARROW.LEFT,position:[1.93,0],rotationY:-1.6},{value:RING_NUM.SIX,directionArr:[NOTE_ARROW.LEFT,NOTE_ARROW.UP_LEFT,NOTE_ARROW.UP,NOTE_ARROW.UP_RIGHT],directionRing:NOTE_ARROW.UP_LEFT,position:[1.45,-.91],rotationY:-2.45},{value:RING_NUM.SEVEN,directionArr:[NOTE_ARROW.LEFT,NOTE_ARROW.UP_LEFT,NOTE_ARROW.UP,NOTE_ARROW.UP_RIGHT],directionRing:NOTE_ARROW.UP,position:[.54,-1.34],rotationY:-2.9},{value:RING_NUM.EIGHT,directionArr:[NOTE_ARROW.UP_LEFT,NOTE_ARROW.UP,NOTE_ARROW.UP_RIGHT,NOTE_ARROW.RIGHT],directionRing:NOTE_ARROW.UP,position:[-.57,-1.34],rotationY:-3.35},{value:RING_NUM.NINE,directionArr:[NOTE_ARROW.UP,NOTE_ARROW.UP_RIGHT,NOTE_ARROW.RIGHT,NOTE_ARROW.DOWN_RIGHT],directionRing:NOTE_ARROW.UP_RIGHT,position:[-1.48,-.9],rotationY:2.45},{value:RING_NUM.TEN,directionArr:[NOTE_ARROW.UP,NOTE_ARROW.UP_LEFT,NOTE_ARROW.LEFT,NOTE_ARROW.DOWN_LEFT],directionRing:NOTE_ARROW.LEFT,position:[-1.93,0],rotationY:1.6}],RING_DIRECTION_INSIDE=[{value:RING_NUM.ONE,directionArr:[NOTE_ARROW.UP_RIGHT,NOTE_ARROW.DOWN,NOTE_ARROW.RIGHT,NOTE_ARROW.DOWN_RIGHT],directionRing:NOTE_ARROW.DOWN_RIGHT,position:[-1.493,.91],rotationY:-2.4},{value:RING_NUM.TWO,directionArr:[NOTE_ARROW.DOWN_LEFT,NOTE_ARROW.DOWN,NOTE_ARROW.RIGHT,NOTE_ARROW.DOWN_RIGHT],directionRing:NOTE_ARROW.DOWN,position:[-.573,1.35],rotationY:-2.9},{value:RING_NUM.THREE,directionArr:[NOTE_ARROW.LEFT,NOTE_ARROW.DOWN_LEFT,NOTE_ARROW.DOWN,NOTE_ARROW.DOWN_RIGHT],directionRing:NOTE_ARROW.DOWN,position:[.54,1.35],rotationY:2.9},{value:RING_NUM.FOUR,directionArr:[NOTE_ARROW.UP_LEFT,NOTE_ARROW.LEFT,NOTE_ARROW.DOWN_LEFT,NOTE_ARROW.DOWN],directionRing:NOTE_ARROW.DOWN_LEFT,position:[1.48,.9],rotationY:2.4},{value:RING_NUM.FIVE,directionArr:[NOTE_ARROW.UP_RIGHT,NOTE_ARROW.RIGHT,NOTE_ARROW.DOWN_RIGHT,NOTE_ARROW.DOWN],directionRing:NOTE_ARROW.RIGHT,position:[1.93,0],rotationY:1.6},{value:RING_NUM.SIX,directionArr:[NOTE_ARROW.DOWN_LEFT,NOTE_ARROW.DOWN,NOTE_ARROW.RIGHT,NOTE_ARROW.DOWN_RIGHT],directionRing:NOTE_ARROW.DOWN_RIGHT,position:[1.45,-.91],rotationY:.7},{value:RING_NUM.SEVEN,directionArr:[NOTE_ARROW.DOWN_LEFT,NOTE_ARROW.DOWN,NOTE_ARROW.RIGHT,NOTE_ARROW.DOWN_RIGHT],directionRing:NOTE_ARROW.DOWN,position:[.54,-1.34],rotationY:.25},{value:RING_NUM.EIGHT,directionArr:[NOTE_ARROW.LEFT,NOTE_ARROW.DOWN_LEFT,NOTE_ARROW.DOWN,NOTE_ARROW.DOWN_RIGHT],directionRing:NOTE_ARROW.DOWN,position:[-.57,-1.34],rotationY:-.25},{value:RING_NUM.NINE,directionArr:[NOTE_ARROW.UP_LEFT,NOTE_ARROW.LEFT,NOTE_ARROW.DOWN_LEFT,NOTE_ARROW.DOWN],directionRing:NOTE_ARROW.DOWN_LEFT,position:[-1.48,-.9],rotationY:-.85},{value:RING_NUM.TEN,directionArr:[NOTE_ARROW.UP_RIGHT,NOTE_ARROW.RIGHT,NOTE_ARROW.DOWN_RIGHT,NOTE_ARROW.DOWN],directionRing:NOTE_ARROW.RIGHT,position:[-1.93,0],rotationY:-1.6}],NOTE_FOOTER={SHORT:0,LONG:1},GROUP_NOTE_TYPE={HAND:1,FOOT:2},isObstacle=tt=>isUnDef(tt._cutDirection)&&isUnDef(tt._ringNoteType),isNote=tt=>!isUnDef(tt._cutDirection)||!isUnDef(tt._ringNoteType),pasteSelectionActionPubFn=({stateData:tt,copyData:et,filterFn:rt,pasteAtBeat:nt,earliestBeat:it,type:ot})=>{const at=nt-it,st=tt.map(ut=>({...ut,selected:!1})),ct=et.filter(rt).map(ut=>ot==="obstacle"?{...ut,selected:!0,beatStart:ut.beatStart+at}:{...ut,selected:!0,_time:ut._time+at});return[...st,...ct]},getRingModePositionValue=(tt,et,rt)=>{for(const nt in tt){const it=tt[nt];if(tt.hasOwnProperty(nt)&&et===it[0]&&rt===it[1])return Number(nt)}return 0},ringModeToDirection=(tt,et,rt)=>{const nt=getRingModePositionValue(ROW_AND_COL_RING_CELL,tt,et);if(!nt)throw Error("no has ringModePositionValue");let it;switch(rt){case RING_DIRECTION.OUTSIDE:const ot=RING_DIRECTION_OUTSIDE.find(st=>nt===st.value);it=ot==null?void 0:ot.directionRing;break;case RING_DIRECTION.INSIDE:const at=RING_DIRECTION_INSIDE.find(st=>nt===st.value);it=at==null?void 0:at.directionRing;break;case RING_DIRECTION.WITHIN:it=NOTE_ARROW.CIRCLE;break}return it},MB=1024*1024,projects={upload:{imageType:["image/png"],imageSize:2,imageWidthHeight:[512,512],songType:["audio/ogg"],songSize:10},editor:{noteMode:[NOTE_MODE.RING,NOTE_MODE.RING_DANCE],isControlDirection:!1},crypto:{IV:"(@#helloworld*&)",KEY:"Byte101Dance!@#$"},sso:{boe:{isBoe:!0,aid:10077893,next:"http://cipher-editor.bytedance.net",host:"http://sso-pico-boe.bytedance.net",captchaHost:"//boe-verify.snssdk.com"},prod:{aid:441004,next:"https://cipher-editor-cn.picovr.com",host:"https://sso.picovr.com"},privacyURL:"https://bytedance.feishu.cn/docx/YhD8d1SBmoCw99x30vocpCFenih?source_type=message&from=message",serverURL:"https://bytedance.feishu.cn/docx/XL9qdeVjXoZ0oZx3hgpcie4Ln1f"}},getProjectsSettings=()=>projects,getEditorSettings=()=>getProjectsSettings().editor,getEditorNoteModeSettings=()=>getEditorSettings().noteMode,getEditorIsControlDirection=()=>getEditorSettings().isControlDirection,getEditorInitNoteModeSetting=()=>{var tt;return(tt=getEditorNoteModeSettings())==null?void 0:tt[0]},getProjectsUploadSettings=()=>projects.upload,getProjectsSSOSettings=()=>projects.sso,getProEnvForUrl=()=>{let tt="cipher-editor-cn.picovr.com";return location.origin.indexOf(tt)>-1},getSSOSettings=()=>{const{boe:tt,prod:et}=projects.sso;return getProEnvForUrl()?et:tt},getDifficultKey=tt=>`difficulties${tt}ById`,getNoteModeName=()=>Object.values(NOTE_MODE),getIsHasCurrentMode=tt=>getEditorNoteModeSettings().includes(tt),allNoteModeAction=async(tt,et)=>{for(let rt=0;rt<tt.length;rt++){const nt=tt[rt],it=getDifficultKey(nt);et&&await et(nt,it,rt)}},getModeExtensionSuffix=tt=>tt===NOTE_MODE.STANDARD?"":tt,getIsRingEditMode=tt=>[NOTE_MODE.RING_DANCE,NOTE_MODE.RING].includes(tt),standardToRingMap=tt=>{const[et,rt]=ROW_AND_COL_RING_CELL[RING_NUM.ELEVEN],[nt,it]=ROW_AND_COL_RING_CELL[RING_NUM.TWELVE],ot={[NOTE_ARROW.UP_LEFT]:ROW_AND_COL_RING_CELL[RING_NUM.ONE],[NOTE_ARROW.DOWN_RIGHT]:ROW_AND_COL_RING_CELL[RING_NUM.ONE],[NOTE_ARROW.UP]:ROW_AND_COL_RING_CELL[RING_NUM.TWO],[NOTE_ARROW.DOWN]:ROW_AND_COL_RING_CELL[RING_NUM.EIGHT],[NOTE_ARROW.LEFT]:ROW_AND_COL_RING_CELL[RING_NUM.TEN],[NOTE_ARROW.RIGHT]:ROW_AND_COL_RING_CELL[RING_NUM.TEN],[NOTE_ARROW.UP_RIGHT]:ROW_AND_COL_RING_CELL[RING_NUM.NINE],[NOTE_ARROW.DOWN_LEFT]:ROW_AND_COL_RING_CELL[RING_NUM.NINE],[NOTE_ARROW.CIRCLE]:ROW_AND_COL_RING_CELL[RING_NUM.TEN]},at={[NOTE_ARROW.UP_LEFT]:ROW_AND_COL_RING_CELL[RING_NUM.SIX],[NOTE_ARROW.DOWN_RIGHT]:ROW_AND_COL_RING_CELL[RING_NUM.SIX],[NOTE_ARROW.UP]:ROW_AND_COL_RING_CELL[RING_NUM.THREE],[NOTE_ARROW.DOWN]:ROW_AND_COL_RING_CELL[RING_NUM.SEVEN],[NOTE_ARROW.LEFT]:ROW_AND_COL_RING_CELL[RING_NUM.FIVE],[NOTE_ARROW.RIGHT]:ROW_AND_COL_RING_CELL[RING_NUM.FIVE],[NOTE_ARROW.UP_RIGHT]:ROW_AND_COL_RING_CELL[RING_NUM.FOUR],[NOTE_ARROW.DOWN_LEFT]:ROW_AND_COL_RING_CELL[RING_NUM.FOUR],[NOTE_ARROW.CIRCLE]:ROW_AND_COL_RING_CELL[RING_NUM.FIVE]};tt.forEach(lt=>{if(et===lt._lineLayer&&rt===lt._lineIndex){const[ct,ut]=ot[lt._cutDirection||NOTE_ARROW.CIRCLE];lt._lineLayer=ct,lt._lineIndex=ut}if(nt===lt._lineLayer&&it===lt._lineIndex){const[ct,ut]=at[lt._cutDirection||NOTE_ARROW.CIRCLE];lt._lineIndex=ut,lt._lineLayer=ct}});const st=[];return tt.forEach(lt=>{st.some(ut=>ut._lineLayer===lt._lineLayer&&ut._lineIndex===lt._lineIndex&&ut._time===lt._time)||st.push(lt)}),st},calculateVisibleRange=(tt,et,rt,{includeSpaceBeforeGrid:nt}={includeSpaceBeforeGrid:!1})=>{const ot=DEPTHS[rt]/et,at=nt?ot*.2:0;return[tt-at,tt+ot]},getCalories=(tt,et)=>{const rt=Math.floor(DEFAULT_CALORIE[tt]*et/60);return isNumber$9(rt)?rt:5e3},getDifficultyNoteJumpSpeeds=tt=>DEFAULT_NOTE_JUMP_SPEEDS[tt],getTotalNumOfBeats=(tt,et)=>Math.ceil(convertMillisecondsToBeats(tt,et));var localforageExports={},localforage={get exports(){return localforageExports},set exports(tt){localforageExports=tt}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(tt,et){(function(rt){tt.exports=rt()})(function(){return function rt(nt,it,ot){function at(ct,ut){if(!it[ct]){if(!nt[ct]){var dt=typeof commonjsRequire$4=="function"&&commonjsRequire$4;if(!ut&&dt)return dt(ct,!0);if(st)return st(ct,!0);var ft=new Error("Cannot find module '"+ct+"'");throw ft.code="MODULE_NOT_FOUND",ft}var pt=it[ct]={exports:{}};nt[ct][0].call(pt.exports,function(mt){var ht=nt[ct][1][mt];return at(ht||mt)},pt,pt.exports,rt,nt,it,ot)}return it[ct].exports}for(var st=typeof commonjsRequire$4=="function"&&commonjsRequire$4,lt=0;lt<ot.length;lt++)at(ot[lt]);return at}({1:[function(rt,nt,it){(function(ot){var at=ot.MutationObserver||ot.WebKitMutationObserver,st;if(at){var lt=0,ct=new at(mt),ut=ot.document.createTextNode("");ct.observe(ut,{characterData:!0}),st=function(){ut.data=lt=++lt%2}}else if(!ot.setImmediate&&typeof ot.MessageChannel<"u"){var dt=new ot.MessageChannel;dt.port1.onmessage=mt,st=function(){dt.port2.postMessage(0)}}else"document"in ot&&"onreadystatechange"in ot.document.createElement("script")?st=function(){var gt=ot.document.createElement("script");gt.onreadystatechange=function(){mt(),gt.onreadystatechange=null,gt.parentNode.removeChild(gt),gt=null},ot.document.documentElement.appendChild(gt)}:st=function(){setTimeout(mt,0)};var ft,pt=[];function mt(){ft=!0;for(var gt,vt,yt=pt.length;yt;){for(vt=pt,pt=[],gt=-1;++gt<yt;)vt[gt]();yt=pt.length}ft=!1}nt.exports=ht;function ht(gt){pt.push(gt)===1&&!ft&&st()}}).call(this,typeof commonjsGlobal$4<"u"?commonjsGlobal$4:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(rt,nt,it){var ot=rt(1);function at(){}var st={},lt=["REJECTED"],ct=["FULFILLED"],ut=["PENDING"];nt.exports=dt;function dt($t){if(typeof $t!="function")throw new TypeError("resolver must be a function");this.state=ut,this.queue=[],this.outcome=void 0,$t!==at&&ht(this,$t)}dt.prototype.catch=function($t){return this.then(null,$t)},dt.prototype.then=function($t,Tt){if(typeof $t!="function"&&this.state===ct||typeof Tt!="function"&&this.state===lt)return this;var wt=new this.constructor(at);if(this.state!==ut){var At=this.state===ct?$t:Tt;pt(wt,At,this.outcome)}else this.queue.push(new ft(wt,$t,Tt));return wt};function ft($t,Tt,wt){this.promise=$t,typeof Tt=="function"&&(this.onFulfilled=Tt,this.callFulfilled=this.otherCallFulfilled),typeof wt=="function"&&(this.onRejected=wt,this.callRejected=this.otherCallRejected)}ft.prototype.callFulfilled=function($t){st.resolve(this.promise,$t)},ft.prototype.otherCallFulfilled=function($t){pt(this.promise,this.onFulfilled,$t)},ft.prototype.callRejected=function($t){st.reject(this.promise,$t)},ft.prototype.otherCallRejected=function($t){pt(this.promise,this.onRejected,$t)};function pt($t,Tt,wt){ot(function(){var At;try{At=Tt(wt)}catch(Rt){return st.reject($t,Rt)}At===$t?st.reject($t,new TypeError("Cannot resolve promise with itself")):st.resolve($t,At)})}st.resolve=function($t,Tt){var wt=gt(mt,Tt);if(wt.status==="error")return st.reject($t,wt.value);var At=wt.value;if(At)ht($t,At);else{$t.state=ct,$t.outcome=Tt;for(var Rt=-1,It=$t.queue.length;++Rt<It;)$t.queue[Rt].callFulfilled(Tt)}return $t},st.reject=function($t,Tt){$t.state=lt,$t.outcome=Tt;for(var wt=-1,At=$t.queue.length;++wt<At;)$t.queue[wt].callRejected(Tt);return $t};function mt($t){var Tt=$t&&$t.then;if($t&&(typeof $t=="object"||typeof $t=="function")&&typeof Tt=="function")return function(){Tt.apply($t,arguments)}}function ht($t,Tt){var wt=!1;function At(Pt){wt||(wt=!0,st.reject($t,Pt))}function Rt(Pt){wt||(wt=!0,st.resolve($t,Pt))}function It(){Tt(Rt,At)}var Lt=gt(It);Lt.status==="error"&&At(Lt.value)}function gt($t,Tt){var wt={};try{wt.value=$t(Tt),wt.status="success"}catch(At){wt.status="error",wt.value=At}return wt}dt.resolve=vt;function vt($t){return $t instanceof this?$t:st.resolve(new this(at),$t)}dt.reject=yt;function yt($t){var Tt=new this(at);return st.reject(Tt,$t)}dt.all=bt;function bt($t){var Tt=this;if(Object.prototype.toString.call($t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var wt=$t.length,At=!1;if(!wt)return this.resolve([]);for(var Rt=new Array(wt),It=0,Lt=-1,Pt=new this(at);++Lt<wt;)Nt($t[Lt],Lt);return Pt;function Nt(Ot,Bt){Tt.resolve(Ot).then(zt,function(Vt){At||(At=!0,st.reject(Pt,Vt))});function zt(Vt){Rt[Bt]=Vt,++It===wt&&!At&&(At=!0,st.resolve(Pt,Rt))}}}dt.race=xt;function xt($t){var Tt=this;if(Object.prototype.toString.call($t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var wt=$t.length,At=!1;if(!wt)return this.resolve([]);for(var Rt=-1,It=new this(at);++Rt<wt;)Lt($t[Rt]);return It;function Lt(Pt){Tt.resolve(Pt).then(function(Nt){At||(At=!0,st.resolve(It,Nt))},function(Nt){At||(At=!0,st.reject(It,Nt))})}}},{1:1}],3:[function(rt,nt,it){(function(ot){typeof ot.Promise!="function"&&(ot.Promise=rt(2))}).call(this,typeof commonjsGlobal$4<"u"?commonjsGlobal$4:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(rt,nt,it){var ot=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ur){return typeof ur}:function(ur){return ur&&typeof Symbol=="function"&&ur.constructor===Symbol&&ur!==Symbol.prototype?"symbol":typeof ur};function at(ur,Tr){if(!(ur instanceof Tr))throw new TypeError("Cannot call a class as a function")}function st(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var lt=st();function ct(){try{if(!lt||!lt.open)return!1;var ur=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),Tr=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!ur||Tr)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function ut(ur,Tr){ur=ur||[],Tr=Tr||{};try{return new Blob(ur,Tr)}catch(wr){if(wr.name!=="TypeError")throw wr;for(var _r=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,Ir=new _r,Pr=0;Pr<ur.length;Pr+=1)Ir.append(ur[Pr]);return Ir.getBlob(Tr.type)}}typeof Promise>"u"&&rt(3);var dt=Promise;function ft(ur,Tr){Tr&&ur.then(function(_r){Tr(null,_r)},function(_r){Tr(_r)})}function pt(ur,Tr,_r){typeof Tr=="function"&&ur.then(Tr),typeof _r=="function"&&ur.catch(_r)}function mt(ur){return typeof ur!="string"&&(console.warn(ur+" used as a key, but it is not a string."),ur=String(ur)),ur}function ht(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var gt="local-forage-detect-blob-support",vt=void 0,yt={},bt=Object.prototype.toString,xt="readonly",$t="readwrite";function Tt(ur){for(var Tr=ur.length,_r=new ArrayBuffer(Tr),Ir=new Uint8Array(_r),Pr=0;Pr<Tr;Pr++)Ir[Pr]=ur.charCodeAt(Pr);return _r}function wt(ur){return new dt(function(Tr){var _r=ur.transaction(gt,$t),Ir=ut([""]);_r.objectStore(gt).put(Ir,"key"),_r.onabort=function(Pr){Pr.preventDefault(),Pr.stopPropagation(),Tr(!1)},_r.oncomplete=function(){var Pr=navigator.userAgent.match(/Chrome\/(\d+)/),wr=navigator.userAgent.match(/Edge\//);Tr(wr||!Pr||parseInt(Pr[1],10)>=43)}}).catch(function(){return!1})}function At(ur){return typeof vt=="boolean"?dt.resolve(vt):wt(ur).then(function(Tr){return vt=Tr,vt})}function Rt(ur){var Tr=yt[ur.name],_r={};_r.promise=new dt(function(Ir,Pr){_r.resolve=Ir,_r.reject=Pr}),Tr.deferredOperations.push(_r),Tr.dbReady?Tr.dbReady=Tr.dbReady.then(function(){return _r.promise}):Tr.dbReady=_r.promise}function It(ur){var Tr=yt[ur.name],_r=Tr.deferredOperations.pop();if(_r)return _r.resolve(),_r.promise}function Lt(ur,Tr){var _r=yt[ur.name],Ir=_r.deferredOperations.pop();if(Ir)return Ir.reject(Tr),Ir.promise}function Pt(ur,Tr){return new dt(function(_r,Ir){if(yt[ur.name]=yt[ur.name]||Ft(),ur.db)if(Tr)Rt(ur),ur.db.close();else return _r(ur.db);var Pr=[ur.name];Tr&&Pr.push(ur.version);var wr=lt.open.apply(lt,Pr);Tr&&(wr.onupgradeneeded=function(Kr){var Zr=wr.result;try{Zr.createObjectStore(ur.storeName),Kr.oldVersion<=1&&Zr.createObjectStore(gt)}catch(Qr){if(Qr.name==="ConstraintError")console.warn('The database "'+ur.name+'" has been upgraded from version '+Kr.oldVersion+" to version "+Kr.newVersion+', but the storage "'+ur.storeName+'" already exists.');else throw Qr}}),wr.onerror=function(Kr){Kr.preventDefault(),Ir(wr.error)},wr.onsuccess=function(){var Kr=wr.result;Kr.onversionchange=function(Zr){Zr.target.close()},_r(Kr),It(ur)}})}function Nt(ur){return Pt(ur,!1)}function Ot(ur){return Pt(ur,!0)}function Bt(ur,Tr){if(!ur.db)return!0;var _r=!ur.db.objectStoreNames.contains(ur.storeName),Ir=ur.version<ur.db.version,Pr=ur.version>ur.db.version;if(Ir&&(ur.version!==Tr&&console.warn('The database "'+ur.name+`" can't be downgraded from version `+ur.db.version+" to version "+ur.version+"."),ur.version=ur.db.version),Pr||_r){if(_r){var wr=ur.db.version+1;wr>ur.version&&(ur.version=wr)}return!0}return!1}function zt(ur){return new dt(function(Tr,_r){var Ir=new FileReader;Ir.onerror=_r,Ir.onloadend=function(Pr){var wr=btoa(Pr.target.result||"");Tr({__local_forage_encoded_blob:!0,data:wr,type:ur.type})},Ir.readAsBinaryString(ur)})}function Vt(ur){var Tr=Tt(atob(ur.data));return ut([Tr],{type:ur.type})}function Ut(ur){return ur&&ur.__local_forage_encoded_blob}function jt(ur){var Tr=this,_r=Tr._initReady().then(function(){var Ir=yt[Tr._dbInfo.name];if(Ir&&Ir.dbReady)return Ir.dbReady});return pt(_r,ur,ur),_r}function qt(ur){Rt(ur);for(var Tr=yt[ur.name],_r=Tr.forages,Ir=0;Ir<_r.length;Ir++){var Pr=_r[Ir];Pr._dbInfo.db&&(Pr._dbInfo.db.close(),Pr._dbInfo.db=null)}return ur.db=null,Nt(ur).then(function(wr){return ur.db=wr,Bt(ur)?Ot(ur):wr}).then(function(wr){ur.db=Tr.db=wr;for(var Kr=0;Kr<_r.length;Kr++)_r[Kr]._dbInfo.db=wr}).catch(function(wr){throw Lt(ur,wr),wr})}function Dt(ur,Tr,_r,Ir){Ir===void 0&&(Ir=1);try{var Pr=ur.db.transaction(ur.storeName,Tr);_r(null,Pr)}catch(wr){if(Ir>0&&(!ur.db||wr.name==="InvalidStateError"||wr.name==="NotFoundError"))return dt.resolve().then(function(){if(!ur.db||wr.name==="NotFoundError"&&!ur.db.objectStoreNames.contains(ur.storeName)&&ur.version<=ur.db.version)return ur.db&&(ur.version=ur.db.version+1),Ot(ur)}).then(function(){return qt(ur).then(function(){Dt(ur,Tr,_r,Ir-1)})}).catch(_r);_r(wr)}}function Ft(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Zt(ur){var Tr=this,_r={db:null};if(ur)for(var Ir in ur)_r[Ir]=ur[Ir];var Pr=yt[_r.name];Pr||(Pr=Ft(),yt[_r.name]=Pr),Pr.forages.push(Tr),Tr._initReady||(Tr._initReady=Tr.ready,Tr.ready=jt);var wr=[];function Kr(){return dt.resolve()}for(var Zr=0;Zr<Pr.forages.length;Zr++){var Qr=Pr.forages[Zr];Qr!==Tr&&wr.push(Qr._initReady().catch(Kr))}var cn=Pr.forages.slice(0);return dt.all(wr).then(function(){return _r.db=Pr.db,Nt(_r)}).then(function(sn){return _r.db=sn,Bt(_r,Tr._defaultConfig.version)?Ot(_r):sn}).then(function(sn){_r.db=Pr.db=sn,Tr._dbInfo=_r;for(var $n=0;$n<cn.length;$n++){var jn=cn[$n];jn!==Tr&&(jn._dbInfo.db=_r.db,jn._dbInfo.version=_r.version)}})}function Kt(ur,Tr){var _r=this;ur=mt(ur);var Ir=new dt(function(Pr,wr){_r.ready().then(function(){Dt(_r._dbInfo,xt,function(Kr,Zr){if(Kr)return wr(Kr);try{var Qr=Zr.objectStore(_r._dbInfo.storeName),cn=Qr.get(ur);cn.onsuccess=function(){var sn=cn.result;sn===void 0&&(sn=null),Ut(sn)&&(sn=Vt(sn)),Pr(sn)},cn.onerror=function(){wr(cn.error)}}catch(sn){wr(sn)}})}).catch(wr)});return ft(Ir,Tr),Ir}function ir(ur,Tr){var _r=this,Ir=new dt(function(Pr,wr){_r.ready().then(function(){Dt(_r._dbInfo,xt,function(Kr,Zr){if(Kr)return wr(Kr);try{var Qr=Zr.objectStore(_r._dbInfo.storeName),cn=Qr.openCursor(),sn=1;cn.onsuccess=function(){var $n=cn.result;if($n){var jn=$n.value;Ut(jn)&&(jn=Vt(jn));var Jn=ur(jn,$n.key,sn++);Jn!==void 0?Pr(Jn):$n.continue()}else Pr()},cn.onerror=function(){wr(cn.error)}}catch($n){wr($n)}})}).catch(wr)});return ft(Ir,Tr),Ir}function rr(ur,Tr,_r){var Ir=this;ur=mt(ur);var Pr=new dt(function(wr,Kr){var Zr;Ir.ready().then(function(){return Zr=Ir._dbInfo,bt.call(Tr)==="[object Blob]"?At(Zr.db).then(function(Qr){return Qr?Tr:zt(Tr)}):Tr}).then(function(Qr){Dt(Ir._dbInfo,$t,function(cn,sn){if(cn)return Kr(cn);try{var $n=sn.objectStore(Ir._dbInfo.storeName);Qr===null&&(Qr=void 0);var jn=$n.put(Qr,ur);sn.oncomplete=function(){Qr===void 0&&(Qr=null),wr(Qr)},sn.onabort=sn.onerror=function(){var Jn=jn.error?jn.error:jn.transaction.error;Kr(Jn)}}catch(Jn){Kr(Jn)}})}).catch(Kr)});return ft(Pr,_r),Pr}function mr(ur,Tr){var _r=this;ur=mt(ur);var Ir=new dt(function(Pr,wr){_r.ready().then(function(){Dt(_r._dbInfo,$t,function(Kr,Zr){if(Kr)return wr(Kr);try{var Qr=Zr.objectStore(_r._dbInfo.storeName),cn=Qr.delete(ur);Zr.oncomplete=function(){Pr()},Zr.onerror=function(){wr(cn.error)},Zr.onabort=function(){var sn=cn.error?cn.error:cn.transaction.error;wr(sn)}}catch(sn){wr(sn)}})}).catch(wr)});return ft(Ir,Tr),Ir}function sr(ur){var Tr=this,_r=new dt(function(Ir,Pr){Tr.ready().then(function(){Dt(Tr._dbInfo,$t,function(wr,Kr){if(wr)return Pr(wr);try{var Zr=Kr.objectStore(Tr._dbInfo.storeName),Qr=Zr.clear();Kr.oncomplete=function(){Ir()},Kr.onabort=Kr.onerror=function(){var cn=Qr.error?Qr.error:Qr.transaction.error;Pr(cn)}}catch(cn){Pr(cn)}})}).catch(Pr)});return ft(_r,ur),_r}function fr(ur){var Tr=this,_r=new dt(function(Ir,Pr){Tr.ready().then(function(){Dt(Tr._dbInfo,xt,function(wr,Kr){if(wr)return Pr(wr);try{var Zr=Kr.objectStore(Tr._dbInfo.storeName),Qr=Zr.count();Qr.onsuccess=function(){Ir(Qr.result)},Qr.onerror=function(){Pr(Qr.error)}}catch(cn){Pr(cn)}})}).catch(Pr)});return ft(_r,ur),_r}function pr(ur,Tr){var _r=this,Ir=new dt(function(Pr,wr){if(ur<0){Pr(null);return}_r.ready().then(function(){Dt(_r._dbInfo,xt,function(Kr,Zr){if(Kr)return wr(Kr);try{var Qr=Zr.objectStore(_r._dbInfo.storeName),cn=!1,sn=Qr.openKeyCursor();sn.onsuccess=function(){var $n=sn.result;if(!$n){Pr(null);return}ur===0||cn?Pr($n.key):(cn=!0,$n.advance(ur))},sn.onerror=function(){wr(sn.error)}}catch($n){wr($n)}})}).catch(wr)});return ft(Ir,Tr),Ir}function vr(ur){var Tr=this,_r=new dt(function(Ir,Pr){Tr.ready().then(function(){Dt(Tr._dbInfo,xt,function(wr,Kr){if(wr)return Pr(wr);try{var Zr=Kr.objectStore(Tr._dbInfo.storeName),Qr=Zr.openKeyCursor(),cn=[];Qr.onsuccess=function(){var sn=Qr.result;if(!sn){Ir(cn);return}cn.push(sn.key),sn.continue()},Qr.onerror=function(){Pr(Qr.error)}}catch(sn){Pr(sn)}})}).catch(Pr)});return ft(_r,ur),_r}function dr(ur,Tr){Tr=ht.apply(this,arguments);var _r=this.config();ur=typeof ur!="function"&&ur||{},ur.name||(ur.name=ur.name||_r.name,ur.storeName=ur.storeName||_r.storeName);var Ir=this,Pr;if(!ur.name)Pr=dt.reject("Invalid arguments");else{var wr=ur.name===_r.name&&Ir._dbInfo.db,Kr=wr?dt.resolve(Ir._dbInfo.db):Nt(ur).then(function(Zr){var Qr=yt[ur.name],cn=Qr.forages;Qr.db=Zr;for(var sn=0;sn<cn.length;sn++)cn[sn]._dbInfo.db=Zr;return Zr});ur.storeName?Pr=Kr.then(function(Zr){if(Zr.objectStoreNames.contains(ur.storeName)){var Qr=Zr.version+1;Rt(ur);var cn=yt[ur.name],sn=cn.forages;Zr.close();for(var $n=0;$n<sn.length;$n++){var jn=sn[$n];jn._dbInfo.db=null,jn._dbInfo.version=Qr}var Jn=new dt(function(Kn,eo){var _i=lt.open(ur.name,Qr);_i.onerror=function(uo){var as=_i.result;as.close(),eo(uo)},_i.onupgradeneeded=function(){var uo=_i.result;uo.deleteObjectStore(ur.storeName)},_i.onsuccess=function(){var uo=_i.result;uo.close(),Kn(uo)}});return Jn.then(function(Kn){cn.db=Kn;for(var eo=0;eo<sn.length;eo++){var _i=sn[eo];_i._dbInfo.db=Kn,It(_i._dbInfo)}}).catch(function(Kn){throw(Lt(ur,Kn)||dt.resolve()).catch(function(){}),Kn})}}):Pr=Kr.then(function(Zr){Rt(ur);var Qr=yt[ur.name],cn=Qr.forages;Zr.close();for(var sn=0;sn<cn.length;sn++){var $n=cn[sn];$n._dbInfo.db=null}var jn=new dt(function(Jn,Kn){var eo=lt.deleteDatabase(ur.name);eo.onerror=function(){var _i=eo.result;_i&&_i.close(),Kn(eo.error)},eo.onblocked=function(){console.warn('dropInstance blocked for database "'+ur.name+'" until all open connections are closed')},eo.onsuccess=function(){var _i=eo.result;_i&&_i.close(),Jn(_i)}});return jn.then(function(Jn){Qr.db=Jn;for(var Kn=0;Kn<cn.length;Kn++){var eo=cn[Kn];It(eo._dbInfo)}}).catch(function(Jn){throw(Lt(ur,Jn)||dt.resolve()).catch(function(){}),Jn})})}return ft(Pr,Tr),Pr}var xr={_driver:"asyncStorage",_initStorage:Zt,_support:ct(),iterate:ir,getItem:Kt,setItem:rr,removeItem:mr,clear:sr,length:fr,key:pr,keys:vr,dropInstance:dr};function Gt(){return typeof openDatabase=="function"}var Wt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",nr="~~local_forage_type~",Qt=/^~~local_forage_type~([^~]+)~/,Jt="__lfsc__:",ar=Jt.length,cr="arbf",lr="blob",Yt="si08",Xt="ui08",tr="uic8",or="si16",br="si32",Sr="ur16",yr="ui32",hr="fl32",$r="fl64",Mr=ar+cr.length,Ar=Object.prototype.toString;function Fr(ur){var Tr=ur.length*.75,_r=ur.length,Ir,Pr=0,wr,Kr,Zr,Qr;ur[ur.length-1]==="="&&(Tr--,ur[ur.length-2]==="="&&Tr--);var cn=new ArrayBuffer(Tr),sn=new Uint8Array(cn);for(Ir=0;Ir<_r;Ir+=4)wr=Wt.indexOf(ur[Ir]),Kr=Wt.indexOf(ur[Ir+1]),Zr=Wt.indexOf(ur[Ir+2]),Qr=Wt.indexOf(ur[Ir+3]),sn[Pr++]=wr<<2|Kr>>4,sn[Pr++]=(Kr&15)<<4|Zr>>2,sn[Pr++]=(Zr&3)<<6|Qr&63;return cn}function zr(ur){var Tr=new Uint8Array(ur),_r="",Ir;for(Ir=0;Ir<Tr.length;Ir+=3)_r+=Wt[Tr[Ir]>>2],_r+=Wt[(Tr[Ir]&3)<<4|Tr[Ir+1]>>4],_r+=Wt[(Tr[Ir+1]&15)<<2|Tr[Ir+2]>>6],_r+=Wt[Tr[Ir+2]&63];return Tr.length%3===2?_r=_r.substring(0,_r.length-1)+"=":Tr.length%3===1&&(_r=_r.substring(0,_r.length-2)+"=="),_r}function jr(ur,Tr){var _r="";if(ur&&(_r=Ar.call(ur)),ur&&(_r==="[object ArrayBuffer]"||ur.buffer&&Ar.call(ur.buffer)==="[object ArrayBuffer]")){var Ir,Pr=Jt;ur instanceof ArrayBuffer?(Ir=ur,Pr+=cr):(Ir=ur.buffer,_r==="[object Int8Array]"?Pr+=Yt:_r==="[object Uint8Array]"?Pr+=Xt:_r==="[object Uint8ClampedArray]"?Pr+=tr:_r==="[object Int16Array]"?Pr+=or:_r==="[object Uint16Array]"?Pr+=Sr:_r==="[object Int32Array]"?Pr+=br:_r==="[object Uint32Array]"?Pr+=yr:_r==="[object Float32Array]"?Pr+=hr:_r==="[object Float64Array]"?Pr+=$r:Tr(new Error("Failed to get type for BinaryArray"))),Tr(Pr+zr(Ir))}else if(_r==="[object Blob]"){var wr=new FileReader;wr.onload=function(){var Kr=nr+ur.type+"~"+zr(this.result);Tr(Jt+lr+Kr)},wr.readAsArrayBuffer(ur)}else try{Tr(JSON.stringify(ur))}catch(Kr){console.error("Couldn't convert value into a JSON string: ",ur),Tr(null,Kr)}}function Jr(ur){if(ur.substring(0,ar)!==Jt)return JSON.parse(ur);var Tr=ur.substring(Mr),_r=ur.substring(ar,Mr),Ir;if(_r===lr&&Qt.test(Tr)){var Pr=Tr.match(Qt);Ir=Pr[1],Tr=Tr.substring(Pr[0].length)}var wr=Fr(Tr);switch(_r){case cr:return wr;case lr:return ut([wr],{type:Ir});case Yt:return new Int8Array(wr);case Xt:return new Uint8Array(wr);case tr:return new Uint8ClampedArray(wr);case or:return new Int16Array(wr);case Sr:return new Uint16Array(wr);case br:return new Int32Array(wr);case yr:return new Uint32Array(wr);case hr:return new Float32Array(wr);case $r:return new Float64Array(wr);default:throw new Error("Unkown type: "+_r)}}var gn={serialize:jr,deserialize:Jr,stringToBuffer:Fr,bufferToString:zr};function mn(ur,Tr,_r,Ir){ur.executeSql("CREATE TABLE IF NOT EXISTS "+Tr.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],_r,Ir)}function Cr(ur){var Tr=this,_r={db:null};if(ur)for(var Ir in ur)_r[Ir]=typeof ur[Ir]!="string"?ur[Ir].toString():ur[Ir];var Pr=new dt(function(wr,Kr){try{_r.db=openDatabase(_r.name,String(_r.version),_r.description,_r.size)}catch(Zr){return Kr(Zr)}_r.db.transaction(function(Zr){mn(Zr,_r,function(){Tr._dbInfo=_r,wr()},function(Qr,cn){Kr(cn)})},Kr)});return _r.serializer=gn,Pr}function Dr(ur,Tr,_r,Ir,Pr,wr){ur.executeSql(_r,Ir,Pr,function(Kr,Zr){Zr.code===Zr.SYNTAX_ERR?Kr.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[Tr.storeName],function(Qr,cn){cn.rows.length?wr(Qr,Zr):mn(Qr,Tr,function(){Qr.executeSql(_r,Ir,Pr,wr)},wr)},wr):wr(Kr,Zr)},wr)}function Hr(ur,Tr){var _r=this;ur=mt(ur);var Ir=new dt(function(Pr,wr){_r.ready().then(function(){var Kr=_r._dbInfo;Kr.db.transaction(function(Zr){Dr(Zr,Kr,"SELECT * FROM "+Kr.storeName+" WHERE key = ? LIMIT 1",[ur],function(Qr,cn){var sn=cn.rows.length?cn.rows.item(0).value:null;sn&&(sn=Kr.serializer.deserialize(sn)),Pr(sn)},function(Qr,cn){wr(cn)})})}).catch(wr)});return ft(Ir,Tr),Ir}function Yr(ur,Tr){var _r=this,Ir=new dt(function(Pr,wr){_r.ready().then(function(){var Kr=_r._dbInfo;Kr.db.transaction(function(Zr){Dr(Zr,Kr,"SELECT * FROM "+Kr.storeName,[],function(Qr,cn){for(var sn=cn.rows,$n=sn.length,jn=0;jn<$n;jn++){var Jn=sn.item(jn),Kn=Jn.value;if(Kn&&(Kn=Kr.serializer.deserialize(Kn)),Kn=ur(Kn,Jn.key,jn+1),Kn!==void 0){Pr(Kn);return}}Pr()},function(Qr,cn){wr(cn)})})}).catch(wr)});return ft(Ir,Tr),Ir}function dn(ur,Tr,_r,Ir){var Pr=this;ur=mt(ur);var wr=new dt(function(Kr,Zr){Pr.ready().then(function(){Tr===void 0&&(Tr=null);var Qr=Tr,cn=Pr._dbInfo;cn.serializer.serialize(Tr,function(sn,$n){$n?Zr($n):cn.db.transaction(function(jn){Dr(jn,cn,"INSERT OR REPLACE INTO "+cn.storeName+" (key, value) VALUES (?, ?)",[ur,sn],function(){Kr(Qr)},function(Jn,Kn){Zr(Kn)})},function(jn){if(jn.code===jn.QUOTA_ERR){if(Ir>0){Kr(dn.apply(Pr,[ur,Qr,_r,Ir-1]));return}Zr(jn)}})})}).catch(Zr)});return ft(wr,_r),wr}function On(ur,Tr,_r){return dn.apply(this,[ur,Tr,_r,1])}function Dn(ur,Tr){var _r=this;ur=mt(ur);var Ir=new dt(function(Pr,wr){_r.ready().then(function(){var Kr=_r._dbInfo;Kr.db.transaction(function(Zr){Dr(Zr,Kr,"DELETE FROM "+Kr.storeName+" WHERE key = ?",[ur],function(){Pr()},function(Qr,cn){wr(cn)})})}).catch(wr)});return ft(Ir,Tr),Ir}function Bn(ur){var Tr=this,_r=new dt(function(Ir,Pr){Tr.ready().then(function(){var wr=Tr._dbInfo;wr.db.transaction(function(Kr){Dr(Kr,wr,"DELETE FROM "+wr.storeName,[],function(){Ir()},function(Zr,Qr){Pr(Qr)})})}).catch(Pr)});return ft(_r,ur),_r}function Fn(ur){var Tr=this,_r=new dt(function(Ir,Pr){Tr.ready().then(function(){var wr=Tr._dbInfo;wr.db.transaction(function(Kr){Dr(Kr,wr,"SELECT COUNT(key) as c FROM "+wr.storeName,[],function(Zr,Qr){var cn=Qr.rows.item(0).c;Ir(cn)},function(Zr,Qr){Pr(Qr)})})}).catch(Pr)});return ft(_r,ur),_r}function Mn(ur,Tr){var _r=this,Ir=new dt(function(Pr,wr){_r.ready().then(function(){var Kr=_r._dbInfo;Kr.db.transaction(function(Zr){Dr(Zr,Kr,"SELECT key FROM "+Kr.storeName+" WHERE id = ? LIMIT 1",[ur+1],function(Qr,cn){var sn=cn.rows.length?cn.rows.item(0).key:null;Pr(sn)},function(Qr,cn){wr(cn)})})}).catch(wr)});return ft(Ir,Tr),Ir}function Ln(ur){var Tr=this,_r=new dt(function(Ir,Pr){Tr.ready().then(function(){var wr=Tr._dbInfo;wr.db.transaction(function(Kr){Dr(Kr,wr,"SELECT key FROM "+wr.storeName,[],function(Zr,Qr){for(var cn=[],sn=0;sn<Qr.rows.length;sn++)cn.push(Qr.rows.item(sn).key);Ir(cn)},function(Zr,Qr){Pr(Qr)})})}).catch(Pr)});return ft(_r,ur),_r}function Rn(ur){return new dt(function(Tr,_r){ur.transaction(function(Ir){Ir.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(Pr,wr){for(var Kr=[],Zr=0;Zr<wr.rows.length;Zr++)Kr.push(wr.rows.item(Zr).name);Tr({db:ur,storeNames:Kr})},function(Pr,wr){_r(wr)})},function(Ir){_r(Ir)})})}function Qn(ur,Tr){Tr=ht.apply(this,arguments);var _r=this.config();ur=typeof ur!="function"&&ur||{},ur.name||(ur.name=ur.name||_r.name,ur.storeName=ur.storeName||_r.storeName);var Ir=this,Pr;return ur.name?Pr=new dt(function(wr){var Kr;ur.name===_r.name?Kr=Ir._dbInfo.db:Kr=openDatabase(ur.name,"","",0),ur.storeName?wr({db:Kr,storeNames:[ur.storeName]}):wr(Rn(Kr))}).then(function(wr){return new dt(function(Kr,Zr){wr.db.transaction(function(Qr){function cn(Jn){return new dt(function(Kn,eo){Qr.executeSql("DROP TABLE IF EXISTS "+Jn,[],function(){Kn()},function(_i,uo){eo(uo)})})}for(var sn=[],$n=0,jn=wr.storeNames.length;$n<jn;$n++)sn.push(cn(wr.storeNames[$n]));dt.all(sn).then(function(){Kr()}).catch(function(Jn){Zr(Jn)})},function(Qr){Zr(Qr)})})}):Pr=dt.reject("Invalid arguments"),ft(Pr,Tr),Pr}var Un={_driver:"webSQLStorage",_initStorage:Cr,_support:Gt(),iterate:Yr,getItem:Hr,setItem:On,removeItem:Dn,clear:Bn,length:Fn,key:Mn,keys:Ln,dropInstance:Qn};function yn(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function Tn(ur,Tr){var _r=ur.name+"/";return ur.storeName!==Tr.storeName&&(_r+=ur.storeName+"/"),_r}function gr(){var ur="_localforage_support_test";try{return localStorage.setItem(ur,!0),localStorage.removeItem(ur),!1}catch{return!0}}function kr(){return!gr()||localStorage.length>0}function Ur(ur){var Tr=this,_r={};if(ur)for(var Ir in ur)_r[Ir]=ur[Ir];return _r.keyPrefix=Tn(ur,Tr._defaultConfig),kr()?(Tr._dbInfo=_r,_r.serializer=gn,dt.resolve()):dt.reject()}function Lr(ur){var Tr=this,_r=Tr.ready().then(function(){for(var Ir=Tr._dbInfo.keyPrefix,Pr=localStorage.length-1;Pr>=0;Pr--){var wr=localStorage.key(Pr);wr.indexOf(Ir)===0&&localStorage.removeItem(wr)}});return ft(_r,ur),_r}function Vr(ur,Tr){var _r=this;ur=mt(ur);var Ir=_r.ready().then(function(){var Pr=_r._dbInfo,wr=localStorage.getItem(Pr.keyPrefix+ur);return wr&&(wr=Pr.serializer.deserialize(wr)),wr});return ft(Ir,Tr),Ir}function Or(ur,Tr){var _r=this,Ir=_r.ready().then(function(){for(var Pr=_r._dbInfo,wr=Pr.keyPrefix,Kr=wr.length,Zr=localStorage.length,Qr=1,cn=0;cn<Zr;cn++){var sn=localStorage.key(cn);if(sn.indexOf(wr)===0){var $n=localStorage.getItem(sn);if($n&&($n=Pr.serializer.deserialize($n)),$n=ur($n,sn.substring(Kr),Qr++),$n!==void 0)return $n}}});return ft(Ir,Tr),Ir}function Rr(ur,Tr){var _r=this,Ir=_r.ready().then(function(){var Pr=_r._dbInfo,wr;try{wr=localStorage.key(ur)}catch{wr=null}return wr&&(wr=wr.substring(Pr.keyPrefix.length)),wr});return ft(Ir,Tr),Ir}function Xr(ur){var Tr=this,_r=Tr.ready().then(function(){for(var Ir=Tr._dbInfo,Pr=localStorage.length,wr=[],Kr=0;Kr<Pr;Kr++){var Zr=localStorage.key(Kr);Zr.indexOf(Ir.keyPrefix)===0&&wr.push(Zr.substring(Ir.keyPrefix.length))}return wr});return ft(_r,ur),_r}function ln(ur){var Tr=this,_r=Tr.keys().then(function(Ir){return Ir.length});return ft(_r,ur),_r}function vn(ur,Tr){var _r=this;ur=mt(ur);var Ir=_r.ready().then(function(){var Pr=_r._dbInfo;localStorage.removeItem(Pr.keyPrefix+ur)});return ft(Ir,Tr),Ir}function Sn(ur,Tr,_r){var Ir=this;ur=mt(ur);var Pr=Ir.ready().then(function(){Tr===void 0&&(Tr=null);var wr=Tr;return new dt(function(Kr,Zr){var Qr=Ir._dbInfo;Qr.serializer.serialize(Tr,function(cn,sn){if(sn)Zr(sn);else try{localStorage.setItem(Qr.keyPrefix+ur,cn),Kr(wr)}catch($n){($n.name==="QuotaExceededError"||$n.name==="NS_ERROR_DOM_QUOTA_REACHED")&&Zr($n),Zr($n)}})})});return ft(Pr,_r),Pr}function Cn(ur,Tr){if(Tr=ht.apply(this,arguments),ur=typeof ur!="function"&&ur||{},!ur.name){var _r=this.config();ur.name=ur.name||_r.name,ur.storeName=ur.storeName||_r.storeName}var Ir=this,Pr;return ur.name?Pr=new dt(function(wr){ur.storeName?wr(Tn(ur,Ir._defaultConfig)):wr(ur.name+"/")}).then(function(wr){for(var Kr=localStorage.length-1;Kr>=0;Kr--){var Zr=localStorage.key(Kr);Zr.indexOf(wr)===0&&localStorage.removeItem(Zr)}}):Pr=dt.reject("Invalid arguments"),ft(Pr,Tr),Pr}var _n={_driver:"localStorageWrapper",_initStorage:Ur,_support:yn(),iterate:Or,getItem:Vr,setItem:Sn,removeItem:vn,clear:Lr,length:ln,key:Rr,keys:Xr,dropInstance:Cn},qn=function(Tr,_r){return Tr===_r||typeof Tr=="number"&&typeof _r=="number"&&isNaN(Tr)&&isNaN(_r)},Eo=function(Tr,_r){for(var Ir=Tr.length,Pr=0;Pr<Ir;){if(qn(Tr[Pr],_r))return!0;Pr++}return!1},wo=Array.isArray||function(ur){return Object.prototype.toString.call(ur)==="[object Array]"},hn={},Nn={},Ao={INDEXEDDB:xr,WEBSQL:Un,LOCALSTORAGE:_n},ro=[Ao.INDEXEDDB._driver,Ao.WEBSQL._driver,Ao.LOCALSTORAGE._driver],So=["dropInstance"],Bo=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(So),mo={description:"",driver:ro.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function go(ur,Tr){ur[Tr]=function(){var _r=arguments;return ur.ready().then(function(){return ur[Tr].apply(ur,_r)})}}function kn(){for(var ur=1;ur<arguments.length;ur++){var Tr=arguments[ur];if(Tr)for(var _r in Tr)Tr.hasOwnProperty(_r)&&(wo(Tr[_r])?arguments[0][_r]=Tr[_r].slice():arguments[0][_r]=Tr[_r])}return arguments[0]}var Hn=function(){function ur(Tr){at(this,ur);for(var _r in Ao)if(Ao.hasOwnProperty(_r)){var Ir=Ao[_r],Pr=Ir._driver;this[_r]=Pr,hn[Pr]||this.defineDriver(Ir)}this._defaultConfig=kn({},mo),this._config=kn({},this._defaultConfig,Tr),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return ur.prototype.config=function(_r){if((typeof _r>"u"?"undefined":ot(_r))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var Ir in _r){if(Ir==="storeName"&&(_r[Ir]=_r[Ir].replace(/\W/g,"_")),Ir==="version"&&typeof _r[Ir]!="number")return new Error("Database version must be a number.");this._config[Ir]=_r[Ir]}return"driver"in _r&&_r.driver?this.setDriver(this._config.driver):!0}else return typeof _r=="string"?this._config[_r]:this._config},ur.prototype.defineDriver=function(_r,Ir,Pr){var wr=new dt(function(Kr,Zr){try{var Qr=_r._driver,cn=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!_r._driver){Zr(cn);return}for(var sn=Bo.concat("_initStorage"),$n=0,jn=sn.length;$n<jn;$n++){var Jn=sn[$n],Kn=!Eo(So,Jn);if((Kn||_r[Jn])&&typeof _r[Jn]!="function"){Zr(cn);return}}var eo=function(){for(var as=function(ls){return function(){var Yo=new Error("Method "+ls+" is not implemented by the current driver"),Vn=dt.reject(Yo);return ft(Vn,arguments[arguments.length-1]),Vn}},ms=0,xa=So.length;ms<xa;ms++){var ss=So[ms];_r[ss]||(_r[ss]=as(ss))}};eo();var _i=function(as){hn[Qr]&&console.info("Redefining LocalForage driver: "+Qr),hn[Qr]=_r,Nn[Qr]=as,Kr()};"_support"in _r?_r._support&&typeof _r._support=="function"?_r._support().then(_i,Zr):_i(!!_r._support):_i(!0)}catch(uo){Zr(uo)}});return pt(wr,Ir,Pr),wr},ur.prototype.driver=function(){return this._driver||null},ur.prototype.getDriver=function(_r,Ir,Pr){var wr=hn[_r]?dt.resolve(hn[_r]):dt.reject(new Error("Driver not found."));return pt(wr,Ir,Pr),wr},ur.prototype.getSerializer=function(_r){var Ir=dt.resolve(gn);return pt(Ir,_r),Ir},ur.prototype.ready=function(_r){var Ir=this,Pr=Ir._driverSet.then(function(){return Ir._ready===null&&(Ir._ready=Ir._initDriver()),Ir._ready});return pt(Pr,_r,_r),Pr},ur.prototype.setDriver=function(_r,Ir,Pr){var wr=this;wo(_r)||(_r=[_r]);var Kr=this._getSupportedDrivers(_r);function Zr(){wr._config.driver=wr.driver()}function Qr($n){return wr._extend($n),Zr(),wr._ready=wr._initStorage(wr._config),wr._ready}function cn($n){return function(){var jn=0;function Jn(){for(;jn<$n.length;){var Kn=$n[jn];return jn++,wr._dbInfo=null,wr._ready=null,wr.getDriver(Kn).then(Qr).catch(Jn)}Zr();var eo=new Error("No available storage method found.");return wr._driverSet=dt.reject(eo),wr._driverSet}return Jn()}}var sn=this._driverSet!==null?this._driverSet.catch(function(){return dt.resolve()}):dt.resolve();return this._driverSet=sn.then(function(){var $n=Kr[0];return wr._dbInfo=null,wr._ready=null,wr.getDriver($n).then(function(jn){wr._driver=jn._driver,Zr(),wr._wrapLibraryMethodsWithReady(),wr._initDriver=cn(Kr)})}).catch(function(){Zr();var $n=new Error("No available storage method found.");return wr._driverSet=dt.reject($n),wr._driverSet}),pt(this._driverSet,Ir,Pr),this._driverSet},ur.prototype.supports=function(_r){return!!Nn[_r]},ur.prototype._extend=function(_r){kn(this,_r)},ur.prototype._getSupportedDrivers=function(_r){for(var Ir=[],Pr=0,wr=_r.length;Pr<wr;Pr++){var Kr=_r[Pr];this.supports(Kr)&&Ir.push(Kr)}return Ir},ur.prototype._wrapLibraryMethodsWithReady=function(){for(var _r=0,Ir=Bo.length;_r<Ir;_r++)go(this,Bo[_r])},ur.prototype.createInstance=function(_r){return new ur(_r)},ur}(),Co=new Hn;nt.exports=Co},{3:3}]},{},[4])(4)})})(localforage);const localForage=localforageExports,projectName="BLITZ_RHYTHM";function warn$6(tt){console.warn(`[${projectName} warn]:${tt}`)}const getConfigFileName=tt=>`__PRODUCTION__${tt.VITE_GLOB_APP_SHORT_NAME||"__APP"}__CONF__`.toUpperCase().replace(/\s/g,"");function getAppEnvConfig(){const tt=getConfigFileName({VITE_PORT:"3200",VITE_GLOB_APP_TITLE:"BLITZ_RHYTHM",VITE_GLOB_APP_SHORT_NAME:"BLITZ_RHYTHM",VITE_USE_MOCK:"false",VITE_PUBLIC_PATH:"/",VITE_DROP_CONSOLE:"true",VITE_BUILD_COMPRESS:"none",VITE_BUILD_COMPRESS_DELETE_ORIGIN_FILE:"false",VITE_GLOB_API_URL:"",VITE_GLOB_UPLOAD_URL:"/upload",VITE_GLOB_API_URL_PREFIX:"",VITE_USE_IMAGEMIN:"true",VITE_USE_PWA:"false",VITE_LEGACY:"false",VITE_USER_NODE_ENV:"production",BASE_URL:"/",MODE:"test",DEV:!1,PROD:!0}),et=window[tt],{VITE_GLOB_APP_TITLE:rt,VITE_GLOB_API_URL:nt,VITE_GLOB_APP_SHORT_NAME:it,VITE_GLOB_API_URL_PREFIX:ot,VITE_GLOB_UPLOAD_URL:at}=et;return/^[a-zA-Z\_]*$/.test(it)||warn$6("VITE_GLOB_APP_SHORT_NAME Variables can only be characters/underscores, please modify in the environment variables and re-running."),{VITE_GLOB_APP_TITLE:rt,VITE_GLOB_API_URL:nt,VITE_GLOB_APP_SHORT_NAME:it,VITE_GLOB_API_URL_PREFIX:ot,VITE_GLOB_UPLOAD_URL:at}}function isDevMode(){return!1}const{VITE_GLOB_APP_SHORT_NAME:VITE_GLOB_APP_SHORT_NAME$1}=getAppEnvConfig(),initialStore=tt=>{const et=localForage.createInstance({name:`${VITE_GLOB_APP_SHORT_NAME$1} ${tt}`});et.config({driver:localForage.INDEXEDDB,name:`${VITE_GLOB_APP_SHORT_NAME$1}-${tt}`});const rt=(ut,dt)=>et.setItem(ut,dt).then(()=>[ut,dt]),nt=ut=>et.getItem(ut),it=ut=>et.removeItem(ut),ot=ut=>Promise.all(ut.map(dt=>et.removeItem(dt))),at=()=>et.clear(),st=(ut="")=>{const dt=defaultCoverArtPath.split("/"),ft=dt[dt.length-1];return fetch(defaultCoverArtPath).then(pt=>pt.blob()).then(pt=>rt(ut+ft,pt))},lt=(ut,dt,ft)=>{if(dt){const pt=getExtension(ft||(dt==null?void 0:dt.name)||(dt==null?void 0:dt.type),"unknown"),mt=getFilenameForThing(ut,THING_TYPE.COVER_ART,{extension:pt});return rt(mt,dt)}else return st(ut)},ct=(ut,dt,ft)=>{if(dt){if(isUnDef(ft))throw new Error("You must supply an original filename when saving cover art as a Blob instead of a File.");const pt=getExtension(ft,"unknown"),mt=getFilenameForThing(ut,THING_TYPE.COVER_ART,{extension:pt});return rt(mt,dt)}else return st()};return{saveFile:rt,getFile:nt,deleteFile:it,deleteFiles:ot,clearFiles:at,getIterate:et.iterate,saveSongFile:async function(ut,dt){const ft=getFilenameForThing(ut,THING_TYPE.SONG);return rt(ft,dt)},getOfficialFile:async function(ut,dt=THING_TYPE.SONG){const ft=getFilenameForThing(ut,dt);return nt(ft)},saveLocalCoverArtFile:lt,saveCoverArtFromBlob:ct}},beatMapFiles=initialStore("files"),officialFiles=initialStore("official"),{saveFile,getFile,deleteFile,deleteFiles,clearFiles,saveSongFile}=beatMapFiles,getExtension=(tt,et="")=>{const rt=tt.match(/\.[a-zA-Z]+$/),nt=tt.match(/\/[a-zA-Z]+$/);let it=rt||nt;return it?it[0].slice(1):et},getFilenameForThing=(tt,et,rt={})=>{if(!tt)throw new Error("Unrecognized songId: "+tt);switch(et){case THING_TYPE.SONG:return`${tt}_song.ogg`;case THING_TYPE.COVER_ART:{if(!rt.extension)throw new Error("Must supply a file extension for cover art.");return`${tt}_cover.${rt.extension}`}case THING_TYPE.INFO:return`${tt}_Info.dat`;case THING_TYPE.BEAT_MAP:{if(!rt.difficulty)throw new Error("Must supply a difficulty for beatmaps.");const nt=rt.mode===NOTE_MODE.STANDARD?"":"_"+rt.mode;return`${tt}_${rt.difficulty}${nt}.dat`}default:throw new Error("Unrecognized type: "+et)}},getBeatmap=(tt,et,rt)=>{const nt=getFilenameForThing(tt,BEAT_MAP,{difficulty:et,mode:rt});return beatMapFiles.getFile(nt).then(it=>{if(!it)return null;if(isString$b(it))return JSON.parse(it);throw new Error("Expected beatmapFilename to load a string, loaded: "+typeof it)})},getDefaultCoverArtPathBlod=async()=>window.fetch(defaultCoverArtPath).then(tt=>tt.blob()),saveBeatmap=(tt,et,rt,nt)=>{const it=getFilenameForThing(tt,BEAT_MAP,{difficulty:et,mode:nt});let ot=rt;return isObject$l(rt)&&(ot=JSON.stringify(rt)),beatMapFiles.saveFile(it,ot)},saveInfoDat=(tt,et)=>{const rt=getFilenameForThing(tt,THING_TYPE.INFO);return beatMapFiles.saveFile(rt,et)},getInfoDat=tt=>{const et=getFilenameForThing(tt,THING_TYPE.INFO);return beatMapFiles.getFile(et)},deleteAllSongFiles=async tt=>{const{id:et,songFilename:rt,coverArtFilename:nt}=tt,it=getFilenameForThing(et,THING_TYPE.INFO);try{await allNoteModeAction(getNoteModeName(),async(ot,at)=>{const st=tt[at];if(!st)return;const ct=Object.keys(st).map(ut=>getFilenameForThing(et,BEAT_MAP,{difficulty:ut,mode:ot}));await deleteFiles(ct)}),await beatMapFiles.deleteFile(rt),await beatMapFiles.deleteFile(nt),await beatMapFiles.deleteFile(it),console.info(`Successfully deleted all files related to ${et}.`)}catch(ot){console.error(`Could not delete all files for song:${et}`,ot)}},getFileForTypeName=async tt=>await beatMapFiles.getFile(tt)||await officialFiles.getFile(tt),getDevicePixelRatioValue=()=>isUnDef(window)||isUnDef(window.devicePixelRatio)?1:window.devicePixelRatio,getCanvasStyleInfo=(tt,et)=>{const rt=getDevicePixelRatioValue();return{style:{width:tt,height:et},width:tt*rt,height:et*rt}},nudgeEvents=(tt,et,rt)=>{const nt=tt===NUDGE.FORWARDS?1:-1;return rt.forEach(it=>{it.selected&&(it.beatNum+=et*nt)})},convertLightingEventToJson=tt=>{const et=tt.colorType?LIGHT_EVENT_TYPES[tt.colorType][tt.type]:0;return{_time:tt.beatNum,_type:TRACK_ID_MAP[tt.trackId],_value:et}},convertLaserSpeedEventToJson=tt=>{const et=TRACK_ID_MAP[tt.trackId];return{_time:tt.beatNum,_type:et,_value:tt.laserSpeed??0}},convertEventsToExportableJson=tt=>tt.map(et=>isSpeedIdEvent(et.trackId)?convertLaserSpeedEventToJson(et):convertLightingEventToJson(et)),getLightingType=tt=>{let et="";return Object.values(LIGHT_EVENT_TYPES).forEach(nt=>{for(let it in nt){const ot=nt[it];if(tt===ot){et=it;break}}if(et)return et}),et},convertEventsToRedux=tt=>tt.flatMap(et=>{const rt=buildUUID();let nt;for(let ot in TRACK_ID_MAP){let at=TRACK_ID_MAP[ot];if(et._type===at){nt=ot;break}}const it=et._time;if(isString$b(nt)&&LIGHT_EVENT_ARR.includes(nt)){const ot=Object.values(LIGHT_EVENT_TYPES.blue),at=getLightingType(et._value);if(!at)return[];const st=et._value===0?void 0:ot.includes(et._value)?"blue":"red";return[{id:rt,trackId:nt,beatNum:it,type:at,colorType:st}]}else if(isString$b(nt)&&isSpeedIdEvent(nt)){const ot=et._value||0;return[{id:rt,trackId:nt,beatNum:it,laserSpeed:ot}]}else return console.warn("Unrecognized event track:",JSON.stringify(et,null,2)),[]}),isSpeedIdEvent=tt=>SPEED_EVENT_ARR.includes(tt),MARK_COLORS=[{background:colors$3.pink[300],text:"white"},{background:colors$3.yellow[300],text:"black"},{background:colors$3.purple[300],text:"white"},{background:colors$3.green[300],text:"black"},{background:colors$3.blue[300],text:"white"},{background:colors$3.orange[300],text:"black"}],getNewMarkColor=tt=>tt.length>=6?MARK_COLORS[tt.length%MARK_COLORS.length]:MARK_COLORS.find(rt=>tt.every(it=>it.color.background!==rt.background)),convertMarksToExportableJson=tt=>(tt||[]).map(et=>({_time:et.beatNum,_name:et.name,_meta:{color:et.color}})),convertMarksToRedux=tt=>(tt||[]).map((et,rt)=>{let nt=et._meta&&et._meta.color;return nt||(nt=MARK_COLORS[rt%MARK_COLORS.length]),{beatNum:et._time,name:et._name,color:nt}}),findNoteByProperties=(tt,{time:et,lineLayer:rt,lineIndex:nt})=>tt.find(it=>it._time===et&&it._lineLayer===rt&&it._lineIndex===nt),findNoteIndexByProperties=(tt,{time:et,lineLayer:rt,lineIndex:nt})=>tt.findIndex(it=>it._time===et&&it._lineLayer===rt&&it._lineIndex===nt),getHorizontallyFlippedCutDirection=tt=>{switch(tt){case NOTE_ARROW.UP:case NOTE_ARROW.CIRCLE:case NOTE_ARROW.DOWN:return tt;case NOTE_ARROW.UP_LEFT:case NOTE_ARROW.LEFT:case NOTE_ARROW.DOWN_LEFT:return tt+1;case NOTE_ARROW.UP_RIGHT:case NOTE_ARROW.RIGHT:case NOTE_ARROW.DOWN_RIGHT:return tt-1;default:throw new Error("Unrecognized cut direction: "+tt)}},getVerticallyFlippedCutDirection=tt=>{switch(tt){case NOTE_ARROW.LEFT:case NOTE_ARROW.CIRCLE:case NOTE_ARROW.RIGHT:return tt;case NOTE_ARROW.UP_LEFT:case NOTE_ARROW.UP_RIGHT:return tt+2;case NOTE_ARROW.UP:return tt+1;case NOTE_ARROW.DOWN:return tt-1;case NOTE_ARROW.DOWN_LEFT:case NOTE_ARROW.DOWN_RIGHT:return tt-2;default:throw new Error("Unrecognized cut direction: "+tt)}},swapNotesHorizontally=tt=>tt.map(et=>{if(!et.selected)return et;const rt=isRingNoteFooterType(et._ringNoteType)?BOTTOMS_PLACEMENT_COLS-1-et._lineIndex:3-et._lineIndex,nt=et._type===0?1:et._type===1?0:et._type;let it={...et,_lineIndex:rt,_type:nt};if(et.hasOwnProperty("_cutDirection")){const ot=getHorizontallyFlippedCutDirection(et._cutDirection);Object.assign(it,{_cutDirection:ot})}return it}),swapNotesVertically=tt=>tt.map(et=>{if(!et.selected)return et;const rt=2-et._lineLayer,nt=getVerticallyFlippedCutDirection(et._cutDirection);return{...et,_lineLayer:rt,_cutDirection:nt}}),swapNotes=(tt,et)=>tt===SWAPS.HORIZONTAL?swapNotesHorizontally(et):swapNotesVertically(et),nudgeNotes=(tt,et,rt)=>{const nt=tt===NUDGE.FORWARDS?1:-1;return rt.map(it=>it.selected?{...it,_time:it._time+et*nt}:it)},calculateNoteDensity=(tt,et,rt)=>tt===0?0:tt/et*(rt/60),convertNotesFromMappingExtensions=tt=>tt.map(et=>{const rt=et._lineIndex<0?et._lineIndex/1e3+1:et._lineIndex/1e3-1,nt=et._lineLayer<0?et._lineLayer/1e3+1:et._lineLayer/1e3-1;return{...et,_lineIndex:rt,_lineLayer:nt}}),getItemType=tt=>{switch(tt){case NOTE_TOOLS.BLOCK_1:case NOTE_TOOLS.LONG_1:case NOTE_TOOLS.SHORT_1:case NOTE_TOOLS.OBSTACLE_1:return 0;case NOTE_TOOLS.BLOCK_2:case NOTE_TOOLS.LONG_2:case NOTE_TOOLS.SHORT_2:case NOTE_TOOLS.OBSTACLE_2:return 1;case NOTE_TOOLS.MINE:return 3;default:throw new Error("Unrecognized item: "+tt)}},notetTypeIsBlockFun=tt=>tt._type===0||tt._type===1,notetTypeIsMineFun=tt=>tt._type===3,getBlockLength=tt=>tt?tt.filter(notetTypeIsBlockFun).length:0,getMineLength=tt=>tt?tt.filter(notetTypeIsMineFun).length:0,getAverageBlockNum=(tt,et)=>Math.ceil(et/tt),getBlocks=tt=>(tt||console.error("No have notes params"),tt.filter(notetTypeIsBlockFun)),getMinesFun=tt=>(tt||console.error("No have notes maines"),tt.filter(notetTypeIsMineFun)),getSelectedBlocksFn=tt=>(tt||console.error("No have notes params"),tt.filter(et=>et.selected&&et._type<2)),getSelectedMinesFn=tt=>(tt||console.error("No have notes params"),tt.filter(et=>et.selected&&et._type===3)),getSelectedObstaclesFun=tt=>(tt||console.error("No have obstacles params"),tt.filter(et=>et.selected)),getSelectedBlocksTimeDistance=tt=>{const et=tt.sort((rt,nt)=>rt._time-nt._time);return et[et.length-1]._time-et[0]._time},getFootNotesFilter=tt=>tt.filter(et=>isRingNoteFooterType(et._ringNoteType)),getHandNotesFilter=tt=>tt.filter(et=>!isRingNoteFooterType(et._ringNoteType)),getSelectHandNotesFilter=tt=>tt.filter(et=>!isRingNoteFooterType(et._ringNoteType)&&et.selected),calculateHalfJumpDurationInBeats=(tt,et,rt,nt,it)=>{let ot=tt,at=rt*nt,st=at*ot;for(et=et-NOTE_JUMP_START_BEAT_OFFSET;st>et;)ot=ot/2,st=at*ot;return ot=ot+it,ot=Math.max(ot,1),ot},isRingNoteFooterType=tt=>tt===NOTE_FOOTER.SHORT||tt===NOTE_FOOTER.LONG,isRingNoteFooterLongType=tt=>tt===NOTE_FOOTER.LONG,isRingToolLongNoteType=tt=>SELECTED_TOOL_LONG_TYPE_ARR.includes(tt),isToolBlockNoteType=tt=>SELECTED_TOOL_BLOCK_TYPE_ARR.includes(tt),getPositionForNote=(tt,{lineIndex:et,lineLayer:rt,ringNoteType:nt})=>{const it=!tt&&isRingNoteFooterType(nt)?0:rt,ot=et*GRID_COL_WIDTH-GRID_COL_WIDTH*1.5,at=it*GRID_COL_WIDTH-GRID_COL_WIDTH,st=-.5*SURFACE_TERRACE_WIDTH+.5*FOOTER_NOTE_SIZE+et*FOOTER_CELL_WIDTH,lt=at-.3,ct=tt?ot:isRingNoteFooterType(nt)?st:0,ut=tt?at:isRingNoteFooterType(nt)?lt:NOTE_FOOTER_TRANSFORM;return[ct,ut]},notesTimeRoundToNearest=tt=>tt.map(et=>{let rt={...et,_time:roundToNearest(et._time,HIGHEST_PRECISION),id:buildUUID()};return isRingNoteFooterType(et._ringNoteType)&&Object.assign(rt,{_ringNoteType:et._ringNoteType,_duration:et._duration,_lineLayer:NOTE_FOOTER_LINE_LAYER}),rt}),convertNotesToExportableJson=tt=>{let et=[],rt=[];return tt.forEach(nt=>{isRingNoteFooterType(nt._ringNoteType)?rt.push({_time:nt._time,_lineIndex:nt._lineIndex,_ringNoteType:nt._ringNoteType,_duration:nt._duration,_type:nt._type}):et.push({...nt})}),[et,rt]},FULL_WALL_HEIGHT_IN_ROWS=5,WALL_HEIGHT_MIN=0,WALL_HEIGHT_MAX=1e3,WALL_START_BASE=100,WALL_START_MAX=400,RIDICULOUS_MAP_EX_CONSTANT=4001,convertObstaclesToRedux=tt=>tt.map(et=>{let rt={};if(et._type<=1){rt.type=et._type===0?NOTE_OBSTACLE.WALL:NOTE_OBSTACLE.CEILING;let it=et._width;it+et._lineIndex>4&&(it=4-et._lineIndex),rt.colspan=it}else{const it=et._type-RIDICULOUS_MAP_EX_CONSTANT,ot=Math.round(it/1e3),at=it%1e3,st=roundToNearest(normalize$6(ot,WALL_HEIGHT_MIN,WALL_HEIGHT_MAX,0,FULL_WALL_HEIGHT_IN_ROWS),.001),lt=roundToNearest(normalize$6(at,WALL_START_BASE,WALL_START_MAX,0,2),.01);rt.type=NOTE_OBSTACLE.EXTENSION,rt.rowspan=st,rt.rowIndex=lt,rt.lane=et._lineIndex<0?et._lineIndex/1e3+1:et._lineIndex/1e3-1,rt.colspan=(et._width-1e3)/1e3}let nt=et._duration;return nt<0&&(nt=Math.abs(nt),rt.fast=!0),{id:buildUUID(),beatStart:et._time,beatDuration:nt,lane:et._lineIndex,...rt}}),convertObstaclesToExportableJson=tt=>{const et=({rowspan:rt,rowIndex:nt,lane:it,colspan:ot})=>{let at=Math.round(normalize$6(rt,0,FULL_WALL_HEIGHT_IN_ROWS,WALL_HEIGHT_MIN,WALL_HEIGHT_MAX));at=clamp$5(at,0,4e3);let st=Math.round(normalize$6(nt,0,2,WALL_START_BASE,WALL_START_MAX));st=clamp$5(st,0,999);const lt=at*1e3+st+RIDICULOUS_MAP_EX_CONSTANT,ct=Math.round(it<0?it*1e3-1e3:it*1e3+1e3),ut=Math.round(ot*1e3+1e3);return[lt,ct,ut]};return tt.map(rt=>{const nt={};switch(rt.type){case NOTE_OBSTACLE.WALL:{nt._type=0,nt._lineIndex=rt.lane,nt._width=rt.colspan;break}case NOTE_OBSTACLE.CEILING:{nt._type=1,nt._lineIndex=rt.lane,nt._width=rt.colspan;break}case NOTE_OBSTACLE.EXTENSION:{const[at,st,lt]=et(rt);nt._type=at,nt._lineIndex=st,nt._width=lt;break}default:throw new Error("Unrecognized type: "+rt.type)}let it=rt.beatDuration;return rt.fast&&(it*=-1),Math.abs(it)===0&&(it=.01),{_time:rt.beatStart,_duration:it,...nt}})},swapObstacles=(tt,et)=>tt===SWAPS.VERTICAL?et:et.map(rt=>{if(!rt.selected)return rt;let nt=rt.lane;return rt.colspan!==4&&(nt=rt.colspan===1?3-rt.lane:2-rt.lane),{...rt,lane:nt}}),nudgeObstacles=(tt,et,rt)=>{const nt=tt===NUDGE.FORWARDS?1:-1;return rt.map(it=>it.selected?{...it,beatStart:it.beatStart+et*nt}:it)},createObstacleFromMouseEvent=(tt,et,rt,nt,it,ot,at,st=4)=>{const lt=Math.min(ot.colIndex,at.colIndex),ct=Math.abs(ot.colIndex-at.colIndex)+1,ut=()=>{let pt=Math.min(ot.rowIndex,at.rowIndex),mt=convertGridColumn(lt,et,nt),ht=convertGridRow(pt,rt,it);const gt=.5*nt-.5;mt-=gt;const vt=.5*it-.5;return ht-=vt,{obsRowspan:(Math.abs(ot.rowIndex-at.rowIndex)+1)*it,obsColspan:ct*nt,lane:mt,rowIndex:ht}},ft={type:tt===MAPPING_EXTENSIONS?NOTE_OBSTACLE.EXTENSION:at.rowIndex===2?NOTE_OBSTACLE.CEILING:NOTE_OBSTACLE.WALL,beatDuration:st,colspan:ct};if(tt==="original"){const pt=convertGridColumn(lt,et,nt);if(ft.lane=pt,ft.type===NOTE_OBSTACLE.WALL&&ft.colspan>2){const mt=ft.colspan-2;ft.colspan=2,at.colIndex-ot.colIndex>0?ft.lane+=mt:ft.lane=at.colIndex}}else if(tt===MAPPING_EXTENSIONS){const{obsRowspan:pt,obsColspan:mt,lane:ht,rowIndex:gt}=ut();ft.rowspan=pt,ft.colspan=mt,ft.lane=ht,ft.rowIndex=gt}return ft},isSelectedToolDurationType=tt=>SELECTED_TOOL_DURATION_TYPE_ARR.includes(tt),isSelectedToolObstacleType=tt=>[NOTE_TOOLS.OBSTACLE_1,NOTE_TOOLS.OBSTACLE_2].includes(tt),getResizeDuration=(tt,et,rt,nt)=>{let it=0,ot=0;return ot=Math.max(nt,rt),tt>0?it=ot-et:it=ot+et,it=Math.max(nt,it),it!==rt?it:null},getOffsetY=tt=>tt?0:NOTE_FOOTER_TRANSFORM,AudioContext$2=window.AudioContext||window.webkitAudioContext;class AudioPlay{constructor(et=1,rt=1){wn(this,"gain");wn(this,"playbackRate");wn(this,"context");wn(this,"startTime");wn(this,"playbackRateLastSetAt");wn(this,"startOffset");wn(this,"isPlaying");wn(this,"gainNode");wn(this,"source");wn(this,"buffer");this.gain=et,this.playbackRate=rt,this.context=new AudioContext$2,this.startTime=0,this.playbackRateLastSetAt=0,this.startOffset=0,this.isPlaying=!1,this.gainNode=this.context.createGain(),this.gainNode.connect(this.context.destination),this.gainNode.gain.value=et}changeVolume(et){this.gain=et,this.gainNode.gain.value=this.gain}changePlaybackRate(et){const rt=this.getRateAdjustedElapsed(),nt=this.context.currentTime-this.playbackRateLastSetAt;this.startTime=this.startTime+nt-rt,this.playbackRateLastSetAt=this.context.currentTime,this.playbackRate=et,this.source&&(this.source.playbackRate.value=this.playbackRate)}load(et){return new Promise((rt,nt)=>{this.context.decodeAudioData(et,it=>{this.buffer=it,rt(it)},nt)})}play(){this.startTime=this.context.currentTime-this.startOffset,this.playbackRateLastSetAt=this.context.currentTime,this.isPlaying=!0,this.source=this.context.createBufferSource(),this.buffer&&(this.source.buffer=this.buffer),this.source.playbackRate.value=this.playbackRate,this.source.connect(this.gainNode),this.source.start(0,this.startOffset)}pause(){var et;this.isPlaying&&(this.isPlaying=!1,(et=this.source)==null||et.stop(),this.startOffset+=this.context.currentTime-this.startTime)}isBufferLoaded(){return!!this.buffer}getCurrentTime(){return this.getRateAdjustedElapsed()+(this.playbackRateLastSetAt-this.startTime)}getRateAdjustedElapsed(){return(this.context.currentTime-this.playbackRateLastSetAt)*this.playbackRate}setCurrentTime(et){this.isPlaying?(this.pause(),this.startOffset=et,this.play()):this.startOffset=et}}const getFileFromArchive=(tt,et)=>{if(!et)throw new Error("no have filename");const nt=Object.keys(tt.files).find(it=>it.toLowerCase().endsWith(et.toLowerCase()));return nt?tt.files[nt]:null},getRankForDifficulty=tt=>{switch(tt.id){case DIFFICULTY.Easy:return 1;case DIFFICULTY.Normal:return 3;case DIFFICULTY.Hard:return 5;case DIFFICULTY.Expert:return 7;case DIFFICULTY.ExpertPlus:return 9;default:throw new Error("Unrecognized difficulty")}},getArchiveVersion=tt=>getFileFromArchive(tt,"Info.dat")?VERSION$3.TWO:getFileFromArchive(tt,"Info.yaml")?VERSION$3.THREE:null,defaultSfxPath="/assets/tick-alt-1-2dad2e3b.wav";class TickAudioPlay{constructor(et=defaultSfxPath){wn(this,"audioPlay");this.audioPlay=new AudioPlay,fetch(et).then(rt=>rt.arrayBuffer()).then(rt=>this.audioPlay.load(rt))}trigger(){this.audioPlay.pause(),this.audioPlay.setCurrentTime(0),this.audioPlay.play()}}var cryptoJsExports={},cryptoJs={get exports(){return cryptoJsExports},set exports(tt){cryptoJsExports=tt}},coreExports={},core={get exports(){return coreExports},set exports(tt){coreExports=tt}};const __viteBrowserExternal={},__viteBrowserExternal$1=Object.freeze(Object.defineProperty({__proto__:null,default:__viteBrowserExternal},Symbol.toStringTag,{value:"Module"})),require$$0$2=getAugmentedNamespace(__viteBrowserExternal$1);var hasRequiredCore;function requireCore(){return hasRequiredCore||(hasRequiredCore=1,function(tt,et){(function(rt,nt){tt.exports=nt()})(commonjsGlobal$4,function(){var rt=rt||function(nt,it){var ot;if(typeof window<"u"&&window.crypto&&(ot=window.crypto),typeof self<"u"&&self.crypto&&(ot=self.crypto),typeof globalThis<"u"&&globalThis.crypto&&(ot=globalThis.crypto),!ot&&typeof window<"u"&&window.msCrypto&&(ot=window.msCrypto),!ot&&typeof commonjsGlobal$4<"u"&&commonjsGlobal$4.crypto&&(ot=commonjsGlobal$4.crypto),!ot&&typeof commonjsRequire$4=="function")try{ot=require$$0$2}catch{}var at=function(){if(ot){if(typeof ot.getRandomValues=="function")try{return ot.getRandomValues(new Uint32Array(1))[0]}catch{}if(typeof ot.randomBytes=="function")try{return ot.randomBytes(4).readInt32LE()}catch{}}throw new Error("Native crypto module could not be used to get secure random number.")},st=Object.create||function(){function yt(){}return function(bt){var xt;return yt.prototype=bt,xt=new yt,yt.prototype=null,xt}}(),lt={},ct=lt.lib={},ut=ct.Base=function(){return{extend:function(yt){var bt=st(this);return yt&&bt.mixIn(yt),(!bt.hasOwnProperty("init")||this.init===bt.init)&&(bt.init=function(){bt.$super.init.apply(this,arguments)}),bt.init.prototype=bt,bt.$super=this,bt},create:function(){var yt=this.extend();return yt.init.apply(yt,arguments),yt},init:function(){},mixIn:function(yt){for(var bt in yt)yt.hasOwnProperty(bt)&&(this[bt]=yt[bt]);yt.hasOwnProperty("toString")&&(this.toString=yt.toString)},clone:function(){return this.init.prototype.extend(this)}}}(),dt=ct.WordArray=ut.extend({init:function(yt,bt){yt=this.words=yt||[],bt!=it?this.sigBytes=bt:this.sigBytes=yt.length*4},toString:function(yt){return(yt||pt).stringify(this)},concat:function(yt){var bt=this.words,xt=yt.words,$t=this.sigBytes,Tt=yt.sigBytes;if(this.clamp(),$t%4)for(var wt=0;wt<Tt;wt++){var At=xt[wt>>>2]>>>24-wt%4*8&255;bt[$t+wt>>>2]|=At<<24-($t+wt)%4*8}else for(var Rt=0;Rt<Tt;Rt+=4)bt[$t+Rt>>>2]=xt[Rt>>>2];return this.sigBytes+=Tt,this},clamp:function(){var yt=this.words,bt=this.sigBytes;yt[bt>>>2]&=4294967295<<32-bt%4*8,yt.length=nt.ceil(bt/4)},clone:function(){var yt=ut.clone.call(this);return yt.words=this.words.slice(0),yt},random:function(yt){for(var bt=[],xt=0;xt<yt;xt+=4)bt.push(at());return new dt.init(bt,yt)}}),ft=lt.enc={},pt=ft.Hex={stringify:function(yt){for(var bt=yt.words,xt=yt.sigBytes,$t=[],Tt=0;Tt<xt;Tt++){var wt=bt[Tt>>>2]>>>24-Tt%4*8&255;$t.push((wt>>>4).toString(16)),$t.push((wt&15).toString(16))}return $t.join("")},parse:function(yt){for(var bt=yt.length,xt=[],$t=0;$t<bt;$t+=2)xt[$t>>>3]|=parseInt(yt.substr($t,2),16)<<24-$t%8*4;return new dt.init(xt,bt/2)}},mt=ft.Latin1={stringify:function(yt){for(var bt=yt.words,xt=yt.sigBytes,$t=[],Tt=0;Tt<xt;Tt++){var wt=bt[Tt>>>2]>>>24-Tt%4*8&255;$t.push(String.fromCharCode(wt))}return $t.join("")},parse:function(yt){for(var bt=yt.length,xt=[],$t=0;$t<bt;$t++)xt[$t>>>2]|=(yt.charCodeAt($t)&255)<<24-$t%4*8;return new dt.init(xt,bt)}},ht=ft.Utf8={stringify:function(yt){try{return decodeURIComponent(escape(mt.stringify(yt)))}catch{throw new Error("Malformed UTF-8 data")}},parse:function(yt){return mt.parse(unescape(encodeURIComponent(yt)))}},gt=ct.BufferedBlockAlgorithm=ut.extend({reset:function(){this._data=new dt.init,this._nDataBytes=0},_append:function(yt){typeof yt=="string"&&(yt=ht.parse(yt)),this._data.concat(yt),this._nDataBytes+=yt.sigBytes},_process:function(yt){var bt,xt=this._data,$t=xt.words,Tt=xt.sigBytes,wt=this.blockSize,At=wt*4,Rt=Tt/At;yt?Rt=nt.ceil(Rt):Rt=nt.max((Rt|0)-this._minBufferSize,0);var It=Rt*wt,Lt=nt.min(It*4,Tt);if(It){for(var Pt=0;Pt<It;Pt+=wt)this._doProcessBlock($t,Pt);bt=$t.splice(0,It),xt.sigBytes-=Lt}return new dt.init(bt,Lt)},clone:function(){var yt=ut.clone.call(this);return yt._data=this._data.clone(),yt},_minBufferSize:0});ct.Hasher=gt.extend({cfg:ut.extend(),init:function(yt){this.cfg=this.cfg.extend(yt),this.reset()},reset:function(){gt.reset.call(this),this._doReset()},update:function(yt){return this._append(yt),this._process(),this},finalize:function(yt){yt&&this._append(yt);var bt=this._doFinalize();return bt},blockSize:16,_createHelper:function(yt){return function(bt,xt){return new yt.init(xt).finalize(bt)}},_createHmacHelper:function(yt){return function(bt,xt){return new vt.HMAC.init(yt,xt).finalize(bt)}}});var vt=lt.algo={};return lt}(Math);return rt})}(core)),coreExports}var x64CoreExports={},x64Core={get exports(){return x64CoreExports},set exports(tt){x64CoreExports=tt}},hasRequiredX64Core;function requireX64Core(){return hasRequiredX64Core||(hasRequiredX64Core=1,function(tt,et){(function(rt,nt){tt.exports=nt(requireCore())})(commonjsGlobal$4,function(rt){return function(nt){var it=rt,ot=it.lib,at=ot.Base,st=ot.WordArray,lt=it.x64={};lt.Word=at.extend({init:function(ct,ut){this.high=ct,this.low=ut}}),lt.WordArray=at.extend({init:function(ct,ut){ct=this.words=ct||[],ut!=nt?this.sigBytes=ut:this.sigBytes=ct.length*8},toX32:function(){for(var ct=this.words,ut=ct.length,dt=[],ft=0;ft<ut;ft++){var pt=ct[ft];dt.push(pt.high),dt.push(pt.low)}return st.create(dt,this.sigBytes)},clone:function(){for(var ct=at.clone.call(this),ut=ct.words=this.words.slice(0),dt=ut.length,ft=0;ft<dt;ft++)ut[ft]=ut[ft].clone();return ct}})}(),rt})}(x64Core)),x64CoreExports}var libTypedarraysExports={},libTypedarrays={get exports(){return libTypedarraysExports},set exports(tt){libTypedarraysExports=tt}},hasRequiredLibTypedarrays;function requireLibTypedarrays(){return hasRequiredLibTypedarrays||(hasRequiredLibTypedarrays=1,function(tt,et){(function(rt,nt){tt.exports=nt(requireCore())})(commonjsGlobal$4,function(rt){return function(){if(typeof ArrayBuffer=="function"){var nt=rt,it=nt.lib,ot=it.WordArray,at=ot.init,st=ot.init=function(lt){if(lt instanceof ArrayBuffer&&(lt=new Uint8Array(lt)),(lt instanceof Int8Array||typeof Uint8ClampedArray<"u"&&lt instanceof Uint8ClampedArray||lt instanceof Int16Array||lt instanceof Uint16Array||lt instanceof Int32Array||lt instanceof Uint32Array||lt instanceof Float32Array||lt instanceof Float64Array)&&(lt=new Uint8Array(lt.buffer,lt.byteOffset,lt.byteLength)),lt instanceof Uint8Array){for(var ct=lt.byteLength,ut=[],dt=0;dt<ct;dt++)ut[dt>>>2]|=lt[dt]<<24-dt%4*8;at.call(this,ut,ct)}else at.apply(this,arguments)};st.prototype=ot}}(),rt.lib.WordArray})}(libTypedarrays)),libTypedarraysExports}var encUtf16Exports={},encUtf16={get exports(){return encUtf16Exports},set exports(tt){encUtf16Exports=tt}},hasRequiredEncUtf16;function requireEncUtf16(){return hasRequiredEncUtf16||(hasRequiredEncUtf16=1,function(tt,et){(function(rt,nt){tt.exports=nt(requireCore())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.lib,ot=it.WordArray,at=nt.enc;at.Utf16=at.Utf16BE={stringify:function(lt){for(var ct=lt.words,ut=lt.sigBytes,dt=[],ft=0;ft<ut;ft+=2){var pt=ct[ft>>>2]>>>16-ft%4*8&65535;dt.push(String.fromCharCode(pt))}return dt.join("")},parse:function(lt){for(var ct=lt.length,ut=[],dt=0;dt<ct;dt++)ut[dt>>>1]|=lt.charCodeAt(dt)<<16-dt%2*16;return ot.create(ut,ct*2)}},at.Utf16LE={stringify:function(lt){for(var ct=lt.words,ut=lt.sigBytes,dt=[],ft=0;ft<ut;ft+=2){var pt=st(ct[ft>>>2]>>>16-ft%4*8&65535);dt.push(String.fromCharCode(pt))}return dt.join("")},parse:function(lt){for(var ct=lt.length,ut=[],dt=0;dt<ct;dt++)ut[dt>>>1]|=st(lt.charCodeAt(dt)<<16-dt%2*16);return ot.create(ut,ct*2)}};function st(lt){return lt<<8&4278255360|lt>>>8&16711935}}(),rt.enc.Utf16})}(encUtf16)),encUtf16Exports}var encBase64Exports={},encBase64={get exports(){return encBase64Exports},set exports(tt){encBase64Exports=tt}},hasRequiredEncBase64;function requireEncBase64(){return hasRequiredEncBase64||(hasRequiredEncBase64=1,function(tt,et){(function(rt,nt){tt.exports=nt(requireCore())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.lib,ot=it.WordArray,at=nt.enc;at.Base64={stringify:function(lt){var ct=lt.words,ut=lt.sigBytes,dt=this._map;lt.clamp();for(var ft=[],pt=0;pt<ut;pt+=3)for(var mt=ct[pt>>>2]>>>24-pt%4*8&255,ht=ct[pt+1>>>2]>>>24-(pt+1)%4*8&255,gt=ct[pt+2>>>2]>>>24-(pt+2)%4*8&255,vt=mt<<16|ht<<8|gt,yt=0;yt<4&&pt+yt*.75<ut;yt++)ft.push(dt.charAt(vt>>>6*(3-yt)&63));var bt=dt.charAt(64);if(bt)for(;ft.length%4;)ft.push(bt);return ft.join("")},parse:function(lt){var ct=lt.length,ut=this._map,dt=this._reverseMap;if(!dt){dt=this._reverseMap=[];for(var ft=0;ft<ut.length;ft++)dt[ut.charCodeAt(ft)]=ft}var pt=ut.charAt(64);if(pt){var mt=lt.indexOf(pt);mt!==-1&&(ct=mt)}return st(lt,ct,dt)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="};function st(lt,ct,ut){for(var dt=[],ft=0,pt=0;pt<ct;pt++)if(pt%4){var mt=ut[lt.charCodeAt(pt-1)]<<pt%4*2,ht=ut[lt.charCodeAt(pt)]>>>6-pt%4*2,gt=mt|ht;dt[ft>>>2]|=gt<<24-ft%4*8,ft++}return ot.create(dt,ft)}}(),rt.enc.Base64})}(encBase64)),encBase64Exports}var encBase64urlExports={},encBase64url={get exports(){return encBase64urlExports},set exports(tt){encBase64urlExports=tt}},hasRequiredEncBase64url;function requireEncBase64url(){return hasRequiredEncBase64url||(hasRequiredEncBase64url=1,function(tt,et){(function(rt,nt){tt.exports=nt(requireCore())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.lib,ot=it.WordArray,at=nt.enc;at.Base64url={stringify:function(lt,ct=!0){var ut=lt.words,dt=lt.sigBytes,ft=ct?this._safe_map:this._map;lt.clamp();for(var pt=[],mt=0;mt<dt;mt+=3)for(var ht=ut[mt>>>2]>>>24-mt%4*8&255,gt=ut[mt+1>>>2]>>>24-(mt+1)%4*8&255,vt=ut[mt+2>>>2]>>>24-(mt+2)%4*8&255,yt=ht<<16|gt<<8|vt,bt=0;bt<4&&mt+bt*.75<dt;bt++)pt.push(ft.charAt(yt>>>6*(3-bt)&63));var xt=ft.charAt(64);if(xt)for(;pt.length%4;)pt.push(xt);return pt.join("")},parse:function(lt,ct=!0){var ut=lt.length,dt=ct?this._safe_map:this._map,ft=this._reverseMap;if(!ft){ft=this._reverseMap=[];for(var pt=0;pt<dt.length;pt++)ft[dt.charCodeAt(pt)]=pt}var mt=dt.charAt(64);if(mt){var ht=lt.indexOf(mt);ht!==-1&&(ut=ht)}return st(lt,ut,ft)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",_safe_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_"};function st(lt,ct,ut){for(var dt=[],ft=0,pt=0;pt<ct;pt++)if(pt%4){var mt=ut[lt.charCodeAt(pt-1)]<<pt%4*2,ht=ut[lt.charCodeAt(pt)]>>>6-pt%4*2,gt=mt|ht;dt[ft>>>2]|=gt<<24-ft%4*8,ft++}return ot.create(dt,ft)}}(),rt.enc.Base64url})}(encBase64url)),encBase64urlExports}var md5Exports={},md5={get exports(){return md5Exports},set exports(tt){md5Exports=tt}},hasRequiredMd5;function requireMd5(){return hasRequiredMd5||(hasRequiredMd5=1,function(tt,et){(function(rt,nt){tt.exports=nt(requireCore())})(commonjsGlobal$4,function(rt){return function(nt){var it=rt,ot=it.lib,at=ot.WordArray,st=ot.Hasher,lt=it.algo,ct=[];(function(){for(var ht=0;ht<64;ht++)ct[ht]=nt.abs(nt.sin(ht+1))*4294967296|0})();var ut=lt.MD5=st.extend({_doReset:function(){this._hash=new at.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(ht,gt){for(var vt=0;vt<16;vt++){var yt=gt+vt,bt=ht[yt];ht[yt]=(bt<<8|bt>>>24)&16711935|(bt<<24|bt>>>8)&4278255360}var xt=this._hash.words,$t=ht[gt+0],Tt=ht[gt+1],wt=ht[gt+2],At=ht[gt+3],Rt=ht[gt+4],It=ht[gt+5],Lt=ht[gt+6],Pt=ht[gt+7],Nt=ht[gt+8],Ot=ht[gt+9],Bt=ht[gt+10],zt=ht[gt+11],Vt=ht[gt+12],Ut=ht[gt+13],jt=ht[gt+14],qt=ht[gt+15],Dt=xt[0],Ft=xt[1],Zt=xt[2],Kt=xt[3];Dt=dt(Dt,Ft,Zt,Kt,$t,7,ct[0]),Kt=dt(Kt,Dt,Ft,Zt,Tt,12,ct[1]),Zt=dt(Zt,Kt,Dt,Ft,wt,17,ct[2]),Ft=dt(Ft,Zt,Kt,Dt,At,22,ct[3]),Dt=dt(Dt,Ft,Zt,Kt,Rt,7,ct[4]),Kt=dt(Kt,Dt,Ft,Zt,It,12,ct[5]),Zt=dt(Zt,Kt,Dt,Ft,Lt,17,ct[6]),Ft=dt(Ft,Zt,Kt,Dt,Pt,22,ct[7]),Dt=dt(Dt,Ft,Zt,Kt,Nt,7,ct[8]),Kt=dt(Kt,Dt,Ft,Zt,Ot,12,ct[9]),Zt=dt(Zt,Kt,Dt,Ft,Bt,17,ct[10]),Ft=dt(Ft,Zt,Kt,Dt,zt,22,ct[11]),Dt=dt(Dt,Ft,Zt,Kt,Vt,7,ct[12]),Kt=dt(Kt,Dt,Ft,Zt,Ut,12,ct[13]),Zt=dt(Zt,Kt,Dt,Ft,jt,17,ct[14]),Ft=dt(Ft,Zt,Kt,Dt,qt,22,ct[15]),Dt=ft(Dt,Ft,Zt,Kt,Tt,5,ct[16]),Kt=ft(Kt,Dt,Ft,Zt,Lt,9,ct[17]),Zt=ft(Zt,Kt,Dt,Ft,zt,14,ct[18]),Ft=ft(Ft,Zt,Kt,Dt,$t,20,ct[19]),Dt=ft(Dt,Ft,Zt,Kt,It,5,ct[20]),Kt=ft(Kt,Dt,Ft,Zt,Bt,9,ct[21]),Zt=ft(Zt,Kt,Dt,Ft,qt,14,ct[22]),Ft=ft(Ft,Zt,Kt,Dt,Rt,20,ct[23]),Dt=ft(Dt,Ft,Zt,Kt,Ot,5,ct[24]),Kt=ft(Kt,Dt,Ft,Zt,jt,9,ct[25]),Zt=ft(Zt,Kt,Dt,Ft,At,14,ct[26]),Ft=ft(Ft,Zt,Kt,Dt,Nt,20,ct[27]),Dt=ft(Dt,Ft,Zt,Kt,Ut,5,ct[28]),Kt=ft(Kt,Dt,Ft,Zt,wt,9,ct[29]),Zt=ft(Zt,Kt,Dt,Ft,Pt,14,ct[30]),Ft=ft(Ft,Zt,Kt,Dt,Vt,20,ct[31]),Dt=pt(Dt,Ft,Zt,Kt,It,4,ct[32]),Kt=pt(Kt,Dt,Ft,Zt,Nt,11,ct[33]),Zt=pt(Zt,Kt,Dt,Ft,zt,16,ct[34]),Ft=pt(Ft,Zt,Kt,Dt,jt,23,ct[35]),Dt=pt(Dt,Ft,Zt,Kt,Tt,4,ct[36]),Kt=pt(Kt,Dt,Ft,Zt,Rt,11,ct[37]),Zt=pt(Zt,Kt,Dt,Ft,Pt,16,ct[38]),Ft=pt(Ft,Zt,Kt,Dt,Bt,23,ct[39]),Dt=pt(Dt,Ft,Zt,Kt,Ut,4,ct[40]),Kt=pt(Kt,Dt,Ft,Zt,$t,11,ct[41]),Zt=pt(Zt,Kt,Dt,Ft,At,16,ct[42]),Ft=pt(Ft,Zt,Kt,Dt,Lt,23,ct[43]),Dt=pt(Dt,Ft,Zt,Kt,Ot,4,ct[44]),Kt=pt(Kt,Dt,Ft,Zt,Vt,11,ct[45]),Zt=pt(Zt,Kt,Dt,Ft,qt,16,ct[46]),Ft=pt(Ft,Zt,Kt,Dt,wt,23,ct[47]),Dt=mt(Dt,Ft,Zt,Kt,$t,6,ct[48]),Kt=mt(Kt,Dt,Ft,Zt,Pt,10,ct[49]),Zt=mt(Zt,Kt,Dt,Ft,jt,15,ct[50]),Ft=mt(Ft,Zt,Kt,Dt,It,21,ct[51]),Dt=mt(Dt,Ft,Zt,Kt,Vt,6,ct[52]),Kt=mt(Kt,Dt,Ft,Zt,At,10,ct[53]),Zt=mt(Zt,Kt,Dt,Ft,Bt,15,ct[54]),Ft=mt(Ft,Zt,Kt,Dt,Tt,21,ct[55]),Dt=mt(Dt,Ft,Zt,Kt,Nt,6,ct[56]),Kt=mt(Kt,Dt,Ft,Zt,qt,10,ct[57]),Zt=mt(Zt,Kt,Dt,Ft,Lt,15,ct[58]),Ft=mt(Ft,Zt,Kt,Dt,Ut,21,ct[59]),Dt=mt(Dt,Ft,Zt,Kt,Rt,6,ct[60]),Kt=mt(Kt,Dt,Ft,Zt,zt,10,ct[61]),Zt=mt(Zt,Kt,Dt,Ft,wt,15,ct[62]),Ft=mt(Ft,Zt,Kt,Dt,Ot,21,ct[63]),xt[0]=xt[0]+Dt|0,xt[1]=xt[1]+Ft|0,xt[2]=xt[2]+Zt|0,xt[3]=xt[3]+Kt|0},_doFinalize:function(){var ht=this._data,gt=ht.words,vt=this._nDataBytes*8,yt=ht.sigBytes*8;gt[yt>>>5]|=128<<24-yt%32;var bt=nt.floor(vt/4294967296),xt=vt;gt[(yt+64>>>9<<4)+15]=(bt<<8|bt>>>24)&16711935|(bt<<24|bt>>>8)&4278255360,gt[(yt+64>>>9<<4)+14]=(xt<<8|xt>>>24)&16711935|(xt<<24|xt>>>8)&4278255360,ht.sigBytes=(gt.length+1)*4,this._process();for(var $t=this._hash,Tt=$t.words,wt=0;wt<4;wt++){var At=Tt[wt];Tt[wt]=(At<<8|At>>>24)&16711935|(At<<24|At>>>8)&4278255360}return $t},clone:function(){var ht=st.clone.call(this);return ht._hash=this._hash.clone(),ht}});function dt(ht,gt,vt,yt,bt,xt,$t){var Tt=ht+(gt&vt|~gt&yt)+bt+$t;return(Tt<<xt|Tt>>>32-xt)+gt}function ft(ht,gt,vt,yt,bt,xt,$t){var Tt=ht+(gt&yt|vt&~yt)+bt+$t;return(Tt<<xt|Tt>>>32-xt)+gt}function pt(ht,gt,vt,yt,bt,xt,$t){var Tt=ht+(gt^vt^yt)+bt+$t;return(Tt<<xt|Tt>>>32-xt)+gt}function mt(ht,gt,vt,yt,bt,xt,$t){var Tt=ht+(vt^(gt|~yt))+bt+$t;return(Tt<<xt|Tt>>>32-xt)+gt}it.MD5=st._createHelper(ut),it.HmacMD5=st._createHmacHelper(ut)}(Math),rt.MD5})}(md5)),md5Exports}var sha1Exports={},sha1={get exports(){return sha1Exports},set exports(tt){sha1Exports=tt}},hasRequiredSha1;function requireSha1(){return hasRequiredSha1||(hasRequiredSha1=1,function(tt,et){(function(rt,nt){tt.exports=nt(requireCore())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.lib,ot=it.WordArray,at=it.Hasher,st=nt.algo,lt=[],ct=st.SHA1=at.extend({_doReset:function(){this._hash=new ot.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(ut,dt){for(var ft=this._hash.words,pt=ft[0],mt=ft[1],ht=ft[2],gt=ft[3],vt=ft[4],yt=0;yt<80;yt++){if(yt<16)lt[yt]=ut[dt+yt]|0;else{var bt=lt[yt-3]^lt[yt-8]^lt[yt-14]^lt[yt-16];lt[yt]=bt<<1|bt>>>31}var xt=(pt<<5|pt>>>27)+vt+lt[yt];yt<20?xt+=(mt&ht|~mt&gt)+1518500249:yt<40?xt+=(mt^ht^gt)+1859775393:yt<60?xt+=(mt&ht|mt&gt|ht&gt)-1894007588:xt+=(mt^ht^gt)-899497514,vt=gt,gt=ht,ht=mt<<30|mt>>>2,mt=pt,pt=xt}ft[0]=ft[0]+pt|0,ft[1]=ft[1]+mt|0,ft[2]=ft[2]+ht|0,ft[3]=ft[3]+gt|0,ft[4]=ft[4]+vt|0},_doFinalize:function(){var ut=this._data,dt=ut.words,ft=this._nDataBytes*8,pt=ut.sigBytes*8;return dt[pt>>>5]|=128<<24-pt%32,dt[(pt+64>>>9<<4)+14]=Math.floor(ft/4294967296),dt[(pt+64>>>9<<4)+15]=ft,ut.sigBytes=dt.length*4,this._process(),this._hash},clone:function(){var ut=at.clone.call(this);return ut._hash=this._hash.clone(),ut}});nt.SHA1=at._createHelper(ct),nt.HmacSHA1=at._createHmacHelper(ct)}(),rt.SHA1})}(sha1)),sha1Exports}var sha256Exports={},sha256={get exports(){return sha256Exports},set exports(tt){sha256Exports=tt}},hasRequiredSha256;function requireSha256(){return hasRequiredSha256||(hasRequiredSha256=1,function(tt,et){(function(rt,nt){tt.exports=nt(requireCore())})(commonjsGlobal$4,function(rt){return function(nt){var it=rt,ot=it.lib,at=ot.WordArray,st=ot.Hasher,lt=it.algo,ct=[],ut=[];(function(){function pt(vt){for(var yt=nt.sqrt(vt),bt=2;bt<=yt;bt++)if(!(vt%bt))return!1;return!0}function mt(vt){return(vt-(vt|0))*4294967296|0}for(var ht=2,gt=0;gt<64;)pt(ht)&&(gt<8&&(ct[gt]=mt(nt.pow(ht,1/2))),ut[gt]=mt(nt.pow(ht,1/3)),gt++),ht++})();var dt=[],ft=lt.SHA256=st.extend({_doReset:function(){this._hash=new at.init(ct.slice(0))},_doProcessBlock:function(pt,mt){for(var ht=this._hash.words,gt=ht[0],vt=ht[1],yt=ht[2],bt=ht[3],xt=ht[4],$t=ht[5],Tt=ht[6],wt=ht[7],At=0;At<64;At++){if(At<16)dt[At]=pt[mt+At]|0;else{var Rt=dt[At-15],It=(Rt<<25|Rt>>>7)^(Rt<<14|Rt>>>18)^Rt>>>3,Lt=dt[At-2],Pt=(Lt<<15|Lt>>>17)^(Lt<<13|Lt>>>19)^Lt>>>10;dt[At]=It+dt[At-7]+Pt+dt[At-16]}var Nt=xt&$t^~xt&Tt,Ot=gt&vt^gt&yt^vt&yt,Bt=(gt<<30|gt>>>2)^(gt<<19|gt>>>13)^(gt<<10|gt>>>22),zt=(xt<<26|xt>>>6)^(xt<<21|xt>>>11)^(xt<<7|xt>>>25),Vt=wt+zt+Nt+ut[At]+dt[At],Ut=Bt+Ot;wt=Tt,Tt=$t,$t=xt,xt=bt+Vt|0,bt=yt,yt=vt,vt=gt,gt=Vt+Ut|0}ht[0]=ht[0]+gt|0,ht[1]=ht[1]+vt|0,ht[2]=ht[2]+yt|0,ht[3]=ht[3]+bt|0,ht[4]=ht[4]+xt|0,ht[5]=ht[5]+$t|0,ht[6]=ht[6]+Tt|0,ht[7]=ht[7]+wt|0},_doFinalize:function(){var pt=this._data,mt=pt.words,ht=this._nDataBytes*8,gt=pt.sigBytes*8;return mt[gt>>>5]|=128<<24-gt%32,mt[(gt+64>>>9<<4)+14]=nt.floor(ht/4294967296),mt[(gt+64>>>9<<4)+15]=ht,pt.sigBytes=mt.length*4,this._process(),this._hash},clone:function(){var pt=st.clone.call(this);return pt._hash=this._hash.clone(),pt}});it.SHA256=st._createHelper(ft),it.HmacSHA256=st._createHmacHelper(ft)}(Math),rt.SHA256})}(sha256)),sha256Exports}var sha224Exports={},sha224={get exports(){return sha224Exports},set exports(tt){sha224Exports=tt}},hasRequiredSha224;function requireSha224(){return hasRequiredSha224||(hasRequiredSha224=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireSha256())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.lib,ot=it.WordArray,at=nt.algo,st=at.SHA256,lt=at.SHA224=st.extend({_doReset:function(){this._hash=new ot.init([3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428])},_doFinalize:function(){var ct=st._doFinalize.call(this);return ct.sigBytes-=4,ct}});nt.SHA224=st._createHelper(lt),nt.HmacSHA224=st._createHmacHelper(lt)}(),rt.SHA224})}(sha224)),sha224Exports}var sha512Exports={},sha512={get exports(){return sha512Exports},set exports(tt){sha512Exports=tt}},hasRequiredSha512;function requireSha512(){return hasRequiredSha512||(hasRequiredSha512=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireX64Core())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.lib,ot=it.Hasher,at=nt.x64,st=at.Word,lt=at.WordArray,ct=nt.algo;function ut(){return st.create.apply(st,arguments)}var dt=[ut(1116352408,3609767458),ut(1899447441,602891725),ut(3049323471,3964484399),ut(3921009573,2173295548),ut(961987163,4081628472),ut(1508970993,3053834265),ut(2453635748,2937671579),ut(2870763221,3664609560),ut(3624381080,2734883394),ut(310598401,1164996542),ut(607225278,1323610764),ut(1426881987,3590304994),ut(1925078388,4068182383),ut(2162078206,991336113),ut(2614888103,633803317),ut(3248222580,3479774868),ut(3835390401,2666613458),ut(4022224774,944711139),ut(264347078,2341262773),ut(604807628,2007800933),ut(770255983,1495990901),ut(1249150122,1856431235),ut(1555081692,3175218132),ut(1996064986,2198950837),ut(2554220882,3999719339),ut(2821834349,766784016),ut(2952996808,2566594879),ut(3210313671,3203337956),ut(3336571891,1034457026),ut(3584528711,2466948901),ut(113926993,3758326383),ut(338241895,168717936),ut(666307205,1188179964),ut(773529912,1546045734),ut(1294757372,1522805485),ut(1396182291,2643833823),ut(1695183700,2343527390),ut(1986661051,1014477480),ut(2177026350,1206759142),ut(2456956037,344077627),ut(2730485921,1290863460),ut(2820302411,3158454273),ut(3259730800,3505952657),ut(3345764771,106217008),ut(3516065817,3606008344),ut(3600352804,1432725776),ut(4094571909,1467031594),ut(275423344,851169720),ut(430227734,3100823752),ut(506948616,1363258195),ut(659060556,3750685593),ut(883997877,3785050280),ut(958139571,3318307427),ut(1322822218,3812723403),ut(1537002063,2003034995),ut(1747873779,3602036899),ut(1955562222,1575990012),ut(2024104815,1125592928),ut(2227730452,2716904306),ut(2361852424,442776044),ut(2428436474,593698344),ut(2756734187,3733110249),ut(3204031479,2999351573),ut(3329325298,3815920427),ut(3391569614,3928383900),ut(3515267271,566280711),ut(3940187606,3454069534),ut(4118630271,4000239992),ut(116418474,1914138554),ut(174292421,2731055270),ut(289380356,3203993006),ut(460393269,320620315),ut(685471733,587496836),ut(852142971,1086792851),ut(1017036298,365543100),ut(1126000580,2618297676),ut(1288033470,3409855158),ut(1501505948,4234509866),ut(1607167915,987167468),ut(1816402316,1246189591)],ft=[];(function(){for(var mt=0;mt<80;mt++)ft[mt]=ut()})();var pt=ct.SHA512=ot.extend({_doReset:function(){this._hash=new lt.init([new st.init(1779033703,4089235720),new st.init(3144134277,2227873595),new st.init(1013904242,4271175723),new st.init(2773480762,1595750129),new st.init(1359893119,2917565137),new st.init(2600822924,725511199),new st.init(528734635,4215389547),new st.init(1541459225,327033209)])},_doProcessBlock:function(mt,ht){for(var gt=this._hash.words,vt=gt[0],yt=gt[1],bt=gt[2],xt=gt[3],$t=gt[4],Tt=gt[5],wt=gt[6],At=gt[7],Rt=vt.high,It=vt.low,Lt=yt.high,Pt=yt.low,Nt=bt.high,Ot=bt.low,Bt=xt.high,zt=xt.low,Vt=$t.high,Ut=$t.low,jt=Tt.high,qt=Tt.low,Dt=wt.high,Ft=wt.low,Zt=At.high,Kt=At.low,ir=Rt,rr=It,mr=Lt,sr=Pt,fr=Nt,pr=Ot,vr=Bt,dr=zt,xr=Vt,Gt=Ut,Wt=jt,nr=qt,Qt=Dt,Jt=Ft,ar=Zt,cr=Kt,lr=0;lr<80;lr++){var Yt,Xt,tr=ft[lr];if(lr<16)Xt=tr.high=mt[ht+lr*2]|0,Yt=tr.low=mt[ht+lr*2+1]|0;else{var or=ft[lr-15],br=or.high,Sr=or.low,yr=(br>>>1|Sr<<31)^(br>>>8|Sr<<24)^br>>>7,hr=(Sr>>>1|br<<31)^(Sr>>>8|br<<24)^(Sr>>>7|br<<25),$r=ft[lr-2],Mr=$r.high,Ar=$r.low,Fr=(Mr>>>19|Ar<<13)^(Mr<<3|Ar>>>29)^Mr>>>6,zr=(Ar>>>19|Mr<<13)^(Ar<<3|Mr>>>29)^(Ar>>>6|Mr<<26),jr=ft[lr-7],Jr=jr.high,gn=jr.low,mn=ft[lr-16],Cr=mn.high,Dr=mn.low;Yt=hr+gn,Xt=yr+Jr+(Yt>>>0<hr>>>0?1:0),Yt=Yt+zr,Xt=Xt+Fr+(Yt>>>0<zr>>>0?1:0),Yt=Yt+Dr,Xt=Xt+Cr+(Yt>>>0<Dr>>>0?1:0),tr.high=Xt,tr.low=Yt}var Hr=xr&Wt^~xr&Qt,Yr=Gt&nr^~Gt&Jt,dn=ir&mr^ir&fr^mr&fr,On=rr&sr^rr&pr^sr&pr,Dn=(ir>>>28|rr<<4)^(ir<<30|rr>>>2)^(ir<<25|rr>>>7),Bn=(rr>>>28|ir<<4)^(rr<<30|ir>>>2)^(rr<<25|ir>>>7),Fn=(xr>>>14|Gt<<18)^(xr>>>18|Gt<<14)^(xr<<23|Gt>>>9),Mn=(Gt>>>14|xr<<18)^(Gt>>>18|xr<<14)^(Gt<<23|xr>>>9),Ln=dt[lr],Rn=Ln.high,Qn=Ln.low,Un=cr+Mn,yn=ar+Fn+(Un>>>0<cr>>>0?1:0),Un=Un+Yr,yn=yn+Hr+(Un>>>0<Yr>>>0?1:0),Un=Un+Qn,yn=yn+Rn+(Un>>>0<Qn>>>0?1:0),Un=Un+Yt,yn=yn+Xt+(Un>>>0<Yt>>>0?1:0),Tn=Bn+On,gr=Dn+dn+(Tn>>>0<Bn>>>0?1:0);ar=Qt,cr=Jt,Qt=Wt,Jt=nr,Wt=xr,nr=Gt,Gt=dr+Un|0,xr=vr+yn+(Gt>>>0<dr>>>0?1:0)|0,vr=fr,dr=pr,fr=mr,pr=sr,mr=ir,sr=rr,rr=Un+Tn|0,ir=yn+gr+(rr>>>0<Un>>>0?1:0)|0}It=vt.low=It+rr,vt.high=Rt+ir+(It>>>0<rr>>>0?1:0),Pt=yt.low=Pt+sr,yt.high=Lt+mr+(Pt>>>0<sr>>>0?1:0),Ot=bt.low=Ot+pr,bt.high=Nt+fr+(Ot>>>0<pr>>>0?1:0),zt=xt.low=zt+dr,xt.high=Bt+vr+(zt>>>0<dr>>>0?1:0),Ut=$t.low=Ut+Gt,$t.high=Vt+xr+(Ut>>>0<Gt>>>0?1:0),qt=Tt.low=qt+nr,Tt.high=jt+Wt+(qt>>>0<nr>>>0?1:0),Ft=wt.low=Ft+Jt,wt.high=Dt+Qt+(Ft>>>0<Jt>>>0?1:0),Kt=At.low=Kt+cr,At.high=Zt+ar+(Kt>>>0<cr>>>0?1:0)},_doFinalize:function(){var mt=this._data,ht=mt.words,gt=this._nDataBytes*8,vt=mt.sigBytes*8;ht[vt>>>5]|=128<<24-vt%32,ht[(vt+128>>>10<<5)+30]=Math.floor(gt/4294967296),ht[(vt+128>>>10<<5)+31]=gt,mt.sigBytes=ht.length*4,this._process();var yt=this._hash.toX32();return yt},clone:function(){var mt=ot.clone.call(this);return mt._hash=this._hash.clone(),mt},blockSize:1024/32});nt.SHA512=ot._createHelper(pt),nt.HmacSHA512=ot._createHmacHelper(pt)}(),rt.SHA512})}(sha512)),sha512Exports}var sha384Exports={},sha384={get exports(){return sha384Exports},set exports(tt){sha384Exports=tt}},hasRequiredSha384;function requireSha384(){return hasRequiredSha384||(hasRequiredSha384=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireX64Core(),requireSha512())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.x64,ot=it.Word,at=it.WordArray,st=nt.algo,lt=st.SHA512,ct=st.SHA384=lt.extend({_doReset:function(){this._hash=new at.init([new ot.init(3418070365,3238371032),new ot.init(1654270250,914150663),new ot.init(2438529370,812702999),new ot.init(355462360,4144912697),new ot.init(1731405415,4290775857),new ot.init(2394180231,1750603025),new ot.init(3675008525,1694076839),new ot.init(1203062813,3204075428)])},_doFinalize:function(){var ut=lt._doFinalize.call(this);return ut.sigBytes-=16,ut}});nt.SHA384=lt._createHelper(ct),nt.HmacSHA384=lt._createHmacHelper(ct)}(),rt.SHA384})}(sha384)),sha384Exports}var sha3Exports={},sha3={get exports(){return sha3Exports},set exports(tt){sha3Exports=tt}},hasRequiredSha3;function requireSha3(){return hasRequiredSha3||(hasRequiredSha3=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireX64Core())})(commonjsGlobal$4,function(rt){return function(nt){var it=rt,ot=it.lib,at=ot.WordArray,st=ot.Hasher,lt=it.x64,ct=lt.Word,ut=it.algo,dt=[],ft=[],pt=[];(function(){for(var gt=1,vt=0,yt=0;yt<24;yt++){dt[gt+5*vt]=(yt+1)*(yt+2)/2%64;var bt=vt%5,xt=(2*gt+3*vt)%5;gt=bt,vt=xt}for(var gt=0;gt<5;gt++)for(var vt=0;vt<5;vt++)ft[gt+5*vt]=vt+(2*gt+3*vt)%5*5;for(var $t=1,Tt=0;Tt<24;Tt++){for(var wt=0,At=0,Rt=0;Rt<7;Rt++){if($t&1){var It=(1<<Rt)-1;It<32?At^=1<<It:wt^=1<<It-32}$t&128?$t=$t<<1^113:$t<<=1}pt[Tt]=ct.create(wt,At)}})();var mt=[];(function(){for(var gt=0;gt<25;gt++)mt[gt]=ct.create()})();var ht=ut.SHA3=st.extend({cfg:st.cfg.extend({outputLength:512}),_doReset:function(){for(var gt=this._state=[],vt=0;vt<25;vt++)gt[vt]=new ct.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(gt,vt){for(var yt=this._state,bt=this.blockSize/2,xt=0;xt<bt;xt++){var $t=gt[vt+2*xt],Tt=gt[vt+2*xt+1];$t=($t<<8|$t>>>24)&16711935|($t<<24|$t>>>8)&4278255360,Tt=(Tt<<8|Tt>>>24)&16711935|(Tt<<24|Tt>>>8)&4278255360;var wt=yt[xt];wt.high^=Tt,wt.low^=$t}for(var At=0;At<24;At++){for(var Rt=0;Rt<5;Rt++){for(var It=0,Lt=0,Pt=0;Pt<5;Pt++){var wt=yt[Rt+5*Pt];It^=wt.high,Lt^=wt.low}var Nt=mt[Rt];Nt.high=It,Nt.low=Lt}for(var Rt=0;Rt<5;Rt++)for(var Ot=mt[(Rt+4)%5],Bt=mt[(Rt+1)%5],zt=Bt.high,Vt=Bt.low,It=Ot.high^(zt<<1|Vt>>>31),Lt=Ot.low^(Vt<<1|zt>>>31),Pt=0;Pt<5;Pt++){var wt=yt[Rt+5*Pt];wt.high^=It,wt.low^=Lt}for(var Ut=1;Ut<25;Ut++){var It,Lt,wt=yt[Ut],jt=wt.high,qt=wt.low,Dt=dt[Ut];Dt<32?(It=jt<<Dt|qt>>>32-Dt,Lt=qt<<Dt|jt>>>32-Dt):(It=qt<<Dt-32|jt>>>64-Dt,Lt=jt<<Dt-32|qt>>>64-Dt);var Ft=mt[ft[Ut]];Ft.high=It,Ft.low=Lt}var Zt=mt[0],Kt=yt[0];Zt.high=Kt.high,Zt.low=Kt.low;for(var Rt=0;Rt<5;Rt++)for(var Pt=0;Pt<5;Pt++){var Ut=Rt+5*Pt,wt=yt[Ut],ir=mt[Ut],rr=mt[(Rt+1)%5+5*Pt],mr=mt[(Rt+2)%5+5*Pt];wt.high=ir.high^~rr.high&mr.high,wt.low=ir.low^~rr.low&mr.low}var wt=yt[0],sr=pt[At];wt.high^=sr.high,wt.low^=sr.low}},_doFinalize:function(){var gt=this._data,vt=gt.words;this._nDataBytes*8;var yt=gt.sigBytes*8,bt=this.blockSize*32;vt[yt>>>5]|=1<<24-yt%32,vt[(nt.ceil((yt+1)/bt)*bt>>>5)-1]|=128,gt.sigBytes=vt.length*4,this._process();for(var xt=this._state,$t=this.cfg.outputLength/8,Tt=$t/8,wt=[],At=0;At<Tt;At++){var Rt=xt[At],It=Rt.high,Lt=Rt.low;It=(It<<8|It>>>24)&16711935|(It<<24|It>>>8)&4278255360,Lt=(Lt<<8|Lt>>>24)&16711935|(Lt<<24|Lt>>>8)&4278255360,wt.push(Lt),wt.push(It)}return new at.init(wt,$t)},clone:function(){for(var gt=st.clone.call(this),vt=gt._state=this._state.slice(0),yt=0;yt<25;yt++)vt[yt]=vt[yt].clone();return gt}});it.SHA3=st._createHelper(ht),it.HmacSHA3=st._createHmacHelper(ht)}(Math),rt.SHA3})}(sha3)),sha3Exports}var ripemd160Exports={},ripemd160={get exports(){return ripemd160Exports},set exports(tt){ripemd160Exports=tt}},hasRequiredRipemd160;function requireRipemd160(){return hasRequiredRipemd160||(hasRequiredRipemd160=1,function(tt,et){(function(rt,nt){tt.exports=nt(requireCore())})(commonjsGlobal$4,function(rt){/** @preserve
			(c) 2012 by Cédric Mesnil. All rights reserved.

			Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:

			    - Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.
			    - Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.

			THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT HOLDER OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
			*/return function(nt){var it=rt,ot=it.lib,at=ot.WordArray,st=ot.Hasher,lt=it.algo,ct=at.create([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13]),ut=at.create([5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11]),dt=at.create([11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6]),ft=at.create([8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]),pt=at.create([0,1518500249,1859775393,2400959708,2840853838]),mt=at.create([1352829926,1548603684,1836072691,2053994217,0]),ht=lt.RIPEMD160=st.extend({_doReset:function(){this._hash=at.create([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(Tt,wt){for(var At=0;At<16;At++){var Rt=wt+At,It=Tt[Rt];Tt[Rt]=(It<<8|It>>>24)&16711935|(It<<24|It>>>8)&4278255360}var Lt=this._hash.words,Pt=pt.words,Nt=mt.words,Ot=ct.words,Bt=ut.words,zt=dt.words,Vt=ft.words,Ut,jt,qt,Dt,Ft,Zt,Kt,ir,rr,mr;Zt=Ut=Lt[0],Kt=jt=Lt[1],ir=qt=Lt[2],rr=Dt=Lt[3],mr=Ft=Lt[4];for(var sr,At=0;At<80;At+=1)sr=Ut+Tt[wt+Ot[At]]|0,At<16?sr+=gt(jt,qt,Dt)+Pt[0]:At<32?sr+=vt(jt,qt,Dt)+Pt[1]:At<48?sr+=yt(jt,qt,Dt)+Pt[2]:At<64?sr+=bt(jt,qt,Dt)+Pt[3]:sr+=xt(jt,qt,Dt)+Pt[4],sr=sr|0,sr=$t(sr,zt[At]),sr=sr+Ft|0,Ut=Ft,Ft=Dt,Dt=$t(qt,10),qt=jt,jt=sr,sr=Zt+Tt[wt+Bt[At]]|0,At<16?sr+=xt(Kt,ir,rr)+Nt[0]:At<32?sr+=bt(Kt,ir,rr)+Nt[1]:At<48?sr+=yt(Kt,ir,rr)+Nt[2]:At<64?sr+=vt(Kt,ir,rr)+Nt[3]:sr+=gt(Kt,ir,rr)+Nt[4],sr=sr|0,sr=$t(sr,Vt[At]),sr=sr+mr|0,Zt=mr,mr=rr,rr=$t(ir,10),ir=Kt,Kt=sr;sr=Lt[1]+qt+rr|0,Lt[1]=Lt[2]+Dt+mr|0,Lt[2]=Lt[3]+Ft+Zt|0,Lt[3]=Lt[4]+Ut+Kt|0,Lt[4]=Lt[0]+jt+ir|0,Lt[0]=sr},_doFinalize:function(){var Tt=this._data,wt=Tt.words,At=this._nDataBytes*8,Rt=Tt.sigBytes*8;wt[Rt>>>5]|=128<<24-Rt%32,wt[(Rt+64>>>9<<4)+14]=(At<<8|At>>>24)&16711935|(At<<24|At>>>8)&4278255360,Tt.sigBytes=(wt.length+1)*4,this._process();for(var It=this._hash,Lt=It.words,Pt=0;Pt<5;Pt++){var Nt=Lt[Pt];Lt[Pt]=(Nt<<8|Nt>>>24)&16711935|(Nt<<24|Nt>>>8)&4278255360}return It},clone:function(){var Tt=st.clone.call(this);return Tt._hash=this._hash.clone(),Tt}});function gt(Tt,wt,At){return Tt^wt^At}function vt(Tt,wt,At){return Tt&wt|~Tt&At}function yt(Tt,wt,At){return(Tt|~wt)^At}function bt(Tt,wt,At){return Tt&At|wt&~At}function xt(Tt,wt,At){return Tt^(wt|~At)}function $t(Tt,wt){return Tt<<wt|Tt>>>32-wt}it.RIPEMD160=st._createHelper(ht),it.HmacRIPEMD160=st._createHmacHelper(ht)}(),rt.RIPEMD160})}(ripemd160)),ripemd160Exports}var hmacExports={},hmac={get exports(){return hmacExports},set exports(tt){hmacExports=tt}},hasRequiredHmac;function requireHmac(){return hasRequiredHmac||(hasRequiredHmac=1,function(tt,et){(function(rt,nt){tt.exports=nt(requireCore())})(commonjsGlobal$4,function(rt){(function(){var nt=rt,it=nt.lib,ot=it.Base,at=nt.enc,st=at.Utf8,lt=nt.algo;lt.HMAC=ot.extend({init:function(ct,ut){ct=this._hasher=new ct.init,typeof ut=="string"&&(ut=st.parse(ut));var dt=ct.blockSize,ft=dt*4;ut.sigBytes>ft&&(ut=ct.finalize(ut)),ut.clamp();for(var pt=this._oKey=ut.clone(),mt=this._iKey=ut.clone(),ht=pt.words,gt=mt.words,vt=0;vt<dt;vt++)ht[vt]^=1549556828,gt[vt]^=909522486;pt.sigBytes=mt.sigBytes=ft,this.reset()},reset:function(){var ct=this._hasher;ct.reset(),ct.update(this._iKey)},update:function(ct){return this._hasher.update(ct),this},finalize:function(ct){var ut=this._hasher,dt=ut.finalize(ct);ut.reset();var ft=ut.finalize(this._oKey.clone().concat(dt));return ft}})})()})}(hmac)),hmacExports}var pbkdf2Exports={},pbkdf2={get exports(){return pbkdf2Exports},set exports(tt){pbkdf2Exports=tt}},hasRequiredPbkdf2;function requirePbkdf2(){return hasRequiredPbkdf2||(hasRequiredPbkdf2=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.lib,ot=it.Base,at=it.WordArray,st=nt.algo,lt=st.SHA1,ct=st.HMAC,ut=st.PBKDF2=ot.extend({cfg:ot.extend({keySize:128/32,hasher:lt,iterations:1}),init:function(dt){this.cfg=this.cfg.extend(dt)},compute:function(dt,ft){for(var pt=this.cfg,mt=ct.create(pt.hasher,dt),ht=at.create(),gt=at.create([1]),vt=ht.words,yt=gt.words,bt=pt.keySize,xt=pt.iterations;vt.length<bt;){var $t=mt.update(ft).finalize(gt);mt.reset();for(var Tt=$t.words,wt=Tt.length,At=$t,Rt=1;Rt<xt;Rt++){At=mt.finalize(At),mt.reset();for(var It=At.words,Lt=0;Lt<wt;Lt++)Tt[Lt]^=It[Lt]}ht.concat($t),yt[0]++}return ht.sigBytes=bt*4,ht}});nt.PBKDF2=function(dt,ft,pt){return ut.create(pt).compute(dt,ft)}}(),rt.PBKDF2})}(pbkdf2)),pbkdf2Exports}var evpkdfExports={},evpkdf={get exports(){return evpkdfExports},set exports(tt){evpkdfExports=tt}},hasRequiredEvpkdf;function requireEvpkdf(){return hasRequiredEvpkdf||(hasRequiredEvpkdf=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireSha1(),requireHmac())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.lib,ot=it.Base,at=it.WordArray,st=nt.algo,lt=st.MD5,ct=st.EvpKDF=ot.extend({cfg:ot.extend({keySize:128/32,hasher:lt,iterations:1}),init:function(ut){this.cfg=this.cfg.extend(ut)},compute:function(ut,dt){for(var ft,pt=this.cfg,mt=pt.hasher.create(),ht=at.create(),gt=ht.words,vt=pt.keySize,yt=pt.iterations;gt.length<vt;){ft&&mt.update(ft),ft=mt.update(ut).finalize(dt),mt.reset();for(var bt=1;bt<yt;bt++)ft=mt.finalize(ft),mt.reset();ht.concat(ft)}return ht.sigBytes=vt*4,ht}});nt.EvpKDF=function(ut,dt,ft){return ct.create(ft).compute(ut,dt)}}(),rt.EvpKDF})}(evpkdf)),evpkdfExports}var cipherCoreExports={},cipherCore={get exports(){return cipherCoreExports},set exports(tt){cipherCoreExports=tt}},hasRequiredCipherCore;function requireCipherCore(){return hasRequiredCipherCore||(hasRequiredCipherCore=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireEvpkdf())})(commonjsGlobal$4,function(rt){rt.lib.Cipher||function(nt){var it=rt,ot=it.lib,at=ot.Base,st=ot.WordArray,lt=ot.BufferedBlockAlgorithm,ct=it.enc;ct.Utf8;var ut=ct.Base64,dt=it.algo,ft=dt.EvpKDF,pt=ot.Cipher=lt.extend({cfg:at.extend(),createEncryptor:function(It,Lt){return this.create(this._ENC_XFORM_MODE,It,Lt)},createDecryptor:function(It,Lt){return this.create(this._DEC_XFORM_MODE,It,Lt)},init:function(It,Lt,Pt){this.cfg=this.cfg.extend(Pt),this._xformMode=It,this._key=Lt,this.reset()},reset:function(){lt.reset.call(this),this._doReset()},process:function(It){return this._append(It),this._process()},finalize:function(It){It&&this._append(It);var Lt=this._doFinalize();return Lt},keySize:128/32,ivSize:128/32,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(){function It(Lt){return typeof Lt=="string"?Rt:Tt}return function(Lt){return{encrypt:function(Pt,Nt,Ot){return It(Nt).encrypt(Lt,Pt,Nt,Ot)},decrypt:function(Pt,Nt,Ot){return It(Nt).decrypt(Lt,Pt,Nt,Ot)}}}}()});ot.StreamCipher=pt.extend({_doFinalize:function(){var It=this._process(!0);return It},blockSize:1});var mt=it.mode={},ht=ot.BlockCipherMode=at.extend({createEncryptor:function(It,Lt){return this.Encryptor.create(It,Lt)},createDecryptor:function(It,Lt){return this.Decryptor.create(It,Lt)},init:function(It,Lt){this._cipher=It,this._iv=Lt}}),gt=mt.CBC=function(){var It=ht.extend();It.Encryptor=It.extend({processBlock:function(Pt,Nt){var Ot=this._cipher,Bt=Ot.blockSize;Lt.call(this,Pt,Nt,Bt),Ot.encryptBlock(Pt,Nt),this._prevBlock=Pt.slice(Nt,Nt+Bt)}}),It.Decryptor=It.extend({processBlock:function(Pt,Nt){var Ot=this._cipher,Bt=Ot.blockSize,zt=Pt.slice(Nt,Nt+Bt);Ot.decryptBlock(Pt,Nt),Lt.call(this,Pt,Nt,Bt),this._prevBlock=zt}});function Lt(Pt,Nt,Ot){var Bt,zt=this._iv;zt?(Bt=zt,this._iv=nt):Bt=this._prevBlock;for(var Vt=0;Vt<Ot;Vt++)Pt[Nt+Vt]^=Bt[Vt]}return It}(),vt=it.pad={},yt=vt.Pkcs7={pad:function(It,Lt){for(var Pt=Lt*4,Nt=Pt-It.sigBytes%Pt,Ot=Nt<<24|Nt<<16|Nt<<8|Nt,Bt=[],zt=0;zt<Nt;zt+=4)Bt.push(Ot);var Vt=st.create(Bt,Nt);It.concat(Vt)},unpad:function(It){var Lt=It.words[It.sigBytes-1>>>2]&255;It.sigBytes-=Lt}};ot.BlockCipher=pt.extend({cfg:pt.cfg.extend({mode:gt,padding:yt}),reset:function(){var It;pt.reset.call(this);var Lt=this.cfg,Pt=Lt.iv,Nt=Lt.mode;this._xformMode==this._ENC_XFORM_MODE?It=Nt.createEncryptor:(It=Nt.createDecryptor,this._minBufferSize=1),this._mode&&this._mode.__creator==It?this._mode.init(this,Pt&&Pt.words):(this._mode=It.call(Nt,this,Pt&&Pt.words),this._mode.__creator=It)},_doProcessBlock:function(It,Lt){this._mode.processBlock(It,Lt)},_doFinalize:function(){var It,Lt=this.cfg.padding;return this._xformMode==this._ENC_XFORM_MODE?(Lt.pad(this._data,this.blockSize),It=this._process(!0)):(It=this._process(!0),Lt.unpad(It)),It},blockSize:128/32});var bt=ot.CipherParams=at.extend({init:function(It){this.mixIn(It)},toString:function(It){return(It||this.formatter).stringify(this)}}),xt=it.format={},$t=xt.OpenSSL={stringify:function(It){var Lt,Pt=It.ciphertext,Nt=It.salt;return Nt?Lt=st.create([1398893684,1701076831]).concat(Nt).concat(Pt):Lt=Pt,Lt.toString(ut)},parse:function(It){var Lt,Pt=ut.parse(It),Nt=Pt.words;return Nt[0]==1398893684&&Nt[1]==1701076831&&(Lt=st.create(Nt.slice(2,4)),Nt.splice(0,4),Pt.sigBytes-=16),bt.create({ciphertext:Pt,salt:Lt})}},Tt=ot.SerializableCipher=at.extend({cfg:at.extend({format:$t}),encrypt:function(It,Lt,Pt,Nt){Nt=this.cfg.extend(Nt);var Ot=It.createEncryptor(Pt,Nt),Bt=Ot.finalize(Lt),zt=Ot.cfg;return bt.create({ciphertext:Bt,key:Pt,iv:zt.iv,algorithm:It,mode:zt.mode,padding:zt.padding,blockSize:It.blockSize,formatter:Nt.format})},decrypt:function(It,Lt,Pt,Nt){Nt=this.cfg.extend(Nt),Lt=this._parse(Lt,Nt.format);var Ot=It.createDecryptor(Pt,Nt).finalize(Lt.ciphertext);return Ot},_parse:function(It,Lt){return typeof It=="string"?Lt.parse(It,this):It}}),wt=it.kdf={},At=wt.OpenSSL={execute:function(It,Lt,Pt,Nt){Nt||(Nt=st.random(64/8));var Ot=ft.create({keySize:Lt+Pt}).compute(It,Nt),Bt=st.create(Ot.words.slice(Lt),Pt*4);return Ot.sigBytes=Lt*4,bt.create({key:Ot,iv:Bt,salt:Nt})}},Rt=ot.PasswordBasedCipher=Tt.extend({cfg:Tt.cfg.extend({kdf:At}),encrypt:function(It,Lt,Pt,Nt){Nt=this.cfg.extend(Nt);var Ot=Nt.kdf.execute(Pt,It.keySize,It.ivSize);Nt.iv=Ot.iv;var Bt=Tt.encrypt.call(this,It,Lt,Ot.key,Nt);return Bt.mixIn(Ot),Bt},decrypt:function(It,Lt,Pt,Nt){Nt=this.cfg.extend(Nt),Lt=this._parse(Lt,Nt.format);var Ot=Nt.kdf.execute(Pt,It.keySize,It.ivSize,Lt.salt);Nt.iv=Ot.iv;var Bt=Tt.decrypt.call(this,It,Lt,Ot.key,Nt);return Bt}})}()})}(cipherCore)),cipherCoreExports}var modeCfbExports={},modeCfb={get exports(){return modeCfbExports},set exports(tt){modeCfbExports=tt}},hasRequiredModeCfb;function requireModeCfb(){return hasRequiredModeCfb||(hasRequiredModeCfb=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$4,function(rt){return rt.mode.CFB=function(){var nt=rt.lib.BlockCipherMode.extend();nt.Encryptor=nt.extend({processBlock:function(ot,at){var st=this._cipher,lt=st.blockSize;it.call(this,ot,at,lt,st),this._prevBlock=ot.slice(at,at+lt)}}),nt.Decryptor=nt.extend({processBlock:function(ot,at){var st=this._cipher,lt=st.blockSize,ct=ot.slice(at,at+lt);it.call(this,ot,at,lt,st),this._prevBlock=ct}});function it(ot,at,st,lt){var ct,ut=this._iv;ut?(ct=ut.slice(0),this._iv=void 0):ct=this._prevBlock,lt.encryptBlock(ct,0);for(var dt=0;dt<st;dt++)ot[at+dt]^=ct[dt]}return nt}(),rt.mode.CFB})}(modeCfb)),modeCfbExports}var modeCtrExports={},modeCtr={get exports(){return modeCtrExports},set exports(tt){modeCtrExports=tt}},hasRequiredModeCtr;function requireModeCtr(){return hasRequiredModeCtr||(hasRequiredModeCtr=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$4,function(rt){return rt.mode.CTR=function(){var nt=rt.lib.BlockCipherMode.extend(),it=nt.Encryptor=nt.extend({processBlock:function(ot,at){var st=this._cipher,lt=st.blockSize,ct=this._iv,ut=this._counter;ct&&(ut=this._counter=ct.slice(0),this._iv=void 0);var dt=ut.slice(0);st.encryptBlock(dt,0),ut[lt-1]=ut[lt-1]+1|0;for(var ft=0;ft<lt;ft++)ot[at+ft]^=dt[ft]}});return nt.Decryptor=it,nt}(),rt.mode.CTR})}(modeCtr)),modeCtrExports}var modeCtrGladmanExports={},modeCtrGladman={get exports(){return modeCtrGladmanExports},set exports(tt){modeCtrGladmanExports=tt}},hasRequiredModeCtrGladman;function requireModeCtrGladman(){return hasRequiredModeCtrGladman||(hasRequiredModeCtrGladman=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$4,function(rt){/** @preserve
 * Counter block mode compatible with  Dr Brian Gladman fileenc.c
 * derived from CryptoJS.mode.CTR
 * Jan Hruby jhruby.web@gmail.com
 */return rt.mode.CTRGladman=function(){var nt=rt.lib.BlockCipherMode.extend();function it(st){if((st>>24&255)===255){var lt=st>>16&255,ct=st>>8&255,ut=st&255;lt===255?(lt=0,ct===255?(ct=0,ut===255?ut=0:++ut):++ct):++lt,st=0,st+=lt<<16,st+=ct<<8,st+=ut}else st+=1<<24;return st}function ot(st){return(st[0]=it(st[0]))===0&&(st[1]=it(st[1])),st}var at=nt.Encryptor=nt.extend({processBlock:function(st,lt){var ct=this._cipher,ut=ct.blockSize,dt=this._iv,ft=this._counter;dt&&(ft=this._counter=dt.slice(0),this._iv=void 0),ot(ft);var pt=ft.slice(0);ct.encryptBlock(pt,0);for(var mt=0;mt<ut;mt++)st[lt+mt]^=pt[mt]}});return nt.Decryptor=at,nt}(),rt.mode.CTRGladman})}(modeCtrGladman)),modeCtrGladmanExports}var modeOfbExports={},modeOfb={get exports(){return modeOfbExports},set exports(tt){modeOfbExports=tt}},hasRequiredModeOfb;function requireModeOfb(){return hasRequiredModeOfb||(hasRequiredModeOfb=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$4,function(rt){return rt.mode.OFB=function(){var nt=rt.lib.BlockCipherMode.extend(),it=nt.Encryptor=nt.extend({processBlock:function(ot,at){var st=this._cipher,lt=st.blockSize,ct=this._iv,ut=this._keystream;ct&&(ut=this._keystream=ct.slice(0),this._iv=void 0),st.encryptBlock(ut,0);for(var dt=0;dt<lt;dt++)ot[at+dt]^=ut[dt]}});return nt.Decryptor=it,nt}(),rt.mode.OFB})}(modeOfb)),modeOfbExports}var modeEcbExports={},modeEcb={get exports(){return modeEcbExports},set exports(tt){modeEcbExports=tt}},hasRequiredModeEcb;function requireModeEcb(){return hasRequiredModeEcb||(hasRequiredModeEcb=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$4,function(rt){return rt.mode.ECB=function(){var nt=rt.lib.BlockCipherMode.extend();return nt.Encryptor=nt.extend({processBlock:function(it,ot){this._cipher.encryptBlock(it,ot)}}),nt.Decryptor=nt.extend({processBlock:function(it,ot){this._cipher.decryptBlock(it,ot)}}),nt}(),rt.mode.ECB})}(modeEcb)),modeEcbExports}var padAnsix923Exports={},padAnsix923={get exports(){return padAnsix923Exports},set exports(tt){padAnsix923Exports=tt}},hasRequiredPadAnsix923;function requirePadAnsix923(){return hasRequiredPadAnsix923||(hasRequiredPadAnsix923=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$4,function(rt){return rt.pad.AnsiX923={pad:function(nt,it){var ot=nt.sigBytes,at=it*4,st=at-ot%at,lt=ot+st-1;nt.clamp(),nt.words[lt>>>2]|=st<<24-lt%4*8,nt.sigBytes+=st},unpad:function(nt){var it=nt.words[nt.sigBytes-1>>>2]&255;nt.sigBytes-=it}},rt.pad.Ansix923})}(padAnsix923)),padAnsix923Exports}var padIso10126Exports={},padIso10126={get exports(){return padIso10126Exports},set exports(tt){padIso10126Exports=tt}},hasRequiredPadIso10126;function requirePadIso10126(){return hasRequiredPadIso10126||(hasRequiredPadIso10126=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$4,function(rt){return rt.pad.Iso10126={pad:function(nt,it){var ot=it*4,at=ot-nt.sigBytes%ot;nt.concat(rt.lib.WordArray.random(at-1)).concat(rt.lib.WordArray.create([at<<24],1))},unpad:function(nt){var it=nt.words[nt.sigBytes-1>>>2]&255;nt.sigBytes-=it}},rt.pad.Iso10126})}(padIso10126)),padIso10126Exports}var padIso97971Exports={},padIso97971={get exports(){return padIso97971Exports},set exports(tt){padIso97971Exports=tt}},hasRequiredPadIso97971;function requirePadIso97971(){return hasRequiredPadIso97971||(hasRequiredPadIso97971=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$4,function(rt){return rt.pad.Iso97971={pad:function(nt,it){nt.concat(rt.lib.WordArray.create([2147483648],1)),rt.pad.ZeroPadding.pad(nt,it)},unpad:function(nt){rt.pad.ZeroPadding.unpad(nt),nt.sigBytes--}},rt.pad.Iso97971})}(padIso97971)),padIso97971Exports}var padZeropaddingExports={},padZeropadding={get exports(){return padZeropaddingExports},set exports(tt){padZeropaddingExports=tt}},hasRequiredPadZeropadding;function requirePadZeropadding(){return hasRequiredPadZeropadding||(hasRequiredPadZeropadding=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$4,function(rt){return rt.pad.ZeroPadding={pad:function(nt,it){var ot=it*4;nt.clamp(),nt.sigBytes+=ot-(nt.sigBytes%ot||ot)},unpad:function(nt){for(var it=nt.words,ot=nt.sigBytes-1,ot=nt.sigBytes-1;ot>=0;ot--)if(it[ot>>>2]>>>24-ot%4*8&255){nt.sigBytes=ot+1;break}}},rt.pad.ZeroPadding})}(padZeropadding)),padZeropaddingExports}var padNopaddingExports={},padNopadding={get exports(){return padNopaddingExports},set exports(tt){padNopaddingExports=tt}},hasRequiredPadNopadding;function requirePadNopadding(){return hasRequiredPadNopadding||(hasRequiredPadNopadding=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$4,function(rt){return rt.pad.NoPadding={pad:function(){},unpad:function(){}},rt.pad.NoPadding})}(padNopadding)),padNopaddingExports}var formatHexExports={},formatHex={get exports(){return formatHexExports},set exports(tt){formatHexExports=tt}},hasRequiredFormatHex;function requireFormatHex(){return hasRequiredFormatHex||(hasRequiredFormatHex=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireCipherCore())})(commonjsGlobal$4,function(rt){return function(nt){var it=rt,ot=it.lib,at=ot.CipherParams,st=it.enc,lt=st.Hex,ct=it.format;ct.Hex={stringify:function(ut){return ut.ciphertext.toString(lt)},parse:function(ut){var dt=lt.parse(ut);return at.create({ciphertext:dt})}}}(),rt.format.Hex})}(formatHex)),formatHexExports}var aesExports$1={},aes={get exports(){return aesExports$1},set exports(tt){aesExports$1=tt}},hasRequiredAes;function requireAes(){return hasRequiredAes||(hasRequiredAes=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.lib,ot=it.BlockCipher,at=nt.algo,st=[],lt=[],ct=[],ut=[],dt=[],ft=[],pt=[],mt=[],ht=[],gt=[];(function(){for(var bt=[],xt=0;xt<256;xt++)xt<128?bt[xt]=xt<<1:bt[xt]=xt<<1^283;for(var $t=0,Tt=0,xt=0;xt<256;xt++){var wt=Tt^Tt<<1^Tt<<2^Tt<<3^Tt<<4;wt=wt>>>8^wt&255^99,st[$t]=wt,lt[wt]=$t;var At=bt[$t],Rt=bt[At],It=bt[Rt],Lt=bt[wt]*257^wt*16843008;ct[$t]=Lt<<24|Lt>>>8,ut[$t]=Lt<<16|Lt>>>16,dt[$t]=Lt<<8|Lt>>>24,ft[$t]=Lt;var Lt=It*16843009^Rt*65537^At*257^$t*16843008;pt[wt]=Lt<<24|Lt>>>8,mt[wt]=Lt<<16|Lt>>>16,ht[wt]=Lt<<8|Lt>>>24,gt[wt]=Lt,$t?($t=At^bt[bt[bt[It^At]]],Tt^=bt[bt[Tt]]):$t=Tt=1}})();var vt=[0,1,2,4,8,16,32,64,128,27,54],yt=at.AES=ot.extend({_doReset:function(){var bt;if(!(this._nRounds&&this._keyPriorReset===this._key)){for(var xt=this._keyPriorReset=this._key,$t=xt.words,Tt=xt.sigBytes/4,wt=this._nRounds=Tt+6,At=(wt+1)*4,Rt=this._keySchedule=[],It=0;It<At;It++)It<Tt?Rt[It]=$t[It]:(bt=Rt[It-1],It%Tt?Tt>6&&It%Tt==4&&(bt=st[bt>>>24]<<24|st[bt>>>16&255]<<16|st[bt>>>8&255]<<8|st[bt&255]):(bt=bt<<8|bt>>>24,bt=st[bt>>>24]<<24|st[bt>>>16&255]<<16|st[bt>>>8&255]<<8|st[bt&255],bt^=vt[It/Tt|0]<<24),Rt[It]=Rt[It-Tt]^bt);for(var Lt=this._invKeySchedule=[],Pt=0;Pt<At;Pt++){var It=At-Pt;if(Pt%4)var bt=Rt[It];else var bt=Rt[It-4];Pt<4||It<=4?Lt[Pt]=bt:Lt[Pt]=pt[st[bt>>>24]]^mt[st[bt>>>16&255]]^ht[st[bt>>>8&255]]^gt[st[bt&255]]}}},encryptBlock:function(bt,xt){this._doCryptBlock(bt,xt,this._keySchedule,ct,ut,dt,ft,st)},decryptBlock:function(bt,xt){var $t=bt[xt+1];bt[xt+1]=bt[xt+3],bt[xt+3]=$t,this._doCryptBlock(bt,xt,this._invKeySchedule,pt,mt,ht,gt,lt);var $t=bt[xt+1];bt[xt+1]=bt[xt+3],bt[xt+3]=$t},_doCryptBlock:function(bt,xt,$t,Tt,wt,At,Rt,It){for(var Lt=this._nRounds,Pt=bt[xt]^$t[0],Nt=bt[xt+1]^$t[1],Ot=bt[xt+2]^$t[2],Bt=bt[xt+3]^$t[3],zt=4,Vt=1;Vt<Lt;Vt++){var Ut=Tt[Pt>>>24]^wt[Nt>>>16&255]^At[Ot>>>8&255]^Rt[Bt&255]^$t[zt++],jt=Tt[Nt>>>24]^wt[Ot>>>16&255]^At[Bt>>>8&255]^Rt[Pt&255]^$t[zt++],qt=Tt[Ot>>>24]^wt[Bt>>>16&255]^At[Pt>>>8&255]^Rt[Nt&255]^$t[zt++],Dt=Tt[Bt>>>24]^wt[Pt>>>16&255]^At[Nt>>>8&255]^Rt[Ot&255]^$t[zt++];Pt=Ut,Nt=jt,Ot=qt,Bt=Dt}var Ut=(It[Pt>>>24]<<24|It[Nt>>>16&255]<<16|It[Ot>>>8&255]<<8|It[Bt&255])^$t[zt++],jt=(It[Nt>>>24]<<24|It[Ot>>>16&255]<<16|It[Bt>>>8&255]<<8|It[Pt&255])^$t[zt++],qt=(It[Ot>>>24]<<24|It[Bt>>>16&255]<<16|It[Pt>>>8&255]<<8|It[Nt&255])^$t[zt++],Dt=(It[Bt>>>24]<<24|It[Pt>>>16&255]<<16|It[Nt>>>8&255]<<8|It[Ot&255])^$t[zt++];bt[xt]=Ut,bt[xt+1]=jt,bt[xt+2]=qt,bt[xt+3]=Dt},keySize:256/32});nt.AES=ot._createHelper(yt)}(),rt.AES})}(aes)),aesExports$1}var tripledesExports={},tripledes={get exports(){return tripledesExports},set exports(tt){tripledesExports=tt}},hasRequiredTripledes;function requireTripledes(){return hasRequiredTripledes||(hasRequiredTripledes=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.lib,ot=it.WordArray,at=it.BlockCipher,st=nt.algo,lt=[57,49,41,33,25,17,9,1,58,50,42,34,26,18,10,2,59,51,43,35,27,19,11,3,60,52,44,36,63,55,47,39,31,23,15,7,62,54,46,38,30,22,14,6,61,53,45,37,29,21,13,5,28,20,12,4],ct=[14,17,11,24,1,5,3,28,15,6,21,10,23,19,12,4,26,8,16,7,27,20,13,2,41,52,31,37,47,55,30,40,51,45,33,48,44,49,39,56,34,53,46,42,50,36,29,32],ut=[1,2,4,6,8,10,12,14,15,17,19,21,23,25,27,28],dt=[{0:8421888,268435456:32768,536870912:8421378,805306368:2,1073741824:512,1342177280:8421890,1610612736:8389122,1879048192:8388608,2147483648:514,2415919104:8389120,2684354560:33280,2952790016:8421376,3221225472:32770,3489660928:8388610,3758096384:0,4026531840:33282,134217728:0,402653184:8421890,671088640:33282,939524096:32768,1207959552:8421888,1476395008:512,1744830464:8421378,2013265920:2,2281701376:8389120,2550136832:33280,2818572288:8421376,3087007744:8389122,3355443200:8388610,3623878656:32770,3892314112:514,4160749568:8388608,1:32768,268435457:2,536870913:8421888,805306369:8388608,1073741825:8421378,1342177281:33280,1610612737:512,1879048193:8389122,2147483649:8421890,2415919105:8421376,2684354561:8388610,2952790017:33282,3221225473:514,3489660929:8389120,3758096385:32770,4026531841:0,134217729:8421890,402653185:8421376,671088641:8388608,939524097:512,1207959553:32768,1476395009:8388610,1744830465:2,2013265921:33282,2281701377:32770,2550136833:8389122,2818572289:514,3087007745:8421888,3355443201:8389120,3623878657:0,3892314113:33280,4160749569:8421378},{0:1074282512,16777216:16384,33554432:524288,50331648:1074266128,67108864:1073741840,83886080:1074282496,100663296:1073758208,117440512:16,134217728:540672,150994944:1073758224,167772160:1073741824,184549376:540688,201326592:524304,218103808:0,234881024:16400,251658240:1074266112,8388608:1073758208,25165824:540688,41943040:16,58720256:1073758224,75497472:1074282512,92274688:1073741824,109051904:524288,125829120:1074266128,142606336:524304,159383552:0,176160768:16384,192937984:1074266112,209715200:1073741840,226492416:540672,243269632:1074282496,260046848:16400,268435456:0,285212672:1074266128,301989888:1073758224,318767104:1074282496,335544320:1074266112,352321536:16,369098752:540688,385875968:16384,402653184:16400,419430400:524288,436207616:524304,452984832:1073741840,469762048:540672,486539264:1073758208,503316480:1073741824,520093696:1074282512,276824064:540688,293601280:524288,310378496:1074266112,327155712:16384,343932928:1073758208,360710144:1074282512,377487360:16,394264576:1073741824,411041792:1074282496,427819008:1073741840,444596224:1073758224,461373440:524304,478150656:0,494927872:16400,511705088:1074266128,528482304:540672},{0:260,1048576:0,2097152:67109120,3145728:65796,4194304:65540,5242880:67108868,6291456:67174660,7340032:67174400,8388608:67108864,9437184:67174656,10485760:65792,11534336:67174404,12582912:67109124,13631488:65536,14680064:4,15728640:256,524288:67174656,1572864:67174404,2621440:0,3670016:67109120,4718592:67108868,5767168:65536,6815744:65540,7864320:260,8912896:4,9961472:256,11010048:67174400,12058624:65796,13107200:65792,14155776:67109124,15204352:67174660,16252928:67108864,16777216:67174656,17825792:65540,18874368:65536,19922944:67109120,20971520:256,22020096:67174660,23068672:67108868,24117248:0,25165824:67109124,26214400:67108864,27262976:4,28311552:65792,29360128:67174400,30408704:260,31457280:65796,32505856:67174404,17301504:67108864,18350080:260,19398656:67174656,20447232:0,21495808:65540,22544384:67109120,23592960:256,24641536:67174404,25690112:65536,26738688:67174660,27787264:65796,28835840:67108868,29884416:67109124,30932992:67174400,31981568:4,33030144:65792},{0:2151682048,65536:2147487808,131072:4198464,196608:2151677952,262144:0,327680:4198400,393216:2147483712,458752:4194368,524288:2147483648,589824:4194304,655360:64,720896:2147487744,786432:2151678016,851968:4160,917504:4096,983040:2151682112,32768:2147487808,98304:64,163840:2151678016,229376:2147487744,294912:4198400,360448:2151682112,425984:0,491520:2151677952,557056:4096,622592:2151682048,688128:4194304,753664:4160,819200:2147483648,884736:4194368,950272:4198464,1015808:2147483712,1048576:4194368,1114112:4198400,1179648:2147483712,1245184:0,1310720:4160,1376256:2151678016,1441792:2151682048,1507328:2147487808,1572864:2151682112,1638400:2147483648,1703936:2151677952,1769472:4198464,1835008:2147487744,1900544:4194304,1966080:64,2031616:4096,1081344:2151677952,1146880:2151682112,1212416:0,1277952:4198400,1343488:4194368,1409024:2147483648,1474560:2147487808,1540096:64,1605632:2147483712,1671168:4096,1736704:2147487744,1802240:2151678016,1867776:4160,1933312:2151682048,1998848:4194304,2064384:4198464},{0:128,4096:17039360,8192:262144,12288:536870912,16384:537133184,20480:16777344,24576:553648256,28672:262272,32768:16777216,36864:537133056,40960:536871040,45056:553910400,49152:553910272,53248:0,57344:17039488,61440:553648128,2048:17039488,6144:553648256,10240:128,14336:17039360,18432:262144,22528:537133184,26624:553910272,30720:536870912,34816:537133056,38912:0,43008:553910400,47104:16777344,51200:536871040,55296:553648128,59392:16777216,63488:262272,65536:262144,69632:128,73728:536870912,77824:553648256,81920:16777344,86016:553910272,90112:537133184,94208:16777216,98304:553910400,102400:553648128,106496:17039360,110592:537133056,114688:262272,118784:536871040,122880:0,126976:17039488,67584:553648256,71680:16777216,75776:17039360,79872:537133184,83968:536870912,88064:17039488,92160:128,96256:553910272,100352:262272,104448:553910400,108544:0,112640:553648128,116736:16777344,120832:262144,124928:537133056,129024:536871040},{0:268435464,256:8192,512:270532608,768:270540808,1024:268443648,1280:2097152,1536:2097160,1792:268435456,2048:0,2304:268443656,2560:2105344,2816:8,3072:270532616,3328:2105352,3584:8200,3840:270540800,128:270532608,384:270540808,640:8,896:2097152,1152:2105352,1408:268435464,1664:268443648,1920:8200,2176:2097160,2432:8192,2688:268443656,2944:270532616,3200:0,3456:270540800,3712:2105344,3968:268435456,4096:268443648,4352:270532616,4608:270540808,4864:8200,5120:2097152,5376:268435456,5632:268435464,5888:2105344,6144:2105352,6400:0,6656:8,6912:270532608,7168:8192,7424:268443656,7680:270540800,7936:2097160,4224:8,4480:2105344,4736:2097152,4992:268435464,5248:268443648,5504:8200,5760:270540808,6016:270532608,6272:270540800,6528:270532616,6784:8192,7040:2105352,7296:2097160,7552:0,7808:268435456,8064:268443656},{0:1048576,16:33555457,32:1024,48:1049601,64:34604033,80:0,96:1,112:34603009,128:33555456,144:1048577,160:33554433,176:34604032,192:34603008,208:1025,224:1049600,240:33554432,8:34603009,24:0,40:33555457,56:34604032,72:1048576,88:33554433,104:33554432,120:1025,136:1049601,152:33555456,168:34603008,184:1048577,200:1024,216:34604033,232:1,248:1049600,256:33554432,272:1048576,288:33555457,304:34603009,320:1048577,336:33555456,352:34604032,368:1049601,384:1025,400:34604033,416:1049600,432:1,448:0,464:34603008,480:33554433,496:1024,264:1049600,280:33555457,296:34603009,312:1,328:33554432,344:1048576,360:1025,376:34604032,392:33554433,408:34603008,424:0,440:34604033,456:1049601,472:1024,488:33555456,504:1048577},{0:134219808,1:131072,2:134217728,3:32,4:131104,5:134350880,6:134350848,7:2048,8:134348800,9:134219776,10:133120,11:134348832,12:2080,13:0,14:134217760,15:133152,2147483648:2048,2147483649:134350880,2147483650:134219808,2147483651:134217728,2147483652:134348800,2147483653:133120,2147483654:133152,2147483655:32,2147483656:134217760,2147483657:2080,2147483658:131104,2147483659:134350848,2147483660:0,2147483661:134348832,2147483662:134219776,2147483663:131072,16:133152,17:134350848,18:32,19:2048,20:134219776,21:134217760,22:134348832,23:131072,24:0,25:131104,26:134348800,27:134219808,28:134350880,29:133120,30:2080,31:134217728,2147483664:131072,2147483665:2048,2147483666:134348832,2147483667:133152,2147483668:32,2147483669:134348800,2147483670:134217728,2147483671:134219808,2147483672:134350880,2147483673:134217760,2147483674:134219776,2147483675:0,2147483676:133120,2147483677:2080,2147483678:131104,2147483679:134350848}],ft=[4160749569,528482304,33030144,2064384,129024,8064,504,2147483679],pt=st.DES=at.extend({_doReset:function(){for(var vt=this._key,yt=vt.words,bt=[],xt=0;xt<56;xt++){var $t=lt[xt]-1;bt[xt]=yt[$t>>>5]>>>31-$t%32&1}for(var Tt=this._subKeys=[],wt=0;wt<16;wt++){for(var At=Tt[wt]=[],Rt=ut[wt],xt=0;xt<24;xt++)At[xt/6|0]|=bt[(ct[xt]-1+Rt)%28]<<31-xt%6,At[4+(xt/6|0)]|=bt[28+(ct[xt+24]-1+Rt)%28]<<31-xt%6;At[0]=At[0]<<1|At[0]>>>31;for(var xt=1;xt<7;xt++)At[xt]=At[xt]>>>(xt-1)*4+3;At[7]=At[7]<<5|At[7]>>>27}for(var It=this._invSubKeys=[],xt=0;xt<16;xt++)It[xt]=Tt[15-xt]},encryptBlock:function(vt,yt){this._doCryptBlock(vt,yt,this._subKeys)},decryptBlock:function(vt,yt){this._doCryptBlock(vt,yt,this._invSubKeys)},_doCryptBlock:function(vt,yt,bt){this._lBlock=vt[yt],this._rBlock=vt[yt+1],mt.call(this,4,252645135),mt.call(this,16,65535),ht.call(this,2,858993459),ht.call(this,8,16711935),mt.call(this,1,1431655765);for(var xt=0;xt<16;xt++){for(var $t=bt[xt],Tt=this._lBlock,wt=this._rBlock,At=0,Rt=0;Rt<8;Rt++)At|=dt[Rt][((wt^$t[Rt])&ft[Rt])>>>0];this._lBlock=wt,this._rBlock=Tt^At}var It=this._lBlock;this._lBlock=this._rBlock,this._rBlock=It,mt.call(this,1,1431655765),ht.call(this,8,16711935),ht.call(this,2,858993459),mt.call(this,16,65535),mt.call(this,4,252645135),vt[yt]=this._lBlock,vt[yt+1]=this._rBlock},keySize:64/32,ivSize:64/32,blockSize:64/32});function mt(vt,yt){var bt=(this._lBlock>>>vt^this._rBlock)&yt;this._rBlock^=bt,this._lBlock^=bt<<vt}function ht(vt,yt){var bt=(this._rBlock>>>vt^this._lBlock)&yt;this._lBlock^=bt,this._rBlock^=bt<<vt}nt.DES=at._createHelper(pt);var gt=st.TripleDES=at.extend({_doReset:function(){var vt=this._key,yt=vt.words;if(yt.length!==2&&yt.length!==4&&yt.length<6)throw new Error("Invalid key length - 3DES requires the key length to be 64, 128, 192 or >192.");var bt=yt.slice(0,2),xt=yt.length<4?yt.slice(0,2):yt.slice(2,4),$t=yt.length<6?yt.slice(0,2):yt.slice(4,6);this._des1=pt.createEncryptor(ot.create(bt)),this._des2=pt.createEncryptor(ot.create(xt)),this._des3=pt.createEncryptor(ot.create($t))},encryptBlock:function(vt,yt){this._des1.encryptBlock(vt,yt),this._des2.decryptBlock(vt,yt),this._des3.encryptBlock(vt,yt)},decryptBlock:function(vt,yt){this._des3.decryptBlock(vt,yt),this._des2.encryptBlock(vt,yt),this._des1.decryptBlock(vt,yt)},keySize:192/32,ivSize:64/32,blockSize:64/32});nt.TripleDES=at._createHelper(gt)}(),rt.TripleDES})}(tripledes)),tripledesExports}var rc4Exports={},rc4={get exports(){return rc4Exports},set exports(tt){rc4Exports=tt}},hasRequiredRc4;function requireRc4(){return hasRequiredRc4||(hasRequiredRc4=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.lib,ot=it.StreamCipher,at=nt.algo,st=at.RC4=ot.extend({_doReset:function(){for(var ut=this._key,dt=ut.words,ft=ut.sigBytes,pt=this._S=[],mt=0;mt<256;mt++)pt[mt]=mt;for(var mt=0,ht=0;mt<256;mt++){var gt=mt%ft,vt=dt[gt>>>2]>>>24-gt%4*8&255;ht=(ht+pt[mt]+vt)%256;var yt=pt[mt];pt[mt]=pt[ht],pt[ht]=yt}this._i=this._j=0},_doProcessBlock:function(ut,dt){ut[dt]^=lt.call(this)},keySize:256/32,ivSize:0});function lt(){for(var ut=this._S,dt=this._i,ft=this._j,pt=0,mt=0;mt<4;mt++){dt=(dt+1)%256,ft=(ft+ut[dt])%256;var ht=ut[dt];ut[dt]=ut[ft],ut[ft]=ht,pt|=ut[(ut[dt]+ut[ft])%256]<<24-mt*8}return this._i=dt,this._j=ft,pt}nt.RC4=ot._createHelper(st);var ct=at.RC4Drop=st.extend({cfg:st.cfg.extend({drop:192}),_doReset:function(){st._doReset.call(this);for(var ut=this.cfg.drop;ut>0;ut--)lt.call(this)}});nt.RC4Drop=ot._createHelper(ct)}(),rt.RC4})}(rc4)),rc4Exports}var rabbitExports={},rabbit={get exports(){return rabbitExports},set exports(tt){rabbitExports=tt}},hasRequiredRabbit;function requireRabbit(){return hasRequiredRabbit||(hasRequiredRabbit=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.lib,ot=it.StreamCipher,at=nt.algo,st=[],lt=[],ct=[],ut=at.Rabbit=ot.extend({_doReset:function(){for(var ft=this._key.words,pt=this.cfg.iv,mt=0;mt<4;mt++)ft[mt]=(ft[mt]<<8|ft[mt]>>>24)&16711935|(ft[mt]<<24|ft[mt]>>>8)&4278255360;var ht=this._X=[ft[0],ft[3]<<16|ft[2]>>>16,ft[1],ft[0]<<16|ft[3]>>>16,ft[2],ft[1]<<16|ft[0]>>>16,ft[3],ft[2]<<16|ft[1]>>>16],gt=this._C=[ft[2]<<16|ft[2]>>>16,ft[0]&4294901760|ft[1]&65535,ft[3]<<16|ft[3]>>>16,ft[1]&4294901760|ft[2]&65535,ft[0]<<16|ft[0]>>>16,ft[2]&4294901760|ft[3]&65535,ft[1]<<16|ft[1]>>>16,ft[3]&4294901760|ft[0]&65535];this._b=0;for(var mt=0;mt<4;mt++)dt.call(this);for(var mt=0;mt<8;mt++)gt[mt]^=ht[mt+4&7];if(pt){var vt=pt.words,yt=vt[0],bt=vt[1],xt=(yt<<8|yt>>>24)&16711935|(yt<<24|yt>>>8)&4278255360,$t=(bt<<8|bt>>>24)&16711935|(bt<<24|bt>>>8)&4278255360,Tt=xt>>>16|$t&4294901760,wt=$t<<16|xt&65535;gt[0]^=xt,gt[1]^=Tt,gt[2]^=$t,gt[3]^=wt,gt[4]^=xt,gt[5]^=Tt,gt[6]^=$t,gt[7]^=wt;for(var mt=0;mt<4;mt++)dt.call(this)}},_doProcessBlock:function(ft,pt){var mt=this._X;dt.call(this),st[0]=mt[0]^mt[5]>>>16^mt[3]<<16,st[1]=mt[2]^mt[7]>>>16^mt[5]<<16,st[2]=mt[4]^mt[1]>>>16^mt[7]<<16,st[3]=mt[6]^mt[3]>>>16^mt[1]<<16;for(var ht=0;ht<4;ht++)st[ht]=(st[ht]<<8|st[ht]>>>24)&16711935|(st[ht]<<24|st[ht]>>>8)&4278255360,ft[pt+ht]^=st[ht]},blockSize:128/32,ivSize:64/32});function dt(){for(var ft=this._X,pt=this._C,mt=0;mt<8;mt++)lt[mt]=pt[mt];pt[0]=pt[0]+1295307597+this._b|0,pt[1]=pt[1]+3545052371+(pt[0]>>>0<lt[0]>>>0?1:0)|0,pt[2]=pt[2]+886263092+(pt[1]>>>0<lt[1]>>>0?1:0)|0,pt[3]=pt[3]+1295307597+(pt[2]>>>0<lt[2]>>>0?1:0)|0,pt[4]=pt[4]+3545052371+(pt[3]>>>0<lt[3]>>>0?1:0)|0,pt[5]=pt[5]+886263092+(pt[4]>>>0<lt[4]>>>0?1:0)|0,pt[6]=pt[6]+1295307597+(pt[5]>>>0<lt[5]>>>0?1:0)|0,pt[7]=pt[7]+3545052371+(pt[6]>>>0<lt[6]>>>0?1:0)|0,this._b=pt[7]>>>0<lt[7]>>>0?1:0;for(var mt=0;mt<8;mt++){var ht=ft[mt]+pt[mt],gt=ht&65535,vt=ht>>>16,yt=((gt*gt>>>17)+gt*vt>>>15)+vt*vt,bt=((ht&4294901760)*ht|0)+((ht&65535)*ht|0);ct[mt]=yt^bt}ft[0]=ct[0]+(ct[7]<<16|ct[7]>>>16)+(ct[6]<<16|ct[6]>>>16)|0,ft[1]=ct[1]+(ct[0]<<8|ct[0]>>>24)+ct[7]|0,ft[2]=ct[2]+(ct[1]<<16|ct[1]>>>16)+(ct[0]<<16|ct[0]>>>16)|0,ft[3]=ct[3]+(ct[2]<<8|ct[2]>>>24)+ct[1]|0,ft[4]=ct[4]+(ct[3]<<16|ct[3]>>>16)+(ct[2]<<16|ct[2]>>>16)|0,ft[5]=ct[5]+(ct[4]<<8|ct[4]>>>24)+ct[3]|0,ft[6]=ct[6]+(ct[5]<<16|ct[5]>>>16)+(ct[4]<<16|ct[4]>>>16)|0,ft[7]=ct[7]+(ct[6]<<8|ct[6]>>>24)+ct[5]|0}nt.Rabbit=ot._createHelper(ut)}(),rt.Rabbit})}(rabbit)),rabbitExports}var rabbitLegacyExports={},rabbitLegacy={get exports(){return rabbitLegacyExports},set exports(tt){rabbitLegacyExports=tt}},hasRequiredRabbitLegacy;function requireRabbitLegacy(){return hasRequiredRabbitLegacy||(hasRequiredRabbitLegacy=1,function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireEncBase64(),requireMd5(),requireEvpkdf(),requireCipherCore())})(commonjsGlobal$4,function(rt){return function(){var nt=rt,it=nt.lib,ot=it.StreamCipher,at=nt.algo,st=[],lt=[],ct=[],ut=at.RabbitLegacy=ot.extend({_doReset:function(){var ft=this._key.words,pt=this.cfg.iv,mt=this._X=[ft[0],ft[3]<<16|ft[2]>>>16,ft[1],ft[0]<<16|ft[3]>>>16,ft[2],ft[1]<<16|ft[0]>>>16,ft[3],ft[2]<<16|ft[1]>>>16],ht=this._C=[ft[2]<<16|ft[2]>>>16,ft[0]&4294901760|ft[1]&65535,ft[3]<<16|ft[3]>>>16,ft[1]&4294901760|ft[2]&65535,ft[0]<<16|ft[0]>>>16,ft[2]&4294901760|ft[3]&65535,ft[1]<<16|ft[1]>>>16,ft[3]&4294901760|ft[0]&65535];this._b=0;for(var gt=0;gt<4;gt++)dt.call(this);for(var gt=0;gt<8;gt++)ht[gt]^=mt[gt+4&7];if(pt){var vt=pt.words,yt=vt[0],bt=vt[1],xt=(yt<<8|yt>>>24)&16711935|(yt<<24|yt>>>8)&4278255360,$t=(bt<<8|bt>>>24)&16711935|(bt<<24|bt>>>8)&4278255360,Tt=xt>>>16|$t&4294901760,wt=$t<<16|xt&65535;ht[0]^=xt,ht[1]^=Tt,ht[2]^=$t,ht[3]^=wt,ht[4]^=xt,ht[5]^=Tt,ht[6]^=$t,ht[7]^=wt;for(var gt=0;gt<4;gt++)dt.call(this)}},_doProcessBlock:function(ft,pt){var mt=this._X;dt.call(this),st[0]=mt[0]^mt[5]>>>16^mt[3]<<16,st[1]=mt[2]^mt[7]>>>16^mt[5]<<16,st[2]=mt[4]^mt[1]>>>16^mt[7]<<16,st[3]=mt[6]^mt[3]>>>16^mt[1]<<16;for(var ht=0;ht<4;ht++)st[ht]=(st[ht]<<8|st[ht]>>>24)&16711935|(st[ht]<<24|st[ht]>>>8)&4278255360,ft[pt+ht]^=st[ht]},blockSize:128/32,ivSize:64/32});function dt(){for(var ft=this._X,pt=this._C,mt=0;mt<8;mt++)lt[mt]=pt[mt];pt[0]=pt[0]+1295307597+this._b|0,pt[1]=pt[1]+3545052371+(pt[0]>>>0<lt[0]>>>0?1:0)|0,pt[2]=pt[2]+886263092+(pt[1]>>>0<lt[1]>>>0?1:0)|0,pt[3]=pt[3]+1295307597+(pt[2]>>>0<lt[2]>>>0?1:0)|0,pt[4]=pt[4]+3545052371+(pt[3]>>>0<lt[3]>>>0?1:0)|0,pt[5]=pt[5]+886263092+(pt[4]>>>0<lt[4]>>>0?1:0)|0,pt[6]=pt[6]+1295307597+(pt[5]>>>0<lt[5]>>>0?1:0)|0,pt[7]=pt[7]+3545052371+(pt[6]>>>0<lt[6]>>>0?1:0)|0,this._b=pt[7]>>>0<lt[7]>>>0?1:0;for(var mt=0;mt<8;mt++){var ht=ft[mt]+pt[mt],gt=ht&65535,vt=ht>>>16,yt=((gt*gt>>>17)+gt*vt>>>15)+vt*vt,bt=((ht&4294901760)*ht|0)+((ht&65535)*ht|0);ct[mt]=yt^bt}ft[0]=ct[0]+(ct[7]<<16|ct[7]>>>16)+(ct[6]<<16|ct[6]>>>16)|0,ft[1]=ct[1]+(ct[0]<<8|ct[0]>>>24)+ct[7]|0,ft[2]=ct[2]+(ct[1]<<16|ct[1]>>>16)+(ct[0]<<16|ct[0]>>>16)|0,ft[3]=ct[3]+(ct[2]<<8|ct[2]>>>24)+ct[1]|0,ft[4]=ct[4]+(ct[3]<<16|ct[3]>>>16)+(ct[2]<<16|ct[2]>>>16)|0,ft[5]=ct[5]+(ct[4]<<8|ct[4]>>>24)+ct[3]|0,ft[6]=ct[6]+(ct[5]<<16|ct[5]>>>16)+(ct[4]<<16|ct[4]>>>16)|0,ft[7]=ct[7]+(ct[6]<<8|ct[6]>>>24)+ct[5]|0}nt.RabbitLegacy=ot._createHelper(ut)}(),rt.RabbitLegacy})}(rabbitLegacy)),rabbitLegacyExports}(function(tt,et){(function(rt,nt,it){tt.exports=nt(requireCore(),requireX64Core(),requireLibTypedarrays(),requireEncUtf16(),requireEncBase64(),requireEncBase64url(),requireMd5(),requireSha1(),requireSha256(),requireSha224(),requireSha512(),requireSha384(),requireSha3(),requireRipemd160(),requireHmac(),requirePbkdf2(),requireEvpkdf(),requireCipherCore(),requireModeCfb(),requireModeCtr(),requireModeCtrGladman(),requireModeOfb(),requireModeEcb(),requirePadAnsix923(),requirePadIso10126(),requirePadIso97971(),requirePadZeropadding(),requirePadNopadding(),requireFormatHex(),requireAes(),requireTripledes(),requireRc4(),requireRabbit(),requireRabbitLegacy())})(commonjsGlobal$4,function(rt){return rt})})(cryptoJs);const CryptoJS=cryptoJsExports,optionsCBC={iv:CryptoJS.enc.Utf8.parse(projects.crypto.IV),mode:CryptoJS.mode.CBC,padding:CryptoJS.pad.Pkcs7},encrypt=tt=>{const et=CryptoJS.enc.Utf8.parse(tt),rt=CryptoJS.enc.Utf8.parse(projects.crypto.KEY),nt=CryptoJS.AES.encrypt(et,rt,optionsCBC);return convertWordArrayToUint8Array(nt.ciphertext.words)};function convertWordArrayToUint8Array(tt){let et=tt.length,rt=new Uint8Array(et<<2),nt=0,it,ot;for(ot=0;ot<et;ot++)it=tt[ot],rt[nt++]=it>>24,rt[nt++]=it>>16&255,rt[nt++]=it>>8&255,rt[nt++]=it&255;return rt}function _classCallCheck$a(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _defineProperties(tt,et){for(var rt=0;rt<et.length;rt++){var nt=et[rt];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(tt,_toPropertyKey(nt.key),nt)}}function _createClass$8(tt,et,rt){return et&&_defineProperties(tt.prototype,et),rt&&_defineProperties(tt,rt),Object.defineProperty(tt,"prototype",{writable:!1}),tt}function _inherits$a(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),Object.defineProperty(tt,"prototype",{writable:!1}),et&&_setPrototypeOf(tt,et)}function _possibleConstructorReturn$a(tt,et){if(et&&(_typeof$2(et)==="object"||typeof et=="function"))return et;if(et!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return _assertThisInitialized(tt)}function _getPrototypeOf(tt){return _getPrototypeOf=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(rt){return rt.__proto__||Object.getPrototypeOf(rt)},_getPrototypeOf(tt)}function _arrayWithHoles$2(tt){if(Array.isArray(tt))return tt}function _iterableToArray$3(tt){if(typeof Symbol<"u"&&tt[Symbol.iterator]!=null||tt["@@iterator"]!=null)return Array.from(tt)}function _arrayLikeToArray$2(tt,et){(et==null||et>tt.length)&&(et=tt.length);for(var rt=0,nt=new Array(et);rt<et;rt++)nt[rt]=tt[rt];return nt}function _unsupportedIterableToArray$2(tt,et){if(tt){if(typeof tt=="string")return _arrayLikeToArray$2(tt,et);var rt=Object.prototype.toString.call(tt).slice(8,-1);if(rt==="Object"&&tt.constructor&&(rt=tt.constructor.name),rt==="Map"||rt==="Set")return Array.from(tt);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$2(tt,et)}}function _nonIterableRest$2(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _toArray(tt){return _arrayWithHoles$2(tt)||_iterableToArray$3(tt)||_unsupportedIterableToArray$2(tt)||_nonIterableRest$2()}function ownKeys$6$1(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$6(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$6$1(Object(rt),!0).forEach(function(nt){_defineProperty$5(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$6$1(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}var consoleLogger={type:"logger",log:function(et){this.output("log",et)},warn:function(et){this.output("warn",et)},error:function(et){this.output("error",et)},output:function(et,rt){console&&console[et]&&console[et].apply(console,rt)}},Logger$5=function(){function tt(et){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$a(this,tt),this.init(et,rt)}return _createClass$8(tt,[{key:"init",value:function(rt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.prefix=nt.prefix||"i18next:",this.logger=rt||consoleLogger,this.options=nt,this.debug=nt.debug}},{key:"setDebug",value:function(rt){this.debug=rt}},{key:"log",value:function(){for(var rt=arguments.length,nt=new Array(rt),it=0;it<rt;it++)nt[it]=arguments[it];return this.forward(nt,"log","",!0)}},{key:"warn",value:function(){for(var rt=arguments.length,nt=new Array(rt),it=0;it<rt;it++)nt[it]=arguments[it];return this.forward(nt,"warn","",!0)}},{key:"error",value:function(){for(var rt=arguments.length,nt=new Array(rt),it=0;it<rt;it++)nt[it]=arguments[it];return this.forward(nt,"error","")}},{key:"deprecate",value:function(){for(var rt=arguments.length,nt=new Array(rt),it=0;it<rt;it++)nt[it]=arguments[it];return this.forward(nt,"warn","WARNING DEPRECATED: ",!0)}},{key:"forward",value:function(rt,nt,it,ot){return ot&&!this.debug?null:(typeof rt[0]=="string"&&(rt[0]="".concat(it).concat(this.prefix," ").concat(rt[0])),this.logger[nt](rt))}},{key:"create",value:function(rt){return new tt(this.logger,_objectSpread$6(_objectSpread$6({},{prefix:"".concat(this.prefix,":").concat(rt,":")}),this.options))}},{key:"clone",value:function(rt){return rt=rt||this.options,rt.prefix=rt.prefix||this.prefix,new tt(this.logger,rt)}}]),tt}(),baseLogger=new Logger$5,EventEmitter$1=function(){function tt(){_classCallCheck$a(this,tt),this.observers={}}return _createClass$8(tt,[{key:"on",value:function(rt,nt){var it=this;return rt.split(" ").forEach(function(ot){it.observers[ot]=it.observers[ot]||[],it.observers[ot].push(nt)}),this}},{key:"off",value:function(rt,nt){if(this.observers[rt]){if(!nt){delete this.observers[rt];return}this.observers[rt]=this.observers[rt].filter(function(it){return it!==nt})}}},{key:"emit",value:function(rt){for(var nt=arguments.length,it=new Array(nt>1?nt-1:0),ot=1;ot<nt;ot++)it[ot-1]=arguments[ot];if(this.observers[rt]){var at=[].concat(this.observers[rt]);at.forEach(function(lt){lt.apply(void 0,it)})}if(this.observers["*"]){var st=[].concat(this.observers["*"]);st.forEach(function(lt){lt.apply(lt,[rt].concat(it))})}}}]),tt}();function defer$4(){var tt,et,rt=new Promise(function(nt,it){tt=nt,et=it});return rt.resolve=tt,rt.reject=et,rt}function makeString(tt){return tt==null?"":""+tt}function copy(tt,et,rt){tt.forEach(function(nt){et[nt]&&(rt[nt]=et[nt])})}function getLastOfPath(tt,et,rt){function nt(st){return st&&st.indexOf("###")>-1?st.replace(/###/g,"."):st}function it(){return!tt||typeof tt=="string"}for(var ot=typeof et!="string"?[].concat(et):et.split(".");ot.length>1;){if(it())return{};var at=nt(ot.shift());!tt[at]&&rt&&(tt[at]=new rt),Object.prototype.hasOwnProperty.call(tt,at)?tt=tt[at]:tt={}}return it()?{}:{obj:tt,k:nt(ot.shift())}}function setPath(tt,et,rt){var nt=getLastOfPath(tt,et,Object),it=nt.obj,ot=nt.k;it[ot]=rt}function pushPath(tt,et,rt,nt){var it=getLastOfPath(tt,et,Object),ot=it.obj,at=it.k;ot[at]=ot[at]||[],nt&&(ot[at]=ot[at].concat(rt)),nt||ot[at].push(rt)}function getPath(tt,et){var rt=getLastOfPath(tt,et),nt=rt.obj,it=rt.k;if(nt)return nt[it]}function getPathWithDefaults(tt,et,rt){var nt=getPath(tt,rt);return nt!==void 0?nt:getPath(et,rt)}function deepExtend(tt,et,rt){for(var nt in et)nt!=="__proto__"&&nt!=="constructor"&&(nt in tt?typeof tt[nt]=="string"||tt[nt]instanceof String||typeof et[nt]=="string"||et[nt]instanceof String?rt&&(tt[nt]=et[nt]):deepExtend(tt[nt],et[nt],rt):tt[nt]=et[nt]);return tt}function regexEscape(tt){return tt.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}var _entityMap={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};function escape$1(tt){return typeof tt=="string"?tt.replace(/[&<>"'\/]/g,function(et){return _entityMap[et]}):tt}var isIE10=typeof window<"u"&&window.navigator&&typeof window.navigator.userAgentData>"u"&&window.navigator.userAgent&&window.navigator.userAgent.indexOf("MSIE")>-1,chars=[" ",",","?","!",";"];function looksLikeObjectPath(tt,et,rt){et=et||"",rt=rt||"";var nt=chars.filter(function(st){return et.indexOf(st)<0&&rt.indexOf(st)<0});if(nt.length===0)return!0;var it=new RegExp("(".concat(nt.map(function(st){return st==="?"?"\\?":st}).join("|"),")")),ot=!it.test(tt);if(!ot){var at=tt.indexOf(rt);at>0&&!it.test(tt.substring(0,at))&&(ot=!0)}return ot}function ownKeys$5$1(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$5$1(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$5$1(Object(rt),!0).forEach(function(nt){_defineProperty$5(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$5$1(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}function _createSuper$3(tt){var et=_isNativeReflectConstruct$3();return function(){var nt=_getPrototypeOf(tt),it;if(et){var ot=_getPrototypeOf(this).constructor;it=Reflect.construct(nt,arguments,ot)}else it=nt.apply(this,arguments);return _possibleConstructorReturn$a(this,it)}}function _isNativeReflectConstruct$3(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function deepFind(tt,et){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:".";if(tt){if(tt[et])return tt[et];for(var nt=et.split(rt),it=tt,ot=0;ot<nt.length;++ot){if(!it||typeof it[nt[ot]]=="string"&&ot+1<nt.length)return;if(it[nt[ot]]===void 0){for(var at=2,st=nt.slice(ot,ot+at).join(rt),lt=it[st];lt===void 0&&nt.length>ot+at;)at++,st=nt.slice(ot,ot+at).join(rt),lt=it[st];if(lt===void 0)return;if(lt===null)return null;if(et.endsWith(st)){if(typeof lt=="string")return lt;if(st&&typeof lt[st]=="string")return lt[st]}var ct=nt.slice(ot+at).join(rt);return ct?deepFind(lt,ct,rt):void 0}it=it[nt[ot]]}return it}}var ResourceStore=function(tt){_inherits$a(rt,tt);var et=_createSuper$3(rt);function rt(nt){var it,ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{ns:["translation"],defaultNS:"translation"};return _classCallCheck$a(this,rt),it=et.call(this),isIE10&&EventEmitter$1.call(_assertThisInitialized(it)),it.data=nt||{},it.options=ot,it.options.keySeparator===void 0&&(it.options.keySeparator="."),it.options.ignoreJSONStructure===void 0&&(it.options.ignoreJSONStructure=!0),it}return _createClass$8(rt,[{key:"addNamespaces",value:function(it){this.options.ns.indexOf(it)<0&&this.options.ns.push(it)}},{key:"removeNamespaces",value:function(it){var ot=this.options.ns.indexOf(it);ot>-1&&this.options.ns.splice(ot,1)}},{key:"getResource",value:function(it,ot,at){var st=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},lt=st.keySeparator!==void 0?st.keySeparator:this.options.keySeparator,ct=st.ignoreJSONStructure!==void 0?st.ignoreJSONStructure:this.options.ignoreJSONStructure,ut=[it,ot];at&&typeof at!="string"&&(ut=ut.concat(at)),at&&typeof at=="string"&&(ut=ut.concat(lt?at.split(lt):at)),it.indexOf(".")>-1&&(ut=it.split("."));var dt=getPath(this.data,ut);return dt||!ct||typeof at!="string"?dt:deepFind(this.data&&this.data[it]&&this.data[it][ot],at,lt)}},{key:"addResource",value:function(it,ot,at,st){var lt=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{silent:!1},ct=this.options.keySeparator;ct===void 0&&(ct=".");var ut=[it,ot];at&&(ut=ut.concat(ct?at.split(ct):at)),it.indexOf(".")>-1&&(ut=it.split("."),st=ot,ot=ut[1]),this.addNamespaces(ot),setPath(this.data,ut,st),lt.silent||this.emit("added",it,ot,at,st)}},{key:"addResources",value:function(it,ot,at){var st=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{silent:!1};for(var lt in at)(typeof at[lt]=="string"||Object.prototype.toString.apply(at[lt])==="[object Array]")&&this.addResource(it,ot,lt,at[lt],{silent:!0});st.silent||this.emit("added",it,ot,at)}},{key:"addResourceBundle",value:function(it,ot,at,st,lt){var ct=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{silent:!1},ut=[it,ot];it.indexOf(".")>-1&&(ut=it.split("."),st=at,at=ot,ot=ut[1]),this.addNamespaces(ot);var dt=getPath(this.data,ut)||{};st?deepExtend(dt,at,lt):dt=_objectSpread$5$1(_objectSpread$5$1({},dt),at),setPath(this.data,ut,dt),ct.silent||this.emit("added",it,ot,at)}},{key:"removeResourceBundle",value:function(it,ot){this.hasResourceBundle(it,ot)&&delete this.data[it][ot],this.removeNamespaces(ot),this.emit("removed",it,ot)}},{key:"hasResourceBundle",value:function(it,ot){return this.getResource(it,ot)!==void 0}},{key:"getResourceBundle",value:function(it,ot){return ot||(ot=this.options.defaultNS),this.options.compatibilityAPI==="v1"?_objectSpread$5$1(_objectSpread$5$1({},{}),this.getResource(it,ot)):this.getResource(it,ot)}},{key:"getDataByLanguage",value:function(it){return this.data[it]}},{key:"hasLanguageSomeTranslations",value:function(it){var ot=this.getDataByLanguage(it),at=ot&&Object.keys(ot)||[];return!!at.find(function(st){return ot[st]&&Object.keys(ot[st]).length>0})}},{key:"toJSON",value:function(){return this.data}}]),rt}(EventEmitter$1),postProcessor={processors:{},addPostProcessor:function(et){this.processors[et.name]=et},handle:function(et,rt,nt,it,ot){var at=this;return et.forEach(function(st){at.processors[st]&&(rt=at.processors[st].process(rt,nt,it,ot))}),rt}};function ownKeys$4$1(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$4$1(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$4$1(Object(rt),!0).forEach(function(nt){_defineProperty$5(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$4$1(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}function _createSuper$2(tt){var et=_isNativeReflectConstruct$2();return function(){var nt=_getPrototypeOf(tt),it;if(et){var ot=_getPrototypeOf(this).constructor;it=Reflect.construct(nt,arguments,ot)}else it=nt.apply(this,arguments);return _possibleConstructorReturn$a(this,it)}}function _isNativeReflectConstruct$2(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}var checkedLoadedFor={},Translator=function(tt){_inherits$a(rt,tt);var et=_createSuper$2(rt);function rt(nt){var it,ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return _classCallCheck$a(this,rt),it=et.call(this),isIE10&&EventEmitter$1.call(_assertThisInitialized(it)),copy(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],nt,_assertThisInitialized(it)),it.options=ot,it.options.keySeparator===void 0&&(it.options.keySeparator="."),it.logger=baseLogger.create("translator"),it}return _createClass$8(rt,[{key:"changeLanguage",value:function(it){it&&(this.language=it)}},{key:"exists",value:function(it){var ot=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}};if(it==null)return!1;var at=this.resolve(it,ot);return at&&at.res!==void 0}},{key:"extractFromKey",value:function(it,ot){var at=ot.nsSeparator!==void 0?ot.nsSeparator:this.options.nsSeparator;at===void 0&&(at=":");var st=ot.keySeparator!==void 0?ot.keySeparator:this.options.keySeparator,lt=ot.ns||this.options.defaultNS||[],ct=at&&it.indexOf(at)>-1,ut=!this.options.userDefinedKeySeparator&&!ot.keySeparator&&!this.options.userDefinedNsSeparator&&!ot.nsSeparator&&!looksLikeObjectPath(it,at,st);if(ct&&!ut){var dt=it.match(this.interpolator.nestingRegexp);if(dt&&dt.length>0)return{key:it,namespaces:lt};var ft=it.split(at);(at!==st||at===st&&this.options.ns.indexOf(ft[0])>-1)&&(lt=ft.shift()),it=ft.join(st)}return typeof lt=="string"&&(lt=[lt]),{key:it,namespaces:lt}}},{key:"translate",value:function(it,ot,at){var st=this;if(_typeof$2(ot)!=="object"&&this.options.overloadTranslationOptionHandler&&(ot=this.options.overloadTranslationOptionHandler(arguments)),ot||(ot={}),it==null)return"";Array.isArray(it)||(it=[String(it)]);var lt=ot.returnDetails!==void 0?ot.returnDetails:this.options.returnDetails,ct=ot.keySeparator!==void 0?ot.keySeparator:this.options.keySeparator,ut=this.extractFromKey(it[it.length-1],ot),dt=ut.key,ft=ut.namespaces,pt=ft[ft.length-1],mt=ot.lng||this.language,ht=ot.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(mt&&mt.toLowerCase()==="cimode"){if(ht){var gt=ot.nsSeparator||this.options.nsSeparator;return lt?(vt.res="".concat(pt).concat(gt).concat(dt),vt):"".concat(pt).concat(gt).concat(dt)}return lt?(vt.res=dt,vt):dt}var vt=this.resolve(it,ot),yt=vt&&vt.res,bt=vt&&vt.usedKey||dt,xt=vt&&vt.exactUsedKey||dt,$t=Object.prototype.toString.apply(yt),Tt=["[object Number]","[object Function]","[object RegExp]"],wt=ot.joinArrays!==void 0?ot.joinArrays:this.options.joinArrays,At=!this.i18nFormat||this.i18nFormat.handleAsObject,Rt=typeof yt!="string"&&typeof yt!="boolean"&&typeof yt!="number";if(At&&yt&&Rt&&Tt.indexOf($t)<0&&!(typeof wt=="string"&&$t==="[object Array]")){if(!ot.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");var It=this.options.returnedObjectHandler?this.options.returnedObjectHandler(bt,yt,_objectSpread$4$1(_objectSpread$4$1({},ot),{},{ns:ft})):"key '".concat(dt," (").concat(this.language,")' returned an object instead of string.");return lt?(vt.res=It,vt):It}if(ct){var Lt=$t==="[object Array]",Pt=Lt?[]:{},Nt=Lt?xt:bt;for(var Ot in yt)if(Object.prototype.hasOwnProperty.call(yt,Ot)){var Bt="".concat(Nt).concat(ct).concat(Ot);Pt[Ot]=this.translate(Bt,_objectSpread$4$1(_objectSpread$4$1({},ot),{joinArrays:!1,ns:ft})),Pt[Ot]===Bt&&(Pt[Ot]=yt[Ot])}yt=Pt}}else if(At&&typeof wt=="string"&&$t==="[object Array]")yt=yt.join(wt),yt&&(yt=this.extendTranslation(yt,it,ot,at));else{var zt=!1,Vt=!1,Ut=ot.count!==void 0&&typeof ot.count!="string",jt=rt.hasDefaultValue(ot),qt=Ut?this.pluralResolver.getSuffix(mt,ot.count,ot):"",Dt=ot["defaultValue".concat(qt)]||ot.defaultValue;!this.isValidLookup(yt)&&jt&&(zt=!0,yt=Dt),this.isValidLookup(yt)||(Vt=!0,yt=dt);var Ft=ot.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey,Zt=Ft&&Vt?void 0:yt,Kt=jt&&Dt!==yt&&this.options.updateMissing;if(Vt||zt||Kt){if(this.logger.log(Kt?"updateKey":"missingKey",mt,pt,dt,Kt?Dt:yt),ct){var ir=this.resolve(dt,_objectSpread$4$1(_objectSpread$4$1({},ot),{},{keySeparator:!1}));ir&&ir.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}var rr=[],mr=this.languageUtils.getFallbackCodes(this.options.fallbackLng,ot.lng||this.language);if(this.options.saveMissingTo==="fallback"&&mr&&mr[0])for(var sr=0;sr<mr.length;sr++)rr.push(mr[sr]);else this.options.saveMissingTo==="all"?rr=this.languageUtils.toResolveHierarchy(ot.lng||this.language):rr.push(ot.lng||this.language);var fr=function(vr,dr,xr){var Gt=jt&&xr!==yt?xr:Zt;st.options.missingKeyHandler?st.options.missingKeyHandler(vr,pt,dr,Gt,Kt,ot):st.backendConnector&&st.backendConnector.saveMissing&&st.backendConnector.saveMissing(vr,pt,dr,Gt,Kt,ot),st.emit("missingKey",vr,pt,dr,yt)};this.options.saveMissing&&(this.options.saveMissingPlurals&&Ut?rr.forEach(function(pr){st.pluralResolver.getSuffixes(pr,ot).forEach(function(vr){fr([pr],dt+vr,ot["defaultValue".concat(vr)]||Dt)})}):fr(rr,dt,Dt))}yt=this.extendTranslation(yt,it,ot,vt,at),Vt&&yt===dt&&this.options.appendNamespaceToMissingKey&&(yt="".concat(pt,":").concat(dt)),(Vt||zt)&&this.options.parseMissingKeyHandler&&(this.options.compatibilityAPI!=="v1"?yt=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?"".concat(pt,":").concat(dt):dt,zt?yt:void 0):yt=this.options.parseMissingKeyHandler(yt))}return lt?(vt.res=yt,vt):yt}},{key:"extendTranslation",value:function(it,ot,at,st,lt){var ct=this;if(this.i18nFormat&&this.i18nFormat.parse)it=this.i18nFormat.parse(it,_objectSpread$4$1(_objectSpread$4$1({},this.options.interpolation.defaultVariables),at),st.usedLng,st.usedNS,st.usedKey,{resolved:st});else if(!at.skipInterpolation){at.interpolation&&this.interpolator.init(_objectSpread$4$1(_objectSpread$4$1({},at),{interpolation:_objectSpread$4$1(_objectSpread$4$1({},this.options.interpolation),at.interpolation)}));var ut=typeof it=="string"&&(at&&at.interpolation&&at.interpolation.skipOnVariables!==void 0?at.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables),dt;if(ut){var ft=it.match(this.interpolator.nestingRegexp);dt=ft&&ft.length}var pt=at.replace&&typeof at.replace!="string"?at.replace:at;if(this.options.interpolation.defaultVariables&&(pt=_objectSpread$4$1(_objectSpread$4$1({},this.options.interpolation.defaultVariables),pt)),it=this.interpolator.interpolate(it,pt,at.lng||this.language,at),ut){var mt=it.match(this.interpolator.nestingRegexp),ht=mt&&mt.length;dt<ht&&(at.nest=!1)}at.nest!==!1&&(it=this.interpolator.nest(it,function(){for(var yt=arguments.length,bt=new Array(yt),xt=0;xt<yt;xt++)bt[xt]=arguments[xt];return lt&&lt[0]===bt[0]&&!at.context?(ct.logger.warn("It seems you are nesting recursively key: ".concat(bt[0]," in key: ").concat(ot[0])),null):ct.translate.apply(ct,bt.concat([ot]))},at)),at.interpolation&&this.interpolator.reset()}var gt=at.postProcess||this.options.postProcess,vt=typeof gt=="string"?[gt]:gt;return it!=null&&vt&&vt.length&&at.applyPostProcessor!==!1&&(it=postProcessor.handle(vt,it,ot,this.options&&this.options.postProcessPassResolved?_objectSpread$4$1({i18nResolved:st},at):at,this)),it}},{key:"resolve",value:function(it){var ot=this,at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},st,lt,ct,ut,dt;return typeof it=="string"&&(it=[it]),it.forEach(function(ft){if(!ot.isValidLookup(st)){var pt=ot.extractFromKey(ft,at),mt=pt.key;lt=mt;var ht=pt.namespaces;ot.options.fallbackNS&&(ht=ht.concat(ot.options.fallbackNS));var gt=at.count!==void 0&&typeof at.count!="string",vt=gt&&!at.ordinal&&at.count===0&&ot.pluralResolver.shouldUseIntlApi(),yt=at.context!==void 0&&(typeof at.context=="string"||typeof at.context=="number")&&at.context!=="",bt=at.lngs?at.lngs:ot.languageUtils.toResolveHierarchy(at.lng||ot.language,at.fallbackLng);ht.forEach(function(xt){ot.isValidLookup(st)||(dt=xt,!checkedLoadedFor["".concat(bt[0],"-").concat(xt)]&&ot.utils&&ot.utils.hasLoadedNamespace&&!ot.utils.hasLoadedNamespace(dt)&&(checkedLoadedFor["".concat(bt[0],"-").concat(xt)]=!0,ot.logger.warn('key "'.concat(lt,'" for languages "').concat(bt.join(", "),`" won't get resolved as namespace "`).concat(dt,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),bt.forEach(function($t){if(!ot.isValidLookup(st)){ut=$t;var Tt=[mt];if(ot.i18nFormat&&ot.i18nFormat.addLookupKeys)ot.i18nFormat.addLookupKeys(Tt,mt,$t,xt,at);else{var wt;gt&&(wt=ot.pluralResolver.getSuffix($t,at.count,at));var At="".concat(ot.options.pluralSeparator,"zero");if(gt&&(Tt.push(mt+wt),vt&&Tt.push(mt+At)),yt){var Rt="".concat(mt).concat(ot.options.contextSeparator).concat(at.context);Tt.push(Rt),gt&&(Tt.push(Rt+wt),vt&&Tt.push(Rt+At))}}for(var It;It=Tt.pop();)ot.isValidLookup(st)||(ct=It,st=ot.getResource($t,xt,It,at))}}))})}}),{res:st,usedKey:lt,exactUsedKey:ct,usedLng:ut,usedNS:dt}}},{key:"isValidLookup",value:function(it){return it!==void 0&&!(!this.options.returnNull&&it===null)&&!(!this.options.returnEmptyString&&it==="")}},{key:"getResource",value:function(it,ot,at){var st=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return this.i18nFormat&&this.i18nFormat.getResource?this.i18nFormat.getResource(it,ot,at,st):this.resourceStore.getResource(it,ot,at,st)}}],[{key:"hasDefaultValue",value:function(it){var ot="defaultValue";for(var at in it)if(Object.prototype.hasOwnProperty.call(it,at)&&ot===at.substring(0,ot.length)&&it[at]!==void 0)return!0;return!1}}]),rt}(EventEmitter$1);function capitalize(tt){return tt.charAt(0).toUpperCase()+tt.slice(1)}var LanguageUtil=function(){function tt(et){_classCallCheck$a(this,tt),this.options=et,this.supportedLngs=this.options.supportedLngs||!1,this.logger=baseLogger.create("languageUtils")}return _createClass$8(tt,[{key:"getScriptPartFromCode",value:function(rt){if(!rt||rt.indexOf("-")<0)return null;var nt=rt.split("-");return nt.length===2||(nt.pop(),nt[nt.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(nt.join("-"))}},{key:"getLanguagePartFromCode",value:function(rt){if(!rt||rt.indexOf("-")<0)return rt;var nt=rt.split("-");return this.formatLanguageCode(nt[0])}},{key:"formatLanguageCode",value:function(rt){if(typeof rt=="string"&&rt.indexOf("-")>-1){var nt=["hans","hant","latn","cyrl","cans","mong","arab"],it=rt.split("-");return this.options.lowerCaseLng?it=it.map(function(ot){return ot.toLowerCase()}):it.length===2?(it[0]=it[0].toLowerCase(),it[1]=it[1].toUpperCase(),nt.indexOf(it[1].toLowerCase())>-1&&(it[1]=capitalize(it[1].toLowerCase()))):it.length===3&&(it[0]=it[0].toLowerCase(),it[1].length===2&&(it[1]=it[1].toUpperCase()),it[0]!=="sgn"&&it[2].length===2&&(it[2]=it[2].toUpperCase()),nt.indexOf(it[1].toLowerCase())>-1&&(it[1]=capitalize(it[1].toLowerCase())),nt.indexOf(it[2].toLowerCase())>-1&&(it[2]=capitalize(it[2].toLowerCase()))),it.join("-")}return this.options.cleanCode||this.options.lowerCaseLng?rt.toLowerCase():rt}},{key:"isSupportedCode",value:function(rt){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(rt=this.getLanguagePartFromCode(rt)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(rt)>-1}},{key:"getBestMatchFromCodes",value:function(rt){var nt=this;if(!rt)return null;var it;return rt.forEach(function(ot){if(!it){var at=nt.formatLanguageCode(ot);(!nt.options.supportedLngs||nt.isSupportedCode(at))&&(it=at)}}),!it&&this.options.supportedLngs&&rt.forEach(function(ot){if(!it){var at=nt.getLanguagePartFromCode(ot);if(nt.isSupportedCode(at))return it=at;it=nt.options.supportedLngs.find(function(st){if(st.indexOf(at)===0)return st})}}),it||(it=this.getFallbackCodes(this.options.fallbackLng)[0]),it}},{key:"getFallbackCodes",value:function(rt,nt){if(!rt)return[];if(typeof rt=="function"&&(rt=rt(nt)),typeof rt=="string"&&(rt=[rt]),Object.prototype.toString.apply(rt)==="[object Array]")return rt;if(!nt)return rt.default||[];var it=rt[nt];return it||(it=rt[this.getScriptPartFromCode(nt)]),it||(it=rt[this.formatLanguageCode(nt)]),it||(it=rt[this.getLanguagePartFromCode(nt)]),it||(it=rt.default),it||[]}},{key:"toResolveHierarchy",value:function(rt,nt){var it=this,ot=this.getFallbackCodes(nt||this.options.fallbackLng||[],rt),at=[],st=function(ct){ct&&(it.isSupportedCode(ct)?at.push(ct):it.logger.warn("rejecting language code not found in supportedLngs: ".concat(ct)))};return typeof rt=="string"&&rt.indexOf("-")>-1?(this.options.load!=="languageOnly"&&st(this.formatLanguageCode(rt)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&st(this.getScriptPartFromCode(rt)),this.options.load!=="currentOnly"&&st(this.getLanguagePartFromCode(rt))):typeof rt=="string"&&st(this.formatLanguageCode(rt)),ot.forEach(function(lt){at.indexOf(lt)<0&&st(it.formatLanguageCode(lt))}),at}}]),tt}(),sets=[{lngs:["ach","ak","am","arn","br","fil","gun","ln","mfe","mg","mi","oc","pt","pt-BR","tg","tl","ti","tr","uz","wa"],nr:[1,2],fc:1},{lngs:["af","an","ast","az","bg","bn","ca","da","de","dev","el","en","eo","es","et","eu","fi","fo","fur","fy","gl","gu","ha","hi","hu","hy","ia","it","kk","kn","ku","lb","mai","ml","mn","mr","nah","nap","nb","ne","nl","nn","no","nso","pa","pap","pms","ps","pt-PT","rm","sco","se","si","so","son","sq","sv","sw","ta","te","tk","ur","yo"],nr:[1,2],fc:2},{lngs:["ay","bo","cgg","fa","ht","id","ja","jbo","ka","km","ko","ky","lo","ms","sah","su","th","tt","ug","vi","wo","zh"],nr:[1],fc:3},{lngs:["be","bs","cnr","dz","hr","ru","sr","uk"],nr:[1,2,5],fc:4},{lngs:["ar"],nr:[0,1,2,3,11,100],fc:5},{lngs:["cs","sk"],nr:[1,2,5],fc:6},{lngs:["csb","pl"],nr:[1,2,5],fc:7},{lngs:["cy"],nr:[1,2,3,8],fc:8},{lngs:["fr"],nr:[1,2],fc:9},{lngs:["ga"],nr:[1,2,3,7,11],fc:10},{lngs:["gd"],nr:[1,2,3,20],fc:11},{lngs:["is"],nr:[1,2],fc:12},{lngs:["jv"],nr:[0,1],fc:13},{lngs:["kw"],nr:[1,2,3,4],fc:14},{lngs:["lt"],nr:[1,2,10],fc:15},{lngs:["lv"],nr:[1,2,0],fc:16},{lngs:["mk"],nr:[1,2],fc:17},{lngs:["mnk"],nr:[0,1,2],fc:18},{lngs:["mt"],nr:[1,2,11,20],fc:19},{lngs:["or"],nr:[2,1],fc:2},{lngs:["ro"],nr:[1,2,20],fc:20},{lngs:["sl"],nr:[5,1,2,3],fc:21},{lngs:["he","iw"],nr:[1,2,20,21],fc:22}],_rulesPluralsTypes={1:function(et){return Number(et>1)},2:function(et){return Number(et!=1)},3:function(et){return 0},4:function(et){return Number(et%10==1&&et%100!=11?0:et%10>=2&&et%10<=4&&(et%100<10||et%100>=20)?1:2)},5:function(et){return Number(et==0?0:et==1?1:et==2?2:et%100>=3&&et%100<=10?3:et%100>=11?4:5)},6:function(et){return Number(et==1?0:et>=2&&et<=4?1:2)},7:function(et){return Number(et==1?0:et%10>=2&&et%10<=4&&(et%100<10||et%100>=20)?1:2)},8:function(et){return Number(et==1?0:et==2?1:et!=8&&et!=11?2:3)},9:function(et){return Number(et>=2)},10:function(et){return Number(et==1?0:et==2?1:et<7?2:et<11?3:4)},11:function(et){return Number(et==1||et==11?0:et==2||et==12?1:et>2&&et<20?2:3)},12:function(et){return Number(et%10!=1||et%100==11)},13:function(et){return Number(et!==0)},14:function(et){return Number(et==1?0:et==2?1:et==3?2:3)},15:function(et){return Number(et%10==1&&et%100!=11?0:et%10>=2&&(et%100<10||et%100>=20)?1:2)},16:function(et){return Number(et%10==1&&et%100!=11?0:et!==0?1:2)},17:function(et){return Number(et==1||et%10==1&&et%100!=11?0:1)},18:function(et){return Number(et==0?0:et==1?1:2)},19:function(et){return Number(et==1?0:et==0||et%100>1&&et%100<11?1:et%100>10&&et%100<20?2:3)},20:function(et){return Number(et==1?0:et==0||et%100>0&&et%100<20?1:2)},21:function(et){return Number(et%100==1?1:et%100==2?2:et%100==3||et%100==4?3:0)},22:function(et){return Number(et==1?0:et==2?1:(et<0||et>10)&&et%10==0?2:3)}},deprecatedJsonVersions=["v1","v2","v3"],suffixesOrder={zero:0,one:1,two:2,few:3,many:4,other:5};function createRules(){var tt={};return sets.forEach(function(et){et.lngs.forEach(function(rt){tt[rt]={numbers:et.nr,plurals:_rulesPluralsTypes[et.fc]}})}),tt}var PluralResolver=function(){function tt(et){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$a(this,tt),this.languageUtils=et,this.options=rt,this.logger=baseLogger.create("pluralResolver"),(!this.options.compatibilityJSON||this.options.compatibilityJSON==="v4")&&(typeof Intl>"u"||!Intl.PluralRules)&&(this.options.compatibilityJSON="v3",this.logger.error("Your environment seems not to be Intl API compatible, use an Intl.PluralRules polyfill. Will fallback to the compatibilityJSON v3 format handling.")),this.rules=createRules()}return _createClass$8(tt,[{key:"addRule",value:function(rt,nt){this.rules[rt]=nt}},{key:"getRule",value:function(rt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.shouldUseIntlApi())try{return new Intl.PluralRules(rt,{type:nt.ordinal?"ordinal":"cardinal"})}catch{return}return this.rules[rt]||this.rules[this.languageUtils.getLanguagePartFromCode(rt)]}},{key:"needsPlural",value:function(rt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},it=this.getRule(rt,nt);return this.shouldUseIntlApi()?it&&it.resolvedOptions().pluralCategories.length>1:it&&it.numbers.length>1}},{key:"getPluralFormsOfKey",value:function(rt,nt){var it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.getSuffixes(rt,it).map(function(ot){return"".concat(nt).concat(ot)})}},{key:"getSuffixes",value:function(rt){var nt=this,it=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ot=this.getRule(rt,it);return ot?this.shouldUseIntlApi()?ot.resolvedOptions().pluralCategories.sort(function(at,st){return suffixesOrder[at]-suffixesOrder[st]}).map(function(at){return"".concat(nt.options.prepend).concat(at)}):ot.numbers.map(function(at){return nt.getSuffix(rt,at,it)}):[]}},{key:"getSuffix",value:function(rt,nt){var it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ot=this.getRule(rt,it);return ot?this.shouldUseIntlApi()?"".concat(this.options.prepend).concat(ot.select(nt)):this.getSuffixRetroCompatible(ot,nt):(this.logger.warn("no plural rule found for: ".concat(rt)),"")}},{key:"getSuffixRetroCompatible",value:function(rt,nt){var it=this,ot=rt.noAbs?rt.plurals(nt):rt.plurals(Math.abs(nt)),at=rt.numbers[ot];this.options.simplifyPluralSuffix&&rt.numbers.length===2&&rt.numbers[0]===1&&(at===2?at="plural":at===1&&(at=""));var st=function(){return it.options.prepend&&at.toString()?it.options.prepend+at.toString():at.toString()};return this.options.compatibilityJSON==="v1"?at===1?"":typeof at=="number"?"_plural_".concat(at.toString()):st():this.options.compatibilityJSON==="v2"||this.options.simplifyPluralSuffix&&rt.numbers.length===2&&rt.numbers[0]===1?st():this.options.prepend&&ot.toString()?this.options.prepend+ot.toString():ot.toString()}},{key:"shouldUseIntlApi",value:function(){return!deprecatedJsonVersions.includes(this.options.compatibilityJSON)}}]),tt}();function ownKeys$3$1(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$3$1(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$3$1(Object(rt),!0).forEach(function(nt){_defineProperty$5(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$3$1(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}var Interpolator=function(){function tt(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck$a(this,tt),this.logger=baseLogger.create("interpolator"),this.options=et,this.format=et.interpolation&&et.interpolation.format||function(rt){return rt},this.init(et)}return _createClass$8(tt,[{key:"init",value:function(){var rt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};rt.interpolation||(rt.interpolation={escapeValue:!0});var nt=rt.interpolation;this.escape=nt.escape!==void 0?nt.escape:escape$1,this.escapeValue=nt.escapeValue!==void 0?nt.escapeValue:!0,this.useRawValueToEscape=nt.useRawValueToEscape!==void 0?nt.useRawValueToEscape:!1,this.prefix=nt.prefix?regexEscape(nt.prefix):nt.prefixEscaped||"{{",this.suffix=nt.suffix?regexEscape(nt.suffix):nt.suffixEscaped||"}}",this.formatSeparator=nt.formatSeparator?nt.formatSeparator:nt.formatSeparator||",",this.unescapePrefix=nt.unescapeSuffix?"":nt.unescapePrefix||"-",this.unescapeSuffix=this.unescapePrefix?"":nt.unescapeSuffix||"",this.nestingPrefix=nt.nestingPrefix?regexEscape(nt.nestingPrefix):nt.nestingPrefixEscaped||regexEscape("$t("),this.nestingSuffix=nt.nestingSuffix?regexEscape(nt.nestingSuffix):nt.nestingSuffixEscaped||regexEscape(")"),this.nestingOptionsSeparator=nt.nestingOptionsSeparator?nt.nestingOptionsSeparator:nt.nestingOptionsSeparator||",",this.maxReplaces=nt.maxReplaces?nt.maxReplaces:1e3,this.alwaysFormat=nt.alwaysFormat!==void 0?nt.alwaysFormat:!1,this.resetRegExp()}},{key:"reset",value:function(){this.options&&this.init(this.options)}},{key:"resetRegExp",value:function(){var rt="".concat(this.prefix,"(.+?)").concat(this.suffix);this.regexp=new RegExp(rt,"g");var nt="".concat(this.prefix).concat(this.unescapePrefix,"(.+?)").concat(this.unescapeSuffix).concat(this.suffix);this.regexpUnescape=new RegExp(nt,"g");var it="".concat(this.nestingPrefix,"(.+?)").concat(this.nestingSuffix);this.nestingRegexp=new RegExp(it,"g")}},{key:"interpolate",value:function(rt,nt,it,ot){var at=this,st,lt,ct,ut=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{};function dt(gt){return gt.replace(/\$/g,"$$$$")}var ft=function(vt){if(vt.indexOf(at.formatSeparator)<0){var yt=getPathWithDefaults(nt,ut,vt);return at.alwaysFormat?at.format(yt,void 0,it,_objectSpread$3$1(_objectSpread$3$1(_objectSpread$3$1({},ot),nt),{},{interpolationkey:vt})):yt}var bt=vt.split(at.formatSeparator),xt=bt.shift().trim(),$t=bt.join(at.formatSeparator).trim();return at.format(getPathWithDefaults(nt,ut,xt),$t,it,_objectSpread$3$1(_objectSpread$3$1(_objectSpread$3$1({},ot),nt),{},{interpolationkey:xt}))};this.resetRegExp();var pt=ot&&ot.missingInterpolationHandler||this.options.missingInterpolationHandler,mt=ot&&ot.interpolation&&ot.interpolation.skipOnVariables!==void 0?ot.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables,ht=[{regex:this.regexpUnescape,safeValue:function(vt){return dt(vt)}},{regex:this.regexp,safeValue:function(vt){return at.escapeValue?dt(at.escape(vt)):dt(vt)}}];return ht.forEach(function(gt){for(ct=0;st=gt.regex.exec(rt);){var vt=st[1].trim();if(lt=ft(vt),lt===void 0)if(typeof pt=="function"){var yt=pt(rt,st,ot);lt=typeof yt=="string"?yt:""}else if(ot&&ot.hasOwnProperty(vt))lt="";else if(mt){lt=st[0];continue}else at.logger.warn("missed to pass in variable ".concat(vt," for interpolating ").concat(rt)),lt="";else typeof lt!="string"&&!at.useRawValueToEscape&&(lt=makeString(lt));var bt=gt.safeValue(lt);if(rt=rt.replace(st[0],bt),mt?(gt.regex.lastIndex+=lt.length,gt.regex.lastIndex-=st[0].length):gt.regex.lastIndex=0,ct++,ct>=at.maxReplaces)break}}),rt}},{key:"nest",value:function(rt,nt){var it=this,ot=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},at,st,lt;function ct(pt,mt){var ht=this.nestingOptionsSeparator;if(pt.indexOf(ht)<0)return pt;var gt=pt.split(new RegExp("".concat(ht,"[ ]*{"))),vt="{".concat(gt[1]);pt=gt[0],vt=this.interpolate(vt,lt);var yt=vt.match(/'/g),bt=vt.match(/"/g);(yt&&yt.length%2===0&&!bt||bt.length%2!==0)&&(vt=vt.replace(/'/g,'"'));try{lt=JSON.parse(vt),mt&&(lt=_objectSpread$3$1(_objectSpread$3$1({},mt),lt))}catch(xt){return this.logger.warn("failed parsing options string in nesting for key ".concat(pt),xt),"".concat(pt).concat(ht).concat(vt)}return delete lt.defaultValue,pt}for(;at=this.nestingRegexp.exec(rt);){var ut=[];lt=_objectSpread$3$1({},ot),lt=lt.replace&&typeof lt.replace!="string"?lt.replace:lt,lt.applyPostProcessor=!1,delete lt.defaultValue;var dt=!1;if(at[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(at[1])){var ft=at[1].split(this.formatSeparator).map(function(pt){return pt.trim()});at[1]=ft.shift(),ut=ft,dt=!0}if(st=nt(ct.call(this,at[1].trim(),lt),lt),st&&at[0]===rt&&typeof st!="string")return st;typeof st!="string"&&(st=makeString(st)),st||(this.logger.warn("missed to resolve ".concat(at[1]," for nesting ").concat(rt)),st=""),dt&&(st=ut.reduce(function(pt,mt){return it.format(pt,mt,ot.lng,_objectSpread$3$1(_objectSpread$3$1({},ot),{},{interpolationkey:at[1].trim()}))},st.trim())),rt=rt.replace(at[0],st),this.regexp.lastIndex=0}return rt}}]),tt}();function ownKeys$2$1(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$2$1(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$2$1(Object(rt),!0).forEach(function(nt){_defineProperty$5(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$2$1(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}function parseFormatStr(tt){var et=tt.toLowerCase().trim(),rt={};if(tt.indexOf("(")>-1){var nt=tt.split("(");et=nt[0].toLowerCase().trim();var it=nt[1].substring(0,nt[1].length-1);if(et==="currency"&&it.indexOf(":")<0)rt.currency||(rt.currency=it.trim());else if(et==="relativetime"&&it.indexOf(":")<0)rt.range||(rt.range=it.trim());else{var ot=it.split(";");ot.forEach(function(at){if(at){var st=at.split(":"),lt=_toArray(st),ct=lt[0],ut=lt.slice(1),dt=ut.join(":").trim().replace(/^'+|'+$/g,"");rt[ct.trim()]||(rt[ct.trim()]=dt),dt==="false"&&(rt[ct.trim()]=!1),dt==="true"&&(rt[ct.trim()]=!0),isNaN(dt)||(rt[ct.trim()]=parseInt(dt,10))}})}}return{formatName:et,formatOptions:rt}}function createCachedFormatter(tt){var et={};return function(nt,it,ot){var at=it+JSON.stringify(ot),st=et[at];return st||(st=tt(it,ot),et[at]=st),st(nt)}}var Formatter=function(){function tt(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};_classCallCheck$a(this,tt),this.logger=baseLogger.create("formatter"),this.options=et,this.formats={number:createCachedFormatter(function(rt,nt){var it=new Intl.NumberFormat(rt,nt);return function(ot){return it.format(ot)}}),currency:createCachedFormatter(function(rt,nt){var it=new Intl.NumberFormat(rt,_objectSpread$2$1(_objectSpread$2$1({},nt),{},{style:"currency"}));return function(ot){return it.format(ot)}}),datetime:createCachedFormatter(function(rt,nt){var it=new Intl.DateTimeFormat(rt,_objectSpread$2$1({},nt));return function(ot){return it.format(ot)}}),relativetime:createCachedFormatter(function(rt,nt){var it=new Intl.RelativeTimeFormat(rt,_objectSpread$2$1({},nt));return function(ot){return it.format(ot,nt.range||"day")}}),list:createCachedFormatter(function(rt,nt){var it=new Intl.ListFormat(rt,_objectSpread$2$1({},nt));return function(ot){return it.format(ot)}})},this.init(et)}return _createClass$8(tt,[{key:"init",value:function(rt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{interpolation:{}},it=nt.interpolation;this.formatSeparator=it.formatSeparator?it.formatSeparator:it.formatSeparator||","}},{key:"add",value:function(rt,nt){this.formats[rt.toLowerCase().trim()]=nt}},{key:"addCached",value:function(rt,nt){this.formats[rt.toLowerCase().trim()]=createCachedFormatter(nt)}},{key:"format",value:function(rt,nt,it,ot){var at=this,st=nt.split(this.formatSeparator),lt=st.reduce(function(ct,ut){var dt=parseFormatStr(ut),ft=dt.formatName,pt=dt.formatOptions;if(at.formats[ft]){var mt=ct;try{var ht=ot&&ot.formatParams&&ot.formatParams[ot.interpolationkey]||{},gt=ht.locale||ht.lng||ot.locale||ot.lng||it;mt=at.formats[ft](ct,gt,_objectSpread$2$1(_objectSpread$2$1(_objectSpread$2$1({},pt),ot),ht))}catch(vt){at.logger.warn(vt)}return mt}else at.logger.warn("there was no format function for ".concat(ft));return ct},rt);return lt}}]),tt}();function ownKeys$1$1(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$1$1(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$1$1(Object(rt),!0).forEach(function(nt){_defineProperty$5(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$1$1(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}function _createSuper$1(tt){var et=_isNativeReflectConstruct$1();return function(){var nt=_getPrototypeOf(tt),it;if(et){var ot=_getPrototypeOf(this).constructor;it=Reflect.construct(nt,arguments,ot)}else it=nt.apply(this,arguments);return _possibleConstructorReturn$a(this,it)}}function _isNativeReflectConstruct$1(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function removePending(tt,et){tt.pending[et]!==void 0&&(delete tt.pending[et],tt.pendingCount--)}var Connector=function(tt){_inherits$a(rt,tt);var et=_createSuper$1(rt);function rt(nt,it,ot){var at,st=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};return _classCallCheck$a(this,rt),at=et.call(this),isIE10&&EventEmitter$1.call(_assertThisInitialized(at)),at.backend=nt,at.store=it,at.services=ot,at.languageUtils=ot.languageUtils,at.options=st,at.logger=baseLogger.create("backendConnector"),at.waitingReads=[],at.maxParallelReads=st.maxParallelReads||10,at.readingCalls=0,at.maxRetries=st.maxRetries>=0?st.maxRetries:5,at.retryTimeout=st.retryTimeout>=1?st.retryTimeout:350,at.state={},at.queue=[],at.backend&&at.backend.init&&at.backend.init(ot,st.backend,st),at}return _createClass$8(rt,[{key:"queueLoad",value:function(it,ot,at,st){var lt=this,ct={},ut={},dt={},ft={};return it.forEach(function(pt){var mt=!0;ot.forEach(function(ht){var gt="".concat(pt,"|").concat(ht);!at.reload&&lt.store.hasResourceBundle(pt,ht)?lt.state[gt]=2:lt.state[gt]<0||(lt.state[gt]===1?ut[gt]===void 0&&(ut[gt]=!0):(lt.state[gt]=1,mt=!1,ut[gt]===void 0&&(ut[gt]=!0),ct[gt]===void 0&&(ct[gt]=!0),ft[ht]===void 0&&(ft[ht]=!0)))}),mt||(dt[pt]=!0)}),(Object.keys(ct).length||Object.keys(ut).length)&&this.queue.push({pending:ut,pendingCount:Object.keys(ut).length,loaded:{},errors:[],callback:st}),{toLoad:Object.keys(ct),pending:Object.keys(ut),toLoadLanguages:Object.keys(dt),toLoadNamespaces:Object.keys(ft)}}},{key:"loaded",value:function(it,ot,at){var st=it.split("|"),lt=st[0],ct=st[1];ot&&this.emit("failedLoading",lt,ct,ot),at&&this.store.addResourceBundle(lt,ct,at),this.state[it]=ot?-1:2;var ut={};this.queue.forEach(function(dt){pushPath(dt.loaded,[lt],ct),removePending(dt,it),ot&&dt.errors.push(ot),dt.pendingCount===0&&!dt.done&&(Object.keys(dt.loaded).forEach(function(ft){ut[ft]||(ut[ft]={});var pt=dt.loaded[ft];pt.length&&pt.forEach(function(mt){ut[ft][mt]===void 0&&(ut[ft][mt]=!0)})}),dt.done=!0,dt.errors.length?dt.callback(dt.errors):dt.callback())}),this.emit("loaded",ut),this.queue=this.queue.filter(function(dt){return!dt.done})}},{key:"read",value:function(it,ot,at){var st=this,lt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,ct=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.retryTimeout,ut=arguments.length>5?arguments[5]:void 0;if(!it.length)return ut(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:it,ns:ot,fcName:at,tried:lt,wait:ct,callback:ut});return}this.readingCalls++;var dt=function(ht,gt){if(st.readingCalls--,st.waitingReads.length>0){var vt=st.waitingReads.shift();st.read(vt.lng,vt.ns,vt.fcName,vt.tried,vt.wait,vt.callback)}if(ht&&gt&&lt<st.maxRetries){setTimeout(function(){st.read.call(st,it,ot,at,lt+1,ct*2,ut)},ct);return}ut(ht,gt)},ft=this.backend[at].bind(this.backend);if(ft.length===2){try{var pt=ft(it,ot);pt&&typeof pt.then=="function"?pt.then(function(mt){return dt(null,mt)}).catch(dt):dt(null,pt)}catch(mt){dt(mt)}return}return ft(it,ot,dt)}},{key:"prepareLoading",value:function(it,ot){var at=this,st=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},lt=arguments.length>3?arguments[3]:void 0;if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),lt&&lt();typeof it=="string"&&(it=this.languageUtils.toResolveHierarchy(it)),typeof ot=="string"&&(ot=[ot]);var ct=this.queueLoad(it,ot,st,lt);if(!ct.toLoad.length)return ct.pending.length||lt(),null;ct.toLoad.forEach(function(ut){at.loadOne(ut)})}},{key:"load",value:function(it,ot,at){this.prepareLoading(it,ot,{},at)}},{key:"reload",value:function(it,ot,at){this.prepareLoading(it,ot,{reload:!0},at)}},{key:"loadOne",value:function(it){var ot=this,at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",st=it.split("|"),lt=st[0],ct=st[1];this.read(lt,ct,"read",void 0,void 0,function(ut,dt){ut&&ot.logger.warn("".concat(at,"loading namespace ").concat(ct," for language ").concat(lt," failed"),ut),!ut&&dt&&ot.logger.log("".concat(at,"loaded namespace ").concat(ct," for language ").concat(lt),dt),ot.loaded(it,ut,dt)})}},{key:"saveMissing",value:function(it,ot,at,st,lt){var ct=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},ut=arguments.length>6&&arguments[6]!==void 0?arguments[6]:function(){};if(this.services.utils&&this.services.utils.hasLoadedNamespace&&!this.services.utils.hasLoadedNamespace(ot)){this.logger.warn('did not save key "'.concat(at,'" as the namespace "').concat(ot,'" was not yet loaded'),"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(at==null||at==="")){if(this.backend&&this.backend.create){var dt=_objectSpread$1$1(_objectSpread$1$1({},ct),{},{isUpdate:lt}),ft=this.backend.create.bind(this.backend);if(ft.length<6)try{var pt;ft.length===5?pt=ft(it,ot,at,st,dt):pt=ft(it,ot,at,st),pt&&typeof pt.then=="function"?pt.then(function(mt){return ut(null,mt)}).catch(ut):ut(null,pt)}catch(mt){ut(mt)}else ft(it,ot,at,st,ut,dt)}!it||!it[0]||this.store.addResource(it[0],ot,at,st)}}}]),rt}(EventEmitter$1);function get$9(){return{debug:!1,initImmediate:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!0,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:function(et){var rt={};if(_typeof$2(et[1])==="object"&&(rt=et[1]),typeof et[1]=="string"&&(rt.defaultValue=et[1]),typeof et[2]=="string"&&(rt.tDescription=et[2]),_typeof$2(et[2])==="object"||_typeof$2(et[3])==="object"){var nt=et[3]||et[2];Object.keys(nt).forEach(function(it){rt[it]=nt[it]})}return rt},interpolation:{escapeValue:!0,format:function(et,rt,nt,it){return et},prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0}}}function transformOptions(tt){return typeof tt.ns=="string"&&(tt.ns=[tt.ns]),typeof tt.fallbackLng=="string"&&(tt.fallbackLng=[tt.fallbackLng]),typeof tt.fallbackNS=="string"&&(tt.fallbackNS=[tt.fallbackNS]),tt.supportedLngs&&tt.supportedLngs.indexOf("cimode")<0&&(tt.supportedLngs=tt.supportedLngs.concat(["cimode"])),tt}function ownKeys$a(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$7(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$a(Object(rt),!0).forEach(function(nt){_defineProperty$5(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$a(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}function _createSuper(tt){var et=_isNativeReflectConstruct();return function(){var nt=_getPrototypeOf(tt),it;if(et){var ot=_getPrototypeOf(this).constructor;it=Reflect.construct(nt,arguments,ot)}else it=nt.apply(this,arguments);return _possibleConstructorReturn$a(this,it)}}function _isNativeReflectConstruct(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function noop$a(){}function bindMemberFunctions(tt){var et=Object.getOwnPropertyNames(Object.getPrototypeOf(tt));et.forEach(function(rt){typeof tt[rt]=="function"&&(tt[rt]=tt[rt].bind(tt))})}var I18n=function(tt){_inherits$a(rt,tt);var et=_createSuper(rt);function rt(){var nt,it=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},ot=arguments.length>1?arguments[1]:void 0;if(_classCallCheck$a(this,rt),nt=et.call(this),isIE10&&EventEmitter$1.call(_assertThisInitialized(nt)),nt.options=transformOptions(it),nt.services={},nt.logger=baseLogger,nt.modules={external:[]},bindMemberFunctions(_assertThisInitialized(nt)),ot&&!nt.isInitialized&&!it.isClone){if(!nt.options.initImmediate)return nt.init(it,ot),_possibleConstructorReturn$a(nt,_assertThisInitialized(nt));setTimeout(function(){nt.init(it,ot)},0)}return nt}return _createClass$8(rt,[{key:"init",value:function(){var it=this,ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=arguments.length>1?arguments[1]:void 0;typeof ot=="function"&&(at=ot,ot={}),!ot.defaultNS&&ot.defaultNS!==!1&&ot.ns&&(typeof ot.ns=="string"?ot.defaultNS=ot.ns:ot.ns.indexOf("translation")<0&&(ot.defaultNS=ot.ns[0]));var st=get$9();this.options=_objectSpread$7(_objectSpread$7(_objectSpread$7({},st),this.options),transformOptions(ot)),this.options.compatibilityAPI!=="v1"&&(this.options.interpolation=_objectSpread$7(_objectSpread$7({},st.interpolation),this.options.interpolation)),ot.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=ot.keySeparator),ot.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=ot.nsSeparator);function lt(vt){return vt?typeof vt=="function"?new vt:vt:null}if(!this.options.isClone){this.modules.logger?baseLogger.init(lt(this.modules.logger),this.options):baseLogger.init(null,this.options);var ct;this.modules.formatter?ct=this.modules.formatter:typeof Intl<"u"&&(ct=Formatter);var ut=new LanguageUtil(this.options);this.store=new ResourceStore(this.options.resources,this.options);var dt=this.services;dt.logger=baseLogger,dt.resourceStore=this.store,dt.languageUtils=ut,dt.pluralResolver=new PluralResolver(ut,{prepend:this.options.pluralSeparator,compatibilityJSON:this.options.compatibilityJSON,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),ct&&(!this.options.interpolation.format||this.options.interpolation.format===st.interpolation.format)&&(dt.formatter=lt(ct),dt.formatter.init(dt,this.options),this.options.interpolation.format=dt.formatter.format.bind(dt.formatter)),dt.interpolator=new Interpolator(this.options),dt.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},dt.backendConnector=new Connector(lt(this.modules.backend),dt.resourceStore,dt,this.options),dt.backendConnector.on("*",function(vt){for(var yt=arguments.length,bt=new Array(yt>1?yt-1:0),xt=1;xt<yt;xt++)bt[xt-1]=arguments[xt];it.emit.apply(it,[vt].concat(bt))}),this.modules.languageDetector&&(dt.languageDetector=lt(this.modules.languageDetector),dt.languageDetector.init&&dt.languageDetector.init(dt,this.options.detection,this.options)),this.modules.i18nFormat&&(dt.i18nFormat=lt(this.modules.i18nFormat),dt.i18nFormat.init&&dt.i18nFormat.init(this)),this.translator=new Translator(this.services,this.options),this.translator.on("*",function(vt){for(var yt=arguments.length,bt=new Array(yt>1?yt-1:0),xt=1;xt<yt;xt++)bt[xt-1]=arguments[xt];it.emit.apply(it,[vt].concat(bt))}),this.modules.external.forEach(function(vt){vt.init&&vt.init(it)})}if(this.format=this.options.interpolation.format,at||(at=noop$a),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){var ft=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);ft.length>0&&ft[0]!=="dev"&&(this.options.lng=ft[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined");var pt=["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"];pt.forEach(function(vt){it[vt]=function(){var yt;return(yt=it.store)[vt].apply(yt,arguments)}});var mt=["addResource","addResources","addResourceBundle","removeResourceBundle"];mt.forEach(function(vt){it[vt]=function(){var yt;return(yt=it.store)[vt].apply(yt,arguments),it}});var ht=defer$4(),gt=function(){var yt=function(xt,$t){it.isInitialized&&!it.initializedStoreOnce&&it.logger.warn("init: i18next is already initialized. You should call init just once!"),it.isInitialized=!0,it.options.isClone||it.logger.log("initialized",it.options),it.emit("initialized",it.options),ht.resolve($t),at(xt,$t)};if(it.languages&&it.options.compatibilityAPI!=="v1"&&!it.isInitialized)return yt(null,it.t.bind(it));it.changeLanguage(it.options.lng,yt)};return this.options.resources||!this.options.initImmediate?gt():setTimeout(gt,0),ht}},{key:"loadResources",value:function(it){var ot=this,at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$a,st=at,lt=typeof it=="string"?it:this.language;if(typeof it=="function"&&(st=it),!this.options.resources||this.options.partialBundledLanguages){if(lt&&lt.toLowerCase()==="cimode")return st();var ct=[],ut=function(pt){if(pt){var mt=ot.services.languageUtils.toResolveHierarchy(pt);mt.forEach(function(ht){ct.indexOf(ht)<0&&ct.push(ht)})}};if(lt)ut(lt);else{var dt=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);dt.forEach(function(ft){return ut(ft)})}this.options.preload&&this.options.preload.forEach(function(ft){return ut(ft)}),this.services.backendConnector.load(ct,this.options.ns,function(ft){!ft&&!ot.resolvedLanguage&&ot.language&&ot.setResolvedLanguage(ot.language),st(ft)})}else st(null)}},{key:"reloadResources",value:function(it,ot,at){var st=defer$4();return it||(it=this.languages),ot||(ot=this.options.ns),at||(at=noop$a),this.services.backendConnector.reload(it,ot,function(lt){st.resolve(),at(lt)}),st}},{key:"use",value:function(it){if(!it)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!it.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return it.type==="backend"&&(this.modules.backend=it),(it.type==="logger"||it.log&&it.warn&&it.error)&&(this.modules.logger=it),it.type==="languageDetector"&&(this.modules.languageDetector=it),it.type==="i18nFormat"&&(this.modules.i18nFormat=it),it.type==="postProcessor"&&postProcessor.addPostProcessor(it),it.type==="formatter"&&(this.modules.formatter=it),it.type==="3rdParty"&&this.modules.external.push(it),this}},{key:"setResolvedLanguage",value:function(it){if(!(!it||!this.languages)&&!(["cimode","dev"].indexOf(it)>-1))for(var ot=0;ot<this.languages.length;ot++){var at=this.languages[ot];if(!(["cimode","dev"].indexOf(at)>-1)&&this.store.hasLanguageSomeTranslations(at)){this.resolvedLanguage=at;break}}}},{key:"changeLanguage",value:function(it,ot){var at=this;this.isLanguageChangingTo=it;var st=defer$4();this.emit("languageChanging",it);var lt=function(ft){at.language=ft,at.languages=at.services.languageUtils.toResolveHierarchy(ft),at.resolvedLanguage=void 0,at.setResolvedLanguage(ft)},ct=function(ft,pt){pt?(lt(pt),at.translator.changeLanguage(pt),at.isLanguageChangingTo=void 0,at.emit("languageChanged",pt),at.logger.log("languageChanged",pt)):at.isLanguageChangingTo=void 0,st.resolve(function(){return at.t.apply(at,arguments)}),ot&&ot(ft,function(){return at.t.apply(at,arguments)})},ut=function(ft){!it&&!ft&&at.services.languageDetector&&(ft=[]);var pt=typeof ft=="string"?ft:at.services.languageUtils.getBestMatchFromCodes(ft);pt&&(at.language||lt(pt),at.translator.language||at.translator.changeLanguage(pt),at.services.languageDetector&&at.services.languageDetector.cacheUserLanguage&&at.services.languageDetector.cacheUserLanguage(pt)),at.loadResources(pt,function(mt){ct(mt,pt)})};return!it&&this.services.languageDetector&&!this.services.languageDetector.async?ut(this.services.languageDetector.detect()):!it&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(ut):this.services.languageDetector.detect(ut):ut(it),st}},{key:"getFixedT",value:function(it,ot,at){var st=this,lt=function ct(ut,dt){var ft;if(_typeof$2(dt)!=="object"){for(var pt=arguments.length,mt=new Array(pt>2?pt-2:0),ht=2;ht<pt;ht++)mt[ht-2]=arguments[ht];ft=st.options.overloadTranslationOptionHandler([ut,dt].concat(mt))}else ft=_objectSpread$7({},dt);ft.lng=ft.lng||ct.lng,ft.lngs=ft.lngs||ct.lngs,ft.ns=ft.ns||ct.ns,ft.keyPrefix=ft.keyPrefix||at||ct.keyPrefix;var gt=st.options.keySeparator||".",vt;return ft.keyPrefix&&Array.isArray(ut)?vt=ut.map(function(yt){return"".concat(ft.keyPrefix).concat(gt).concat(yt)}):vt=ft.keyPrefix?"".concat(ft.keyPrefix).concat(gt).concat(ut):ut,st.t(vt,ft)};return typeof it=="string"?lt.lng=it:lt.lngs=it,lt.ns=ot,lt.keyPrefix=at,lt}},{key:"t",value:function(){var it;return this.translator&&(it=this.translator).translate.apply(it,arguments)}},{key:"exists",value:function(){var it;return this.translator&&(it=this.translator).exists.apply(it,arguments)}},{key:"setDefaultNamespace",value:function(it){this.options.defaultNS=it}},{key:"hasLoadedNamespace",value:function(it){var ot=this,at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;var st=this.resolvedLanguage||this.languages[0],lt=this.options?this.options.fallbackLng:!1,ct=this.languages[this.languages.length-1];if(st.toLowerCase()==="cimode")return!0;var ut=function(pt,mt){var ht=ot.services.backendConnector.state["".concat(pt,"|").concat(mt)];return ht===-1||ht===2};if(at.precheck){var dt=at.precheck(this,ut);if(dt!==void 0)return dt}return!!(this.hasResourceBundle(st,it)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||ut(st,it)&&(!lt||ut(ct,it)))}},{key:"loadNamespaces",value:function(it,ot){var at=this,st=defer$4();return this.options.ns?(typeof it=="string"&&(it=[it]),it.forEach(function(lt){at.options.ns.indexOf(lt)<0&&at.options.ns.push(lt)}),this.loadResources(function(lt){st.resolve(),ot&&ot(lt)}),st):(ot&&ot(),Promise.resolve())}},{key:"loadLanguages",value:function(it,ot){var at=defer$4();typeof it=="string"&&(it=[it]);var st=this.options.preload||[],lt=it.filter(function(ct){return st.indexOf(ct)<0});return lt.length?(this.options.preload=st.concat(lt),this.loadResources(function(ct){at.resolve(),ot&&ot(ct)}),at):(ot&&ot(),Promise.resolve())}},{key:"dir",value:function(it){if(it||(it=this.resolvedLanguage||(this.languages&&this.languages.length>0?this.languages[0]:this.language)),!it)return"rtl";var ot=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],at=this.services&&this.services.languageUtils||new LanguageUtil(get$9());return ot.indexOf(at.getLanguagePartFromCode(it))>-1||it.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}},{key:"cloneInstance",value:function(){var it=this,ot=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},at=arguments.length>1&&arguments[1]!==void 0?arguments[1]:noop$a,st=_objectSpread$7(_objectSpread$7(_objectSpread$7({},this.options),ot),{isClone:!0}),lt=new rt(st);(ot.debug!==void 0||ot.prefix!==void 0)&&(lt.logger=lt.logger.clone(ot));var ct=["store","services","language"];return ct.forEach(function(ut){lt[ut]=it[ut]}),lt.services=_objectSpread$7({},this.services),lt.services.utils={hasLoadedNamespace:lt.hasLoadedNamespace.bind(lt)},lt.translator=new Translator(lt.services,lt.options),lt.translator.on("*",function(ut){for(var dt=arguments.length,ft=new Array(dt>1?dt-1:0),pt=1;pt<dt;pt++)ft[pt-1]=arguments[pt];lt.emit.apply(lt,[ut].concat(ft))}),lt.init(st,at),lt.translator.options=lt.options,lt.translator.backendConnector.services.utils={hasLoadedNamespace:lt.hasLoadedNamespace.bind(lt)},lt}},{key:"toJSON",value:function(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}]),rt}(EventEmitter$1);_defineProperty$5(I18n,"createInstance",function(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=arguments.length>1?arguments[1]:void 0;return new I18n(tt,et)});var instance=I18n.createInstance();instance.createInstance=I18n.createInstance;instance.createInstance;instance.dir;instance.init;instance.loadResources;instance.reloadResources;instance.use;instance.changeLanguage;instance.getFixedT;instance.t;instance.exists;instance.setDefaultNamespace;instance.hasLoadedNamespace;instance.loadNamespaces;instance.loadLanguages;function bind$a(tt,et){return function(){return tt.apply(et,arguments)}}const{toString:toString$9}=Object.prototype,{getPrototypeOf}=Object,kindOf$1=(tt=>et=>{const rt=toString$9.call(et);return tt[rt]||(tt[rt]=rt.slice(8,-1).toLowerCase())})(Object.create(null)),kindOfTest$1=tt=>(tt=tt.toLowerCase(),et=>kindOf$1(et)===tt),typeOfTest=tt=>et=>typeof et===tt,{isArray:isArray$n}=Array,isUndefined$2=typeOfTest("undefined");function isBuffer$6(tt){return tt!==null&&!isUndefined$2(tt)&&tt.constructor!==null&&!isUndefined$2(tt.constructor)&&isFunction$9(tt.constructor.isBuffer)&&tt.constructor.isBuffer(tt)}const isArrayBuffer$1=kindOfTest$1("ArrayBuffer");function isArrayBufferView$1(tt){let et;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?et=ArrayBuffer.isView(tt):et=tt&&tt.buffer&&isArrayBuffer$1(tt.buffer),et}const isString$a=typeOfTest("string"),isFunction$9=typeOfTest("function"),isNumber$8=typeOfTest("number"),isObject$k=tt=>tt!==null&&typeof tt=="object",isBoolean$7=tt=>tt===!0||tt===!1,isPlainObject$4=tt=>{if(kindOf$1(tt)!=="object")return!1;const et=getPrototypeOf(tt);return(et===null||et===Object.prototype||Object.getPrototypeOf(et)===null)&&!(Symbol.toStringTag in tt)&&!(Symbol.iterator in tt)},isDate$2=kindOfTest$1("Date"),isFile$1=kindOfTest$1("File"),isBlob$1=kindOfTest$1("Blob"),isFileList$1=kindOfTest$1("FileList"),isStream$1=tt=>isObject$k(tt)&&isFunction$9(tt.pipe),isFormData$1=tt=>{const et="[object FormData]";return tt&&(typeof FormData=="function"&&tt instanceof FormData||toString$9.call(tt)===et||isFunction$9(tt.toString)&&tt.toString()===et)},isURLSearchParams$1=kindOfTest$1("URLSearchParams"),trim$1=tt=>tt.trim?tt.trim():tt.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function forEach$1(tt,et,{allOwnKeys:rt=!1}={}){if(tt===null||typeof tt>"u")return;let nt,it;if(typeof tt!="object"&&(tt=[tt]),isArray$n(tt))for(nt=0,it=tt.length;nt<it;nt++)et.call(null,tt[nt],nt,tt);else{const ot=rt?Object.getOwnPropertyNames(tt):Object.keys(tt),at=ot.length;let st;for(nt=0;nt<at;nt++)st=ot[nt],et.call(null,tt[st],st,tt)}}function findKey(tt,et){et=et.toLowerCase();const rt=Object.keys(tt);let nt=rt.length,it;for(;nt-- >0;)if(it=rt[nt],et===it.toLowerCase())return it;return null}const _global=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),isContextDefined=tt=>!isUndefined$2(tt)&&tt!==_global;function merge$2(){const{caseless:tt}=isContextDefined(this)&&this||{},et={},rt=(nt,it)=>{const ot=tt&&findKey(et,it)||it;isPlainObject$4(et[ot])&&isPlainObject$4(nt)?et[ot]=merge$2(et[ot],nt):isPlainObject$4(nt)?et[ot]=merge$2({},nt):isArray$n(nt)?et[ot]=nt.slice():et[ot]=nt};for(let nt=0,it=arguments.length;nt<it;nt++)arguments[nt]&&forEach$1(arguments[nt],rt);return et}const extend$2=(tt,et,rt,{allOwnKeys:nt}={})=>(forEach$1(et,(it,ot)=>{rt&&isFunction$9(it)?tt[ot]=bind$a(it,rt):tt[ot]=it},{allOwnKeys:nt}),tt),stripBOM$1=tt=>(tt.charCodeAt(0)===65279&&(tt=tt.slice(1)),tt),inherits$1=(tt,et,rt,nt)=>{tt.prototype=Object.create(et.prototype,nt),tt.prototype.constructor=tt,Object.defineProperty(tt,"super",{value:et.prototype}),rt&&Object.assign(tt.prototype,rt)},toFlatObject$1=(tt,et,rt,nt)=>{let it,ot,at;const st={};if(et=et||{},tt==null)return et;do{for(it=Object.getOwnPropertyNames(tt),ot=it.length;ot-- >0;)at=it[ot],(!nt||nt(at,tt,et))&&!st[at]&&(et[at]=tt[at],st[at]=!0);tt=rt!==!1&&getPrototypeOf(tt)}while(tt&&(!rt||rt(tt,et))&&tt!==Object.prototype);return et},endsWith$1=(tt,et,rt)=>{tt=String(tt),(rt===void 0||rt>tt.length)&&(rt=tt.length),rt-=et.length;const nt=tt.indexOf(et,rt);return nt!==-1&&nt===rt},toArray$2=tt=>{if(!tt)return null;if(isArray$n(tt))return tt;let et=tt.length;if(!isNumber$8(et))return null;const rt=new Array(et);for(;et-- >0;)rt[et]=tt[et];return rt},isTypedArray$5=(tt=>et=>tt&&et instanceof tt)(typeof Uint8Array<"u"&&getPrototypeOf(Uint8Array)),forEachEntry=(tt,et)=>{const nt=(tt&&tt[Symbol.iterator]).call(tt);let it;for(;(it=nt.next())&&!it.done;){const ot=it.value;et.call(tt,ot[0],ot[1])}},matchAll=(tt,et)=>{let rt;const nt=[];for(;(rt=tt.exec(et))!==null;)nt.push(rt);return nt},isHTMLForm=kindOfTest$1("HTMLFormElement"),toCamelCase=tt=>tt.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(rt,nt,it){return nt.toUpperCase()+it}),hasOwnProperty$h=(({hasOwnProperty:tt})=>(et,rt)=>tt.call(et,rt))(Object.prototype),isRegExp$2=kindOfTest$1("RegExp"),reduceDescriptors=(tt,et)=>{const rt=Object.getOwnPropertyDescriptors(tt),nt={};forEach$1(rt,(it,ot)=>{et(it,ot,tt)!==!1&&(nt[ot]=it)}),Object.defineProperties(tt,nt)},freezeMethods=tt=>{reduceDescriptors(tt,(et,rt)=>{if(isFunction$9(tt)&&["arguments","caller","callee"].indexOf(rt)!==-1)return!1;const nt=tt[rt];if(isFunction$9(nt)){if(et.enumerable=!1,"writable"in et){et.writable=!1;return}et.set||(et.set=()=>{throw Error("Can not rewrite read-only method '"+rt+"'")})}})},toObjectSet=(tt,et)=>{const rt={},nt=it=>{it.forEach(ot=>{rt[ot]=!0})};return isArray$n(tt)?nt(tt):nt(String(tt).split(et)),rt},noop$9=()=>{},toFiniteNumber=(tt,et)=>(tt=+tt,Number.isFinite(tt)?tt:et),ALPHA="abcdefghijklmnopqrstuvwxyz",DIGIT="0123456789",ALPHABET={DIGIT,ALPHA,ALPHA_DIGIT:ALPHA+ALPHA.toUpperCase()+DIGIT},generateString=(tt=16,et=ALPHABET.ALPHA_DIGIT)=>{let rt="";const{length:nt}=et;for(;tt--;)rt+=et[Math.random()*nt|0];return rt};function isSpecCompliantForm(tt){return!!(tt&&isFunction$9(tt.append)&&tt[Symbol.toStringTag]==="FormData"&&tt[Symbol.iterator])}const toJSONObject=tt=>{const et=new Array(10),rt=(nt,it)=>{if(isObject$k(nt)){if(et.indexOf(nt)>=0)return;if(!("toJSON"in nt)){et[it]=nt;const ot=isArray$n(nt)?[]:{};return forEach$1(nt,(at,st)=>{const lt=rt(at,it+1);!isUndefined$2(lt)&&(ot[st]=lt)}),et[it]=void 0,ot}}return nt};return rt(tt,0)},utils$f={isArray:isArray$n,isArrayBuffer:isArrayBuffer$1,isBuffer:isBuffer$6,isFormData:isFormData$1,isArrayBufferView:isArrayBufferView$1,isString:isString$a,isNumber:isNumber$8,isBoolean:isBoolean$7,isObject:isObject$k,isPlainObject:isPlainObject$4,isUndefined:isUndefined$2,isDate:isDate$2,isFile:isFile$1,isBlob:isBlob$1,isRegExp:isRegExp$2,isFunction:isFunction$9,isStream:isStream$1,isURLSearchParams:isURLSearchParams$1,isTypedArray:isTypedArray$5,isFileList:isFileList$1,forEach:forEach$1,merge:merge$2,extend:extend$2,trim:trim$1,stripBOM:stripBOM$1,inherits:inherits$1,toFlatObject:toFlatObject$1,kindOf:kindOf$1,kindOfTest:kindOfTest$1,endsWith:endsWith$1,toArray:toArray$2,forEachEntry,matchAll,isHTMLForm,hasOwnProperty:hasOwnProperty$h,hasOwnProp:hasOwnProperty$h,reduceDescriptors,freezeMethods,toObjectSet,toCamelCase,noop:noop$9,toFiniteNumber,findKey,global:_global,isContextDefined,ALPHABET,generateString,isSpecCompliantForm,toJSONObject};function AxiosError$3(tt,et,rt,nt,it){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=tt,this.name="AxiosError",et&&(this.code=et),rt&&(this.config=rt),nt&&(this.request=nt),it&&(this.response=it)}utils$f.inherits(AxiosError$3,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:utils$f.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const prototype$2=AxiosError$3.prototype,descriptors$5={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(tt=>{descriptors$5[tt]={value:tt}});Object.defineProperties(AxiosError$3,descriptors$5);Object.defineProperty(prototype$2,"isAxiosError",{value:!0});AxiosError$3.from=(tt,et,rt,nt,it,ot)=>{const at=Object.create(prototype$2);return utils$f.toFlatObject(tt,at,function(lt){return lt!==Error.prototype},st=>st!=="isAxiosError"),AxiosError$3.call(at,tt.message,et,rt,nt,it),at.cause=tt,at.name=tt.name,ot&&Object.assign(at,ot),at};const httpAdapter=null;function isVisitable(tt){return utils$f.isPlainObject(tt)||utils$f.isArray(tt)}function removeBrackets(tt){return utils$f.endsWith(tt,"[]")?tt.slice(0,-2):tt}function renderKey(tt,et,rt){return tt?tt.concat(et).map(function(it,ot){return it=removeBrackets(it),!rt&&ot?"["+it+"]":it}).join(rt?".":""):et}function isFlatArray(tt){return utils$f.isArray(tt)&&!tt.some(isVisitable)}const predicates=utils$f.toFlatObject(utils$f,{},null,function(et){return/^is[A-Z]/.test(et)});function toFormData$2(tt,et,rt){if(!utils$f.isObject(tt))throw new TypeError("target must be an object");et=et||new FormData,rt=utils$f.toFlatObject(rt,{metaTokens:!0,dots:!1,indexes:!1},!1,function(ht,gt){return!utils$f.isUndefined(gt[ht])});const nt=rt.metaTokens,it=rt.visitor||ut,ot=rt.dots,at=rt.indexes,lt=(rt.Blob||typeof Blob<"u"&&Blob)&&utils$f.isSpecCompliantForm(et);if(!utils$f.isFunction(it))throw new TypeError("visitor must be a function");function ct(mt){if(mt===null)return"";if(utils$f.isDate(mt))return mt.toISOString();if(!lt&&utils$f.isBlob(mt))throw new AxiosError$3("Blob is not supported. Use a Buffer instead.");return utils$f.isArrayBuffer(mt)||utils$f.isTypedArray(mt)?lt&&typeof Blob=="function"?new Blob([mt]):Buffer.from(mt):mt}function ut(mt,ht,gt){let vt=mt;if(mt&&!gt&&typeof mt=="object"){if(utils$f.endsWith(ht,"{}"))ht=nt?ht:ht.slice(0,-2),mt=JSON.stringify(mt);else if(utils$f.isArray(mt)&&isFlatArray(mt)||(utils$f.isFileList(mt)||utils$f.endsWith(ht,"[]"))&&(vt=utils$f.toArray(mt)))return ht=removeBrackets(ht),vt.forEach(function(bt,xt){!(utils$f.isUndefined(bt)||bt===null)&&et.append(at===!0?renderKey([ht],xt,ot):at===null?ht:ht+"[]",ct(bt))}),!1}return isVisitable(mt)?!0:(et.append(renderKey(gt,ht,ot),ct(mt)),!1)}const dt=[],ft=Object.assign(predicates,{defaultVisitor:ut,convertValue:ct,isVisitable});function pt(mt,ht){if(!utils$f.isUndefined(mt)){if(dt.indexOf(mt)!==-1)throw Error("Circular reference detected in "+ht.join("."));dt.push(mt),utils$f.forEach(mt,function(vt,yt){(!(utils$f.isUndefined(vt)||vt===null)&&it.call(et,vt,utils$f.isString(yt)?yt.trim():yt,ht,ft))===!0&&pt(vt,ht?ht.concat(yt):[yt])}),dt.pop()}}if(!utils$f.isObject(tt))throw new TypeError("data must be an object");return pt(tt),et}function encode$4(tt){const et={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(tt).replace(/[!'()~]|%20|%00/g,function(nt){return et[nt]})}function AxiosURLSearchParams(tt,et){this._pairs=[],tt&&toFormData$2(tt,this,et)}const prototype$1=AxiosURLSearchParams.prototype;prototype$1.append=function(et,rt){this._pairs.push([et,rt])};prototype$1.toString=function(et){const rt=et?function(nt){return et.call(this,nt,encode$4)}:encode$4;return this._pairs.map(function(it){return rt(it[0])+"="+rt(it[1])},"").join("&")};function encode$3(tt){return encodeURIComponent(tt).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function buildURL$2(tt,et,rt){if(!et)return tt;const nt=rt&&rt.encode||encode$3,it=rt&&rt.serialize;let ot;if(it?ot=it(et,rt):ot=utils$f.isURLSearchParams(et)?et.toString():new AxiosURLSearchParams(et,rt).toString(nt),ot){const at=tt.indexOf("#");at!==-1&&(tt=tt.slice(0,at)),tt+=(tt.indexOf("?")===-1?"?":"&")+ot}return tt}let InterceptorManager$2=class{constructor(){this.handlers=[]}use(et,rt,nt){return this.handlers.push({fulfilled:et,rejected:rt,synchronous:nt?nt.synchronous:!1,runWhen:nt?nt.runWhen:null}),this.handlers.length-1}eject(et){this.handlers[et]&&(this.handlers[et]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(et){utils$f.forEach(this.handlers,function(nt){nt!==null&&et(nt)})}};const InterceptorManager$3=InterceptorManager$2,transitionalDefaults$1={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},URLSearchParams$1=typeof URLSearchParams<"u"?URLSearchParams:AxiosURLSearchParams,FormData$1=FormData,isStandardBrowserEnv$1=(()=>{let tt;return typeof navigator<"u"&&((tt=navigator.product)==="ReactNative"||tt==="NativeScript"||tt==="NS")?!1:typeof window<"u"&&typeof document<"u"})(),isStandardBrowserWebWorkerEnv=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),platform={isBrowser:!0,classes:{URLSearchParams:URLSearchParams$1,FormData:FormData$1,Blob},isStandardBrowserEnv:isStandardBrowserEnv$1,isStandardBrowserWebWorkerEnv,protocols:["http","https","file","blob","url","data"]};function toURLEncodedForm(tt,et){return toFormData$2(tt,new platform.classes.URLSearchParams,Object.assign({visitor:function(rt,nt,it,ot){return platform.isNode&&utils$f.isBuffer(rt)?(this.append(nt,rt.toString("base64")),!1):ot.defaultVisitor.apply(this,arguments)}},et))}function parsePropPath(tt){return utils$f.matchAll(/\w+|\[(\w*)]/g,tt).map(et=>et[0]==="[]"?"":et[1]||et[0])}function arrayToObject$1(tt){const et={},rt=Object.keys(tt);let nt;const it=rt.length;let ot;for(nt=0;nt<it;nt++)ot=rt[nt],et[ot]=tt[ot];return et}function formDataToJSON(tt){function et(rt,nt,it,ot){let at=rt[ot++];const st=Number.isFinite(+at),lt=ot>=rt.length;return at=!at&&utils$f.isArray(it)?it.length:at,lt?(utils$f.hasOwnProp(it,at)?it[at]=[it[at],nt]:it[at]=nt,!st):((!it[at]||!utils$f.isObject(it[at]))&&(it[at]=[]),et(rt,nt,it[at],ot)&&utils$f.isArray(it[at])&&(it[at]=arrayToObject$1(it[at])),!st)}if(utils$f.isFormData(tt)&&utils$f.isFunction(tt.entries)){const rt={};return utils$f.forEachEntry(tt,(nt,it)=>{et(parsePropPath(nt),it,rt,0)}),rt}return null}const DEFAULT_CONTENT_TYPE$1={"Content-Type":void 0};function stringifySafely$1(tt,et,rt){if(utils$f.isString(tt))try{return(et||JSON.parse)(tt),utils$f.trim(tt)}catch(nt){if(nt.name!=="SyntaxError")throw nt}return(rt||JSON.stringify)(tt)}const defaults$8={transitional:transitionalDefaults$1,adapter:["xhr","http"],transformRequest:[function(et,rt){const nt=rt.getContentType()||"",it=nt.indexOf("application/json")>-1,ot=utils$f.isObject(et);if(ot&&utils$f.isHTMLForm(et)&&(et=new FormData(et)),utils$f.isFormData(et))return it&&it?JSON.stringify(formDataToJSON(et)):et;if(utils$f.isArrayBuffer(et)||utils$f.isBuffer(et)||utils$f.isStream(et)||utils$f.isFile(et)||utils$f.isBlob(et))return et;if(utils$f.isArrayBufferView(et))return et.buffer;if(utils$f.isURLSearchParams(et))return rt.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),et.toString();let st;if(ot){if(nt.indexOf("application/x-www-form-urlencoded")>-1)return toURLEncodedForm(et,this.formSerializer).toString();if((st=utils$f.isFileList(et))||nt.indexOf("multipart/form-data")>-1){const lt=this.env&&this.env.FormData;return toFormData$2(st?{"files[]":et}:et,lt&&new lt,this.formSerializer)}}return ot||it?(rt.setContentType("application/json",!1),stringifySafely$1(et)):et}],transformResponse:[function(et){const rt=this.transitional||defaults$8.transitional,nt=rt&&rt.forcedJSONParsing,it=this.responseType==="json";if(et&&utils$f.isString(et)&&(nt&&!this.responseType||it)){const at=!(rt&&rt.silentJSONParsing)&&it;try{return JSON.parse(et)}catch(st){if(at)throw st.name==="SyntaxError"?AxiosError$3.from(st,AxiosError$3.ERR_BAD_RESPONSE,this,null,this.response):st}}return et}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:platform.classes.FormData,Blob:platform.classes.Blob},validateStatus:function(et){return et>=200&&et<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$f.forEach(["delete","get","head"],function(et){defaults$8.headers[et]={}});utils$f.forEach(["post","put","patch"],function(et){defaults$8.headers[et]=utils$f.merge(DEFAULT_CONTENT_TYPE$1)});const defaults$9=defaults$8,ignoreDuplicateOf=utils$f.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),parseHeaders$1=tt=>{const et={};let rt,nt,it;return tt&&tt.split(`
`).forEach(function(at){it=at.indexOf(":"),rt=at.substring(0,it).trim().toLowerCase(),nt=at.substring(it+1).trim(),!(!rt||et[rt]&&ignoreDuplicateOf[rt])&&(rt==="set-cookie"?et[rt]?et[rt].push(nt):et[rt]=[nt]:et[rt]=et[rt]?et[rt]+", "+nt:nt)}),et},$internals=Symbol("internals");function normalizeHeader(tt){return tt&&String(tt).trim().toLowerCase()}function normalizeValue(tt){return tt===!1||tt==null?tt:utils$f.isArray(tt)?tt.map(normalizeValue):String(tt)}function parseTokens(tt){const et=Object.create(null),rt=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let nt;for(;nt=rt.exec(tt);)et[nt[1]]=nt[2];return et}function isValidHeaderName(tt){return/^[-_a-zA-Z]+$/.test(tt.trim())}function matchHeaderValue(tt,et,rt,nt){if(utils$f.isFunction(nt))return nt.call(this,et,rt);if(utils$f.isString(et)){if(utils$f.isString(nt))return et.indexOf(nt)!==-1;if(utils$f.isRegExp(nt))return nt.test(et)}}function formatHeader(tt){return tt.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(et,rt,nt)=>rt.toUpperCase()+nt)}function buildAccessors(tt,et){const rt=utils$f.toCamelCase(" "+et);["get","set","has"].forEach(nt=>{Object.defineProperty(tt,nt+rt,{value:function(it,ot,at){return this[nt].call(this,et,it,ot,at)},configurable:!0})})}class AxiosHeaders{constructor(et){et&&this.set(et)}set(et,rt,nt){const it=this;function ot(st,lt,ct){const ut=normalizeHeader(lt);if(!ut)throw new Error("header name must be a non-empty string");const dt=utils$f.findKey(it,ut);(!dt||it[dt]===void 0||ct===!0||ct===void 0&&it[dt]!==!1)&&(it[dt||lt]=normalizeValue(st))}const at=(st,lt)=>utils$f.forEach(st,(ct,ut)=>ot(ct,ut,lt));return utils$f.isPlainObject(et)||et instanceof this.constructor?at(et,rt):utils$f.isString(et)&&(et=et.trim())&&!isValidHeaderName(et)?at(parseHeaders$1(et),rt):et!=null&&ot(rt,et,nt),this}get(et,rt){if(et=normalizeHeader(et),et){const nt=utils$f.findKey(this,et);if(nt){const it=this[nt];if(!rt)return it;if(rt===!0)return parseTokens(it);if(utils$f.isFunction(rt))return rt.call(this,it,nt);if(utils$f.isRegExp(rt))return rt.exec(it);throw new TypeError("parser must be boolean|regexp|function")}}}has(et,rt){if(et=normalizeHeader(et),et){const nt=utils$f.findKey(this,et);return!!(nt&&this[nt]!==void 0&&(!rt||matchHeaderValue(this,this[nt],nt,rt)))}return!1}delete(et,rt){const nt=this;let it=!1;function ot(at){if(at=normalizeHeader(at),at){const st=utils$f.findKey(nt,at);st&&(!rt||matchHeaderValue(nt,nt[st],st,rt))&&(delete nt[st],it=!0)}}return utils$f.isArray(et)?et.forEach(ot):ot(et),it}clear(et){const rt=Object.keys(this);let nt=rt.length,it=!1;for(;nt--;){const ot=rt[nt];(!et||matchHeaderValue(this,this[ot],ot,et))&&(delete this[ot],it=!0)}return it}normalize(et){const rt=this,nt={};return utils$f.forEach(this,(it,ot)=>{const at=utils$f.findKey(nt,ot);if(at){rt[at]=normalizeValue(it),delete rt[ot];return}const st=et?formatHeader(ot):String(ot).trim();st!==ot&&delete rt[ot],rt[st]=normalizeValue(it),nt[st]=!0}),this}concat(...et){return this.constructor.concat(this,...et)}toJSON(et){const rt=Object.create(null);return utils$f.forEach(this,(nt,it)=>{nt!=null&&nt!==!1&&(rt[it]=et&&utils$f.isArray(nt)?nt.join(", "):nt)}),rt}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([et,rt])=>et+": "+rt).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(et){return et instanceof this?et:new this(et)}static concat(et,...rt){const nt=new this(et);return rt.forEach(it=>nt.set(it)),nt}static accessor(et){const nt=(this[$internals]=this[$internals]={accessors:{}}).accessors,it=this.prototype;function ot(at){const st=normalizeHeader(at);nt[st]||(buildAccessors(it,at),nt[st]=!0)}return utils$f.isArray(et)?et.forEach(ot):ot(et),this}}AxiosHeaders.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);utils$f.freezeMethods(AxiosHeaders.prototype);utils$f.freezeMethods(AxiosHeaders);const AxiosHeaders$1=AxiosHeaders;function transformData$2(tt,et){const rt=this||defaults$9,nt=et||rt,it=AxiosHeaders$1.from(nt.headers);let ot=nt.data;return utils$f.forEach(tt,function(st){ot=st.call(rt,ot,it.normalize(),et?et.status:void 0)}),it.normalize(),ot}function isCancel$2(tt){return!!(tt&&tt.__CANCEL__)}function CanceledError$1(tt,et,rt){AxiosError$3.call(this,tt??"canceled",AxiosError$3.ERR_CANCELED,et,rt),this.name="CanceledError"}utils$f.inherits(CanceledError$1,AxiosError$3,{__CANCEL__:!0});function settle$1(tt,et,rt){const nt=rt.config.validateStatus;!rt.status||!nt||nt(rt.status)?tt(rt):et(new AxiosError$3("Request failed with status code "+rt.status,[AxiosError$3.ERR_BAD_REQUEST,AxiosError$3.ERR_BAD_RESPONSE][Math.floor(rt.status/100)-4],rt.config,rt.request,rt))}const cookies$1=platform.isStandardBrowserEnv?function(){return{write:function(rt,nt,it,ot,at,st){const lt=[];lt.push(rt+"="+encodeURIComponent(nt)),utils$f.isNumber(it)&&lt.push("expires="+new Date(it).toGMTString()),utils$f.isString(ot)&&lt.push("path="+ot),utils$f.isString(at)&&lt.push("domain="+at),st===!0&&lt.push("secure"),document.cookie=lt.join("; ")},read:function(rt){const nt=document.cookie.match(new RegExp("(^|;\\s*)("+rt+")=([^;]*)"));return nt?decodeURIComponent(nt[3]):null},remove:function(rt){this.write(rt,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}();function isAbsoluteURL$2(tt){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(tt)}function combineURLs$2(tt,et){return et?tt.replace(/\/+$/,"")+"/"+et.replace(/^\/+/,""):tt}function buildFullPath$2(tt,et){return tt&&!isAbsoluteURL$2(et)?combineURLs$2(tt,et):et}const isURLSameOrigin$1=platform.isStandardBrowserEnv?function(){const et=/(msie|trident)/i.test(navigator.userAgent),rt=document.createElement("a");let nt;function it(ot){let at=ot;return et&&(rt.setAttribute("href",at),at=rt.href),rt.setAttribute("href",at),{href:rt.href,protocol:rt.protocol?rt.protocol.replace(/:$/,""):"",host:rt.host,search:rt.search?rt.search.replace(/^\?/,""):"",hash:rt.hash?rt.hash.replace(/^#/,""):"",hostname:rt.hostname,port:rt.port,pathname:rt.pathname.charAt(0)==="/"?rt.pathname:"/"+rt.pathname}}return nt=it(window.location.href),function(at){const st=utils$f.isString(at)?it(at):at;return st.protocol===nt.protocol&&st.host===nt.host}}():function(){return function(){return!0}}();function parseProtocol$1(tt){const et=/^([-+\w]{1,25})(:?\/\/|:)/.exec(tt);return et&&et[1]||""}function speedometer(tt,et){tt=tt||10;const rt=new Array(tt),nt=new Array(tt);let it=0,ot=0,at;return et=et!==void 0?et:1e3,function(lt){const ct=Date.now(),ut=nt[ot];at||(at=ct),rt[it]=lt,nt[it]=ct;let dt=ot,ft=0;for(;dt!==it;)ft+=rt[dt++],dt=dt%tt;if(it=(it+1)%tt,it===ot&&(ot=(ot+1)%tt),ct-at<et)return;const pt=ut&&ct-ut;return pt?Math.round(ft*1e3/pt):void 0}}function progressEventReducer(tt,et){let rt=0;const nt=speedometer(50,250);return it=>{const ot=it.loaded,at=it.lengthComputable?it.total:void 0,st=ot-rt,lt=nt(st),ct=ot<=at;rt=ot;const ut={loaded:ot,total:at,progress:at?ot/at:void 0,bytes:st,rate:lt||void 0,estimated:lt&&at&&ct?(at-ot)/lt:void 0,event:it};ut[et?"download":"upload"]=!0,tt(ut)}}const isXHRAdapterSupported=typeof XMLHttpRequest<"u",xhrAdapter=isXHRAdapterSupported&&function(tt){return new Promise(function(rt,nt){let it=tt.data;const ot=AxiosHeaders$1.from(tt.headers).normalize(),at=tt.responseType;let st;function lt(){tt.cancelToken&&tt.cancelToken.unsubscribe(st),tt.signal&&tt.signal.removeEventListener("abort",st)}utils$f.isFormData(it)&&(platform.isStandardBrowserEnv||platform.isStandardBrowserWebWorkerEnv)&&ot.setContentType(!1);let ct=new XMLHttpRequest;if(tt.auth){const pt=tt.auth.username||"",mt=tt.auth.password?unescape(encodeURIComponent(tt.auth.password)):"";ot.set("Authorization","Basic "+btoa(pt+":"+mt))}const ut=buildFullPath$2(tt.baseURL,tt.url);ct.open(tt.method.toUpperCase(),buildURL$2(ut,tt.params,tt.paramsSerializer),!0),ct.timeout=tt.timeout;function dt(){if(!ct)return;const pt=AxiosHeaders$1.from("getAllResponseHeaders"in ct&&ct.getAllResponseHeaders()),ht={data:!at||at==="text"||at==="json"?ct.responseText:ct.response,status:ct.status,statusText:ct.statusText,headers:pt,config:tt,request:ct};settle$1(function(vt){rt(vt),lt()},function(vt){nt(vt),lt()},ht),ct=null}if("onloadend"in ct?ct.onloadend=dt:ct.onreadystatechange=function(){!ct||ct.readyState!==4||ct.status===0&&!(ct.responseURL&&ct.responseURL.indexOf("file:")===0)||setTimeout(dt)},ct.onabort=function(){ct&&(nt(new AxiosError$3("Request aborted",AxiosError$3.ECONNABORTED,tt,ct)),ct=null)},ct.onerror=function(){nt(new AxiosError$3("Network Error",AxiosError$3.ERR_NETWORK,tt,ct)),ct=null},ct.ontimeout=function(){let mt=tt.timeout?"timeout of "+tt.timeout+"ms exceeded":"timeout exceeded";const ht=tt.transitional||transitionalDefaults$1;tt.timeoutErrorMessage&&(mt=tt.timeoutErrorMessage),nt(new AxiosError$3(mt,ht.clarifyTimeoutError?AxiosError$3.ETIMEDOUT:AxiosError$3.ECONNABORTED,tt,ct)),ct=null},platform.isStandardBrowserEnv){const pt=(tt.withCredentials||isURLSameOrigin$1(ut))&&tt.xsrfCookieName&&cookies$1.read(tt.xsrfCookieName);pt&&ot.set(tt.xsrfHeaderName,pt)}it===void 0&&ot.setContentType(null),"setRequestHeader"in ct&&utils$f.forEach(ot.toJSON(),function(mt,ht){ct.setRequestHeader(ht,mt)}),utils$f.isUndefined(tt.withCredentials)||(ct.withCredentials=!!tt.withCredentials),at&&at!=="json"&&(ct.responseType=tt.responseType),typeof tt.onDownloadProgress=="function"&&ct.addEventListener("progress",progressEventReducer(tt.onDownloadProgress,!0)),typeof tt.onUploadProgress=="function"&&ct.upload&&ct.upload.addEventListener("progress",progressEventReducer(tt.onUploadProgress)),(tt.cancelToken||tt.signal)&&(st=pt=>{ct&&(nt(!pt||pt.type?new CanceledError$1(null,tt,ct):pt),ct.abort(),ct=null)},tt.cancelToken&&tt.cancelToken.subscribe(st),tt.signal&&(tt.signal.aborted?st():tt.signal.addEventListener("abort",st)));const ft=parseProtocol$1(ut);if(ft&&platform.protocols.indexOf(ft)===-1){nt(new AxiosError$3("Unsupported protocol "+ft+":",AxiosError$3.ERR_BAD_REQUEST,tt));return}ct.send(it||null)})},knownAdapters={http:httpAdapter,xhr:xhrAdapter};utils$f.forEach(knownAdapters,(tt,et)=>{if(tt){try{Object.defineProperty(tt,"name",{value:et})}catch{}Object.defineProperty(tt,"adapterName",{value:et})}});const adapters={getAdapter:tt=>{tt=utils$f.isArray(tt)?tt:[tt];const{length:et}=tt;let rt,nt;for(let it=0;it<et&&(rt=tt[it],!(nt=utils$f.isString(rt)?knownAdapters[rt.toLowerCase()]:rt));it++);if(!nt)throw nt===!1?new AxiosError$3(`Adapter ${rt} is not supported by the environment`,"ERR_NOT_SUPPORT"):new Error(utils$f.hasOwnProp(knownAdapters,rt)?`Adapter '${rt}' is not available in the build`:`Unknown adapter '${rt}'`);if(!utils$f.isFunction(nt))throw new TypeError("adapter is not a function");return nt},adapters:knownAdapters};function throwIfCancellationRequested$1(tt){if(tt.cancelToken&&tt.cancelToken.throwIfRequested(),tt.signal&&tt.signal.aborted)throw new CanceledError$1(null,tt)}function dispatchRequest$2(tt){return throwIfCancellationRequested$1(tt),tt.headers=AxiosHeaders$1.from(tt.headers),tt.data=transformData$2.call(tt,tt.transformRequest),["post","put","patch"].indexOf(tt.method)!==-1&&tt.headers.setContentType("application/x-www-form-urlencoded",!1),adapters.getAdapter(tt.adapter||defaults$9.adapter)(tt).then(function(nt){return throwIfCancellationRequested$1(tt),nt.data=transformData$2.call(tt,tt.transformResponse,nt),nt.headers=AxiosHeaders$1.from(nt.headers),nt},function(nt){return isCancel$2(nt)||(throwIfCancellationRequested$1(tt),nt&&nt.response&&(nt.response.data=transformData$2.call(tt,tt.transformResponse,nt.response),nt.response.headers=AxiosHeaders$1.from(nt.response.headers))),Promise.reject(nt)})}const headersToObject=tt=>tt instanceof AxiosHeaders$1?tt.toJSON():tt;function mergeConfig$4(tt,et){et=et||{};const rt={};function nt(ct,ut,dt){return utils$f.isPlainObject(ct)&&utils$f.isPlainObject(ut)?utils$f.merge.call({caseless:dt},ct,ut):utils$f.isPlainObject(ut)?utils$f.merge({},ut):utils$f.isArray(ut)?ut.slice():ut}function it(ct,ut,dt){if(utils$f.isUndefined(ut)){if(!utils$f.isUndefined(ct))return nt(void 0,ct,dt)}else return nt(ct,ut,dt)}function ot(ct,ut){if(!utils$f.isUndefined(ut))return nt(void 0,ut)}function at(ct,ut){if(utils$f.isUndefined(ut)){if(!utils$f.isUndefined(ct))return nt(void 0,ct)}else return nt(void 0,ut)}function st(ct,ut,dt){if(dt in et)return nt(ct,ut);if(dt in tt)return nt(void 0,ct)}const lt={url:ot,method:ot,data:ot,baseURL:at,transformRequest:at,transformResponse:at,paramsSerializer:at,timeout:at,timeoutMessage:at,withCredentials:at,adapter:at,responseType:at,xsrfCookieName:at,xsrfHeaderName:at,onUploadProgress:at,onDownloadProgress:at,decompress:at,maxContentLength:at,maxBodyLength:at,beforeRedirect:at,transport:at,httpAgent:at,httpsAgent:at,cancelToken:at,socketPath:at,responseEncoding:at,validateStatus:st,headers:(ct,ut)=>it(headersToObject(ct),headersToObject(ut),!0)};return utils$f.forEach(Object.keys(tt).concat(Object.keys(et)),function(ut){const dt=lt[ut]||it,ft=dt(tt[ut],et[ut],ut);utils$f.isUndefined(ft)&&dt!==st||(rt[ut]=ft)}),rt}const VERSION$2="1.3.2",validators$3={};["object","boolean","number","function","string","symbol"].forEach((tt,et)=>{validators$3[tt]=function(nt){return typeof nt===tt||"a"+(et<1?"n ":" ")+tt}});const deprecatedWarnings$1={};validators$3.transitional=function(et,rt,nt){function it(ot,at){return"[Axios v"+VERSION$2+"] Transitional option '"+ot+"'"+at+(nt?". "+nt:"")}return(ot,at,st)=>{if(et===!1)throw new AxiosError$3(it(at," has been removed"+(rt?" in "+rt:"")),AxiosError$3.ERR_DEPRECATED);return rt&&!deprecatedWarnings$1[at]&&(deprecatedWarnings$1[at]=!0,console.warn(it(at," has been deprecated since v"+rt+" and will be removed in the near future"))),et?et(ot,at,st):!0}};function assertOptions$1(tt,et,rt){if(typeof tt!="object")throw new AxiosError$3("options must be an object",AxiosError$3.ERR_BAD_OPTION_VALUE);const nt=Object.keys(tt);let it=nt.length;for(;it-- >0;){const ot=nt[it],at=et[ot];if(at){const st=tt[ot],lt=st===void 0||at(st,ot,tt);if(lt!==!0)throw new AxiosError$3("option "+ot+" must be "+lt,AxiosError$3.ERR_BAD_OPTION_VALUE);continue}if(rt!==!0)throw new AxiosError$3("Unknown option "+ot,AxiosError$3.ERR_BAD_OPTION)}}const validator$2={assertOptions:assertOptions$1,validators:validators$3},validators$2=validator$2.validators;let Axios$3=class{constructor(et){this.defaults=et,this.interceptors={request:new InterceptorManager$3,response:new InterceptorManager$3}}request(et,rt){typeof et=="string"?(rt=rt||{},rt.url=et):rt=et||{},rt=mergeConfig$4(this.defaults,rt);const{transitional:nt,paramsSerializer:it,headers:ot}=rt;nt!==void 0&&validator$2.assertOptions(nt,{silentJSONParsing:validators$2.transitional(validators$2.boolean),forcedJSONParsing:validators$2.transitional(validators$2.boolean),clarifyTimeoutError:validators$2.transitional(validators$2.boolean)},!1),it!==void 0&&validator$2.assertOptions(it,{encode:validators$2.function,serialize:validators$2.function},!0),rt.method=(rt.method||this.defaults.method||"get").toLowerCase();let at;at=ot&&utils$f.merge(ot.common,ot[rt.method]),at&&utils$f.forEach(["delete","get","head","post","put","patch","common"],mt=>{delete ot[mt]}),rt.headers=AxiosHeaders$1.concat(at,ot);const st=[];let lt=!0;this.interceptors.request.forEach(function(ht){typeof ht.runWhen=="function"&&ht.runWhen(rt)===!1||(lt=lt&&ht.synchronous,st.unshift(ht.fulfilled,ht.rejected))});const ct=[];this.interceptors.response.forEach(function(ht){ct.push(ht.fulfilled,ht.rejected)});let ut,dt=0,ft;if(!lt){const mt=[dispatchRequest$2.bind(this),void 0];for(mt.unshift.apply(mt,st),mt.push.apply(mt,ct),ft=mt.length,ut=Promise.resolve(rt);dt<ft;)ut=ut.then(mt[dt++],mt[dt++]);return ut}ft=st.length;let pt=rt;for(dt=0;dt<ft;){const mt=st[dt++],ht=st[dt++];try{pt=mt(pt)}catch(gt){ht.call(this,gt);break}}try{ut=dispatchRequest$2.call(this,pt)}catch(mt){return Promise.reject(mt)}for(dt=0,ft=ct.length;dt<ft;)ut=ut.then(ct[dt++],ct[dt++]);return ut}getUri(et){et=mergeConfig$4(this.defaults,et);const rt=buildFullPath$2(et.baseURL,et.url);return buildURL$2(rt,et.params,et.paramsSerializer)}};utils$f.forEach(["delete","get","head","options"],function(et){Axios$3.prototype[et]=function(rt,nt){return this.request(mergeConfig$4(nt||{},{method:et,url:rt,data:(nt||{}).data}))}});utils$f.forEach(["post","put","patch"],function(et){function rt(nt){return function(ot,at,st){return this.request(mergeConfig$4(st||{},{method:et,headers:nt?{"Content-Type":"multipart/form-data"}:{},url:ot,data:at}))}}Axios$3.prototype[et]=rt(),Axios$3.prototype[et+"Form"]=rt(!0)});const Axios$4=Axios$3;class CancelToken{constructor(et){if(typeof et!="function")throw new TypeError("executor must be a function.");let rt;this.promise=new Promise(function(ot){rt=ot});const nt=this;this.promise.then(it=>{if(!nt._listeners)return;let ot=nt._listeners.length;for(;ot-- >0;)nt._listeners[ot](it);nt._listeners=null}),this.promise.then=it=>{let ot;const at=new Promise(st=>{nt.subscribe(st),ot=st}).then(it);return at.cancel=function(){nt.unsubscribe(ot)},at},et(function(ot,at,st){nt.reason||(nt.reason=new CanceledError$1(ot,at,st),rt(nt.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(et){if(this.reason){et(this.reason);return}this._listeners?this._listeners.push(et):this._listeners=[et]}unsubscribe(et){if(!this._listeners)return;const rt=this._listeners.indexOf(et);rt!==-1&&this._listeners.splice(rt,1)}static source(){let et;return{token:new CancelToken(function(it){et=it}),cancel:et}}}const CancelToken$1=CancelToken;function spread$1(tt){return function(rt){return tt.apply(null,rt)}}function isAxiosError$1(tt){return utils$f.isObject(tt)&&tt.isAxiosError===!0}const HttpStatusCode={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(HttpStatusCode).forEach(([tt,et])=>{HttpStatusCode[et]=tt});const HttpStatusCode$1=HttpStatusCode;function createInstance$1(tt){const et=new Axios$4(tt),rt=bind$a(Axios$4.prototype.request,et);return utils$f.extend(rt,Axios$4.prototype,et,{allOwnKeys:!0}),utils$f.extend(rt,et,null,{allOwnKeys:!0}),rt.create=function(it){return createInstance$1(mergeConfig$4(tt,it))},rt}const axios$3=createInstance$1(defaults$9);axios$3.Axios=Axios$4;axios$3.CanceledError=CanceledError$1;axios$3.CancelToken=CancelToken$1;axios$3.isCancel=isCancel$2;axios$3.VERSION=VERSION$2;axios$3.toFormData=toFormData$2;axios$3.AxiosError=AxiosError$3;axios$3.Cancel=axios$3.CanceledError;axios$3.all=function(et){return Promise.all(et)};axios$3.spread=spread$1;axios$3.isAxiosError=isAxiosError$1;axios$3.mergeConfig=mergeConfig$4;axios$3.AxiosHeaders=AxiosHeaders$1;axios$3.formToJSON=tt=>formDataToJSON(utils$f.isHTMLForm(tt)?new FormData(tt):tt);axios$3.HttpStatusCode=HttpStatusCode$1;axios$3.default=axios$3;const axios$4=axios$3;var shams=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var et={},rt=Symbol("test"),nt=Object(rt);if(typeof rt=="string"||Object.prototype.toString.call(rt)!=="[object Symbol]"||Object.prototype.toString.call(nt)!=="[object Symbol]")return!1;var it=42;et[rt]=it;for(rt in et)return!1;if(typeof Object.keys=="function"&&Object.keys(et).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(et).length!==0)return!1;var ot=Object.getOwnPropertySymbols(et);if(ot.length!==1||ot[0]!==rt||!Object.prototype.propertyIsEnumerable.call(et,rt))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var at=Object.getOwnPropertyDescriptor(et,rt);if(at.value!==it||at.enumerable!==!0)return!1}return!0},origSymbol=typeof Symbol<"u"&&Symbol,hasSymbolSham=shams,hasSymbols$1=function(){return typeof origSymbol!="function"||typeof Symbol!="function"||typeof origSymbol("foo")!="symbol"||typeof Symbol("bar")!="symbol"?!1:hasSymbolSham()},ERROR_MESSAGE="Function.prototype.bind called on incompatible ",slice$1=Array.prototype.slice,toStr$1=Object.prototype.toString,funcType="[object Function]",implementation$1=function(et){var rt=this;if(typeof rt!="function"||toStr$1.call(rt)!==funcType)throw new TypeError(ERROR_MESSAGE+rt);for(var nt=slice$1.call(arguments,1),it,ot=function(){if(this instanceof it){var ut=rt.apply(this,nt.concat(slice$1.call(arguments)));return Object(ut)===ut?ut:this}else return rt.apply(et,nt.concat(slice$1.call(arguments)))},at=Math.max(0,rt.length-nt.length),st=[],lt=0;lt<at;lt++)st.push("$"+lt);if(it=Function("binder","return function ("+st.join(",")+"){ return binder.apply(this,arguments); }")(ot),rt.prototype){var ct=function(){};ct.prototype=rt.prototype,it.prototype=new ct,ct.prototype=null}return it},implementation=implementation$1,functionBind=Function.prototype.bind||implementation,bind$9=functionBind,src=bind$9.call(Function.call,Object.prototype.hasOwnProperty),undefined$1,$SyntaxError=SyntaxError,$Function=Function,$TypeError$1=TypeError,getEvalledConstructor=function(tt){try{return $Function('"use strict"; return ('+tt+").constructor;")()}catch{}},$gOPD=Object.getOwnPropertyDescriptor;if($gOPD)try{$gOPD({},"")}catch{$gOPD=null}var throwTypeError=function(){throw new $TypeError$1},ThrowTypeError=$gOPD?function(){try{return arguments.callee,throwTypeError}catch{try{return $gOPD(arguments,"callee").get}catch{return throwTypeError}}}():throwTypeError,hasSymbols=hasSymbols$1(),getProto=Object.getPrototypeOf||function(tt){return tt.__proto__},needsEval={},TypedArray=typeof Uint8Array>"u"?undefined$1:getProto(Uint8Array),INTRINSICS={"%AggregateError%":typeof AggregateError>"u"?undefined$1:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer>"u"?undefined$1:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):undefined$1,"%AsyncFromSyncIteratorPrototype%":undefined$1,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":typeof Atomics>"u"?undefined$1:Atomics,"%BigInt%":typeof BigInt>"u"?undefined$1:BigInt,"%BigInt64Array%":typeof BigInt64Array>"u"?undefined$1:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array>"u"?undefined$1:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView>"u"?undefined$1:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array>"u"?undefined$1:Float32Array,"%Float64Array%":typeof Float64Array>"u"?undefined$1:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry>"u"?undefined$1:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":typeof Int8Array>"u"?undefined$1:Int8Array,"%Int16Array%":typeof Int16Array>"u"?undefined$1:Int16Array,"%Int32Array%":typeof Int32Array>"u"?undefined$1:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):undefined$1,"%JSON%":typeof JSON=="object"?JSON:undefined$1,"%Map%":typeof Map>"u"?undefined$1:Map,"%MapIteratorPrototype%":typeof Map>"u"||!hasSymbols?undefined$1:getProto(new Map()[Symbol.iterator]()),"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise>"u"?undefined$1:Promise,"%Proxy%":typeof Proxy>"u"?undefined$1:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect>"u"?undefined$1:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set>"u"?undefined$1:Set,"%SetIteratorPrototype%":typeof Set>"u"||!hasSymbols?undefined$1:getProto(new Set()[Symbol.iterator]()),"%SharedArrayBuffer%":typeof SharedArrayBuffer>"u"?undefined$1:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):undefined$1,"%Symbol%":hasSymbols?Symbol:undefined$1,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":TypedArray,"%TypeError%":$TypeError$1,"%Uint8Array%":typeof Uint8Array>"u"?undefined$1:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray>"u"?undefined$1:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array>"u"?undefined$1:Uint16Array,"%Uint32Array%":typeof Uint32Array>"u"?undefined$1:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap>"u"?undefined$1:WeakMap,"%WeakRef%":typeof WeakRef>"u"?undefined$1:WeakRef,"%WeakSet%":typeof WeakSet>"u"?undefined$1:WeakSet};try{null.error}catch(tt){var errorProto=getProto(getProto(tt));INTRINSICS["%Error.prototype%"]=errorProto}var doEval=function tt(et){var rt;if(et==="%AsyncFunction%")rt=getEvalledConstructor("async function () {}");else if(et==="%GeneratorFunction%")rt=getEvalledConstructor("function* () {}");else if(et==="%AsyncGeneratorFunction%")rt=getEvalledConstructor("async function* () {}");else if(et==="%AsyncGenerator%"){var nt=tt("%AsyncGeneratorFunction%");nt&&(rt=nt.prototype)}else if(et==="%AsyncIteratorPrototype%"){var it=tt("%AsyncGenerator%");it&&(rt=getProto(it.prototype))}return INTRINSICS[et]=rt,rt},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind$8=functionBind,hasOwn$1=src,$concat$1=bind$8.call(Function.call,Array.prototype.concat),$spliceApply=bind$8.call(Function.apply,Array.prototype.splice),$replace$1=bind$8.call(Function.call,String.prototype.replace),$strSlice=bind$8.call(Function.call,String.prototype.slice),$exec=bind$8.call(Function.call,RegExp.prototype.exec),rePropName$1=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar$1=/\\(\\)?/g,stringToPath$3=function(et){var rt=$strSlice(et,0,1),nt=$strSlice(et,-1);if(rt==="%"&&nt!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if(nt==="%"&&rt!=="%")throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var it=[];return $replace$1(et,rePropName$1,function(ot,at,st,lt){it[it.length]=st?$replace$1(lt,reEscapeChar$1,"$1"):at||ot}),it},getBaseIntrinsic=function(et,rt){var nt=et,it;if(hasOwn$1(LEGACY_ALIASES,nt)&&(it=LEGACY_ALIASES[nt],nt="%"+it[0]+"%"),hasOwn$1(INTRINSICS,nt)){var ot=INTRINSICS[nt];if(ot===needsEval&&(ot=doEval(nt)),typeof ot>"u"&&!rt)throw new $TypeError$1("intrinsic "+et+" exists, but is not available. Please file an issue!");return{alias:it,name:nt,value:ot}}throw new $SyntaxError("intrinsic "+et+" does not exist!")},getIntrinsic=function(et,rt){if(typeof et!="string"||et.length===0)throw new $TypeError$1("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof rt!="boolean")throw new $TypeError$1('"allowMissing" argument must be a boolean');if($exec(/^%?[^%]*%?$/,et)===null)throw new $SyntaxError("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var nt=stringToPath$3(et),it=nt.length>0?nt[0]:"",ot=getBaseIntrinsic("%"+it+"%",rt),at=ot.name,st=ot.value,lt=!1,ct=ot.alias;ct&&(it=ct[0],$spliceApply(nt,$concat$1([0,1],ct)));for(var ut=1,dt=!0;ut<nt.length;ut+=1){var ft=nt[ut],pt=$strSlice(ft,0,1),mt=$strSlice(ft,-1);if((pt==='"'||pt==="'"||pt==="`"||mt==='"'||mt==="'"||mt==="`")&&pt!==mt)throw new $SyntaxError("property names with quotes must have matching quotes");if((ft==="constructor"||!dt)&&(lt=!0),it+="."+ft,at="%"+it+"%",hasOwn$1(INTRINSICS,at))st=INTRINSICS[at];else if(st!=null){if(!(ft in st)){if(!rt)throw new $TypeError$1("base intrinsic for "+et+" exists, but the property is not available.");return}if($gOPD&&ut+1>=nt.length){var ht=$gOPD(st,ft);dt=!!ht,dt&&"get"in ht&&!("originalValue"in ht.get)?st=ht.get:st=st[ft]}else dt=hasOwn$1(st,ft),st=st[ft];dt&&!lt&&(INTRINSICS[at]=st)}}return st},callBindExports={},callBind$5={get exports(){return callBindExports},set exports(tt){callBindExports=tt}};(function(tt){var et=functionBind,rt=getIntrinsic,nt=rt("%Function.prototype.apply%"),it=rt("%Function.prototype.call%"),ot=rt("%Reflect.apply%",!0)||et.call(it,nt),at=rt("%Object.getOwnPropertyDescriptor%",!0),st=rt("%Object.defineProperty%",!0),lt=rt("%Math.max%");if(st)try{st({},"a",{value:1})}catch{st=null}tt.exports=function(dt){var ft=ot(et,it,arguments);if(at&&st){var pt=at(ft,"length");pt.configurable&&st(ft,"length",{value:1+lt(0,dt.length-(arguments.length-1))})}return ft};var ct=function(){return ot(et,nt,arguments)};st?st(tt.exports,"apply",{value:ct}):tt.exports.apply=ct})(callBind$5);var GetIntrinsic$1=getIntrinsic,callBind$4=callBindExports,$indexOf=callBind$4(GetIntrinsic$1("String.prototype.indexOf")),callBound$1=function(et,rt){var nt=GetIntrinsic$1(et,!!rt);return typeof nt=="function"&&$indexOf(et,".prototype.")>-1?callBind$4(nt):nt},hasMap=typeof Map=="function"&&Map.prototype,mapSizeDescriptor=Object.getOwnPropertyDescriptor&&hasMap?Object.getOwnPropertyDescriptor(Map.prototype,"size"):null,mapSize=hasMap&&mapSizeDescriptor&&typeof mapSizeDescriptor.get=="function"?mapSizeDescriptor.get:null,mapForEach=hasMap&&Map.prototype.forEach,hasSet=typeof Set=="function"&&Set.prototype,setSizeDescriptor=Object.getOwnPropertyDescriptor&&hasSet?Object.getOwnPropertyDescriptor(Set.prototype,"size"):null,setSize=hasSet&&setSizeDescriptor&&typeof setSizeDescriptor.get=="function"?setSizeDescriptor.get:null,setForEach=hasSet&&Set.prototype.forEach,hasWeakMap=typeof WeakMap=="function"&&WeakMap.prototype,weakMapHas=hasWeakMap?WeakMap.prototype.has:null,hasWeakSet=typeof WeakSet=="function"&&WeakSet.prototype,weakSetHas=hasWeakSet?WeakSet.prototype.has:null,hasWeakRef=typeof WeakRef=="function"&&WeakRef.prototype,weakRefDeref=hasWeakRef?WeakRef.prototype.deref:null,booleanValueOf=Boolean.prototype.valueOf,objectToString$6=Object.prototype.toString,functionToString$4=Function.prototype.toString,$match=String.prototype.match,$slice=String.prototype.slice,$replace=String.prototype.replace,$toUpperCase=String.prototype.toUpperCase,$toLowerCase=String.prototype.toLowerCase,$test=RegExp.prototype.test,$concat=Array.prototype.concat,$join=Array.prototype.join,$arrSlice=Array.prototype.slice,$floor=Math.floor,bigIntValueOf=typeof BigInt=="function"?BigInt.prototype.valueOf:null,gOPS=Object.getOwnPropertySymbols,symToString=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Symbol.prototype.toString:null,hasShammedSymbols=typeof Symbol=="function"&&typeof Symbol.iterator=="object",toStringTag=typeof Symbol=="function"&&Symbol.toStringTag&&(typeof Symbol.toStringTag===hasShammedSymbols||"symbol")?Symbol.toStringTag:null,isEnumerable=Object.prototype.propertyIsEnumerable,gPO=(typeof Reflect=="function"?Reflect.getPrototypeOf:Object.getPrototypeOf)||([].__proto__===Array.prototype?function(tt){return tt.__proto__}:null);function addNumericSeparator(tt,et){if(tt===1/0||tt===-1/0||tt!==tt||tt&&tt>-1e3&&tt<1e3||$test.call(/e/,et))return et;var rt=/[0-9](?=(?:[0-9]{3})+(?![0-9]))/g;if(typeof tt=="number"){var nt=tt<0?-$floor(-tt):$floor(tt);if(nt!==tt){var it=String(nt),ot=$slice.call(et,it.length+1);return $replace.call(it,rt,"$&_")+"."+$replace.call($replace.call(ot,/([0-9]{3})/g,"$&_"),/_$/,"")}}return $replace.call(et,rt,"$&_")}var utilInspect=require$$0$2,inspectCustom=utilInspect.custom,inspectSymbol=isSymbol$9(inspectCustom)?inspectCustom:null,objectInspect=function tt(et,rt,nt,it){var ot=rt||{};if(has$8(ot,"quoteStyle")&&ot.quoteStyle!=="single"&&ot.quoteStyle!=="double")throw new TypeError('option "quoteStyle" must be "single" or "double"');if(has$8(ot,"maxStringLength")&&(typeof ot.maxStringLength=="number"?ot.maxStringLength<0&&ot.maxStringLength!==1/0:ot.maxStringLength!==null))throw new TypeError('option "maxStringLength", if provided, must be a positive integer, Infinity, or `null`');var at=has$8(ot,"customInspect")?ot.customInspect:!0;if(typeof at!="boolean"&&at!=="symbol")throw new TypeError("option \"customInspect\", if provided, must be `true`, `false`, or `'symbol'`");if(has$8(ot,"indent")&&ot.indent!==null&&ot.indent!=="	"&&!(parseInt(ot.indent,10)===ot.indent&&ot.indent>0))throw new TypeError('option "indent" must be "\\t", an integer > 0, or `null`');if(has$8(ot,"numericSeparator")&&typeof ot.numericSeparator!="boolean")throw new TypeError('option "numericSeparator", if provided, must be `true` or `false`');var st=ot.numericSeparator;if(typeof et>"u")return"undefined";if(et===null)return"null";if(typeof et=="boolean")return et?"true":"false";if(typeof et=="string")return inspectString(et,ot);if(typeof et=="number"){if(et===0)return 1/0/et>0?"0":"-0";var lt=String(et);return st?addNumericSeparator(et,lt):lt}if(typeof et=="bigint"){var ct=String(et)+"n";return st?addNumericSeparator(et,ct):ct}var ut=typeof ot.depth>"u"?5:ot.depth;if(typeof nt>"u"&&(nt=0),nt>=ut&&ut>0&&typeof et=="object")return isArray$m(et)?"[Array]":"[Object]";var dt=getIndent(ot,nt);if(typeof it>"u")it=[];else if(indexOf$4(it,et)>=0)return"[Circular]";function ft(Nt,Ot,Bt){if(Ot&&(it=$arrSlice.call(it),it.push(Ot)),Bt){var zt={depth:ot.depth};return has$8(ot,"quoteStyle")&&(zt.quoteStyle=ot.quoteStyle),tt(Nt,zt,nt+1,it)}return tt(Nt,ot,nt+1,it)}if(typeof et=="function"&&!isRegExp$1(et)){var pt=nameOf(et),mt=arrObjKeys(et,ft);return"[Function"+(pt?": "+pt:" (anonymous)")+"]"+(mt.length>0?" { "+$join.call(mt,", ")+" }":"")}if(isSymbol$9(et)){var ht=hasShammedSymbols?$replace.call(String(et),/^(Symbol\(.*\))_[^)]*$/,"$1"):symToString.call(et);return typeof et=="object"&&!hasShammedSymbols?markBoxed(ht):ht}if(isElement(et)){for(var gt="<"+$toLowerCase.call(String(et.nodeName)),vt=et.attributes||[],yt=0;yt<vt.length;yt++)gt+=" "+vt[yt].name+"="+wrapQuotes(quote(vt[yt].value),"double",ot);return gt+=">",et.childNodes&&et.childNodes.length&&(gt+="..."),gt+="</"+$toLowerCase.call(String(et.nodeName))+">",gt}if(isArray$m(et)){if(et.length===0)return"[]";var bt=arrObjKeys(et,ft);return dt&&!singleLineValues(bt)?"["+indentedJoin(bt,dt)+"]":"[ "+$join.call(bt,", ")+" ]"}if(isError$1(et)){var xt=arrObjKeys(et,ft);return!("cause"in Error.prototype)&&"cause"in et&&!isEnumerable.call(et,"cause")?"{ ["+String(et)+"] "+$join.call($concat.call("[cause]: "+ft(et.cause),xt),", ")+" }":xt.length===0?"["+String(et)+"]":"{ ["+String(et)+"] "+$join.call(xt,", ")+" }"}if(typeof et=="object"&&at){if(inspectSymbol&&typeof et[inspectSymbol]=="function"&&utilInspect)return utilInspect(et,{depth:ut-nt});if(at!=="symbol"&&typeof et.inspect=="function")return et.inspect()}if(isMap$2(et)){var $t=[];return mapForEach&&mapForEach.call(et,function(Nt,Ot){$t.push(ft(Ot,et,!0)+" => "+ft(Nt,et))}),collectionOf("Map",mapSize.call(et),$t,dt)}if(isSet$2(et)){var Tt=[];return setForEach&&setForEach.call(et,function(Nt){Tt.push(ft(Nt,et))}),collectionOf("Set",setSize.call(et),Tt,dt)}if(isWeakMap(et))return weakCollectionOf("WeakMap");if(isWeakSet(et))return weakCollectionOf("WeakSet");if(isWeakRef(et))return weakCollectionOf("WeakRef");if(isNumber$7(et))return markBoxed(ft(Number(et)));if(isBigInt(et))return markBoxed(ft(bigIntValueOf.call(et)));if(isBoolean$6(et))return markBoxed(booleanValueOf.call(et));if(isString$9(et))return markBoxed(ft(String(et)));if(!isDate$1(et)&&!isRegExp$1(et)){var wt=arrObjKeys(et,ft),At=gPO?gPO(et)===Object.prototype:et instanceof Object||et.constructor===Object,Rt=et instanceof Object?"":"null prototype",It=!At&&toStringTag&&Object(et)===et&&toStringTag in et?$slice.call(toStr(et),8,-1):Rt?"Object":"",Lt=At||typeof et.constructor!="function"?"":et.constructor.name?et.constructor.name+" ":"",Pt=Lt+(It||Rt?"["+$join.call($concat.call([],It||[],Rt||[]),": ")+"] ":"");return wt.length===0?Pt+"{}":dt?Pt+"{"+indentedJoin(wt,dt)+"}":Pt+"{ "+$join.call(wt,", ")+" }"}return String(et)};function wrapQuotes(tt,et,rt){var nt=(rt.quoteStyle||et)==="double"?'"':"'";return nt+tt+nt}function quote(tt){return $replace.call(String(tt),/"/g,"&quot;")}function isArray$m(tt){return toStr(tt)==="[object Array]"&&(!toStringTag||!(typeof tt=="object"&&toStringTag in tt))}function isDate$1(tt){return toStr(tt)==="[object Date]"&&(!toStringTag||!(typeof tt=="object"&&toStringTag in tt))}function isRegExp$1(tt){return toStr(tt)==="[object RegExp]"&&(!toStringTag||!(typeof tt=="object"&&toStringTag in tt))}function isError$1(tt){return toStr(tt)==="[object Error]"&&(!toStringTag||!(typeof tt=="object"&&toStringTag in tt))}function isString$9(tt){return toStr(tt)==="[object String]"&&(!toStringTag||!(typeof tt=="object"&&toStringTag in tt))}function isNumber$7(tt){return toStr(tt)==="[object Number]"&&(!toStringTag||!(typeof tt=="object"&&toStringTag in tt))}function isBoolean$6(tt){return toStr(tt)==="[object Boolean]"&&(!toStringTag||!(typeof tt=="object"&&toStringTag in tt))}function isSymbol$9(tt){if(hasShammedSymbols)return tt&&typeof tt=="object"&&tt instanceof Symbol;if(typeof tt=="symbol")return!0;if(!tt||typeof tt!="object"||!symToString)return!1;try{return symToString.call(tt),!0}catch{}return!1}function isBigInt(tt){if(!tt||typeof tt!="object"||!bigIntValueOf)return!1;try{return bigIntValueOf.call(tt),!0}catch{}return!1}var hasOwn=Object.prototype.hasOwnProperty||function(tt){return tt in this};function has$8(tt,et){return hasOwn.call(tt,et)}function toStr(tt){return objectToString$6.call(tt)}function nameOf(tt){if(tt.name)return tt.name;var et=$match.call(functionToString$4.call(tt),/^function\s*([\w$]+)/);return et?et[1]:null}function indexOf$4(tt,et){if(tt.indexOf)return tt.indexOf(et);for(var rt=0,nt=tt.length;rt<nt;rt++)if(tt[rt]===et)return rt;return-1}function isMap$2(tt){if(!mapSize||!tt||typeof tt!="object")return!1;try{mapSize.call(tt);try{setSize.call(tt)}catch{return!0}return tt instanceof Map}catch{}return!1}function isWeakMap(tt){if(!weakMapHas||!tt||typeof tt!="object")return!1;try{weakMapHas.call(tt,weakMapHas);try{weakSetHas.call(tt,weakSetHas)}catch{return!0}return tt instanceof WeakMap}catch{}return!1}function isWeakRef(tt){if(!weakRefDeref||!tt||typeof tt!="object")return!1;try{return weakRefDeref.call(tt),!0}catch{}return!1}function isSet$2(tt){if(!setSize||!tt||typeof tt!="object")return!1;try{setSize.call(tt);try{mapSize.call(tt)}catch{return!0}return tt instanceof Set}catch{}return!1}function isWeakSet(tt){if(!weakSetHas||!tt||typeof tt!="object")return!1;try{weakSetHas.call(tt,weakSetHas);try{weakMapHas.call(tt,weakMapHas)}catch{return!0}return tt instanceof WeakSet}catch{}return!1}function isElement(tt){return!tt||typeof tt!="object"?!1:typeof HTMLElement<"u"&&tt instanceof HTMLElement?!0:typeof tt.nodeName=="string"&&typeof tt.getAttribute=="function"}function inspectString(tt,et){if(tt.length>et.maxStringLength){var rt=tt.length-et.maxStringLength,nt="... "+rt+" more character"+(rt>1?"s":"");return inspectString($slice.call(tt,0,et.maxStringLength),et)+nt}var it=$replace.call($replace.call(tt,/(['\\])/g,"\\$1"),/[\x00-\x1f]/g,lowbyte);return wrapQuotes(it,"single",et)}function lowbyte(tt){var et=tt.charCodeAt(0),rt={8:"b",9:"t",10:"n",12:"f",13:"r"}[et];return rt?"\\"+rt:"\\x"+(et<16?"0":"")+$toUpperCase.call(et.toString(16))}function markBoxed(tt){return"Object("+tt+")"}function weakCollectionOf(tt){return tt+" { ? }"}function collectionOf(tt,et,rt,nt){var it=nt?indentedJoin(rt,nt):$join.call(rt,", ");return tt+" ("+et+") {"+it+"}"}function singleLineValues(tt){for(var et=0;et<tt.length;et++)if(indexOf$4(tt[et],`
`)>=0)return!1;return!0}function getIndent(tt,et){var rt;if(tt.indent==="	")rt="	";else if(typeof tt.indent=="number"&&tt.indent>0)rt=$join.call(Array(tt.indent+1)," ");else return null;return{base:rt,prev:$join.call(Array(et+1),rt)}}function indentedJoin(tt,et){if(tt.length===0)return"";var rt=`
`+et.prev+et.base;return rt+$join.call(tt,","+rt)+`
`+et.prev}function arrObjKeys(tt,et){var rt=isArray$m(tt),nt=[];if(rt){nt.length=tt.length;for(var it=0;it<tt.length;it++)nt[it]=has$8(tt,it)?et(tt[it],tt):""}var ot=typeof gOPS=="function"?gOPS(tt):[],at;if(hasShammedSymbols){at={};for(var st=0;st<ot.length;st++)at["$"+ot[st]]=ot[st]}for(var lt in tt)has$8(tt,lt)&&(rt&&String(Number(lt))===lt&&lt<tt.length||hasShammedSymbols&&at["$"+lt]instanceof Symbol||($test.call(/[^\w$]/,lt)?nt.push(et(lt,tt)+": "+et(tt[lt],tt)):nt.push(lt+": "+et(tt[lt],tt))));if(typeof gOPS=="function")for(var ct=0;ct<ot.length;ct++)isEnumerable.call(tt,ot[ct])&&nt.push("["+et(ot[ct])+"]: "+et(tt[ot[ct]],tt));return nt}var GetIntrinsic=getIntrinsic,callBound=callBound$1,inspect=objectInspect,$TypeError=GetIntrinsic("%TypeError%"),$WeakMap=GetIntrinsic("%WeakMap%",!0),$Map=GetIntrinsic("%Map%",!0),$weakMapGet=callBound("WeakMap.prototype.get",!0),$weakMapSet=callBound("WeakMap.prototype.set",!0),$weakMapHas=callBound("WeakMap.prototype.has",!0),$mapGet=callBound("Map.prototype.get",!0),$mapSet=callBound("Map.prototype.set",!0),$mapHas=callBound("Map.prototype.has",!0),listGetNode=function(tt,et){for(var rt=tt,nt;(nt=rt.next)!==null;rt=nt)if(nt.key===et)return rt.next=nt.next,nt.next=tt.next,tt.next=nt,nt},listGet=function(tt,et){var rt=listGetNode(tt,et);return rt&&rt.value},listSet=function(tt,et,rt){var nt=listGetNode(tt,et);nt?nt.value=rt:tt.next={key:et,next:tt.next,value:rt}},listHas=function(tt,et){return!!listGetNode(tt,et)},sideChannel=function(){var et,rt,nt,it={assert:function(ot){if(!it.has(ot))throw new $TypeError("Side channel does not contain "+inspect(ot))},get:function(ot){if($WeakMap&&ot&&(typeof ot=="object"||typeof ot=="function")){if(et)return $weakMapGet(et,ot)}else if($Map){if(rt)return $mapGet(rt,ot)}else if(nt)return listGet(nt,ot)},has:function(ot){if($WeakMap&&ot&&(typeof ot=="object"||typeof ot=="function")){if(et)return $weakMapHas(et,ot)}else if($Map){if(rt)return $mapHas(rt,ot)}else if(nt)return listHas(nt,ot);return!1},set:function(ot,at){$WeakMap&&ot&&(typeof ot=="object"||typeof ot=="function")?(et||(et=new $WeakMap),$weakMapSet(et,ot,at)):$Map?(rt||(rt=new $Map),$mapSet(rt,ot,at)):(nt||(nt={key:{},next:null}),listSet(nt,ot,at))}};return it},replace$4=String.prototype.replace,percentTwenties=/%20/g,Format={RFC1738:"RFC1738",RFC3986:"RFC3986"},formats$3={default:Format.RFC3986,formatters:{RFC1738:function(tt){return replace$4.call(tt,percentTwenties,"+")},RFC3986:function(tt){return String(tt)}},RFC1738:Format.RFC1738,RFC3986:Format.RFC3986},formats$2=formats$3,has$7=Object.prototype.hasOwnProperty,isArray$l=Array.isArray,hexTable=function(){for(var tt=[],et=0;et<256;++et)tt.push("%"+((et<16?"0":"")+et.toString(16)).toUpperCase());return tt}(),compactQueue=function(et){for(;et.length>1;){var rt=et.pop(),nt=rt.obj[rt.prop];if(isArray$l(nt)){for(var it=[],ot=0;ot<nt.length;++ot)typeof nt[ot]<"u"&&it.push(nt[ot]);rt.obj[rt.prop]=it}}},arrayToObject=function(et,rt){for(var nt=rt&&rt.plainObjects?Object.create(null):{},it=0;it<et.length;++it)typeof et[it]<"u"&&(nt[it]=et[it]);return nt},merge$1=function tt(et,rt,nt){if(!rt)return et;if(typeof rt!="object"){if(isArray$l(et))et.push(rt);else if(et&&typeof et=="object")(nt&&(nt.plainObjects||nt.allowPrototypes)||!has$7.call(Object.prototype,rt))&&(et[rt]=!0);else return[et,rt];return et}if(!et||typeof et!="object")return[et].concat(rt);var it=et;return isArray$l(et)&&!isArray$l(rt)&&(it=arrayToObject(et,nt)),isArray$l(et)&&isArray$l(rt)?(rt.forEach(function(ot,at){if(has$7.call(et,at)){var st=et[at];st&&typeof st=="object"&&ot&&typeof ot=="object"?et[at]=tt(st,ot,nt):et.push(ot)}else et[at]=ot}),et):Object.keys(rt).reduce(function(ot,at){var st=rt[at];return has$7.call(ot,at)?ot[at]=tt(ot[at],st,nt):ot[at]=st,ot},it)},assign$3=function(et,rt){return Object.keys(rt).reduce(function(nt,it){return nt[it]=rt[it],nt},et)},decode$1=function(tt,et,rt){var nt=tt.replace(/\+/g," ");if(rt==="iso-8859-1")return nt.replace(/%[0-9a-f]{2}/gi,unescape);try{return decodeURIComponent(nt)}catch{return nt}},encode$2=function(et,rt,nt,it,ot){if(et.length===0)return et;var at=et;if(typeof et=="symbol"?at=Symbol.prototype.toString.call(et):typeof et!="string"&&(at=String(et)),nt==="iso-8859-1")return escape(at).replace(/%u[0-9a-f]{4}/gi,function(ut){return"%26%23"+parseInt(ut.slice(2),16)+"%3B"});for(var st="",lt=0;lt<at.length;++lt){var ct=at.charCodeAt(lt);if(ct===45||ct===46||ct===95||ct===126||ct>=48&&ct<=57||ct>=65&&ct<=90||ct>=97&&ct<=122||ot===formats$2.RFC1738&&(ct===40||ct===41)){st+=at.charAt(lt);continue}if(ct<128){st=st+hexTable[ct];continue}if(ct<2048){st=st+(hexTable[192|ct>>6]+hexTable[128|ct&63]);continue}if(ct<55296||ct>=57344){st=st+(hexTable[224|ct>>12]+hexTable[128|ct>>6&63]+hexTable[128|ct&63]);continue}lt+=1,ct=65536+((ct&1023)<<10|at.charCodeAt(lt)&1023),st+=hexTable[240|ct>>18]+hexTable[128|ct>>12&63]+hexTable[128|ct>>6&63]+hexTable[128|ct&63]}return st},compact$1=function(et){for(var rt=[{obj:{o:et},prop:"o"}],nt=[],it=0;it<rt.length;++it)for(var ot=rt[it],at=ot.obj[ot.prop],st=Object.keys(at),lt=0;lt<st.length;++lt){var ct=st[lt],ut=at[ct];typeof ut=="object"&&ut!==null&&nt.indexOf(ut)===-1&&(rt.push({obj:at,prop:ct}),nt.push(ut))}return compactQueue(rt),et},isRegExp=function(et){return Object.prototype.toString.call(et)==="[object RegExp]"},isBuffer$5=function(et){return!et||typeof et!="object"?!1:!!(et.constructor&&et.constructor.isBuffer&&et.constructor.isBuffer(et))},combine=function(et,rt){return[].concat(et,rt)},maybeMap=function(et,rt){if(isArray$l(et)){for(var nt=[],it=0;it<et.length;it+=1)nt.push(rt(et[it]));return nt}return rt(et)},utils$e={arrayToObject,assign:assign$3,combine,compact:compact$1,decode:decode$1,encode:encode$2,isBuffer:isBuffer$5,isRegExp,maybeMap,merge:merge$1},getSideChannel=sideChannel,utils$d=utils$e,formats$1=formats$3,has$6=Object.prototype.hasOwnProperty,arrayPrefixGenerators={brackets:function(et){return et+"[]"},comma:"comma",indices:function(et,rt){return et+"["+rt+"]"},repeat:function(et){return et}},isArray$k=Array.isArray,split$4=String.prototype.split,push$5=Array.prototype.push,pushToArray=function(tt,et){push$5.apply(tt,isArray$k(et)?et:[et])},toISO=Date.prototype.toISOString,defaultFormat=formats$1.default,defaults$7={addQueryPrefix:!1,allowDots:!1,charset:"utf-8",charsetSentinel:!1,delimiter:"&",encode:!0,encoder:utils$d.encode,encodeValuesOnly:!1,format:defaultFormat,formatter:formats$1.formatters[defaultFormat],indices:!1,serializeDate:function(et){return toISO.call(et)},skipNulls:!1,strictNullHandling:!1},isNonNullishPrimitive=function(et){return typeof et=="string"||typeof et=="number"||typeof et=="boolean"||typeof et=="symbol"||typeof et=="bigint"},sentinel={},stringify$6=function tt(et,rt,nt,it,ot,at,st,lt,ct,ut,dt,ft,pt,mt,ht,gt){for(var vt=et,yt=gt,bt=0,xt=!1;(yt=yt.get(sentinel))!==void 0&&!xt;){var $t=yt.get(et);if(bt+=1,typeof $t<"u"){if($t===bt)throw new RangeError("Cyclic object value");xt=!0}typeof yt.get(sentinel)>"u"&&(bt=0)}if(typeof lt=="function"?vt=lt(rt,vt):vt instanceof Date?vt=dt(vt):nt==="comma"&&isArray$k(vt)&&(vt=utils$d.maybeMap(vt,function(jt){return jt instanceof Date?dt(jt):jt})),vt===null){if(ot)return st&&!mt?st(rt,defaults$7.encoder,ht,"key",ft):rt;vt=""}if(isNonNullishPrimitive(vt)||utils$d.isBuffer(vt)){if(st){var Tt=mt?rt:st(rt,defaults$7.encoder,ht,"key",ft);if(nt==="comma"&&mt){for(var wt=split$4.call(String(vt),","),At="",Rt=0;Rt<wt.length;++Rt)At+=(Rt===0?"":",")+pt(st(wt[Rt],defaults$7.encoder,ht,"value",ft));return[pt(Tt)+(it&&isArray$k(vt)&&wt.length===1?"[]":"")+"="+At]}return[pt(Tt)+"="+pt(st(vt,defaults$7.encoder,ht,"value",ft))]}return[pt(rt)+"="+pt(String(vt))]}var It=[];if(typeof vt>"u")return It;var Lt;if(nt==="comma"&&isArray$k(vt))Lt=[{value:vt.length>0?vt.join(",")||null:void 0}];else if(isArray$k(lt))Lt=lt;else{var Pt=Object.keys(vt);Lt=ct?Pt.sort(ct):Pt}for(var Nt=it&&isArray$k(vt)&&vt.length===1?rt+"[]":rt,Ot=0;Ot<Lt.length;++Ot){var Bt=Lt[Ot],zt=typeof Bt=="object"&&typeof Bt.value<"u"?Bt.value:vt[Bt];if(!(at&&zt===null)){var Vt=isArray$k(vt)?typeof nt=="function"?nt(Nt,Bt):Nt:Nt+(ut?"."+Bt:"["+Bt+"]");gt.set(et,bt);var Ut=getSideChannel();Ut.set(sentinel,gt),pushToArray(It,tt(zt,Vt,nt,it,ot,at,st,lt,ct,ut,dt,ft,pt,mt,ht,Ut))}}return It},normalizeStringifyOptions=function(et){if(!et)return defaults$7;if(et.encoder!==null&&typeof et.encoder<"u"&&typeof et.encoder!="function")throw new TypeError("Encoder has to be a function.");var rt=et.charset||defaults$7.charset;if(typeof et.charset<"u"&&et.charset!=="utf-8"&&et.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var nt=formats$1.default;if(typeof et.format<"u"){if(!has$6.call(formats$1.formatters,et.format))throw new TypeError("Unknown format option provided.");nt=et.format}var it=formats$1.formatters[nt],ot=defaults$7.filter;return(typeof et.filter=="function"||isArray$k(et.filter))&&(ot=et.filter),{addQueryPrefix:typeof et.addQueryPrefix=="boolean"?et.addQueryPrefix:defaults$7.addQueryPrefix,allowDots:typeof et.allowDots>"u"?defaults$7.allowDots:!!et.allowDots,charset:rt,charsetSentinel:typeof et.charsetSentinel=="boolean"?et.charsetSentinel:defaults$7.charsetSentinel,delimiter:typeof et.delimiter>"u"?defaults$7.delimiter:et.delimiter,encode:typeof et.encode=="boolean"?et.encode:defaults$7.encode,encoder:typeof et.encoder=="function"?et.encoder:defaults$7.encoder,encodeValuesOnly:typeof et.encodeValuesOnly=="boolean"?et.encodeValuesOnly:defaults$7.encodeValuesOnly,filter:ot,format:nt,formatter:it,serializeDate:typeof et.serializeDate=="function"?et.serializeDate:defaults$7.serializeDate,skipNulls:typeof et.skipNulls=="boolean"?et.skipNulls:defaults$7.skipNulls,sort:typeof et.sort=="function"?et.sort:null,strictNullHandling:typeof et.strictNullHandling=="boolean"?et.strictNullHandling:defaults$7.strictNullHandling}},stringify_1=function(tt,et){var rt=tt,nt=normalizeStringifyOptions(et),it,ot;typeof nt.filter=="function"?(ot=nt.filter,rt=ot("",rt)):isArray$k(nt.filter)&&(ot=nt.filter,it=ot);var at=[];if(typeof rt!="object"||rt===null)return"";var st;et&&et.arrayFormat in arrayPrefixGenerators?st=et.arrayFormat:et&&"indices"in et?st=et.indices?"indices":"repeat":st="indices";var lt=arrayPrefixGenerators[st];if(et&&"commaRoundTrip"in et&&typeof et.commaRoundTrip!="boolean")throw new TypeError("`commaRoundTrip` must be a boolean, or absent");var ct=lt==="comma"&&et&&et.commaRoundTrip;it||(it=Object.keys(rt)),nt.sort&&it.sort(nt.sort);for(var ut=getSideChannel(),dt=0;dt<it.length;++dt){var ft=it[dt];nt.skipNulls&&rt[ft]===null||pushToArray(at,stringify$6(rt[ft],ft,lt,ct,nt.strictNullHandling,nt.skipNulls,nt.encode?nt.encoder:null,nt.filter,nt.sort,nt.allowDots,nt.serializeDate,nt.format,nt.formatter,nt.encodeValuesOnly,nt.charset,ut))}var pt=at.join(nt.delimiter),mt=nt.addQueryPrefix===!0?"?":"";return nt.charsetSentinel&&(nt.charset==="iso-8859-1"?mt+="utf8=%26%2310003%3B&":mt+="utf8=%E2%9C%93&"),pt.length>0?mt+pt:""},utils$c=utils$e,has$5=Object.prototype.hasOwnProperty,isArray$j=Array.isArray,defaults$6={allowDots:!1,allowPrototypes:!1,allowSparse:!1,arrayLimit:20,charset:"utf-8",charsetSentinel:!1,comma:!1,decoder:utils$c.decode,delimiter:"&",depth:5,ignoreQueryPrefix:!1,interpretNumericEntities:!1,parameterLimit:1e3,parseArrays:!0,plainObjects:!1,strictNullHandling:!1},interpretNumericEntities=function(tt){return tt.replace(/&#(\d+);/g,function(et,rt){return String.fromCharCode(parseInt(rt,10))})},parseArrayValue=function(tt,et){return tt&&typeof tt=="string"&&et.comma&&tt.indexOf(",")>-1?tt.split(","):tt},isoSentinel="utf8=%26%2310003%3B",charsetSentinel="utf8=%E2%9C%93",parseValues$5=function(et,rt){var nt={},it=rt.ignoreQueryPrefix?et.replace(/^\?/,""):et,ot=rt.parameterLimit===1/0?void 0:rt.parameterLimit,at=it.split(rt.delimiter,ot),st=-1,lt,ct=rt.charset;if(rt.charsetSentinel)for(lt=0;lt<at.length;++lt)at[lt].indexOf("utf8=")===0&&(at[lt]===charsetSentinel?ct="utf-8":at[lt]===isoSentinel&&(ct="iso-8859-1"),st=lt,lt=at.length);for(lt=0;lt<at.length;++lt)if(lt!==st){var ut=at[lt],dt=ut.indexOf("]="),ft=dt===-1?ut.indexOf("="):dt+1,pt,mt;ft===-1?(pt=rt.decoder(ut,defaults$6.decoder,ct,"key"),mt=rt.strictNullHandling?null:""):(pt=rt.decoder(ut.slice(0,ft),defaults$6.decoder,ct,"key"),mt=utils$c.maybeMap(parseArrayValue(ut.slice(ft+1),rt),function(ht){return rt.decoder(ht,defaults$6.decoder,ct,"value")})),mt&&rt.interpretNumericEntities&&ct==="iso-8859-1"&&(mt=interpretNumericEntities(mt)),ut.indexOf("[]=")>-1&&(mt=isArray$j(mt)?[mt]:mt),has$5.call(nt,pt)?nt[pt]=utils$c.combine(nt[pt],mt):nt[pt]=mt}return nt},parseObject=function(tt,et,rt,nt){for(var it=nt?et:parseArrayValue(et,rt),ot=tt.length-1;ot>=0;--ot){var at,st=tt[ot];if(st==="[]"&&rt.parseArrays)at=[].concat(it);else{at=rt.plainObjects?Object.create(null):{};var lt=st.charAt(0)==="["&&st.charAt(st.length-1)==="]"?st.slice(1,-1):st,ct=parseInt(lt,10);!rt.parseArrays&&lt===""?at={0:it}:!isNaN(ct)&&st!==lt&&String(ct)===lt&&ct>=0&&rt.parseArrays&&ct<=rt.arrayLimit?(at=[],at[ct]=it):lt!=="__proto__"&&(at[lt]=it)}it=at}return it},parseKeys=function(et,rt,nt,it){if(et){var ot=nt.allowDots?et.replace(/\.([^.[]+)/g,"[$1]"):et,at=/(\[[^[\]]*])/,st=/(\[[^[\]]*])/g,lt=nt.depth>0&&at.exec(ot),ct=lt?ot.slice(0,lt.index):ot,ut=[];if(ct){if(!nt.plainObjects&&has$5.call(Object.prototype,ct)&&!nt.allowPrototypes)return;ut.push(ct)}for(var dt=0;nt.depth>0&&(lt=st.exec(ot))!==null&&dt<nt.depth;){if(dt+=1,!nt.plainObjects&&has$5.call(Object.prototype,lt[1].slice(1,-1))&&!nt.allowPrototypes)return;ut.push(lt[1])}return lt&&ut.push("["+ot.slice(lt.index)+"]"),parseObject(ut,rt,nt,it)}},normalizeParseOptions=function(et){if(!et)return defaults$6;if(et.decoder!==null&&et.decoder!==void 0&&typeof et.decoder!="function")throw new TypeError("Decoder has to be a function.");if(typeof et.charset<"u"&&et.charset!=="utf-8"&&et.charset!=="iso-8859-1")throw new TypeError("The charset option must be either utf-8, iso-8859-1, or undefined");var rt=typeof et.charset>"u"?defaults$6.charset:et.charset;return{allowDots:typeof et.allowDots>"u"?defaults$6.allowDots:!!et.allowDots,allowPrototypes:typeof et.allowPrototypes=="boolean"?et.allowPrototypes:defaults$6.allowPrototypes,allowSparse:typeof et.allowSparse=="boolean"?et.allowSparse:defaults$6.allowSparse,arrayLimit:typeof et.arrayLimit=="number"?et.arrayLimit:defaults$6.arrayLimit,charset:rt,charsetSentinel:typeof et.charsetSentinel=="boolean"?et.charsetSentinel:defaults$6.charsetSentinel,comma:typeof et.comma=="boolean"?et.comma:defaults$6.comma,decoder:typeof et.decoder=="function"?et.decoder:defaults$6.decoder,delimiter:typeof et.delimiter=="string"||utils$c.isRegExp(et.delimiter)?et.delimiter:defaults$6.delimiter,depth:typeof et.depth=="number"||et.depth===!1?+et.depth:defaults$6.depth,ignoreQueryPrefix:et.ignoreQueryPrefix===!0,interpretNumericEntities:typeof et.interpretNumericEntities=="boolean"?et.interpretNumericEntities:defaults$6.interpretNumericEntities,parameterLimit:typeof et.parameterLimit=="number"?et.parameterLimit:defaults$6.parameterLimit,parseArrays:et.parseArrays!==!1,plainObjects:typeof et.plainObjects=="boolean"?et.plainObjects:defaults$6.plainObjects,strictNullHandling:typeof et.strictNullHandling=="boolean"?et.strictNullHandling:defaults$6.strictNullHandling}},parse$1=function(tt,et){var rt=normalizeParseOptions(et);if(tt===""||tt===null||typeof tt>"u")return rt.plainObjects?Object.create(null):{};for(var nt=typeof tt=="string"?parseValues$5(tt,rt):tt,it=rt.plainObjects?Object.create(null):{},ot=Object.keys(nt),at=0;at<ot.length;++at){var st=ot[at],lt=parseKeys(st,nt[st],rt,typeof tt=="string");it=utils$c.merge(it,lt,rt)}return rt.allowSparse===!0?it:utils$c.compact(it)},stringify$5=stringify_1,parse=parse$1,formats=formats$3,lib$3={formats,parse,stringify:stringify$5};let pendingMap=new Map;const getPendingUrl=tt=>[tt.method,tt.url].join("&");class AxiosCanceler{addPending(et){this.removePending(et);const rt=getPendingUrl(et);et.cancelToken=et.cancelToken||new axios$4.CancelToken(nt=>{pendingMap.has(rt)||pendingMap.set(rt,nt)})}removeAllPending(){pendingMap.forEach(et=>{et&&isFunction$a(et)&&et()}),pendingMap.clear()}removePending(et){const rt=getPendingUrl(et);if(pendingMap.has(rt)){const nt=pendingMap.get(rt);nt&&nt(rt),pendingMap.delete(rt)}}reset(){pendingMap=new Map}}var ResultEnum=(tt=>(tt[tt.SUCCESS=0]="SUCCESS",tt[tt.ERROR=1]="ERROR",tt[tt.TIMEOUT=10001]="TIMEOUT",tt.TYPE="success",tt))(ResultEnum||{}),RequestEnum=(tt=>(tt.GET="GET",tt.POST="POST",tt.PUT="PUT",tt.DELETE="DELETE",tt))(RequestEnum||{}),ContentTypeEnum=(tt=>(tt.JSON="application/json;charset=UTF-8",tt.FORM_URLENCODED="application/x-www-form-urlencoded;charset=UTF-8",tt.FORM_DATA="multipart/form-data;charset=UTF-8",tt))(ContentTypeEnum||{});let Axios$2=class{constructor(et){wn(this,"axiosInstance");wn(this,"options");this.options=et,this.axiosInstance=axios$4.create(et),this.setupInterceptors()}createAxios(et){this.axiosInstance=axios$4.create(et)}getTransform(){const{transform:et}=this.options;return et}getAxios(){return this.axiosInstance}configAxios(et){this.axiosInstance&&this.createAxios(et)}setHeader(et){this.axiosInstance&&Object.assign(this.axiosInstance.defaults.headers,et)}setupInterceptors(){const et=this.getTransform();if(!et)return;const{requestInterceptors:rt,requestInterceptorsCatch:nt,responseInterceptors:it,responseInterceptorsCatch:ot}=et,at=new AxiosCanceler;this.axiosInstance.interceptors.request.use(st=>{var ut;const{ignoreCancelToken:lt}=st.requestOptions;return!(lt!==void 0?lt:(ut=this.options.requestOptions)==null?void 0:ut.ignoreCancelToken)&&at.addPending(st),rt&&isFunction$a(rt)&&(st=rt(st,this.options)),st},void 0),nt&&isFunction$a(nt)&&this.axiosInstance.interceptors.request.use(void 0,nt),this.axiosInstance.interceptors.response.use(st=>(st&&at.removePending(st.config),it&&isFunction$a(it)&&(st=it(st)),st),void 0),ot&&isFunction$a(ot)&&this.axiosInstance.interceptors.response.use(void 0,ot)}supportFormData(et){var it;const rt=et.headers||this.options.headers;return((rt==null?void 0:rt["Content-Type"])||(rt==null?void 0:rt["content-type"]))!==ContentTypeEnum.FORM_URLENCODED||!Reflect.has(et,"data")||((it=et.method)==null?void 0:it.toUpperCase())===RequestEnum.GET?et:{...et,data:lib$3.stringify(et.data,{arrayFormat:"brackets"})}}get(et,rt){return this.request({...et,method:"GET"},rt)}post(et,rt){return this.request({...et,method:"POST"},rt)}put(et,rt){return this.request({...et,method:"PUT"},rt)}delete(et,rt){return this.request({...et,method:"DELETE"},rt)}uploadFile(et,rt){var at;const{requestOptions:nt}=this.options;nt!=null&&nt.apiUrl&&(et.url=`${(at=nt.apiUrl)==null?void 0:at.call(nt)}${et.url}`);const it=new window.FormData,ot=rt.name||"file";return rt.filename?it.append(ot,rt.file,rt.filename):it.append(ot,rt.file),rt.data&&Object.keys(rt.data).forEach(st=>{const lt=rt.data[st];if(Array.isArray(lt)){lt.forEach(ct=>{it.append(`${st}[]`,ct)});return}it.append(st,rt.data[st])}),this.axiosInstance.request({...et,method:"POST",data:it,headers:{"Content-type":ContentTypeEnum.FORM_DATA,ignoreCancelToken:!0}})}request(et,rt){let nt=cloneDeep$1(et);const it=this.getTransform(),{requestOptions:ot}=this.options,at=Object.assign({},ot,rt),{beforeRequestHook:st,requestCatchHook:lt,transformRequestHook:ct}=it||{};return st&&isFunction$a(st)&&(nt=st(nt,at)),nt.requestOptions=at,nt=this.supportFormData(nt),new Promise((ut,dt)=>{this.axiosInstance.request(nt).then(ft=>{if(ct&&isFunction$a(ct)){try{const pt=ct(ft,at);ut(pt)}catch(pt){dt(pt||new Error("request error!"))}return}ut(ft)}).catch(ft=>{if(lt&&isFunction$a(lt)){dt(lt(ft,at));return}axios$4.isAxiosError(ft),dt(ft)})})}};const scriptRel="modulepreload",assetsURL=function(tt){return"/"+tt},seen={},__vitePreload=function(et,rt,nt){if(!rt||rt.length===0)return et();const it=document.getElementsByTagName("link");return Promise.all(rt.map(ot=>{if(ot=assetsURL(ot),ot in seen)return;seen[ot]=!0;const at=ot.endsWith(".css"),st=at?'[rel="stylesheet"]':"";if(!!nt)for(let ut=it.length-1;ut>=0;ut--){const dt=it[ut];if(dt.href===ot&&(!at||dt.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${ot}"]${st}`))return;const ct=document.createElement("link");if(ct.rel=at?"stylesheet":scriptRel,at||(ct.as="script",ct.crossOrigin=""),ct.href=ot,document.head.appendChild(ct),at)return new Promise((ut,dt)=>{ct.addEventListener("load",ut),ct.addEventListener("error",()=>dt(new Error(`Unable to preload CSS for ${ot}`)))})})).then(()=>et())};let context$1={getTokenFunction:()=>{},unauthorizedFunction:()=>{},errorFunction:()=>{},msgFunction:()=>{},noticeFunction:()=>{},errorModalFunction:()=>{},handleErrorFunction:()=>{},timeoutFunction:()=>{},apiUrl:""};const initRequest=async tt=>{context$1=tt()};async function checkStatus(tt,et,rt="message"){var at,st;const{default:nt}=await __vitePreload(()=>Promise.resolve().then(()=>index$1),void 0),{t:it}=nt;let ot="";switch(tt){case 400:ot=`${et}`;break;case 401:(at=context$1.unauthorizedFunction)==null||at.call(context$1,et);break;case 403:ot=it("api.errMsg403");break;case 404:ot=it("api.errMsg404");break;case 405:ot=it("api.errMsg405");break;case 408:ot=it("api.errMsg408");break;case 500:ot=it("api.errMsg500");break;case 501:ot=it("api.errMsg501");break;case 502:ot=it("api.errMsg502");break;case 503:ot=it("api.errMsg503");break;case 504:ot=it("api.errMsg504");break;case 505:ot=it("api.errMsg505");break}ot&&((st=context$1.handleErrorFunction)==null||st.call(context$1,ot,rt))}const DATE_TIME_FORMAT="YYYY-MM-DD HH:mm:ss";function joinTimestamp(tt,et=!1){if(!tt)return et?"":{};const rt=new Date().getTime();return et?`?_t=${rt}`:{_t:rt}}const formatRequestDate=tt=>{var et;if(isObject$l(tt))for(const rt in tt){const nt=((et=tt[rt])==null?void 0:et.format)??null;if(nt&&typeof nt=="function"&&(tt[rt]=tt[rt].format(DATE_TIME_FORMAT)),isString$b(rt)){const it=tt[rt];if(it)try{tt[rt]=isString$b(it)?it.trim():it}catch(ot){throw new Error(ot)}}isObject$l(tt[rt])&&formatRequestDate(tt[rt])}},{t:t$3}=instance,transform$4={transformRequestHook:(tt,et)=>{var ct,ut;const{isTransformResponse:rt,isReturnNativeResponse:nt}=et;if(nt)return tt;if(!rt)return tt.data;const{data:it}=tt;if(!it)throw new Error(t$3("api.apiRequestFailed"));const{code:ot,msg:at}=it;if(it&&Reflect.has(it,"code")&&ot===ResultEnum.SUCCESS)return it==null?void 0:it.data;let lt="";switch(ot){case ResultEnum.TIMEOUT:lt=t$3("api.timeoutMessage"),(ct=context$1.timeoutFunction)==null||ct.call(context$1);break;case 10005:lt=t$3("api.errMsg403");break;default:at&&(lt=at)}throw et.errorMessageMode==="modal"?context$1.errorModalFunction().alert({title:t$3("sys.api.errorTip"),message:lt}):et.errorMessageMode==="message"&&((ut=context$1.noticeFunction)==null||ut.call(context$1).error(lt)),new Error(lt||t$3("api.apiRequestFailed"))},beforeRequestHook:(tt,et)=>{var lt;const{apiUrl:rt,joinParamsToUrl:nt,formatDate:it,joinTime:ot=!0}=et;if(rt&&!isUrl(tt.url)){const ct=isString$b(rt)?rt:isFunction$a(rt)?rt==null?void 0:rt():"";tt.url=`${ct}${tt.url}`}const at=tt.params||{},st=tt.data||!1;return it&&st&&!isString$b(st)&&formatRequestDate(st),((lt=tt.method)==null?void 0:lt.toUpperCase())===RequestEnum.GET?isString$b(at)?(tt.url=tt.url+at+`${joinTimestamp(ot,!0)}`,tt.params=void 0):tt.params=Object.assign(at||{},joinTimestamp(ot,!1)):isString$b(at)?(tt.url=tt.url+at,tt.params=void 0):(it&&formatRequestDate(at),Reflect.has(tt,"data")&&tt.data&&Object.keys(tt.data).length>0?(tt.data=st,tt.params=at):(tt.data=at,tt.params=void 0),nt&&(tt.url=appendUrlParams(tt.url,Object.assign({},tt.params,tt.data)))),tt},requestInterceptors:(tt,et)=>{var nt,it;const rt=(nt=context$1.getTokenFunction)==null?void 0:nt.call(context$1);return rt&&((it=tt==null?void 0:tt.requestOptions)==null?void 0:it.withToken)!==!1&&(tt.headers.Authorization=et.authenticationScheme?`${et.authenticationScheme} ${rt}`:rt),tt},responseInterceptors:tt=>tt,responseInterceptorsCatch:tt=>{var ct,ut,dt,ft,pt,mt;const{response:et,code:rt,message:nt,config:it}=tt||{},ot=((ct=it==null?void 0:it.requestOptions)==null?void 0:ct.errorMessageMode)||"none",at=((dt=(ut=et==null?void 0:et.data)==null?void 0:ut.error)==null?void 0:dt.message)??"",st=((ft=tt==null?void 0:tt.toString)==null?void 0:ft.call(tt))??"";let lt="";try{if(rt==="ECONNABORTED"&&nt.indexOf("timeout")!==-1&&(lt=t$3("api.apiTimeoutMessage")),st!=null&&st.includes("Network Error")&&(lt=t$3("api.networkExceptionMsg")),lt)return ot==="modal"?(pt=context$1.errorModalFunction())==null||pt.alert({title:t$3("api.errorTip"),message:lt}):ot==="message"&&context$1.errorFunction(lt),Promise.reject(tt)}catch(ht){throw new Error(ht)}return checkStatus((mt=tt==null?void 0:tt.response)==null?void 0:mt.status,at,ot),Promise.reject(tt)}},createAxios=tt=>new Axios$2(deepMerge({authenticationScheme:"",timeout:10*1e3,headers:{"Content-Type":ContentTypeEnum.JSON},transform:clone(transform$4),withCredentials:!0,requestOptions:{isReturnNativeResponse:!1,isTransformResponse:!0,joinParamsToUrl:!1,formatDate:!1,errorMessageMode:"message",apiUrl:()=>context$1.apiUrl,joinTime:!0,ignoreCancelToken:!0,withToken:!0}},tt||{})),request$2=createAxios(),createAxiosD=tt=>new Axios$2(deepMerge({authenticationScheme:"",timeout:100*1e3,headers:{"Content-Type":ContentTypeEnum.JSON},transform:clone(transform$4),withCredentials:!0,requestOptions:{isReturnNativeResponse:!1,isTransformResponse:!0,joinParamsToUrl:!1,formatDate:!1,errorMessageMode:"message",apiUrl:()=>"/download",joinTime:!0,ignoreCancelToken:!0,withToken:!0}},tt||{}));createAxiosD();function do_login_api(tt,et="message"){return request$2.get({url:"/middleware/isLogin",params:tt},{errorMessageMode:et})}function doSessionApi(tt,et="message"){return request$2.get({url:"/middleware/session",params:tt},{errorMessageMode:et})}function get_user_info(tt="message"){return request$2.get({url:"/user/info"},{errorMessageMode:tt})}function get_track_download(tt,et="none"){return request$2.get({params:tt,url:"/track/download"},{errorMessageMode:et})}function upload_map_api(tt,et){return request$2.uploadFile({url:"/user/upload",onUploadProgress:et},tt)}function upload_music_for_beats(tt,et){return request$2.uploadFile({url:"/song/beatTracking",onUploadProgress:et},tt)}function download_beat_mapper_api(tt,et="message"){return request$2.get({url:"/user/download",params:tt,responseType:"blob"},{errorMessageMode:et,isTransformResponse:!1})}function download_static(tt,et,rt){return request$2.get({url:tt,responseType:"blob",onDownloadProgress:et,withCredentials:!1},{errorMessageMode:"message",isTransformResponse:!1})}function get_static_song_info_list(tt,et="message"){return request$2.get({url:"/song/staticList",params:tt},{errorMessageMode:et})}function get_static_song_ogg(tt,et="message"){return request$2.get({url:"/song/ogg",params:tt},{errorMessageMode:et})}function get_static_song_cover(tt,et="message"){return request$2.get({url:"/song/cover",params:tt},{errorMessageMode:et})}const api$2=Object.freeze(Object.defineProperty({__proto__:null,doSessionApi,do_login_api,download_beat_mapper_api,download_static,get_static_song_cover,get_static_song_info_list,get_static_song_ogg,get_track_download,get_user_info,upload_map_api,upload_music_for_beats},Symbol.toStringTag,{value:"Module"})),YAML=".yaml",LIGHTSHOW_FILENAME="EasyLightshow.dat",LIGHTSHOW_FILENAME_YAML=`EasyLightshow${YAML}`,COVER_FILE_TYPE="cover.png",EVENT="Event",noteModeNames=getNoteModeName(),projectNoteMode=getEditorNoteModeSettings();async function createInfoContent(tt,et){et={version:et&&et.version||VERSION$3.THREE,type:et&&et.type||"json"};const rt=Number(tt.bpm),nt=Number(tt.offset);let it=[];!!get$a(tt,"modSettings.mappingExtensions.isEnabled")&&it.push("Mapping Extensions");const at={enabledFastWalls:tt.enabledFastWalls,modSettings:tt.modSettings},st=et.version===VERSION$3.THREE;let lt,ct=[],ut;try{ut=await getFileName(tt)}catch(dt){console.error(dt),ut=""}if(et.version===VERSION$3.TWO||st){if(await allNoteModeAction(projectNoteMode,async(ft,pt)=>{const mt=sortDifficultyIds(Object.keys(tt[pt]||"")),ht=mt.map(gt=>tt[pt][gt]);mt.length&&ct.push({_ciphermapCharacteristicName:ft,_difficultyCiphermaps:await Promise.all(ht.map(gt=>getFile(getFilenameForThing(tt.id,BEAT_MAP,{difficulty:gt.id,mode:ft})).then(vt=>{if(!isString$b(vt))return;const yt=JSON.parse(vt),bt=getDifficultyExtensionSuffix(ft,gt.id),xt=`${bt}`+(st?YAML:".dat"),$t=`${bt}`+EVENT+YAML,{mineNum:Tt,blockNum:wt,averageBlockNum:At,obstacleNum:Rt,noteNum:It,ringNoteNum:Lt}=getStatisticsInfo(yt,tt.songDuration),Pt={_difficulty:gt.id,_difficultyRank:getRankForDifficulty(gt),_ciphermapFilename:xt,_eventmapFilename:$t,_noteJumpMovementSpeed:gt.noteJumpSpeed,_noteJumpStartBeatOffset:gt.startBeatOffset,_blockNum:wt,_mineNum:Tt,_noteNum:It,_ringNoteNum:Lt,_obstacleNum:Rt,_averageBlockNum:At,_calories:(gt==null?void 0:gt.calories)??getCalories(gt.id,tt.songDuration),_customData:{_editorOffset:nt,_requirements:it}};return getIsRingEditMode(ft)&&(Pt._ringNoteJumpMovementSpeed=gt.ringNoteJumpSpeed,Pt._ringNoteJumpStartBeatOffset=gt.ringNoteStartBeatOffset),gt.customLabel&&(Pt._customData._difficultyLabel=gt.customLabel),Pt})))})}),tt.enabledLightshow&&ct.push({_ciphermapCharacteristicName:"Lightshow",_difficultyCiphermaps:[{_difficulty:"Easy",_difficultyRank:1,_ciphermapFilename:"EasyLightshow.dat",_noteJumpMovementSpeed:16,_noteJumpStartBeatOffset:0,_customData:{_editorOffset:nt,_requirements:it,_difficultyLabel:"Lightshow"}}]}),lt={_version:MAPPER_VERSION,_officialId:tt.officialId??"",_songName:tt.name,_songSubName:tt.subName||"",_songAuthorName:tt.artistName,_levelAuthorName:tt.mapAuthorName||"",_beatsPerMinute:rt,_songTimeOffset:tt.offset||0,_shuffle:0,_shufflePeriod:.5,_previewStartTime:tt.previewStartTime,_previewDuration:tt.previewDuration,_songFilename:ut,_songDuration:tt.songDuration,_coverImageFilename:COVER_FILE_TYPE,_environmentName:tt.environment,_customData:{_editor:"vrmapper",_editorSettings:at},_difficultyCiphermapSets:ct},get$a(tt,"modSettings.customColors.isEnabled")){const ft=tt.modSettings.customColors,pt={_colorLeft:formatColorObjectRGB(COLOR_KEY.COLOR_LEFT,ft.colorLeft,ft.colorLeftOverdrive),_colorRight:formatColorObjectRGB(COLOR_KEY.COLOR_RIGHT,ft.colorRight,ft.colorRightOverdrive),_envColorLeft:formatColorObjectRGB(COLOR_KEY.ENV_COLOR_LEFT,ft.envColorLeft,ft.envColorLeftOverdrive),_envColorRight:formatColorObjectRGB(COLOR_KEY.ENV_COLOR_RIGHT,ft.envColorRight,ft.envColorRightOverdrive),_obstacleColor:formatColorObjectRGB(COLOR_KEY.OBSTACLE_COLOR,ft.obstacleColor,ft.obstacleColorOverdrive)};lt._difficultyCiphermapSets.forEach(mt=>{mt._difficultyCiphermaps.forEach(ht=>{ht._customData={...ht._customData,...pt}})})}}else throw new Error("Unrecognized version: "+et.version);return et.type==="json"?JSON.stringify(lt,null,2):lt}function createAndFilterBeatmapContents({notes:tt=[],obstacles:et=[],events:rt=[],bookmarks:nt=[]},it={version:2}){let ot;const at=(mt,ht)=>mt._time-ht._time,st=(mt,ht)=>mt._time===ht._time&&mt._lineLayer===ht._lineLayer?mt._lineIndex-ht._lineIndex:mt._time===ht._time?mt._lineLayer-ht._lineLayer:at(mt,ht);let lt=[...tt].sort(st),ct=[...et].sort(at),ut=[...rt].sort(at);lt=lt.map(mt=>({...mt,_lineIndex:Math.round(mt._lineIndex),_lineLayer:Math.round(mt._lineLayer),_cutDirection:Math.round(mt._cutDirection)}));const dt=mt=>{const ht={...mt};return ht.hasOwnProperty("selected")&&delete ht.selected,ht.hasOwnProperty("mouseDown")&&delete ht.mouseDown,ht.hasOwnProperty("checkError")&&delete ht.checkError,ht.hasOwnProperty("id")&&delete ht.id,ht};lt=lt.map(dt),ct=ct.map(dt),ut=ut.map(dt);const[ft,pt]=convertNotesToExportableJson(lt);if(it.version===VERSION$3.TWO||it.version===VERSION$3.THREE)ot={_version:MAPPER_VERSION,_events:ut,_notes:ft,_ringNotes:pt,_obstacles:ct,_customData:{_bookmarks:nt}};else throw new Error("无效的 version: "+it.version);return JSON.stringify(ot,null,2)}function createBeatmapContentsFromState({notes:tt,allEventsAsArray:et,obstaclesState:rt,song:nt,bookmarksArray:it}){const ot=convertEventsToExportableJson(et),at=convertObstaclesToExportableJson(rt),st=convertMarksToExportableJson(it);return createAndFilterBeatmapContents({notes:tt,obstacles:at,events:ot,bookmarks:st},{version:2})}const zipFilesAndDownload=(tt,et,rt,{version:nt,isEncrypt:it=!1,isUpload:ot=!1})=>new Promise(async at=>{const st=new JSZip,lt=getRealDate();if(nt===VERSION$3.THREE){const ct=await createInfoContent(tt,{version:nt,type:"obj"}),ut=filterKeyDataFn(ct,fileObjKeyNoPrefixAction),[dt,ft]=getFileContentsYaml(ut,"Info",it),pt=(ct==null?void 0:ct._songFilename)||"song.ogg";tt.officialId||(st.file(pt,et,{binary:!0,date:lt}),st.file(COVER_FILE_TYPE,rt,{binary:!0,date:lt})),st.file(ft,dt,{binary:it,date:lt})}else if(nt===VERSION$3.TWO){const ct=await createInfoContent(tt,{version:nt});st.file("song.egg",et,{binary:!0,date:lt}),st.file("cover.jpg",rt,{binary:!0,date:lt}),st.file("Info.dat",ct,{binary:!1,date:lt})}await allNoteModeAction(projectNoteMode,async(ct,ut,dt)=>{const ft=await Promise.all(Object.keys(tt[ut]||"").map(pt=>getFile(getFilenameForThing(tt.id,BEAT_MAP,{difficulty:pt,mode:ct})).then(mt=>({difficulty:pt,fileContents:mt}))));if(ft.forEach(({difficulty:pt,fileContents:mt})=>{if(nt===VERSION$3.THREE){const ht=JSON.parse(isString$b(mt)?mt:""),gt=filterKeyDataFn(ht,fileObjKeyNoPrefixAction),vt=getDifficultyExtensionSuffix(ct,pt),yt=isEvent$1(gt)?{version:ht._version,events:gt.events}:{version:ht._version,events:[]},bt=omit$1(gt,["events"]),[xt,$t]=getFileContentsYaml(bt,vt,it),[Tt,wt]=getFileContentsYaml(yt,vt+"Event",it);st.file($t,xt,{binary:it,date:lt,createFolders:!1}),st.file(wt,Tt,{binary:it,date:lt,createFolders:!1})}else nt===VERSION$3.TWO&&isString$b(mt)&&st.file(`${pt}.dat`,mt,{binary:!1,date:lt})}),(nt===VERSION$3.TWO||nt===VERSION$3.THREE)&&tt.enabledLightshow&&dt===0){const{fileContents:pt}=ft[0],mt=isString$b(pt)?JSON.parse(pt)._events:[],ht=createAndFilterBeatmapContents({events:mt},{version:nt});if(nt===VERSION$3.THREE){const gt=filterKeyDataFn(JSON.parse(ht),fileObjKeyNoPrefixAction),vt=YAML$1.stringify(gt);st.file(LIGHTSHOW_FILENAME_YAML,vt,{binary:!1,date:lt})}else st.file(LIGHTSHOW_FILENAME,ht,{binary:!1,date:lt})}}),st.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}}).then(function(ct){const ut=formatToDateTime(new Date,"YYYY_MM_DD_HH_mm_ss"),dt=tt.name.replaceAll(space,"_"),ft=nt===1?`${dt}_${ut}.legacy.zip`:`${dt}_${ut}.zip`;ot||window.confirm("需要同步到VR设备吗？")?window.postMessage({event:"upload2vr",blob:ct,filename:ft}): FileSaver_minExports.saveAs(ct,ft),at({blob:ct,filename:ft})})}),ImportedBeatMapAction=async(tt,et,rt,nt)=>{let it=await JSZip.loadAsync(tt);const ot=getArchiveVersion(it);ot||await rt.confirm(nt("common.dialog.noInfoFile"));let at,st;if(ot===VERSION$3.THREE){const mt=await getFileFromArchive(it,`Info${YAML}`).async("string"),ht=YAML$1.parse(mt);st=filterKeyDataFn(ht,fileObjKeyPrefixAction),at=JSON.stringify(st)}else at=await getFileFromArchive(it,"Info.dat").async("string"),st=JSON.parse(at);st=compatibleField(st);const lt=getSongIdFromName();if(!(et!=null&&et(st._songName)))throw new Error("This song appears to be a duplicate");const ct=getFilenameForThing(lt,"info"),ut=new Promise(async(mt,ht)=>{if(st._officialId){const[gt,vt]=await getOfficialFiles(st._officialId);(!gt||!vt)&&ht("官方资源导入失败"),mt([gt,vt])}else{let gt,vt;const yt=await getFileFromArchive(it,st._songFilename);yt||(await rt.alert(nt("common.dialog.uploadSongFile")),ht("The music file does not match the configuration file, please check if it is consistent")),st._songFilename.endsWith("ogg")||(await rt.alert(nt("common.dialog.songAudioLimitTypeTip_msg",{msg:"ogg"})),ht("The Song format is not correct,upload song type is ogg")),gt=await yt.async("blob");try{vt=await getFileFromArchive(it,st._coverImageFilename).async("blob")}catch(bt){console.error(bt),st._coverImageFilename=COVER_FILE_TYPE,vt=await getDefaultCoverArtPathBlod()}mt([gt,vt])}});let dt={};const ft=(mt,ht,gt)=>{if(!(mt!=null&&mt[ht]))return;if(!getFileFromArchive(it,mt==null?void 0:mt[ht])){const yt=`${gt}_${mt._difficulty}${ht}`;throw rt.alert(nt("common.dialog.uploadDifficultyFile",{msg:yt})),new Error(`The "${yt}" difficulty configuration does not match the file, please check if it is consistent`)}},pt=new Promise(mt=>{for(let ht=0;ht<st._difficultyBeatmapSets.length;ht++){const gt=st._difficultyBeatmapSets[ht];for(const vt of gt._difficultyBeatmaps)ft(vt,"_beatmapFilename",gt._beatmapCharacteristicName),ft(vt,"_eventmapFilename",gt._beatmapCharacteristicName)}mt(!0)});try{const[[mt,ht]]=await Promise.all([ut,pt]),gt=Pt=>st._difficultyBeatmapSets.find(Nt=>Nt._beatmapCharacteristicName===Pt),vt=gt(NOTE_MODE.STANDARD),yt=gt(NOTE_MODE.RING);((Pt,Nt,Ot)=>{Pt&&!Nt&&st._difficultyBeatmapSets.push({_beatmapCharacteristicName:Ot,_difficultyBeatmaps:cloneDeep$1(Pt._difficultyBeatmaps)})})(vt,yt,NOTE_MODE.RING);for(let Pt=0;Pt<st._difficultyBeatmapSets.length;Pt++){const Nt=st._difficultyBeatmapSets[Pt];if(noteModeNames.includes(Nt._beatmapCharacteristicName)){const Ot=await Promise.all(Nt._difficultyBeatmaps.map(async zt=>{let Vt=getFileFromArchive(it,zt._beatmapFilename),Ut;if(ot===VERSION$3.THREE&&zt._eventmapFilename){const jt=await getFileFromArchive(it,zt._eventmapFilename).async("string"),qt=YAML$1.parse(jt);Ut=filterKeyDataFn(qt,fileObjKeyPrefixAction)}return Vt.async("string").then(jt=>{let qt;if(ot===VERSION$3.THREE){const Ft=YAML$1.parse(jt);qt=JSON.stringify(filterKeyDataFn(Ft,fileObjKeyPrefixAction))}else qt=jt;if(Ut!=null&&Ut._events){let Ft=JSON.parse(qt);Ft._events=Ut._events,Ft._version=MAPPER_VERSION,qt=JSON.stringify(Ft)}if(Nt._beatmapCharacteristicName===NOTE_MODE.RING&&vt&&!yt){let Ft=JSON.parse(qt);Ft._notes=standardToRingMap(Ft._notes),Ft._ringNotes=[],qt=JSON.stringify(Ft)}if(Nt._beatmapCharacteristicName===NOTE_MODE.STANDARD&&!vt&&yt){let Ft=JSON.parse(qt);Ft._notes=[],Ft._obstacles=[],Ft._events=[],delete Ft._ringNotes,qt=JSON.stringify(Ft)}const Dt=getFilenameForThing(lt,BEAT_MAP,{difficulty:zt._difficulty,mode:Nt._beatmapCharacteristicName});return saveFile(Dt,qt).then(()=>{const Ft={id:zt._difficulty,noteJumpSpeed:zt._noteJumpMovementSpeed,startBeatOffset:zt._noteJumpStartBeatOffset,data:JSON.parse(qt)};return getIsRingEditMode(Nt._beatmapCharacteristicName)&&(Ft.ringNoteJumpSpeed=zt._ringNoteJumpMovementSpeed,Ft.ringNoteStartBeatOffset=zt._ringNoteJumpStartBeatOffset),zt._customData&&zt._customData._difficultyLabel&&(Ft.customLabel=zt._customData._difficultyLabel),Ft})})})),Bt=getDifficultKey(Nt._beatmapCharacteristicName);dt[Bt]=Ot.reduce((zt,{id:Vt,noteJumpSpeed:Ut,startBeatOffset:jt,customLabel:qt,ringNoteJumpSpeed:Dt,ringNoteStartBeatOffset:Ft})=>{let Zt={...zt,[Vt]:{id:Vt,noteJumpSpeed:Ut,startBeatOffset:jt,customLabel:qt||""}};return getIsRingEditMode(Nt._beatmapCharacteristicName)&&(Zt[Vt].ringNoteJumpSpeed=Dt,Zt[Vt].ringNoteStartBeatOffset=Ft),Zt},{})}}const xt=st._difficultyBeatmapSets.some(Pt=>Pt._beatmapCharacteristicName==="Lightshow");let $t=st._songTimeOffset||0;const wt=get$a(st,"_customData._editor")==="vrmapper"?st._customData._editorSettings:{};let At=wt.modSettings,Rt,It;st._officialId?(Rt=(await officialFiles.saveSongFile(st._officialId,mt))[0],It=(await officialFiles.saveLocalCoverArtFile(st._officialId,ht))[0]):(Rt=(await beatMapFiles.saveSongFile(lt,mt))[0],It=(await beatMapFiles.saveLocalCoverArtFile(lt,ht,st._coverImageFilename))[0]);const Lt=st._songDuration||await getSongDuration(mt);return await saveFile(ct,at),{songId:lt,officialId:st._officialId||"",songFilename:Rt,songDuration:Lt,coverArtFilename:It,name:st._songName,subName:st._songSubName,artistName:st._songAuthorName,mapAuthorName:st._levelAuthorName,bpm:st._beatsPerMinute,offset:$t,swingAmount:st._shuffle,swingPeriod:st._shufflePeriod,previewStartTime:st._previewStartTime,previewDuration:st._previewDuration,environment:st._environmentName,difficultyFilesObj:dt,...wt,modSettings:At,enabledLightshow:xt}}catch(mt){throw Error(isString$b(mt)?mt:"import is error")}},filterValue=tt=>isString$b(tt)&&tt.endsWith("dat")?tt.replace("dat","yaml"):tt,fileObjKeyNoPrefixAction=tt=>tt.startsWith("_")?tt.replace("_",""):tt,fileObjKeyPrefixAction=(tt,et)=>!Array.isArray(et)&&!tt.startsWith("_")?"_"+tt:tt,filterKeyDataFn=(tt,et)=>{function rt(ot){return(typeof ot=="object"||isFunction$a(ot))&&ot!==null}if(!rt(tt))throw new Error("obj 不是一个对象！");if(!isFunction$a(et))throw new Error("isFinish 不是一个function！");let it=Array.isArray(tt)?[]:{};for(let ot in tt){const at=et(ot,tt);it[at]=rt(tt[ot])?filterKeyDataFn(tt[ot],et):filterValue(tt[ot])}return it},getSongDuration=tt=>{let et=URL.createObjectURL(tt),rt=new Audio(et),nt;return new Promise((it,ot)=>{const at=setTimeout(()=>{ot("load Time Out")},2500),st=()=>{nt=rt.duration,clearTimeout(at),it(nt),rt.removeEventListener("loadedmetadata",st)};rt.addEventListener("loadedmetadata",st)})},getFileName=async(tt,et="songFilename")=>{const rt=await getInfoDat(tt.id),nt=await getFileForTypeName(tt[et]);let it;return nt!=null&&nt.name?it=nt.name:rt&&!isEmpty$6(rt)&&(it=JSON.parse(rt)[`_${et}`]),it||tt[et]},getStatisticsInfo=(tt,et)=>{const{_notes:rt,_obstacles:nt,_ringNotes:it}=tt,ot=nt?nt.length:0,at=it?getBlockLength(it):0,st=rt?getBlockLength(rt):0,lt=rt?getMineLength(rt):0,ct=st+at,ut=getAverageBlockNum(et,ct);return{blockNum:ct,noteNum:st,ringNoteNum:at,mineNum:lt,obstacleNum:ot,averageBlockNum:ut}},isEvent$1=tt=>Array.isArray(tt.events),getFileContentsYaml=(tt,et="Info",rt)=>{let nt,it;return rt?(nt=encrypt(YAML$1.stringify(tt)),it=`${et}.bytes`):(nt=YAML$1.stringify(tt),it=`${et}${YAML}`),[nt,it]},getDifficultyExtensionSuffix=(tt,et,rt="")=>{const nt=getModeExtensionSuffix(tt);return tt+"/"+et+rt+nt},compatibleField=tt=>{var nt;const et=compareVersion(tt._version,"2.3.0")>-1;let rt;return et&&(rt=cloneDeep$1(tt),(nt=tt==null?void 0:tt._difficultyCiphermapSets)!=null&&nt.length&&(rt._difficultyBeatmapSets=rt._difficultyCiphermapSets.map(it=>({...it,_beatmapCharacteristicName:it._ciphermapCharacteristicName,_difficultyBeatmaps:it._difficultyCiphermaps.map(ot=>({...ot,_beatmapFilename:ot._ciphermapFilename}))})))),rt||tt},getIndexDBFiles=async(tt,et=THING_TYPE.SONG)=>{const rt=et===THING_TYPE.COVER_ART?{extension:"png"}:{},nt=getFilenameForThing(tt,et,rt);return await getFileForTypeName(nt)},getOfficialFiles=async tt=>{const et=[{type:THING_TYPE.SONG,api:get_static_song_ogg.name},{type:THING_TYPE.COVER_ART,api:get_static_song_cover.name}],rt=[];for(let nt=0;nt<et.length;nt++){const it=et[nt];let ot=await getIndexDBFiles(tt,it.type);if(ot)rt.push(ot);else{const{link:at}=await api$2[it.api]({id:tt});if(at){const st=await download_static(at);if(it.type===THING_TYPE.SONG){const lt=await downloadByOfficialMusic(st);lt&&rt.push(lt)}else rt.push(st)}}}return rt},EDITOR_ENTITIES_SET_DIFFICULTY="editorElement/setDifficulty",EDITOR_ENTITIES_SET_SELECT_GROUP_ID="editorElement/setSelectGroupId",TOGGLE_NOTE_COLOR="toggleNoteColor",CLICK_NOTE="clickNote",MOUSE_OVER_NOTE="mouseOverNote",SET_BLOCK_BY_DRAGGING="setBlockByDragging",CLEAR_CELL_OF_NOTES="clearCellOfNotes",CLICK_PLACEMENT_GRID="clickPlacementGrid",SET_EDITOR_NOTES="setEditorNotes",DELETE_NOTE="deleteNote",BULK_DELETE_NOTE="bulkDeleteNote",SELECT_NOTE="selectNote",SELECT_NOTE_FOR_IDS="selectNoteForIds",DESELECT_ALL_OF_TAG="deselectAllOfTag",DESELECT_OR_SELECT_NOTE_OF_IDS="deselectOrSelectNoteOfIds",MOUSE_DOWN_NOTE="mouseDownNote",MOUSE_UP_NOTE="mouseUpNote",SET_SELECT_BLOCK_DIRECTION="setSelectBlockDirection",SET_CHECK_ERROR_NOTES="setCheckErrorNotes",CLEAR_CHECK_ERROR_NOTES="clearCheckErrorNotes",SET_BLOCK_DIRECTION="setBlockDirection",RESIZE_LONG_NOTE="resizeLongNote",STOP_CREATED_LONG_NOTE="stopCreatedLongNote",CREAT_GROUP_NOTE="creatGroupNote",MERGE_GROUP_NOTE="mergeGroupNote",REMOVE_GROUP_NOTE="removeGroupNote",UNPACK_GROUP_NOTE="unpackGroupNote",SET_HAND_GROUP_NOTE="setHandGroupNote",VERIFY_GROUP_NOTES="verifyGroupNotes",SET_EDITOR_OBSTACLES="setEditorObstacles",DELETE_OBSTACLE="deleteObstacle",RESIZE_OBSTACLE="resizeObstacle",SELECT_OBSTACLE="selectObstacle",CREATE_NEW_OBSTACLE="createNewObstacle",DESELECT_OBSTACLE="deselectObstacle",SWAP_SELECTED_NOTES="swapSelectedNotes",NUDGE_SELECTION="nudgeSelection",DESELECT_ALL="deselectAll",SELECT_NOTE_ALL="selectNoteAll",RESIZE_SELECTED_OBSTACLES="resizeSelectedObstacles",TOGGLE_FAST_WALLS_FOR_SELECTED_OBSTACLES="toggleFastWallsForSelectedObstacles",DELETE_SELECTED_NOTES="deleteSelectedNotes",DELETE_NOTES="deleteNotes",RESIZE_CREATED_OBSTACLES="resizeCreatedObstacles",STOP_CREATED_OBSTACLES="stopCreatedObstacles",TOGGLE_OBSTACLE_COLOR="toggleObstacleColor",CUT_SELECTION="cutSelection",COPY_SELECTION="copySelection",PASTE_SELECTION="pasteSelection",UNDO_NOTES="undoNotes",REDO_NOTES="redoNotes",UNDO_EVENTS="undoEvents",REDO_EVENTS="redoEvents",SELECT_ALL_IN_RANGE="selectAllInRange",JUMP_TO_BEAT="jumpToBeat",SEEK_FORWARDS="seekForwards",SEEK_BACKWARDS="seekBackwards",SCRUB_WAVEFORM="scrubWaveform",SKIP_TO_START="skipToStart",SKIP_TO_END="skipToEnd",LEAVE_EDITOR="leaveEditor",START_LOADING_SONG="startLoadingSong",CREATE_NEW_SONG="createNewSong",SCRUB_EVENTS_HEADER="scrubEventsHeader",SET_EDITOR_EVENTS="setEditorEvents",PLACE_EVENT="placeEvent",COMMIT_SELECTION="commitSelection",DRAW_SELECTION_BOX="drawSelectionBox",DELETE_EVENT="deleteEvent",BULK_DELETE_EVENT="bulkDeleteEvent",SELECT_EVENT="selectEvent",SET_LASER_SPEED="setLaserSpeed",SWITCH_EVENT_COLOR="switchEventColor",DELETE_SELECTED_EVENTS="deleteSelectedEvents",SELECT_EVENT_ALL="selectEventAll",SET_DEL_NOTE_IDS="setDelNoteIds",FILTER_DEL_NOTE_IDS="filterDelNoteIds",SHIFT_DEL_NOTE_IDS="shiftDelNoteIds",DELETE_NOTE_OR_OBS_FORM_TYPE="deleteNoteOrObsFormType",editorEntitiesSetDifficulty=tt=>et=>et({type:EDITOR_ENTITIES_SET_DIFFICULTY,payload:tt}),leaveEditorAction=createAction(LEAVE_EDITOR),scrubEventsHeader=createAction(SCRUB_EVENTS_HEADER),selectAllInRange=createAction(SELECT_ALL_IN_RANGE),jumpToBeat=createAction(JUMP_TO_BEAT),seekForwards=createAction(SEEK_FORWARDS),seekBackwards=createAction(SEEK_BACKWARDS),scrubWaveform=createAction(SCRUB_WAVEFORM),skipToStart=createAction(SKIP_TO_START),skipToEnd=createAction(SKIP_TO_END),navSlice=createSlice({name:"nav",initialState:{isLoading:!1,isPlaying:!1,duration:null,snapTo:.5,cursorPosition:0,animateBlockMotion:!0,animateRingMotion:!0,playbackRate:1,beatDepth:13,volume:.5,playNoteTick:!1,playBeatTick:!1},reducers:{finishLoadNavigations:(tt,et)=>{const{durationInMs:rt,song:nt}=et.payload;tt.cursorPosition=nt.offset,tt.isLoading=!1,tt.duration=rt},changeSnapTo:(tt,et)=>{tt.snapTo=et.payload},toggleNoteTick:tt=>{tt.playNoteTick=!tt.playNoteTick},toggleBeatTick:tt=>{tt.playBeatTick=!tt.playBeatTick},setBeatDepth:(tt,et)=>{tt.beatDepth=et.payload,tt.animateBlockMotion=!1},setPlaybackSpeed:(tt,et)=>{tt.playbackRate=et.payload},setVolume:(tt,et)=>{tt.volume=et.payload},adjustCursorPosition:(tt,et)=>{tt.cursorPosition=et.payload},startPlaying:tt=>{tt.isPlaying=!0,tt.animateBlockMotion=!1,tt.animateRingMotion=!0},pausePlaying:tt=>{tt.isPlaying=!1,tt.animateBlockMotion=!1,tt.animateRingMotion=!1},tickAction:(tt,et)=>{tt.cursorPosition=et.payload,tt.animateRingMotion=!0},skipToStart:(tt,et)=>{tt.cursorPosition=et.payload,tt.animateRingMotion=!1,tt.animateBlockMotion=!1},scrollThroughSong:(tt,et)=>{tt.animateBlockMotion=!0,tt.animateRingMotion=!1},snapToNextOrPrevious:(tt,et)=>{let rt=SNAPPING_THRESHOLD_VALUES.findIndex(ot=>ot.value===tt.snapTo);if(rt===-1)return{...tt,snapTo:1};const nt=et.payload==="next"?rt+1:rt-1,it=SNAPPING_THRESHOLD_VALUES[nt];if(!it)return tt;tt.snapTo=it.value},reloadNavigation:(tt,et)=>{const{duration:rt}=et.payload,nt=rt*1e3;tt.isLoading=!1,tt.duration=nt},backwardsOrForwards:(tt,et)=>{const rt=tt.snapTo;let nt=et.payload===THROUGH.BACKWARDS?rt/2:rt*2;const it=SNAPPING_THRESHOLD_VALUES.find(ot=>ot.value===nt);et.payload===THROUGH.BACKWARDS&&it?tt.snapTo=nt>=1?1:nt:et.payload===THROUGH.FORWARDS&&nt<=1&&(it?tt.snapTo=nt:tt.snapTo=1)}},extraReducers:tt=>{tt.addCase(leaveEditorAction,et=>{et.cursorPosition=0,et.isPlaying=!1,et.duration=null}).addCase(selectAllInRange,et=>{et.isPlaying=!1,et.animateBlockMotion=!1}).addCase(startLoadingSong,et=>{et.isLoading=!0}).addCase(jumpToBeat,(et,rt)=>{const{pauseTrack:nt,animateJump:it}=rt.payload;et.isPlaying=nt?!1:et.isPlaying,et.animateBlockMotion=!!it}).addMatcher(et=>et.type===SEEK_FORWARDS||et.type===SEEK_BACKWARDS,et=>{et.animateBlockMotion=!1,et.animateRingMotion=!1}).addMatcher(et=>[SCRUB_WAVEFORM,SKIP_TO_START,SKIP_TO_END].includes(et.type),(et,rt)=>{et.cursorPosition=rt.type===SKIP_TO_END?et.duration:rt.payload,et.animateBlockMotion=!1,et.animateRingMotion=!1})}}),{finishLoadNavigations,changeSnapTo,toggleNoteTick,setBeatDepth,setPlaybackSpeed,setVolume,adjustCursorPosition,startPlaying,tickAction,pausePlaying,scrollThroughSong,snapToNextOrPrevious,reloadNavigation,toggleBeatTick,backwardsOrForwards}=navSlice.actions,getIsLoading=tt=>tt.nav.isLoading,getIsPlaying=tt=>tt.nav.isPlaying,getDuration=tt=>tt.nav.duration,getSnapTo=tt=>tt.nav.snapTo,getCursorPosition=tt=>tt.nav.cursorPosition,getPlaybackRate=tt=>tt.nav.playbackRate,getBeatDepth=tt=>tt.nav.beatDepth,getVolume=tt=>tt.nav.volume,getPlayNoteTick=tt=>tt.nav.playNoteTick,getPlayBeatTick=tt=>tt.nav.playBeatTick,getAnimateBlockMotion=tt=>tt.nav.animateBlockMotion,getCursorPositionInBeats=tt=>{const et=getSelectedSong(tt);return et?convertMillisecondsToBeats(getCursorPosition(tt)-et.offset,et.bpm):NaN},getDurationInBeats=tt=>{const et=getSelectedSong(tt);return convertMillisecondsToBeats(getDuration(tt),et==null?void 0:et.bpm)},adjustNoteCursorPosition=(tt,et)=>{if(getIsPlaying(et)){const nt=getSnapTo(et);return roundToNearest(tt,nt)}else return roundToNearest(tt,HIGHEST_PRECISION)},navigationsReducer=navSlice.reducer,getNextOrPreviousToolPubFn=(tt,et,rt)=>{const nt=et===SWITCH_ACTION.NEXT?1:-1,it=Object.values(rt),ot=it.indexOf(tt);return it[(ot+it.length+nt)%it.length]},initMode$2=getEditorNoteModeSettings()[0],initialState$6={notes:{selectedTool:NOTE_TOOLS.BLOCK_1,selectedDirection:NOTE_ARROW.CIRCLE,selectionMode:null,defaultObstacleDuration:0,gridPresets:{},errorCheckerOpen:!1,mode:initMode$2,ringDirection:RING_DIRECTION.WITHIN},events:{zoomLevel:2,isLockedToCurrentWindow:!1,areLasersLocked:!1,showLightingPreview:!0,rowHeight:40,backgroundOpacity:.85,selectedEditMode:EVENT_EDIT_MODES.PLACE,selectedBeat:0,selectedTool:EVENT_TOOLS.ON,selectedColor:EVENT_COLORS.RED,selectionBox:null,footRingTolerance:!1}},editSettingSlice=createSlice({name:"editorSetting",initialState:initialState$6,reducers:{startManagingNoteSelection:(tt,et)=>{const{notes:rt}=tt;rt.selectionMode=et.payload},finishManagingNoteSelection:tt=>{const{notes:et}=tt;et.selectionMode=null},selectNoteDirection:(tt,et)=>{tt.notes.selectedDirection=et.payload},selectNoteTool:(tt,et)=>{tt.notes.selectedTool=et.payload},selectNoteNextOrPreviousTool:(tt,et)=>{const rt=tt.notes.selectedTool,nt=tt.notes.mode,it=et.payload;let ot,at;if(at=rt,getIsRingEditMode(nt)){const st=JSON.parse(JSON.stringify(NOTE_TOOLS));st.MINE&&delete st.MINE,ot=st;const lt=Number(rt.charAt(rt.length-1));if(!isNaN(lt)){const ut=rt.substr(0,rt.length-1).toUpperCase();at=NOTE_TOOLS[ut+2]}}else ot=NOTE_TOOLS_STANDARD;tt.notes.selectedTool=getNextOrPreviousToolPubFn(at,it,ot)},selectEventNextOrPreviousTool:(tt,et)=>{const rt=tt.events.selectedTool,nt=et.payload;tt.events.selectedTool=getNextOrPreviousToolPubFn(rt,nt,EVENT_TOOLS)},selectEventTool:(tt,et)=>{tt.events.selectedTool=et.payload},toggleShowLightingPreview:tt=>{tt.events.showLightingPreview=!tt.events.showLightingPreview},setEventRowHeight:(tt,et)=>{tt.events.rowHeight=et.payload},setEventsBackgroundOpacity:(tt,et)=>{tt.events.backgroundOpacity=et.payload},selectEventEditMode:(tt,et)=>{tt.events.selectedEditMode=et.payload},selectEventColor:(tt,et)=>{tt.events.selectedColor=et.payload},toggleEventWindowLock:(tt,et)=>{tt.events.isLockedToCurrentWindow=et.payload},toggleAreLasersLocked:(tt,et)=>{tt.events.areLasersLocked=et.payload},setZoomIn:tt=>{tt.events.zoomLevel=Math.max(EVENT_ZOOM_LEVEL_MIN,tt.events.zoomLevel+1)},setZoomOut:tt=>{tt.events.zoomLevel=Math.max(EVENT_ZOOM_LEVEL_MIN,tt.events.zoomLevel-1)},moveMouseAcrossEventsGrid:(tt,et)=>{tt.events.selectedBeat=et.payload},clearSelectionBox:tt=>{if(!tt.events.selectionBox)return tt;tt.events.selectionBox=null},setErrorCheckerOpen:(tt,et)=>{tt.notes.errorCheckerOpen=et.payload},saveGridPreset:(tt,et)=>{const{grid:rt,presetSlot:nt}=et.payload;tt!=null&&tt.notes.gridPresets&&(tt.notes.gridPresets[nt]=rt)},deleteGridPreset:(tt,et)=>{const{presetSlot:rt}=et.payload;tt!=null&&tt.notes.gridPresets&&delete tt.notes.gridPresets[rt]},setNoteMode:(tt,et)=>{tt.notes.mode=et.payload},setRingDirection:(tt,et)=>{tt.notes.ringDirection=et.payload},toggleFootRingTolerance:(tt,et)=>{tt.events.footRingTolerance=et.payload}},extraReducers:tt=>{tt.addCase(drawSelectionBox,(et,rt)=>{const{selectionBox:nt}=rt.payload;et.events.selectionBox=nt}),tt.addCase(commitSelection,et=>{et.events.selectionBox=null}),tt.addCase(leaveEditorAction,et=>{et.events.footRingTolerance=!1})}}),{startManagingNoteSelection,finishManagingNoteSelection,selectNoteDirection,selectNoteTool,selectEventTool,toggleShowLightingPreview,setEventRowHeight,setEventsBackgroundOpacity,selectEventEditMode,selectEventColor,toggleEventWindowLock,toggleAreLasersLocked,setZoomIn,setZoomOut,selectNoteNextOrPreviousTool,selectEventNextOrPreviousTool,moveMouseAcrossEventsGrid,clearSelectionBox,setErrorCheckerOpen,saveGridPreset,deleteGridPreset,setNoteMode,setRingDirection,toggleFootRingTolerance}=editSettingSlice.actions,getSelectedNoteTool=tt=>tt.editorSetting.notes.selectedTool,getSelectionMode=tt=>tt.editorSetting.notes.selectionMode,getDefaultObstacleDuration=tt=>tt.editorSetting.notes.defaultObstacleDuration,getSelectedCutDirection=tt=>tt.editorSetting.notes.selectedDirection,getGridPresets=tt=>tt.editorSetting.notes.gridPresets,getNoteMode=tt=>tt.editorSetting.notes.mode,getNoteRingDirection=tt=>tt.editorSetting.notes.ringDirection,getSelectedEventBeat=tt=>tt.editorSetting.events.selectedBeat,getShowLightingPreview=tt=>tt.editorSetting.events.showLightingPreview,getRowHeight=tt=>tt.editorSetting.events.rowHeight,getBackgroundOpacity=tt=>tt.editorSetting.events.backgroundOpacity,getEventSelectedEditMode=tt=>tt.editorSetting.events.selectedEditMode,getSelectedEventColor=tt=>tt.editorSetting.events.selectedColor,getEventAreLasersLocked=tt=>tt.editorSetting.events.areLasersLocked,getZoomLevel=tt=>tt.editorSetting.events.zoomLevel,getIsLockedToCurrentWindow=tt=>tt.editorSetting.events.isLockedToCurrentWindow,getSelectedEventTool=tt=>tt.editorSetting.events.selectedTool,getSelectionBox=tt=>tt.editorSetting.events.selectionBox,getFootRingTolerance=tt=>tt.editorSetting.events.footRingTolerance,getErrorCheckerOpen=tt=>tt.editorSetting.notes.errorCheckerOpen,getBeatsPerZoomLevel=tt=>{const et=getZoomLevel(tt);return EVENT_ZOOM_LEVEL[et]||0},getZoomLevelStartBeat=createSelector(getCursorPositionInBeats,getBeatsPerZoomLevel,(tt,et)=>floorToNearest(tt,et)),getZoomLevelEndBeat=createSelector(getZoomLevelStartBeat,getBeatsPerZoomLevel,(tt,et)=>tt+et),getStartAndEndBeat=createSelector(getZoomLevelStartBeat,getZoomLevelEndBeat,(tt,et)=>({startBeat:tt,endBeat:et})),getIsStandardNoteMode=createSelector(getNoteMode,tt=>tt===NOTE_MODE.STANDARD),editReducer=editSettingSlice.reducer,getBeatNumForItem=tt=>{if(isNumber$9(tt._time))return tt._time;if(isNumber$9(tt.beatStart))return tt.beatStart;if(isNumber$9(tt.beatNum))return tt.beatNum;throw new Error("Could not determine time for event")};function isActionCopyPayload(tt){return tt.type===CUT_SELECTION||tt.type===COPY_SELECTION}const scrapbookSlice=createSlice({name:"scrapbook",initialState:{view:null,data:null},reducers:{},extraReducers:tt=>{tt.addMatcher(isActionCopyPayload,(et,rt)=>{const{view:nt,selection:it}=rt.payload,ot=[...it].sort((at,st)=>{const lt=getBeatNumForItem(at),ct=getBeatNumForItem(st);return lt-ct});et.view=nt,et.data=ot})}}),getHasCopiedNotes=tt=>tt.scrapbook.data&&tt.scrapbook.view===VIEW_TYPE.NOTES,getCopiedData=tt=>tt.scrapbook.data,clipboardReducer=scrapbookSlice.reducer;class DurationNoteFeature{constructor(){wn(this,"creatingDurationNote",null)}startDurationNote(et){this.creatingDurationNote=et}getActualDuration(et,rt,nt){let it=et-rt;return it<=0&&(it=nt),it}getResizeCreatedObstacle(et){if(!this.creatingDurationNote)return null;let rt=this.getActualDuration(et,this.creatingDurationNote.beatStart,EDITOR_DURATION.MIN_OBSTACLE);return this.creatingDurationNote.beatDuration===rt?null:(this.creatingDurationNote={...this.creatingDurationNote,beatDuration:rt},{obstacle:this.creatingDurationNote,newDuration:rt})}getResizeLongNote(et){if(!this.creatingDurationNote)return null;let rt=this.getActualDuration(et,this.creatingDurationNote._time,EDITOR_DURATION.MIN_LONG_NOTE);return this.creatingDurationNote._duration===rt?null:(this.creatingDurationNote={...this.creatingDurationNote,_duration:rt},rt)}stopDurationNote(){this.creatingDurationNote=null}}const durationNoteFeature=new DurationNoteFeature,clickPlacementGridPayload=({rowIndex:tt,colIndex:et,ringNoteType:rt})=>(nt,it)=>{const ot=it(),at=getSelectedCutDirection(ot),st=getSelectedNoteTool(ot),lt=getCursorPositionInBeats(ot),ct=getNoteRingDirection(ot),ut=getIsStandardNoteMode(ot),dt=adjustNoteCursorPosition(lt,ot);let ft,pt;return ut?ft=at:(ft=isRingNoteFooterType(rt)?null:ringModeToDirection(tt,et,ct),isRingNoteFooterLongType(rt)&&(pt=EDITOR_DURATION.MIN_LONG_NOTE)),nt({type:CLICK_PLACEMENT_GRID,payload:{rowIndex:tt,colIndex:et,cursorPositionInBeats:dt,selectedDirection:ft,selectedTool:st,ringNoteType:rt,duration:pt}})},pasteSelectionPayload=tt=>(et,rt)=>{const nt=rt(),it=getCopiedData(nt);if(!it)return;const ot=tt===VIEW_TYPE.NOTES?getCursorPositionInBeats(nt):getSelectedEventBeat(nt),at=buildRandomNum(),st=it.map(lt=>{let ct={...lt,id:buildUUID()};return lt._groupId&&(ct._groupId=lt._groupId+at),ct});return et({type:PASTE_SELECTION,payload:{view:tt,data:st,pasteAtBeat:ot}})},clearCellOfNotesAction=tt=>(et,rt)=>{const nt=rt(),it=getCursorPositionInBeats(nt);return et({type:CLEAR_CELL_OF_NOTES,payload:{...tt,cursorPositionInBeats:it}})},setBlockByDraggingAction=tt=>(et,rt)=>{const nt=rt(),it=getSelectedNoteTool(nt),ot=getCursorPositionInBeats(nt),at=adjustNoteCursorPosition(ot,nt);return et({type:SET_BLOCK_BY_DRAGGING,payload:{direction:tt==null?void 0:tt.direction,rowIndex:tt.rowIndex,colIndex:tt.colIndex,cursorPositionInBeats:at,selectedTool:it}})},createNewObstacleAction=tt=>(et,rt)=>{const nt=rt(),it=getCursorPositionInBeats(nt),ot=roundAwayFloatingPointNonsense(it);return et({type:CREATE_NEW_OBSTACLE,payload:{...tt,beatStart:ot}})},undoNotesPayLoad=()=>tt=>(durationNoteFeature.creatingDurationNote=null,tt({type:UNDO_NOTES})),redoNotesPayLoad=()=>({type:REDO_NOTES}),undoEventsPayLoad=()=>({type:UNDO_EVENTS}),redoEventsPayLoad=()=>({type:REDO_EVENTS}),deselectAllOfTag=createAction(DESELECT_ALL_OF_TAG),deselectOrSelectNoteOfIds=createAction(DESELECT_OR_SELECT_NOTE_OF_IDS),toggleNoteColor=createAction(TOGGLE_NOTE_COLOR);createAction(CLICK_NOTE);createAction(MOUSE_OVER_NOTE);const setBlockByDragging=createAction(SET_BLOCK_BY_DRAGGING),clearCellOfNotes=createAction(CLEAR_CELL_OF_NOTES),clickPlacementGrid=createAction(CLICK_PLACEMENT_GRID),setEditorNotes=createAction(SET_EDITOR_NOTES),deleteNote=createAction(DELETE_NOTE);createAction(BULK_DELETE_NOTE);const selectNote=createAction(SELECT_NOTE);createAction(SELECT_NOTE_FOR_IDS);const mouseDownNote=createAction(MOUSE_DOWN_NOTE),mouseUpNote=createAction(MOUSE_UP_NOTE),setSelectBlockDirection=createAction(SET_SELECT_BLOCK_DIRECTION),setCheckErrorNotes=createAction(SET_CHECK_ERROR_NOTES),clearCheckErrorNotes=createAction(CLEAR_CHECK_ERROR_NOTES),setBlockDirection=createAction(SET_BLOCK_DIRECTION),resizeLongNote=createAction(RESIZE_LONG_NOTE),stopCreatedLongNote=createAction(STOP_CREATED_LONG_NOTE),creatGroupNote=createAction(CREAT_GROUP_NOTE),mergeGroupNote=createAction(MERGE_GROUP_NOTE),removeGroupNote=createAction(REMOVE_GROUP_NOTE),unpackGroupNote=createAction(UNPACK_GROUP_NOTE),setHandGroupNote=createAction(SET_HAND_GROUP_NOTE),verifyGroupNotes=createAction(VERIFY_GROUP_NOTES),setEditorObstacles=createAction(SET_EDITOR_OBSTACLES),deleteObstacle=createAction(DELETE_OBSTACLE),resizeObstacle=createAction(RESIZE_OBSTACLE),selectObstacle=createAction(SELECT_OBSTACLE),deselectObstacle=createAction(DESELECT_OBSTACLE),createNewObstacle=createAction(CREATE_NEW_OBSTACLE),resizeSelectedObstacles=createAction(RESIZE_SELECTED_OBSTACLES),toggleFastWallsForSelectedObstacles=createAction(TOGGLE_FAST_WALLS_FOR_SELECTED_OBSTACLES),resizeCreatedObstacles=createAction(RESIZE_CREATED_OBSTACLES),stopCreatedObstacles=createAction(STOP_CREATED_OBSTACLES),toggleObstacleColor=createAction(TOGGLE_OBSTACLE_COLOR),setEditorEvents=createAction(SET_EDITOR_EVENTS),placeEvent=createAction(PLACE_EVENT),commitSelection=createAction(COMMIT_SELECTION),deleteEvent=createAction(DELETE_EVENT),bulkDeleteEvent=createAction(BULK_DELETE_EVENT),switchEventColor=createAction(SWITCH_EVENT_COLOR),selectEvent=createAction(SELECT_EVENT),setLaserSpeed=createAction(SET_LASER_SPEED),deleteSelectedEvents=createAction(DELETE_SELECTED_EVENTS),drawSelectionBox=createAction(DRAW_SELECTION_BOX),selectEventAll=createAction(SELECT_EVENT_ALL),swapSelectedNotes=createAction(SWAP_SELECTED_NOTES),nudgeSelection=createAction(NUDGE_SELECTION),deselectAll=createAction(DESELECT_ALL),cutSelection=createAction(CUT_SELECTION),copySelection=createAction(COPY_SELECTION),pasteSelection=createAction(PASTE_SELECTION),selectNoteAll=createAction(SELECT_NOTE_ALL),deleteSelectedNotes=createAction(DELETE_SELECTED_NOTES),deleteNotes=createAction(DELETE_NOTES);createAction(SET_DEL_NOTE_IDS);createAction(FILTER_DEL_NOTE_IDS);createAction(SHIFT_DEL_NOTE_IDS);const deleteNoteOrObsFormType=createAction(DELETE_NOTE_OR_OBS_FORM_TYPE),findIndexForNewEvent=(tt,et)=>{let rt=0,nt=!1;for(let it=et.length-1;it>=0;it--){const ot=et[it];if(ot.beatNum===tt){nt=!0,rt=it;break}if(ot.beatNum<tt){rt=it+1;break}}return[rt,nt]},findIndexInfoForNewEvent=(tt,et)=>{const[rt,nt]=findIndexForNewEvent(tt,et);return[rt,nt?1:0]},getSymmetricalId=tt=>`${tt}-mirrored`,deselectAllFn=tt=>(Object.keys(tt.tracks).forEach(rt=>{tt.tracks[rt].forEach(nt=>{nt.selected=!1})}),tt),createInitialState=()=>({tracks:EVENT_PATHWAY.reduce((tt,et)=>(tt[et.id]=[],tt),{})}),events=createReducer(createInitialState(),tt=>{tt.addCase(setEditorEvents,(et,rt)=>{const nt=rt.payload,it=[];nt.forEach(ot=>{it.some(st=>st.trackId===ot.trackId&&st.beatNum===ot.beatNum)||it.push(ot)}),it.forEach(ot=>{et.tracks.hasOwnProperty(ot.trackId)&&et.tracks[ot.trackId].push(ot)})}).addCase(placeEvent,(et,rt)=>{const{trackId:nt,beatNum:it,type:ot,colorType:at,areLasersLocked:st}=rt.payload,lt={id:buildUUID(),trackId:nt,beatNum:it,type:ot};if(!nt)return et;LIGHT_EVENT_ARR.includes(nt)&&(lt.colorType=at);const ct=et.tracks[nt],[ut,dt]=findIndexForNewEvent(it,ct);if(dt)return et;if(et.tracks[nt].splice(ut,0,lt),st&&nt===TRACK_ID_KEY.LEFT_LIGHT){const ft=TRACK_ID_KEY.RIGHT_LIGHT,pt={...lt,id:getSymmetricalId(lt.id),trackId:ft},mt=et.tracks[ft],[ht,gt]=findIndexForNewEvent(it,mt);if(gt)return;et.tracks[ft].splice(ht,0,pt)}}).addCase(drawSelectionBox,(et,rt)=>{const{selectionBoxInBeats:nt,metadata:it}=rt.payload;Object.keys(et.tracks).forEach(at=>{const st=EVENT_PATHWAY.findIndex(ct=>ct.id===at),lt=st>=nt.startTrackIndex&&st<=nt.endTrackIndex;et.tracks[at].forEach(ct=>{if(!(ct.beatNum>=it.startBeat&&ct.beatNum<=it.endBeat))return;lt&&ct.beatNum>=nt.startBeat&&ct.beatNum<=nt.endBeat?ct.selected="tentative":ct.selected==="tentative"&&(ct.selected=!1)})})}).addCase(commitSelection,et=>{Object.keys(et.tracks).forEach(nt=>{et.tracks[nt].forEach(it=>{it.selected==="tentative"&&(it.selected=!0)})})}).addCase(selectEvent,(et,rt)=>{const{id:nt,trackId:it,selected:ot}=rt.payload;if(!it)return et;const at=et.tracks[it].findIndex(st=>st.id===nt);et.tracks[it][at].selected=!ot}).addCase(switchEventColor,(et,rt)=>{const{id:nt,trackId:it}=rt.payload;if(!it)return et;const ot=et.tracks[it].findIndex(st=>st.id===nt),at=et.tracks[it][ot];at.colorType=at.colorType==="blue"?"red":"blue"}).addCase(setLaserSpeed,(et,rt)=>{const{trackId:nt,beatNum:it,laserSpeed:ot,areLasersLocked:at}=rt.payload,lt={id:buildUUID(),trackId:nt,beatNum:it,laserSpeed:ot};if(!nt)return et;const ct=et.tracks[nt],[ut,dt]=findIndexInfoForNewEvent(it,ct);if(et.tracks[nt].splice(ut,dt,lt),at&&nt===TRACK_ID_KEY.LEFT_LIGHT_SPEED){const ft=TRACK_ID_KEY.RIGHT_LIGHT_SPEED,pt={...lt,id:getSymmetricalId(lt.id),trackId:ft},mt=et.tracks[ft],[ht,gt]=findIndexInfoForNewEvent(it,mt);et.tracks[ft].splice(ht,gt,pt)}}).addCase(cutSelection,(et,rt)=>{const{view:nt}=rt.payload;if(nt!==VIEW_TYPE.EVENTS)return et;Object.keys(et.tracks).forEach(ot=>{et.tracks[ot]=et.tracks[ot].filter(at=>!at.selected)})}).addCase(pasteSelection,(et,rt)=>{const{view:nt,data:it,pasteAtBeat:ot}=rt.payload;if(nt!==VIEW_TYPE.EVENTS)return et;deselectAllFn(et);const at=it[0].beatNum,st=ot-at;it.map(ct=>({...ct,selected:!0,beatNum:ct.beatNum+st,id:getSymmetricalId(ct.id)})).forEach(ct=>{et.tracks[ct.trackId].push(ct)})}).addCase(deleteSelectedEvents,et=>{Object.keys(et.tracks).forEach(nt=>{et.tracks[nt]=et.tracks[nt].filter(it=>!it.selected)})}).addCase(deselectAll,(et,rt)=>{if(rt.payload!==VIEW_TYPE.EVENTS)return et;deselectAllFn(et)}).addCase(selectEventAll,(et,rt)=>{const{startBeat:nt,endBeat:it}=rt.payload;Object.keys(et.tracks).forEach(at=>{et.tracks[at].forEach(st=>{const lt=st.beatNum>=nt&&st.beatNum<it;st.selected=lt})})}).addCase(nudgeSelection,(et,rt)=>{const{view:nt,direction:it,snapTo:ot}=rt.payload;if(nt!==VIEW_TYPE.EVENTS)return et;Object.keys(et.tracks).forEach(st=>{nudgeEvents(it,ot,et.tracks[st])})}).addMatcher(et=>[BULK_DELETE_EVENT,DELETE_EVENT].includes(et.type),(et,rt)=>{const{id:nt,trackId:it,areLasersLocked:ot}=rt.payload;et.tracks[it]=et.tracks[it].filter(st=>st.id!==nt);const at=[TRACK_ID_KEY.LEFT_LIGHT,TRACK_ID_KEY.LEFT_LIGHT_SPEED];if(ot&&at.includes(it)){const st=it.replace("left","right");et.tracks[st]=et.tracks[st].filter(lt=>lt.id!==getSymmetricalId(nt))}}).addMatcher(et=>[`songs/${START_LOADING_SONG}`,`songs/${CREATE_NEW_SONG}`].includes(et.type),()=>createInitialState())}),getTracks=tt=>tt.editorElement.eventsView.present.tracks,getAllEventsAsArray=createSelector(getTracks,tt=>flatten$2(Object.values(tt)).sort((rt,nt)=>rt.beatNum-nt.beatNum)),filterEventsBeforeBeat=(tt,et,rt)=>tt[et].filter(nt=>nt.beatNum<rt),makeGetEventsForTrack=tt=>createSelector(getStartAndEndBeat,getTracks,({startBeat:et,endBeat:rt},nt)=>nt[tt].filter(it=>it.beatNum>=et&&it.beatNum<rt)),makeGetInitialTrackLightingColorType=tt=>createSelector(getStartAndEndBeat,getTracks,({startBeat:et},rt)=>{const nt=filterEventsBeforeBeat(rt,tt,et),it=nt[nt.length-1];return it&&(it.type===EVENT_TOOLS.ON||it.type===EVENT_TOOLS.FLASH)?it.colorType:null}),getTrackSpeedAtBeat=(tt,et,rt)=>{const nt=getTracks(tt),it=filterEventsBeforeBeat(nt,et,rt).reverse();return it.length?it[0].laserSpeed:0},getSelectedEvents=tt=>getAllEventsAsArray(tt).filter(rt=>rt.selected),updateModColorOrOverdrive=(tt,et,rt,nt)=>{let it="";nt==="color"?it=et:it=`${et}Overdrive`,tt.modSettings.customColors||(tt.modSettings.customColors=DEFAULT_MOD_SETTINGS.customColors),tt.modSettings.customColors[it]=rt},getDifficultiesByIdData=(tt,et)=>{let rt={id:tt,noteJumpSpeed:getDifficultyNoteJumpSpeeds(tt),calories:DEFAULT_CALORIE[tt],startBeatOffset:0,customLabel:""};return getIsRingEditMode(et)&&Object.assign(rt,{ringNoteJumpSpeed:getDifficultyNoteJumpSpeeds(tt),ringNoteStartBeatOffset:0}),rt},DEFAULT_MOD_SETTINGS={customColors:{isEnabled:!1,colorLeft:DEFAULT_RED,colorLeftOverdrive:0,colorRight:DEFAULT_BLUE,colorRightOverdrive:0,envColorLeft:EVENT_COLOR1,envColorLeftOverdrive:0,envColorRight:EVENT_COLOR2,envColorRightOverdrive:0,obstacleColor:DEFAULT_RED,obstacleColorOverdrive:0,obstacle2Color:DEFAULT_PURPLE,obstacleColorOverdrive2:0},mappingExtensions:{isEnabled:!1,...DEFAULT_GRID}},songsSlice=createSlice({name:"songs",initialState:{byId:{},selectedId:null,loading:!1},reducers:{createNewSong:(tt,et)=>{const{mode:rt,coverArtFilename:nt,songFilename:it,songDuration:ot,songId:at,officialId:st,name:lt,subName:ct,artistName:ut,bpm:dt,offset:ft,selectedDifficulty:pt,mapAuthorName:mt,createdAt:ht,lastOpenedAt:gt}=et.payload;tt.selectedId=at;const vt=getDifficultKey(rt);tt.byId[at]={id:at,officialId:st||"",name:lt,subName:ct,artistName:ut,bpm:dt,offset:ft,previewStartTime:12,previewDuration:10,songFilename:it,songDuration:ot,coverArtFilename:nt,environment:"DefaultEnvironment",mapAuthorName:mt,createdAt:ht,lastOpenedAt:gt,selectedDifficulty:pt,modSettings:DEFAULT_MOD_SETTINGS,[vt]:{[pt]:getDifficultiesByIdData(pt,rt)}}},updateSongDetail:(tt,et)=>{const{songId:rt,...nt}=et.payload;tt.byId[rt]={...tt.byId[rt],...nt}},saveBeatMapDifficult:(tt,et)=>{const{songId:rt,mode:nt,...it}=et.payload,ot=getDifficultKey(nt);tt.byId[rt][ot][it.id]={...it}},copyBeatMapDifficult:(tt,et)=>{const{songId:rt,fromDifficultyId:nt,toDifficultyId:it,difficultKey:ot}=et.payload,at=tt.byId[rt],st={...at[ot][nt],id:it};at[ot][it]=st},deleteBeatMapDifficult:(tt,et)=>{const{songId:rt,id:nt,difficultKey:it}=et.payload;delete tt.byId[rt][it][nt]},updateModColor:(tt,et)=>{const{songId:rt,elementId:nt,value:it}=et.payload,ot=tt.byId[rt];updateModColorOrOverdrive(ot,nt,it,"color")},updateModOverdrive:(tt,et)=>{const{songId:rt,elementId:nt,value:it}=et.payload,ot=tt.byId[rt];updateModColorOrOverdrive(ot,nt,it,"overdrive")},toggleModForSong:(tt,et)=>{const{songId:rt,mod:nt}=et.payload,it=tt.byId[rt];if(!it)return;(!it.modSettings||isEmpty$6(it.modSettings))&&(it.modSettings=DEFAULT_MOD_SETTINGS),it.modSettings[nt]||(it.modSettings[nt]=DEFAULT_MOD_SETTINGS[nt]);const ot=get$a(it,`modSettings.${nt}.isEnabled`);it.modSettings[nt].isEnabled=!ot},togglePropertyForSelectedSong:(tt,et)=>{const{songId:rt,property:nt}=et.payload,it=tt.byId[rt];it&&(it[nt]=!it[nt])},changeSelectedDifficulty:(tt,et)=>{const{songId:rt,difficulty:nt}=et.payload,it=tt.byId[rt];it.selectedDifficulty=nt},deleteSong:(tt,et)=>{const{songId:rt}=et.payload;delete tt.byId[rt]},startImportingSong:tt=>{tt.loading=!0},cancelImportingSong:tt=>{tt.loading=!1},importExistingSong:(tt,et)=>{const{songId:rt,officialId:nt,songFilename:it,songDuration:ot,coverArtFilename:at,name:st,subName:lt,artistName:ct,mapAuthorName:ut,bpm:dt,offset:ft,swingAmount:pt,swingPeriod:mt,previewStartTime:ht,previewDuration:gt,environment:vt,difficultyFilesObj:yt,demo:bt,modSettings:xt={},enabledFastWalls:$t=!1,enabledLightshow:Tt=!1}=et.payload,wt=Object.keys(Object.values(yt)[0])[0];tt.byId[rt]={id:rt,officialId:nt,name:st,subName:lt,artistName:ct,mapAuthorName:ut,bpm:dt,offset:ft,swingAmount:pt,swingPeriod:mt,previewStartTime:ht,previewDuration:gt,songFilename:it,songDuration:ot,coverArtFilename:at,environment:vt,selectedDifficulty:wt,...yt,createdAt:Date.now(),lastOpenedAt:Date.now(),demo:bt,modSettings:xt,enabledFastWalls:$t,enabledLightshow:Tt}},startLoadingSong:(tt,et)=>{const{songId:rt,difficulty:nt}=et.payload;tt.selectedId=rt,tt.byId[rt].selectedDifficulty=nt},finishLoadSong:(tt,et)=>{const{song:rt}=et.payload,{byId:nt}=tt;let it=nt[rt.id];it.lastOpenedAt=Date.now()},setDifficulty:(tt,et)=>{const{difficulty:rt,difficultKey:nt,mode:it}=et.payload,ot=tt.selectedId;if(!ot)return tt;const at=tt.byId[ot];at.selectedDifficulty=rt,set$9(at,`${nt}.${rt}`,getDifficultiesByIdData(rt,it))},resetGrid:tt=>{const et=tt.selectedId;if(!et)return tt;const rt=tt.byId[et];rt.modSettings.mappingExtensions={...rt.modSettings.mappingExtensions,...DEFAULT_GRID}},updateGrid:(tt,et)=>{const{numRows:rt,numCols:nt,colWidth:it,rowHeight:ot}=et.payload,at=tt.selectedId;if(!at)return tt;const st=tt.byId[at];(!st.modSettings||!st.modSettings.mappingExtensions)&&(st.modSettings.mappingExtensions=DEFAULT_MOD_SETTINGS.mappingExtensions),st.modSettings.mappingExtensions.numRows=rt,st.modSettings.mappingExtensions.numCols=nt,st.modSettings.mappingExtensions.colWidth=it,st.modSettings.mappingExtensions.rowHeight=ot},loadGridPreset:(tt,et)=>{const{grid:rt}=et.payload,nt=tt.selectedId;if(!nt)return tt;const it=tt.byId[nt];it.modSettings.mappingExtensions={...it.modSettings.mappingExtensions,...rt}},clearAllSongData:tt=>{tt.loading=!1,tt.selectedId=null,tt.byId={}}},extraReducers:tt=>{tt.addCase(leaveEditorAction,et=>{et&&(et.selectedId=null)})}}),{createNewSong,updateSongDetail,copyBeatMapDifficult,saveBeatMapDifficult,deleteBeatMapDifficult,updateModColor,updateModOverdrive,toggleModForSong,togglePropertyForSelectedSong,changeSelectedDifficulty,deleteSong,startImportingSong,cancelImportingSong,importExistingSong,startLoadingSong,finishLoadSong,setDifficulty:setDifficulty$1,resetGrid,updateGrid,loadGridPreset,clearAllSongData}=songsSlice.actions,createDifficulty=(tt,et)=>async(rt,nt)=>{const it=nt(),ot=getSelectedSong(it);if(!ot)return;const at=convertEventsToExportableJson(getAllEventsAsArray(it)),st=createAndFilterBeatmapContents({notes:[],obstacles:[],events:at,bookmarks:[]},{version:2}),lt=getFilenameForThing(ot.id,BEAT_MAP,{difficulty:tt,mode:et}),ct=getDifficultKey(et);await saveFile(lt,st),rt(setDifficulty$1({difficulty:tt,difficultKey:ct,mode:et}))},copyBeatMapDiffDispatch=tt=>async(et,rt)=>{const{songId:nt,fromDifficultyId:it,toDifficultyId:ot}=tt,at=rt(),st=getNoteMode(at),lt=getDifficultKey(st),ct=await getBeatmap(nt,it,st);await saveBeatmap(nt,ot,ct,st),et(copyBeatMapDifficult({...tt,difficultKey:lt}));const ut=getSongById(at,nt);await saveInfoDat(ut.id,await createInfoContent(ut,{version:2}))},deleteBeatMapDiffDispatch=tt=>async(et,rt)=>{const nt=rt(),it=getNoteMode(nt),{songId:ot,id:at}=tt,st=getDifficultKey(it),lt=getFilenameForThing(ot,BEAT_MAP,{difficulty:at,mode:it});await deleteFile(lt),et(deleteBeatMapDifficult({...tt,difficultKey:st}))},getById=tt=>tt.songs.byId,getLoadingSong=tt=>tt.songs.loading,getAllSongIds=tt=>Object.keys(tt.songs.byId),getSelectedSongId=tt=>tt.songs.selectedId,getSelectedSong=tt=>{const et=getById(tt),rt=getSelectedSongId(tt);return rt?et[rt]:null},getAllSongs=tt=>Object.values(tt.songs.byId),getAllSongsChronologically=tt=>getAllSongs(tt).sort((et,rt)=>et.lastOpenedAt>rt.lastOpenedAt?-1:1),getSongById=(tt,et)=>getById(tt)[et],getGridSize=tt=>{const et=getSelectedSong(tt),rt=get$a(et,"modSettings.mappingExtensions"),nt=isBoolean$8(rt)||!rt,it=get$a(rt,"isEnabled")===!1;return nt||it?DEFAULT_GRID:{numRows:rt.numRows,numCols:rt.numCols,colWidth:rt.colWidth||DEFAULT_COL_WIDTH,rowHeight:rt.rowHeight||DEFAULT_ROW_HEIGHT}},getSelectedSongDifficultyIds=createSelector(getSelectedSong,getNoteMode,(tt,et)=>{if(tt){const rt=getDifficultKey(et),nt=tt[rt]||"",it=Object.keys(nt);return sortDifficultyIds(it)}else return[]}),getEnabledMods=createSelector(getSelectedSong,tt=>({mappingExtensions:!!get$a(tt,"modSettings.mappingExtensions.isEnabled"),customColors:!!get$a(tt,"modSettings.customColors.isEnabled")})),getMappingMode=createSelector(getEnabledMods,tt=>tt.mappingExtensions?MAPPING_EXTENSIONS:"original");createSelector(getSelectedSong,tt=>tt==null?void 0:tt.enabledFastWalls);const getOffsetInBeats=createSelector(getSelectedSong,tt=>convertMillisecondsToBeats(tt==null?void 0:tt.offset,tt==null?void 0:tt.bpm)),songsReducer=songsSlice.reducer,DEFAULT_PROCESSING_DELAY=60,userSlice=createSlice({name:"user",initialState:{stickyMapAuthorName:null,processingDelay:DEFAULT_PROCESSING_DELAY,graphicsLevel:GRAPHICS_LEVEL.MEDIUM,userInfo:null,isLogin:!1},reducers:{adjustMapAuthorname:(tt,et)=>{tt.stickyMapAuthorName=et.payload},updateGraphicsLevel:(tt,et)=>{tt.graphicsLevel=et.payload},updateProcessingDelay:(tt,et)=>{tt.processingDelay=et.payload},setUserInfo:(tt,et)=>{tt.userInfo=et.payload},setIsLogin:(tt,et)=>{tt.isLogin=et.payload},logoutAction:tt=>{tt.isLogin=!1,tt.userInfo=null}}}),{adjustMapAuthorname,updateGraphicsLevel,updateProcessingDelay,setUserInfo,setIsLogin,logoutAction}=userSlice.actions,getGraphicsLevel=tt=>isString$b(tt.user.graphicsLevel)?tt.user.graphicsLevel:GRAPHICS_LEVEL.LOW,getStickyMapAuthorName=tt=>tt.user.stickyMapAuthorName,getProcessingDelay=tt=>isNumber$9(tt.user.processingDelay)?tt.user.processingDelay:DEFAULT_PROCESSING_DELAY,getUsableProcessingDelay=createSelector(getProcessingDelay,getIsPlaying,(tt,et)=>et?tt:0),getUserInfo=tt=>tt.user.userInfo,getIsLogin=tt=>tt.user.isLogin,userReducer=userSlice.reducer,initialState$5={},bookmarksSlice=createSlice({name:"marks",initialState:initialState$5,reducers:{setEditorBookmarks:(tt,et)=>{et.payload.forEach(nt=>{tt[nt.beatNum]=nt})},deleteBookmark:(tt,et)=>{delete tt[et.payload]},createBookmark:(tt,et)=>{const rt=et.payload;tt[rt.beatNum]={beatNum:rt.beatNum,name:rt.name,color:rt.color}}},extraReducers:tt=>{tt.addMatcher(et=>[LEAVE_EDITOR,START_LOADING_SONG,CREATE_NEW_SONG].includes(et.type),()=>initialState$5)}}),{setEditorBookmarks,deleteBookmark,createBookmark}=bookmarksSlice.actions,createBookmarkAction=({color:tt,name:et,view:rt})=>(nt,it)=>{const ot=it(),at=getCursorPositionInBeats(ot),st=getSelectedEventBeat(ot),lt=rt===VIEW_TYPE.NOTES?at:st;nt({type:`${bookmarksSlice.name}/createBookmark`,payload:{beatNum:lt,color:tt,name:et}})},getBookmarks=tt=>tt.marks,getSortedBookmarksArray=createSelector(getBookmarks,tt=>Object.values(tt).sort((rt,nt)=>rt.beatNum-nt.beatNum)),bookmarksReducer=bookmarksSlice.reducer,initialState$4={data:null,zoomAmount:0,zoomCursorPosition:null},waveformSlice=createSlice({name:"waveform",initialState:initialState$4,reducers:{setWaveformData:(tt,et)=>{tt.data=et.payload,tt.zoomAmount=0,tt.zoomCursorPosition=null}},extraReducers:tt=>{tt.addCase(leaveEditorAction,()=>initialState$4)}}),{setWaveformData}=waveformSlice.actions,getWaveformData=tt=>tt.waveform.data,waveformReducer=waveformSlice.reducer;var lib$2={},actions={};Object.defineProperty(actions,"__esModule",{value:!0});actions.ActionCreators=actions.ActionTypes=void 0;var ActionTypes={UNDO:"@@redux-undo/UNDO",REDO:"@@redux-undo/REDO",JUMP_TO_FUTURE:"@@redux-undo/JUMP_TO_FUTURE",JUMP_TO_PAST:"@@redux-undo/JUMP_TO_PAST",JUMP:"@@redux-undo/JUMP",CLEAR_HISTORY:"@@redux-undo/CLEAR_HISTORY"};actions.ActionTypes=ActionTypes;var ActionCreators={undo:function(){return{type:ActionTypes.UNDO}},redo:function(){return{type:ActionTypes.REDO}},jumpToFuture:function(et){return{type:ActionTypes.JUMP_TO_FUTURE,index:et}},jumpToPast:function(et){return{type:ActionTypes.JUMP_TO_PAST,index:et}},jump:function(et){return{type:ActionTypes.JUMP,index:et}},clearHistory:function(){return{type:ActionTypes.CLEAR_HISTORY}}};actions.ActionCreators=ActionCreators;var helpers={};Object.defineProperty(helpers,"__esModule",{value:!0});helpers.parseActions=parseActions;helpers.isHistory=isHistory;helpers.includeAction=includeAction;helpers.excludeAction=excludeAction;helpers.combineFilters=combineFilters;helpers.groupByActionTypes=groupByActionTypes;helpers.newHistory=newHistory;function parseActions(tt){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return Array.isArray(tt)?tt:typeof tt=="string"?[tt]:et}function isHistory(tt){return typeof tt.present<"u"&&typeof tt.future<"u"&&typeof tt.past<"u"&&Array.isArray(tt.future)&&Array.isArray(tt.past)}function includeAction(tt){var et=parseActions(tt);return function(rt){return et.indexOf(rt.type)>=0}}function excludeAction(tt){var et=parseActions(tt);return function(rt){return et.indexOf(rt.type)<0}}function combineFilters(){for(var tt=arguments.length,et=new Array(tt),rt=0;rt<tt;rt++)et[rt]=arguments[rt];return et.reduce(function(nt,it){return function(ot,at,st){return nt(ot,at,st)&&it(ot,at,st)}},function(){return!0})}function groupByActionTypes(tt){var et=parseActions(tt);return function(rt){return et.indexOf(rt.type)>=0?rt.type:null}}function newHistory(tt,et,rt){var nt=arguments.length>3&&arguments[3]!==void 0?arguments[3]:null;return{past:tt,present:et,future:rt,group:nt,_latestUnfiltered:et,index:tt.length,limit:tt.length+rt.length+1}}var reducer$1={},debug={};Object.defineProperty(debug,"__esModule",{value:!0});debug.set=set$7;debug.start=start$1;debug.end=end;debug.log=log;function _toConsumableArray$2(tt){return _arrayWithoutHoles$2(tt)||_iterableToArray$2(tt)||_nonIterableSpread$2()}function _nonIterableSpread$2(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function _iterableToArray$2(tt){if(Symbol.iterator in Object(tt)||Object.prototype.toString.call(tt)==="[object Arguments]")return Array.from(tt)}function _arrayWithoutHoles$2(tt){if(Array.isArray(tt)){for(var et=0,rt=new Array(tt.length);et<tt.length;et++)rt[et]=tt[et];return rt}}var __DEBUG__,displayBuffer,colors$2={prevState:"#9E9E9E",action:"#03A9F4",nextState:"#4CAF50"};function initBuffer(){displayBuffer={header:[],prev:[],action:[],next:[],msgs:[]}}function printBuffer(){var tt=displayBuffer,et=tt.header,rt=tt.prev,nt=tt.next,it=tt.action,ot=tt.msgs;if(console.group){var at,st,lt,ct,ut;(at=console).groupCollapsed.apply(at,_toConsumableArray$2(et)),(st=console).log.apply(st,_toConsumableArray$2(rt)),(lt=console).log.apply(lt,_toConsumableArray$2(it)),(ct=console).log.apply(ct,_toConsumableArray$2(nt)),(ut=console).log.apply(ut,_toConsumableArray$2(ot)),console.groupEnd()}else{var dt,ft,pt,mt,ht;(dt=console).log.apply(dt,_toConsumableArray$2(et)),(ft=console).log.apply(ft,_toConsumableArray$2(rt)),(pt=console).log.apply(pt,_toConsumableArray$2(it)),(mt=console).log.apply(mt,_toConsumableArray$2(nt)),(ht=console).log.apply(ht,_toConsumableArray$2(ot))}}function colorFormat(tt,et,rt){return["%c".concat(tt),"color: ".concat(et,"; font-weight: bold"),rt]}function start$1(tt,et){initBuffer(),__DEBUG__&&(console.group?(displayBuffer.header=["%credux-undo","font-style: italic","action",tt.type],displayBuffer.action=colorFormat("action",colors$2.action,tt),displayBuffer.prev=colorFormat("prev history",colors$2.prevState,et)):(displayBuffer.header=["redux-undo action",tt.type],displayBuffer.action=["action",tt],displayBuffer.prev=["prev history",et]))}function end(tt){__DEBUG__&&(console.group?displayBuffer.next=colorFormat("next history",colors$2.nextState,tt):displayBuffer.next=["next history",tt],printBuffer())}function log(){if(__DEBUG__){for(var tt=arguments.length,et=new Array(tt),rt=0;rt<tt;rt++)et[rt]=arguments[rt];displayBuffer.msgs=displayBuffer.msgs.concat([].concat(et,[`
`]))}}function set$7(tt){__DEBUG__=tt}(function(tt){function et($t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?et=function(wt){return typeof wt}:et=function(wt){return wt&&typeof Symbol=="function"&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt},et($t)}Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=xt;var rt=at(debug),nt=actions,it=helpers;function ot(){if(typeof WeakMap!="function")return null;var $t=new WeakMap;return ot=function(){return $t},$t}function at($t){if($t&&$t.__esModule)return $t;if($t===null||et($t)!=="object"&&typeof $t!="function")return{default:$t};var Tt=ot();if(Tt&&Tt.has($t))return Tt.get($t);var wt={},At=Object.defineProperty&&Object.getOwnPropertyDescriptor;for(var Rt in $t)if(Object.prototype.hasOwnProperty.call($t,Rt)){var It=At?Object.getOwnPropertyDescriptor($t,Rt):null;It&&(It.get||It.set)?Object.defineProperty(wt,Rt,It):wt[Rt]=$t[Rt]}return wt.default=$t,Tt&&Tt.set($t,wt),wt}function st($t,Tt){var wt=Object.keys($t);if(Object.getOwnPropertySymbols){var At=Object.getOwnPropertySymbols($t);Tt&&(At=At.filter(function(Rt){return Object.getOwnPropertyDescriptor($t,Rt).enumerable})),wt.push.apply(wt,At)}return wt}function lt($t){for(var Tt=1;Tt<arguments.length;Tt++){var wt=arguments[Tt]!=null?arguments[Tt]:{};Tt%2?st(Object(wt),!0).forEach(function(At){ct($t,At,wt[At])}):Object.getOwnPropertyDescriptors?Object.defineProperties($t,Object.getOwnPropertyDescriptors(wt)):st(Object(wt)).forEach(function(At){Object.defineProperty($t,At,Object.getOwnPropertyDescriptor(wt,At))})}return $t}function ct($t,Tt,wt){return Tt in $t?Object.defineProperty($t,Tt,{value:wt,enumerable:!0,configurable:!0,writable:!0}):$t[Tt]=wt,$t}function ut($t){return pt($t)||ft($t)||dt()}function dt(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function ft($t){if(Symbol.iterator in Object($t)||Object.prototype.toString.call($t)==="[object Arguments]")return Array.from($t)}function pt($t){if(Array.isArray($t)){for(var Tt=0,wt=new Array($t.length);Tt<$t.length;Tt++)wt[Tt]=$t[Tt];return wt}}function mt($t,Tt){var wt=(0,it.newHistory)([],$t,[]);return Tt&&(wt._latestUnfiltered=null),wt}function ht($t,Tt,wt,At){var Rt=$t.past.length+1;rt.log("inserting",Tt),rt.log("new free: ",wt-Rt);var It=$t.past,Lt=$t._latestUnfiltered,Pt=wt&&wt<=Rt,Nt=It.slice(Pt?1:0),Ot=Lt!=null?[].concat(ut(Nt),[Lt]):Nt;return(0,it.newHistory)(Ot,Tt,[],At)}function gt($t,Tt){if(Tt<0||Tt>=$t.future.length)return $t;var wt=$t.past,At=$t.future,Rt=$t._latestUnfiltered,It=[].concat(ut(wt),[Rt],ut(At.slice(0,Tt))),Lt=At[Tt],Pt=At.slice(Tt+1);return(0,it.newHistory)(It,Lt,Pt)}function vt($t,Tt){if(Tt<0||Tt>=$t.past.length)return $t;var wt=$t.past,At=$t.future,Rt=$t._latestUnfiltered,It=wt.slice(0,Tt),Lt=[].concat(ut(wt.slice(Tt+1)),[Rt],ut(At)),Pt=wt[Tt];return(0,it.newHistory)(It,Pt,Lt)}function yt($t,Tt){return Tt>0?gt($t,Tt-1):Tt<0?vt($t,$t.past.length+Tt):$t}function bt($t,Tt){return Tt.indexOf($t)>-1?$t:!$t}function xt($t){var Tt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rt.set(Tt.debug);var wt=lt({limit:void 0,filter:function(){return!0},groupBy:function(){return null},undoType:nt.ActionTypes.UNDO,redoType:nt.ActionTypes.REDO,jumpToPastType:nt.ActionTypes.JUMP_TO_PAST,jumpToFutureType:nt.ActionTypes.JUMP_TO_FUTURE,jumpType:nt.ActionTypes.JUMP,neverSkipReducer:!1,ignoreInitialState:!1,syncFilter:!1},Tt,{initTypes:(0,it.parseActions)(Tt.initTypes,["@@redux-undo/INIT"]),clearHistoryType:(0,it.parseActions)(Tt.clearHistoryType,[nt.ActionTypes.CLEAR_HISTORY])}),At=wt.neverSkipReducer?function(It,Lt){for(var Pt=arguments.length,Nt=new Array(Pt>2?Pt-2:0),Ot=2;Ot<Pt;Ot++)Nt[Ot-2]=arguments[Ot];return lt({},It,{present:$t.apply(void 0,[It.present,Lt].concat(Nt))})}:function(It){return It},Rt;return function(){var It=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Rt,Lt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};rt.start(Lt,It);for(var Pt=It,Nt=arguments.length,Ot=new Array(Nt>2?Nt-2:0),Bt=2;Bt<Nt;Bt++)Ot[Bt-2]=arguments[Bt];if(!Rt)if(rt.log("history is uninitialized"),It===void 0){var zt={type:"@@redux-undo/CREATE_HISTORY"},Vt=$t.apply(void 0,[It,zt].concat(Ot));return Pt=mt(Vt,wt.ignoreInitialState),rt.log("do not set initialState on probe actions"),rt.end(Pt),Pt}else(0,it.isHistory)(It)?(Pt=Rt=wt.ignoreInitialState?It:(0,it.newHistory)(It.past,It.present,It.future),rt.log("initialHistory initialized: initialState is a history",Rt)):(Pt=Rt=mt(It,wt.ignoreInitialState),rt.log("initialHistory initialized: initialState is not a history",Rt));var Ut;switch(Lt.type){case void 0:return Pt;case wt.undoType:return Ut=yt(Pt,-1),rt.log("perform undo"),rt.end(Ut),At.apply(void 0,[Ut,Lt].concat(Ot));case wt.redoType:return Ut=yt(Pt,1),rt.log("perform redo"),rt.end(Ut),At.apply(void 0,[Ut,Lt].concat(Ot));case wt.jumpToPastType:return Ut=vt(Pt,Lt.index),rt.log("perform jumpToPast to ".concat(Lt.index)),rt.end(Ut),At.apply(void 0,[Ut,Lt].concat(Ot));case wt.jumpToFutureType:return Ut=gt(Pt,Lt.index),rt.log("perform jumpToFuture to ".concat(Lt.index)),rt.end(Ut),At.apply(void 0,[Ut,Lt].concat(Ot));case wt.jumpType:return Ut=yt(Pt,Lt.index),rt.log("perform jump to ".concat(Lt.index)),rt.end(Ut),At.apply(void 0,[Ut,Lt].concat(Ot));case bt(Lt.type,wt.clearHistoryType):return Ut=mt(Pt.present,wt.ignoreInitialState),rt.log("perform clearHistory"),rt.end(Ut),At.apply(void 0,[Ut,Lt].concat(Ot));default:if(Ut=$t.apply(void 0,[Pt.present,Lt].concat(Ot)),wt.initTypes.some(function(Zt){return Zt===Lt.type}))return rt.log("reset history due to init action"),rt.end(Rt),Rt;if(Pt._latestUnfiltered===Ut)return Pt;var jt=typeof wt.filter=="function"&&!wt.filter(Lt,Ut,Pt);if(jt){var qt=(0,it.newHistory)(Pt.past,Ut,Pt.future,Pt.group);return wt.syncFilter||(qt._latestUnfiltered=Pt._latestUnfiltered),rt.log("filter ignored action, not storing it in past"),rt.end(qt),qt}var Dt=wt.groupBy(Lt,Ut,Pt);if(Dt!=null&&Dt===Pt.group){var Ft=(0,it.newHistory)(Pt.past,Ut,Pt.future,Pt.group);return rt.log("groupBy grouped the action with the previous action"),rt.end(Ft),Ft}return Pt=ht(Pt,Ut,wt.limit,Dt),rt.log("inserted new state into history"),rt.end(Pt),Pt}}}})(reducer$1);(function(tt){Object.defineProperty(tt,"__esModule",{value:!0}),Object.defineProperty(tt,"ActionTypes",{enumerable:!0,get:function(){return et.ActionTypes}}),Object.defineProperty(tt,"ActionCreators",{enumerable:!0,get:function(){return et.ActionCreators}}),Object.defineProperty(tt,"parseActions",{enumerable:!0,get:function(){return rt.parseActions}}),Object.defineProperty(tt,"isHistory",{enumerable:!0,get:function(){return rt.isHistory}}),Object.defineProperty(tt,"includeAction",{enumerable:!0,get:function(){return rt.includeAction}}),Object.defineProperty(tt,"excludeAction",{enumerable:!0,get:function(){return rt.excludeAction}}),Object.defineProperty(tt,"combineFilters",{enumerable:!0,get:function(){return rt.combineFilters}}),Object.defineProperty(tt,"groupByActionTypes",{enumerable:!0,get:function(){return rt.groupByActionTypes}}),Object.defineProperty(tt,"newHistory",{enumerable:!0,get:function(){return rt.newHistory}}),Object.defineProperty(tt,"default",{enumerable:!0,get:function(){return nt.default}});var et=actions,rt=helpers,nt=it(reducer$1);function it(ot){return ot&&ot.__esModule?ot:{default:ot}}})(lib$2);const undoable=getDefaultExportFromCjs(lib$2),notesIsExitNote=(tt,et)=>tt.some(rt=>rt._cutDirection===et._cutDirection&&rt._lineIndex===et._lineIndex&&rt._lineLayer===et._lineLayer&&rt._time===et._time&&rt._type===et._type),getHandNotesIds=tt=>tt.reduce((et,rt)=>rt._groupId&&!et.includes(rt._groupId)?[...et,rt._groupId]:et,[]),sortNoteToGroupAction=tt=>{const et=sortBy$1(tt,"_time",nt=>getRingModePositionValue(GROUP_RING_SORT,nt._lineLayer,nt._lineIndex));if(et.length<2)return;const rt=buildShortUUID();et.forEach((nt,it)=>{delete nt._groupNoteType&&delete nt._groupNoteType,delete nt._groupId&&delete nt._groupId,it===0&&(nt._groupNoteType=GROUP_NOTE_TYPE.HAND),it===et.length-1&&(nt._groupNoteType=GROUP_NOTE_TYPE.FOOT),nt._groupId=rt})},verifyGroupNotesAction=(tt,et=[],rt)=>{let nt=[];for(let it of et){const ot=tt.filter(at=>at._groupId===it);nt.push(ot)}nt.forEach(it=>{rt==null||rt(it)})},ungroupNotesForCommonFn=tt=>{tt.length<2&&tt.forEach(et=>{et._groupNoteType&&delete et._groupNoteType,et._groupId&&delete et._groupId})};class CheckNotes{constructor(){wn(this,"minTime");wn(this,"maxTime");wn(this,"currentNotes");wn(this,"errorNotes");this.minTime=.24,this.maxTime=1.5,this.currentNotes=[],this.errorNotes=[]}setMinTime(et){this.minTime=et}setMaxTime(et){this.maxTime=et}setCurrentNotes(et){this.currentNotes=et}filterTimes(et,rt){const it=et.filter(ot=>rt.includes(ot._type)).map(ot=>ot._time);return[...new Set(it.sort((ot,at)=>ot-at))]}inMinAndMaxTimes(et){let rt=[];for(let nt=0;nt<et.length-1;nt++)for(let it=nt+1;it<et.length;it++){const ot=Math.abs(et[it]-et[nt]);ot>=this.minTime&&ot<=this.maxTime&&rt.push([et[nt],et[it]])}return rt}isDoubleSameDuration(et,rt){return et._type===rt._type&&this.isSameDuration(et._cutDirection,rt._cutDirection)}isSameDuration(et,rt){if(et===NOTE_ARROW.CIRCLE||rt===NOTE_ARROW.CIRCLE)return!1;const nt=this.getRotate(et),it=this.getRotate(rt);return nt===null||it===null?!1:Math.abs(nt-it)<=45?!0:(nt===-180||it===-180)&&Math.abs(Math.abs(nt)-Math.abs(it))<=45}getRotate(et){const rt=NOTE_ARROW_ROTATE.filter(nt=>nt.value===et);return rt.length<1?null:rt[0].rotate}getSameDurationNotes(et,rt){for(let nt=0;nt<et.length;nt++){let it=et[nt];for(let ot=0;ot<rt.length;ot++){let at=rt[ot];this.isDoubleSameDuration(it,at)&&(this.isExitNote(at)||this.errorNotes.push(at))}}}checkDoubleSameDirections(et){this.clearErrorNotes(),this.setCurrentNotes(et);const rt=this.filterTimes(this.currentNotes,[getItemType(NOTE_TOOLS.BLOCK_1),getItemType(NOTE_TOOLS.BLOCK_2)]).sort((it,ot)=>it-ot),nt=this.inMinAndMaxTimes(rt);nt.length!=0&&(nt.forEach(it=>{const ot=this.currentNotes.filter(st=>st._time===it[0]),at=this.currentNotes.filter(st=>st._time===it[1]);this.getSameDurationNotes(ot,at)}),this.sortNotesTime(this.errorNotes))}checkVisionNotes(et,rt,nt){this.clearErrorNotes(),this.setCurrentNotes(et);let it=[getItemType(NOTE_TOOLS.BLOCK_1),getItemType(NOTE_TOOLS.BLOCK_2),getItemType(NOTE_TOOLS.MINE)];const ot=this.filterTimes(this.currentNotes,it),at=this.inMinAndMaxTimes(ot);at.length!=0&&(rt<2||nt<2||(at.forEach(st=>{const lt=this.currentNotes.filter(ut=>ut._time===st[0]),ct=this.currentNotes.filter(ut=>ut._time===st[1]);this.getVisionNotes(lt,ct,rt,nt)}),this.sortNotesTime(this.errorNotes)))}getVisionNotes(et,rt,nt,it){let ot=[];for(let at=0;at<et.length;at++){let st=et[at],lt=[];st._lineLayer===0||st._lineLayer===nt-1||(lt=this.getVisionSecNotes(st,rt,it),lt.length>0&&(ot=ot.concat(lt)))}ot.forEach(at=>{this.errorNotes.some(st=>st.id===at.id)||this.errorNotes.push(at)})}getVisionSecNotes(et,rt,nt){let it=nt/2,ot=nt%2;return ot===0&&et._lineIndex<it&&et._lineIndex>0?rt.filter(at=>at._lineIndex<it):ot===0&&et._lineIndex>=it&&et._lineIndex<nt-1?rt.filter(at=>at._lineIndex>=it):ot!==0&&et._lineIndex<Math.round(it)-1&&et._lineIndex>0?rt.filter(at=>at._lineIndex<Math.round(it)-1):ot!==0&&et._lineIndex==Math.round(it)-1?rt:ot!==0&&et._lineIndex>=Math.round(it)&&et._lineIndex<nt-1?rt.filter(at=>at._lineIndex>=Math.round(it)):[]}checkStackedNotes(et){this.clearErrorNotes(),this.setCurrentNotes(et);const rt=this.currentNotes;let nt=[];for(let it=0;it<rt.length-1;it++){let ot=rt[it];for(let at=it+1;at<rt.length;at++){let st=rt[at];this.isStackedNotes(ot,st),this.isStackedNotes(ot,st)&&(nt=nt.concat([ot,st]))}}this.errorNotes=this.errorNotes.concat(nt,this.footNotesOverlapLeftAndRight(et)),this.sortNotesTime(this.errorNotes)}isStackedNotes(et,rt){return et._lineIndex===rt._lineIndex&&et._lineLayer===rt._lineLayer&&et._time===rt._time}clearErrorNotes(){this.errorNotes=[]}previousErrorTime(et){var rt;return(rt=this.errorNotes.find(nt=>nt._time<et))==null?void 0:rt._time}nextErrorTime(et){let rt=et,nt=!0;return this.errorNotes.forEach(it=>{it._time>et&&nt&&(nt=!1,rt=it._time)}),rt}sortNotesTime(et){et.sort((rt,nt)=>rt._time-nt._time)}isExitNote(et){return this.errorNotes.some(rt=>rt.id===et.id)}sameSideHasNoteAndObs(et,rt,nt){this.clearErrorNotes();const it=nt/2;let ot=[];rt.forEach(at=>{let st=at.beatStart+at.beatDuration;et.forEach(lt=>{lt._time>=at.beatStart&&lt._time<=st&&(at.lane<it&&at.lane>=0&&lt._lineIndex<it&&lt._lineIndex>=0||at.lane>=it&&at.lane<=nt-1&&lt._lineIndex>=it&&lt._lineIndex<=nt-1)&&ot.push(lt)})}),this.errorNotes=ot}footNotesOverlapLeftAndRight(et){let rt=[];const nt=Math.ceil(FOOTER_NOTE_SIZE/FOOTER_CELL_WIDTH),it=et.filter(ot=>isRingNoteFooterType(ot._ringNoteType));return it.forEach(ot=>{it.filter(at=>{let st=ot._lineIndex+nt,lt=ot._lineIndex-nt;const ct=at._lineIndex<st&&at._lineIndex>ot._lineIndex||at._lineIndex>lt&&at._lineIndex<ot._lineIndex;(at._time>ot._time&&ot._time+(ot._duration||0)>at._time&&ct||at._time===ot._time&&ct)&&rt.push(at)})}),rt}checkGroupNote(et,rt){this.clearErrorNotes();let nt=[];verifyGroupNotesAction(et,rt,it=>{if(it.length<2)it.forEach(ot=>{nt.push(ot)});else{const ot=it.filter(st=>st._groupNoteType===GROUP_NOTE_TYPE.FOOT),at=it.filter(st=>st._groupNoteType===GROUP_NOTE_TYPE.HAND);(!ot.length||!at.length||ot.length>1||at.length>1)&&it.forEach(st=>{nt.push(st)})}}),this.errorNotes=nt}}const errorCheckerFeature=new CheckNotes;class NoteFeature{constructor(){wn(this,"mouseEnterNote",[]);wn(this,"mouseEnterNotesId",[])}setMouseEnterNote(et){this.mouseEnterNote.push(et)}isMouseEnterNote(){var et,rt;return Boolean((rt=(et=noteFeature==null?void 0:noteFeature.mouseEnterNote)==null?void 0:et[0])==null?void 0:rt.hasOwnProperty("_lineIndex"))}setMouseEnterNotesId(et){this.mouseEnterNotesId=et}getMouseEnterNotesIdLength(){return this.mouseEnterNotesId.length}shiftMouseEnterNotesId(){this.mouseEnterNotesId.splice(0,1)}filterMouseEnterNotesId(et){this.mouseEnterNotesId=this.mouseEnterNotesId.filter(rt=>rt!==et)}}const noteFeature=new NoteFeature,initialState$3={notes:[]},notes=createReducer(initialState$3.notes,tt=>{tt.addCase(toggleNoteColor,(et,rt)=>{const nt=findNoteIndexByProperties(et,rt.payload),it=et[nt];it._type>1||(it._type=it._type===0?1:0)}).addCase(setBlockByDragging,(et,rt)=>{const{direction:nt,rowIndex:it,colIndex:ot,selectedTool:at,cursorPositionInBeats:st}=rt.payload,lt=findNoteIndexByProperties(et,{time:st,lineLayer:it,lineIndex:ot}),ct={_time:st,_lineIndex:ot,_lineLayer:it,_type:getItemType(at),_cutDirection:nt,id:buildUUID()};if(lt===-1){et.push(ct);return}et.splice(lt,1,ct)}).addCase(clearCellOfNotes,(et,rt)=>{const{rowIndex:nt,colIndex:it,cursorPositionInBeats:ot}=rt.payload,at=findNoteIndexByProperties(et,{time:ot,lineLayer:nt,lineIndex:it});return at===-1?et:[...et.slice(0,at),...et.slice(at+1)]}).addCase(clickPlacementGrid,(et,rt)=>{const{rowIndex:nt,colIndex:it,cursorPositionInBeats:ot,selectedDirection:at,selectedTool:st,ringNoteType:lt,duration:ct}=rt.payload;let ut={_time:ot,_lineIndex:it,_lineLayer:nt,id:buildUUID()};if(et.some(ft=>ft._time===ot&&ft._lineIndex===it&&ft._lineLayer===nt))return console.warn("试图在同一位置添加双音符。被拒绝"),et;isRingNoteFooterType(lt)?(ut._type=getItemType(st),ut._ringNoteType=lt,isRingNoteFooterLongType(lt)&&(ut._duration=ct,ut._tentative=!0,durationNoteFeature.startDurationNote(ut))):(ut._type=getItemType(st),ut._cutDirection=at),et.push(ut),noteFeature.setMouseEnterNote(ut)}).addCase(setEditorNotes,(et,rt)=>rt.payload||[]).addCase(deleteNote,(et,rt)=>{const nt=findNoteIndexByProperties(et,rt.payload);if(nt===-1)return et;et.splice(nt,1)}).addCase(selectNote,(et,rt)=>{const nt=findNoteIndexByProperties(et,rt.payload),it=rt.payload.type===SELECTION_MODE.Select;if(nt===-1)return et;const ot=et[nt];ot.selected=it}).addCase(deselectAllOfTag,(et,rt)=>{const nt=rt.payload,it={0:NOTE_TOOLS_EXTRA.BLOCK,1:NOTE_TOOLS_EXTRA.BLOCK,3:NOTE_TOOLS.MINE};if(nt===NOTE_TOOLS_EXTRA.OBSTACLE)return et;et.forEach(ot=>{it[ot._type]===nt&&(ot.selected=!1)})}).addCase(deselectOrSelectNoteOfIds,(et,rt)=>{const{ids:nt,type:it}=rt.payload;if(!(nt!=null&&nt.length))return;const ot=it===SELECTION_MODE.Select;et.forEach(at=>{nt.includes(at.id)&&(at.selected=ot)})}).addCase(swapSelectedNotes,(et,rt)=>{const nt=rt.payload;return swapNotes(nt,et)}).addCase(nudgeSelection,(et,rt)=>{const{view:nt,direction:it,snapTo:ot}=rt.payload;return nt!==VIEW_TYPE.NOTES?et:nudgeNotes(it,ot,et)}).addCase(deselectAll,(et,rt)=>{if(rt.payload!==VIEW_TYPE.NOTES)return et;et.forEach(it=>{it.selected=!1})}).addCase(selectNoteAll,et=>{et.forEach(rt=>{rt&&(rt.selected=!0)})}).addCase(deleteSelectedNotes,et=>et.filter(rt=>!rt.selected)).addCase(deleteNotes,(et,rt)=>{const nt=rt.payload;return et.filter(it=>isArray$o(nt)?!nt.includes(it.id):nt!==it.id)}).addCase(cutSelection,(et,rt)=>{const{view:nt}=rt.payload;return nt!==VIEW_TYPE.NOTES?et:et.filter(it=>!it.selected)}).addCase(pasteSelection,(et,rt)=>{const{pasteAtBeat:nt,view:it,data:ot}=rt.payload;if(it!==VIEW_TYPE.NOTES||ot.length===0)return et;const at=isNote(ot[0])?ot[0]._time:ot[0].beatStart;return pasteSelectionActionPubFn({stateData:et,copyData:ot,filterFn:isNote,pasteAtBeat:nt,earliestBeat:at,type:"note"})}).addCase(selectAllInRange,(et,rt)=>{const{start:nt,end:it,view:ot}=rt.payload;if(ot!==VIEW_TYPE.NOTES)return et;et.forEach(at=>{at.selected=at._time>=nt&&at._time<it})}).addCase(mouseDownNote,(et,rt)=>{const{positionZ:nt}=rt.payload,it=findNoteIndexByProperties(et,rt.payload);if(it===-1)return et;const ot=et[it],{_time:at,_lineIndex:st,_lineLayer:lt,_type:ct,_cutDirection:ut,_ringNoteType:dt}=ot;ot.mouseDown={_time:at,_lineIndex:st,_lineLayer:lt,_type:ct,_cutDirection:ut,_ringNoteType:dt,_positionZ:nt}}).addCase(mouseUpNote,(et,rt)=>{const{time:nt,formLineLayer:it,fromLineIndex:ot,toLineLayer:at,toLineIndex:st}=rt.payload,lt=findNoteIndexByProperties(et,{time:nt,lineLayer:it,lineIndex:ot});if(lt===-1)return et;const ct=cloneDeep$1(et[lt]),ut=et.some(dt=>dt._time===ct._time&&dt._lineLayer===at&&dt._lineIndex===st);if(delete ct.mouseDown,ut||it<3&&at===3||it===3&&at<3)return delete et[lt].mouseDown,et;ut||et.splice(lt,1,{...ct,_lineLayer:at,_lineIndex:st})}).addCase(setSelectBlockDirection,(et,rt)=>{const nt=rt.payload,it=et.filter(ot=>ot.selected);it.length>1||(it[0]._cutDirection=nt)}).addCase(setCheckErrorNotes,et=>{const rt=errorCheckerFeature.errorNotes;et.length<=0||et.forEach(nt=>{notesIsExitNote(rt,nt)&&(nt.checkError=!0)})}).addCase(setBlockDirection,(et,rt)=>{const{note:nt,duration:it}=rt.payload,ot=findNoteIndexByProperties(et,{time:nt._time,lineLayer:nt._lineLayer,lineIndex:nt._lineIndex});ot<0||(et[ot]._cutDirection=it)}).addCase(clearCheckErrorNotes,et=>{et.forEach(rt=>{rt.hasOwnProperty("checkError")&&delete rt.checkError})}).addCase(resizeLongNote,(et,rt)=>{const{newDuration:nt,id:it}=rt.payload,ot=et.findIndex(at=>at.id===it);ot>=0&&(et[ot]._duration=nt)}).addCase(stopCreatedLongNote,et=>{const rt=et.findIndex(nt=>nt._tentative);rt>=0&&(et[rt]._tentative=!1),durationNoteFeature.stopDurationNote()}).addCase(deleteNoteOrObsFormType,(et,rt)=>{const nt=rt.payload,it=ot=>et.filter(ot);switch(nt){case SHORTCUT_DELETE.FOOT_NOTE:return it(ot=>!isRingNoteFooterType(ot._ringNoteType));case SHORTCUT_DELETE.HAND_NOTE:return it(ot=>isRingNoteFooterType(ot._ringNoteType))}}).addCase(creatGroupNote,et=>{let rt=getSelectHandNotesFilter(et);sortNoteToGroupAction(rt)}).addCase(mergeGroupNote,(et,rt)=>{const{currentGroupAllBlockIds:nt,notInGroupSelectNoteIds:it}=rt.payload,ot=et.filter(ct=>it.includes(ct.id)),at=et.filter(ct=>nt.includes(ct.id));let st=[];et.forEach(ct=>{ot.forEach(ut=>{ct._groupId===ut._groupId&&st.push(ct)})});let lt=[...st,...at];sortNoteToGroupAction(lt)}).addCase(removeGroupNote,(et,rt)=>{const{groupId:nt,ids:it}=rt.payload;et.forEach(ot=>{ot._groupId==nt&&it.includes(ot.id)&&(delete ot._groupId,delete ot._groupNoteType)}),verifyGroupNotesAction(et,[nt],ot=>{ungroupNotesForCommonFn(ot)})}).addCase(unpackGroupNote,(et,rt)=>{const nt=rt.payload;et.forEach(it=>{it._groupId===nt&&(delete it._groupId,delete it.selected,delete it._groupNoteType)})}).addCase(setHandGroupNote,(et,rt)=>{const{id:nt,type:it}=rt.payload,ot=et.find(at=>at.id===nt);if(ot!=null&&ot._groupId){const at=et.find(st=>st._groupId===ot._groupId&&st._groupNoteType===it);at&&delete at._groupNoteType,ot._groupNoteType=it}}).addCase(verifyGroupNotes,(et,rt)=>{const nt=rt.payload;let it=[];for(let ot of nt){const at=et.filter(st=>st._groupId===ot);it.push(at)}it.forEach(ot=>{ot.length<2&&ot.forEach(at=>{at._groupNoteType&&delete at._groupNoteType,at._groupId&&delete at._groupId})})}).addMatcher(et=>[LEAVE_EDITOR,START_LOADING_SONG,CREATE_NEW_SONG].includes(et.type),()=>initialState$3.notes).addMatcher(et=>[DELETE_NOTES].includes(et.type),et=>{})}),getNotes=tt=>tt.editorElement.notesView.present.notes,getVisibleNotes=createSelector(getNotes,getCursorPositionInBeats,getBeatDepth,getGraphicsLevel,(tt,et,rt,nt)=>{const[it,ot]=calculateVisibleRange(et,rt,nt,{includeSpaceBeforeGrid:!0});return tt.filter(at=>isRingNoteFooterLongType(at._ringNoteType)?at._time+at._duration>it&&at._time<ot:at._time>it&&at._time<ot)}),getSelectedBlocks=createSelector(getNotes,tt=>getSelectedBlocksFn(tt)),getSelectedMines=createSelector(getNotes,tt=>getSelectedMinesFn(tt)),getSelectedNotes=createSelector(getNotes,tt=>tt.filter(et=>et.selected)),getNumOfBlocks=createSelector(getNotes,tt=>getBlockLength(tt)),getNumOfMines=createSelector(getNotes,tt=>getMineLength(tt)),getFootNotes=createSelector(getNotes,tt=>getFootNotesFilter(tt)),getHandNotes=createSelector(getNotes,tt=>getHandNotesFilter(tt)),getSelectHandNotes=createSelector(getNotes,tt=>getSelectHandNotesFilter(tt)),getSelectGroupNotesIds=createSelector(getSelectHandNotes,tt=>getHandNotesIds(tt)),getAllGroupNotesGroupIds=createSelector(getNotes,tt=>getHandNotesIds(tt)),getNoteDensity=createSelector(getVisibleNotes,getBeatDepth,getSelectedSong,getGraphicsLevel,(tt,et,rt,nt)=>{const ot=DEPTHS[nt]/et*1.2;return calculateNoteDensity(tt.length,ot,rt==null?void 0:rt.bpm)}),getMouseDownNotes=createSelector(getNotes,tt=>tt.filter(et=>et.mouseDown)),isMouseDownNote=createSelector(getNotes,tt=>tt.some(et=>et.mouseDown)),initialState$2={obstacles:[]},obstacles=createReducer(initialState$2.obstacles,tt=>{tt.addCase(setEditorObstacles,(et,rt)=>rt.payload||[]).addCase(deleteObstacle,(et,rt)=>{const nt=rt.payload,it=et.findIndex(ot=>ot.id===nt);if(it<=-1)return et;et.splice(it,1)}).addCase(resizeObstacle,(et,rt)=>{const{id:nt,newBeatDuration:it}=rt.payload,ot=et.findIndex(st=>st.id===nt),at=et[ot];at.beatDuration=it}).addCase(selectObstacle,(et,rt)=>{const nt=rt.payload,it=et.findIndex(ot=>ot.id===nt);et[it].selected=!0}).addCase(deselectObstacle,(et,rt)=>{const nt=rt.payload,it=et.findIndex(ot=>ot.id===nt);et[it].selected=!1}).addCase(createNewObstacle,(et,rt)=>{et.push(rt.payload)}).addCase(deselectAllOfTag,(et,rt)=>{if(rt.payload!==NOTE_TOOLS_EXTRA.OBSTACLE)return et;et.forEach(it=>{it.selected&&(it.selected=!1)})}).addCase(swapSelectedNotes,(et,rt)=>{const nt=rt.payload;return swapObstacles(nt,et)}).addCase(nudgeSelection,(et,rt)=>{const{view:nt,direction:it,snapTo:ot}=rt.payload;return nt!==VIEW_TYPE.NOTES?et:nudgeObstacles(it,ot,et)}).addCase(deselectAll,(et,rt)=>{if(rt.payload!==VIEW_TYPE.NOTES)return et;et.forEach(it=>{it.selected=!1})}).addCase(deleteSelectedNotes,et=>et.filter(rt=>!rt.selected)).addCase(deleteNotes,(et,rt)=>{const nt=rt.payload;return et.filter(it=>nt!==it.id)}).addCase(selectNoteAll,et=>{et.forEach(rt=>{rt.selected=!0})}).addCase(resizeSelectedObstacles,(et,rt)=>{const nt=rt.payload;et.forEach(it=>{it.selected&&(it.beatDuration=nt)})}).addCase(toggleFastWallsForSelectedObstacles,et=>{const nt=!et.some(it=>it.selected&&it.fast);et.forEach(it=>{it.selected&&(it.fast=nt)})}).addCase(cutSelection,(et,rt)=>{const{view:nt}=rt.payload;return nt!==VIEW_TYPE.NOTES?et:et.filter(it=>!it.selected)}).addCase(pasteSelection,(et,rt)=>{const{pasteAtBeat:nt,view:it,data:ot}=rt.payload;if(it!==VIEW_TYPE.NOTES||ot.length===0)return et;const at=isObstacle(ot[0])?ot[0].beatStart:ot[0]._time;return pasteSelectionActionPubFn({stateData:et,copyData:ot,filterFn:isObstacle,pasteAtBeat:nt,earliestBeat:at,type:"obstacle"})}).addCase(selectAllInRange,(et,rt)=>{const{start:nt,end:it,view:ot}=rt.payload;if(ot!==VIEW_TYPE.NOTES)return et;et.forEach(at=>{at.selected=at.beatStart>=nt&&at.beatStart<it})}).addCase(resizeCreatedObstacles,(et,rt)=>{const{obstacle:nt,newDuration:it}=rt.payload,ot=et.find(at=>at.id===nt.id);ot&&(ot.beatDuration=it)}).addCase(stopCreatedObstacles,et=>{const rt=et.findIndex(nt=>nt.tentative);rt>=0&&delete et[rt].tentative,durationNoteFeature.stopDurationNote()}).addCase(toggleObstacleColor,(et,rt)=>{const nt=et.findIndex(ot=>ot.id===rt.payload),it=et[nt];it.style>1||(it.style=it.style===0?1:0)}).addCase(deleteNoteOrObsFormType,(et,rt)=>{if(rt.payload===SHORTCUT_DELETE.OBSTACLE)return[]}).addMatcher(et=>[LEAVE_EDITOR,START_LOADING_SONG,CREATE_NEW_SONG].includes(et.type),()=>initialState$2.obstacles)}),getObstacles=tt=>tt.editorElement.notesView.present.obstacles,getVisibleObstacles=createSelector(getObstacles,getCursorPositionInBeats,getBeatDepth,getGraphicsLevel,(tt,et,rt,nt)=>{const[it,ot]=calculateVisibleRange(et,rt,nt,{includeSpaceBeforeGrid:!0});return tt.filter(at=>at.beatStart+at.beatDuration>it&&at.beatStart<ot)}),getSelectedObstacles=createSelector(getObstacles,tt=>tt.filter(et=>et.selected)),getNumOfObstacles=tt=>getObstacles(tt).length,notesView=undoable(combineReducers({notes,obstacles}),{limit:100,undoType:UNDO_NOTES,redoType:REDO_NOTES,filter:lib$2.includeAction([CLICK_PLACEMENT_GRID,SET_BLOCK_BY_DRAGGING,DELETE_NOTE,"BULK_DELETE_NOTE",DELETE_SELECTED_NOTES,CUT_SELECTION,PASTE_SELECTION,CREATE_NEW_OBSTACLE,STOP_CREATED_OBSTACLES,RESIZE_OBSTACLE,RESIZE_SELECTED_OBSTACLES,DELETE_OBSTACLE,SWAP_SELECTED_NOTES,TOGGLE_NOTE_COLOR,NUDGE_SELECTION,DELETE_NOTES,MOUSE_UP_NOTE,REMOVE_GROUP_NOTE,MERGE_GROUP_NOTE,CREAT_GROUP_NOTE,UNPACK_GROUP_NOTE]),groupBy:lib$2.groupByActionTypes(["BULK_DELETE_NOTE"])}),getSelectedNotesAndObstacles=createSelector(getSelectedNotes,getSelectedObstacles,(tt,et)=>[...tt,...et]),getCanUndo=tt=>tt.editorElement.notesView.past.length>0,getCanRedo=tt=>tt.editorElement.notesView.future.length>0,eventsView=undoable(events,{limit:200,undoType:UNDO_EVENTS,redoType:REDO_EVENTS,filter:lib$2.includeAction([PLACE_EVENT,SET_LASER_SPEED,DELETE_EVENT,DELETE_SELECTED_EVENTS,BULK_DELETE_EVENT,CUT_SELECTION,PASTE_SELECTION,SWITCH_EVENT_COLOR,NUDGE_SELECTION]),groupBy:lib$2.groupByActionTypes([BULK_DELETE_EVENT])}),setDifficulty=createAction(EDITOR_ENTITIES_SET_DIFFICULTY),setSelectGroupId=createAction(EDITOR_ENTITIES_SET_SELECT_GROUP_ID),initialState$1={difficulty:"",selectGroupId:""},difficulty=createReducer(initialState$1,tt=>{tt.addCase(setDifficulty,(et,rt)=>{et.difficulty=rt.payload}).addCase(setSelectGroupId,(et,rt)=>{et.selectGroupId=rt.payload}).addMatcher(et=>et.type===SELECT_NOTE,(et,rt)=>{const nt=rt.payload;isRingNoteFooterType(nt.ringNoteType)||!nt.groupId||nt.type===SELECTION_MODE.Deselect||et.selectGroupId===nt.groupId||(et.selectGroupId=nt.groupId)})}),getSelection$1=(tt,et)=>{if(et===VIEW_TYPE.EVENTS)return getSelectedEvents(tt);if(et===VIEW_TYPE.NOTES)return getSelectedNotesAndObstacles(tt)},getDifficulty=tt=>tt.editorElement.difficulty.difficulty,getSelectGroupId=tt=>tt.editorElement.difficulty.selectGroupId,editorElement=combineReducers({difficulty,notesView,eventsView});function storage(tt){const et=localForage.createInstance({name:tt});return{db:et,getItem:et.getItem,setItem:et.setItem,removeItem:et.removeItem}}const{VITE_GLOB_APP_SHORT_NAME}=getAppEnvConfig(),songsPersistConfig={key:"songs",storage:storage(VITE_GLOB_APP_SHORT_NAME),whitelist:["byId"]},userPersistConfig={key:"user",storage:storage(VITE_GLOB_APP_SHORT_NAME)},editorPersistConfig={key:"editorSetting",storage:storage(VITE_GLOB_APP_SHORT_NAME)},navigationsPersistConfig={key:"nav",storage:storage(VITE_GLOB_APP_SHORT_NAME),whitelist:["snapTo","beatDepth","playNoteTick","volume"]},rootReducer=combineReducers({[appSlice.name]:localeReducer,[songsSlice.name]:persistReducer(songsPersistConfig,songsReducer),[userSlice.name]:persistReducer(userPersistConfig,userReducer),[navSlice.name]:persistReducer(navigationsPersistConfig,navigationsReducer),[editSettingSlice.name]:persistReducer(editorPersistConfig,editReducer),[bookmarksSlice.name]:bookmarksReducer,[scrapbookSlice.name]:clipboardReducer,[waveformSlice.name]:waveformReducer,editorElement}),listenerMiddleware=createListenerMiddleware(),startAppListening=listenerMiddleware.startListening;let audioPlay,animationFrameId=0;const ticker=new TickAudioPlay;function setupSongsListeners(tt){const et=[tt({actionCreator:startLoadingSong,effect:async(rt,nt)=>{nt.unsubscribe();const{songs:it,nav:{volume:ot,playbackRate:at}}=nt.getState(),{songId:st,difficulty:lt,mode:ct,dialog:ut}=rt.payload,dt=it.byId[st];if(!dt){console.error(`没有找到 "${st}"`);return}errorCheckerFeature.clearErrorNotes(),nt.dispatch(editorEntitiesSetDifficulty(lt)),nt.dispatch(setNoteMode(ct));let ft;try{ft=await getBeatmap(st,lt,ct)}catch(mt){console.error(mt)}if(ft){let{_notes:mt,_events:ht=[],_obstacles:gt=[],_ringNotes:vt=[]}=ft,yt=[...mt,...vt];get$a(dt,"modSettings.mappingExtensions.isEnabled")&&(yt=convertNotesFromMappingExtensions(yt));let bt=notesTimeRoundToNearest(yt);try{let xt=convertObstaclesToRedux(gt),$t=convertEventsToRedux(ht),Tt=convertMarksToRedux(ft._customData&&ft._customData._bookmarks);nt.dispatch(setEditorNotes(bt)),nt.dispatch(setEditorEvents($t)),nt.dispatch(setEditorObstacles(xt)),nt.dispatch(setEditorBookmarks(Tt)),nt.dispatch(lib$2.ActionCreators.clearHistory())}catch{ut.alert("谱面解析异常，请检查谱面文件")}}const pt=nt.fork(async mt=>{await mt.delay(500);const ht=await getFileForTypeName(dt.songFilename),gt=await convertFileToArrayBuffer(ht);audioPlay=new AudioPlay(ot,at);try{await audioPlay.load(gt)}catch{ut.alert("歌曲解析异常，请检查歌曲文件")}audioPlay.setCurrentTime(dt.offset/1e3);const vt=await generateWaveformForSongFile(ht);nt.dispatch(setWaveformData(vt));const yt=vt.duration*1e3;return nt.dispatch(finishLoadNavigations({durationInMs:yt,song:dt})),nt.dispatch(finishLoadSong({song:dt})),{songFile:ht,arrayBuffer:gt}});await pt.result,pt.cancel(),nt.subscribe()}}),tt({actionCreator:deleteSong,effect:async(rt,nt)=>{const{songs:it}=nt.getOriginalState(),ot=it.byId[rt.payload.songId];await deleteAllSongFiles(ot)}}),tt({actionCreator:setPlaybackSpeed,effect:async rt=>{reactExports.startTransition(()=>{audioPlay.changePlaybackRate(rt.payload)})}}),startAppListening({actionCreator:setVolume,effect:async rt=>{reactExports.startTransition(()=>{audioPlay.changeVolume(rt.payload)})}}),tt({actionCreator:selectAllInRange,effect:async(rt,nt)=>{const{start:it}=rt.payload,ot=nt.getState(),at=getSelectedSong(ot),st=convertBeatsToMilliseconds(it,at==null?void 0:at.bpm)+(at==null?void 0:at.offset);nt.dispatch(adjustCursorPosition(st)),audioPlay.setCurrentTime(st/1e3),audioPlay.pause()}}),tt({actionCreator:jumpToBeat,effect:async(rt,nt)=>{const{beatNum:it,pauseTrack:ot}=rt.payload,at=nt.getState(),st=getSelectedSong(at);if(!st)return;const lt=convertBeatsToMilliseconds(it,st.bpm)+st.offset;nt.dispatch(adjustCursorPosition(lt)),audioPlay.setCurrentTime(lt/1e3),ot&&audioPlay.pause()}}),tt({actionCreator:startPlaying,effect:async(rt,nt)=>{audioPlay.play();let it=null;function ot(){const at=audioPlay.getCurrentTime()*1e3,st=nt.getState(),lt=getSelectedSong(st),ct=getProcessingDelay(st),ut=getPlayNoteTick(st),dt=getPlayBeatTick(st),ft=getNotes(st),pt=getIsLockedToCurrentWindow(st),mt=getBeatsPerZoomLevel(st),ht=getCursorPosition(st),gt=getDuration(st);if(!lt)return;const vt=convertMillisecondsToBeats(at-lt.offset,lt.bpm);if(gt+lt.offset<ht){nt.dispatch(pausePlaying());return}triggerTickerIfNecessary({song:lt,playNoteTick:ut,notes:ft,currentBeat:vt,lastBeat:it,ticker,processingDelay:ct}),dt&&handleBeatTick({currentBeat:vt,lastBeat:it,ticker});const yt=window.location.pathname.match(/\/(\w+)$/),bt=yt?yt[1]:null,xt=calculateIfPlaybackShouldBeCommandeered({currentBeat:vt,lastBeat:it,processingDelay:ct,view:bt,song:lt,beatsPerZoomLevel:mt,isLockedToCurrentWindow:pt});isNumber$9(xt)?(nt.dispatch(adjustCursorPosition(xt)),audioPlay.setCurrentTime(xt/1e3)):nt.dispatch(tickAction(at)),it=vt,animationFrameId=window.requestAnimationFrame(ot)}animationFrameId=window.requestAnimationFrame(ot)}}),tt({actionCreator:pausePlaying,effect:async(rt,nt)=>{const it=nt.getState(),ot=getSelectedSong(it),at=getCursorPosition(it),st=getSnapTo(it);if(!ot)return;window.cancelAnimationFrame(animationFrameId),audioPlay.pause();let lt=getSnapToNearestBeat(at,ot==null?void 0:ot.bpm,ot==null?void 0:ot.offset,st);lt<0&&(lt=0),nt.dispatch(adjustCursorPosition(lt)),audioPlay.setCurrentTime(lt/1e3)}}),tt({actionCreator:scrubWaveform,effect:async(rt,nt)=>{const it=rt.payload,ot=nt.getState(),at=getSelectedSong(ot),st=getSnapTo(ot);if(!at)return;let lt=getSnapToNearestBeat(it,at==null?void 0:at.bpm,at==null?void 0:at.offset,st);lt<0&&(lt=0),nt.dispatch(adjustCursorPosition(lt)),audioPlay.setCurrentTime(lt/1e3)}}),tt({matcher:isAnyOf(seekForwards,seekBackwards),effect:async(rt,{getState:nt,dispatch:it})=>{const ot=rt.payload,at=nt(),st=getSelectedSong(at),lt=getDuration(at),ct=getCursorPositionInBeats(at),ut=getBeatsPerZoomLevel(at),dt=ot===VIEW_TYPE.EVENTS?ut:32,ft=Math.floor(ct/dt);let pt;rt.type===SEEK_FORWARDS?pt=dt*(ft+1):ct%dt<2?pt=dt*(ft-1):pt=dt*ft;let mt=convertBeatsToMilliseconds(pt,st==null?void 0:st.bpm)+(st==null?void 0:st.offset);mt=clamp$5(mt,0,lt),it(adjustCursorPosition(mt)),audioPlay.setCurrentTime(mt/1e3)}}),tt({actionCreator:skipToStart,effect:async rt=>{audioPlay.setCurrentTime(rt.payload/1e3)}}),tt({actionCreator:skipToEnd,effect:async(rt,{getState:nt,dispatch:it})=>{const ot=nt(),at=getSelectedSong(ot),st=getDuration(ot),lt=Math.floor(convertMillisecondsToBeats(st,at==null?void 0:at.bpm)),ct=convertBeatsToMilliseconds(lt-8,at==null?void 0:at.bpm)+(at==null?void 0:at.offset);it(adjustCursorPosition(ct)),audioPlay.setCurrentTime(ct/1e3)}}),tt({actionCreator:leaveEditorAction,effect:async()=>{window.cancelAnimationFrame(animationFrameId),audioPlay==null||audioPlay.pause(),audioPlay==null||audioPlay.setCurrentTime(0)}}),tt({actionCreator:scrollThroughSong,effect:async(rt,{getState:nt,dispatch:it})=>{if(!audioPlay)return;const ot=rt.payload,at=nt(),st=getSelectedSong(at),lt=getCursorPosition(at),ct=getDuration(at),ut=getSnapTo(at),dt=(st==null?void 0:st.offset)||0,ft=convertBeatsToMilliseconds(ut,st==null?void 0:st.bpm);let pt=ot===THROUGH.FORWARDS?lt+ft:lt-ft;pt=clamp$5(pt,0,ct+dt),audioPlay.setCurrentTime(pt/1e3),it(adjustCursorPosition(pt))}}),tt({actionCreator:updateSongDetail,effect:async(rt,{dispatch:nt})=>{const it=await getFileForTypeName(rt.payload.songFilename),ot=await convertFileToArrayBuffer(it);audioPlay=new AudioPlay(audioPlay.gain,audioPlay.playbackRate),await audioPlay.load(ot),audioPlay.setCurrentTime(rt.payload.offset/1e3);const at=await generateWaveformForSongFile(it);nt(reloadNavigation({duration:at.duration})),nt(setWaveformData(at))}}),tt({actionCreator:scrubEventsHeader,effect:(rt,{dispatch:nt,getState:it})=>{const ot=it(),at=getSelectedSong(ot);if(!at)return;const st=convertBeatsToMilliseconds(rt.payload,at.bpm)+at.offset;nt(adjustCursorPosition(st)),audioPlay.setCurrentTime(st/1e3)}}),tt({actionCreator:createNewSong,effect:async rt=>{const{selectedDifficulty:nt,songId:it,mode:ot}=rt.payload,at=createAndFilterBeatmapContents({notes:[],obstacles:[],events:[],bookmarks:[]},{version:2}),st=getFilenameForThing(it,BEAT_MAP,{difficulty:nt,mode:ot});await saveFile(st,at)}})];return()=>et.forEach(rt=>rt())}function setupHistoryListeners(tt){const et=[tt({type:UNDO_NOTES,effect:(rt,nt)=>{}}),tt({type:REDO_NOTES,effect:(rt,nt)=>{}})];return()=>et.forEach(rt=>rt())}function groupListeners(tt){const et=[tt({matcher:isAnyOf(deleteNotes,setBlockByDragging,clickPlacementGrid,swapSelectedNotes,nudgeSelection),effect:(rt,{getState:nt,dispatch:it})=>{}})];return()=>et.forEach(rt=>rt())}setupHistoryListeners(startAppListening);setupSongsListeners(startAppListening);groupListeners(startAppListening);var objectPathExports={},objectPath={get exports(){return objectPathExports},set exports(tt){objectPathExports=tt}};(function(tt){(function(et,rt){tt.exports=rt()})(commonjsGlobal$4,function(){var et=Object.prototype.toString;function rt(dt,ft){return dt==null?!1:Object.prototype.hasOwnProperty.call(dt,ft)}function nt(dt){if(!dt||at(dt)&&dt.length===0)return!0;if(typeof dt!="string"){for(var ft in dt)if(rt(dt,ft))return!1;return!0}return!1}function it(dt){return et.call(dt)}function ot(dt){return typeof dt=="object"&&it(dt)==="[object Object]"}var at=Array.isArray||function(dt){return et.call(dt)==="[object Array]"};function st(dt){return typeof dt=="boolean"||it(dt)==="[object Boolean]"}function lt(dt){var ft=parseInt(dt);return ft.toString()===dt?ft:dt}function ct(dt){dt=dt||{};var ft=function(vt){return Object.keys(ft).reduce(function(yt,bt){return bt==="create"||typeof ft[bt]=="function"&&(yt[bt]=ft[bt].bind(ft,vt)),yt},{})},pt;dt.includeInheritedProps?pt=function(){return!0}:pt=function(vt,yt){return typeof yt=="number"&&Array.isArray(vt)||rt(vt,yt)};function mt(vt,yt){if(pt(vt,yt))return vt[yt]}var ht;dt.includeInheritedProps?ht=function(vt,yt){typeof yt!="string"&&typeof yt!="number"&&(yt=String(yt));var bt=mt(vt,yt);if(yt==="__proto__"||yt==="prototype"||yt==="constructor"&&typeof bt=="function")throw new Error("For security reasons, object's magic properties cannot be set");return bt}:ht=function(vt,yt){return mt(vt,yt)};function gt(vt,yt,bt,xt){if(typeof yt=="number"&&(yt=[yt]),!yt||yt.length===0)return vt;if(typeof yt=="string")return gt(vt,yt.split(".").map(lt),bt,xt);var $t=yt[0],Tt=ht(vt,$t);return yt.length===1?((Tt===void 0||!xt)&&(vt[$t]=bt),Tt):(Tt===void 0&&(typeof yt[1]=="number"?vt[$t]=[]:vt[$t]={}),gt(vt[$t],yt.slice(1),bt,xt))}return ft.has=function(vt,yt){if(typeof yt=="number"?yt=[yt]:typeof yt=="string"&&(yt=yt.split(".")),!yt||yt.length===0)return!!vt;for(var bt=0;bt<yt.length;bt++){var xt=lt(yt[bt]);if(typeof xt=="number"&&at(vt)&&xt<vt.length||(dt.includeInheritedProps?xt in Object(vt):rt(vt,xt)))vt=vt[xt];else return!1}return!0},ft.ensureExists=function(vt,yt,bt){return gt(vt,yt,bt,!0)},ft.set=function(vt,yt,bt,xt){return gt(vt,yt,bt,xt)},ft.insert=function(vt,yt,bt,xt){var $t=ft.get(vt,yt);xt=~~xt,at($t)||($t=[],ft.set(vt,yt,$t)),$t.splice(xt,0,bt)},ft.empty=function(vt,yt){if(!nt(yt)&&vt!=null){var bt,xt;if(bt=ft.get(vt,yt)){if(typeof bt=="string")return ft.set(vt,yt,"");if(st(bt))return ft.set(vt,yt,!1);if(typeof bt=="number")return ft.set(vt,yt,0);if(at(bt))bt.length=0;else if(ot(bt))for(xt in bt)pt(bt,xt)&&delete bt[xt];else return ft.set(vt,yt,null)}}},ft.push=function(vt,yt){var bt=ft.get(vt,yt);at(bt)||(bt=[],ft.set(vt,yt,bt)),bt.push.apply(bt,Array.prototype.slice.call(arguments,2))},ft.coalesce=function(vt,yt,bt){for(var xt,$t=0,Tt=yt.length;$t<Tt;$t++)if((xt=ft.get(vt,yt[$t]))!==void 0)return xt;return bt},ft.get=function(vt,yt,bt){if(typeof yt=="number"&&(yt=[yt]),!yt||yt.length===0)return vt;if(vt==null)return bt;if(typeof yt=="string")return ft.get(vt,yt.split("."),bt);var xt=lt(yt[0]),$t=ht(vt,xt);return $t===void 0?bt:yt.length===1?$t:ft.get(vt[xt],yt.slice(1),bt)},ft.del=function(yt,bt){if(typeof bt=="number"&&(bt=[bt]),yt==null||nt(bt))return yt;if(typeof bt=="string")return ft.del(yt,bt.split("."));var xt=lt(bt[0]);if(ht(yt,xt),!pt(yt,xt))return yt;if(bt.length===1)at(yt)?yt.splice(xt,1):delete yt[xt];else return ft.del(yt[xt],bt.slice(1));return yt},ft}var ut=ct();return ut.create=ct,ut.withInheritedProps=ct({includeInheritedProps:!0}),ut})})(objectPath);var getValue$2=objectPathExports.get;function defaultCompare(tt,et){return tt===et}function watch(tt,et,rt){rt=rt||defaultCompare;var nt=getValue$2(tt(),et);return function(ot){return function(){var at=getValue$2(tt(),et);if(!rt(nt,at)){var st=nt;nt=at,ot(at,st,et)}}}}var reduxWatch=watch;class Editor{constructor(){wn(this,"cursorPosition");this.cursorPosition=0}setCursorPosition(et){this.cursorPosition=et}getCursorPosition(){return this.cursorPosition}getCursorPositionInBeats(et,rt){return!isNumber$9(et)||!isNumber$9(rt)?0:convertMillisecondsToBeats(this.cursorPosition-et,rt)}}const editorFeature=new Editor,pubSaveFn=tt=>{const et=tt.getState(),rt=getSelectedSong(et);if(!rt)return;const nt=getDifficulty(et),it=getNoteMode(et),ot=getNotes(et),at=getObstacles(et),st=getAllEventsAsArray(et),lt=getSortedBookmarksArray(et),ct=createBeatmapContentsFromState({allEventsAsArray:st,notes:ot,song:rt,obstaclesState:at,bookmarksArray:lt});saveBeatmap(rt.id,nt,ct,it).catch(ut=>{console.error("Could not run backup for beatmap file",ut)})},autoSave=tt=>{let et=reduxWatch(tt.getState,"editorElement.notesView.present",isEqual$1),rt=reduxWatch(tt.getState,"editorElement.eventsView.present",isEqual$1),nt=reduxWatch(tt.getState,"nav.cursorPosition");const it=debounce$6(function(){pubSaveFn(tt)},1e3),ot=debounce$6(function(){pubSaveFn(tt)},1e3),at=debounce$6(function(){const st=tt.getState(),lt=getCursorPosition(st);editorFeature.setCursorPosition(lt)},100);tt.subscribe(et(it)),tt.subscribe(rt(ot)),tt.subscribe(nt(at))},store$5=configureStore({reducer:rootReducer,devTools:isDevMode(),middleware:tt=>tt({serializableCheck:{ignoredActions:[FLUSH,REHYDRATE,PAUSE,PERSIST,PURGE,REGISTER,"waveform/setWaveformData","songs/startLoadingSong"],ignoredPaths:["waveform.data"]}}).prepend(listenerMiddleware.middleware)});autoSave(store$5);/**
 * @remix-run/router v1.3.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$l(){return _extends$l=Object.assign?Object.assign.bind():function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_extends$l.apply(this,arguments)}var Action$1;(function(tt){tt.Pop="POP",tt.Push="PUSH",tt.Replace="REPLACE"})(Action$1||(Action$1={}));const PopStateEventType="popstate";function createBrowserHistory(tt){tt===void 0&&(tt={});function et(nt,it){let{pathname:ot,search:at,hash:st}=nt.location;return createLocation("",{pathname:ot,search:at,hash:st},it.state&&it.state.usr||null,it.state&&it.state.key||"default")}function rt(nt,it){return typeof it=="string"?it:createPath$1(it)}return getUrlBasedHistory(et,rt,null,tt)}function invariant(tt,et){if(tt===!1||tt===null||typeof tt>"u")throw new Error(et)}function createKey(){return Math.random().toString(36).substr(2,8)}function getHistoryState(tt,et){return{usr:tt.state,key:tt.key,idx:et}}function createLocation(tt,et,rt,nt){return rt===void 0&&(rt=null),_extends$l({pathname:typeof tt=="string"?tt:tt.pathname,search:"",hash:""},typeof et=="string"?parsePath(et):et,{state:rt,key:et&&et.key||nt||createKey()})}function createPath$1(tt){let{pathname:et="/",search:rt="",hash:nt=""}=tt;return rt&&rt!=="?"&&(et+=rt.charAt(0)==="?"?rt:"?"+rt),nt&&nt!=="#"&&(et+=nt.charAt(0)==="#"?nt:"#"+nt),et}function parsePath(tt){let et={};if(tt){let rt=tt.indexOf("#");rt>=0&&(et.hash=tt.substr(rt),tt=tt.substr(0,rt));let nt=tt.indexOf("?");nt>=0&&(et.search=tt.substr(nt),tt=tt.substr(0,nt)),tt&&(et.pathname=tt)}return et}function getUrlBasedHistory(tt,et,rt,nt){nt===void 0&&(nt={});let{window:it=document.defaultView,v5Compat:ot=!1}=nt,at=it.history,st=Action$1.Pop,lt=null,ct=ut();ct==null&&(ct=0,at.replaceState(_extends$l({},at.state,{idx:ct}),""));function ut(){return(at.state||{idx:null}).idx}function dt(){st=Action$1.Pop;let gt=ut(),vt=gt==null?null:gt-ct;ct=gt,lt&&lt({action:st,location:ht.location,delta:vt})}function ft(gt,vt){st=Action$1.Push;let yt=createLocation(ht.location,gt,vt);rt&&rt(yt,gt),ct=ut()+1;let bt=getHistoryState(yt,ct),xt=ht.createHref(yt);try{at.pushState(bt,"",xt)}catch{it.location.assign(xt)}ot&&lt&&lt({action:st,location:ht.location,delta:1})}function pt(gt,vt){st=Action$1.Replace;let yt=createLocation(ht.location,gt,vt);rt&&rt(yt,gt),ct=ut();let bt=getHistoryState(yt,ct),xt=ht.createHref(yt);at.replaceState(bt,"",xt),ot&&lt&&lt({action:st,location:ht.location,delta:0})}function mt(gt){let vt=it.location.origin!=="null"?it.location.origin:it.location.href,yt=typeof gt=="string"?gt:createPath$1(gt);return invariant(vt,"No window.location.(origin|href) available to create URL for href: "+yt),new URL(yt,vt)}let ht={get action(){return st},get location(){return tt(it,at)},listen(gt){if(lt)throw new Error("A history only accepts one active listener");return it.addEventListener(PopStateEventType,dt),lt=gt,()=>{it.removeEventListener(PopStateEventType,dt),lt=null}},createHref(gt){return et(it,gt)},createURL:mt,encodeLocation(gt){let vt=mt(gt);return{pathname:vt.pathname,search:vt.search,hash:vt.hash}},push:ft,replace:pt,go(gt){return at.go(gt)}};return ht}var ResultType;(function(tt){tt.data="data",tt.deferred="deferred",tt.redirect="redirect",tt.error="error"})(ResultType||(ResultType={}));function matchRoutes(tt,et,rt){rt===void 0&&(rt="/");let nt=typeof et=="string"?parsePath(et):et,it=stripBasename(nt.pathname||"/",rt);if(it==null)return null;let ot=flattenRoutes(tt);rankRouteBranches(ot);let at=null;for(let st=0;at==null&&st<ot.length;++st)at=matchRouteBranch(ot[st],safelyDecodeURI(it));return at}function flattenRoutes(tt,et,rt,nt){et===void 0&&(et=[]),rt===void 0&&(rt=[]),nt===void 0&&(nt="");let it=(ot,at,st)=>{let lt={relativePath:st===void 0?ot.path||"":st,caseSensitive:ot.caseSensitive===!0,childrenIndex:at,route:ot};lt.relativePath.startsWith("/")&&(invariant(lt.relativePath.startsWith(nt),'Absolute route path "'+lt.relativePath+'" nested under path '+('"'+nt+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),lt.relativePath=lt.relativePath.slice(nt.length));let ct=joinPaths([nt,lt.relativePath]),ut=rt.concat(lt);ot.children&&ot.children.length>0&&(invariant(ot.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+ct+'".')),flattenRoutes(ot.children,et,ut,ct)),!(ot.path==null&&!ot.index)&&et.push({path:ct,score:computeScore(ct,ot.index),routesMeta:ut})};return tt.forEach((ot,at)=>{var st;if(ot.path===""||!((st=ot.path)!=null&&st.includes("?")))it(ot,at);else for(let lt of explodeOptionalSegments(ot.path))it(ot,at,lt)}),et}function explodeOptionalSegments(tt){let et=tt.split("/");if(et.length===0)return[];let[rt,...nt]=et,it=rt.endsWith("?"),ot=rt.replace(/\?$/,"");if(nt.length===0)return it?[ot,""]:[ot];let at=explodeOptionalSegments(nt.join("/")),st=[];return st.push(...at.map(lt=>lt===""?ot:[ot,lt].join("/"))),it&&st.push(...at),st.map(lt=>tt.startsWith("/")&&lt===""?"/":lt)}function rankRouteBranches(tt){tt.sort((et,rt)=>et.score!==rt.score?rt.score-et.score:compareIndexes(et.routesMeta.map(nt=>nt.childrenIndex),rt.routesMeta.map(nt=>nt.childrenIndex)))}const paramRe=/^:\w+$/,dynamicSegmentValue=3,indexRouteValue=2,emptySegmentValue=1,staticSegmentValue=10,splatPenalty=-2,isSplat=tt=>tt==="*";function computeScore(tt,et){let rt=tt.split("/"),nt=rt.length;return rt.some(isSplat)&&(nt+=splatPenalty),et&&(nt+=indexRouteValue),rt.filter(it=>!isSplat(it)).reduce((it,ot)=>it+(paramRe.test(ot)?dynamicSegmentValue:ot===""?emptySegmentValue:staticSegmentValue),nt)}function compareIndexes(tt,et){return tt.length===et.length&&tt.slice(0,-1).every((nt,it)=>nt===et[it])?tt[tt.length-1]-et[et.length-1]:0}function matchRouteBranch(tt,et){let{routesMeta:rt}=tt,nt={},it="/",ot=[];for(let at=0;at<rt.length;++at){let st=rt[at],lt=at===rt.length-1,ct=it==="/"?et:et.slice(it.length)||"/",ut=matchPath({path:st.relativePath,caseSensitive:st.caseSensitive,end:lt},ct);if(!ut)return null;Object.assign(nt,ut.params);let dt=st.route;ot.push({params:nt,pathname:joinPaths([it,ut.pathname]),pathnameBase:normalizePathname(joinPaths([it,ut.pathnameBase])),route:dt}),ut.pathnameBase!=="/"&&(it=joinPaths([it,ut.pathnameBase]))}return ot}function matchPath(tt,et){typeof tt=="string"&&(tt={path:tt,caseSensitive:!1,end:!0});let[rt,nt]=compilePath(tt.path,tt.caseSensitive,tt.end),it=et.match(rt);if(!it)return null;let ot=it[0],at=ot.replace(/(.)\/+$/,"$1"),st=it.slice(1);return{params:nt.reduce((ct,ut,dt)=>{if(ut==="*"){let ft=st[dt]||"";at=ot.slice(0,ot.length-ft.length).replace(/(.)\/+$/,"$1")}return ct[ut]=safelyDecodeURIComponent(st[dt]||"",ut),ct},{}),pathname:ot,pathnameBase:at,pattern:tt}}function compilePath(tt,et,rt){et===void 0&&(et=!1),rt===void 0&&(rt=!0),warning(tt==="*"||!tt.endsWith("*")||tt.endsWith("/*"),'Route path "'+tt+'" will be treated as if it were '+('"'+tt.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+tt.replace(/\*$/,"/*")+'".'));let nt=[],it="^"+tt.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^$?{}|()[\]]/g,"\\$&").replace(/\/:(\w+)/g,(at,st)=>(nt.push(st),"/([^\\/]+)"));return tt.endsWith("*")?(nt.push("*"),it+=tt==="*"||tt==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):rt?it+="\\/*$":tt!==""&&tt!=="/"&&(it+="(?:(?=\\/|$))"),[new RegExp(it,et?void 0:"i"),nt]}function safelyDecodeURI(tt){try{return decodeURI(tt)}catch(et){return warning(!1,'The URL path "'+tt+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+et+").")),tt}}function safelyDecodeURIComponent(tt,et){try{return decodeURIComponent(tt)}catch(rt){return warning(!1,'The value for the URL param "'+et+'" will not be decoded because'+(' the string "'+tt+'" is a malformed URL segment. This is probably')+(" due to a bad percent encoding ("+rt+").")),tt}}function stripBasename(tt,et){if(et==="/")return tt;if(!tt.toLowerCase().startsWith(et.toLowerCase()))return null;let rt=et.endsWith("/")?et.length-1:et.length,nt=tt.charAt(rt);return nt&&nt!=="/"?null:tt.slice(rt)||"/"}function warning(tt,et){if(!tt){typeof console<"u"&&console.warn(et);try{throw new Error(et)}catch{}}}function resolvePath(tt,et){et===void 0&&(et="/");let{pathname:rt,search:nt="",hash:it=""}=typeof tt=="string"?parsePath(tt):tt;return{pathname:rt?rt.startsWith("/")?rt:resolvePathname(rt,et):et,search:normalizeSearch(nt),hash:normalizeHash(it)}}function resolvePathname(tt,et){let rt=et.replace(/\/+$/,"").split("/");return tt.split("/").forEach(it=>{it===".."?rt.length>1&&rt.pop():it!=="."&&rt.push(it)}),rt.length>1?rt.join("/"):"/"}function getInvalidPathError(tt,et,rt,nt){return"Cannot include a '"+tt+"' character in a manually specified "+("`to."+et+"` field ["+JSON.stringify(nt)+"].  Please separate it out to the ")+("`to."+rt+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function getPathContributingMatches(tt){return tt.filter((et,rt)=>rt===0||et.route.path&&et.route.path.length>0)}function resolveTo(tt,et,rt,nt){nt===void 0&&(nt=!1);let it;typeof tt=="string"?it=parsePath(tt):(it=_extends$l({},tt),invariant(!it.pathname||!it.pathname.includes("?"),getInvalidPathError("?","pathname","search",it)),invariant(!it.pathname||!it.pathname.includes("#"),getInvalidPathError("#","pathname","hash",it)),invariant(!it.search||!it.search.includes("#"),getInvalidPathError("#","search","hash",it)));let ot=tt===""||it.pathname==="",at=ot?"/":it.pathname,st;if(nt||at==null)st=rt;else{let dt=et.length-1;if(at.startsWith("..")){let ft=at.split("/");for(;ft[0]==="..";)ft.shift(),dt-=1;it.pathname=ft.join("/")}st=dt>=0?et[dt]:"/"}let lt=resolvePath(it,st),ct=at&&at!=="/"&&at.endsWith("/"),ut=(ot||at===".")&&rt.endsWith("/");return!lt.pathname.endsWith("/")&&(ct||ut)&&(lt.pathname+="/"),lt}const joinPaths=tt=>tt.join("/").replace(/\/\/+/g,"/"),normalizePathname=tt=>tt.replace(/\/+$/,"").replace(/^\/*/,"/"),normalizeSearch=tt=>!tt||tt==="?"?"":tt.startsWith("?")?tt:"?"+tt,normalizeHash=tt=>!tt||tt==="#"?"":tt.startsWith("#")?tt:"#"+tt;function isRouteErrorResponse(tt){return tt!=null&&typeof tt.status=="number"&&typeof tt.statusText=="string"&&typeof tt.internal=="boolean"&&"data"in tt}const validMutationMethodsArr=["post","put","patch","delete"];[...validMutationMethodsArr];/**
 * React Router v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$k(){return _extends$k=Object.assign?Object.assign.bind():function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_extends$k.apply(this,arguments)}function isPolyfill(tt,et){return tt===et&&(tt!==0||1/tt===1/et)||tt!==tt&&et!==et}const is$2=typeof Object.is=="function"?Object.is:isPolyfill,{useState,useEffect,useLayoutEffect,useDebugValue}=React$1;function useSyncExternalStore$2(tt,et,rt){const nt=et(),[{inst:it},ot]=useState({inst:{value:nt,getSnapshot:et}});return useLayoutEffect(()=>{it.value=nt,it.getSnapshot=et,checkIfSnapshotChanged(it)&&ot({inst:it})},[tt,nt,et]),useEffect(()=>(checkIfSnapshotChanged(it)&&ot({inst:it}),tt(()=>{checkIfSnapshotChanged(it)&&ot({inst:it})})),[tt]),useDebugValue(nt),nt}function checkIfSnapshotChanged(tt){const et=tt.getSnapshot,rt=tt.value;try{const nt=et();return!is$2(rt,nt)}catch{return!0}}function useSyncExternalStore$1(tt,et,rt){return et()}const canUseDOM=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",isServerEnvironment=!canUseDOM,shim=isServerEnvironment?useSyncExternalStore$1:useSyncExternalStore$2;"useSyncExternalStore"in React$1&&(tt=>tt.useSyncExternalStore)(React$1);const DataRouterContext=reactExports.createContext(null),DataRouterStateContext=reactExports.createContext(null),NavigationContext=reactExports.createContext(null),LocationContext=reactExports.createContext(null),RouteContext=reactExports.createContext({outlet:null,matches:[]}),RouteErrorContext=reactExports.createContext(null);function useHref(tt,et){let{relative:rt}=et===void 0?{}:et;useInRouterContext()||invariant(!1);let{basename:nt,navigator:it}=reactExports.useContext(NavigationContext),{hash:ot,pathname:at,search:st}=useResolvedPath(tt,{relative:rt}),lt=at;return nt!=="/"&&(lt=at==="/"?nt:joinPaths([nt,at])),it.createHref({pathname:lt,search:st,hash:ot})}function useInRouterContext(){return reactExports.useContext(LocationContext)!=null}function useLocation(){return useInRouterContext()||invariant(!1),reactExports.useContext(LocationContext).location}function useNavigate(){useInRouterContext()||invariant(!1);let{basename:tt,navigator:et}=reactExports.useContext(NavigationContext),{matches:rt}=reactExports.useContext(RouteContext),{pathname:nt}=useLocation(),it=JSON.stringify(getPathContributingMatches(rt).map(st=>st.pathnameBase)),ot=reactExports.useRef(!1);return reactExports.useEffect(()=>{ot.current=!0}),reactExports.useCallback(function(st,lt){if(lt===void 0&&(lt={}),!ot.current)return;if(typeof st=="number"){et.go(st);return}let ct=resolveTo(st,JSON.parse(it),nt,lt.relative==="path");tt!=="/"&&(ct.pathname=ct.pathname==="/"?tt:joinPaths([tt,ct.pathname])),(lt.replace?et.replace:et.push)(ct,lt.state,lt)},[tt,et,it,nt])}const OutletContext=reactExports.createContext(null);function useOutlet(tt){let et=reactExports.useContext(RouteContext).outlet;return et&&reactExports.createElement(OutletContext.Provider,{value:tt},et)}function useResolvedPath(tt,et){let{relative:rt}=et===void 0?{}:et,{matches:nt}=reactExports.useContext(RouteContext),{pathname:it}=useLocation(),ot=JSON.stringify(getPathContributingMatches(nt).map(at=>at.pathnameBase));return reactExports.useMemo(()=>resolveTo(tt,JSON.parse(ot),it,rt==="path"),[tt,ot,it,rt])}function useRoutes(tt,et){useInRouterContext()||invariant(!1);let{navigator:rt}=reactExports.useContext(NavigationContext),nt=reactExports.useContext(DataRouterStateContext),{matches:it}=reactExports.useContext(RouteContext),ot=it[it.length-1],at=ot?ot.params:{};ot&&ot.pathname;let st=ot?ot.pathnameBase:"/";ot&&ot.route;let lt=useLocation(),ct;if(et){var ut;let ht=typeof et=="string"?parsePath(et):et;st==="/"||(ut=ht.pathname)!=null&&ut.startsWith(st)||invariant(!1),ct=ht}else ct=lt;let dt=ct.pathname||"/",ft=st==="/"?dt:dt.slice(st.length)||"/",pt=matchRoutes(tt,{pathname:ft}),mt=_renderMatches(pt&&pt.map(ht=>Object.assign({},ht,{params:Object.assign({},at,ht.params),pathname:joinPaths([st,rt.encodeLocation?rt.encodeLocation(ht.pathname).pathname:ht.pathname]),pathnameBase:ht.pathnameBase==="/"?st:joinPaths([st,rt.encodeLocation?rt.encodeLocation(ht.pathnameBase).pathname:ht.pathnameBase])})),it,nt||void 0);return et&&mt?reactExports.createElement(LocationContext.Provider,{value:{location:_extends$k({pathname:"/",search:"",hash:"",state:null,key:"default"},ct),navigationType:Action$1.Pop}},mt):mt}function DefaultErrorElement(){let tt=useRouteError(),et=isRouteErrorResponse(tt)?tt.status+" "+tt.statusText:tt instanceof Error?tt.message:JSON.stringify(tt),rt=tt instanceof Error?tt.stack:null,it={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},ot=null;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("h2",null,"Unexpected Application Error!"),reactExports.createElement("h3",{style:{fontStyle:"italic"}},et),rt?reactExports.createElement("pre",{style:it},rt):null,ot)}class RenderErrorBoundary extends reactExports.Component{constructor(et){super(et),this.state={location:et.location,error:et.error}}static getDerivedStateFromError(et){return{error:et}}static getDerivedStateFromProps(et,rt){return rt.location!==et.location?{error:et.error,location:et.location}:{error:et.error||rt.error,location:rt.location}}componentDidCatch(et,rt){console.error("React Router caught the following error during render",et,rt)}render(){return this.state.error?reactExports.createElement(RouteContext.Provider,{value:this.props.routeContext},reactExports.createElement(RouteErrorContext.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function RenderedRoute(tt){let{routeContext:et,match:rt,children:nt}=tt,it=reactExports.useContext(DataRouterContext);return it&&it.static&&it.staticContext&&rt.route.errorElement&&(it.staticContext._deepestRenderedBoundaryId=rt.route.id),reactExports.createElement(RouteContext.Provider,{value:et},nt)}function _renderMatches(tt,et,rt){if(et===void 0&&(et=[]),tt==null)if(rt!=null&&rt.errors)tt=rt.matches;else return null;let nt=tt,it=rt==null?void 0:rt.errors;if(it!=null){let ot=nt.findIndex(at=>at.route.id&&(it==null?void 0:it[at.route.id]));ot>=0||invariant(!1),nt=nt.slice(0,Math.min(nt.length,ot+1))}return nt.reduceRight((ot,at,st)=>{let lt=at.route.id?it==null?void 0:it[at.route.id]:null,ct=rt?at.route.errorElement||reactExports.createElement(DefaultErrorElement,null):null,ut=et.concat(nt.slice(0,st+1)),dt=()=>reactExports.createElement(RenderedRoute,{match:at,routeContext:{outlet:ot,matches:ut}},lt?ct:at.route.element!==void 0?at.route.element:ot);return rt&&(at.route.errorElement||st===0)?reactExports.createElement(RenderErrorBoundary,{location:rt.location,component:ct,error:lt,children:dt(),routeContext:{outlet:null,matches:ut}}):dt()},null)}var DataRouterHook$1;(function(tt){tt.UseBlocker="useBlocker",tt.UseRevalidator="useRevalidator"})(DataRouterHook$1||(DataRouterHook$1={}));var DataRouterStateHook$1;(function(tt){tt.UseLoaderData="useLoaderData",tt.UseActionData="useActionData",tt.UseRouteError="useRouteError",tt.UseNavigation="useNavigation",tt.UseRouteLoaderData="useRouteLoaderData",tt.UseMatches="useMatches",tt.UseRevalidator="useRevalidator"})(DataRouterStateHook$1||(DataRouterStateHook$1={}));function useDataRouterState(tt){let et=reactExports.useContext(DataRouterStateContext);return et||invariant(!1),et}function useRouteContext(tt){let et=reactExports.useContext(RouteContext);return et||invariant(!1),et}function useCurrentRouteId(tt){let et=useRouteContext(),rt=et.matches[et.matches.length-1];return rt.route.id||invariant(!1),rt.route.id}function useRouteError(){var tt;let et=reactExports.useContext(RouteErrorContext),rt=useDataRouterState(DataRouterStateHook$1.UseRouteError),nt=useCurrentRouteId(DataRouterStateHook$1.UseRouteError);return et||((tt=rt.errors)==null?void 0:tt[nt])}function Navigate(tt){let{to:et,replace:rt,state:nt,relative:it}=tt;useInRouterContext()||invariant(!1);let ot=reactExports.useContext(DataRouterStateContext),at=useNavigate();return reactExports.useEffect(()=>{ot&&ot.navigation.state!=="idle"||at(et,{replace:rt,state:nt,relative:it})}),null}function Outlet(tt){return useOutlet(tt.context)}function Router$1(tt){let{basename:et="/",children:rt=null,location:nt,navigationType:it=Action$1.Pop,navigator:ot,static:at=!1}=tt;useInRouterContext()&&invariant(!1);let st=et.replace(/^\/*/,"/"),lt=reactExports.useMemo(()=>({basename:st,navigator:ot,static:at}),[st,ot,at]);typeof nt=="string"&&(nt=parsePath(nt));let{pathname:ct="/",search:ut="",hash:dt="",state:ft=null,key:pt="default"}=nt,mt=reactExports.useMemo(()=>{let ht=stripBasename(ct,st);return ht==null?null:{pathname:ht,search:ut,hash:dt,state:ft,key:pt}},[st,ct,ut,dt,ft,pt]);return mt==null?null:reactExports.createElement(NavigationContext.Provider,{value:lt},reactExports.createElement(LocationContext.Provider,{children:rt,value:{location:mt,navigationType:it}}))}var AwaitRenderStatus;(function(tt){tt[tt.pending=0]="pending",tt[tt.success=1]="success",tt[tt.error=2]="error"})(AwaitRenderStatus||(AwaitRenderStatus={}));new Promise(()=>{});/**
 * React Router DOM v6.8.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _extends$j(){return _extends$j=Object.assign?Object.assign.bind():function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_extends$j.apply(this,arguments)}function _objectWithoutPropertiesLoose$2(tt,et){if(tt==null)return{};var rt={},nt=Object.keys(tt),it,ot;for(ot=0;ot<nt.length;ot++)it=nt[ot],!(et.indexOf(it)>=0)&&(rt[it]=tt[it]);return rt}function isModifiedEvent(tt){return!!(tt.metaKey||tt.altKey||tt.ctrlKey||tt.shiftKey)}function shouldProcessLinkClick(tt,et){return tt.button===0&&(!et||et==="_self")&&!isModifiedEvent(tt)}function createSearchParams(tt){return tt===void 0&&(tt=""),new URLSearchParams(typeof tt=="string"||Array.isArray(tt)||tt instanceof URLSearchParams?tt:Object.keys(tt).reduce((et,rt)=>{let nt=tt[rt];return et.concat(Array.isArray(nt)?nt.map(it=>[rt,it]):[[rt,nt]])},[]))}function getSearchParamsForLocation(tt,et){let rt=createSearchParams(tt);if(et)for(let nt of et.keys())rt.has(nt)||et.getAll(nt).forEach(it=>{rt.append(nt,it)});return rt}const _excluded$3=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset"];function BrowserRouter(tt){let{basename:et,children:rt,window:nt}=tt,it=reactExports.useRef();it.current==null&&(it.current=createBrowserHistory({window:nt,v5Compat:!0}));let ot=it.current,[at,st]=reactExports.useState({action:ot.action,location:ot.location});return reactExports.useLayoutEffect(()=>ot.listen(st),[ot]),reactExports.createElement(Router$1,{basename:et,children:rt,location:at.location,navigationType:at.action,navigator:ot})}const isBrowser$2=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Link=reactExports.forwardRef(function(et,rt){let{onClick:nt,relative:it,reloadDocument:ot,replace:at,state:st,target:lt,to:ct,preventScrollReset:ut}=et,dt=_objectWithoutPropertiesLoose$2(et,_excluded$3),ft,pt=!1;if(isBrowser$2&&typeof ct=="string"&&/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i.test(ct)){ft=ct;let vt=new URL(window.location.href),yt=ct.startsWith("//")?new URL(vt.protocol+ct):new URL(ct);yt.origin===vt.origin?ct=yt.pathname+yt.search+yt.hash:pt=!0}let mt=useHref(ct,{relative:it}),ht=useLinkClickHandler(ct,{replace:at,state:st,target:lt,preventScrollReset:ut,relative:it});function gt(vt){nt&&nt(vt),vt.defaultPrevented||ht(vt)}return reactExports.createElement("a",_extends$j({},dt,{href:ft||mt,onClick:pt||ot?nt:gt,ref:rt,target:lt}))});var DataRouterHook;(function(tt){tt.UseScrollRestoration="useScrollRestoration",tt.UseSubmitImpl="useSubmitImpl",tt.UseFetcher="useFetcher"})(DataRouterHook||(DataRouterHook={}));var DataRouterStateHook;(function(tt){tt.UseFetchers="useFetchers",tt.UseScrollRestoration="useScrollRestoration"})(DataRouterStateHook||(DataRouterStateHook={}));function useLinkClickHandler(tt,et){let{target:rt,replace:nt,state:it,preventScrollReset:ot,relative:at}=et===void 0?{}:et,st=useNavigate(),lt=useLocation(),ct=useResolvedPath(tt,{relative:at});return reactExports.useCallback(ut=>{if(shouldProcessLinkClick(ut,rt)){ut.preventDefault();let dt=nt!==void 0?nt:createPath$1(lt)===createPath$1(ct);st(tt,{replace:dt,state:it,preventScrollReset:ot,relative:at})}},[lt,st,ct,nt,it,rt,tt,ot,at])}function useSearchParams(tt){let et=reactExports.useRef(createSearchParams(tt)),rt=reactExports.useRef(!1),nt=useLocation(),it=reactExports.useMemo(()=>getSearchParamsForLocation(nt.search,rt.current?null:et.current),[nt.search]),ot=useNavigate(),at=reactExports.useCallback((st,lt)=>{const ct=createSearchParams(typeof st=="function"?st(it):st);rt.current=!0,ot("?"+ct,lt)},[ot,it]);return[it,at]}const BaseTooltip=({enterDelay:tt=1500,children:et,...rt})=>{var nt;return jsx(Tooltip$1,{enterDelay:tt,TransitionComponent:Zoom$1,disableFocusListener:!0,...rt,children:(nt=et==null?void 0:et.props)!=null&&nt.disabled?jsx("div",{style:{display:"inline-grid"},children:et}):et})},BaseSlider=({value:tt,width:et=180,RightIcon:rt,LeftIcon:nt,disabled:it=!1,onChange:ot,step:at,min:st,max:lt,tipTitle:ct=""})=>{const ut=throttle$1(ot,400),dt=()=>{tt<st?ot(st):tt>lt&&ot(lt)},ft=mt=>{const ht=st||0;let gt=mt.target.value===""?ht:Number(mt.target.value);ut(gt)},pt=isNumber$9(at)?at:1/et;return jsx(Box$2,{sx:{width:et},children:jsx(BaseTooltip,{title:ct,children:jsxs(Stack$5,{spacing:1.1,direction:"row",alignItems:"center",children:[jsx(IconButton$1,{size:"small",onClick:()=>{ot&&ot(st)},children:jsx(nt,{fontSize:"small"})}),jsx(Slider$3,{"aria-label":"Volume",size:"small",value:tt,step:pt,onChange:(mt,ht)=>ut(ht),min:st,max:lt,track:!1,disabled:it}),rt?jsx(IconButton$1,{size:"small",onClick:()=>{ot&&ot(lt)},children:jsx(rt,{fontSize:"small"})}):jsx(MuiInput,{value:tt,size:"small",onChange:ft,onBlur:dt,inputProps:{step:pt,min:st,max:lt,type:"number","aria-labelledby":"input-slider"}})]})})})},MuiInput=styled$1(Input$2)`
  width: 80px;
`;var Help={},interopRequireDefaultExports={},interopRequireDefault={get exports(){return interopRequireDefaultExports},set exports(tt){interopRequireDefaultExports=tt}};(function(tt){function et(rt){return rt&&rt.__esModule?rt:{default:rt}}tt.exports=et,tt.exports.__esModule=!0,tt.exports.default=tt.exports})(interopRequireDefault);var createSvgIcon={};const require$$0$1=getAugmentedNamespace(utils$g);var hasRequiredCreateSvgIcon;function requireCreateSvgIcon(){return hasRequiredCreateSvgIcon||(hasRequiredCreateSvgIcon=1,function(tt){Object.defineProperty(tt,"__esModule",{value:!0}),Object.defineProperty(tt,"default",{enumerable:!0,get:function(){return et.createSvgIcon}});var et=require$$0$1}(createSvgIcon)),createSvgIcon}const require$$2$2=getAugmentedNamespace(jsxRuntime);var _interopRequireDefault$o=interopRequireDefaultExports;Object.defineProperty(Help,"__esModule",{value:!0});var default_1$f=Help.default=void 0,_createSvgIcon$f=_interopRequireDefault$o(requireCreateSvgIcon()),_jsxRuntime$f=require$$2$2,_default$l=(0,_createSvgIcon$f.default)((0,_jsxRuntime$f.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 17h-2v-2h2v2zm2.07-7.75-.9.92C13.45 12.9 13 13.5 13 15h-2v-.5c0-1.1.45-2.1 1.17-2.83l1.24-1.26c.37-.36.59-.86.59-1.41 0-1.1-.9-2-2-2s-2 .9-2 2H8c0-2.21 1.79-4 4-4s4 1.79 4 4c0 .88-.36 1.68-.93 2.25z"}),"Help");default_1$f=Help.default=_default$l;const HelpTooltip=({helpSx:tt,...et})=>jsx(BaseTooltip,{...et,children:jsx(default_1$f,{sx:{...tt}})}),ToggleSwitch=({OffIcon:tt,OnIcon:et,checked:rt,onChange:nt,tipTitle:it=""})=>jsx(BaseTooltip,{title:it,children:jsxs(Stack$5,{direction:"row",spacing:0,alignItems:"center",children:[jsx(IconButton$1,{size:"small",onClick:()=>{nt&&nt(!1)},children:jsx(tt,{fontSize:"small",sx:{opacity:rt?.5:1}})}),jsx(Switch$1,{checked:rt,disabled:!nt,onClick:()=>nt(!rt),size:"small"}),jsx(IconButton$1,{size:"small",onClick:()=>{nt&&nt(!0)},children:jsx(et,{fontSize:"small",sx:{opacity:rt?1:.5}})})]})}),BaseSelect=({variant:tt="standard",value:et,onChange:rt,label:nt,children:it,formSx:ot,selectSx:at,...st})=>jsxs(FormControl$1,{variant:tt,sx:{...ot},children:[jsx(InputLabel$1,{id:"demo-simple-select-standard-label",children:nt}),jsx(Select$2,{labelId:"demo-simple-select-standard-label",id:"demo-simple-select-standard",value:et,onChange:rt,label:nt,sx:{...at},...st,children:it})]}),BasicTitle=({children:tt,...et})=>jsx(TypographyWrapper,{...et,children:tt}),TypographyWrapper=styled$1(Typography$1)(({theme:tt})=>({position:"relative",paddingLeft:12,"&:before":{display:"block",position:"absolute",left:0,top:"50%",transform:"translateY(-50%)",width:6,height:20,content:'""',background:tt.palette.primary.main}})),BasicModal=({children:tt,open:et=!1,title:rt,width:nt=400,...it})=>jsx("div",{children:jsx(Modal$1,{"aria-labelledby":"transition-modal-title","aria-describedby":"transition-modal-description",open:et,closeAfterTransition:!0,BackdropComponent:Backdrop$1,BackdropProps:{timeout:500},...it,children:jsx(Fade$1,{in:et,children:jsxs(Box$2,{sx:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:nt,bgcolor:"background.paper",border:"2px solid #000",boxShadow:24,p:3},children:[!!rt&&jsx(BasicTitle,{variant:"h6",children:rt}),tt]})})})}),BaseTag=({isSelected:tt,sxColor:et,label:rt,...nt})=>jsx(Chip$1,{sx:{color:tt?et:"",borderColor:tt?et:""},label:rt,variant:"outlined",...nt});function CircularIndeterminate(){return jsx(CircularProgress$1,{})}const SectionLoading=tt=>jsx(LoadingWrapper,{...tt,children:jsx(CircularIndeterminate,{})}),LoadingWrapper=styled$1("div")`
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  display: flex;
  justify-content: center;
  align-items: center;
`;var Close$1={},_interopRequireDefault$n=interopRequireDefaultExports;Object.defineProperty(Close$1,"__esModule",{value:!0});var default_1$e=Close$1.default=void 0,_createSvgIcon$e=_interopRequireDefault$n(requireCreateSvgIcon()),_jsxRuntime$e=require$$2$2,_default$k=(0,_createSvgIcon$e.default)((0,_jsxRuntime$e.jsx)("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"}),"Close");default_1$e=Close$1.default=_default$k;function __rest$1(tt,et){var rt={};for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&et.indexOf(nt)<0&&(rt[nt]=tt[nt]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function")for(var it=0,nt=Object.getOwnPropertySymbols(tt);it<nt.length;it++)et.indexOf(nt[it])<0&&Object.prototype.propertyIsEnumerable.call(tt,nt[it])&&(rt[nt[it]]=tt[nt[it]]);return rt}function __awaiter(tt,et,rt,nt){function it(ot){return ot instanceof rt?ot:new rt(function(at){at(ot)})}return new(rt||(rt=Promise))(function(ot,at){function st(ut){try{ct(nt.next(ut))}catch(dt){at(dt)}}function lt(ut){try{ct(nt.throw(ut))}catch(dt){at(dt)}}function ct(ut){ut.done?ot(ut.value):it(ut.value).then(st,lt)}ct((nt=nt.apply(tt,et||[])).next())})}function __generator(tt,et){var rt={label:0,sent:function(){if(ot[0]&1)throw ot[1];return ot[1]},trys:[],ops:[]},nt,it,ot,at;return at={next:st(0),throw:st(1),return:st(2)},typeof Symbol=="function"&&(at[Symbol.iterator]=function(){return this}),at;function st(ct){return function(ut){return lt([ct,ut])}}function lt(ct){if(nt)throw new TypeError("Generator is already executing.");for(;at&&(at=0,ct[0]&&(rt=0)),rt;)try{if(nt=1,it&&(ot=ct[0]&2?it.return:ct[0]?it.throw||((ot=it.return)&&ot.call(it),0):it.next)&&!(ot=ot.call(it,ct[1])).done)return ot;switch(it=0,ot&&(ct=[ct[0]&2,ot.value]),ct[0]){case 0:case 1:ot=ct;break;case 4:return rt.label++,{value:ct[1],done:!1};case 5:rt.label++,it=ct[1],ct=[0];continue;case 7:ct=rt.ops.pop(),rt.trys.pop();continue;default:if(ot=rt.trys,!(ot=ot.length>0&&ot[ot.length-1])&&(ct[0]===6||ct[0]===2)){rt=0;continue}if(ct[0]===3&&(!ot||ct[1]>ot[0]&&ct[1]<ot[3])){rt.label=ct[1];break}if(ct[0]===6&&rt.label<ot[1]){rt.label=ot[1],ot=ct;break}if(ot&&rt.label<ot[2]){rt.label=ot[2],rt.ops.push(ct);break}ot[2]&&rt.ops.pop(),rt.trys.pop();continue}ct=et.call(tt,rt)}catch(ut){ct=[6,ut],it=0}finally{nt=ot=0}if(ct[0]&5)throw ct[1];return{value:ct[0]?ct[1]:void 0,done:!0}}}function __read$6(tt,et){var rt=typeof Symbol=="function"&&tt[Symbol.iterator];if(!rt)return tt;var nt=rt.call(tt),it,ot=[],at;try{for(;(et===void 0||et-- >0)&&!(it=nt.next()).done;)ot.push(it.value)}catch(st){at={error:st}}finally{try{it&&!it.done&&(rt=nt.return)&&rt.call(nt)}finally{if(at)throw at.error}}return ot}function __spreadArray$5(tt,et,rt){if(rt||arguments.length===2)for(var nt=0,it=et.length,ot;nt<it;nt++)(ot||!(nt in et))&&(ot||(ot=Array.prototype.slice.call(et,0,nt)),ot[nt]=et[nt]);return tt.concat(ot||Array.prototype.slice.call(et))}var COMMON_MIME_TYPES=new Map([["aac","audio/aac"],["abw","application/x-abiword"],["arc","application/x-freearc"],["avif","image/avif"],["avi","video/x-msvideo"],["azw","application/vnd.amazon.ebook"],["bin","application/octet-stream"],["bmp","image/bmp"],["bz","application/x-bzip"],["bz2","application/x-bzip2"],["cda","application/x-cdf"],["csh","application/x-csh"],["css","text/css"],["csv","text/csv"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"],["eot","application/vnd.ms-fontobject"],["epub","application/epub+zip"],["gz","application/gzip"],["gif","image/gif"],["heic","image/heic"],["heif","image/heif"],["htm","text/html"],["html","text/html"],["ico","image/vnd.microsoft.icon"],["ics","text/calendar"],["jar","application/java-archive"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["js","text/javascript"],["json","application/json"],["jsonld","application/ld+json"],["mid","audio/midi"],["midi","audio/midi"],["mjs","text/javascript"],["mp3","audio/mpeg"],["mp4","video/mp4"],["mpeg","video/mpeg"],["mpkg","application/vnd.apple.installer+xml"],["odp","application/vnd.oasis.opendocument.presentation"],["ods","application/vnd.oasis.opendocument.spreadsheet"],["odt","application/vnd.oasis.opendocument.text"],["oga","audio/ogg"],["ogv","video/ogg"],["ogx","application/ogg"],["opus","audio/opus"],["otf","font/otf"],["png","image/png"],["pdf","application/pdf"],["php","application/x-httpd-php"],["ppt","application/vnd.ms-powerpoint"],["pptx","application/vnd.openxmlformats-officedocument.presentationml.presentation"],["rar","application/vnd.rar"],["rtf","application/rtf"],["sh","application/x-sh"],["svg","image/svg+xml"],["swf","application/x-shockwave-flash"],["tar","application/x-tar"],["tif","image/tiff"],["tiff","image/tiff"],["ts","video/mp2t"],["ttf","font/ttf"],["txt","text/plain"],["vsd","application/vnd.visio"],["wav","audio/wav"],["weba","audio/webm"],["webm","video/webm"],["webp","image/webp"],["woff","font/woff"],["woff2","font/woff2"],["xhtml","application/xhtml+xml"],["xls","application/vnd.ms-excel"],["xlsx","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"],["xml","application/xml"],["xul","application/vnd.mozilla.xul+xml"],["zip","application/zip"],["7z","application/x-7z-compressed"],["mkv","video/x-matroska"],["mov","video/quicktime"],["msg","application/vnd.ms-outlook"]]);function toFileWithPath(tt,et){var rt=withMimeType(tt);if(typeof rt.path!="string"){var nt=tt.webkitRelativePath;Object.defineProperty(rt,"path",{value:typeof et=="string"?et:typeof nt=="string"&&nt.length>0?nt:tt.name,writable:!1,configurable:!1,enumerable:!0})}return rt}function withMimeType(tt){var et=tt.name,rt=et&&et.lastIndexOf(".")!==-1;if(rt&&!tt.type){var nt=et.split(".").pop().toLowerCase(),it=COMMON_MIME_TYPES.get(nt);it&&Object.defineProperty(tt,"type",{value:it,writable:!1,configurable:!1,enumerable:!0})}return tt}var FILES_TO_IGNORE=[".DS_Store","Thumbs.db"];function fromEvent(tt){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(et){return isObject$j(tt)&&isDataTransfer(tt.dataTransfer)?[2,getDataTransferFiles(tt.dataTransfer,tt.type)]:isChangeEvt(tt)?[2,getInputFiles(tt)]:Array.isArray(tt)&&tt.every(function(rt){return"getFile"in rt&&typeof rt.getFile=="function"})?[2,getFsHandleFiles(tt)]:[2,[]]})})}function isDataTransfer(tt){return isObject$j(tt)}function isChangeEvt(tt){return isObject$j(tt)&&isObject$j(tt.target)}function isObject$j(tt){return typeof tt=="object"&&tt!==null}function getInputFiles(tt){return fromList(tt.target.files).map(function(et){return toFileWithPath(et)})}function getFsHandleFiles(tt){return __awaiter(this,void 0,void 0,function(){var et;return __generator(this,function(rt){switch(rt.label){case 0:return[4,Promise.all(tt.map(function(nt){return nt.getFile()}))];case 1:return et=rt.sent(),[2,et.map(function(nt){return toFileWithPath(nt)})]}})})}function getDataTransferFiles(tt,et){return __awaiter(this,void 0,void 0,function(){var rt,nt;return __generator(this,function(it){switch(it.label){case 0:return tt.items?(rt=fromList(tt.items).filter(function(ot){return ot.kind==="file"}),et!=="drop"?[2,rt]:[4,Promise.all(rt.map(toFilePromises))]):[3,2];case 1:return nt=it.sent(),[2,noIgnoredFiles(flatten$1(nt))];case 2:return[2,noIgnoredFiles(fromList(tt.files).map(function(ot){return toFileWithPath(ot)}))]}})})}function noIgnoredFiles(tt){return tt.filter(function(et){return FILES_TO_IGNORE.indexOf(et.name)===-1})}function fromList(tt){if(tt===null)return[];for(var et=[],rt=0;rt<tt.length;rt++){var nt=tt[rt];et.push(nt)}return et}function toFilePromises(tt){if(typeof tt.webkitGetAsEntry!="function")return fromDataTransferItem(tt);var et=tt.webkitGetAsEntry();return et&&et.isDirectory?fromDirEntry(et):fromDataTransferItem(tt)}function flatten$1(tt){return tt.reduce(function(et,rt){return __spreadArray$5(__spreadArray$5([],__read$6(et),!1),__read$6(Array.isArray(rt)?flatten$1(rt):[rt]),!1)},[])}function fromDataTransferItem(tt){var et=tt.getAsFile();if(!et)return Promise.reject("".concat(tt," is not a File"));var rt=toFileWithPath(et);return Promise.resolve(rt)}function fromEntry(tt){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(et){return[2,tt.isDirectory?fromDirEntry(tt):fromFileEntry(tt)]})})}function fromDirEntry(tt){var et=tt.createReader();return new Promise(function(rt,nt){var it=[];function ot(){var at=this;et.readEntries(function(st){return __awaiter(at,void 0,void 0,function(){var lt,ct,ut;return __generator(this,function(dt){switch(dt.label){case 0:if(st.length)return[3,5];dt.label=1;case 1:return dt.trys.push([1,3,,4]),[4,Promise.all(it)];case 2:return lt=dt.sent(),rt(lt),[3,4];case 3:return ct=dt.sent(),nt(ct),[3,4];case 4:return[3,6];case 5:ut=Promise.all(st.map(fromEntry)),it.push(ut),ot(),dt.label=6;case 6:return[2]}})})},function(st){nt(st)})}ot()})}function fromFileEntry(tt){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(et){return[2,new Promise(function(rt,nt){tt.file(function(it){var ot=toFileWithPath(it,tt.fullPath);rt(ot)},function(it){nt(it)})})]})})}var _default$j=function(tt,et){if(tt&&et){var rt=Array.isArray(et)?et:et.split(","),nt=tt.name||"",it=(tt.type||"").toLowerCase(),ot=it.replace(/\/.*$/,"");return rt.some(function(at){var st=at.trim().toLowerCase();return st.charAt(0)==="."?nt.toLowerCase().endsWith(st):st.endsWith("/*")?ot===st.replace(/\/.*$/,""):it===st})}return!0};function _toConsumableArray$1(tt){return _arrayWithoutHoles$1(tt)||_iterableToArray$1(tt)||_unsupportedIterableToArray$1(tt)||_nonIterableSpread$1()}function _nonIterableSpread$1(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray$1(tt){if(typeof Symbol<"u"&&tt[Symbol.iterator]!=null||tt["@@iterator"]!=null)return Array.from(tt)}function _arrayWithoutHoles$1(tt){if(Array.isArray(tt))return _arrayLikeToArray$1(tt)}function ownKeys$9(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$5(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$9(Object(rt),!0).forEach(function(nt){_defineProperty$3(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$9(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}function _defineProperty$3(tt,et,rt){return et in tt?Object.defineProperty(tt,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=rt,tt}function _slicedToArray$2(tt,et){return _arrayWithHoles$1(tt)||_iterableToArrayLimit$2(tt,et)||_unsupportedIterableToArray$1(tt,et)||_nonIterableRest$1()}function _nonIterableRest$1(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray$1(tt,et){if(tt){if(typeof tt=="string")return _arrayLikeToArray$1(tt,et);var rt=Object.prototype.toString.call(tt).slice(8,-1);if(rt==="Object"&&tt.constructor&&(rt=tt.constructor.name),rt==="Map"||rt==="Set")return Array.from(tt);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray$1(tt,et)}}function _arrayLikeToArray$1(tt,et){(et==null||et>tt.length)&&(et=tt.length);for(var rt=0,nt=new Array(et);rt<et;rt++)nt[rt]=tt[rt];return nt}function _iterableToArrayLimit$2(tt,et){var rt=tt==null?null:typeof Symbol<"u"&&tt[Symbol.iterator]||tt["@@iterator"];if(rt!=null){var nt=[],it=!0,ot=!1,at,st;try{for(rt=rt.call(tt);!(it=(at=rt.next()).done)&&(nt.push(at.value),!(et&&nt.length===et));it=!0);}catch(lt){ot=!0,st=lt}finally{try{!it&&rt.return!=null&&rt.return()}finally{if(ot)throw st}}return nt}}function _arrayWithHoles$1(tt){if(Array.isArray(tt))return tt}var FILE_INVALID_TYPE="file-invalid-type",FILE_TOO_LARGE="file-too-large",FILE_TOO_SMALL="file-too-small",TOO_MANY_FILES="too-many-files",getInvalidTypeRejectionErr=function(et){et=Array.isArray(et)&&et.length===1?et[0]:et;var rt=Array.isArray(et)?"one of ".concat(et.join(", ")):et;return{code:FILE_INVALID_TYPE,message:"File type must be ".concat(rt)}},getTooLargeRejectionErr=function(et){return{code:FILE_TOO_LARGE,message:"File is larger than ".concat(et," ").concat(et===1?"byte":"bytes")}},getTooSmallRejectionErr=function(et){return{code:FILE_TOO_SMALL,message:"File is smaller than ".concat(et," ").concat(et===1?"byte":"bytes")}},TOO_MANY_FILES_REJECTION={code:TOO_MANY_FILES,message:"Too many files"};function fileAccepted(tt,et){var rt=tt.type==="application/x-moz-file"||_default$j(tt,et);return[rt,rt?null:getInvalidTypeRejectionErr(et)]}function fileMatchSize(tt,et,rt){if(isDefined(tt.size))if(isDefined(et)&&isDefined(rt)){if(tt.size>rt)return[!1,getTooLargeRejectionErr(rt)];if(tt.size<et)return[!1,getTooSmallRejectionErr(et)]}else{if(isDefined(et)&&tt.size<et)return[!1,getTooSmallRejectionErr(et)];if(isDefined(rt)&&tt.size>rt)return[!1,getTooLargeRejectionErr(rt)]}return[!0,null]}function isDefined(tt){return tt!=null}function allFilesAccepted(tt){var et=tt.files,rt=tt.accept,nt=tt.minSize,it=tt.maxSize,ot=tt.multiple,at=tt.maxFiles,st=tt.validator;return!ot&&et.length>1||ot&&at>=1&&et.length>at?!1:et.every(function(lt){var ct=fileAccepted(lt,rt),ut=_slicedToArray$2(ct,1),dt=ut[0],ft=fileMatchSize(lt,nt,it),pt=_slicedToArray$2(ft,1),mt=pt[0],ht=st?st(lt):null;return dt&&mt&&!ht})}function isPropagationStopped(tt){return typeof tt.isPropagationStopped=="function"?tt.isPropagationStopped():typeof tt.cancelBubble<"u"?tt.cancelBubble:!1}function isEvtWithFiles(tt){return tt.dataTransfer?Array.prototype.some.call(tt.dataTransfer.types,function(et){return et==="Files"||et==="application/x-moz-file"}):!!tt.target&&!!tt.target.files}function onDocumentDragOver(tt){tt.preventDefault()}function isIe(tt){return tt.indexOf("MSIE")!==-1||tt.indexOf("Trident/")!==-1}function isEdge(tt){return tt.indexOf("Edge/")!==-1}function isIeOrEdge(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:window.navigator.userAgent;return isIe(tt)||isEdge(tt)}function composeEventHandlers(){for(var tt=arguments.length,et=new Array(tt),rt=0;rt<tt;rt++)et[rt]=arguments[rt];return function(nt){for(var it=arguments.length,ot=new Array(it>1?it-1:0),at=1;at<it;at++)ot[at-1]=arguments[at];return et.some(function(st){return!isPropagationStopped(nt)&&st&&st.apply(void 0,[nt].concat(ot)),isPropagationStopped(nt)})}}function canUseFileSystemAccessAPI(){return"showOpenFilePicker"in window}function pickerOptionsFromAccept(tt){if(isDefined(tt)){var et=Object.entries(tt).filter(function(rt){var nt=_slicedToArray$2(rt,2),it=nt[0],ot=nt[1],at=!0;return isMIMEType(it)||(console.warn('Skipped "'.concat(it,'" because it is not a valid MIME type. Check https://developer.mozilla.org/en-US/docs/Web/HTTP/Basics_of_HTTP/MIME_types/Common_types for a list of valid MIME types.')),at=!1),(!Array.isArray(ot)||!ot.every(isExt))&&(console.warn('Skipped "'.concat(it,'" because an invalid file extension was provided.')),at=!1),at}).reduce(function(rt,nt){var it=_slicedToArray$2(nt,2),ot=it[0],at=it[1];return _objectSpread$5(_objectSpread$5({},rt),{},_defineProperty$3({},ot,at))},{});return[{description:"Files",accept:et}]}return tt}function acceptPropAsAcceptAttr(tt){if(isDefined(tt))return Object.entries(tt).reduce(function(et,rt){var nt=_slicedToArray$2(rt,2),it=nt[0],ot=nt[1];return[].concat(_toConsumableArray$1(et),[it],_toConsumableArray$1(ot))},[]).filter(function(et){return isMIMEType(et)||isExt(et)}).join(",")}function isAbort(tt){return tt instanceof DOMException&&(tt.name==="AbortError"||tt.code===tt.ABORT_ERR)}function isSecurityError(tt){return tt instanceof DOMException&&(tt.name==="SecurityError"||tt.code===tt.SECURITY_ERR)}function isMIMEType(tt){return tt==="audio/*"||tt==="video/*"||tt==="image/*"||tt==="text/*"||/\w+\/[-+.\w]+/g.test(tt)}function isExt(tt){return/^.*\.[\w]+$/.test(tt)}var _excluded$2=["children"],_excluded2$1=["open"],_excluded3=["refKey","role","onKeyDown","onFocus","onBlur","onClick","onDragEnter","onDragOver","onDragLeave","onDrop"],_excluded4=["refKey","onChange","onClick"];function _toConsumableArray(tt){return _arrayWithoutHoles(tt)||_iterableToArray(tt)||_unsupportedIterableToArray(tt)||_nonIterableSpread()}function _nonIterableSpread(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _iterableToArray(tt){if(typeof Symbol<"u"&&tt[Symbol.iterator]!=null||tt["@@iterator"]!=null)return Array.from(tt)}function _arrayWithoutHoles(tt){if(Array.isArray(tt))return _arrayLikeToArray(tt)}function _slicedToArray$1(tt,et){return _arrayWithHoles(tt)||_iterableToArrayLimit$1(tt,et)||_unsupportedIterableToArray(tt,et)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _unsupportedIterableToArray(tt,et){if(tt){if(typeof tt=="string")return _arrayLikeToArray(tt,et);var rt=Object.prototype.toString.call(tt).slice(8,-1);if(rt==="Object"&&tt.constructor&&(rt=tt.constructor.name),rt==="Map"||rt==="Set")return Array.from(tt);if(rt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(rt))return _arrayLikeToArray(tt,et)}}function _arrayLikeToArray(tt,et){(et==null||et>tt.length)&&(et=tt.length);for(var rt=0,nt=new Array(et);rt<et;rt++)nt[rt]=tt[rt];return nt}function _iterableToArrayLimit$1(tt,et){var rt=tt==null?null:typeof Symbol<"u"&&tt[Symbol.iterator]||tt["@@iterator"];if(rt!=null){var nt=[],it=!0,ot=!1,at,st;try{for(rt=rt.call(tt);!(it=(at=rt.next()).done)&&(nt.push(at.value),!(et&&nt.length===et));it=!0);}catch(lt){ot=!0,st=lt}finally{try{!it&&rt.return!=null&&rt.return()}finally{if(ot)throw st}}return nt}}function _arrayWithHoles(tt){if(Array.isArray(tt))return tt}function ownKeys$8(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$4(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$8(Object(rt),!0).forEach(function(nt){_defineProperty$2(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$8(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}function _defineProperty$2(tt,et,rt){return et in tt?Object.defineProperty(tt,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=rt,tt}function _objectWithoutProperties$3(tt,et){if(tt==null)return{};var rt=_objectWithoutPropertiesLoose$1(tt,et),nt,it;if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(tt);for(it=0;it<ot.length;it++)nt=ot[it],!(et.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(tt,nt)&&(rt[nt]=tt[nt])}return rt}function _objectWithoutPropertiesLoose$1(tt,et){if(tt==null)return{};var rt={},nt=Object.keys(tt),it,ot;for(ot=0;ot<nt.length;ot++)it=nt[ot],!(et.indexOf(it)>=0)&&(rt[it]=tt[it]);return rt}var Dropzone=reactExports.forwardRef(function(tt,et){var rt=tt.children,nt=_objectWithoutProperties$3(tt,_excluded$2),it=useDropzone(nt),ot=it.open,at=_objectWithoutProperties$3(it,_excluded2$1);return reactExports.useImperativeHandle(et,function(){return{open:ot}},[ot]),React.createElement(reactExports.Fragment,null,rt(_objectSpread$4(_objectSpread$4({},at),{},{open:ot})))});Dropzone.displayName="Dropzone";var defaultProps={disabled:!1,getFilesFromEvent:fromEvent,maxSize:1/0,minSize:0,multiple:!0,maxFiles:0,preventDropOnDocument:!0,noClick:!1,noKeyboard:!1,noDrag:!1,noDragEventsBubbling:!1,validator:null,useFsAccessApi:!0,autoFocus:!1};Dropzone.defaultProps=defaultProps;Dropzone.propTypes={children:propTypesExports.func,accept:propTypesExports.objectOf(propTypesExports.arrayOf(propTypesExports.string)),multiple:propTypesExports.bool,preventDropOnDocument:propTypesExports.bool,noClick:propTypesExports.bool,noKeyboard:propTypesExports.bool,noDrag:propTypesExports.bool,noDragEventsBubbling:propTypesExports.bool,minSize:propTypesExports.number,maxSize:propTypesExports.number,maxFiles:propTypesExports.number,disabled:propTypesExports.bool,getFilesFromEvent:propTypesExports.func,onFileDialogCancel:propTypesExports.func,onFileDialogOpen:propTypesExports.func,useFsAccessApi:propTypesExports.bool,autoFocus:propTypesExports.bool,onDragEnter:propTypesExports.func,onDragLeave:propTypesExports.func,onDragOver:propTypesExports.func,onDrop:propTypesExports.func,onDropAccepted:propTypesExports.func,onDropRejected:propTypesExports.func,onError:propTypesExports.func,validator:propTypesExports.func};var initialState={isFocused:!1,isFileDialogActive:!1,isDragActive:!1,isDragAccept:!1,isDragReject:!1,acceptedFiles:[],fileRejections:[]};function useDropzone(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},et=_objectSpread$4(_objectSpread$4({},defaultProps),tt),rt=et.accept,nt=et.disabled,it=et.getFilesFromEvent,ot=et.maxSize,at=et.minSize,st=et.multiple,lt=et.maxFiles,ct=et.onDragEnter,ut=et.onDragLeave,dt=et.onDragOver,ft=et.onDrop,pt=et.onDropAccepted,mt=et.onDropRejected,ht=et.onFileDialogCancel,gt=et.onFileDialogOpen,vt=et.useFsAccessApi,yt=et.autoFocus,bt=et.preventDropOnDocument,xt=et.noClick,$t=et.noKeyboard,Tt=et.noDrag,wt=et.noDragEventsBubbling,At=et.onError,Rt=et.validator,It=reactExports.useMemo(function(){return acceptPropAsAcceptAttr(rt)},[rt]),Lt=reactExports.useMemo(function(){return pickerOptionsFromAccept(rt)},[rt]),Pt=reactExports.useMemo(function(){return typeof gt=="function"?gt:noop$8},[gt]),Nt=reactExports.useMemo(function(){return typeof ht=="function"?ht:noop$8},[ht]),Ot=reactExports.useRef(null),Bt=reactExports.useRef(null),zt=reactExports.useReducer(reducer,initialState),Vt=_slicedToArray$1(zt,2),Ut=Vt[0],jt=Vt[1],qt=Ut.isFocused,Dt=Ut.isFileDialogActive,Ft=reactExports.useRef(typeof window<"u"&&window.isSecureContext&&vt&&canUseFileSystemAccessAPI()),Zt=function(){!Ft.current&&Dt&&setTimeout(function(){if(Bt.current){var or=Bt.current.files;or.length||(jt({type:"closeDialog"}),Nt())}},300)};reactExports.useEffect(function(){return window.addEventListener("focus",Zt,!1),function(){window.removeEventListener("focus",Zt,!1)}},[Bt,Dt,Nt,Ft]);var Kt=reactExports.useRef([]),ir=function(or){Ot.current&&Ot.current.contains(or.target)||(or.preventDefault(),Kt.current=[])};reactExports.useEffect(function(){return bt&&(document.addEventListener("dragover",onDocumentDragOver,!1),document.addEventListener("drop",ir,!1)),function(){bt&&(document.removeEventListener("dragover",onDocumentDragOver),document.removeEventListener("drop",ir))}},[Ot,bt]),reactExports.useEffect(function(){return!nt&&yt&&Ot.current&&Ot.current.focus(),function(){}},[Ot,yt,nt]);var rr=reactExports.useCallback(function(tr){At?At(tr):console.error(tr)},[At]),mr=reactExports.useCallback(function(tr){tr.preventDefault(),tr.persist(),cr(tr),Kt.current=[].concat(_toConsumableArray(Kt.current),[tr.target]),isEvtWithFiles(tr)&&Promise.resolve(it(tr)).then(function(or){if(!(isPropagationStopped(tr)&&!wt)){var br=or.length,Sr=br>0&&allFilesAccepted({files:or,accept:It,minSize:at,maxSize:ot,multiple:st,maxFiles:lt,validator:Rt}),yr=br>0&&!Sr;jt({isDragAccept:Sr,isDragReject:yr,isDragActive:!0,type:"setDraggedFiles"}),ct&&ct(tr)}}).catch(function(or){return rr(or)})},[it,ct,rr,wt,It,at,ot,st,lt,Rt]),sr=reactExports.useCallback(function(tr){tr.preventDefault(),tr.persist(),cr(tr);var or=isEvtWithFiles(tr);if(or&&tr.dataTransfer)try{tr.dataTransfer.dropEffect="copy"}catch{}return or&&dt&&dt(tr),!1},[dt,wt]),fr=reactExports.useCallback(function(tr){tr.preventDefault(),tr.persist(),cr(tr);var or=Kt.current.filter(function(Sr){return Ot.current&&Ot.current.contains(Sr)}),br=or.indexOf(tr.target);br!==-1&&or.splice(br,1),Kt.current=or,!(or.length>0)&&(jt({type:"setDraggedFiles",isDragActive:!1,isDragAccept:!1,isDragReject:!1}),isEvtWithFiles(tr)&&ut&&ut(tr))},[Ot,ut,wt]),pr=reactExports.useCallback(function(tr,or){var br=[],Sr=[];tr.forEach(function(yr){var hr=fileAccepted(yr,It),$r=_slicedToArray$1(hr,2),Mr=$r[0],Ar=$r[1],Fr=fileMatchSize(yr,at,ot),zr=_slicedToArray$1(Fr,2),jr=zr[0],Jr=zr[1],gn=Rt?Rt(yr):null;if(Mr&&jr&&!gn)br.push(yr);else{var mn=[Ar,Jr];gn&&(mn=mn.concat(gn)),Sr.push({file:yr,errors:mn.filter(function(Cr){return Cr})})}}),(!st&&br.length>1||st&&lt>=1&&br.length>lt)&&(br.forEach(function(yr){Sr.push({file:yr,errors:[TOO_MANY_FILES_REJECTION]})}),br.splice(0)),jt({acceptedFiles:br,fileRejections:Sr,type:"setFiles"}),ft&&ft(br,Sr,or),Sr.length>0&&mt&&mt(Sr,or),br.length>0&&pt&&pt(br,or)},[jt,st,It,at,ot,lt,ft,pt,mt,Rt]),vr=reactExports.useCallback(function(tr){tr.preventDefault(),tr.persist(),cr(tr),Kt.current=[],isEvtWithFiles(tr)&&Promise.resolve(it(tr)).then(function(or){isPropagationStopped(tr)&&!wt||pr(or,tr)}).catch(function(or){return rr(or)}),jt({type:"reset"})},[it,pr,rr,wt]),dr=reactExports.useCallback(function(){if(Ft.current){jt({type:"openDialog"}),Pt();var tr={multiple:st,types:Lt};window.showOpenFilePicker(tr).then(function(or){return it(or)}).then(function(or){pr(or,null),jt({type:"closeDialog"})}).catch(function(or){isAbort(or)?(Nt(or),jt({type:"closeDialog"})):isSecurityError(or)?(Ft.current=!1,Bt.current?(Bt.current.value=null,Bt.current.click()):rr(new Error("Cannot open the file picker because the https://developer.mozilla.org/en-US/docs/Web/API/File_System_Access_API is not supported and no <input> was provided."))):rr(or)});return}Bt.current&&(jt({type:"openDialog"}),Pt(),Bt.current.value=null,Bt.current.click())},[jt,Pt,Nt,vt,pr,rr,Lt,st]),xr=reactExports.useCallback(function(tr){!Ot.current||!Ot.current.isEqualNode(tr.target)||(tr.key===" "||tr.key==="Enter"||tr.keyCode===32||tr.keyCode===13)&&(tr.preventDefault(),dr())},[Ot,dr]),Gt=reactExports.useCallback(function(){jt({type:"focus"})},[]),Wt=reactExports.useCallback(function(){jt({type:"blur"})},[]),nr=reactExports.useCallback(function(){xt||(isIeOrEdge()?setTimeout(dr,0):dr())},[xt,dr]),Qt=function(or){return nt?null:or},Jt=function(or){return $t?null:Qt(or)},ar=function(or){return Tt?null:Qt(or)},cr=function(or){wt&&or.stopPropagation()},lr=reactExports.useMemo(function(){return function(){var tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},or=tr.refKey,br=or===void 0?"ref":or,Sr=tr.role,yr=tr.onKeyDown,hr=tr.onFocus,$r=tr.onBlur,Mr=tr.onClick,Ar=tr.onDragEnter,Fr=tr.onDragOver,zr=tr.onDragLeave,jr=tr.onDrop,Jr=_objectWithoutProperties$3(tr,_excluded3);return _objectSpread$4(_objectSpread$4(_defineProperty$2({onKeyDown:Jt(composeEventHandlers(yr,xr)),onFocus:Jt(composeEventHandlers(hr,Gt)),onBlur:Jt(composeEventHandlers($r,Wt)),onClick:Qt(composeEventHandlers(Mr,nr)),onDragEnter:ar(composeEventHandlers(Ar,mr)),onDragOver:ar(composeEventHandlers(Fr,sr)),onDragLeave:ar(composeEventHandlers(zr,fr)),onDrop:ar(composeEventHandlers(jr,vr)),role:typeof Sr=="string"&&Sr!==""?Sr:"presentation"},br,Ot),!nt&&!$t?{tabIndex:0}:{}),Jr)}},[Ot,xr,Gt,Wt,nr,mr,sr,fr,vr,$t,Tt,nt]),Yt=reactExports.useCallback(function(tr){tr.stopPropagation()},[]),Xt=reactExports.useMemo(function(){return function(){var tr=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},or=tr.refKey,br=or===void 0?"ref":or,Sr=tr.onChange,yr=tr.onClick,hr=_objectWithoutProperties$3(tr,_excluded4),$r=_defineProperty$2({accept:It,multiple:st,type:"file",style:{display:"none"},onChange:Qt(composeEventHandlers(Sr,vr)),onClick:Qt(composeEventHandlers(yr,Yt)),tabIndex:-1},br,Bt);return _objectSpread$4(_objectSpread$4({},$r),hr)}},[Bt,rt,st,vr,nt]);return _objectSpread$4(_objectSpread$4({},Ut),{},{isFocused:qt&&!nt,getRootProps:lr,getInputProps:Xt,rootRef:Ot,inputRef:Bt,open:Qt(dr)})}function reducer(tt,et){switch(et.type){case"focus":return _objectSpread$4(_objectSpread$4({},tt),{},{isFocused:!0});case"blur":return _objectSpread$4(_objectSpread$4({},tt),{},{isFocused:!1});case"openDialog":return _objectSpread$4(_objectSpread$4({},initialState),{},{isFileDialogActive:!0});case"closeDialog":return _objectSpread$4(_objectSpread$4({},tt),{},{isFileDialogActive:!1});case"setDraggedFiles":return _objectSpread$4(_objectSpread$4({},tt),{},{isDragActive:et.isDragActive,isDragAccept:et.isDragAccept,isDragReject:et.isDragReject});case"setFiles":return _objectSpread$4(_objectSpread$4({},tt),{},{acceptedFiles:et.acceptedFiles,fileRejections:et.fileRejections});case"reset":return _objectSpread$4({},initialState);default:return tt}}function noop$8(){}const useCustomTheme=()=>{const tt=useTheme(),{primary:et,secondary:rt,success:nt,warning:it,error:ot}=tt.palette,at=reactExports.useCallback(()=>({[DIFFICULTY.Easy]:nt.main,[DIFFICULTY.Normal]:et.main,[DIFFICULTY.Hard]:it.main,[DIFFICULTY.Expert]:ot.main,[DIFFICULTY.ExpertPlus]:rt.main}),[et,rt,nt,it,ot]),st=reactExports.useCallback(()=>({[DIFFICULTY.Easy]:nt.dark,[DIFFICULTY.Normal]:et.dark,[DIFFICULTY.Hard]:it.dark,[DIFFICULTY.Expert]:ot.dark,[DIFFICULTY.ExpertPlus]:rt.dark}),[et,rt,nt,it,ot]),lt=reactExports.useCallback(()=>({[DIFFICULTY.Easy]:"success",[DIFFICULTY.Normal]:"primary",[DIFFICULTY.Hard]:"warning",[DIFFICULTY.Expert]:"error",[DIFFICULTY.ExpertPlus]:"secondary"}),[]);return{getDifficultColors:at,getDifficultColorsType:lt,theme:tt,getDifficultHoverColors:st}},Container$9=createStyled$1("section",{target:"e19bikyi9"})(()=>({position:"relative"}),""),SelectedW=createStyled$1("div",{target:"e19bikyi8"})(()=>({position:"relative",width:"100%",height:"100%",border:`2px solid ${colors$3.grey[700]}`,borderRadius:"8px",padding:`${CONST_UNIT}px`}),""),SelectedH=createStyled$1("div",{target:"e19bikyi7"})(()=>({position:"absolute",zIndex:2,top:0,left:0,right:0,height:"40px",padding:`0 ${CONST_UNIT*3}px`,display:"flex",justifyContent:"space-between",alignItems:"center",color:`${colors$3.grey[100]}`,fontSize:"14px",opacity:0,pointerEvents:"none",transition:"opacity 500ms",[`${Container$9}:hover &`]:{opacity:1,pointerEvents:"auto",transition:"opacity 200ms"}}),""),SelectedHG=createStyled$1("div",{target:"e19bikyi6"})(()=>({position:"absolute",zIndex:1,top:0,left:0,right:0,height:"80px",borderRadius:"8px 8px 0 0",background:"linear-gradient(to bottom,hsl(0, 0%, 7%) 0%,hsla(0, 0%, 7%, 0.987) 8.1%,hsla(0, 0%, 7%, 0.951) 15.5%,hsla(0, 0%, 7%, 0.896) 22.5%,hsla(0, 0%, 7%, 0.825) 29%,hsla(0, 0%, 7%, 0.741) 35.3%,hsla(0, 0%, 7%, 0.648) 41.2%,hsla(0, 0%, 7%, 0.55) 47.1%,hsla(0, 0%, 7%, 0.45) 52.9%,hsla(0, 0%, 7%, 0.352) 58.8%,hsla(0, 0%, 7%, 0.259) 64.7%,hsla(0, 0%, 7%, 0.175) 71%,hsla(0, 0%, 7%, 0.104) 77.5%,hsla(0, 0%, 7%, 0.049) 84.5%,hsla(0, 0%, 7%, 0.013) 91.9%,hsla(0, 0%, 7%, 0) 100%)",opacity:0,transition:"opacity 1000ms",[`${Container$9}:hover &`]:{opacity:.75,transition:"opacity 300ms"}}),""),Filename=createStyled$1("div",{target:"e19bikyi5"})({name:"gq7gls",styles:"height:100%;flex:1;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;display:flex;align-items:center"}),ClearW=createStyled$1("div",{target:"e19bikyi4"})({name:"s5xdrg",styles:"display:flex;align-items:center"}),PlaceholderW=createStyled$1("div",{target:"e19bikyi3"})("width:100%;height:100%;border:2px dashed ",colors$3.grey[300],";border-radius:8px;padding:",CONST_UNIT,"px;"),InnerW=createStyled$1("div",{target:"e19bikyi2"})("width:100%;height:100%;padding:",CONST_UNIT*2,"px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center;background-color:rgba(255, 255, 255, 0);border-radius:4px;cursor:pointer;&:hover{background-color:rgba(255, 255, 255, 0.1);}"),IconW=createStyled$1("span",{target:"e19bikyi1"})("color:",colors$3.grey[300],";"),FileI=createStyled$1("input",{target:"e19bikyi0"})({name:"4t3w14",styles:"opacity:0;position:absolute;z-index:10;top:0;left:0;right:0;bottom:0;width:100%;height:100%;cursor:pointer"}),Upload=({iconNode:tt,file:et,title:rt,subTitle:nt,height:it,onSelectFile:ot,onClear:at,isShowFilename:st,renderWhenFileSelected:lt,styleWrapper:ct,...ut})=>{const{theme:{palette:dt}}=useCustomTheme(),{getRootProps:ft,getInputProps:pt,isDragActive:mt}=useDropzone({onDrop:reactExports.useCallback(vt=>{const yt=vt==null?void 0:vt[0];yt&&isFunction$a(ot)&&ot(yt)},[ot])}),ht=()=>{at==null||at()},gt=ft();return jsx(Container$9,{...gt,style:{...gt.style||{},height:it},children:et?jsxs(SelectedW,{children:[lt==null?void 0:lt(),jsxs(SelectedH,{children:[jsx(Filename,{children:st&&(et==null?void 0:et.name)}),jsxs(ClearW,{onClick:ht,children:[jsx(default_1$e,{sx:{marginRight:1},fontSize:"small"}),"Clear"]})]}),jsx(SelectedHG,{})]}):jsx(PlaceholderW,{style:{borderColor:mt?dt.primary.main:colors$3.grey[600],...ct},children:jsxs(InnerW,{children:[jsx(IconW,{children:tt}),jsx(Typography$1,{variant:"h6",sx:{marginBottom:.5},children:rt}),jsx(Typography$1,{variant:"caption",sx:{lineHeight:1.2},children:nt}),jsx(FileI,{...ut,...pt()})]})})})},DifficultyRadio=({value:tt,color:et,hoverColor:rt,...nt})=>{const it=()=>({name:"color-radio-button-demo",inputProps:{"aria-label":tt}}),ot=rt||"rgba(33, 150, 243, 0.28)";return jsx(Radio$1,{size:"small",...it(),value:tt,checkedIcon:jsx(BpCheckedIcon,{color:et}),icon:jsx(BpIcon,{color:et}),sx:{"&.Mui-checked":{backgroundColor:ot},"&:hover":{backgroundColor:ot},borderRadius:1,padding:"4px"},...nt})},BpIcon=styled$1("span",{shouldForwardProp:tt=>tt!=="difficulty"&&tt!=="difficultyColors"})(({color:tt})=>({width:14,height:14,backgroundColor:tt,".Mui-focusVisible &":{outline:"2px auto rgba(19,124,189,.6)",outlineOffset:2},"input:disabled ~ &":{boxShadow:"none",background:"rgba(57,75,89,.5)"}})),BpCheckedIcon=styled$1(BpIcon)(({color:tt})=>({backgroundColor:tt,"&:before":{display:"block",width:16,height:16,content:'""'}})),BaseRadio=({title:tt,data:et,labelStyle:rt,...nt})=>jsxs(FormControl$1,{children:[jsx(FormLabel$1,{sx:{...rt},children:tt}),jsx(RadioGroup$1,{row:!0,...nt,children:et.map(it=>jsx(FormControlLabel$1,{value:it.value,control:jsx(Radio$1,{}),label:it.label,disabled:it==null?void 0:it.disabled},it.value))})]}),UnstyledButton=createStyled$1("button",{target:"e1cqtbka0"})("display:",tt=>tt.display||"block",";margin:0;padding:0;border:none;background:transparent;cursor:pointer;text-align:left;font:inherit;&:focus{outline:2px solid ",colors$3.pink[500],";outline-offset:2px;}&:focus:not(.focus-visible){outline:none;}"),UnfocusedButton=({onClick:tt,...et})=>jsx(UnstyledButton,{...et,onClick:rt=>{isFunction$a(tt)&&(rt.currentTarget.blur(),tt(rt))}}),StyledToggleButtonGroup=styled$1(ToggleButtonGroup$1)(({theme:tt})=>({"& .MuiToggleButtonGroup-grouped":{margin:tt.spacing(.5),border:0,"&.Mui-disabled":{border:0,opacity:.3},"&:not(:first-of-type)":{borderRadius:tt.shape.borderRadius},"&:first-of-type":{borderRadius:tt.shape.borderRadius}}})),BaseToggleButtonGroupProps=({size:tt="small",exclusive:et=!0,label:rt,children:nt,TextAlign:it,onChange:ot,...at})=>jsx(StyledToggleButtonGroup,{exclusive:et,size:tt,onChange:(lt,ct)=>{ct&&(ot==null||ot(lt,ct))},...at,children:nt}),DifficultyButton=({disabled:tt,color:et,isSelected:rt,children:nt,colorValue:it,...ot})=>{const{theme:{palette:at}}=useCustomTheme();return jsx(Button$2,{disabled:tt,color:et,sx:{color:rt?"none":at.text.disabled,width:"120px",textTransform:"none",":before":{content:'" "',display:"block",width:"8px",height:"8px",background:it,mr:.5}},variant:rt?"outlined":"text",disableRipple:!0,...ot,children:nt})};styled$1("div")(()=>({position:"absolute",visibility:"visible",display:"flex"}));var Language={},_interopRequireDefault$m=interopRequireDefaultExports;Object.defineProperty(Language,"__esModule",{value:!0});var default_1$d=Language.default=void 0,_createSvgIcon$d=_interopRequireDefault$m(requireCreateSvgIcon()),_jsxRuntime$d=require$$2$2,_default$i=(0,_createSvgIcon$d.default)((0,_jsxRuntime$d.jsx)("path",{d:"M11.99 2C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zm6.93 6h-2.95c-.32-1.25-.78-2.45-1.38-3.56 1.84.63 3.37 1.91 4.33 3.56zM12 4.04c.83 1.2 1.48 2.53 1.91 3.96h-3.82c.43-1.43 1.08-2.76 1.91-3.96zM4.26 14C4.1 13.36 4 12.69 4 12s.1-1.36.26-2h3.38c-.08.66-.14 1.32-.14 2 0 .68.06 1.34.14 2H4.26zm.82 2h2.95c.32 1.25.78 2.45 1.38 3.56-1.84-.63-3.37-1.9-4.33-3.56zm2.95-8H5.08c.96-1.66 2.49-2.93 4.33-3.56C8.81 5.55 8.35 6.75 8.03 8zM12 19.96c-.83-1.2-1.48-2.53-1.91-3.96h3.82c-.43 1.43-1.08 2.76-1.91 3.96zM14.34 14H9.66c-.09-.66-.16-1.32-.16-2 0-.68.07-1.35.16-2h4.68c.09.65.16 1.32.16 2 0 .68-.07 1.34-.16 2zm.25 5.56c.6-1.11 1.06-2.31 1.38-3.56h2.95c-.96 1.65-2.49 2.93-4.33 3.56zM16.36 14c.08-.66.14-1.32.14-2 0-.68-.06-1.34-.14-2h3.38c.16.64.26 1.31.26 2s-.1 1.36-.26 2h-3.38z"}),"Language");default_1$d=Language.default=_default$i;function _objectWithoutProperties$2(tt,et){if(tt==null)return{};var rt=_objectWithoutPropertiesLoose$4(tt,et),nt,it;if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(tt);for(it=0;it<ot.length;it++)nt=ot[it],!(et.indexOf(nt)>=0)&&Object.prototype.propertyIsEnumerable.call(tt,nt)&&(rt[nt]=tt[nt])}return rt}var voidElements={area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0},t$2=/\s([^'"/\s><]+?)[\s/>]|([^\s=]+)=\s?(".*?"|'.*?')/g;function n$1(tt){var et={type:"tag",name:"",voidElement:!1,attrs:{},children:[]},rt=tt.match(/<\/?([^\s]+?)[/\s>]/);if(rt&&(et.name=rt[1],(voidElements[rt[1]]||tt.charAt(tt.length-2)==="/")&&(et.voidElement=!0),et.name.startsWith("!--"))){var nt=tt.indexOf("-->");return{type:"comment",comment:nt!==-1?tt.slice(4,nt):""}}for(var it=new RegExp(t$2),ot=null;(ot=it.exec(tt))!==null;)if(ot[0].trim())if(ot[1]){var at=ot[1].trim(),st=[at,""];at.indexOf("=")>-1&&(st=at.split("=")),et.attrs[st[0]]=st[1],it.lastIndex--}else ot[2]&&(et.attrs[ot[2]]=ot[3].trim().substring(1,ot[3].length-1));return et}var r$1=/<[a-zA-Z0-9\-\!\/](?:"[^"]*"|'[^']*'|[^'">])*>/g,i$2=/^\s*$/,s$1=Object.create(null);function a$2(tt,et){switch(et.type){case"text":return tt+et.content;case"tag":return tt+="<"+et.name+(et.attrs?function(rt){var nt=[];for(var it in rt)nt.push(it+'="'+rt[it]+'"');return nt.length?" "+nt.join(" "):""}(et.attrs):"")+(et.voidElement?"/>":">"),et.voidElement?tt:tt+et.children.reduce(a$2,"")+"</"+et.name+">";case"comment":return tt+"<!--"+et.comment+"-->"}}var c$1={parse:function(tt,et){et||(et={}),et.components||(et.components=s$1);var rt,nt=[],it=[],ot=-1,at=!1;if(tt.indexOf("<")!==0){var st=tt.indexOf("<");nt.push({type:"text",content:st===-1?tt:tt.substring(0,st)})}return tt.replace(r$1,function(lt,ct){if(at){if(lt!=="</"+rt.name+">")return;at=!1}var ut,dt=lt.charAt(1)!=="/",ft=lt.startsWith("<!--"),pt=ct+lt.length,mt=tt.charAt(pt);if(ft){var ht=n$1(lt);return ot<0?(nt.push(ht),nt):((ut=it[ot]).children.push(ht),nt)}if(dt&&(ot++,(rt=n$1(lt)).type==="tag"&&et.components[rt.name]&&(rt.type="component",at=!0),rt.voidElement||at||!mt||mt==="<"||rt.children.push({type:"text",content:tt.slice(pt,tt.indexOf("<",pt))}),ot===0&&nt.push(rt),(ut=it[ot-1])&&ut.children.push(rt),it[ot]=rt),(!dt||rt.voidElement)&&(ot>-1&&(rt.voidElement||rt.name===lt.slice(2,-1))&&(ot--,rt=ot===-1?nt:it[ot]),!at&&mt!=="<"&&mt)){ut=ot===-1?nt:it[ot].children;var gt=tt.indexOf("<",pt),vt=tt.slice(pt,gt===-1?void 0:gt);i$2.test(vt)&&(vt=" "),(gt>-1&&ot+ut.length>=0||vt!==" ")&&ut.push({type:"text",content:vt})}}),nt},stringify:function(tt){return tt.reduce(function(et,rt){return et+a$2("",rt)},"")}};function warn$5(){if(console&&console.warn){for(var tt,et=arguments.length,rt=new Array(et),nt=0;nt<et;nt++)rt[nt]=arguments[nt];typeof rt[0]=="string"&&(rt[0]="react-i18next:: ".concat(rt[0])),(tt=console).warn.apply(tt,rt)}}var alreadyWarned={};function warnOnce(){for(var tt=arguments.length,et=new Array(tt),rt=0;rt<tt;rt++)et[rt]=arguments[rt];typeof et[0]=="string"&&alreadyWarned[et[0]]||(typeof et[0]=="string"&&(alreadyWarned[et[0]]=new Date),warn$5.apply(void 0,et))}function loadNamespaces(tt,et,rt){tt.loadNamespaces(et,function(){if(tt.isInitialized)rt();else{var nt=function it(){setTimeout(function(){tt.off("initialized",it)},0),rt()};tt.on("initialized",nt)}})}function oldI18nextHasLoadedNamespace(tt,et){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},nt=et.languages[0],it=et.options?et.options.fallbackLng:!1,ot=et.languages[et.languages.length-1];if(nt.toLowerCase()==="cimode")return!0;var at=function(lt,ct){var ut=et.services.backendConnector.state["".concat(lt,"|").concat(ct)];return ut===-1||ut===2};return rt.bindI18n&&rt.bindI18n.indexOf("languageChanging")>-1&&et.services.backendConnector.backend&&et.isLanguageChangingTo&&!at(et.isLanguageChangingTo,tt)?!1:!!(et.hasResourceBundle(nt,tt)||!et.services.backendConnector.backend||et.options.resources&&!et.options.partialBundledLanguages||at(nt,tt)&&(!it||at(ot,tt)))}function hasLoadedNamespace(tt,et){var rt=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!et.languages||!et.languages.length)return warnOnce("i18n.languages were undefined or empty",et.languages),!0;var nt=et.options.ignoreJSONStructure!==void 0;return nt?et.hasLoadedNamespace(tt,{precheck:function(ot,at){if(rt.bindI18n&&rt.bindI18n.indexOf("languageChanging")>-1&&ot.services.backendConnector.backend&&ot.isLanguageChangingTo&&!at(ot.isLanguageChangingTo,tt))return!1}}):oldI18nextHasLoadedNamespace(tt,et,rt)}var matchHtmlEntity=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,htmlEntities={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},unescapeHtmlEntity=function(et){return htmlEntities[et]},unescape$1=function(et){return et.replace(matchHtmlEntity,unescapeHtmlEntity)};function ownKeys$7(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$3(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$7(Object(rt),!0).forEach(function(nt){_defineProperty$5(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$7(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}var defaultOptions$1={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:unescape$1};function setDefaults(){var tt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};defaultOptions$1=_objectSpread$3(_objectSpread$3({},defaultOptions$1),tt)}function getDefaults$1(){return defaultOptions$1}var i18nInstance;function setI18n(tt){i18nInstance=tt}function getI18n(){return i18nInstance}var _excluded$1=["format"],_excluded2=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function ownKeys$6(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$2(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$6(Object(rt),!0).forEach(function(nt){_defineProperty$5(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$6(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}function hasChildren(tt,et){if(!tt)return!1;var rt=tt.props?tt.props.children:tt.children;return et?rt.length>0:!!rt}function getChildren(tt){return tt?tt.props?tt.props.children:tt.children:[]}function hasValidReactChildren(tt){return Object.prototype.toString.call(tt)!=="[object Array]"?!1:tt.every(function(et){return reactExports.isValidElement(et)})}function getAsArray(tt){return Array.isArray(tt)?tt:[tt]}function mergeProps(tt,et){var rt=_objectSpread$2({},et);return rt.props=Object.assign(tt.props,et.props),rt}function nodesToString(tt,et){if(!tt)return"";var rt="",nt=getAsArray(tt),it=et.transSupportBasicHtmlNodes&&et.transKeepBasicHtmlNodesFor?et.transKeepBasicHtmlNodesFor:[];return nt.forEach(function(ot,at){if(typeof ot=="string")rt+="".concat(ot);else if(reactExports.isValidElement(ot)){var st=Object.keys(ot.props).length,lt=it.indexOf(ot.type)>-1,ct=ot.props.children;if(!ct&&lt&&st===0)rt+="<".concat(ot.type,"/>");else if(!ct&&(!lt||st!==0))rt+="<".concat(at,"></").concat(at,">");else if(ot.props.i18nIsDynamicList)rt+="<".concat(at,"></").concat(at,">");else if(lt&&st===1&&typeof ct=="string")rt+="<".concat(ot.type,">").concat(ct,"</").concat(ot.type,">");else{var ut=nodesToString(ct,et);rt+="<".concat(at,">").concat(ut,"</").concat(at,">")}}else if(ot===null)warn$5("Trans: the passed in value is invalid - seems you passed in a null child.");else if(_typeof$2(ot)==="object"){var dt=ot.format,ft=_objectWithoutProperties$2(ot,_excluded$1),pt=Object.keys(ft);if(pt.length===1){var mt=dt?"".concat(pt[0],", ").concat(dt):pt[0];rt+="{{".concat(mt,"}}")}else warn$5("react-i18next: the passed in object contained more than one variable - the object should look like {{ value, format }} where format is optional.",ot)}else warn$5("Trans: the passed in value is invalid - seems you passed in a variable like {number} - please pass in variables for interpolation as full objects like {{number}}.",ot)}),rt}function renderNodes(tt,et,rt,nt,it,ot){if(et==="")return[];var at=nt.transKeepBasicHtmlNodesFor||[],st=et&&new RegExp(at.join("|")).test(et);if(!tt&&!st)return[et];var lt={};function ct(gt){var vt=getAsArray(gt);vt.forEach(function(yt){typeof yt!="string"&&(hasChildren(yt)?ct(getChildren(yt)):_typeof$2(yt)==="object"&&!reactExports.isValidElement(yt)&&Object.assign(lt,yt))})}ct(tt);var ut=c$1.parse("<0>".concat(et,"</0>")),dt=_objectSpread$2(_objectSpread$2({},lt),it);function ft(gt,vt,yt){var bt=getChildren(gt),xt=mt(bt,vt.children,yt);return hasValidReactChildren(bt)&&xt.length===0?bt:xt}function pt(gt,vt,yt,bt,xt){gt.dummy&&(gt.children=vt),yt.push(reactExports.cloneElement(gt,_objectSpread$2(_objectSpread$2({},gt.props),{},{key:bt}),xt?void 0:vt))}function mt(gt,vt,yt){var bt=getAsArray(gt),xt=getAsArray(vt);return xt.reduce(function($t,Tt,wt){var At=Tt.children&&Tt.children[0]&&Tt.children[0].content&&rt.services.interpolator.interpolate(Tt.children[0].content,dt,rt.language);if(Tt.type==="tag"){var Rt=bt[parseInt(Tt.name,10)];!Rt&&yt.length===1&&yt[0][Tt.name]&&(Rt=yt[0][Tt.name]),Rt||(Rt={});var It=Object.keys(Tt.attrs).length!==0?mergeProps({props:Tt.attrs},Rt):Rt,Lt=reactExports.isValidElement(It),Pt=Lt&&hasChildren(Tt,!0)&&!Tt.voidElement,Nt=st&&_typeof$2(It)==="object"&&It.dummy&&!Lt,Ot=_typeof$2(tt)==="object"&&tt!==null&&Object.hasOwnProperty.call(tt,Tt.name);if(typeof It=="string"){var Bt=rt.services.interpolator.interpolate(It,dt,rt.language);$t.push(Bt)}else if(hasChildren(It)||Pt){var zt=ft(It,Tt,yt);pt(It,zt,$t,wt)}else if(Nt){var Vt=mt(bt,Tt.children,yt);$t.push(reactExports.cloneElement(It,_objectSpread$2(_objectSpread$2({},It.props),{},{key:wt}),Vt))}else if(Number.isNaN(parseFloat(Tt.name)))if(Ot){var Ut=ft(It,Tt,yt);pt(It,Ut,$t,wt,Tt.voidElement)}else if(nt.transSupportBasicHtmlNodes&&at.indexOf(Tt.name)>-1)if(Tt.voidElement)$t.push(reactExports.createElement(Tt.name,{key:"".concat(Tt.name,"-").concat(wt)}));else{var jt=mt(bt,Tt.children,yt);$t.push(reactExports.createElement(Tt.name,{key:"".concat(Tt.name,"-").concat(wt)},jt))}else if(Tt.voidElement)$t.push("<".concat(Tt.name," />"));else{var qt=mt(bt,Tt.children,yt);$t.push("<".concat(Tt.name,">").concat(qt,"</").concat(Tt.name,">"))}else if(_typeof$2(It)==="object"&&!Lt){var Dt=Tt.children[0]?At:null;Dt&&$t.push(Dt)}else Tt.children.length===1&&At?$t.push(reactExports.cloneElement(It,_objectSpread$2(_objectSpread$2({},It.props),{},{key:wt}),At)):$t.push(reactExports.cloneElement(It,_objectSpread$2(_objectSpread$2({},It.props),{},{key:wt})))}else if(Tt.type==="text"){var Ft=nt.transWrapTextNodes,Zt=ot?nt.unescape(rt.services.interpolator.interpolate(Tt.content,dt,rt.language)):rt.services.interpolator.interpolate(Tt.content,dt,rt.language);Ft?$t.push(reactExports.createElement(Ft,{key:"".concat(Tt.name,"-").concat(wt)},Zt)):$t.push(Zt)}return $t},[])}var ht=mt([{dummy:!0,children:tt||[]}],ut,getAsArray(tt||[]));return getChildren(ht[0])}function Trans$1(tt){var et=tt.children,rt=tt.count,nt=tt.parent,it=tt.i18nKey,ot=tt.context,at=tt.tOptions,st=at===void 0?{}:at,lt=tt.values,ct=tt.defaults,ut=tt.components,dt=tt.ns,ft=tt.i18n,pt=tt.t,mt=tt.shouldUnescape,ht=_objectWithoutProperties$2(tt,_excluded2),gt=ft||getI18n();if(!gt)return warnOnce("You will need to pass in an i18next instance by using i18nextReactModule"),et;var vt=pt||gt.t.bind(gt)||function(Pt){return Pt};ot&&(st.context=ot);var yt=_objectSpread$2(_objectSpread$2({},getDefaults$1()),gt.options&&gt.options.react),bt=dt||vt.ns||gt.options&&gt.options.defaultNS;bt=typeof bt=="string"?[bt]:bt||["translation"];var xt=ct||nodesToString(et,yt)||yt.transEmptyNodeValue||it,$t=yt.hashTransKey,Tt=it||($t?$t(xt):xt),wt=lt?st.interpolation:{interpolation:_objectSpread$2(_objectSpread$2({},st.interpolation),{},{prefix:"#$?",suffix:"?$#"})},At=_objectSpread$2(_objectSpread$2(_objectSpread$2(_objectSpread$2({},st),{},{count:rt},lt),wt),{},{defaultValue:xt,ns:bt}),Rt=Tt?vt(Tt,At):xt,It=renderNodes(ut||et,Rt,gt,yt,At,mt),Lt=nt!==void 0?nt:yt.defaultTransParent;return Lt?reactExports.createElement(Lt,ht,It):It}var initReactI18next={type:"3rdParty",init:function(et){setDefaults(et.options.react),setI18n(et)}},I18nContext=reactExports.createContext(),ReportNamespaces=function(){function tt(){_classCallCheck$a(this,tt),this.usedNamespaces={}}return _createClass$8(tt,[{key:"addUsedNamespaces",value:function(rt){var nt=this;rt.forEach(function(it){nt.usedNamespaces[it]||(nt.usedNamespaces[it]=!0)})}},{key:"getUsedNamespaces",value:function(){return Object.keys(this.usedNamespaces)}}]),tt}(),_excluded=["children","count","parent","i18nKey","context","tOptions","values","defaults","components","ns","i18n","t","shouldUnescape"];function ownKeys$5(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread$1(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$5(Object(rt),!0).forEach(function(nt){_defineProperty$5(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$5(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}function Trans(tt){var et=tt.children,rt=tt.count,nt=tt.parent,it=tt.i18nKey,ot=tt.context,at=tt.tOptions,st=at===void 0?{}:at,lt=tt.values,ct=tt.defaults,ut=tt.components,dt=tt.ns,ft=tt.i18n,pt=tt.t,mt=tt.shouldUnescape,ht=_objectWithoutProperties$2(tt,_excluded),gt=reactExports.useContext(I18nContext)||{},vt=gt.i18n,yt=gt.defaultNS,bt=ft||vt||getI18n(),xt=pt||bt&&bt.t.bind(bt);return Trans$1(_objectSpread$1({children:et,count:rt,parent:nt,i18nKey:it,context:ot,tOptions:st,values:lt,defaults:ct,components:ut,ns:dt||xt&&xt.ns||yt||bt&&bt.options&&bt.options.defaultNS,i18n:bt,t:pt,shouldUnescape:mt},ht))}function _iterableToArrayLimit(tt,et){var rt=tt==null?null:typeof Symbol<"u"&&tt[Symbol.iterator]||tt["@@iterator"];if(rt!=null){var nt,it,ot,at,st=[],lt=!0,ct=!1;try{if(ot=(rt=rt.call(tt)).next,et===0){if(Object(rt)!==rt)return;lt=!1}else for(;!(lt=(nt=ot.call(rt)).done)&&(st.push(nt.value),st.length!==et);lt=!0);}catch(ut){ct=!0,it=ut}finally{try{if(!lt&&rt.return!=null&&(at=rt.return(),Object(at)!==at))return}finally{if(ct)throw it}}return st}}function _slicedToArray(tt,et){return _arrayWithHoles$2(tt)||_iterableToArrayLimit(tt,et)||_unsupportedIterableToArray$2(tt,et)||_nonIterableRest$2()}function ownKeys$4(tt,et){var rt=Object.keys(tt);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(tt);et&&(nt=nt.filter(function(it){return Object.getOwnPropertyDescriptor(tt,it).enumerable})),rt.push.apply(rt,nt)}return rt}function _objectSpread(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et]!=null?arguments[et]:{};et%2?ownKeys$4(Object(rt),!0).forEach(function(nt){_defineProperty$5(tt,nt,rt[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(rt)):ownKeys$4(Object(rt)).forEach(function(nt){Object.defineProperty(tt,nt,Object.getOwnPropertyDescriptor(rt,nt))})}return tt}var usePrevious=function(et,rt){var nt=reactExports.useRef();return reactExports.useEffect(function(){nt.current=rt?nt.current:et},[et,rt]),nt.current};function useTranslation(tt){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},rt=et.i18n,nt=reactExports.useContext(I18nContext)||{},it=nt.i18n,ot=nt.defaultNS,at=rt||it||getI18n();if(at&&!at.reportNamespaces&&(at.reportNamespaces=new ReportNamespaces),!at){warnOnce("You will need to pass in an i18next instance by using initReactI18next");var st=function(Rt){return Array.isArray(Rt)?Rt[Rt.length-1]:Rt},lt=[st,{},!1];return lt.t=st,lt.i18n={},lt.ready=!1,lt}at.options.react&&at.options.react.wait!==void 0&&warnOnce("It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");var ct=_objectSpread(_objectSpread(_objectSpread({},getDefaults$1()),at.options.react),et),ut=ct.useSuspense,dt=ct.keyPrefix,ft=tt||ot||at.options&&at.options.defaultNS;ft=typeof ft=="string"?[ft]:ft||["translation"],at.reportNamespaces.addUsedNamespaces&&at.reportNamespaces.addUsedNamespaces(ft);var pt=(at.isInitialized||at.initializedStoreOnce)&&ft.every(function(At){return hasLoadedNamespace(At,at,ct)});function mt(){return at.getFixedT(null,ct.nsMode==="fallback"?ft:ft[0],dt)}var ht=reactExports.useState(mt),gt=_slicedToArray(ht,2),vt=gt[0],yt=gt[1],bt=ft.join(),xt=usePrevious(bt),$t=reactExports.useRef(!0);reactExports.useEffect(function(){var At=ct.bindI18n,Rt=ct.bindI18nStore;$t.current=!0,!pt&&!ut&&loadNamespaces(at,ft,function(){$t.current&&yt(mt)}),pt&&xt&&xt!==bt&&$t.current&&yt(mt);function It(){$t.current&&yt(mt)}return At&&at&&at.on(At,It),Rt&&at&&at.store.on(Rt,It),function(){$t.current=!1,At&&at&&At.split(" ").forEach(function(Lt){return at.off(Lt,It)}),Rt&&at&&Rt.split(" ").forEach(function(Lt){return at.store.off(Lt,It)})}},[at,bt]);var Tt=reactExports.useRef(!0);reactExports.useEffect(function(){$t.current&&!Tt.current&&yt(mt),Tt.current=!1},[at,dt]);var wt=[vt,at,pt];if(wt.t=vt,wt.i18n=at,wt.ready=pt,pt||!pt&&!ut)return wt;throw new Promise(function(At){loadNamespaces(at,ft,function(){At()})})}function getKey(tt,et){return!tt||et.startsWith(tt)?et:`${tt}.${et}`}function useI18n(tt){const{t:et}=useTranslation(),rt={t:it=>getKey(tt,it)};return instance?{t:(it,...ot)=>it?!it.includes(".")&&!tt?it:et(getKey(tt,it),...ot):"",i18n:instance,Trans}:rt}const t$1=tt=>tt,MenuButton=styled$1(Box$2)(({theme:tt})=>({display:"inline-block",color:tt.palette.text.primary,"& div:hover":{backgroundColor:tt.palette.action.hover}})),BaseMenu=tt=>{const[et,rt]=reactExports.useState(null),nt=reactExports.Children.toArray(tt.children);let{shouldCloseOnItemClick:it=!0,horizontalPosition:ot="left"}=tt;const at=lt=>{rt(lt.currentTarget)},st=()=>{rt(null)};return jsxs(reactExports.Fragment,{children:[jsx(MenuButton,{onClick:at,children:tt.menuButton}),jsx(Menu$1,{elevation:8,anchorEl:et,open:!!et,onClose:st,anchorOrigin:{vertical:"bottom",horizontal:ot},transformOrigin:{vertical:"top",horizontal:ot},children:nt.map((lt,ct)=>jsx("div",{onClick:it?st:()=>{},children:lt},ct))})]})},AppLocalePicker=()=>{const{i18n:tt}=useI18n(),et=useDispatch(),rt=(nt,it)=>{tt.changeLanguage(it),et(setLocale(it))};return jsx(Fragment,{children:jsx(BaseMenu,{menuButton:jsx(IconButton$1,{size:"large","aria-label":"account of current user","aria-controls":"menu-appbar","aria-haspopup":"true",color:"inherit",children:jsx(default_1$d,{})}),children:localeList.map(nt=>jsx(MenuItem$1,{selected:nt.event===tt.resolvedLanguage,onClick:it=>rt(it,nt.event),children:nt.text},nt.text))})})},LogoUrl="/assets/logo-eabc5412.png",LARGE="large",LARGE_CANVAS=36,SMALL_CANVAS=28,AppLogo=({size:tt=LARGE,color:et="#FFF"})=>{const[rt,nt]=React.useState(!1),{t:it}=useI18n();return jsxs(Container$8,{to:"/",onMouseEnter:()=>{nt(!0)},onMouseLeave:()=>{nt(!1)},children:[jsx(ImgCard,{imgSize:{width:tt===LARGE?LARGE_CANVAS:SMALL_CANVAS,height:tt===LARGE?LARGE_CANVAS:SMALL_CANVAS},url:LogoUrl}),jsx(Typography$1,{sx:{ml:1},variant:"h5",noWrap:!0,component:"div",color:et,children:it("common.title.header")})]})},Container$8=styled$1(Link)`
  display: flex;
  align-items: center;
  text-decoration: none;
`,MostWidthContainer=({children:tt,width:et=1100})=>jsx(Container$7,{style:{width:et},children:tt}),Container$7=styled$1("div")`
  margin-left: auto;
  margin-right: auto;
  padding: 0 ${CONST_UNIT*2}px;
`,useAppDispatch=()=>useDispatch(),useAppSelector=useSelector,AddIcon=createSvgIcon$1(jsx$1("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add"),ArrowDownward=createSvgIcon$1(jsx$1("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownward"),ArrowUpward=createSvgIcon$1(jsx$1("path",{d:"m4 12 1.41 1.41L11 7.83V20h2V7.83l5.58 5.59L20 12l-8-8-8 8z"}),"ArrowUpward"),AvTimerOutlined=createSvgIcon$1(jsx$1("path",{d:"M11 17c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1zm0-14v4h2V5.08c3.39.49 6 3.39 6 6.92 0 3.87-3.13 7-7 7s-7-3.13-7-7c0-1.68.59-3.22 1.58-4.42L12 13l1.41-1.41-6.8-6.8v.02C4.42 6.45 3 9.05 3 12c0 4.97 4.02 9 9 9 4.97 0 9-4.03 9-9s-4.03-9-9-9h-1zm7 9c0-.55-.45-1-1-1s-1 .45-1 1 .45 1 1 1 1-.45 1-1zM6 12c0 .55.45 1 1 1s1-.45 1-1-.45-1-1-1-1 .45-1 1z"}),"AvTimerOutlined"),BorderVerticalOutlined=createSvgIcon$1(jsx$1("path",{d:"M3 9h2V7H3v2zm0-4h2V3H3v2zm4 16h2v-2H7v2zm0-8h2v-2H7v2zm-4 0h2v-2H3v2zm0 8h2v-2H3v2zm0-4h2v-2H3v2zM7 5h2V3H7v2zm12 12h2v-2h-2v2zm-8 4h2V3h-2v18zm8 0h2v-2h-2v2zm0-8h2v-2h-2v2zm0-10v2h2V3h-2zm0 6h2V7h-2v2zm-4-4h2V3h-2v2zm0 16h2v-2h-2v2zm0-8h2v-2h-2v2z"}),"BorderVerticalOutlined"),CircleIcon=createSvgIcon$1(jsx$1("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2z"}),"Circle"),CloseFullscreenOutlined=createSvgIcon$1(jsx$1("path",{d:"M22 3.41 16.71 8.7 20 12h-8V4l3.29 3.29L20.59 2 22 3.41zM3.41 22l5.29-5.29L12 20v-8H4l3.29 3.29L2 20.59 3.41 22z"}),"CloseFullscreenOutlined"),CopyAllIcon=createSvgIcon$1(jsx$1("path",{d:"M18 2H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h9c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm0 14H9V4h9v12zM3 15v-2h2v2H3zm0-5.5h2v2H3v-2zM10 20h2v2h-2v-2zm-7-1.5v-2h2v2H3zM5 22c-1.1 0-2-.9-2-2h2v2zm3.5 0h-2v-2h2v2zm5 0v-2h2c0 1.1-.9 2-2 2zM5 6v2H3c0-1.1.9-2 2-2z"}),"CopyAll"),DataSaverOffOutlinedIcon=createSvgIcon$1(jsx$1("path",{d:"M13 2.05v3.03c3.39.49 6 3.39 6 6.92 0 .9-.18 1.75-.48 2.54l2.6 1.53c.56-1.24.88-2.62.88-4.07 0-5.18-3.95-9.45-9-9.95zM12 19c-3.87 0-7-3.13-7-7 0-3.53 2.61-6.43 6-6.92V2.05c-5.06.5-9 4.76-9 9.95 0 5.52 4.47 10 9.99 10 3.31 0 6.24-1.61 8.06-4.09l-2.6-1.53C16.17 17.98 14.21 19 12 19z"}),"DataSaverOffOutlined"),Diversity2=createSvgIcon$1([jsx$1("path",{d:"m10.1 15.9 1.42-1.42C8.79 12.05 7 10.41 7 8.85 7 7.8 7.8 7 8.85 7c1.11 0 1.54.65 2.68 2h.93c1.12-1.31 1.53-2 2.68-2 .87 0 1.55.54 1.77 1.32.35-.04.68-.06 1-.06.36 0 .7.03 1.03.08C18.7 6.43 17.13 5 15.15 5c-.12 0-.23.03-.35.04.12-.33.2-.67.2-1.04 0-1.66-1.34-3-3-3S9 2.34 9 4c0 .37.08.71.2 1.04-.12-.01-.23-.04-.35-.04C6.69 5 5 6.69 5 8.85c0 2.42 2.04 4.31 5.1 7.05z"},"0"),jsx$1("path",{d:"M22.5 16.24c-.32-.18-.66-.29-1-.35.07-.1.15-.18.21-.28 1.08-1.87.46-4.18-1.41-5.26-2.09-1.21-4.76-.39-8.65.9l.52 1.94c3.47-1.14 5.79-1.88 7.14-1.1.91.53 1.2 1.61.68 2.53-.56.96-1.33 1-3.07 1.32l-.47.81c.58 1.62.97 2.33.39 3.32-.53.91-1.61 1.2-2.53.68-.06-.03-.11-.09-.17-.13-.3.67-.64 1.24-1.03 1.73.07.04.13.09.2.14 1.87 1.08 4.18.46 5.26-1.41.06-.1.09-.21.14-.32.22.27.48.51.8.69 1.43.83 3.27.34 4.1-1.1s.32-3.29-1.11-4.11z"},"1"),jsx$1("path",{d:"M12.32 14.01c-.74 3.58-1.27 5.95-2.62 6.73-.91.53-2 .24-2.53-.68-.56-.96-.2-1.66.39-3.32l-.46-.81c-1.7-.31-2.5-.33-3.07-1.32-.53-.91-.24-2 .68-2.53.09-.05.19-.08.29-.11-.35-.56-.64-1.17-.82-1.85-.16.07-.32.14-.48.23-1.87 1.08-2.49 3.39-1.41 5.26.06.1.14.18.21.28-.34.06-.68.17-1 .35-1.43.83-1.93 2.66-1.1 4.1s2.66 1.93 4.1 1.1c.32-.18.58-.42.8-.69.05.11.08.22.14.32 1.08 1.87 3.39 2.49 5.26 1.41 2.09-1.21 2.71-3.93 3.55-7.94l-1.93-.53z"},"2")],"Diversity2"),DownloadIcon=createSvgIcon$1(jsx$1("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download"),EditIcon=createSvgIcon$1(jsx$1("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75L3 17.25zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75 1.83-1.83z"}),"Edit"),ErrorIcon=createSvgIcon$1(jsx$1("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"}),"Error"),ExitToAppOutlined=createSvgIcon$1(jsx$1("path",{d:"M10.09 15.59 11.5 17l5-5-5-5-1.41 1.41L12.67 11H3v2h9.67l-2.58 2.59zM19 3H5c-1.11 0-2 .9-2 2v4h2V5h14v14H5v-4H3v4c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"ExitToAppOutlined"),FastForwardRounded=createSvgIcon$1(jsx$1("path",{d:"m5.58 16.89 5.77-4.07c.56-.4.56-1.24 0-1.63L5.58 7.11C4.91 6.65 4 7.12 4 7.93v8.14c0 .81.91 1.28 1.58.82zM13 7.93v8.14c0 .81.91 1.28 1.58.82l5.77-4.07c.56-.4.56-1.24 0-1.63l-5.77-4.07c-.67-.47-1.58 0-1.58.81z"}),"FastForwardRounded"),FastRewindOutlined=createSvgIcon$1(jsx$1("path",{d:"M18 9.86v4.28L14.97 12 18 9.86m-9 0v4.28L5.97 12 9 9.86M20 6l-8.5 6 8.5 6V6zm-9 0-8.5 6 8.5 6V6z"}),"FastRewindOutlined"),FastRewindRounded=createSvgIcon$1(jsx$1("path",{d:"M11 16.07V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.56.4-.56 1.24 0 1.63l5.77 4.07c.67.47 1.58 0 1.58-.81zm1.66-3.25 5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z"}),"FastRewindRounded"),FlipTwoTone=createSvgIcon$1(jsx$1("path",{d:"M19 7h2v2h-2zm0 14c1.1 0 2-.9 2-2h-2v2zm0-6h2v2h-2zm0-4h2v2h-2zM9 5V3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h4v-2H5V5h4zm10-2v2h2c0-1.1-.9-2-2-2zm-8-2h2v22h-2zm4 2h2v2h-2zm0 16h2v2h-2z"}),"FlipTwoTone"),FormatLineSpacingOutlined=createSvgIcon$1(jsx$1("path",{d:"M6 7h2.5L5 3.5 1.5 7H4v10H1.5L5 20.5 8.5 17H6V7zm4-2v2h12V5H10zm0 14h12v-2H10v2zm0-6h12v-2H10v2z"}),"FormatLineSpacingOutlined"),GridViewOutlinedIcon=createSvgIcon$1(jsx$1("path",{d:"M3 3v8h8V3H3zm6 6H5V5h4v4zm-6 4v8h8v-8H3zm6 6H5v-4h4v4zm4-16v8h8V3h-8zm6 6h-4V5h4v4zm-6 4v8h8v-8h-8zm6 6h-4v-4h4v4z"}),"GridViewOutlined"),HomeIcon=createSvgIcon$1(jsx$1("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),ImportExportTwoTone=createSvgIcon$1(jsx$1("path",{d:"M5 6.99h3V14h2V6.99h3L9 3zM14 10v7.01h-3L15 21l4-3.99h-3V10z"}),"ImportExportTwoTone"),InvertColorsOffOutlined=createSvgIcon$1(jsx$1("path",{d:"M21.19 21.19 2.81 2.81 1.39 4.22l4.2 4.2c-1 1.31-1.6 2.94-1.6 4.7C4 17.48 7.58 21 12 21c1.75 0 3.36-.56 4.67-1.5l3.1 3.1 1.42-1.41zM12 19c-3.31 0-6-2.63-6-5.87 0-1.19.36-2.32 1.02-3.28L12 14.83V19zM8.38 5.56 12 2l5.65 5.56C19.1 8.99 20 10.96 20 13.13c0 1.18-.27 2.29-.74 3.3L12 9.17V4.81L9.8 6.97 8.38 5.56z"}),"InvertColorsOffOutlined"),KeyboardArrowDown=createSvgIcon$1(jsx$1("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDown"),KeyboardDoubleArrowDownIcon=createSvgIcon$1([jsx$1("path",{d:"M18 6.41 16.59 5 12 9.58 7.41 5 6 6.41l6 6z"},"0"),jsx$1("path",{d:"m18 13-1.41-1.41L12 16.17l-4.59-4.58L6 13l6 6z"},"1")],"KeyboardDoubleArrowDown"),KeyboardDoubleArrowUpIcon=createSvgIcon$1([jsx$1("path",{d:"M6 17.59 7.41 19 12 14.42 16.59 19 18 17.59l-6-6z"},"0"),jsx$1("path",{d:"m6 11 1.41 1.41L12 7.83l4.59 4.58L18 11l-6-6z"},"1")],"KeyboardDoubleArrowUp"),LockOutlinedIcon=createSvgIcon$1(jsx$1("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined"),LoginIcon=createSvgIcon$1(jsx$1("path",{d:"M11 7 9.6 8.4l2.6 2.6H2v2h10.2l-2.6 2.6L11 17l5-5-5-5zm9 12h-8v2h8c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2h-8v2h8v14z"}),"Login"),LogoutIcon=createSvgIcon$1(jsx$1("path",{d:"m17 7-1.41 1.41L18.17 11H8v2h10.17l-2.58 2.58L17 17l5-5zM4 5h8V3H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h8v-2H4V5z"}),"Logout"),MoreVertIcon=createSvgIcon$1(jsx$1("path",{d:"M12 8c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2zm0 2c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm0 6c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}),"MoreVert"),NotificationsOffOutlined=createSvgIcon$1(jsx$1("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm0-15.5c2.49 0 4 2.02 4 4.5v.1l2 2V11c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68c-.24.06-.47.15-.69.23l1.64 1.64c.18-.02.36-.05.55-.05zM5.41 3.35 4 4.76l2.81 2.81C6.29 8.57 6 9.74 6 11v5l-2 2v1h14.24l1.74 1.74 1.41-1.41L5.41 3.35zM16 17H8v-6c0-.68.12-1.32.34-1.9L16 16.76V17z"}),"NotificationsOffOutlined"),NotificationsOutlined=createSvgIcon$1(jsx$1("path",{d:"M12 22c1.1 0 2-.9 2-2h-4c0 1.1.9 2 2 2zm6-6v-5c0-3.07-1.63-5.64-4.5-6.32V4c0-.83-.67-1.5-1.5-1.5s-1.5.67-1.5 1.5v.68C7.64 5.36 6 7.92 6 11v5l-2 2v1h16v-1l-2-2zm-2 1H8v-6c0-2.48 1.51-4.5 4-4.5s4 2.02 4 4.5v6z"}),"NotificationsOutlined"),OpacityOutlined=createSvgIcon$1(jsx$1("path",{d:"M17.66 8 12 2.35 6.34 8C4.78 9.56 4 11.64 4 13.64s.78 4.11 2.34 5.67 3.61 2.35 5.66 2.35 4.1-.79 5.66-2.35S20 15.64 20 13.64 19.22 9.56 17.66 8zM6 14c.01-2 .62-3.27 1.76-4.4L12 5.27l4.24 4.38C17.38 10.77 17.99 12 18 14H6z"}),"OpacityOutlined"),PanoramaPhotosphereOutlined=createSvgIcon$1(jsx$1("path",{d:"M21.95 8.15c-.29-.16-.61-.31-.93-.46C19.4 4.33 15.98 2 12 2 8.02 2 4.6 4.33 2.99 7.68c-.33.15-.64.3-.93.46C1.41 8.5 1 9.17 1 9.91v4.18c0 .74.41 1.41 1.05 1.77.29.16.61.31.93.46C4.6 19.67 8.02 22 12 22c3.98 0 7.4-2.33 9.01-5.68.33-.15.64-.3.93-.46.65-.36 1.06-1.03 1.06-1.77V9.91c0-.74-.41-1.41-1.05-1.76zM21 9.91v4.19c-2.19 1.21-5.47 1.9-9 1.9-3.53 0-6.81-.7-9-1.91V9.91C5.2 8.69 8.47 8 12 8c3.53 0 6.81.7 9 1.91zM12 4c2.37 0 4.49 1.04 5.95 2.68C16.17 6.25 14.15 6 12 6c-2.15 0-4.17.25-5.95.68C7.51 5.04 9.63 4 12 4zm0 16c-2.37 0-4.49-1.04-5.95-2.68 1.78.43 3.8.68 5.95.68s4.17-.25 5.95-.68C16.49 18.96 14.37 20 12 20z"}),"PanoramaPhotosphereOutlined"),PanoramaVerticalRoundedIcon=createSvgIcon$1(jsx$1("path",{d:"M19.94 21.12c-1.1-2.94-1.64-6.03-1.64-9.12s.55-6.18 1.64-9.12c.04-.11.06-.22.06-.31 0-.34-.23-.57-.63-.57H4.63c-.4 0-.63.23-.63.57 0 .1.02.2.06.31C5.16 5.82 5.71 8.91 5.71 12s-.55 6.18-1.64 9.12c-.05.11-.07.22-.07.31 0 .33.23.57.63.57h14.75c.39 0 .63-.24.63-.57-.01-.1-.03-.2-.07-.31zM6.54 20c.77-2.6 1.16-5.28 1.16-8s-.39-5.4-1.16-8h10.91c-.77 2.6-1.16 5.28-1.16 8s.39 5.4 1.16 8H6.54z"}),"PanoramaVerticalRounded"),PanoramaVerticalSelectRoundedIcon=createSvgIcon$1(jsx$1("path",{d:"M18.5 12c0-3.89.84-6.95 1.43-8.69.22-.64-.26-1.31-.95-1.31H5c-.68 0-1.16.66-.95 1.31C4.74 5.36 5.5 8.1 5.5 12c0 3.87-.76 6.66-1.45 8.69-.21.65.27 1.31.95 1.31h14c.68 0 1.17-.66.95-1.31-.68-2.03-1.45-4.83-1.45-8.69z"}),"PanoramaVerticalSelectRounded"),PauseIcon=createSvgIcon$1(jsx$1("path",{d:"M6 19h4V5H6v14zm8-14v14h4V5h-4z"}),"Pause"),PauseCircleFilledRounded=createSvgIcon$1(jsx$1("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm-2 14c-.55 0-1-.45-1-1V9c0-.55.45-1 1-1s1 .45 1 1v6c0 .55-.45 1-1 1zm4 0c-.55 0-1-.45-1-1V9c0-.55.45-1 1-1s1 .45 1 1v6c0 .55-.45 1-1 1z"}),"PauseCircleFilledRounded"),PhotoSizeSelectSmallIcon=createSvgIcon$1(jsx$1("path",{d:"M23 15h-2v2h2v-2zm0-4h-2v2h2v-2zm0 8h-2v2c1 0 2-1 2-2zM15 3h-2v2h2V3zm8 4h-2v2h2V7zm-2-4v2h2c0-1-1-2-2-2zM3 21h8v-6H1v4c0 1.1.9 2 2 2zM3 7H1v2h2V7zm12 12h-2v2h2v-2zm4-16h-2v2h2V3zm0 16h-2v2h2v-2zM3 3C2 3 1 4 1 5h2V3zm0 8H1v2h2v-2zm8-8H9v2h2V3zM7 3H5v2h2V3z"}),"PhotoSizeSelectSmall"),PlayCircleRounded=createSvgIcon$1(jsx$1("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zM9.5 14.67V9.33c0-.79.88-1.27 1.54-.84l4.15 2.67c.61.39.61 1.29 0 1.68l-4.15 2.67c-.66.43-1.54-.05-1.54-.84z"}),"PlayCircleRounded"),RadioButtonCheckedIcon=createSvgIcon$1(jsx$1("path",{d:"M12 7c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"RadioButtonChecked"),RefreshIcon=createSvgIcon$1(jsx$1("path",{d:"M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z"}),"Refresh"),RepeatIcon=createSvgIcon$1(jsx$1("path",{d:"M7 7h10v3l4-4-4-4v3H5v6h2V7zm10 10H7v-3l-4 4 4 4v-3h12v-6h-2v4z"}),"Repeat"),SensorOccupiedIcon=createSvgIcon$1(jsx$1("path",{d:"M12 11c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3zm0 1c-1.84 0-3.56.5-5.03 1.37-.61.35-.97 1.02-.97 1.72V17h12v-1.91c0-.7-.36-1.36-.97-1.72C15.56 12.5 13.84 12 12 12zm9.23-3.85 1.85-.77c-1.22-2.91-3.55-5.25-6.46-6.46l-.77 1.85c2.42 1.02 4.36 2.96 5.38 5.38zM8.15 2.77 7.38.92C4.47 2.14 2.14 4.47.92 7.38l1.85.77c1.02-2.42 2.96-4.36 5.38-5.38zM2.77 15.85l-1.85.77c1.22 2.91 3.55 5.25 6.46 6.46l.77-1.85c-2.42-1.02-4.36-2.96-5.38-5.38zm13.08 5.38.77 1.85c2.91-1.22 5.25-3.55 6.46-6.46l-1.85-.77c-1.02 2.42-2.96 4.36-5.38 5.38z"}),"SensorOccupied"),SettingsIcon=createSvgIcon$1(jsx$1("path",{d:"M19.14 12.94c.04-.3.06-.61.06-.94 0-.32-.02-.64-.07-.94l2.03-1.58c.18-.14.23-.41.12-.61l-1.92-3.32c-.12-.22-.37-.29-.59-.22l-2.39.96c-.5-.38-1.03-.7-1.62-.94l-.36-2.54c-.04-.24-.24-.41-.48-.41h-3.84c-.24 0-.43.17-.47.41l-.36 2.54c-.59.24-1.13.57-1.62.94l-2.39-.96c-.22-.08-.47 0-.59.22L2.74 8.87c-.12.21-.08.47.12.61l2.03 1.58c-.05.3-.09.63-.09.94s.02.64.07.94l-2.03 1.58c-.18.14-.23.41-.12.61l1.92 3.32c.12.22.37.29.59.22l2.39-.96c.5.38 1.03.7 1.62.94l.36 2.54c.05.24.24.41.48.41h3.84c.24 0 .44-.17.47-.41l.36-2.54c.59-.24 1.13-.56 1.62-.94l2.39.96c.22.08.47 0 .59-.22l1.92-3.32c.12-.22.07-.47-.12-.61l-2.01-1.58zM12 15.6c-1.98 0-3.6-1.62-3.6-3.6s1.62-3.6 3.6-3.6 3.6 1.62 3.6 3.6-1.62 3.6-3.6 3.6z"}),"Settings"),SignalCellular4BarRoundedIcon=createSvgIcon$1(jsx$1("path",{d:"M4.41 22H20c1.1 0 2-.9 2-2V4.41c0-.89-1.08-1.34-1.71-.71L3.71 20.29c-.63.63-.19 1.71.7 1.71z"}),"SignalCellular4BarRounded"),SkipNextRounded=createSvgIcon$1(jsx$1("path",{d:"m7.58 16.89 5.77-4.07c.56-.4.56-1.24 0-1.63L7.58 7.11C6.91 6.65 6 7.12 6 7.93v8.14c0 .81.91 1.28 1.58.82zM16 7v10c0 .55.45 1 1 1s1-.45 1-1V7c0-.55-.45-1-1-1s-1 .45-1 1z"}),"SkipNextRounded"),SkipPreviousRounded=createSvgIcon$1(jsx$1("path",{d:"M7 6c.55 0 1 .45 1 1v10c0 .55-.45 1-1 1s-1-.45-1-1V7c0-.55.45-1 1-1zm3.66 6.82 5.77 4.07c.66.47 1.58-.01 1.58-.82V7.93c0-.81-.91-1.28-1.58-.82l-5.77 4.07c-.57.4-.57 1.24 0 1.64z"}),"SkipPreviousRounded"),SquareRoundedIcon=createSvgIcon$1(jsx$1("path",{d:"M3 5v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2z"}),"SquareRounded"),VisibilityIcon=createSvgIcon$1(jsx$1("path",{d:"M12 4.5C7 4.5 2.73 7.61 1 12c1.73 4.39 6 7.5 11 7.5s9.27-3.11 11-7.5c-1.73-4.39-6-7.5-11-7.5zM12 17c-2.76 0-5-2.24-5-5s2.24-5 5-5 5 2.24 5 5-2.24 5-5 5zm0-8c-1.66 0-3 1.34-3 3s1.34 3 3 3 3-1.34 3-3-1.34-3-3-3z"}),"Visibility"),VisibilityOffOutlined=createSvgIcon$1(jsx$1("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5-.59 1.22-1.42 2.27-2.41 3.12l1.41 1.41c1.39-1.23 2.49-2.77 3.18-4.53C21.27 7.11 17 4 12 4c-1.27 0-2.49.2-3.64.57l1.65 1.65C10.66 6.09 11.32 6 12 6zm-1.07 1.14L13 9.21c.57.25 1.03.71 1.28 1.28l2.07 2.07c.08-.34.14-.7.14-1.07C16.5 9.01 14.48 7 12 7c-.37 0-.72.05-1.07.14zM2.01 3.87l2.68 2.68C3.06 7.83 1.77 9.53 1 11.5 2.73 15.89 7 19 12 19c1.52 0 2.98-.29 4.32-.82l3.42 3.42 1.41-1.41L3.42 2.45 2.01 3.87zm7.5 7.5 2.61 2.61c-.04.01-.08.02-.12.02-1.38 0-2.5-1.12-2.5-2.5 0-.05.01-.08.01-.13zm-3.4-3.4 1.75 1.75c-.23.55-.36 1.15-.36 1.78 0 2.48 2.02 4.5 4.5 4.5.63 0 1.23-.13 1.77-.36l.98.98c-.88.24-1.8.38-2.75.38-3.79 0-7.17-2.13-8.82-5.5.7-1.43 1.72-2.61 2.93-3.53z"}),"VisibilityOffOutlined"),VisibilityOutlined=createSvgIcon$1(jsx$1("path",{d:"M12 6c3.79 0 7.17 2.13 8.82 5.5C19.17 14.87 15.79 17 12 17s-7.17-2.13-8.82-5.5C4.83 8.13 8.21 6 12 6m0-2C7 4 2.73 7.11 1 11.5 2.73 15.89 7 19 12 19s9.27-3.11 11-7.5C21.27 7.11 17 4 12 4zm0 5c1.38 0 2.5 1.12 2.5 2.5S13.38 14 12 14s-2.5-1.12-2.5-2.5S10.62 9 12 9m0-2c-2.48 0-4.5 2.02-4.5 4.5S9.52 16 12 16s4.5-2.02 4.5-4.5S14.48 7 12 7z"}),"VisibilityOutlined"),VolumeDownOutlined=createSvgIcon$1(jsx$1("path",{d:"M16 7.97v8.05c1.48-.73 2.5-2.25 2.5-4.02 0-1.77-1.02-3.29-2.5-4.03zM5 9v6h4l5 5V4L9 9H5zm7-.17v6.34L9.83 13H7v-2h2.83L12 8.83z"}),"VolumeDownOutlined"),VolumeUpOutlined=createSvgIcon$1(jsx$1("path",{d:"M3 9v6h4l5 5V4L7 9H3zm7-.17v6.34L7.83 13H5v-2h2.83L10 8.83zM16.5 12c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77 0-4.28-2.99-7.86-7-8.77z"}),"VolumeUpOutlined"),WbIncandescentIcon=createSvgIcon$1(jsx$1("path",{d:"m3.55 18.54 1.41 1.41 1.79-1.8-1.41-1.41-1.79 1.8zM11 22.45h2V19.5h-2v2.95zM4 10.5H1v2h3v-2zm11-4.19V1.5H9v4.81C7.21 7.35 6 9.28 6 11.5c0 3.31 2.69 6 6 6s6-2.69 6-6c0-2.22-1.21-4.15-3-5.19zm5 4.19v2h3v-2h-3zm-2.76 7.66 1.79 1.8 1.41-1.41-1.8-1.79-1.4 1.4z"}),"WbIncandescent"),WidgetsIcon=createSvgIcon$1(jsx$1("path",{d:"M13 13v8h8v-8h-8zM3 21h8v-8H3v8zM3 3v8h8V3H3zm13.66-1.31L11 7.34 16.66 13l5.66-5.66-5.66-5.65z"}),"Widgets"),WidgetsOutlined=createSvgIcon$1(jsx$1("path",{d:"m16.66 4.52 2.83 2.83-2.83 2.83-2.83-2.83 2.83-2.83M9 5v4H5V5h4m10 10v4h-4v-4h4M9 15v4H5v-4h4m7.66-13.31L11 7.34 16.66 13l5.66-5.66-5.66-5.65zM11 3H3v8h8V3zm10 10h-8v8h8v-8zm-10 0H3v8h8v-8z"}),"WidgetsOutlined"),ZoomInIcon=createSvgIcon$1([jsx$1("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"},"0"),jsx$1("path",{d:"M12 10h-2v2H9v-2H7V9h2V7h1v2h2v1z"},"1")],"ZoomIn"),ZoomOutIcon=createSvgIcon$1(jsx$1("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14zM7 9h5v1H7z"}),"ZoomOut"),DialogContext=React.createContext({dialog:{}});function useDialog$1(){const{dialog:tt}=reactExports.useContext(DialogContext);return tt}const createUpdateEffect=tt=>(et,rt)=>{const nt=reactExports.useRef(!1);tt(()=>()=>{nt.current=!1},[]),tt(()=>{if(!nt.current)nt.current=!0;else return et()},rt)},isFunction$8=tt=>typeof tt=="function",isDev=!1,isDev$1=isDev;function useMemoizedFn(tt){isDev$1&&(isFunction$8(tt)||console.error(`useMemoizedFn expected parameter is a function, got ${typeof tt}`));const et=reactExports.useRef(tt);et.current=reactExports.useMemo(()=>tt,[tt]);const rt=reactExports.useRef();return rt.current||(rt.current=function(...nt){return et.current.apply(this,nt)}),rt.current}const useUpdateEffect=createUpdateEffect(reactExports.useEffect),useAutoRunPlugin=(tt,{manual:et,ready:rt=!0,defaultParams:nt=[],refreshDeps:it=[],refreshDepsAction:ot})=>{const at=reactExports.useRef(!1);return at.current=!1,useUpdateEffect(()=>{!et&&rt&&(at.current=!0,tt.run(...nt))},[rt]),useUpdateEffect(()=>{at.current||et||(at.current=!0,ot?ot():tt.refresh())},[...it]),{onBefore:()=>{if(!rt)return{stopNow:!0}}}};useAutoRunPlugin.onInit=({ready:tt=!0,manual:et})=>({loading:!et&&tt});const useAutoRunPlugin$1=useAutoRunPlugin;function depsAreSame(tt,et){if(tt===et)return!0;for(let rt=0;rt<tt.length;rt++)if(!Object.is(tt[rt],et[rt]))return!1;return!0}function useCreation(tt,et){const{current:rt}=reactExports.useRef({deps:et,obj:void 0,initialized:!1});return(rt.initialized===!1||!depsAreSame(rt.deps,et))&&(rt.deps=et,rt.obj=tt(),rt.initialized=!0),rt.obj}function useLatest(tt){const et=reactExports.useRef(tt);return et.current=tt,et}const useUnmount=tt=>{isDev$1&&(isFunction$8(tt)||console.error(`useUnmount expected parameter is a function, got ${typeof tt}`));const et=useLatest(tt);reactExports.useEffect(()=>()=>{et.current()},[])},useUnmount$1=useUnmount,cache=new Map,setCache=(tt,et,rt)=>{const nt=cache.get(tt);nt!=null&&nt.timer&&clearTimeout(nt.timer);let it;et>-1&&(it=setTimeout(()=>{cache.delete(tt)},et)),cache.set(tt,Object.assign(Object.assign({},rt),{timer:it}))},getCache=tt=>cache.get(tt),cachePromise=new Map,getCachePromise=tt=>cachePromise.get(tt),setCachePromise=(tt,et)=>{cachePromise.set(tt,et),et.then(rt=>(cachePromise.delete(tt),rt)).catch(()=>{cachePromise.delete(tt)})},listeners$2={},trigger$1=(tt,et)=>{listeners$2[tt]&&listeners$2[tt].forEach(rt=>rt(et))},subscribe$2=(tt,et)=>(listeners$2[tt]||(listeners$2[tt]=[]),listeners$2[tt].push(et),function(){const nt=listeners$2[tt].indexOf(et);listeners$2[tt].splice(nt,1)}),useCachePlugin=(tt,{cacheKey:et,cacheTime:rt=5*60*1e3,staleTime:nt=0,setCache:it,getCache:ot})=>{const at=reactExports.useRef(),st=reactExports.useRef(),lt=(ut,dt)=>{it?it(dt):setCache(ut,rt,dt),trigger$1(ut,dt.data)},ct=(ut,dt=[])=>ot?ot(dt):getCache(ut);return useCreation(()=>{if(!et)return;const ut=ct(et);ut&&Object.hasOwnProperty.call(ut,"data")&&(tt.state.data=ut.data,tt.state.params=ut.params,(nt===-1||new Date().getTime()-ut.time<=nt)&&(tt.state.loading=!1)),at.current=subscribe$2(et,dt=>{tt.setState({data:dt})})},[]),useUnmount$1(()=>{var ut;(ut=at.current)===null||ut===void 0||ut.call(at)}),et?{onBefore:ut=>{const dt=ct(et,ut);return!dt||!Object.hasOwnProperty.call(dt,"data")?{}:nt===-1||new Date().getTime()-dt.time<=nt?{loading:!1,data:dt==null?void 0:dt.data,error:void 0,returnNow:!0}:{data:dt==null?void 0:dt.data,error:void 0}},onRequest:(ut,dt)=>{let ft=getCachePromise(et);return ft&&ft!==st.current?{servicePromise:ft}:(ft=ut(...dt),st.current=ft,setCachePromise(et,ft),{servicePromise:ft})},onSuccess:(ut,dt)=>{var ft;et&&((ft=at.current)===null||ft===void 0||ft.call(at),lt(et,{data:ut,params:dt,time:new Date().getTime()}),at.current=subscribe$2(et,pt=>{tt.setState({data:pt})}))},onMutate:ut=>{var dt;et&&((dt=at.current)===null||dt===void 0||dt.call(at),lt(et,{data:ut,params:tt.state.params,time:new Date().getTime()}),at.current=subscribe$2(et,ft=>{tt.setState({data:ft})}))}}:{}},useCachePlugin$1=useCachePlugin;function isObject$i(tt){var et=typeof tt;return tt!=null&&(et=="object"||et=="function")}var isObject_1=isObject$i,freeGlobal$1=typeof commonjsGlobal$4=="object"&&commonjsGlobal$4&&commonjsGlobal$4.Object===Object&&commonjsGlobal$4,_freeGlobal=freeGlobal$1,freeGlobal=_freeGlobal,freeSelf=typeof self=="object"&&self&&self.Object===Object&&self,root$a=freeGlobal||freeSelf||Function("return this")(),_root=root$a,root$9=_root,now$4=function(){return root$9.Date.now()},now_1=now$4,reWhitespace=/\s/;function trimmedEndIndex$1(tt){for(var et=tt.length;et--&&reWhitespace.test(tt.charAt(et)););return et}var _trimmedEndIndex=trimmedEndIndex$1,trimmedEndIndex=_trimmedEndIndex,reTrimStart=/^\s+/;function baseTrim$1(tt){return tt&&tt.slice(0,trimmedEndIndex(tt)+1).replace(reTrimStart,"")}var _baseTrim=baseTrim$1,root$8=_root,Symbol$8=root$8.Symbol,_Symbol=Symbol$8,Symbol$7=_Symbol,objectProto$f=Object.prototype,hasOwnProperty$g=objectProto$f.hasOwnProperty,nativeObjectToString$1=objectProto$f.toString,symToStringTag$1=Symbol$7?Symbol$7.toStringTag:void 0;function getRawTag$1(tt){var et=hasOwnProperty$g.call(tt,symToStringTag$1),rt=tt[symToStringTag$1];try{tt[symToStringTag$1]=void 0;var nt=!0}catch{}var it=nativeObjectToString$1.call(tt);return nt&&(et?tt[symToStringTag$1]=rt:delete tt[symToStringTag$1]),it}var _getRawTag=getRawTag$1,objectProto$e=Object.prototype,nativeObjectToString=objectProto$e.toString;function objectToString$5(tt){return nativeObjectToString.call(tt)}var _objectToString=objectToString$5,Symbol$6=_Symbol,getRawTag=_getRawTag,objectToString$4=_objectToString,nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=Symbol$6?Symbol$6.toStringTag:void 0;function baseGetTag$7(tt){return tt==null?tt===void 0?undefinedTag:nullTag:symToStringTag&&symToStringTag in Object(tt)?getRawTag(tt):objectToString$4(tt)}var _baseGetTag=baseGetTag$7;function isObjectLike$9(tt){return tt!=null&&typeof tt=="object"}var isObjectLike_1=isObjectLike$9,baseGetTag$6=_baseGetTag,isObjectLike$8=isObjectLike_1,symbolTag$3="[object Symbol]";function isSymbol$8(tt){return typeof tt=="symbol"||isObjectLike$8(tt)&&baseGetTag$6(tt)==symbolTag$3}var isSymbol_1=isSymbol$8,baseTrim=_baseTrim,isObject$h=isObject_1,isSymbol$7=isSymbol_1,NAN=0/0,reIsBadHex=/^[-+]0x[0-9a-f]+$/i,reIsBinary=/^0b[01]+$/i,reIsOctal=/^0o[0-7]+$/i,freeParseInt=parseInt;function toNumber$1(tt){if(typeof tt=="number")return tt;if(isSymbol$7(tt))return NAN;if(isObject$h(tt)){var et=typeof tt.valueOf=="function"?tt.valueOf():tt;tt=isObject$h(et)?et+"":et}if(typeof tt!="string")return tt===0?tt:+tt;tt=baseTrim(tt);var rt=reIsBinary.test(tt);return rt||reIsOctal.test(tt)?freeParseInt(tt.slice(2),rt?2:8):reIsBadHex.test(tt)?NAN:+tt}var toNumber_1=toNumber$1,isObject$g=isObject_1,now$3=now_1,toNumber=toNumber_1,FUNC_ERROR_TEXT$2="Expected a function",nativeMax=Math.max,nativeMin=Math.min;function debounce$2(tt,et,rt){var nt,it,ot,at,st,lt,ct=0,ut=!1,dt=!1,ft=!0;if(typeof tt!="function")throw new TypeError(FUNC_ERROR_TEXT$2);et=toNumber(et)||0,isObject$g(rt)&&(ut=!!rt.leading,dt="maxWait"in rt,ot=dt?nativeMax(toNumber(rt.maxWait)||0,et):ot,ft="trailing"in rt?!!rt.trailing:ft);function pt(Tt){var wt=nt,At=it;return nt=it=void 0,ct=Tt,at=tt.apply(At,wt),at}function mt(Tt){return ct=Tt,st=setTimeout(vt,et),ut?pt(Tt):at}function ht(Tt){var wt=Tt-lt,At=Tt-ct,Rt=et-wt;return dt?nativeMin(Rt,ot-At):Rt}function gt(Tt){var wt=Tt-lt,At=Tt-ct;return lt===void 0||wt>=et||wt<0||dt&&At>=ot}function vt(){var Tt=now$3();if(gt(Tt))return yt(Tt);st=setTimeout(vt,ht(Tt))}function yt(Tt){return st=void 0,ft&&nt?pt(Tt):(nt=it=void 0,at)}function bt(){st!==void 0&&clearTimeout(st),ct=0,nt=lt=it=st=void 0}function xt(){return st===void 0?at:yt(now$3())}function $t(){var Tt=now$3(),wt=gt(Tt);if(nt=arguments,it=this,lt=Tt,wt){if(st===void 0)return mt(lt);if(dt)return clearTimeout(st),st=setTimeout(vt,et),pt(lt)}return st===void 0&&(st=setTimeout(vt,et)),at}return $t.cancel=bt,$t.flush=xt,$t}var debounce_1$1=debounce$2;const useDebouncePlugin=(tt,{debounceWait:et,debounceLeading:rt,debounceTrailing:nt,debounceMaxWait:it})=>{const ot=reactExports.useRef(),at=reactExports.useMemo(()=>{const st={};return rt!==void 0&&(st.leading=rt),nt!==void 0&&(st.trailing=nt),it!==void 0&&(st.maxWait=it),st},[rt,nt,it]);return reactExports.useEffect(()=>{if(et){const st=tt.runAsync.bind(tt);return ot.current=debounce_1$1(lt=>{lt()},et,at),tt.runAsync=(...lt)=>new Promise((ct,ut)=>{var dt;(dt=ot.current)===null||dt===void 0||dt.call(ot,()=>{st(...lt).then(ct).catch(ut)})}),()=>{var lt;(lt=ot.current)===null||lt===void 0||lt.cancel(),tt.runAsync=st}}},[et,at]),et?{onCancel:()=>{var st;(st=ot.current)===null||st===void 0||st.cancel()}}:{}},useDebouncePlugin$1=useDebouncePlugin,useLoadingDelayPlugin=(tt,{loadingDelay:et})=>{const rt=reactExports.useRef();if(!et)return{};const nt=()=>{rt.current&&clearTimeout(rt.current)};return{onBefore:()=>(nt(),rt.current=setTimeout(()=>{tt.setState({loading:!0})},et),{loading:!1}),onFinally:()=>{nt()},onCancel:()=>{nt()}}},useLoadingDelayPlugin$1=useLoadingDelayPlugin,isBrowser=!!(typeof window<"u"&&window.document&&window.document.createElement),isBrowser$1=isBrowser;function isDocumentVisible(){return isBrowser$1?document.visibilityState!=="hidden":!0}const listeners$1=[];function subscribe$1(tt){return listeners$1.push(tt),function(){const rt=listeners$1.indexOf(tt);listeners$1.splice(rt,1)}}if(isBrowser$1){const tt=()=>{if(isDocumentVisible())for(let et=0;et<listeners$1.length;et++){const rt=listeners$1[et];rt()}};window.addEventListener("visibilitychange",tt,!1)}const usePollingPlugin=(tt,{pollingInterval:et,pollingWhenHidden:rt=!0,pollingErrorRetryCount:nt=-1})=>{const it=reactExports.useRef(),ot=reactExports.useRef(),at=reactExports.useRef(0),st=()=>{var lt;it.current&&clearTimeout(it.current),(lt=ot.current)===null||lt===void 0||lt.call(ot)};return useUpdateEffect(()=>{et||st()},[et]),et?{onBefore:()=>{st()},onError:()=>{at.current+=1},onSuccess:()=>{at.current=0},onFinally:()=>{nt===-1||nt!==-1&&at.current<=nt?it.current=setTimeout(()=>{!rt&&!isDocumentVisible()?ot.current=subscribe$1(()=>{tt.refresh()}):tt.refresh()},et):at.current=0},onCancel:()=>{st()}}:{}},usePollingPlugin$1=usePollingPlugin;function limit(tt,et){let rt=!1;return(...nt)=>{rt||(rt=!0,tt(...nt),setTimeout(()=>{rt=!1},et))}}function isOnline(){return isBrowser$1&&typeof navigator.onLine<"u"?navigator.onLine:!0}const listeners=[];function subscribe(tt){return listeners.push(tt),function(){const rt=listeners.indexOf(tt);rt>-1&&listeners.splice(rt,1)}}if(isBrowser$1){const tt=()=>{if(!(!isDocumentVisible()||!isOnline()))for(let et=0;et<listeners.length;et++){const rt=listeners[et];rt()}};window.addEventListener("visibilitychange",tt,!1),window.addEventListener("focus",tt,!1)}const useRefreshOnWindowFocusPlugin=(tt,{refreshOnWindowFocus:et,focusTimespan:rt=5e3})=>{const nt=reactExports.useRef(),it=()=>{var ot;(ot=nt.current)===null||ot===void 0||ot.call(nt)};return reactExports.useEffect(()=>{if(et){const ot=limit(tt.refresh.bind(tt),rt);nt.current=subscribe(()=>{ot()})}return()=>{it()}},[et,rt]),useUnmount$1(()=>{it()}),{}},useRefreshOnWindowFocusPlugin$1=useRefreshOnWindowFocusPlugin,useRetryPlugin=(tt,{retryInterval:et,retryCount:rt})=>{const nt=reactExports.useRef(),it=reactExports.useRef(0),ot=reactExports.useRef(!1);return rt?{onBefore:()=>{ot.current||(it.current=0),ot.current=!1,nt.current&&clearTimeout(nt.current)},onSuccess:()=>{it.current=0},onError:()=>{if(it.current+=1,rt===-1||it.current<=rt){const at=et??Math.min(1e3*Math.pow(2,it.current),3e4);nt.current=setTimeout(()=>{ot.current=!0,tt.refresh()},at)}else it.current=0},onCancel:()=>{it.current=0,nt.current&&clearTimeout(nt.current)}}:{}},useRetryPlugin$1=useRetryPlugin;var debounce$1=debounce_1$1,isObject$f=isObject_1,FUNC_ERROR_TEXT$1="Expected a function";function throttle(tt,et,rt){var nt=!0,it=!0;if(typeof tt!="function")throw new TypeError(FUNC_ERROR_TEXT$1);return isObject$f(rt)&&(nt="leading"in rt?!!rt.leading:nt,it="trailing"in rt?!!rt.trailing:it),debounce$1(tt,et,{leading:nt,maxWait:et,trailing:it})}var throttle_1=throttle;const useThrottlePlugin=(tt,{throttleWait:et,throttleLeading:rt,throttleTrailing:nt})=>{const it=reactExports.useRef(),ot={};return rt!==void 0&&(ot.leading=rt),nt!==void 0&&(ot.trailing=nt),reactExports.useEffect(()=>{if(et){const at=tt.runAsync.bind(tt);return it.current=throttle_1(st=>{st()},et,ot),tt.runAsync=(...st)=>new Promise((lt,ct)=>{var ut;(ut=it.current)===null||ut===void 0||ut.call(it,()=>{at(...st).then(lt).catch(ct)})}),()=>{var st;tt.runAsync=at,(st=it.current)===null||st===void 0||st.cancel()}}},[et,rt,nt]),et?{onCancel:()=>{var at;(at=it.current)===null||at===void 0||at.cancel()}}:{}},useThrottlePlugin$1=useThrottlePlugin,useMount=tt=>{isDev$1&&(isFunction$8(tt)||console.error(`useMount: parameter \`fn\` expected to be a function, but got "${typeof tt}".`)),reactExports.useEffect(()=>{tt==null||tt()},[])},useMount$1=useMount,useUpdate=()=>{const[,tt]=reactExports.useState({});return reactExports.useCallback(()=>tt({}),[])},useUpdate$1=useUpdate;class Fetch{constructor(et,rt,nt,it={}){this.serviceRef=et,this.options=rt,this.subscribe=nt,this.initState=it,this.count=0,this.state={loading:!1,params:void 0,data:void 0,error:void 0},this.state=Object.assign(Object.assign(Object.assign({},this.state),{loading:!rt.manual}),it)}setState(et={}){this.state=Object.assign(Object.assign({},this.state),et),this.subscribe()}runPluginHandler(et,...rt){const nt=this.pluginImpls.map(it=>{var ot;return(ot=it[et])===null||ot===void 0?void 0:ot.call(it,...rt)}).filter(Boolean);return Object.assign({},...nt)}runAsync(...et){var rt,nt,it,ot,at,st,lt,ct,ut,dt;return __awaiter(this,void 0,void 0,function*(){this.count+=1;const ft=this.count,pt=this.runPluginHandler("onBefore",et),{stopNow:mt=!1,returnNow:ht=!1}=pt,gt=__rest$1(pt,["stopNow","returnNow"]);if(mt)return new Promise(()=>{});if(this.setState(Object.assign({loading:!0,params:et},gt)),ht)return Promise.resolve(gt.data);(nt=(rt=this.options).onBefore)===null||nt===void 0||nt.call(rt,et);try{let{servicePromise:vt}=this.runPluginHandler("onRequest",this.serviceRef.current,et);vt||(vt=this.serviceRef.current(...et));const yt=yield vt;return ft!==this.count?new Promise(()=>{}):(this.setState({data:yt,error:void 0,loading:!1}),(ot=(it=this.options).onSuccess)===null||ot===void 0||ot.call(it,yt,et),this.runPluginHandler("onSuccess",yt,et),(st=(at=this.options).onFinally)===null||st===void 0||st.call(at,et,yt,void 0),ft===this.count&&this.runPluginHandler("onFinally",et,yt,void 0),yt)}catch(vt){if(ft!==this.count)return new Promise(()=>{});throw this.setState({error:vt,loading:!1}),(ct=(lt=this.options).onError)===null||ct===void 0||ct.call(lt,vt,et),this.runPluginHandler("onError",vt,et),(dt=(ut=this.options).onFinally)===null||dt===void 0||dt.call(ut,et,void 0,vt),ft===this.count&&this.runPluginHandler("onFinally",et,void 0,vt),vt}})}run(...et){this.runAsync(...et).catch(rt=>{this.options.onError||console.error(rt)})}cancel(){this.count+=1,this.setState({loading:!1}),this.runPluginHandler("onCancel")}refresh(){this.run(...this.state.params||[])}refreshAsync(){return this.runAsync(...this.state.params||[])}mutate(et){const rt=isFunction$8(et)?et(this.state.data):et;this.runPluginHandler("onMutate",rt),this.setState({data:rt})}}function useRequestImplement(tt,et={},rt=[]){const{manual:nt=!1}=et,it=__rest$1(et,["manual"]),ot=Object.assign({manual:nt},it),at=useLatest(tt),st=useUpdate$1(),lt=useCreation(()=>{const ct=rt.map(ut=>{var dt;return(dt=ut==null?void 0:ut.onInit)===null||dt===void 0?void 0:dt.call(ut,ot)}).filter(Boolean);return new Fetch(at,ot,st,Object.assign({},...ct))},[]);return lt.options=ot,lt.pluginImpls=rt.map(ct=>ct(lt,ot)),useMount$1(()=>{if(!nt){const ct=lt.state.params||et.defaultParams||[];lt.run(...ct)}}),useUnmount$1(()=>{lt.cancel()}),{loading:lt.state.loading,data:lt.state.data,error:lt.state.error,params:lt.state.params||[],cancel:useMemoizedFn(lt.cancel.bind(lt)),refresh:useMemoizedFn(lt.refresh.bind(lt)),refreshAsync:useMemoizedFn(lt.refreshAsync.bind(lt)),run:useMemoizedFn(lt.run.bind(lt)),runAsync:useMemoizedFn(lt.runAsync.bind(lt)),mutate:useMemoizedFn(lt.mutate.bind(lt))}}function useRequest(tt,et,rt){return useRequestImplement(tt,et,[...rt||[],useDebouncePlugin$1,useLoadingDelayPlugin$1,usePollingPlugin$1,useRefreshOnWindowFocusPlugin$1,useThrottlePlugin$1,useAutoRunPlugin$1,useCachePlugin$1,useRetryPlugin$1])}function useDebounceFn(tt,et){var rt;isDev$1&&(isFunction$8(tt)||console.error(`useDebounceFn expected parameter is a function, got ${typeof tt}`));const nt=useLatest(tt),it=(rt=et==null?void 0:et.wait)!==null&&rt!==void 0?rt:1e3,ot=reactExports.useMemo(()=>debounce_1$1((...at)=>nt.current(...at),it,et),[]);return useUnmount$1(()=>{ot.cancel()}),{run:ot,cancel:ot.cancel,flush:ot.flush}}function listCacheClear$1(){this.__data__=[],this.size=0}var _listCacheClear=listCacheClear$1;function eq$3(tt,et){return tt===et||tt!==tt&&et!==et}var eq_1=eq$3,eq$2=eq_1;function assocIndexOf$4(tt,et){for(var rt=tt.length;rt--;)if(eq$2(tt[rt][0],et))return rt;return-1}var _assocIndexOf=assocIndexOf$4,assocIndexOf$3=_assocIndexOf,arrayProto=Array.prototype,splice=arrayProto.splice;function listCacheDelete$1(tt){var et=this.__data__,rt=assocIndexOf$3(et,tt);if(rt<0)return!1;var nt=et.length-1;return rt==nt?et.pop():splice.call(et,rt,1),--this.size,!0}var _listCacheDelete=listCacheDelete$1,assocIndexOf$2=_assocIndexOf;function listCacheGet$1(tt){var et=this.__data__,rt=assocIndexOf$2(et,tt);return rt<0?void 0:et[rt][1]}var _listCacheGet=listCacheGet$1,assocIndexOf$1=_assocIndexOf;function listCacheHas$1(tt){return assocIndexOf$1(this.__data__,tt)>-1}var _listCacheHas=listCacheHas$1,assocIndexOf=_assocIndexOf;function listCacheSet$1(tt,et){var rt=this.__data__,nt=assocIndexOf(rt,tt);return nt<0?(++this.size,rt.push([tt,et])):rt[nt][1]=et,this}var _listCacheSet=listCacheSet$1,listCacheClear=_listCacheClear,listCacheDelete=_listCacheDelete,listCacheGet=_listCacheGet,listCacheHas=_listCacheHas,listCacheSet=_listCacheSet;function ListCache$4(tt){var et=-1,rt=tt==null?0:tt.length;for(this.clear();++et<rt;){var nt=tt[et];this.set(nt[0],nt[1])}}ListCache$4.prototype.clear=listCacheClear;ListCache$4.prototype.delete=listCacheDelete;ListCache$4.prototype.get=listCacheGet;ListCache$4.prototype.has=listCacheHas;ListCache$4.prototype.set=listCacheSet;var _ListCache=ListCache$4,ListCache$3=_ListCache;function stackClear$1(){this.__data__=new ListCache$3,this.size=0}var _stackClear=stackClear$1;function stackDelete$1(tt){var et=this.__data__,rt=et.delete(tt);return this.size=et.size,rt}var _stackDelete=stackDelete$1;function stackGet$1(tt){return this.__data__.get(tt)}var _stackGet=stackGet$1;function stackHas$1(tt){return this.__data__.has(tt)}var _stackHas=stackHas$1,baseGetTag$5=_baseGetTag,isObject$e=isObject_1,asyncTag="[object AsyncFunction]",funcTag$2="[object Function]",genTag$1="[object GeneratorFunction]",proxyTag="[object Proxy]";function isFunction$7(tt){if(!isObject$e(tt))return!1;var et=baseGetTag$5(tt);return et==funcTag$2||et==genTag$1||et==asyncTag||et==proxyTag}var isFunction_1=isFunction$7,root$7=_root,coreJsData$1=root$7["__core-js_shared__"],_coreJsData=coreJsData$1,coreJsData=_coreJsData,maskSrcKey=function(){var tt=/[^.]+$/.exec(coreJsData&&coreJsData.keys&&coreJsData.keys.IE_PROTO||"");return tt?"Symbol(src)_1."+tt:""}();function isMasked$1(tt){return!!maskSrcKey&&maskSrcKey in tt}var _isMasked=isMasked$1,funcProto$2=Function.prototype,funcToString$2=funcProto$2.toString;function toSource$2(tt){if(tt!=null){try{return funcToString$2.call(tt)}catch{}try{return tt+""}catch{}}return""}var _toSource=toSource$2,isFunction$6=isFunction_1,isMasked=_isMasked,isObject$d=isObject_1,toSource$1=_toSource,reRegExpChar=/[\\^$.*+?()[\]{}|]/g,reIsHostCtor=/^\[object .+?Constructor\]$/,funcProto$1=Function.prototype,objectProto$d=Object.prototype,funcToString$1=funcProto$1.toString,hasOwnProperty$f=objectProto$d.hasOwnProperty,reIsNative=RegExp("^"+funcToString$1.call(hasOwnProperty$f).replace(reRegExpChar,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function baseIsNative$1(tt){if(!isObject$d(tt)||isMasked(tt))return!1;var et=isFunction$6(tt)?reIsNative:reIsHostCtor;return et.test(toSource$1(tt))}var _baseIsNative=baseIsNative$1;function getValue$1(tt,et){return tt==null?void 0:tt[et]}var _getValue=getValue$1,baseIsNative=_baseIsNative,getValue=_getValue;function getNative$7(tt,et){var rt=getValue(tt,et);return baseIsNative(rt)?rt:void 0}var _getNative=getNative$7,getNative$6=_getNative,root$6=_root,Map$4=getNative$6(root$6,"Map"),_Map=Map$4,getNative$5=_getNative,nativeCreate$4=getNative$5(Object,"create"),_nativeCreate=nativeCreate$4,nativeCreate$3=_nativeCreate;function hashClear$1(){this.__data__=nativeCreate$3?nativeCreate$3(null):{},this.size=0}var _hashClear=hashClear$1;function hashDelete$1(tt){var et=this.has(tt)&&delete this.__data__[tt];return this.size-=et?1:0,et}var _hashDelete=hashDelete$1,nativeCreate$2=_nativeCreate,HASH_UNDEFINED$2="__lodash_hash_undefined__",objectProto$c=Object.prototype,hasOwnProperty$e=objectProto$c.hasOwnProperty;function hashGet$1(tt){var et=this.__data__;if(nativeCreate$2){var rt=et[tt];return rt===HASH_UNDEFINED$2?void 0:rt}return hasOwnProperty$e.call(et,tt)?et[tt]:void 0}var _hashGet=hashGet$1,nativeCreate$1=_nativeCreate,objectProto$b=Object.prototype,hasOwnProperty$d=objectProto$b.hasOwnProperty;function hashHas$1(tt){var et=this.__data__;return nativeCreate$1?et[tt]!==void 0:hasOwnProperty$d.call(et,tt)}var _hashHas=hashHas$1,nativeCreate=_nativeCreate,HASH_UNDEFINED$1="__lodash_hash_undefined__";function hashSet$1(tt,et){var rt=this.__data__;return this.size+=this.has(tt)?0:1,rt[tt]=nativeCreate&&et===void 0?HASH_UNDEFINED$1:et,this}var _hashSet=hashSet$1,hashClear=_hashClear,hashDelete=_hashDelete,hashGet=_hashGet,hashHas=_hashHas,hashSet=_hashSet;function Hash$1(tt){var et=-1,rt=tt==null?0:tt.length;for(this.clear();++et<rt;){var nt=tt[et];this.set(nt[0],nt[1])}}Hash$1.prototype.clear=hashClear;Hash$1.prototype.delete=hashDelete;Hash$1.prototype.get=hashGet;Hash$1.prototype.has=hashHas;Hash$1.prototype.set=hashSet;var _Hash=Hash$1,Hash=_Hash,ListCache$2=_ListCache,Map$3=_Map;function mapCacheClear$1(){this.size=0,this.__data__={hash:new Hash,map:new(Map$3||ListCache$2),string:new Hash}}var _mapCacheClear=mapCacheClear$1;function isKeyable$1(tt){var et=typeof tt;return et=="string"||et=="number"||et=="symbol"||et=="boolean"?tt!=="__proto__":tt===null}var _isKeyable=isKeyable$1,isKeyable=_isKeyable;function getMapData$4(tt,et){var rt=tt.__data__;return isKeyable(et)?rt[typeof et=="string"?"string":"hash"]:rt.map}var _getMapData=getMapData$4,getMapData$3=_getMapData;function mapCacheDelete$1(tt){var et=getMapData$3(this,tt).delete(tt);return this.size-=et?1:0,et}var _mapCacheDelete=mapCacheDelete$1,getMapData$2=_getMapData;function mapCacheGet$1(tt){return getMapData$2(this,tt).get(tt)}var _mapCacheGet=mapCacheGet$1,getMapData$1=_getMapData;function mapCacheHas$1(tt){return getMapData$1(this,tt).has(tt)}var _mapCacheHas=mapCacheHas$1,getMapData=_getMapData;function mapCacheSet$1(tt,et){var rt=getMapData(this,tt),nt=rt.size;return rt.set(tt,et),this.size+=rt.size==nt?0:1,this}var _mapCacheSet=mapCacheSet$1,mapCacheClear=_mapCacheClear,mapCacheDelete=_mapCacheDelete,mapCacheGet=_mapCacheGet,mapCacheHas=_mapCacheHas,mapCacheSet=_mapCacheSet;function MapCache$3(tt){var et=-1,rt=tt==null?0:tt.length;for(this.clear();++et<rt;){var nt=tt[et];this.set(nt[0],nt[1])}}MapCache$3.prototype.clear=mapCacheClear;MapCache$3.prototype.delete=mapCacheDelete;MapCache$3.prototype.get=mapCacheGet;MapCache$3.prototype.has=mapCacheHas;MapCache$3.prototype.set=mapCacheSet;var _MapCache=MapCache$3,ListCache$1=_ListCache,Map$2=_Map,MapCache$2=_MapCache,LARGE_ARRAY_SIZE=200;function stackSet$1(tt,et){var rt=this.__data__;if(rt instanceof ListCache$1){var nt=rt.__data__;if(!Map$2||nt.length<LARGE_ARRAY_SIZE-1)return nt.push([tt,et]),this.size=++rt.size,this;rt=this.__data__=new MapCache$2(nt)}return rt.set(tt,et),this.size=rt.size,this}var _stackSet=stackSet$1,ListCache=_ListCache,stackClear=_stackClear,stackDelete=_stackDelete,stackGet=_stackGet,stackHas=_stackHas,stackSet=_stackSet;function Stack$3(tt){var et=this.__data__=new ListCache(tt);this.size=et.size}Stack$3.prototype.clear=stackClear;Stack$3.prototype.delete=stackDelete;Stack$3.prototype.get=stackGet;Stack$3.prototype.has=stackHas;Stack$3.prototype.set=stackSet;var _Stack=Stack$3,HASH_UNDEFINED="__lodash_hash_undefined__";function setCacheAdd$1(tt){return this.__data__.set(tt,HASH_UNDEFINED),this}var _setCacheAdd=setCacheAdd$1;function setCacheHas$1(tt){return this.__data__.has(tt)}var _setCacheHas=setCacheHas$1,MapCache$1=_MapCache,setCacheAdd=_setCacheAdd,setCacheHas=_setCacheHas;function SetCache$1(tt){var et=-1,rt=tt==null?0:tt.length;for(this.__data__=new MapCache$1;++et<rt;)this.add(tt[et])}SetCache$1.prototype.add=SetCache$1.prototype.push=setCacheAdd;SetCache$1.prototype.has=setCacheHas;var _SetCache=SetCache$1;function arraySome$1(tt,et){for(var rt=-1,nt=tt==null?0:tt.length;++rt<nt;)if(et(tt[rt],rt,tt))return!0;return!1}var _arraySome=arraySome$1;function cacheHas$1(tt,et){return tt.has(et)}var _cacheHas=cacheHas$1,SetCache=_SetCache,arraySome=_arraySome,cacheHas=_cacheHas,COMPARE_PARTIAL_FLAG$5=1,COMPARE_UNORDERED_FLAG$3=2;function equalArrays$2(tt,et,rt,nt,it,ot){var at=rt&COMPARE_PARTIAL_FLAG$5,st=tt.length,lt=et.length;if(st!=lt&&!(at&&lt>st))return!1;var ct=ot.get(tt),ut=ot.get(et);if(ct&&ut)return ct==et&&ut==tt;var dt=-1,ft=!0,pt=rt&COMPARE_UNORDERED_FLAG$3?new SetCache:void 0;for(ot.set(tt,et),ot.set(et,tt);++dt<st;){var mt=tt[dt],ht=et[dt];if(nt)var gt=at?nt(ht,mt,dt,et,tt,ot):nt(mt,ht,dt,tt,et,ot);if(gt!==void 0){if(gt)continue;ft=!1;break}if(pt){if(!arraySome(et,function(vt,yt){if(!cacheHas(pt,yt)&&(mt===vt||it(mt,vt,rt,nt,ot)))return pt.push(yt)})){ft=!1;break}}else if(!(mt===ht||it(mt,ht,rt,nt,ot))){ft=!1;break}}return ot.delete(tt),ot.delete(et),ft}var _equalArrays=equalArrays$2,root$5=_root,Uint8Array$3=root$5.Uint8Array,_Uint8Array=Uint8Array$3;function mapToArray$1(tt){var et=-1,rt=Array(tt.size);return tt.forEach(function(nt,it){rt[++et]=[it,nt]}),rt}var _mapToArray=mapToArray$1;function setToArray$1(tt){var et=-1,rt=Array(tt.size);return tt.forEach(function(nt){rt[++et]=nt}),rt}var _setToArray=setToArray$1,Symbol$5=_Symbol,Uint8Array$2=_Uint8Array,eq$1=eq_1,equalArrays$1=_equalArrays,mapToArray=_mapToArray,setToArray=_setToArray,COMPARE_PARTIAL_FLAG$4=1,COMPARE_UNORDERED_FLAG$2=2,boolTag$3="[object Boolean]",dateTag$3="[object Date]",errorTag$2="[object Error]",mapTag$5="[object Map]",numberTag$3="[object Number]",regexpTag$3="[object RegExp]",setTag$5="[object Set]",stringTag$4="[object String]",symbolTag$2="[object Symbol]",arrayBufferTag$3="[object ArrayBuffer]",dataViewTag$4="[object DataView]",symbolProto$2=Symbol$5?Symbol$5.prototype:void 0,symbolValueOf$1=symbolProto$2?symbolProto$2.valueOf:void 0;function equalByTag$1(tt,et,rt,nt,it,ot,at){switch(rt){case dataViewTag$4:if(tt.byteLength!=et.byteLength||tt.byteOffset!=et.byteOffset)return!1;tt=tt.buffer,et=et.buffer;case arrayBufferTag$3:return!(tt.byteLength!=et.byteLength||!ot(new Uint8Array$2(tt),new Uint8Array$2(et)));case boolTag$3:case dateTag$3:case numberTag$3:return eq$1(+tt,+et);case errorTag$2:return tt.name==et.name&&tt.message==et.message;case regexpTag$3:case stringTag$4:return tt==et+"";case mapTag$5:var st=mapToArray;case setTag$5:var lt=nt&COMPARE_PARTIAL_FLAG$4;if(st||(st=setToArray),tt.size!=et.size&&!lt)return!1;var ct=at.get(tt);if(ct)return ct==et;nt|=COMPARE_UNORDERED_FLAG$2,at.set(tt,et);var ut=equalArrays$1(st(tt),st(et),nt,it,ot,at);return at.delete(tt),ut;case symbolTag$2:if(symbolValueOf$1)return symbolValueOf$1.call(tt)==symbolValueOf$1.call(et)}return!1}var _equalByTag=equalByTag$1;function arrayPush$2(tt,et){for(var rt=-1,nt=et.length,it=tt.length;++rt<nt;)tt[it+rt]=et[rt];return tt}var _arrayPush=arrayPush$2,isArray$i=Array.isArray,isArray_1=isArray$i,arrayPush$1=_arrayPush,isArray$h=isArray_1;function baseGetAllKeys$2(tt,et,rt){var nt=et(tt);return isArray$h(tt)?nt:arrayPush$1(nt,rt(tt))}var _baseGetAllKeys=baseGetAllKeys$2;function arrayFilter$1(tt,et){for(var rt=-1,nt=tt==null?0:tt.length,it=0,ot=[];++rt<nt;){var at=tt[rt];et(at,rt,tt)&&(ot[it++]=at)}return ot}var _arrayFilter=arrayFilter$1;function stubArray$2(){return[]}var stubArray_1=stubArray$2,arrayFilter=_arrayFilter,stubArray$1=stubArray_1,objectProto$a=Object.prototype,propertyIsEnumerable$1=objectProto$a.propertyIsEnumerable,nativeGetSymbols$1=Object.getOwnPropertySymbols,getSymbols$3=nativeGetSymbols$1?function(tt){return tt==null?[]:(tt=Object(tt),arrayFilter(nativeGetSymbols$1(tt),function(et){return propertyIsEnumerable$1.call(tt,et)}))}:stubArray$1,_getSymbols=getSymbols$3;function baseTimes$1(tt,et){for(var rt=-1,nt=Array(tt);++rt<tt;)nt[rt]=et(rt);return nt}var _baseTimes=baseTimes$1,baseGetTag$4=_baseGetTag,isObjectLike$7=isObjectLike_1,argsTag$3="[object Arguments]";function baseIsArguments$1(tt){return isObjectLike$7(tt)&&baseGetTag$4(tt)==argsTag$3}var _baseIsArguments=baseIsArguments$1,baseIsArguments=_baseIsArguments,isObjectLike$6=isObjectLike_1,objectProto$9=Object.prototype,hasOwnProperty$c=objectProto$9.hasOwnProperty,propertyIsEnumerable=objectProto$9.propertyIsEnumerable,isArguments$2=baseIsArguments(function(){return arguments}())?baseIsArguments:function(tt){return isObjectLike$6(tt)&&hasOwnProperty$c.call(tt,"callee")&&!propertyIsEnumerable.call(tt,"callee")},isArguments_1=isArguments$2,isBufferExports={},isBuffer$4={get exports(){return isBufferExports},set exports(tt){isBufferExports=tt}};function stubFalse(){return!1}var stubFalse_1=stubFalse;(function(tt,et){var rt=_root,nt=stubFalse_1,it=et&&!et.nodeType&&et,ot=it&&!0&&tt&&!tt.nodeType&&tt,at=ot&&ot.exports===it,st=at?rt.Buffer:void 0,lt=st?st.isBuffer:void 0,ct=lt||nt;tt.exports=ct})(isBuffer$4,isBufferExports);var MAX_SAFE_INTEGER$1=9007199254740991,reIsUint=/^(?:0|[1-9]\d*)$/;function isIndex$2(tt,et){var rt=typeof tt;return et=et??MAX_SAFE_INTEGER$1,!!et&&(rt=="number"||rt!="symbol"&&reIsUint.test(tt))&&tt>-1&&tt%1==0&&tt<et}var _isIndex=isIndex$2,MAX_SAFE_INTEGER=9007199254740991;function isLength$3(tt){return typeof tt=="number"&&tt>-1&&tt%1==0&&tt<=MAX_SAFE_INTEGER}var isLength_1=isLength$3,baseGetTag$3=_baseGetTag,isLength$2=isLength_1,isObjectLike$5=isObjectLike_1,argsTag$2="[object Arguments]",arrayTag$2="[object Array]",boolTag$2="[object Boolean]",dateTag$2="[object Date]",errorTag$1="[object Error]",funcTag$1="[object Function]",mapTag$4="[object Map]",numberTag$2="[object Number]",objectTag$4="[object Object]",regexpTag$2="[object RegExp]",setTag$4="[object Set]",stringTag$3="[object String]",weakMapTag$2="[object WeakMap]",arrayBufferTag$2="[object ArrayBuffer]",dataViewTag$3="[object DataView]",float32Tag$2="[object Float32Array]",float64Tag$2="[object Float64Array]",int8Tag$2="[object Int8Array]",int16Tag$2="[object Int16Array]",int32Tag$2="[object Int32Array]",uint8Tag$2="[object Uint8Array]",uint8ClampedTag$2="[object Uint8ClampedArray]",uint16Tag$2="[object Uint16Array]",uint32Tag$2="[object Uint32Array]",typedArrayTags={};typedArrayTags[float32Tag$2]=typedArrayTags[float64Tag$2]=typedArrayTags[int8Tag$2]=typedArrayTags[int16Tag$2]=typedArrayTags[int32Tag$2]=typedArrayTags[uint8Tag$2]=typedArrayTags[uint8ClampedTag$2]=typedArrayTags[uint16Tag$2]=typedArrayTags[uint32Tag$2]=!0;typedArrayTags[argsTag$2]=typedArrayTags[arrayTag$2]=typedArrayTags[arrayBufferTag$2]=typedArrayTags[boolTag$2]=typedArrayTags[dataViewTag$3]=typedArrayTags[dateTag$2]=typedArrayTags[errorTag$1]=typedArrayTags[funcTag$1]=typedArrayTags[mapTag$4]=typedArrayTags[numberTag$2]=typedArrayTags[objectTag$4]=typedArrayTags[regexpTag$2]=typedArrayTags[setTag$4]=typedArrayTags[stringTag$3]=typedArrayTags[weakMapTag$2]=!1;function baseIsTypedArray$1(tt){return isObjectLike$5(tt)&&isLength$2(tt.length)&&!!typedArrayTags[baseGetTag$3(tt)]}var _baseIsTypedArray=baseIsTypedArray$1;function baseUnary$3(tt){return function(et){return tt(et)}}var _baseUnary=baseUnary$3,_nodeUtilExports={},_nodeUtil={get exports(){return _nodeUtilExports},set exports(tt){_nodeUtilExports=tt}};(function(tt,et){var rt=_freeGlobal,nt=et&&!et.nodeType&&et,it=nt&&!0&&tt&&!tt.nodeType&&tt,ot=it&&it.exports===nt,at=ot&&rt.process,st=function(){try{var lt=it&&it.require&&it.require("util").types;return lt||at&&at.binding&&at.binding("util")}catch{}}();tt.exports=st})(_nodeUtil,_nodeUtilExports);var baseIsTypedArray=_baseIsTypedArray,baseUnary$2=_baseUnary,nodeUtil$2=_nodeUtilExports,nodeIsTypedArray=nodeUtil$2&&nodeUtil$2.isTypedArray,isTypedArray$4=nodeIsTypedArray?baseUnary$2(nodeIsTypedArray):baseIsTypedArray,isTypedArray_1=isTypedArray$4,baseTimes=_baseTimes,isArguments$1=isArguments_1,isArray$g=isArray_1,isBuffer$3=isBufferExports,isIndex$1=_isIndex,isTypedArray$3=isTypedArray_1,objectProto$8=Object.prototype,hasOwnProperty$b=objectProto$8.hasOwnProperty;function arrayLikeKeys$2(tt,et){var rt=isArray$g(tt),nt=!rt&&isArguments$1(tt),it=!rt&&!nt&&isBuffer$3(tt),ot=!rt&&!nt&&!it&&isTypedArray$3(tt),at=rt||nt||it||ot,st=at?baseTimes(tt.length,String):[],lt=st.length;for(var ct in tt)(et||hasOwnProperty$b.call(tt,ct))&&!(at&&(ct=="length"||it&&(ct=="offset"||ct=="parent")||ot&&(ct=="buffer"||ct=="byteLength"||ct=="byteOffset")||isIndex$1(ct,lt)))&&st.push(ct);return st}var _arrayLikeKeys=arrayLikeKeys$2,objectProto$7=Object.prototype;function isPrototype$3(tt){var et=tt&&tt.constructor,rt=typeof et=="function"&&et.prototype||objectProto$7;return tt===rt}var _isPrototype=isPrototype$3;function overArg$2(tt,et){return function(rt){return tt(et(rt))}}var _overArg=overArg$2,overArg$1=_overArg,nativeKeys$1=overArg$1(Object.keys,Object),_nativeKeys=nativeKeys$1,isPrototype$2=_isPrototype,nativeKeys=_nativeKeys,objectProto$6=Object.prototype,hasOwnProperty$a=objectProto$6.hasOwnProperty;function baseKeys$1(tt){if(!isPrototype$2(tt))return nativeKeys(tt);var et=[];for(var rt in Object(tt))hasOwnProperty$a.call(tt,rt)&&rt!="constructor"&&et.push(rt);return et}var _baseKeys=baseKeys$1,isFunction$5=isFunction_1,isLength$1=isLength_1;function isArrayLike$4(tt){return tt!=null&&isLength$1(tt.length)&&!isFunction$5(tt)}var isArrayLike_1=isArrayLike$4,arrayLikeKeys$1=_arrayLikeKeys,baseKeys=_baseKeys,isArrayLike$3=isArrayLike_1;function keys$a(tt){return isArrayLike$3(tt)?arrayLikeKeys$1(tt):baseKeys(tt)}var keys_1=keys$a,baseGetAllKeys$1=_baseGetAllKeys,getSymbols$2=_getSymbols,keys$9=keys_1;function getAllKeys$2(tt){return baseGetAllKeys$1(tt,keys$9,getSymbols$2)}var _getAllKeys=getAllKeys$2,getAllKeys$1=_getAllKeys,COMPARE_PARTIAL_FLAG$3=1,objectProto$5=Object.prototype,hasOwnProperty$9=objectProto$5.hasOwnProperty;function equalObjects$1(tt,et,rt,nt,it,ot){var at=rt&COMPARE_PARTIAL_FLAG$3,st=getAllKeys$1(tt),lt=st.length,ct=getAllKeys$1(et),ut=ct.length;if(lt!=ut&&!at)return!1;for(var dt=lt;dt--;){var ft=st[dt];if(!(at?ft in et:hasOwnProperty$9.call(et,ft)))return!1}var pt=ot.get(tt),mt=ot.get(et);if(pt&&mt)return pt==et&&mt==tt;var ht=!0;ot.set(tt,et),ot.set(et,tt);for(var gt=at;++dt<lt;){ft=st[dt];var vt=tt[ft],yt=et[ft];if(nt)var bt=at?nt(yt,vt,ft,et,tt,ot):nt(vt,yt,ft,tt,et,ot);if(!(bt===void 0?vt===yt||it(vt,yt,rt,nt,ot):bt)){ht=!1;break}gt||(gt=ft=="constructor")}if(ht&&!gt){var xt=tt.constructor,$t=et.constructor;xt!=$t&&"constructor"in tt&&"constructor"in et&&!(typeof xt=="function"&&xt instanceof xt&&typeof $t=="function"&&$t instanceof $t)&&(ht=!1)}return ot.delete(tt),ot.delete(et),ht}var _equalObjects=equalObjects$1,getNative$4=_getNative,root$4=_root,DataView$2=getNative$4(root$4,"DataView"),_DataView=DataView$2,getNative$3=_getNative,root$3=_root,Promise$3=getNative$3(root$3,"Promise"),_Promise=Promise$3,getNative$2=_getNative,root$2=_root,Set$2=getNative$2(root$2,"Set"),_Set=Set$2,getNative$1=_getNative,root$1=_root,WeakMap$7=getNative$1(root$1,"WeakMap"),_WeakMap=WeakMap$7,DataView$1=_DataView,Map$1=_Map,Promise$2=_Promise,Set$1=_Set,WeakMap$6=_WeakMap,baseGetTag$2=_baseGetTag,toSource=_toSource,mapTag$3="[object Map]",objectTag$3="[object Object]",promiseTag="[object Promise]",setTag$3="[object Set]",weakMapTag$1="[object WeakMap]",dataViewTag$2="[object DataView]",dataViewCtorString=toSource(DataView$1),mapCtorString=toSource(Map$1),promiseCtorString=toSource(Promise$2),setCtorString=toSource(Set$1),weakMapCtorString=toSource(WeakMap$6),getTag$4=baseGetTag$2;(DataView$1&&getTag$4(new DataView$1(new ArrayBuffer(1)))!=dataViewTag$2||Map$1&&getTag$4(new Map$1)!=mapTag$3||Promise$2&&getTag$4(Promise$2.resolve())!=promiseTag||Set$1&&getTag$4(new Set$1)!=setTag$3||WeakMap$6&&getTag$4(new WeakMap$6)!=weakMapTag$1)&&(getTag$4=function(tt){var et=baseGetTag$2(tt),rt=et==objectTag$3?tt.constructor:void 0,nt=rt?toSource(rt):"";if(nt)switch(nt){case dataViewCtorString:return dataViewTag$2;case mapCtorString:return mapTag$3;case promiseCtorString:return promiseTag;case setCtorString:return setTag$3;case weakMapCtorString:return weakMapTag$1}return et});var _getTag=getTag$4,Stack$2=_Stack,equalArrays=_equalArrays,equalByTag=_equalByTag,equalObjects=_equalObjects,getTag$3=_getTag,isArray$f=isArray_1,isBuffer$2=isBufferExports,isTypedArray$2=isTypedArray_1,COMPARE_PARTIAL_FLAG$2=1,argsTag$1="[object Arguments]",arrayTag$1="[object Array]",objectTag$2="[object Object]",objectProto$4=Object.prototype,hasOwnProperty$8=objectProto$4.hasOwnProperty;function baseIsEqualDeep$1(tt,et,rt,nt,it,ot){var at=isArray$f(tt),st=isArray$f(et),lt=at?arrayTag$1:getTag$3(tt),ct=st?arrayTag$1:getTag$3(et);lt=lt==argsTag$1?objectTag$2:lt,ct=ct==argsTag$1?objectTag$2:ct;var ut=lt==objectTag$2,dt=ct==objectTag$2,ft=lt==ct;if(ft&&isBuffer$2(tt)){if(!isBuffer$2(et))return!1;at=!0,ut=!1}if(ft&&!ut)return ot||(ot=new Stack$2),at||isTypedArray$2(tt)?equalArrays(tt,et,rt,nt,it,ot):equalByTag(tt,et,lt,rt,nt,it,ot);if(!(rt&COMPARE_PARTIAL_FLAG$2)){var pt=ut&&hasOwnProperty$8.call(tt,"__wrapped__"),mt=dt&&hasOwnProperty$8.call(et,"__wrapped__");if(pt||mt){var ht=pt?tt.value():tt,gt=mt?et.value():et;return ot||(ot=new Stack$2),it(ht,gt,rt,nt,ot)}}return ft?(ot||(ot=new Stack$2),equalObjects(tt,et,rt,nt,it,ot)):!1}var _baseIsEqualDeep=baseIsEqualDeep$1,baseIsEqualDeep=_baseIsEqualDeep,isObjectLike$4=isObjectLike_1;function baseIsEqual$2(tt,et,rt,nt,it){return tt===et?!0:tt==null||et==null||!isObjectLike$4(tt)&&!isObjectLike$4(et)?tt!==tt&&et!==et:baseIsEqualDeep(tt,et,rt,nt,baseIsEqual$2,it)}var _baseIsEqual=baseIsEqual$2;class EventEmitter{constructor(){this.subscriptions=new Set,this.emit=et=>{for(const rt of this.subscriptions)rt(et)},this.useSubscription=et=>{const rt=reactExports.useRef();rt.current=et,reactExports.useEffect(()=>{function nt(it){rt.current&&rt.current(it)}return this.subscriptions.add(nt),()=>{this.subscriptions.delete(nt)}},[])}}}function useEventEmitter(){const tt=reactExports.useRef();return tt.current||(tt.current=new EventEmitter),tt.current}function useThrottleFn(tt,et){var rt;isDev$1&&(isFunction$8(tt)||console.error(`useThrottleFn expected parameter is a function, got ${typeof tt}`));const nt=useLatest(tt),it=(rt=et==null?void 0:et.wait)!==null&&rt!==void 0?rt:1e3,ot=reactExports.useMemo(()=>throttle_1((...at)=>nt.current(...at),it,et),[]);return useUnmount$1(()=>{ot.cancel()}),{run:ot,cancel:ot.cancel,flush:ot.flush}}const useElementBoundingRect=(tt=[])=>{const et=reactExports.useRef(null),[rt,nt]=reactExports.useState(null);reactExports.useEffect(()=>{et.current&&nt(et.current.getBoundingClientRect())},tt);const{run:it}=useDebounceFn(()=>{et.current&&nt(et.current.getBoundingClientRect())},{wait:250});return reactExports.useEffect(()=>{if(et.current)return window.addEventListener("scroll",it),window.addEventListener("resize",it),()=>{window.removeEventListener("scroll",it),window.removeEventListener("resize",it)}},[]),[et,rt]},getFileReaderMethodName=tt=>{if(tt==="dataUrl")return"readAsDataURL"},cacheData={};function useLocalStoreFile(tt,et="dataUrl"){const[rt,nt]=reactExports.useState(null),[it,ot]=reactExports.useState(!0),at=reactExports.useRef();return reactExports.useEffect(()=>{if(tt)return getFileForTypeName(tt).then(lt=>{at.current=new FileReader,at.current.onload=function(ut){nt(this.result),ot(!1),cacheData[tt]=this.result};const ct=getFileReaderMethodName(et);if(!(!ct||!lt))try{at.current[ct](lt)}catch(ut){throw console.error("Could not call method",ct,"on",lt),new Error(ut)}}),()=>{at.current&&at.current.abort()}},[tt,et]),reactExports.useEffect(()=>{tt&&ot(!0)},[tt]),[rt||cacheData[tt],it]}const useMousePosOverEl=(tt,et={})=>{const[rt,nt]=useElementBoundingRect(et.boxDependencies),{run:it}=useThrottleFn(ot=>{ot.preventDefault();const at=nt,st=ot.pageX>at.left&&ot.pageX<at.right,lt=ot.pageY>at.top&&ot.pageY<at.bottom,ct=clamp$5(ot.pageX-at.left,0,at.width),ut=clamp$5(ot.pageY-at.top,0,at.height);(et.onlyTriggerInside?st&&lt:!0)&&tt(ct,ut,ot)},{wait:100});return reactExports.useEffect(()=>{if(nt)return window.addEventListener("mousemove",it),()=>{window.removeEventListener("mousemove",it)}},[nt,tt,et.onlyTriggerInside]),rt},usePointerUpAction=(tt,et)=>{const rt=reactExports.useRef(et);reactExports.useEffect(()=>(tt&&window.addEventListener("pointerup",et),rt.current=et,()=>{window.removeEventListener("pointerup",et)}),[tt,et])},useMouseWheel=tt=>{const{run:et}=useThrottleFn(rt=>{rt.preventDefault(),tt(rt)},{wait:100});reactExports.useEffect(()=>(window.addEventListener("wheel",et,{passive:!1}),()=>window.removeEventListener("wheel",et)),[tt])},useBaseRequest=(tt,et,rt)=>({...useRequest(tt,{manual:!0,...et},rt)}),useRouter=()=>{const tt=useNavigate();return{navigate:(rt,nt)=>{if(isNumber$9(rt)){tt(rt);return}if(nt&&!isObject$l(nt))throw Error("The params is not Obj");const it=setObjToUrlParams(rt,nt);tt(it)}}},useWebBlur=tt=>{reactExports.useEffect(()=>(window.addEventListener("blur",tt),()=>window.removeEventListener("blur",tt)),[tt])},useWindowSize=()=>{const[tt,et]=reactExports.useState({width:window.innerWidth,height:window.innerHeight}),rt=nt=>{et({width:window.innerWidth,height:window.innerHeight})};return reactExports.useEffect(()=>(window.addEventListener("resize",rt),()=>window.removeEventListener("resize",rt)),[]),tt},useDialogProps=()=>{const{t:tt}=useI18n();return{initBtnProps:rt=>({text:tt(rt==="ok"?"common.btn.ok":"common.btn.cancel"),color:"primary",variant:"text",startIcon:null,endIcon:null})}},AlertDialog=tt=>{const{initBtnProps:et}=useDialogProps(),{open:rt=!1,onClose:nt,onExited:it,title:ot="",message:at,ok:st=et("ok")}=tt;return jsxs(Dialog$1,{fullWidth:!0,open:rt,onClose:()=>nt(),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-message",TransitionProps:{onExited:it},children:[jsx(DialogTitle$1,{id:"alert-dialog-title",children:ot}),jsx(DialogContent$1,{children:typeof at=="string"?jsx(DialogContentText$1,{id:"confirm-dialog-message",children:at}):at}),jsx(DialogActions$1,{children:jsx(Button$2,{onClick:()=>nt(),color:st.color,variant:st.variant,startIcon:st.startIcon,endIcon:st.endIcon,autoFocus:!0,children:st.text})})]})},ConfirmDialog=tt=>{const{initBtnProps:et}=useDialogProps(),{open:rt=!1,onClose:nt,onExited:it,title:ot="",message:at,ok:st=et("ok"),cancel:lt=et("cancel")}=tt;return jsxs(Dialog$1,{fullWidth:!0,open:rt,onClose:()=>nt(!1),"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-message",TransitionProps:{onExited:it},children:[jsx(DialogTitle$1,{id:"confirm-dialog-title",children:ot}),jsx(DialogContent$1,{children:typeof at=="string"?jsx(DialogContentText$1,{id:"confirm-dialog-message",children:at}):at}),jsxs(DialogActions$1,{children:[jsx(Button$2,{onClick:()=>nt(!1),color:lt.color,variant:lt.variant,startIcon:lt.startIcon,endIcon:lt.endIcon,children:lt.text}),jsx(Button$2,{onClick:()=>nt(!0),color:st.color,variant:st.variant,startIcon:st.startIcon,endIcon:st.endIcon,autoFocus:!0,children:st.text})]})]})},PromptDialog=tt=>{const{initBtnProps:et}=useDialogProps(),{open:rt=!1,onClose:nt,onExited:it,title:ot,message:at,placeholder:st,ok:lt=et("ok"),cancel:ct=et("cancel"),required:ut,defaultValue:dt,inputType:ft,onCloseVerify:pt}=tt,[mt,ht]=React.useState(dt),gt=bt=>{ht(bt.target.value)},vt=bt=>{pt?isFunction$a(pt)&&pt(bt)&&nt(bt):nt(bt)};return jsxs(Dialog$1,{fullWidth:!0,open:rt,onClose:()=>nt(null),"aria-labelledby":"prompt-dialog-title","aria-describedby":"prompt-dialog-message",TransitionProps:{onExited:it},children:[jsx(DialogTitle$1,{id:"prompt-dialog-title",children:ot}),jsxs(DialogContent$1,{children:[typeof at=="string"?jsx(DialogContentText$1,{id:"confirm-dialog-message",children:at}):at,jsx(TextField$2,{id:"prompt-dialog-text-field",onChange:gt,defaultValue:dt,required:!0,placeholder:st,margin:"dense",fullWidth:!0,type:ft,autoFocus:!0,variant:"standard",onKeyDown:bt=>{bt.key==="Enter"&&vt(mt)}})]}),jsxs(DialogActions$1,{children:[jsx(Button$2,{onClick:()=>nt(null),color:ct.color,variant:ct.variant,startIcon:ct.startIcon,endIcon:ct.endIcon,children:ct.text}),jsx(Button$2,{onClick:()=>vt(mt),color:lt.color,variant:lt.variant,disabled:ut&&!mt,startIcon:lt.startIcon,endIcon:lt.endIcon,children:lt.text})]})]})};class DialogProvider extends React.PureComponent{constructor(){super(...arguments);wn(this,"state",{alertDialog:null,confirmDialog:null,promptDialog:null});wn(this,"handleAlertDialogClose",rt=>{const{alertDialog:nt}=this.state;return this.setState({alertDialog:{...nt,open:!1}}),nt.resolve(rt)});wn(this,"handleConfirmDialogClose",rt=>{const{confirmDialog:nt}=this.state;return this.setState({confirmDialog:{...nt,open:!1}}),rt?nt.resolve(rt):nt.reject()});wn(this,"handlePromptDialogClose",rt=>{const{promptDialog:nt}=this.state;return this.setState({promptDialog:{...nt,open:!1}}),rt?nt.resolve(rt):nt.reject()});wn(this,"handleExited",()=>{this.setState({alertDialog:null,confirmDialog:null,promptDialog:null})});wn(this,"alert",rt=>typeof rt=="string"?new Promise((nt,it)=>{this.setState({alertDialog:{message:rt,resolve:nt,reject:it,open:!0}})}):new Promise((nt,it)=>{this.setState({alertDialog:{...rt,resolve:nt,reject:it,open:!0}})}));wn(this,"confirm",rt=>typeof rt=="string"?new Promise((nt,it)=>{this.setState({confirmDialog:{message:rt,resolve:nt,reject:it,open:!0}})}):new Promise((nt,it)=>{this.setState({confirmDialog:{...rt,resolve:nt,reject:it,open:!0}})}));wn(this,"prompt",rt=>typeof rt=="string"?new Promise((nt,it)=>{this.setState({promptDialog:{message:rt,resolve:nt,reject:it,open:!0}})}):new Promise((nt,it)=>{this.setState({promptDialog:{...rt,resolve:nt,reject:it,open:!0}})}));wn(this,"dialog",{alert:this.alert,confirm:this.confirm,prompt:this.prompt})}render(){const{children:rt}=this.props,{alertDialog:nt,confirmDialog:it,promptDialog:ot}=this.state;return jsxs(DialogContext.Provider,{value:{dialog:this.dialog},children:[rt,nt&&jsx(AlertDialog,{...nt,open:nt.open,onClose:this.handleAlertDialogClose,onExited:this.handleExited}),it&&jsx(ConfirmDialog,{...it,open:it.open,onClose:this.handleConfirmDialogClose,onExited:this.handleExited}),ot&&jsx(PromptDialog,{...ot,open:ot.open,onClose:this.handlePromptDialogClose,onExited:this.handleExited})]})}}const useDownloadFileMap=tt=>{const et=useAppSelector(getSelectedSong),rt=useAppSelector(lt=>lt),nt=useAppSelector(getUserInfo),it=useAppSelector(getDuration),ot=useDialog$1(),at=async({version:lt=VERSION$3.TWO,isEncrypt:ct,isUpload:ut})=>{let dt=et;if(!et){if(!tt)throw new Error("Tried to download a song with no supplied songId, and no currently-selected song.");dt=getSongById(rt,tt)}if(!dt)return;const ft=it||(dt.songDuration||0)*1e3;if(ft>0){const ht=getTotalNumOfBeats(ft,dt.bpm),gt=["_events","_notes","_obstacles","_ringNotes","_customData._bookmarks"];await allNoteModeAction(getEditorNoteModeSettings(),async(vt,yt)=>{const bt=Object.keys((dt==null?void 0:dt[yt])||[]);for(let xt=0;xt<bt.length;xt++){let $t=bt[xt];const Tt=await getBeatmap(dt==null?void 0:dt.id,$t,vt);for(const wt of gt){const At=get$a(Tt,wt);if(At!=null&&At.length){const Rt=At.filter(It=>It._time<ht);if(set$9(Tt,wt,Rt),wt==="_events"){const It=At.map(Lt=>({...Lt,_value:Lt._value??0}));set$9(Tt,wt,It)}}}await saveBeatmap(dt==null?void 0:dt.id,$t,Tt,vt)}})}const pt=await getFileForTypeName(dt.songFilename),mt=await getFileForTypeName(dt.coverArtFilename);try{get_track_download({id:dt.officialId,username:nt.name})}catch{}return await zipFilesAndDownload(dt,pt,mt,{version:lt,isEncrypt:ct,isUpload:ut})};return[at,async()=>{try{await ot.confirm("是否上传该谱面"),at({version:VERSION$3.THREE,isUpload:!0}).then(async lt=>{lt!=null&&lt.blob&&(await upload_map_api({data:{name:lt==null?void 0:lt.filename,songId:101},file:lt==null?void 0:lt.blob},function(ut){const dt=ut.loaded/ut.total*100|0}),notice.success("上传成功"))})}catch{}},et]},useGroupNote=(tt,et)=>{const rt=useAppSelector(getAllGroupNotesGroupIds),nt=useAppSelector(getSelectGroupNotesIds),it=useAppSelector(getSelectGroupId)||(nt==null?void 0:nt[0]),[ot,at]=reactExports.useMemo(()=>{let ft=[];return tt?[tt.filter(mt=>(isRingNoteFooterType(mt._ringNoteType)&&ft.push(mt.id),!mt._groupId)).map(mt=>mt.id),ft]:[]},[tt,it]),[st,lt,ct]=reactExports.useMemo(()=>{let ft=[],pt=[],mt=[],ht=[];return et?(et.forEach(gt=>{gt.selected&&gt._groupId===it&&it&&pt.push(gt.id),gt._groupId!==it&&gt.selected&&mt.push(gt.id),gt._groupId===it&&it&&ft.push(gt.id)}),[ft,pt,mt,ht]):[]},[et,it]),ut=(ct==null?void 0:ct.length)===0&&ot.length>1&&(at==null?void 0:at.length)===0,dt=st!=null&&st.length&&(ct!=null&&ct.length)?(st==null?void 0:st.length)+(ct==null?void 0:ct.length)>=2&&(ct==null?void 0:ct.length)>0:!1;return{selectedGroupNotesIds:nt,currentGroupId:it,allGroupNotesGroupIds:rt,notGroupedBlockNumIds:ot,selectFootNoteIds:at,currentGroupAllBlockIds:st,currentGroupNoteIds:lt,notInGroupSelectNoteIds:ct,isCreatGroupNoteType:ut,mergeGroupNoteType:dt}},useMouseButtonOccupancy=()=>{const[tt,et]=reactExports.useState(!1);return reactExports.useEffect(()=>{const rt=()=>{et(!0)},nt=()=>{et(!1)};return document.addEventListener("mousedown",rt),document.addEventListener("mouseup",nt),()=>{document.removeEventListener("mousedown",rt),document.removeEventListener("mouseup",nt)}},[tt]),{mousedown:tt}},usePromts=()=>{const{t:tt}=useI18n(),et=useDialog$1(),{enqueueSnackbar:rt}=useNotice(),nt=()=>new Promise(lt=>{setTimeout(lt,500)});return{promptQuickSelect:async lt=>{let ct="";try{ct=await et.prompt(tt("common.dialog.quickSelectAllEntities"))}catch{return}ct=ct.replace(/\s/g,"");const ut=ct.split("-");let[dt,ft]=ut.map(Number);return isNumber$9(ft)||(ft=1/0),{view:lt,start:dt,end:ft}},promptJumpToBeat:async lt=>{let ct="";try{const ut={placeholder:"",required:!1,defaultValue:"",inputType:"number",open:!1,onClose:()=>{},onExited:()=>{},title:"",message:tt("common.dialog.enterTheBeatNumber"),onCloseVerify:dt=>Number(dt)>lt?(rt("超出了节拍总数了",{anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:2500}),!1):!0};ct=await et.prompt(ut)}catch{return}return Number(ct)},promptChangeObstacleDuration:async lt=>{const{beatDuration:ct}=lt[0],ut=lt.length===1?tt("common.dialog.durationForThisWall"):tt("common.dialog.durationForAllSelectedWalls");let dt=0,ft={open:!1,message:ut,defaultValue:ct,placeholder:"",required:!1,inputType:"number",title:"",onClose:()=>{},onExited:()=>{}};try{dt=await et.prompt(ft)}catch{return}if(dt<=0)return;const pt={};if(lt.forEach(ht=>{pt[ht.beatDuration]=!0}),Object.keys(pt).length>1){const gt=tt("common.dialog.selectedObstaclesWithDifferentDurations",{msg1:dt,msg2:dt===1?"beat":"beats"});try{await nt(),await et.confirm(gt)}catch{return}}return dt},promptSaveGridPreset:async lt=>{const ct=["1","2","3","4"],ut=ct.find(mt=>!lt[mt]);let dt={open:!1,message:tt("common.dialog.selectANumber"),defaultValue:ut||"",placeholder:"",required:!1,inputType:"number",title:"",onClose:()=>{},onExited:()=>{}};const ft=await et.prompt(dt);if(!ct.some(mt=>mt===ft)){await nt(),await et.alert(tt("common.dialog.theValueYouProvidedWasNotAccepted"));return}return ft}}};var ESONG_STATUS=(tt=>(tt.CREATE="create",tt.UPDATE="update",tt))(ESONG_STATUS||{}),CREATE_TYPE=(tt=>(tt.CUSTOM="custom",tt.OFFICIAL="official",tt))(CREATE_TYPE||{});const useSongsVerify=()=>{const tt=useAppSelector(getAllSongs),et=useAppSelector(getSelectedSong),{t:rt}=useI18n(),nt=useDialog$1();return{verifySongNameUnique:(ot,at)=>{if(at===ESONG_STATUS.CREATE)tt.some(st=>st.name===ot);else{if(!et)return nt.alert(rt("common.dialog.songFileDoesNotExis")),!1;et.name!==ot&&tt.some(st=>st.name===ot&&et.name)}return!0}}},UserDropdown=()=>{const{t:tt}=useI18n(),et=useAppSelector(getUserInfo),rt=useAppSelector(getIsLogin),nt=useAppDispatch(),it=useDialog$1(),ot=useNavigate(),at=async()=>{it.confirm("请确认是否退出登录").then(()=>{nt(setIsLogin(!1)),nt(setUserInfo(null)),ot("/login")})},st=()=>{ot("/login")};return jsx(BaseMenu,{menuButton:jsxs(UserMenu,{children:[rt&&jsx(Hidden,{xsDown:!0,children:jsx(Text$2,{children:jsx("strong",{children:et==null?void 0:et.name})})}),jsx(Avatar$1,{src:rt&&et?et==null?void 0:et.avatar_url:"",sx:{cursor:"pointer",width:30,height:30}})]}),children:rt?jsx(Fragment,{children:jsxs(StyledItem,{onClick:at,children:[jsx(LogoutIcon,{}),jsxs(Text$2,{children:[" ",tt("common.btn.logout")," "]})]})}):jsx(Fragment,{children:jsxs(StyledItem,{onClick:st,children:[jsx(LoginIcon,{}),jsx(Text$2,{children:"登录"})]})})})},StyledItem=styled$1(MenuItem$1)(()=>({display:"flex",alignItems:"center"})),UserMenu=styled$1(Box$2)(()=>({display:"flex",alignItems:"center",cursor:"pointer",borderRadius:24,padding:4,"& span":{margin:"0 8px"}})),Contents$1=styled$1("div")`
  display: flex;
  justify-content: space-between;
  align-items: center;
`;function HeaderNavBar(){const{t:tt}=useI18n();return jsx(AppBar$1,{position:"sticky",sx:{minHeight:HEADER_HEIGHT$1,justifyContent:"center",background:HEADER_COLOR},children:jsx(MostWidthContainer,{children:jsxs(Contents$1,{children:[jsx(AppLogo,{}),jsxs(Contents$1,{children:[jsx(AppLocalePicker,{}),jsx(Link$2,{href:"https://bytedance.feishu.cn/docx/SAPMdXoVHon5CSx08encHN9kngb",target:"_blank",color:"inherit",underline:"hover",children:tt("router.document.title")}),jsx("div",{style:{marginLeft:10},children:jsx(UserDropdown,{})})]})]})})})}const FooterNavBar=()=>jsx(AppBar$1,{position:"fixed",sx:{minHeight:64,top:"inherit",bottom:0,background:HEADER_COLOR},children:jsx(MostWidthContainer,{children:jsxs(InnerWrapper,{style:{height:FOOTER_HEIGHT},children:[jsx("div",{children:jsx(AppLogo,{size:"small"})}),jsxs(Info$1,{children:[jsx(Symbol$4,{children:"©"})," 2023-present, All rights reserved."]})]})})}),Symbol$4=styled$1("span")`
  display: inline-block;
  font-size: 0.6em;
  transform: translateY(-40%);
`,InnerWrapper=styled$1("div")`
  display: flex;
  flex-direction: column;
  justify-content: space-around;
  align-items: center;
  padding: 10px 0;
`,Info$1=styled$1("div")`
  text-align: right;
  font-size: 14px;
  line-height: 1.4;
`,ImgCard=({url:tt,imgSize:et,style:rt,animation:nt})=>jsx(Fragment,{children:tt?jsx(CardMedia$1,{sx:{...et},style:rt,component:"img",image:tt}):jsx(Skeleton$2,{variant:"rectangular",animation:nt,sx:{...et},children:jsx(CardMedia$1,{component:"img",sx:et,image:tt})})}),Text$2=({children:tt,ellipsis:et,...rt})=>jsx(StyledBox,{ellipsis:et,...rt,children:tt}),StyledBox=styled$1(Typography$1,{shouldForwardProp:tt=>tt!=="ellipsis"})(({ellipsis:tt})=>({overflow:tt?"hidden":"",textOverflow:tt?"ellipsis":"",whiteSpace:"normal",display:tt?"-webkit-box":"",WebkitLineClamp:tt?"1":void 0,WebkitBoxOrient:tt?"vertical":void 0})),VERIFY_MAX="max",VERIFY_MIN="min",VERIFY_RANGE="range",VERIFY_NOT_RANGE="notRange",compareValue=(tt,et,rt)=>isNumber$9(tt)?et!==void 0&&tt<et?VERIFY_MIN:rt!==void 0&&tt>rt?VERIFY_MAX:VERIFY_RANGE:VERIFY_NOT_RANGE,TextFieldNumber=reactExports.forwardRef(({minValue:tt,maxValue:et,defaultValue:rt,error:nt,helperText:it,onChange:ot,...at},st)=>{const{t:lt}=useI18n();let ct=compareValue(rt,tt,et),ut="";ct===VERIFY_MIN?ut=lt("common.label.inputNumberMinTip_msg",{msg:tt}):ct===VERIFY_MAX&&(ut=lt("common.label.inputNumberMaxTip_msg",{msg:et}));const[dt,ft]=reactExports.useState(ut),pt=ht=>{let gt="";switch(ht){case VERIFY_MIN:gt=lt("common.label.inputNumberMinTip_msg",{msg:tt});break;case VERIFY_MAX:gt=lt("common.label.inputNumberMaxTip_msg",{msg:et});break;case VERIFY_RANGE:gt="";break;default:ft(lt("common.validation.helper")+at.label);break}ft(gt)},mt=ht=>{const gt=Number(ht.target.value),vt=compareValue(gt,tt,et);pt(vt),ot&&ot(ht)};return jsx(TextField$2,{ref:st,error:nt||dt!=="",type:"number",defaultValue:rt,helperText:dt!==""?dt:nt?`${it}`:"",onChange:mt,InputLabelProps:{shrink:!0},...at})}),Adornment=({position:tt,children:et,title:rt})=>jsx(InputAdornment$1,{position:tt,children:jsx(BaseTooltip,{title:rt,enterDelay:500,children:et})}),SettingModal=()=>{const{t:tt}=useI18n(),et=useAppDispatch(),rt=useAppSelector(getGraphicsLevel),nt=useAppSelector(getProcessingDelay),[it,ot]=reactExports.useState(rt),[at,st]=reactExports.useState(nt),[lt,ct]=reactExports.useState(at<0),ut=[{label:tt("common.label.low"),value:"low"},{label:tt("common.label.medium"),value:"medium"},{label:tt("common.label.high"),value:"high"}],dt=pt=>{const mt=pt.target.value;et(updateGraphicsLevel(mt)),ot(mt)},ft=pt=>{const mt=Number(pt.target.value);if(mt<0){ct(!0);return}ct(!1),et(updateProcessingDelay(mt)),st(mt)};return jsxs(Fragment,{children:[jsxs(FormControl$1,{sx:{mt:4,width:"100%"},children:[jsx(FormLabel$1,{id:"demo-row-radio-buttons-group-label",children:tt("common.title.graphicsQuality")}),jsx(RadioGroup$1,{row:!0,"aria-labelledby":"demo-row-radio-buttons-group-label",name:"row-radio-buttons-group",onChange:dt,value:it,children:ut.map(pt=>jsx(FormControlLabel$1,{value:pt.value,control:jsx(Radio$1,{}),label:pt.label},pt.value))})]}),jsxs(Wrapper$9,{sx:{mt:4},children:[jsx(Typography$1,{color:"text.secondary",sx:{m:0},children:tt("common.title.processingDelay")}),jsx(HelpTooltip,{title:tt("common.title.tip.processingDelayTip"),helpSx:{width:15,ml:2}})]}),jsx(TextField$2,{sx:{margin:" 0 0 16px",width:"100%"},type:"number",variant:"standard",error:lt,onChange:ft,defaultValue:at})]})},Wrapper$9=styled$1("div")`
  display: flex;
  align-items: center;
  // justify-content: center;
  margin-top: 10px;
`;var PageEnum=(tt=>(tt.BASE_LOGIN="/login",tt.EDIT_NOTES="/edit/notes",tt.EDIT_EVENTS="/edit/events",tt.EDIT_SETTING="/edit/setting",tt.EDIT_DOWNLOAD="/edit/download",tt.EDIT_PREVIEW="/edit/preview",tt.BASE_HOME="/",tt.ERROR_PAGE="/exception",tt))(PageEnum||{});const HOME_ACTIONS={icon:()=>jsx(HomeIcon,{}),title:t$1("router.home"),path:"/"},TOOL_ACTIONS=[];function PlaygroundSpeedDial({songId:tt,difficulty:et,handleOpenModal:rt,isDemo:nt}){const{navigate:it}=useRouter(),ot=useSelector(getNoteMode),[,at]=useDownloadFileMap(tt),[st,lt]=reactExports.useState(!1),{t:ct}=useI18n();useMount$1(()=>{lt(!0)});const ut=()=>{rt("setting")},dt=(mt,ht)=>{if(mt.stopPropagation(),ht==="tool"){ut();return}if(ht==="upload"){at();return}if(ht==="/"){it("/");return}it(ht,{id:tt,difficulty:et,mode:ot})},ft=()=>{lt(!st)},pt=reactExports.useMemo(()=>{var ht,gt;const mt=(ht=editRouter==null?void 0:editRouter[0])!=null&&ht.children?(gt=editRouter[0])==null?void 0:gt.children.flatMap(vt=>{var yt,bt;return vt.path===PageEnum.EDIT_DOWNLOAD&&nt?[]:[{...vt,title:(yt=vt.meta)==null?void 0:yt.title,icon:(bt=vt.meta)==null?void 0:bt.icon}]}):[];return[HOME_ACTIONS,...mt,...TOOL_ACTIONS]},[nt]);return jsx("div",{children:jsx(StyledSpeedDial,{ariaLabel:"SpeedDial playground example",icon:jsx(WidgetsIcon,{}),direction:"down",open:st,onClick:ft,children:pt.map(mt=>{const ht=location.pathname.indexOf(mt.path)>-1?"primary":"";return jsx(SpeedDialAction$1,{icon:mt.icon({color:ht}),tooltipTitle:ct(mt.title),onClick:gt=>dt(gt,mt.path)},mt.path)})})})}const StyledSpeedDial=styled$1(SpeedDial$1)(({theme:tt})=>({position:"absolute","&.MuiSpeedDial-directionUp, &.MuiSpeedDial-directionLeft":{bottom:tt.spacing(2),right:tt.spacing(2)},"&.MuiSpeedDial-directionDown, &.MuiSpeedDial-directionRight":{top:tt.spacing(2),left:tt.spacing(2)}}));function Layouts(){const{t:tt}=useI18n();let et=useLocation(),rt=useNavigate(),[nt]=useSearchParams();const it=useAppDispatch(),ot=nt.get("id"),at=useAppSelector(getById),st=nt.get("difficulty"),lt=nt.get("mode"),ct=useAppSelector(getSelectedSong),ut=useAppSelector(getIsPlaying),dt=ct&&ot===ct.id,[ft,pt]=reactExports.useState(""),mt=useDialog$1(),ht=yt=>{pt(yt)},gt=()=>{pt("")},vt=()=>{if(!lt)return!1;const yt=getIsHasCurrentMode(lt),bt=getDifficultKey(lt);return yt&&!!(st&&ot&&at[ot]&&at[ot][bt][st])};return reactExports.useEffect(()=>{[PageEnum.EDIT_SETTING,PageEnum.EDIT_DOWNLOAD].includes(et==null?void 0:et.pathname)&&ut&&it(pausePlaying())},[et.pathname]),reactExports.useEffect(()=>{vt()?it(startLoadingSong({songId:ot,difficulty:st,mode:lt,dialog:mt})):rt("/")},[startLoadingSong,ot,st,lt]),reactExports.useEffect(()=>()=>{it(leaveEditorAction())},[leaveEditorAction]),dt?jsxs(Box$2,{sx:{display:"flex"},onContextMenu:yt=>{yt.preventDefault()},children:[jsx(PlaygroundSpeedDial,{isDemo:ct.demo,songId:ot,difficulty:st,handleOpenModal:ht}),jsx(Main,{component:"main",sx:{flexGrow:1},children:jsx(Outlet,{})}),jsx(BasicModal,{open:Boolean(ft==="setting"),width:400,title:tt("common.title.appSettings"),onClose:gt,children:jsx(SettingModal,{})})]}):jsx(SectionLoading,{})}const Main=styled$1(Box$2)`
  height:100vh;
  width:calc(100% - 64px);
  position:relative;
  overflow-x:hidden;
  user-select: none;
`;/**
 * @license
 * Copyright 2010-2022 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const REVISION="148",MOUSE={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},TOUCH={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},CullFaceNone=0,CullFaceBack=1,CullFaceFront=2,CullFaceFrontBack=3,BasicShadowMap=0,PCFShadowMap=1,PCFSoftShadowMap=2,VSMShadowMap=3,FrontSide=0,BackSide=1,DoubleSide=2,TwoPassDoubleSide=3,NoBlending=0,NormalBlending=1,AdditiveBlending=2,SubtractiveBlending=3,MultiplyBlending=4,CustomBlending=5,AddEquation=100,SubtractEquation=101,ReverseSubtractEquation=102,MinEquation=103,MaxEquation=104,ZeroFactor=200,OneFactor=201,SrcColorFactor=202,OneMinusSrcColorFactor=203,SrcAlphaFactor=204,OneMinusSrcAlphaFactor=205,DstAlphaFactor=206,OneMinusDstAlphaFactor=207,DstColorFactor=208,OneMinusDstColorFactor=209,SrcAlphaSaturateFactor=210,NeverDepth=0,AlwaysDepth=1,LessDepth=2,LessEqualDepth=3,EqualDepth=4,GreaterEqualDepth=5,GreaterDepth=6,NotEqualDepth=7,MultiplyOperation=0,MixOperation=1,AddOperation=2,NoToneMapping=0,LinearToneMapping=1,ReinhardToneMapping=2,CineonToneMapping=3,ACESFilmicToneMapping=4,CustomToneMapping=5,UVMapping=300,CubeReflectionMapping=301,CubeRefractionMapping=302,EquirectangularReflectionMapping=303,EquirectangularRefractionMapping=304,CubeUVReflectionMapping=306,RepeatWrapping=1e3,ClampToEdgeWrapping=1001,MirroredRepeatWrapping=1002,NearestFilter=1003,NearestMipmapNearestFilter=1004,NearestMipMapNearestFilter=1004,NearestMipmapLinearFilter=1005,NearestMipMapLinearFilter=1005,LinearFilter=1006,LinearMipmapNearestFilter=1007,LinearMipMapNearestFilter=1007,LinearMipmapLinearFilter=1008,LinearMipMapLinearFilter=1008,UnsignedByteType=1009,ByteType=1010,ShortType=1011,UnsignedShortType=1012,IntType=1013,UnsignedIntType=1014,FloatType=1015,HalfFloatType=1016,UnsignedShort4444Type=1017,UnsignedShort5551Type=1018,UnsignedInt248Type=1020,AlphaFormat=1021,RGBFormat=1022,RGBAFormat=1023,LuminanceFormat=1024,LuminanceAlphaFormat=1025,DepthFormat=1026,DepthStencilFormat=1027,RedFormat=1028,RedIntegerFormat=1029,RGFormat=1030,RGIntegerFormat=1031,RGBAIntegerFormat=1033,RGB_S3TC_DXT1_Format=33776,RGBA_S3TC_DXT1_Format=33777,RGBA_S3TC_DXT3_Format=33778,RGBA_S3TC_DXT5_Format=33779,RGB_PVRTC_4BPPV1_Format=35840,RGB_PVRTC_2BPPV1_Format=35841,RGBA_PVRTC_4BPPV1_Format=35842,RGBA_PVRTC_2BPPV1_Format=35843,RGB_ETC1_Format=36196,RGB_ETC2_Format=37492,RGBA_ETC2_EAC_Format=37496,RGBA_ASTC_4x4_Format=37808,RGBA_ASTC_5x4_Format=37809,RGBA_ASTC_5x5_Format=37810,RGBA_ASTC_6x5_Format=37811,RGBA_ASTC_6x6_Format=37812,RGBA_ASTC_8x5_Format=37813,RGBA_ASTC_8x6_Format=37814,RGBA_ASTC_8x8_Format=37815,RGBA_ASTC_10x5_Format=37816,RGBA_ASTC_10x6_Format=37817,RGBA_ASTC_10x8_Format=37818,RGBA_ASTC_10x10_Format=37819,RGBA_ASTC_12x10_Format=37820,RGBA_ASTC_12x12_Format=37821,RGBA_BPTC_Format=36492,LoopOnce=2200,LoopRepeat=2201,LoopPingPong=2202,InterpolateDiscrete=2300,InterpolateLinear=2301,InterpolateSmooth=2302,ZeroCurvatureEnding=2400,ZeroSlopeEnding=2401,WrapAroundEnding=2402,NormalAnimationBlendMode=2500,AdditiveAnimationBlendMode=2501,TrianglesDrawMode=0,TriangleStripDrawMode=1,TriangleFanDrawMode=2,LinearEncoding=3e3,sRGBEncoding=3001,BasicDepthPacking=3200,RGBADepthPacking=3201,TangentSpaceNormalMap=0,ObjectSpaceNormalMap=1,NoColorSpace="",SRGBColorSpace="srgb",LinearSRGBColorSpace="srgb-linear",ZeroStencilOp=0,KeepStencilOp=7680,ReplaceStencilOp=7681,IncrementStencilOp=7682,DecrementStencilOp=7683,IncrementWrapStencilOp=34055,DecrementWrapStencilOp=34056,InvertStencilOp=5386,NeverStencilFunc=512,LessStencilFunc=513,EqualStencilFunc=514,LessEqualStencilFunc=515,GreaterStencilFunc=516,NotEqualStencilFunc=517,GreaterEqualStencilFunc=518,AlwaysStencilFunc=519,StaticDrawUsage=35044,DynamicDrawUsage=35048,StreamDrawUsage=35040,StaticReadUsage=35045,DynamicReadUsage=35049,StreamReadUsage=35041,StaticCopyUsage=35046,DynamicCopyUsage=35050,StreamCopyUsage=35042,GLSL1="100",GLSL3="300 es",_SRGBAFormat=1035;class EventDispatcher{addEventListener(et,rt){this._listeners===void 0&&(this._listeners={});const nt=this._listeners;nt[et]===void 0&&(nt[et]=[]),nt[et].indexOf(rt)===-1&&nt[et].push(rt)}hasEventListener(et,rt){if(this._listeners===void 0)return!1;const nt=this._listeners;return nt[et]!==void 0&&nt[et].indexOf(rt)!==-1}removeEventListener(et,rt){if(this._listeners===void 0)return;const it=this._listeners[et];if(it!==void 0){const ot=it.indexOf(rt);ot!==-1&&it.splice(ot,1)}}dispatchEvent(et){if(this._listeners===void 0)return;const nt=this._listeners[et.type];if(nt!==void 0){et.target=this;const it=nt.slice(0);for(let ot=0,at=it.length;ot<at;ot++)it[ot].call(this,et);et.target=null}}}const _lut$1=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let _seed=1234567;const DEG2RAD=Math.PI/180,RAD2DEG=180/Math.PI;function generateUUID$1(){const tt=Math.random()*4294967295|0,et=Math.random()*4294967295|0,rt=Math.random()*4294967295|0,nt=Math.random()*4294967295|0;return(_lut$1[tt&255]+_lut$1[tt>>8&255]+_lut$1[tt>>16&255]+_lut$1[tt>>24&255]+"-"+_lut$1[et&255]+_lut$1[et>>8&255]+"-"+_lut$1[et>>16&15|64]+_lut$1[et>>24&255]+"-"+_lut$1[rt&63|128]+_lut$1[rt>>8&255]+"-"+_lut$1[rt>>16&255]+_lut$1[rt>>24&255]+_lut$1[nt&255]+_lut$1[nt>>8&255]+_lut$1[nt>>16&255]+_lut$1[nt>>24&255]).toLowerCase()}function clamp$1(tt,et,rt){return Math.max(et,Math.min(rt,tt))}function euclideanModulo(tt,et){return(tt%et+et)%et}function mapLinear(tt,et,rt,nt,it){return nt+(tt-et)*(it-nt)/(rt-et)}function inverseLerp(tt,et,rt){return tt!==et?(rt-tt)/(et-tt):0}function lerp(tt,et,rt){return(1-rt)*tt+rt*et}function damp(tt,et,rt,nt){return lerp(tt,et,1-Math.exp(-rt*nt))}function pingpong(tt,et=1){return et-Math.abs(euclideanModulo(tt,et*2)-et)}function smoothstep(tt,et,rt){return tt<=et?0:tt>=rt?1:(tt=(tt-et)/(rt-et),tt*tt*(3-2*tt))}function smootherstep(tt,et,rt){return tt<=et?0:tt>=rt?1:(tt=(tt-et)/(rt-et),tt*tt*tt*(tt*(tt*6-15)+10))}function randInt(tt,et){return tt+Math.floor(Math.random()*(et-tt+1))}function randFloat(tt,et){return tt+Math.random()*(et-tt)}function randFloatSpread(tt){return tt*(.5-Math.random())}function seededRandom(tt){tt!==void 0&&(_seed=tt);let et=_seed+=1831565813;return et=Math.imul(et^et>>>15,et|1),et^=et+Math.imul(et^et>>>7,et|61),((et^et>>>14)>>>0)/4294967296}function degToRad(tt){return tt*DEG2RAD}function radToDeg(tt){return tt*RAD2DEG}function isPowerOfTwo(tt){return(tt&tt-1)===0&&tt!==0}function ceilPowerOfTwo(tt){return Math.pow(2,Math.ceil(Math.log(tt)/Math.LN2))}function floorPowerOfTwo(tt){return Math.pow(2,Math.floor(Math.log(tt)/Math.LN2))}function setQuaternionFromProperEuler(tt,et,rt,nt,it){const ot=Math.cos,at=Math.sin,st=ot(rt/2),lt=at(rt/2),ct=ot((et+nt)/2),ut=at((et+nt)/2),dt=ot((et-nt)/2),ft=at((et-nt)/2),pt=ot((nt-et)/2),mt=at((nt-et)/2);switch(it){case"XYX":tt.set(st*ut,lt*dt,lt*ft,st*ct);break;case"YZY":tt.set(lt*ft,st*ut,lt*dt,st*ct);break;case"ZXZ":tt.set(lt*dt,lt*ft,st*ut,st*ct);break;case"XZX":tt.set(st*ut,lt*mt,lt*pt,st*ct);break;case"YXY":tt.set(lt*pt,st*ut,lt*mt,st*ct);break;case"ZYZ":tt.set(lt*mt,lt*pt,st*ut,st*ct);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+it)}}function denormalize(tt,et){switch(et.constructor){case Float32Array:return tt;case Uint16Array:return tt/65535;case Uint8Array:return tt/255;case Int16Array:return Math.max(tt/32767,-1);case Int8Array:return Math.max(tt/127,-1);default:throw new Error("Invalid component type.")}}function normalize$5(tt,et){switch(et.constructor){case Float32Array:return tt;case Uint16Array:return Math.round(tt*65535);case Uint8Array:return Math.round(tt*255);case Int16Array:return Math.round(tt*32767);case Int8Array:return Math.round(tt*127);default:throw new Error("Invalid component type.")}}var MathUtils=Object.freeze({__proto__:null,DEG2RAD,RAD2DEG,generateUUID:generateUUID$1,clamp:clamp$1,euclideanModulo,mapLinear,inverseLerp,lerp,damp,pingpong,smoothstep,smootherstep,randInt,randFloat,randFloatSpread,seededRandom,degToRad,radToDeg,isPowerOfTwo,ceilPowerOfTwo,floorPowerOfTwo,setQuaternionFromProperEuler,normalize:normalize$5,denormalize});class Vector2{constructor(et=0,rt=0){Vector2.prototype.isVector2=!0,this.x=et,this.y=rt}get width(){return this.x}set width(et){this.x=et}get height(){return this.y}set height(et){this.y=et}set(et,rt){return this.x=et,this.y=rt,this}setScalar(et){return this.x=et,this.y=et,this}setX(et){return this.x=et,this}setY(et){return this.y=et,this}setComponent(et,rt){switch(et){case 0:this.x=rt;break;case 1:this.y=rt;break;default:throw new Error("index is out of range: "+et)}return this}getComponent(et){switch(et){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+et)}}clone(){return new this.constructor(this.x,this.y)}copy(et){return this.x=et.x,this.y=et.y,this}add(et){return this.x+=et.x,this.y+=et.y,this}addScalar(et){return this.x+=et,this.y+=et,this}addVectors(et,rt){return this.x=et.x+rt.x,this.y=et.y+rt.y,this}addScaledVector(et,rt){return this.x+=et.x*rt,this.y+=et.y*rt,this}sub(et){return this.x-=et.x,this.y-=et.y,this}subScalar(et){return this.x-=et,this.y-=et,this}subVectors(et,rt){return this.x=et.x-rt.x,this.y=et.y-rt.y,this}multiply(et){return this.x*=et.x,this.y*=et.y,this}multiplyScalar(et){return this.x*=et,this.y*=et,this}divide(et){return this.x/=et.x,this.y/=et.y,this}divideScalar(et){return this.multiplyScalar(1/et)}applyMatrix3(et){const rt=this.x,nt=this.y,it=et.elements;return this.x=it[0]*rt+it[3]*nt+it[6],this.y=it[1]*rt+it[4]*nt+it[7],this}min(et){return this.x=Math.min(this.x,et.x),this.y=Math.min(this.y,et.y),this}max(et){return this.x=Math.max(this.x,et.x),this.y=Math.max(this.y,et.y),this}clamp(et,rt){return this.x=Math.max(et.x,Math.min(rt.x,this.x)),this.y=Math.max(et.y,Math.min(rt.y,this.y)),this}clampScalar(et,rt){return this.x=Math.max(et,Math.min(rt,this.x)),this.y=Math.max(et,Math.min(rt,this.y)),this}clampLength(et,rt){const nt=this.length();return this.divideScalar(nt||1).multiplyScalar(Math.max(et,Math.min(rt,nt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(et){return this.x*et.x+this.y*et.y}cross(et){return this.x*et.y-this.y*et.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}distanceTo(et){return Math.sqrt(this.distanceToSquared(et))}distanceToSquared(et){const rt=this.x-et.x,nt=this.y-et.y;return rt*rt+nt*nt}manhattanDistanceTo(et){return Math.abs(this.x-et.x)+Math.abs(this.y-et.y)}setLength(et){return this.normalize().multiplyScalar(et)}lerp(et,rt){return this.x+=(et.x-this.x)*rt,this.y+=(et.y-this.y)*rt,this}lerpVectors(et,rt,nt){return this.x=et.x+(rt.x-et.x)*nt,this.y=et.y+(rt.y-et.y)*nt,this}equals(et){return et.x===this.x&&et.y===this.y}fromArray(et,rt=0){return this.x=et[rt],this.y=et[rt+1],this}toArray(et=[],rt=0){return et[rt]=this.x,et[rt+1]=this.y,et}fromBufferAttribute(et,rt){return this.x=et.getX(rt),this.y=et.getY(rt),this}rotateAround(et,rt){const nt=Math.cos(rt),it=Math.sin(rt),ot=this.x-et.x,at=this.y-et.y;return this.x=ot*nt-at*it+et.x,this.y=ot*it+at*nt+et.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Matrix3{constructor(){Matrix3.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1]}set(et,rt,nt,it,ot,at,st,lt,ct){const ut=this.elements;return ut[0]=et,ut[1]=it,ut[2]=st,ut[3]=rt,ut[4]=ot,ut[5]=lt,ut[6]=nt,ut[7]=at,ut[8]=ct,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(et){const rt=this.elements,nt=et.elements;return rt[0]=nt[0],rt[1]=nt[1],rt[2]=nt[2],rt[3]=nt[3],rt[4]=nt[4],rt[5]=nt[5],rt[6]=nt[6],rt[7]=nt[7],rt[8]=nt[8],this}extractBasis(et,rt,nt){return et.setFromMatrix3Column(this,0),rt.setFromMatrix3Column(this,1),nt.setFromMatrix3Column(this,2),this}setFromMatrix4(et){const rt=et.elements;return this.set(rt[0],rt[4],rt[8],rt[1],rt[5],rt[9],rt[2],rt[6],rt[10]),this}multiply(et){return this.multiplyMatrices(this,et)}premultiply(et){return this.multiplyMatrices(et,this)}multiplyMatrices(et,rt){const nt=et.elements,it=rt.elements,ot=this.elements,at=nt[0],st=nt[3],lt=nt[6],ct=nt[1],ut=nt[4],dt=nt[7],ft=nt[2],pt=nt[5],mt=nt[8],ht=it[0],gt=it[3],vt=it[6],yt=it[1],bt=it[4],xt=it[7],$t=it[2],Tt=it[5],wt=it[8];return ot[0]=at*ht+st*yt+lt*$t,ot[3]=at*gt+st*bt+lt*Tt,ot[6]=at*vt+st*xt+lt*wt,ot[1]=ct*ht+ut*yt+dt*$t,ot[4]=ct*gt+ut*bt+dt*Tt,ot[7]=ct*vt+ut*xt+dt*wt,ot[2]=ft*ht+pt*yt+mt*$t,ot[5]=ft*gt+pt*bt+mt*Tt,ot[8]=ft*vt+pt*xt+mt*wt,this}multiplyScalar(et){const rt=this.elements;return rt[0]*=et,rt[3]*=et,rt[6]*=et,rt[1]*=et,rt[4]*=et,rt[7]*=et,rt[2]*=et,rt[5]*=et,rt[8]*=et,this}determinant(){const et=this.elements,rt=et[0],nt=et[1],it=et[2],ot=et[3],at=et[4],st=et[5],lt=et[6],ct=et[7],ut=et[8];return rt*at*ut-rt*st*ct-nt*ot*ut+nt*st*lt+it*ot*ct-it*at*lt}invert(){const et=this.elements,rt=et[0],nt=et[1],it=et[2],ot=et[3],at=et[4],st=et[5],lt=et[6],ct=et[7],ut=et[8],dt=ut*at-st*ct,ft=st*lt-ut*ot,pt=ct*ot-at*lt,mt=rt*dt+nt*ft+it*pt;if(mt===0)return this.set(0,0,0,0,0,0,0,0,0);const ht=1/mt;return et[0]=dt*ht,et[1]=(it*ct-ut*nt)*ht,et[2]=(st*nt-it*at)*ht,et[3]=ft*ht,et[4]=(ut*rt-it*lt)*ht,et[5]=(it*ot-st*rt)*ht,et[6]=pt*ht,et[7]=(nt*lt-ct*rt)*ht,et[8]=(at*rt-nt*ot)*ht,this}transpose(){let et;const rt=this.elements;return et=rt[1],rt[1]=rt[3],rt[3]=et,et=rt[2],rt[2]=rt[6],rt[6]=et,et=rt[5],rt[5]=rt[7],rt[7]=et,this}getNormalMatrix(et){return this.setFromMatrix4(et).invert().transpose()}transposeIntoArray(et){const rt=this.elements;return et[0]=rt[0],et[1]=rt[3],et[2]=rt[6],et[3]=rt[1],et[4]=rt[4],et[5]=rt[7],et[6]=rt[2],et[7]=rt[5],et[8]=rt[8],this}setUvTransform(et,rt,nt,it,ot,at,st){const lt=Math.cos(ot),ct=Math.sin(ot);return this.set(nt*lt,nt*ct,-nt*(lt*at+ct*st)+at+et,-it*ct,it*lt,-it*(-ct*at+lt*st)+st+rt,0,0,1),this}scale(et,rt){return this.premultiply(_m3.makeScale(et,rt)),this}rotate(et){return this.premultiply(_m3.makeRotation(-et)),this}translate(et,rt){return this.premultiply(_m3.makeTranslation(et,rt)),this}makeTranslation(et,rt){return this.set(1,0,et,0,1,rt,0,0,1),this}makeRotation(et){const rt=Math.cos(et),nt=Math.sin(et);return this.set(rt,-nt,0,nt,rt,0,0,0,1),this}makeScale(et,rt){return this.set(et,0,0,0,rt,0,0,0,1),this}equals(et){const rt=this.elements,nt=et.elements;for(let it=0;it<9;it++)if(rt[it]!==nt[it])return!1;return!0}fromArray(et,rt=0){for(let nt=0;nt<9;nt++)this.elements[nt]=et[nt+rt];return this}toArray(et=[],rt=0){const nt=this.elements;return et[rt]=nt[0],et[rt+1]=nt[1],et[rt+2]=nt[2],et[rt+3]=nt[3],et[rt+4]=nt[4],et[rt+5]=nt[5],et[rt+6]=nt[6],et[rt+7]=nt[7],et[rt+8]=nt[8],et}clone(){return new this.constructor().fromArray(this.elements)}}const _m3=new Matrix3;function arrayNeedsUint32(tt){for(let et=tt.length-1;et>=0;--et)if(tt[et]>=65535)return!0;return!1}const TYPED_ARRAYS={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function getTypedArray(tt,et){return new TYPED_ARRAYS[tt](et)}function createElementNS(tt){return document.createElementNS("http://www.w3.org/1999/xhtml",tt)}function SRGBToLinear(tt){return tt<.04045?tt*.0773993808:Math.pow(tt*.9478672986+.0521327014,2.4)}function LinearToSRGB(tt){return tt<.0031308?tt*12.92:1.055*Math.pow(tt,.41666)-.055}const FN={[SRGBColorSpace]:{[LinearSRGBColorSpace]:SRGBToLinear},[LinearSRGBColorSpace]:{[SRGBColorSpace]:LinearToSRGB}},ColorManagement={legacyMode:!0,get workingColorSpace(){return LinearSRGBColorSpace},set workingColorSpace(tt){console.warn("THREE.ColorManagement: .workingColorSpace is readonly.")},convert:function(tt,et,rt){if(this.legacyMode||et===rt||!et||!rt)return tt;if(FN[et]&&FN[et][rt]!==void 0){const nt=FN[et][rt];return tt.r=nt(tt.r),tt.g=nt(tt.g),tt.b=nt(tt.b),tt}throw new Error("Unsupported color space conversion.")},fromWorkingColorSpace:function(tt,et){return this.convert(tt,this.workingColorSpace,et)},toWorkingColorSpace:function(tt,et){return this.convert(tt,et,this.workingColorSpace)}},_colorKeywords={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},_rgb$1={r:0,g:0,b:0},_hslA={h:0,s:0,l:0},_hslB={h:0,s:0,l:0};function hue2rgb$1(tt,et,rt){return rt<0&&(rt+=1),rt>1&&(rt-=1),rt<1/6?tt+(et-tt)*6*rt:rt<1/2?et:rt<2/3?tt+(et-tt)*6*(2/3-rt):tt}function toComponents(tt,et){return et.r=tt.r,et.g=tt.g,et.b=tt.b,et}class Color{constructor(et,rt,nt){return this.isColor=!0,this.r=1,this.g=1,this.b=1,rt===void 0&&nt===void 0?this.set(et):this.setRGB(et,rt,nt)}set(et){return et&&et.isColor?this.copy(et):typeof et=="number"?this.setHex(et):typeof et=="string"&&this.setStyle(et),this}setScalar(et){return this.r=et,this.g=et,this.b=et,this}setHex(et,rt=SRGBColorSpace){return et=Math.floor(et),this.r=(et>>16&255)/255,this.g=(et>>8&255)/255,this.b=(et&255)/255,ColorManagement.toWorkingColorSpace(this,rt),this}setRGB(et,rt,nt,it=ColorManagement.workingColorSpace){return this.r=et,this.g=rt,this.b=nt,ColorManagement.toWorkingColorSpace(this,it),this}setHSL(et,rt,nt,it=ColorManagement.workingColorSpace){if(et=euclideanModulo(et,1),rt=clamp$1(rt,0,1),nt=clamp$1(nt,0,1),rt===0)this.r=this.g=this.b=nt;else{const ot=nt<=.5?nt*(1+rt):nt+rt-nt*rt,at=2*nt-ot;this.r=hue2rgb$1(at,ot,et+1/3),this.g=hue2rgb$1(at,ot,et),this.b=hue2rgb$1(at,ot,et-1/3)}return ColorManagement.toWorkingColorSpace(this,it),this}setStyle(et,rt=SRGBColorSpace){function nt(ot){ot!==void 0&&parseFloat(ot)<1&&console.warn("THREE.Color: Alpha component of "+et+" will be ignored.")}let it;if(it=/^((?:rgb|hsl)a?)\(([^\)]*)\)/.exec(et)){let ot;const at=it[1],st=it[2];switch(at){case"rgb":case"rgba":if(ot=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return this.r=Math.min(255,parseInt(ot[1],10))/255,this.g=Math.min(255,parseInt(ot[2],10))/255,this.b=Math.min(255,parseInt(ot[3],10))/255,ColorManagement.toWorkingColorSpace(this,rt),nt(ot[4]),this;if(ot=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st))return this.r=Math.min(100,parseInt(ot[1],10))/100,this.g=Math.min(100,parseInt(ot[2],10))/100,this.b=Math.min(100,parseInt(ot[3],10))/100,ColorManagement.toWorkingColorSpace(this,rt),nt(ot[4]),this;break;case"hsl":case"hsla":if(ot=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(st)){const lt=parseFloat(ot[1])/360,ct=parseFloat(ot[2])/100,ut=parseFloat(ot[3])/100;return nt(ot[4]),this.setHSL(lt,ct,ut,rt)}break}}else if(it=/^\#([A-Fa-f\d]+)$/.exec(et)){const ot=it[1],at=ot.length;if(at===3)return this.r=parseInt(ot.charAt(0)+ot.charAt(0),16)/255,this.g=parseInt(ot.charAt(1)+ot.charAt(1),16)/255,this.b=parseInt(ot.charAt(2)+ot.charAt(2),16)/255,ColorManagement.toWorkingColorSpace(this,rt),this;if(at===6)return this.r=parseInt(ot.charAt(0)+ot.charAt(1),16)/255,this.g=parseInt(ot.charAt(2)+ot.charAt(3),16)/255,this.b=parseInt(ot.charAt(4)+ot.charAt(5),16)/255,ColorManagement.toWorkingColorSpace(this,rt),this}return et&&et.length>0?this.setColorName(et,rt):this}setColorName(et,rt=SRGBColorSpace){const nt=_colorKeywords[et.toLowerCase()];return nt!==void 0?this.setHex(nt,rt):console.warn("THREE.Color: Unknown color "+et),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(et){return this.r=et.r,this.g=et.g,this.b=et.b,this}copySRGBToLinear(et){return this.r=SRGBToLinear(et.r),this.g=SRGBToLinear(et.g),this.b=SRGBToLinear(et.b),this}copyLinearToSRGB(et){return this.r=LinearToSRGB(et.r),this.g=LinearToSRGB(et.g),this.b=LinearToSRGB(et.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(et=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),et),clamp$1(_rgb$1.r*255,0,255)<<16^clamp$1(_rgb$1.g*255,0,255)<<8^clamp$1(_rgb$1.b*255,0,255)<<0}getHexString(et=SRGBColorSpace){return("000000"+this.getHex(et).toString(16)).slice(-6)}getHSL(et,rt=ColorManagement.workingColorSpace){ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),rt);const nt=_rgb$1.r,it=_rgb$1.g,ot=_rgb$1.b,at=Math.max(nt,it,ot),st=Math.min(nt,it,ot);let lt,ct;const ut=(st+at)/2;if(st===at)lt=0,ct=0;else{const dt=at-st;switch(ct=ut<=.5?dt/(at+st):dt/(2-at-st),at){case nt:lt=(it-ot)/dt+(it<ot?6:0);break;case it:lt=(ot-nt)/dt+2;break;case ot:lt=(nt-it)/dt+4;break}lt/=6}return et.h=lt,et.s=ct,et.l=ut,et}getRGB(et,rt=ColorManagement.workingColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),rt),et.r=_rgb$1.r,et.g=_rgb$1.g,et.b=_rgb$1.b,et}getStyle(et=SRGBColorSpace){return ColorManagement.fromWorkingColorSpace(toComponents(this,_rgb$1),et),et!==SRGBColorSpace?`color(${et} ${_rgb$1.r} ${_rgb$1.g} ${_rgb$1.b})`:`rgb(${_rgb$1.r*255|0},${_rgb$1.g*255|0},${_rgb$1.b*255|0})`}offsetHSL(et,rt,nt){return this.getHSL(_hslA),_hslA.h+=et,_hslA.s+=rt,_hslA.l+=nt,this.setHSL(_hslA.h,_hslA.s,_hslA.l),this}add(et){return this.r+=et.r,this.g+=et.g,this.b+=et.b,this}addColors(et,rt){return this.r=et.r+rt.r,this.g=et.g+rt.g,this.b=et.b+rt.b,this}addScalar(et){return this.r+=et,this.g+=et,this.b+=et,this}sub(et){return this.r=Math.max(0,this.r-et.r),this.g=Math.max(0,this.g-et.g),this.b=Math.max(0,this.b-et.b),this}multiply(et){return this.r*=et.r,this.g*=et.g,this.b*=et.b,this}multiplyScalar(et){return this.r*=et,this.g*=et,this.b*=et,this}lerp(et,rt){return this.r+=(et.r-this.r)*rt,this.g+=(et.g-this.g)*rt,this.b+=(et.b-this.b)*rt,this}lerpColors(et,rt,nt){return this.r=et.r+(rt.r-et.r)*nt,this.g=et.g+(rt.g-et.g)*nt,this.b=et.b+(rt.b-et.b)*nt,this}lerpHSL(et,rt){this.getHSL(_hslA),et.getHSL(_hslB);const nt=lerp(_hslA.h,_hslB.h,rt),it=lerp(_hslA.s,_hslB.s,rt),ot=lerp(_hslA.l,_hslB.l,rt);return this.setHSL(nt,it,ot),this}equals(et){return et.r===this.r&&et.g===this.g&&et.b===this.b}fromArray(et,rt=0){return this.r=et[rt],this.g=et[rt+1],this.b=et[rt+2],this}toArray(et=[],rt=0){return et[rt]=this.r,et[rt+1]=this.g,et[rt+2]=this.b,et}fromBufferAttribute(et,rt){return this.r=et.getX(rt),this.g=et.getY(rt),this.b=et.getZ(rt),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}}Color.NAMES=_colorKeywords;let _canvas;class ImageUtils{static getDataURL(et){if(/^data:/i.test(et.src)||typeof HTMLCanvasElement>"u")return et.src;let rt;if(et instanceof HTMLCanvasElement)rt=et;else{_canvas===void 0&&(_canvas=createElementNS("canvas")),_canvas.width=et.width,_canvas.height=et.height;const nt=_canvas.getContext("2d");et instanceof ImageData?nt.putImageData(et,0,0):nt.drawImage(et,0,0,et.width,et.height),rt=_canvas}return rt.width>2048||rt.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",et),rt.toDataURL("image/jpeg",.6)):rt.toDataURL("image/png")}static sRGBToLinear(et){if(typeof HTMLImageElement<"u"&&et instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&et instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&et instanceof ImageBitmap){const rt=createElementNS("canvas");rt.width=et.width,rt.height=et.height;const nt=rt.getContext("2d");nt.drawImage(et,0,0,et.width,et.height);const it=nt.getImageData(0,0,et.width,et.height),ot=it.data;for(let at=0;at<ot.length;at++)ot[at]=SRGBToLinear(ot[at]/255)*255;return nt.putImageData(it,0,0),rt}else if(et.data){const rt=et.data.slice(0);for(let nt=0;nt<rt.length;nt++)rt instanceof Uint8Array||rt instanceof Uint8ClampedArray?rt[nt]=Math.floor(SRGBToLinear(rt[nt]/255)*255):rt[nt]=SRGBToLinear(rt[nt]);return{data:rt,width:et.width,height:et.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),et}}class Source{constructor(et=null){this.isSource=!0,this.uuid=generateUUID$1(),this.data=et,this.version=0}set needsUpdate(et){et===!0&&this.version++}toJSON(et){const rt=et===void 0||typeof et=="string";if(!rt&&et.images[this.uuid]!==void 0)return et.images[this.uuid];const nt={uuid:this.uuid,url:""},it=this.data;if(it!==null){let ot;if(Array.isArray(it)){ot=[];for(let at=0,st=it.length;at<st;at++)it[at].isDataTexture?ot.push(serializeImage(it[at].image)):ot.push(serializeImage(it[at]))}else ot=serializeImage(it);nt.url=ot}return rt||(et.images[this.uuid]=nt),nt}}function serializeImage(tt){return typeof HTMLImageElement<"u"&&tt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&tt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&tt instanceof ImageBitmap?ImageUtils.getDataURL(tt):tt.data?{data:Array.from(tt.data),width:tt.width,height:tt.height,type:tt.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let textureId=0;class Texture extends EventDispatcher{constructor(et=Texture.DEFAULT_IMAGE,rt=Texture.DEFAULT_MAPPING,nt=ClampToEdgeWrapping,it=ClampToEdgeWrapping,ot=LinearFilter,at=LinearMipmapLinearFilter,st=RGBAFormat,lt=UnsignedByteType,ct=Texture.DEFAULT_ANISOTROPY,ut=LinearEncoding){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:textureId++}),this.uuid=generateUUID$1(),this.name="",this.source=new Source(et),this.mipmaps=[],this.mapping=rt,this.wrapS=nt,this.wrapT=it,this.magFilter=ot,this.minFilter=at,this.anisotropy=ct,this.format=st,this.internalFormat=null,this.type=lt,this.offset=new Vector2(0,0),this.repeat=new Vector2(1,1),this.center=new Vector2(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Matrix3,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,this.encoding=ut,this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(et){this.source.data=et}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(et){return this.name=et.name,this.source=et.source,this.mipmaps=et.mipmaps.slice(0),this.mapping=et.mapping,this.wrapS=et.wrapS,this.wrapT=et.wrapT,this.magFilter=et.magFilter,this.minFilter=et.minFilter,this.anisotropy=et.anisotropy,this.format=et.format,this.internalFormat=et.internalFormat,this.type=et.type,this.offset.copy(et.offset),this.repeat.copy(et.repeat),this.center.copy(et.center),this.rotation=et.rotation,this.matrixAutoUpdate=et.matrixAutoUpdate,this.matrix.copy(et.matrix),this.generateMipmaps=et.generateMipmaps,this.premultiplyAlpha=et.premultiplyAlpha,this.flipY=et.flipY,this.unpackAlignment=et.unpackAlignment,this.encoding=et.encoding,this.userData=JSON.parse(JSON.stringify(et.userData)),this.needsUpdate=!0,this}toJSON(et){const rt=et===void 0||typeof et=="string";if(!rt&&et.textures[this.uuid]!==void 0)return et.textures[this.uuid];const nt={metadata:{version:4.5,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(et).uuid,mapping:this.mapping,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,type:this.type,encoding:this.encoding,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(nt.userData=this.userData),rt||(et.textures[this.uuid]=nt),nt}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(et){if(this.mapping!==UVMapping)return et;if(et.applyMatrix3(this.matrix),et.x<0||et.x>1)switch(this.wrapS){case RepeatWrapping:et.x=et.x-Math.floor(et.x);break;case ClampToEdgeWrapping:et.x=et.x<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(et.x)%2)===1?et.x=Math.ceil(et.x)-et.x:et.x=et.x-Math.floor(et.x);break}if(et.y<0||et.y>1)switch(this.wrapT){case RepeatWrapping:et.y=et.y-Math.floor(et.y);break;case ClampToEdgeWrapping:et.y=et.y<0?0:1;break;case MirroredRepeatWrapping:Math.abs(Math.floor(et.y)%2)===1?et.y=Math.ceil(et.y)-et.y:et.y=et.y-Math.floor(et.y);break}return this.flipY&&(et.y=1-et.y),et}set needsUpdate(et){et===!0&&(this.version++,this.source.needsUpdate=!0)}}Texture.DEFAULT_IMAGE=null;Texture.DEFAULT_MAPPING=UVMapping;Texture.DEFAULT_ANISOTROPY=1;class Vector4{constructor(et=0,rt=0,nt=0,it=1){Vector4.prototype.isVector4=!0,this.x=et,this.y=rt,this.z=nt,this.w=it}get width(){return this.z}set width(et){this.z=et}get height(){return this.w}set height(et){this.w=et}set(et,rt,nt,it){return this.x=et,this.y=rt,this.z=nt,this.w=it,this}setScalar(et){return this.x=et,this.y=et,this.z=et,this.w=et,this}setX(et){return this.x=et,this}setY(et){return this.y=et,this}setZ(et){return this.z=et,this}setW(et){return this.w=et,this}setComponent(et,rt){switch(et){case 0:this.x=rt;break;case 1:this.y=rt;break;case 2:this.z=rt;break;case 3:this.w=rt;break;default:throw new Error("index is out of range: "+et)}return this}getComponent(et){switch(et){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+et)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(et){return this.x=et.x,this.y=et.y,this.z=et.z,this.w=et.w!==void 0?et.w:1,this}add(et){return this.x+=et.x,this.y+=et.y,this.z+=et.z,this.w+=et.w,this}addScalar(et){return this.x+=et,this.y+=et,this.z+=et,this.w+=et,this}addVectors(et,rt){return this.x=et.x+rt.x,this.y=et.y+rt.y,this.z=et.z+rt.z,this.w=et.w+rt.w,this}addScaledVector(et,rt){return this.x+=et.x*rt,this.y+=et.y*rt,this.z+=et.z*rt,this.w+=et.w*rt,this}sub(et){return this.x-=et.x,this.y-=et.y,this.z-=et.z,this.w-=et.w,this}subScalar(et){return this.x-=et,this.y-=et,this.z-=et,this.w-=et,this}subVectors(et,rt){return this.x=et.x-rt.x,this.y=et.y-rt.y,this.z=et.z-rt.z,this.w=et.w-rt.w,this}multiply(et){return this.x*=et.x,this.y*=et.y,this.z*=et.z,this.w*=et.w,this}multiplyScalar(et){return this.x*=et,this.y*=et,this.z*=et,this.w*=et,this}applyMatrix4(et){const rt=this.x,nt=this.y,it=this.z,ot=this.w,at=et.elements;return this.x=at[0]*rt+at[4]*nt+at[8]*it+at[12]*ot,this.y=at[1]*rt+at[5]*nt+at[9]*it+at[13]*ot,this.z=at[2]*rt+at[6]*nt+at[10]*it+at[14]*ot,this.w=at[3]*rt+at[7]*nt+at[11]*it+at[15]*ot,this}divideScalar(et){return this.multiplyScalar(1/et)}setAxisAngleFromQuaternion(et){this.w=2*Math.acos(et.w);const rt=Math.sqrt(1-et.w*et.w);return rt<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=et.x/rt,this.y=et.y/rt,this.z=et.z/rt),this}setAxisAngleFromRotationMatrix(et){let rt,nt,it,ot;const lt=et.elements,ct=lt[0],ut=lt[4],dt=lt[8],ft=lt[1],pt=lt[5],mt=lt[9],ht=lt[2],gt=lt[6],vt=lt[10];if(Math.abs(ut-ft)<.01&&Math.abs(dt-ht)<.01&&Math.abs(mt-gt)<.01){if(Math.abs(ut+ft)<.1&&Math.abs(dt+ht)<.1&&Math.abs(mt+gt)<.1&&Math.abs(ct+pt+vt-3)<.1)return this.set(1,0,0,0),this;rt=Math.PI;const bt=(ct+1)/2,xt=(pt+1)/2,$t=(vt+1)/2,Tt=(ut+ft)/4,wt=(dt+ht)/4,At=(mt+gt)/4;return bt>xt&&bt>$t?bt<.01?(nt=0,it=.707106781,ot=.707106781):(nt=Math.sqrt(bt),it=Tt/nt,ot=wt/nt):xt>$t?xt<.01?(nt=.707106781,it=0,ot=.707106781):(it=Math.sqrt(xt),nt=Tt/it,ot=At/it):$t<.01?(nt=.707106781,it=.707106781,ot=0):(ot=Math.sqrt($t),nt=wt/ot,it=At/ot),this.set(nt,it,ot,rt),this}let yt=Math.sqrt((gt-mt)*(gt-mt)+(dt-ht)*(dt-ht)+(ft-ut)*(ft-ut));return Math.abs(yt)<.001&&(yt=1),this.x=(gt-mt)/yt,this.y=(dt-ht)/yt,this.z=(ft-ut)/yt,this.w=Math.acos((ct+pt+vt-1)/2),this}min(et){return this.x=Math.min(this.x,et.x),this.y=Math.min(this.y,et.y),this.z=Math.min(this.z,et.z),this.w=Math.min(this.w,et.w),this}max(et){return this.x=Math.max(this.x,et.x),this.y=Math.max(this.y,et.y),this.z=Math.max(this.z,et.z),this.w=Math.max(this.w,et.w),this}clamp(et,rt){return this.x=Math.max(et.x,Math.min(rt.x,this.x)),this.y=Math.max(et.y,Math.min(rt.y,this.y)),this.z=Math.max(et.z,Math.min(rt.z,this.z)),this.w=Math.max(et.w,Math.min(rt.w,this.w)),this}clampScalar(et,rt){return this.x=Math.max(et,Math.min(rt,this.x)),this.y=Math.max(et,Math.min(rt,this.y)),this.z=Math.max(et,Math.min(rt,this.z)),this.w=Math.max(et,Math.min(rt,this.w)),this}clampLength(et,rt){const nt=this.length();return this.divideScalar(nt||1).multiplyScalar(Math.max(et,Math.min(rt,nt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this.w=this.w<0?Math.ceil(this.w):Math.floor(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(et){return this.x*et.x+this.y*et.y+this.z*et.z+this.w*et.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(et){return this.normalize().multiplyScalar(et)}lerp(et,rt){return this.x+=(et.x-this.x)*rt,this.y+=(et.y-this.y)*rt,this.z+=(et.z-this.z)*rt,this.w+=(et.w-this.w)*rt,this}lerpVectors(et,rt,nt){return this.x=et.x+(rt.x-et.x)*nt,this.y=et.y+(rt.y-et.y)*nt,this.z=et.z+(rt.z-et.z)*nt,this.w=et.w+(rt.w-et.w)*nt,this}equals(et){return et.x===this.x&&et.y===this.y&&et.z===this.z&&et.w===this.w}fromArray(et,rt=0){return this.x=et[rt],this.y=et[rt+1],this.z=et[rt+2],this.w=et[rt+3],this}toArray(et=[],rt=0){return et[rt]=this.x,et[rt+1]=this.y,et[rt+2]=this.z,et[rt+3]=this.w,et}fromBufferAttribute(et,rt){return this.x=et.getX(rt),this.y=et.getY(rt),this.z=et.getZ(rt),this.w=et.getW(rt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class WebGLRenderTarget extends EventDispatcher{constructor(et=1,rt=1,nt={}){super(),this.isWebGLRenderTarget=!0,this.width=et,this.height=rt,this.depth=1,this.scissor=new Vector4(0,0,et,rt),this.scissorTest=!1,this.viewport=new Vector4(0,0,et,rt);const it={width:et,height:rt,depth:1};this.texture=new Texture(it,nt.mapping,nt.wrapS,nt.wrapT,nt.magFilter,nt.minFilter,nt.format,nt.type,nt.anisotropy,nt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=nt.generateMipmaps!==void 0?nt.generateMipmaps:!1,this.texture.internalFormat=nt.internalFormat!==void 0?nt.internalFormat:null,this.texture.minFilter=nt.minFilter!==void 0?nt.minFilter:LinearFilter,this.depthBuffer=nt.depthBuffer!==void 0?nt.depthBuffer:!0,this.stencilBuffer=nt.stencilBuffer!==void 0?nt.stencilBuffer:!1,this.depthTexture=nt.depthTexture!==void 0?nt.depthTexture:null,this.samples=nt.samples!==void 0?nt.samples:0}setSize(et,rt,nt=1){(this.width!==et||this.height!==rt||this.depth!==nt)&&(this.width=et,this.height=rt,this.depth=nt,this.texture.image.width=et,this.texture.image.height=rt,this.texture.image.depth=nt,this.dispose()),this.viewport.set(0,0,et,rt),this.scissor.set(0,0,et,rt)}clone(){return new this.constructor().copy(this)}copy(et){this.width=et.width,this.height=et.height,this.depth=et.depth,this.viewport.copy(et.viewport),this.texture=et.texture.clone(),this.texture.isRenderTargetTexture=!0;const rt=Object.assign({},et.texture.image);return this.texture.source=new Source(rt),this.depthBuffer=et.depthBuffer,this.stencilBuffer=et.stencilBuffer,et.depthTexture!==null&&(this.depthTexture=et.depthTexture.clone()),this.samples=et.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class DataArrayTexture extends Texture{constructor(et=null,rt=1,nt=1,it=1){super(null),this.isDataArrayTexture=!0,this.image={data:et,width:rt,height:nt,depth:it},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGLArrayRenderTarget extends WebGLRenderTarget{constructor(et=1,rt=1,nt=1){super(et,rt),this.isWebGLArrayRenderTarget=!0,this.depth=nt,this.texture=new DataArrayTexture(null,et,rt,nt),this.texture.isRenderTargetTexture=!0}}class Data3DTexture extends Texture{constructor(et=null,rt=1,nt=1,it=1){super(null),this.isData3DTexture=!0,this.image={data:et,width:rt,height:nt,depth:it},this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.wrapR=ClampToEdgeWrapping,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class WebGL3DRenderTarget extends WebGLRenderTarget{constructor(et=1,rt=1,nt=1){super(et,rt),this.isWebGL3DRenderTarget=!0,this.depth=nt,this.texture=new Data3DTexture(null,et,rt,nt),this.texture.isRenderTargetTexture=!0}}class WebGLMultipleRenderTargets extends WebGLRenderTarget{constructor(et=1,rt=1,nt=1,it={}){super(et,rt,it),this.isWebGLMultipleRenderTargets=!0;const ot=this.texture;this.texture=[];for(let at=0;at<nt;at++)this.texture[at]=ot.clone(),this.texture[at].isRenderTargetTexture=!0}setSize(et,rt,nt=1){if(this.width!==et||this.height!==rt||this.depth!==nt){this.width=et,this.height=rt,this.depth=nt;for(let it=0,ot=this.texture.length;it<ot;it++)this.texture[it].image.width=et,this.texture[it].image.height=rt,this.texture[it].image.depth=nt;this.dispose()}return this.viewport.set(0,0,et,rt),this.scissor.set(0,0,et,rt),this}copy(et){this.dispose(),this.width=et.width,this.height=et.height,this.depth=et.depth,this.viewport.set(0,0,this.width,this.height),this.scissor.set(0,0,this.width,this.height),this.depthBuffer=et.depthBuffer,this.stencilBuffer=et.stencilBuffer,et.depthTexture!==null&&(this.depthTexture=et.depthTexture.clone()),this.texture.length=0;for(let rt=0,nt=et.texture.length;rt<nt;rt++)this.texture[rt]=et.texture[rt].clone(),this.texture[rt].isRenderTargetTexture=!0;return this}}class Quaternion{constructor(et=0,rt=0,nt=0,it=1){this.isQuaternion=!0,this._x=et,this._y=rt,this._z=nt,this._w=it}static slerpFlat(et,rt,nt,it,ot,at,st){let lt=nt[it+0],ct=nt[it+1],ut=nt[it+2],dt=nt[it+3];const ft=ot[at+0],pt=ot[at+1],mt=ot[at+2],ht=ot[at+3];if(st===0){et[rt+0]=lt,et[rt+1]=ct,et[rt+2]=ut,et[rt+3]=dt;return}if(st===1){et[rt+0]=ft,et[rt+1]=pt,et[rt+2]=mt,et[rt+3]=ht;return}if(dt!==ht||lt!==ft||ct!==pt||ut!==mt){let gt=1-st;const vt=lt*ft+ct*pt+ut*mt+dt*ht,yt=vt>=0?1:-1,bt=1-vt*vt;if(bt>Number.EPSILON){const $t=Math.sqrt(bt),Tt=Math.atan2($t,vt*yt);gt=Math.sin(gt*Tt)/$t,st=Math.sin(st*Tt)/$t}const xt=st*yt;if(lt=lt*gt+ft*xt,ct=ct*gt+pt*xt,ut=ut*gt+mt*xt,dt=dt*gt+ht*xt,gt===1-st){const $t=1/Math.sqrt(lt*lt+ct*ct+ut*ut+dt*dt);lt*=$t,ct*=$t,ut*=$t,dt*=$t}}et[rt]=lt,et[rt+1]=ct,et[rt+2]=ut,et[rt+3]=dt}static multiplyQuaternionsFlat(et,rt,nt,it,ot,at){const st=nt[it],lt=nt[it+1],ct=nt[it+2],ut=nt[it+3],dt=ot[at],ft=ot[at+1],pt=ot[at+2],mt=ot[at+3];return et[rt]=st*mt+ut*dt+lt*pt-ct*ft,et[rt+1]=lt*mt+ut*ft+ct*dt-st*pt,et[rt+2]=ct*mt+ut*pt+st*ft-lt*dt,et[rt+3]=ut*mt-st*dt-lt*ft-ct*pt,et}get x(){return this._x}set x(et){this._x=et,this._onChangeCallback()}get y(){return this._y}set y(et){this._y=et,this._onChangeCallback()}get z(){return this._z}set z(et){this._z=et,this._onChangeCallback()}get w(){return this._w}set w(et){this._w=et,this._onChangeCallback()}set(et,rt,nt,it){return this._x=et,this._y=rt,this._z=nt,this._w=it,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(et){return this._x=et.x,this._y=et.y,this._z=et.z,this._w=et.w,this._onChangeCallback(),this}setFromEuler(et,rt){const nt=et._x,it=et._y,ot=et._z,at=et._order,st=Math.cos,lt=Math.sin,ct=st(nt/2),ut=st(it/2),dt=st(ot/2),ft=lt(nt/2),pt=lt(it/2),mt=lt(ot/2);switch(at){case"XYZ":this._x=ft*ut*dt+ct*pt*mt,this._y=ct*pt*dt-ft*ut*mt,this._z=ct*ut*mt+ft*pt*dt,this._w=ct*ut*dt-ft*pt*mt;break;case"YXZ":this._x=ft*ut*dt+ct*pt*mt,this._y=ct*pt*dt-ft*ut*mt,this._z=ct*ut*mt-ft*pt*dt,this._w=ct*ut*dt+ft*pt*mt;break;case"ZXY":this._x=ft*ut*dt-ct*pt*mt,this._y=ct*pt*dt+ft*ut*mt,this._z=ct*ut*mt+ft*pt*dt,this._w=ct*ut*dt-ft*pt*mt;break;case"ZYX":this._x=ft*ut*dt-ct*pt*mt,this._y=ct*pt*dt+ft*ut*mt,this._z=ct*ut*mt-ft*pt*dt,this._w=ct*ut*dt+ft*pt*mt;break;case"YZX":this._x=ft*ut*dt+ct*pt*mt,this._y=ct*pt*dt+ft*ut*mt,this._z=ct*ut*mt-ft*pt*dt,this._w=ct*ut*dt-ft*pt*mt;break;case"XZY":this._x=ft*ut*dt-ct*pt*mt,this._y=ct*pt*dt-ft*ut*mt,this._z=ct*ut*mt+ft*pt*dt,this._w=ct*ut*dt+ft*pt*mt;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+at)}return rt!==!1&&this._onChangeCallback(),this}setFromAxisAngle(et,rt){const nt=rt/2,it=Math.sin(nt);return this._x=et.x*it,this._y=et.y*it,this._z=et.z*it,this._w=Math.cos(nt),this._onChangeCallback(),this}setFromRotationMatrix(et){const rt=et.elements,nt=rt[0],it=rt[4],ot=rt[8],at=rt[1],st=rt[5],lt=rt[9],ct=rt[2],ut=rt[6],dt=rt[10],ft=nt+st+dt;if(ft>0){const pt=.5/Math.sqrt(ft+1);this._w=.25/pt,this._x=(ut-lt)*pt,this._y=(ot-ct)*pt,this._z=(at-it)*pt}else if(nt>st&&nt>dt){const pt=2*Math.sqrt(1+nt-st-dt);this._w=(ut-lt)/pt,this._x=.25*pt,this._y=(it+at)/pt,this._z=(ot+ct)/pt}else if(st>dt){const pt=2*Math.sqrt(1+st-nt-dt);this._w=(ot-ct)/pt,this._x=(it+at)/pt,this._y=.25*pt,this._z=(lt+ut)/pt}else{const pt=2*Math.sqrt(1+dt-nt-st);this._w=(at-it)/pt,this._x=(ot+ct)/pt,this._y=(lt+ut)/pt,this._z=.25*pt}return this._onChangeCallback(),this}setFromUnitVectors(et,rt){let nt=et.dot(rt)+1;return nt<Number.EPSILON?(nt=0,Math.abs(et.x)>Math.abs(et.z)?(this._x=-et.y,this._y=et.x,this._z=0,this._w=nt):(this._x=0,this._y=-et.z,this._z=et.y,this._w=nt)):(this._x=et.y*rt.z-et.z*rt.y,this._y=et.z*rt.x-et.x*rt.z,this._z=et.x*rt.y-et.y*rt.x,this._w=nt),this.normalize()}angleTo(et){return 2*Math.acos(Math.abs(clamp$1(this.dot(et),-1,1)))}rotateTowards(et,rt){const nt=this.angleTo(et);if(nt===0)return this;const it=Math.min(1,rt/nt);return this.slerp(et,it),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(et){return this._x*et._x+this._y*et._y+this._z*et._z+this._w*et._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let et=this.length();return et===0?(this._x=0,this._y=0,this._z=0,this._w=1):(et=1/et,this._x=this._x*et,this._y=this._y*et,this._z=this._z*et,this._w=this._w*et),this._onChangeCallback(),this}multiply(et){return this.multiplyQuaternions(this,et)}premultiply(et){return this.multiplyQuaternions(et,this)}multiplyQuaternions(et,rt){const nt=et._x,it=et._y,ot=et._z,at=et._w,st=rt._x,lt=rt._y,ct=rt._z,ut=rt._w;return this._x=nt*ut+at*st+it*ct-ot*lt,this._y=it*ut+at*lt+ot*st-nt*ct,this._z=ot*ut+at*ct+nt*lt-it*st,this._w=at*ut-nt*st-it*lt-ot*ct,this._onChangeCallback(),this}slerp(et,rt){if(rt===0)return this;if(rt===1)return this.copy(et);const nt=this._x,it=this._y,ot=this._z,at=this._w;let st=at*et._w+nt*et._x+it*et._y+ot*et._z;if(st<0?(this._w=-et._w,this._x=-et._x,this._y=-et._y,this._z=-et._z,st=-st):this.copy(et),st>=1)return this._w=at,this._x=nt,this._y=it,this._z=ot,this;const lt=1-st*st;if(lt<=Number.EPSILON){const pt=1-rt;return this._w=pt*at+rt*this._w,this._x=pt*nt+rt*this._x,this._y=pt*it+rt*this._y,this._z=pt*ot+rt*this._z,this.normalize(),this._onChangeCallback(),this}const ct=Math.sqrt(lt),ut=Math.atan2(ct,st),dt=Math.sin((1-rt)*ut)/ct,ft=Math.sin(rt*ut)/ct;return this._w=at*dt+this._w*ft,this._x=nt*dt+this._x*ft,this._y=it*dt+this._y*ft,this._z=ot*dt+this._z*ft,this._onChangeCallback(),this}slerpQuaternions(et,rt,nt){return this.copy(et).slerp(rt,nt)}random(){const et=Math.random(),rt=Math.sqrt(1-et),nt=Math.sqrt(et),it=2*Math.PI*Math.random(),ot=2*Math.PI*Math.random();return this.set(rt*Math.cos(it),nt*Math.sin(ot),nt*Math.cos(ot),rt*Math.sin(it))}equals(et){return et._x===this._x&&et._y===this._y&&et._z===this._z&&et._w===this._w}fromArray(et,rt=0){return this._x=et[rt],this._y=et[rt+1],this._z=et[rt+2],this._w=et[rt+3],this._onChangeCallback(),this}toArray(et=[],rt=0){return et[rt]=this._x,et[rt+1]=this._y,et[rt+2]=this._z,et[rt+3]=this._w,et}fromBufferAttribute(et,rt){return this._x=et.getX(rt),this._y=et.getY(rt),this._z=et.getZ(rt),this._w=et.getW(rt),this}_onChange(et){return this._onChangeCallback=et,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Vector3{constructor(et=0,rt=0,nt=0){Vector3.prototype.isVector3=!0,this.x=et,this.y=rt,this.z=nt}set(et,rt,nt){return nt===void 0&&(nt=this.z),this.x=et,this.y=rt,this.z=nt,this}setScalar(et){return this.x=et,this.y=et,this.z=et,this}setX(et){return this.x=et,this}setY(et){return this.y=et,this}setZ(et){return this.z=et,this}setComponent(et,rt){switch(et){case 0:this.x=rt;break;case 1:this.y=rt;break;case 2:this.z=rt;break;default:throw new Error("index is out of range: "+et)}return this}getComponent(et){switch(et){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+et)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(et){return this.x=et.x,this.y=et.y,this.z=et.z,this}add(et){return this.x+=et.x,this.y+=et.y,this.z+=et.z,this}addScalar(et){return this.x+=et,this.y+=et,this.z+=et,this}addVectors(et,rt){return this.x=et.x+rt.x,this.y=et.y+rt.y,this.z=et.z+rt.z,this}addScaledVector(et,rt){return this.x+=et.x*rt,this.y+=et.y*rt,this.z+=et.z*rt,this}sub(et){return this.x-=et.x,this.y-=et.y,this.z-=et.z,this}subScalar(et){return this.x-=et,this.y-=et,this.z-=et,this}subVectors(et,rt){return this.x=et.x-rt.x,this.y=et.y-rt.y,this.z=et.z-rt.z,this}multiply(et){return this.x*=et.x,this.y*=et.y,this.z*=et.z,this}multiplyScalar(et){return this.x*=et,this.y*=et,this.z*=et,this}multiplyVectors(et,rt){return this.x=et.x*rt.x,this.y=et.y*rt.y,this.z=et.z*rt.z,this}applyEuler(et){return this.applyQuaternion(_quaternion$4.setFromEuler(et))}applyAxisAngle(et,rt){return this.applyQuaternion(_quaternion$4.setFromAxisAngle(et,rt))}applyMatrix3(et){const rt=this.x,nt=this.y,it=this.z,ot=et.elements;return this.x=ot[0]*rt+ot[3]*nt+ot[6]*it,this.y=ot[1]*rt+ot[4]*nt+ot[7]*it,this.z=ot[2]*rt+ot[5]*nt+ot[8]*it,this}applyNormalMatrix(et){return this.applyMatrix3(et).normalize()}applyMatrix4(et){const rt=this.x,nt=this.y,it=this.z,ot=et.elements,at=1/(ot[3]*rt+ot[7]*nt+ot[11]*it+ot[15]);return this.x=(ot[0]*rt+ot[4]*nt+ot[8]*it+ot[12])*at,this.y=(ot[1]*rt+ot[5]*nt+ot[9]*it+ot[13])*at,this.z=(ot[2]*rt+ot[6]*nt+ot[10]*it+ot[14])*at,this}applyQuaternion(et){const rt=this.x,nt=this.y,it=this.z,ot=et.x,at=et.y,st=et.z,lt=et.w,ct=lt*rt+at*it-st*nt,ut=lt*nt+st*rt-ot*it,dt=lt*it+ot*nt-at*rt,ft=-ot*rt-at*nt-st*it;return this.x=ct*lt+ft*-ot+ut*-st-dt*-at,this.y=ut*lt+ft*-at+dt*-ot-ct*-st,this.z=dt*lt+ft*-st+ct*-at-ut*-ot,this}project(et){return this.applyMatrix4(et.matrixWorldInverse).applyMatrix4(et.projectionMatrix)}unproject(et){return this.applyMatrix4(et.projectionMatrixInverse).applyMatrix4(et.matrixWorld)}transformDirection(et){const rt=this.x,nt=this.y,it=this.z,ot=et.elements;return this.x=ot[0]*rt+ot[4]*nt+ot[8]*it,this.y=ot[1]*rt+ot[5]*nt+ot[9]*it,this.z=ot[2]*rt+ot[6]*nt+ot[10]*it,this.normalize()}divide(et){return this.x/=et.x,this.y/=et.y,this.z/=et.z,this}divideScalar(et){return this.multiplyScalar(1/et)}min(et){return this.x=Math.min(this.x,et.x),this.y=Math.min(this.y,et.y),this.z=Math.min(this.z,et.z),this}max(et){return this.x=Math.max(this.x,et.x),this.y=Math.max(this.y,et.y),this.z=Math.max(this.z,et.z),this}clamp(et,rt){return this.x=Math.max(et.x,Math.min(rt.x,this.x)),this.y=Math.max(et.y,Math.min(rt.y,this.y)),this.z=Math.max(et.z,Math.min(rt.z,this.z)),this}clampScalar(et,rt){return this.x=Math.max(et,Math.min(rt,this.x)),this.y=Math.max(et,Math.min(rt,this.y)),this.z=Math.max(et,Math.min(rt,this.z)),this}clampLength(et,rt){const nt=this.length();return this.divideScalar(nt||1).multiplyScalar(Math.max(et,Math.min(rt,nt)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=this.x<0?Math.ceil(this.x):Math.floor(this.x),this.y=this.y<0?Math.ceil(this.y):Math.floor(this.y),this.z=this.z<0?Math.ceil(this.z):Math.floor(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(et){return this.x*et.x+this.y*et.y+this.z*et.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(et){return this.normalize().multiplyScalar(et)}lerp(et,rt){return this.x+=(et.x-this.x)*rt,this.y+=(et.y-this.y)*rt,this.z+=(et.z-this.z)*rt,this}lerpVectors(et,rt,nt){return this.x=et.x+(rt.x-et.x)*nt,this.y=et.y+(rt.y-et.y)*nt,this.z=et.z+(rt.z-et.z)*nt,this}cross(et){return this.crossVectors(this,et)}crossVectors(et,rt){const nt=et.x,it=et.y,ot=et.z,at=rt.x,st=rt.y,lt=rt.z;return this.x=it*lt-ot*st,this.y=ot*at-nt*lt,this.z=nt*st-it*at,this}projectOnVector(et){const rt=et.lengthSq();if(rt===0)return this.set(0,0,0);const nt=et.dot(this)/rt;return this.copy(et).multiplyScalar(nt)}projectOnPlane(et){return _vector$c.copy(this).projectOnVector(et),this.sub(_vector$c)}reflect(et){return this.sub(_vector$c.copy(et).multiplyScalar(2*this.dot(et)))}angleTo(et){const rt=Math.sqrt(this.lengthSq()*et.lengthSq());if(rt===0)return Math.PI/2;const nt=this.dot(et)/rt;return Math.acos(clamp$1(nt,-1,1))}distanceTo(et){return Math.sqrt(this.distanceToSquared(et))}distanceToSquared(et){const rt=this.x-et.x,nt=this.y-et.y,it=this.z-et.z;return rt*rt+nt*nt+it*it}manhattanDistanceTo(et){return Math.abs(this.x-et.x)+Math.abs(this.y-et.y)+Math.abs(this.z-et.z)}setFromSpherical(et){return this.setFromSphericalCoords(et.radius,et.phi,et.theta)}setFromSphericalCoords(et,rt,nt){const it=Math.sin(rt)*et;return this.x=it*Math.sin(nt),this.y=Math.cos(rt)*et,this.z=it*Math.cos(nt),this}setFromCylindrical(et){return this.setFromCylindricalCoords(et.radius,et.theta,et.y)}setFromCylindricalCoords(et,rt,nt){return this.x=et*Math.sin(rt),this.y=nt,this.z=et*Math.cos(rt),this}setFromMatrixPosition(et){const rt=et.elements;return this.x=rt[12],this.y=rt[13],this.z=rt[14],this}setFromMatrixScale(et){const rt=this.setFromMatrixColumn(et,0).length(),nt=this.setFromMatrixColumn(et,1).length(),it=this.setFromMatrixColumn(et,2).length();return this.x=rt,this.y=nt,this.z=it,this}setFromMatrixColumn(et,rt){return this.fromArray(et.elements,rt*4)}setFromMatrix3Column(et,rt){return this.fromArray(et.elements,rt*3)}setFromEuler(et){return this.x=et._x,this.y=et._y,this.z=et._z,this}equals(et){return et.x===this.x&&et.y===this.y&&et.z===this.z}fromArray(et,rt=0){return this.x=et[rt],this.y=et[rt+1],this.z=et[rt+2],this}toArray(et=[],rt=0){return et[rt]=this.x,et[rt+1]=this.y,et[rt+2]=this.z,et}fromBufferAttribute(et,rt){return this.x=et.getX(rt),this.y=et.getY(rt),this.z=et.getZ(rt),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const et=(Math.random()-.5)*2,rt=Math.random()*Math.PI*2,nt=Math.sqrt(1-et**2);return this.x=nt*Math.cos(rt),this.y=nt*Math.sin(rt),this.z=et,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const _vector$c=new Vector3,_quaternion$4=new Quaternion;class Box3{constructor(et=new Vector3(1/0,1/0,1/0),rt=new Vector3(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=et,this.max=rt}set(et,rt){return this.min.copy(et),this.max.copy(rt),this}setFromArray(et){let rt=1/0,nt=1/0,it=1/0,ot=-1/0,at=-1/0,st=-1/0;for(let lt=0,ct=et.length;lt<ct;lt+=3){const ut=et[lt],dt=et[lt+1],ft=et[lt+2];ut<rt&&(rt=ut),dt<nt&&(nt=dt),ft<it&&(it=ft),ut>ot&&(ot=ut),dt>at&&(at=dt),ft>st&&(st=ft)}return this.min.set(rt,nt,it),this.max.set(ot,at,st),this}setFromBufferAttribute(et){let rt=1/0,nt=1/0,it=1/0,ot=-1/0,at=-1/0,st=-1/0;for(let lt=0,ct=et.count;lt<ct;lt++){const ut=et.getX(lt),dt=et.getY(lt),ft=et.getZ(lt);ut<rt&&(rt=ut),dt<nt&&(nt=dt),ft<it&&(it=ft),ut>ot&&(ot=ut),dt>at&&(at=dt),ft>st&&(st=ft)}return this.min.set(rt,nt,it),this.max.set(ot,at,st),this}setFromPoints(et){this.makeEmpty();for(let rt=0,nt=et.length;rt<nt;rt++)this.expandByPoint(et[rt]);return this}setFromCenterAndSize(et,rt){const nt=_vector$b.copy(rt).multiplyScalar(.5);return this.min.copy(et).sub(nt),this.max.copy(et).add(nt),this}setFromObject(et,rt=!1){return this.makeEmpty(),this.expandByObject(et,rt)}clone(){return new this.constructor().copy(this)}copy(et){return this.min.copy(et.min),this.max.copy(et.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(et){return this.isEmpty()?et.set(0,0,0):et.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(et){return this.isEmpty()?et.set(0,0,0):et.subVectors(this.max,this.min)}expandByPoint(et){return this.min.min(et),this.max.max(et),this}expandByVector(et){return this.min.sub(et),this.max.add(et),this}expandByScalar(et){return this.min.addScalar(-et),this.max.addScalar(et),this}expandByObject(et,rt=!1){et.updateWorldMatrix(!1,!1);const nt=et.geometry;if(nt!==void 0)if(rt&&nt.attributes!=null&&nt.attributes.position!==void 0){const ot=nt.attributes.position;for(let at=0,st=ot.count;at<st;at++)_vector$b.fromBufferAttribute(ot,at).applyMatrix4(et.matrixWorld),this.expandByPoint(_vector$b)}else nt.boundingBox===null&&nt.computeBoundingBox(),_box$3.copy(nt.boundingBox),_box$3.applyMatrix4(et.matrixWorld),this.union(_box$3);const it=et.children;for(let ot=0,at=it.length;ot<at;ot++)this.expandByObject(it[ot],rt);return this}containsPoint(et){return!(et.x<this.min.x||et.x>this.max.x||et.y<this.min.y||et.y>this.max.y||et.z<this.min.z||et.z>this.max.z)}containsBox(et){return this.min.x<=et.min.x&&et.max.x<=this.max.x&&this.min.y<=et.min.y&&et.max.y<=this.max.y&&this.min.z<=et.min.z&&et.max.z<=this.max.z}getParameter(et,rt){return rt.set((et.x-this.min.x)/(this.max.x-this.min.x),(et.y-this.min.y)/(this.max.y-this.min.y),(et.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(et){return!(et.max.x<this.min.x||et.min.x>this.max.x||et.max.y<this.min.y||et.min.y>this.max.y||et.max.z<this.min.z||et.min.z>this.max.z)}intersectsSphere(et){return this.clampPoint(et.center,_vector$b),_vector$b.distanceToSquared(et.center)<=et.radius*et.radius}intersectsPlane(et){let rt,nt;return et.normal.x>0?(rt=et.normal.x*this.min.x,nt=et.normal.x*this.max.x):(rt=et.normal.x*this.max.x,nt=et.normal.x*this.min.x),et.normal.y>0?(rt+=et.normal.y*this.min.y,nt+=et.normal.y*this.max.y):(rt+=et.normal.y*this.max.y,nt+=et.normal.y*this.min.y),et.normal.z>0?(rt+=et.normal.z*this.min.z,nt+=et.normal.z*this.max.z):(rt+=et.normal.z*this.max.z,nt+=et.normal.z*this.min.z),rt<=-et.constant&&nt>=-et.constant}intersectsTriangle(et){if(this.isEmpty())return!1;this.getCenter(_center),_extents.subVectors(this.max,_center),_v0$2.subVectors(et.a,_center),_v1$7.subVectors(et.b,_center),_v2$4.subVectors(et.c,_center),_f0.subVectors(_v1$7,_v0$2),_f1.subVectors(_v2$4,_v1$7),_f2.subVectors(_v0$2,_v2$4);let rt=[0,-_f0.z,_f0.y,0,-_f1.z,_f1.y,0,-_f2.z,_f2.y,_f0.z,0,-_f0.x,_f1.z,0,-_f1.x,_f2.z,0,-_f2.x,-_f0.y,_f0.x,0,-_f1.y,_f1.x,0,-_f2.y,_f2.x,0];return!satForAxes(rt,_v0$2,_v1$7,_v2$4,_extents)||(rt=[1,0,0,0,1,0,0,0,1],!satForAxes(rt,_v0$2,_v1$7,_v2$4,_extents))?!1:(_triangleNormal.crossVectors(_f0,_f1),rt=[_triangleNormal.x,_triangleNormal.y,_triangleNormal.z],satForAxes(rt,_v0$2,_v1$7,_v2$4,_extents))}clampPoint(et,rt){return rt.copy(et).clamp(this.min,this.max)}distanceToPoint(et){return _vector$b.copy(et).clamp(this.min,this.max).sub(et).length()}getBoundingSphere(et){return this.getCenter(et.center),et.radius=this.getSize(_vector$b).length()*.5,et}intersect(et){return this.min.max(et.min),this.max.min(et.max),this.isEmpty()&&this.makeEmpty(),this}union(et){return this.min.min(et.min),this.max.max(et.max),this}applyMatrix4(et){return this.isEmpty()?this:(_points[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(et),_points[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(et),_points[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(et),_points[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(et),_points[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(et),_points[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(et),_points[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(et),_points[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(et),this.setFromPoints(_points),this)}translate(et){return this.min.add(et),this.max.add(et),this}equals(et){return et.min.equals(this.min)&&et.max.equals(this.max)}}const _points=[new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3,new Vector3],_vector$b=new Vector3,_box$3=new Box3,_v0$2=new Vector3,_v1$7=new Vector3,_v2$4=new Vector3,_f0=new Vector3,_f1=new Vector3,_f2=new Vector3,_center=new Vector3,_extents=new Vector3,_triangleNormal=new Vector3,_testAxis=new Vector3;function satForAxes(tt,et,rt,nt,it){for(let ot=0,at=tt.length-3;ot<=at;ot+=3){_testAxis.fromArray(tt,ot);const st=it.x*Math.abs(_testAxis.x)+it.y*Math.abs(_testAxis.y)+it.z*Math.abs(_testAxis.z),lt=et.dot(_testAxis),ct=rt.dot(_testAxis),ut=nt.dot(_testAxis);if(Math.max(-Math.max(lt,ct,ut),Math.min(lt,ct,ut))>st)return!1}return!0}const _box$2=new Box3,_v1$6=new Vector3,_v2$3=new Vector3;class Sphere{constructor(et=new Vector3,rt=-1){this.center=et,this.radius=rt}set(et,rt){return this.center.copy(et),this.radius=rt,this}setFromPoints(et,rt){const nt=this.center;rt!==void 0?nt.copy(rt):_box$2.setFromPoints(et).getCenter(nt);let it=0;for(let ot=0,at=et.length;ot<at;ot++)it=Math.max(it,nt.distanceToSquared(et[ot]));return this.radius=Math.sqrt(it),this}copy(et){return this.center.copy(et.center),this.radius=et.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(et){return et.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(et){return et.distanceTo(this.center)-this.radius}intersectsSphere(et){const rt=this.radius+et.radius;return et.center.distanceToSquared(this.center)<=rt*rt}intersectsBox(et){return et.intersectsSphere(this)}intersectsPlane(et){return Math.abs(et.distanceToPoint(this.center))<=this.radius}clampPoint(et,rt){const nt=this.center.distanceToSquared(et);return rt.copy(et),nt>this.radius*this.radius&&(rt.sub(this.center).normalize(),rt.multiplyScalar(this.radius).add(this.center)),rt}getBoundingBox(et){return this.isEmpty()?(et.makeEmpty(),et):(et.set(this.center,this.center),et.expandByScalar(this.radius),et)}applyMatrix4(et){return this.center.applyMatrix4(et),this.radius=this.radius*et.getMaxScaleOnAxis(),this}translate(et){return this.center.add(et),this}expandByPoint(et){if(this.isEmpty())return this.center.copy(et),this.radius=0,this;_v1$6.subVectors(et,this.center);const rt=_v1$6.lengthSq();if(rt>this.radius*this.radius){const nt=Math.sqrt(rt),it=(nt-this.radius)*.5;this.center.addScaledVector(_v1$6,it/nt),this.radius+=it}return this}union(et){return et.isEmpty()?this:this.isEmpty()?(this.copy(et),this):(this.center.equals(et.center)===!0?this.radius=Math.max(this.radius,et.radius):(_v2$3.subVectors(et.center,this.center).setLength(et.radius),this.expandByPoint(_v1$6.copy(et.center).add(_v2$3)),this.expandByPoint(_v1$6.copy(et.center).sub(_v2$3))),this)}equals(et){return et.center.equals(this.center)&&et.radius===this.radius}clone(){return new this.constructor().copy(this)}}const _vector$a=new Vector3,_segCenter=new Vector3,_segDir=new Vector3,_diff=new Vector3,_edge1=new Vector3,_edge2=new Vector3,_normal$1=new Vector3;class Ray{constructor(et=new Vector3,rt=new Vector3(0,0,-1)){this.origin=et,this.direction=rt}set(et,rt){return this.origin.copy(et),this.direction.copy(rt),this}copy(et){return this.origin.copy(et.origin),this.direction.copy(et.direction),this}at(et,rt){return rt.copy(this.direction).multiplyScalar(et).add(this.origin)}lookAt(et){return this.direction.copy(et).sub(this.origin).normalize(),this}recast(et){return this.origin.copy(this.at(et,_vector$a)),this}closestPointToPoint(et,rt){rt.subVectors(et,this.origin);const nt=rt.dot(this.direction);return nt<0?rt.copy(this.origin):rt.copy(this.direction).multiplyScalar(nt).add(this.origin)}distanceToPoint(et){return Math.sqrt(this.distanceSqToPoint(et))}distanceSqToPoint(et){const rt=_vector$a.subVectors(et,this.origin).dot(this.direction);return rt<0?this.origin.distanceToSquared(et):(_vector$a.copy(this.direction).multiplyScalar(rt).add(this.origin),_vector$a.distanceToSquared(et))}distanceSqToSegment(et,rt,nt,it){_segCenter.copy(et).add(rt).multiplyScalar(.5),_segDir.copy(rt).sub(et).normalize(),_diff.copy(this.origin).sub(_segCenter);const ot=et.distanceTo(rt)*.5,at=-this.direction.dot(_segDir),st=_diff.dot(this.direction),lt=-_diff.dot(_segDir),ct=_diff.lengthSq(),ut=Math.abs(1-at*at);let dt,ft,pt,mt;if(ut>0)if(dt=at*lt-st,ft=at*st-lt,mt=ot*ut,dt>=0)if(ft>=-mt)if(ft<=mt){const ht=1/ut;dt*=ht,ft*=ht,pt=dt*(dt+at*ft+2*st)+ft*(at*dt+ft+2*lt)+ct}else ft=ot,dt=Math.max(0,-(at*ft+st)),pt=-dt*dt+ft*(ft+2*lt)+ct;else ft=-ot,dt=Math.max(0,-(at*ft+st)),pt=-dt*dt+ft*(ft+2*lt)+ct;else ft<=-mt?(dt=Math.max(0,-(-at*ot+st)),ft=dt>0?-ot:Math.min(Math.max(-ot,-lt),ot),pt=-dt*dt+ft*(ft+2*lt)+ct):ft<=mt?(dt=0,ft=Math.min(Math.max(-ot,-lt),ot),pt=ft*(ft+2*lt)+ct):(dt=Math.max(0,-(at*ot+st)),ft=dt>0?ot:Math.min(Math.max(-ot,-lt),ot),pt=-dt*dt+ft*(ft+2*lt)+ct);else ft=at>0?-ot:ot,dt=Math.max(0,-(at*ft+st)),pt=-dt*dt+ft*(ft+2*lt)+ct;return nt&&nt.copy(this.direction).multiplyScalar(dt).add(this.origin),it&&it.copy(_segDir).multiplyScalar(ft).add(_segCenter),pt}intersectSphere(et,rt){_vector$a.subVectors(et.center,this.origin);const nt=_vector$a.dot(this.direction),it=_vector$a.dot(_vector$a)-nt*nt,ot=et.radius*et.radius;if(it>ot)return null;const at=Math.sqrt(ot-it),st=nt-at,lt=nt+at;return st<0&&lt<0?null:st<0?this.at(lt,rt):this.at(st,rt)}intersectsSphere(et){return this.distanceSqToPoint(et.center)<=et.radius*et.radius}distanceToPlane(et){const rt=et.normal.dot(this.direction);if(rt===0)return et.distanceToPoint(this.origin)===0?0:null;const nt=-(this.origin.dot(et.normal)+et.constant)/rt;return nt>=0?nt:null}intersectPlane(et,rt){const nt=this.distanceToPlane(et);return nt===null?null:this.at(nt,rt)}intersectsPlane(et){const rt=et.distanceToPoint(this.origin);return rt===0||et.normal.dot(this.direction)*rt<0}intersectBox(et,rt){let nt,it,ot,at,st,lt;const ct=1/this.direction.x,ut=1/this.direction.y,dt=1/this.direction.z,ft=this.origin;return ct>=0?(nt=(et.min.x-ft.x)*ct,it=(et.max.x-ft.x)*ct):(nt=(et.max.x-ft.x)*ct,it=(et.min.x-ft.x)*ct),ut>=0?(ot=(et.min.y-ft.y)*ut,at=(et.max.y-ft.y)*ut):(ot=(et.max.y-ft.y)*ut,at=(et.min.y-ft.y)*ut),nt>at||ot>it||((ot>nt||isNaN(nt))&&(nt=ot),(at<it||isNaN(it))&&(it=at),dt>=0?(st=(et.min.z-ft.z)*dt,lt=(et.max.z-ft.z)*dt):(st=(et.max.z-ft.z)*dt,lt=(et.min.z-ft.z)*dt),nt>lt||st>it)||((st>nt||nt!==nt)&&(nt=st),(lt<it||it!==it)&&(it=lt),it<0)?null:this.at(nt>=0?nt:it,rt)}intersectsBox(et){return this.intersectBox(et,_vector$a)!==null}intersectTriangle(et,rt,nt,it,ot){_edge1.subVectors(rt,et),_edge2.subVectors(nt,et),_normal$1.crossVectors(_edge1,_edge2);let at=this.direction.dot(_normal$1),st;if(at>0){if(it)return null;st=1}else if(at<0)st=-1,at=-at;else return null;_diff.subVectors(this.origin,et);const lt=st*this.direction.dot(_edge2.crossVectors(_diff,_edge2));if(lt<0)return null;const ct=st*this.direction.dot(_edge1.cross(_diff));if(ct<0||lt+ct>at)return null;const ut=-st*_diff.dot(_normal$1);return ut<0?null:this.at(ut/at,ot)}applyMatrix4(et){return this.origin.applyMatrix4(et),this.direction.transformDirection(et),this}equals(et){return et.origin.equals(this.origin)&&et.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Matrix4{constructor(){Matrix4.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}set(et,rt,nt,it,ot,at,st,lt,ct,ut,dt,ft,pt,mt,ht,gt){const vt=this.elements;return vt[0]=et,vt[4]=rt,vt[8]=nt,vt[12]=it,vt[1]=ot,vt[5]=at,vt[9]=st,vt[13]=lt,vt[2]=ct,vt[6]=ut,vt[10]=dt,vt[14]=ft,vt[3]=pt,vt[7]=mt,vt[11]=ht,vt[15]=gt,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Matrix4().fromArray(this.elements)}copy(et){const rt=this.elements,nt=et.elements;return rt[0]=nt[0],rt[1]=nt[1],rt[2]=nt[2],rt[3]=nt[3],rt[4]=nt[4],rt[5]=nt[5],rt[6]=nt[6],rt[7]=nt[7],rt[8]=nt[8],rt[9]=nt[9],rt[10]=nt[10],rt[11]=nt[11],rt[12]=nt[12],rt[13]=nt[13],rt[14]=nt[14],rt[15]=nt[15],this}copyPosition(et){const rt=this.elements,nt=et.elements;return rt[12]=nt[12],rt[13]=nt[13],rt[14]=nt[14],this}setFromMatrix3(et){const rt=et.elements;return this.set(rt[0],rt[3],rt[6],0,rt[1],rt[4],rt[7],0,rt[2],rt[5],rt[8],0,0,0,0,1),this}extractBasis(et,rt,nt){return et.setFromMatrixColumn(this,0),rt.setFromMatrixColumn(this,1),nt.setFromMatrixColumn(this,2),this}makeBasis(et,rt,nt){return this.set(et.x,rt.x,nt.x,0,et.y,rt.y,nt.y,0,et.z,rt.z,nt.z,0,0,0,0,1),this}extractRotation(et){const rt=this.elements,nt=et.elements,it=1/_v1$5.setFromMatrixColumn(et,0).length(),ot=1/_v1$5.setFromMatrixColumn(et,1).length(),at=1/_v1$5.setFromMatrixColumn(et,2).length();return rt[0]=nt[0]*it,rt[1]=nt[1]*it,rt[2]=nt[2]*it,rt[3]=0,rt[4]=nt[4]*ot,rt[5]=nt[5]*ot,rt[6]=nt[6]*ot,rt[7]=0,rt[8]=nt[8]*at,rt[9]=nt[9]*at,rt[10]=nt[10]*at,rt[11]=0,rt[12]=0,rt[13]=0,rt[14]=0,rt[15]=1,this}makeRotationFromEuler(et){const rt=this.elements,nt=et.x,it=et.y,ot=et.z,at=Math.cos(nt),st=Math.sin(nt),lt=Math.cos(it),ct=Math.sin(it),ut=Math.cos(ot),dt=Math.sin(ot);if(et.order==="XYZ"){const ft=at*ut,pt=at*dt,mt=st*ut,ht=st*dt;rt[0]=lt*ut,rt[4]=-lt*dt,rt[8]=ct,rt[1]=pt+mt*ct,rt[5]=ft-ht*ct,rt[9]=-st*lt,rt[2]=ht-ft*ct,rt[6]=mt+pt*ct,rt[10]=at*lt}else if(et.order==="YXZ"){const ft=lt*ut,pt=lt*dt,mt=ct*ut,ht=ct*dt;rt[0]=ft+ht*st,rt[4]=mt*st-pt,rt[8]=at*ct,rt[1]=at*dt,rt[5]=at*ut,rt[9]=-st,rt[2]=pt*st-mt,rt[6]=ht+ft*st,rt[10]=at*lt}else if(et.order==="ZXY"){const ft=lt*ut,pt=lt*dt,mt=ct*ut,ht=ct*dt;rt[0]=ft-ht*st,rt[4]=-at*dt,rt[8]=mt+pt*st,rt[1]=pt+mt*st,rt[5]=at*ut,rt[9]=ht-ft*st,rt[2]=-at*ct,rt[6]=st,rt[10]=at*lt}else if(et.order==="ZYX"){const ft=at*ut,pt=at*dt,mt=st*ut,ht=st*dt;rt[0]=lt*ut,rt[4]=mt*ct-pt,rt[8]=ft*ct+ht,rt[1]=lt*dt,rt[5]=ht*ct+ft,rt[9]=pt*ct-mt,rt[2]=-ct,rt[6]=st*lt,rt[10]=at*lt}else if(et.order==="YZX"){const ft=at*lt,pt=at*ct,mt=st*lt,ht=st*ct;rt[0]=lt*ut,rt[4]=ht-ft*dt,rt[8]=mt*dt+pt,rt[1]=dt,rt[5]=at*ut,rt[9]=-st*ut,rt[2]=-ct*ut,rt[6]=pt*dt+mt,rt[10]=ft-ht*dt}else if(et.order==="XZY"){const ft=at*lt,pt=at*ct,mt=st*lt,ht=st*ct;rt[0]=lt*ut,rt[4]=-dt,rt[8]=ct*ut,rt[1]=ft*dt+ht,rt[5]=at*ut,rt[9]=pt*dt-mt,rt[2]=mt*dt-pt,rt[6]=st*ut,rt[10]=ht*dt+ft}return rt[3]=0,rt[7]=0,rt[11]=0,rt[12]=0,rt[13]=0,rt[14]=0,rt[15]=1,this}makeRotationFromQuaternion(et){return this.compose(_zero,et,_one)}lookAt(et,rt,nt){const it=this.elements;return _z.subVectors(et,rt),_z.lengthSq()===0&&(_z.z=1),_z.normalize(),_x.crossVectors(nt,_z),_x.lengthSq()===0&&(Math.abs(nt.z)===1?_z.x+=1e-4:_z.z+=1e-4,_z.normalize(),_x.crossVectors(nt,_z)),_x.normalize(),_y.crossVectors(_z,_x),it[0]=_x.x,it[4]=_y.x,it[8]=_z.x,it[1]=_x.y,it[5]=_y.y,it[9]=_z.y,it[2]=_x.z,it[6]=_y.z,it[10]=_z.z,this}multiply(et){return this.multiplyMatrices(this,et)}premultiply(et){return this.multiplyMatrices(et,this)}multiplyMatrices(et,rt){const nt=et.elements,it=rt.elements,ot=this.elements,at=nt[0],st=nt[4],lt=nt[8],ct=nt[12],ut=nt[1],dt=nt[5],ft=nt[9],pt=nt[13],mt=nt[2],ht=nt[6],gt=nt[10],vt=nt[14],yt=nt[3],bt=nt[7],xt=nt[11],$t=nt[15],Tt=it[0],wt=it[4],At=it[8],Rt=it[12],It=it[1],Lt=it[5],Pt=it[9],Nt=it[13],Ot=it[2],Bt=it[6],zt=it[10],Vt=it[14],Ut=it[3],jt=it[7],qt=it[11],Dt=it[15];return ot[0]=at*Tt+st*It+lt*Ot+ct*Ut,ot[4]=at*wt+st*Lt+lt*Bt+ct*jt,ot[8]=at*At+st*Pt+lt*zt+ct*qt,ot[12]=at*Rt+st*Nt+lt*Vt+ct*Dt,ot[1]=ut*Tt+dt*It+ft*Ot+pt*Ut,ot[5]=ut*wt+dt*Lt+ft*Bt+pt*jt,ot[9]=ut*At+dt*Pt+ft*zt+pt*qt,ot[13]=ut*Rt+dt*Nt+ft*Vt+pt*Dt,ot[2]=mt*Tt+ht*It+gt*Ot+vt*Ut,ot[6]=mt*wt+ht*Lt+gt*Bt+vt*jt,ot[10]=mt*At+ht*Pt+gt*zt+vt*qt,ot[14]=mt*Rt+ht*Nt+gt*Vt+vt*Dt,ot[3]=yt*Tt+bt*It+xt*Ot+$t*Ut,ot[7]=yt*wt+bt*Lt+xt*Bt+$t*jt,ot[11]=yt*At+bt*Pt+xt*zt+$t*qt,ot[15]=yt*Rt+bt*Nt+xt*Vt+$t*Dt,this}multiplyScalar(et){const rt=this.elements;return rt[0]*=et,rt[4]*=et,rt[8]*=et,rt[12]*=et,rt[1]*=et,rt[5]*=et,rt[9]*=et,rt[13]*=et,rt[2]*=et,rt[6]*=et,rt[10]*=et,rt[14]*=et,rt[3]*=et,rt[7]*=et,rt[11]*=et,rt[15]*=et,this}determinant(){const et=this.elements,rt=et[0],nt=et[4],it=et[8],ot=et[12],at=et[1],st=et[5],lt=et[9],ct=et[13],ut=et[2],dt=et[6],ft=et[10],pt=et[14],mt=et[3],ht=et[7],gt=et[11],vt=et[15];return mt*(+ot*lt*dt-it*ct*dt-ot*st*ft+nt*ct*ft+it*st*pt-nt*lt*pt)+ht*(+rt*lt*pt-rt*ct*ft+ot*at*ft-it*at*pt+it*ct*ut-ot*lt*ut)+gt*(+rt*ct*dt-rt*st*pt-ot*at*dt+nt*at*pt+ot*st*ut-nt*ct*ut)+vt*(-it*st*ut-rt*lt*dt+rt*st*ft+it*at*dt-nt*at*ft+nt*lt*ut)}transpose(){const et=this.elements;let rt;return rt=et[1],et[1]=et[4],et[4]=rt,rt=et[2],et[2]=et[8],et[8]=rt,rt=et[6],et[6]=et[9],et[9]=rt,rt=et[3],et[3]=et[12],et[12]=rt,rt=et[7],et[7]=et[13],et[13]=rt,rt=et[11],et[11]=et[14],et[14]=rt,this}setPosition(et,rt,nt){const it=this.elements;return et.isVector3?(it[12]=et.x,it[13]=et.y,it[14]=et.z):(it[12]=et,it[13]=rt,it[14]=nt),this}invert(){const et=this.elements,rt=et[0],nt=et[1],it=et[2],ot=et[3],at=et[4],st=et[5],lt=et[6],ct=et[7],ut=et[8],dt=et[9],ft=et[10],pt=et[11],mt=et[12],ht=et[13],gt=et[14],vt=et[15],yt=dt*gt*ct-ht*ft*ct+ht*lt*pt-st*gt*pt-dt*lt*vt+st*ft*vt,bt=mt*ft*ct-ut*gt*ct-mt*lt*pt+at*gt*pt+ut*lt*vt-at*ft*vt,xt=ut*ht*ct-mt*dt*ct+mt*st*pt-at*ht*pt-ut*st*vt+at*dt*vt,$t=mt*dt*lt-ut*ht*lt-mt*st*ft+at*ht*ft+ut*st*gt-at*dt*gt,Tt=rt*yt+nt*bt+it*xt+ot*$t;if(Tt===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const wt=1/Tt;return et[0]=yt*wt,et[1]=(ht*ft*ot-dt*gt*ot-ht*it*pt+nt*gt*pt+dt*it*vt-nt*ft*vt)*wt,et[2]=(st*gt*ot-ht*lt*ot+ht*it*ct-nt*gt*ct-st*it*vt+nt*lt*vt)*wt,et[3]=(dt*lt*ot-st*ft*ot-dt*it*ct+nt*ft*ct+st*it*pt-nt*lt*pt)*wt,et[4]=bt*wt,et[5]=(ut*gt*ot-mt*ft*ot+mt*it*pt-rt*gt*pt-ut*it*vt+rt*ft*vt)*wt,et[6]=(mt*lt*ot-at*gt*ot-mt*it*ct+rt*gt*ct+at*it*vt-rt*lt*vt)*wt,et[7]=(at*ft*ot-ut*lt*ot+ut*it*ct-rt*ft*ct-at*it*pt+rt*lt*pt)*wt,et[8]=xt*wt,et[9]=(mt*dt*ot-ut*ht*ot-mt*nt*pt+rt*ht*pt+ut*nt*vt-rt*dt*vt)*wt,et[10]=(at*ht*ot-mt*st*ot+mt*nt*ct-rt*ht*ct-at*nt*vt+rt*st*vt)*wt,et[11]=(ut*st*ot-at*dt*ot-ut*nt*ct+rt*dt*ct+at*nt*pt-rt*st*pt)*wt,et[12]=$t*wt,et[13]=(ut*ht*it-mt*dt*it+mt*nt*ft-rt*ht*ft-ut*nt*gt+rt*dt*gt)*wt,et[14]=(mt*st*it-at*ht*it-mt*nt*lt+rt*ht*lt+at*nt*gt-rt*st*gt)*wt,et[15]=(at*dt*it-ut*st*it+ut*nt*lt-rt*dt*lt-at*nt*ft+rt*st*ft)*wt,this}scale(et){const rt=this.elements,nt=et.x,it=et.y,ot=et.z;return rt[0]*=nt,rt[4]*=it,rt[8]*=ot,rt[1]*=nt,rt[5]*=it,rt[9]*=ot,rt[2]*=nt,rt[6]*=it,rt[10]*=ot,rt[3]*=nt,rt[7]*=it,rt[11]*=ot,this}getMaxScaleOnAxis(){const et=this.elements,rt=et[0]*et[0]+et[1]*et[1]+et[2]*et[2],nt=et[4]*et[4]+et[5]*et[5]+et[6]*et[6],it=et[8]*et[8]+et[9]*et[9]+et[10]*et[10];return Math.sqrt(Math.max(rt,nt,it))}makeTranslation(et,rt,nt){return this.set(1,0,0,et,0,1,0,rt,0,0,1,nt,0,0,0,1),this}makeRotationX(et){const rt=Math.cos(et),nt=Math.sin(et);return this.set(1,0,0,0,0,rt,-nt,0,0,nt,rt,0,0,0,0,1),this}makeRotationY(et){const rt=Math.cos(et),nt=Math.sin(et);return this.set(rt,0,nt,0,0,1,0,0,-nt,0,rt,0,0,0,0,1),this}makeRotationZ(et){const rt=Math.cos(et),nt=Math.sin(et);return this.set(rt,-nt,0,0,nt,rt,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(et,rt){const nt=Math.cos(rt),it=Math.sin(rt),ot=1-nt,at=et.x,st=et.y,lt=et.z,ct=ot*at,ut=ot*st;return this.set(ct*at+nt,ct*st-it*lt,ct*lt+it*st,0,ct*st+it*lt,ut*st+nt,ut*lt-it*at,0,ct*lt-it*st,ut*lt+it*at,ot*lt*lt+nt,0,0,0,0,1),this}makeScale(et,rt,nt){return this.set(et,0,0,0,0,rt,0,0,0,0,nt,0,0,0,0,1),this}makeShear(et,rt,nt,it,ot,at){return this.set(1,nt,ot,0,et,1,at,0,rt,it,1,0,0,0,0,1),this}compose(et,rt,nt){const it=this.elements,ot=rt._x,at=rt._y,st=rt._z,lt=rt._w,ct=ot+ot,ut=at+at,dt=st+st,ft=ot*ct,pt=ot*ut,mt=ot*dt,ht=at*ut,gt=at*dt,vt=st*dt,yt=lt*ct,bt=lt*ut,xt=lt*dt,$t=nt.x,Tt=nt.y,wt=nt.z;return it[0]=(1-(ht+vt))*$t,it[1]=(pt+xt)*$t,it[2]=(mt-bt)*$t,it[3]=0,it[4]=(pt-xt)*Tt,it[5]=(1-(ft+vt))*Tt,it[6]=(gt+yt)*Tt,it[7]=0,it[8]=(mt+bt)*wt,it[9]=(gt-yt)*wt,it[10]=(1-(ft+ht))*wt,it[11]=0,it[12]=et.x,it[13]=et.y,it[14]=et.z,it[15]=1,this}decompose(et,rt,nt){const it=this.elements;let ot=_v1$5.set(it[0],it[1],it[2]).length();const at=_v1$5.set(it[4],it[5],it[6]).length(),st=_v1$5.set(it[8],it[9],it[10]).length();this.determinant()<0&&(ot=-ot),et.x=it[12],et.y=it[13],et.z=it[14],_m1$2.copy(this);const ct=1/ot,ut=1/at,dt=1/st;return _m1$2.elements[0]*=ct,_m1$2.elements[1]*=ct,_m1$2.elements[2]*=ct,_m1$2.elements[4]*=ut,_m1$2.elements[5]*=ut,_m1$2.elements[6]*=ut,_m1$2.elements[8]*=dt,_m1$2.elements[9]*=dt,_m1$2.elements[10]*=dt,rt.setFromRotationMatrix(_m1$2),nt.x=ot,nt.y=at,nt.z=st,this}makePerspective(et,rt,nt,it,ot,at){const st=this.elements,lt=2*ot/(rt-et),ct=2*ot/(nt-it),ut=(rt+et)/(rt-et),dt=(nt+it)/(nt-it),ft=-(at+ot)/(at-ot),pt=-2*at*ot/(at-ot);return st[0]=lt,st[4]=0,st[8]=ut,st[12]=0,st[1]=0,st[5]=ct,st[9]=dt,st[13]=0,st[2]=0,st[6]=0,st[10]=ft,st[14]=pt,st[3]=0,st[7]=0,st[11]=-1,st[15]=0,this}makeOrthographic(et,rt,nt,it,ot,at){const st=this.elements,lt=1/(rt-et),ct=1/(nt-it),ut=1/(at-ot),dt=(rt+et)*lt,ft=(nt+it)*ct,pt=(at+ot)*ut;return st[0]=2*lt,st[4]=0,st[8]=0,st[12]=-dt,st[1]=0,st[5]=2*ct,st[9]=0,st[13]=-ft,st[2]=0,st[6]=0,st[10]=-2*ut,st[14]=-pt,st[3]=0,st[7]=0,st[11]=0,st[15]=1,this}equals(et){const rt=this.elements,nt=et.elements;for(let it=0;it<16;it++)if(rt[it]!==nt[it])return!1;return!0}fromArray(et,rt=0){for(let nt=0;nt<16;nt++)this.elements[nt]=et[nt+rt];return this}toArray(et=[],rt=0){const nt=this.elements;return et[rt]=nt[0],et[rt+1]=nt[1],et[rt+2]=nt[2],et[rt+3]=nt[3],et[rt+4]=nt[4],et[rt+5]=nt[5],et[rt+6]=nt[6],et[rt+7]=nt[7],et[rt+8]=nt[8],et[rt+9]=nt[9],et[rt+10]=nt[10],et[rt+11]=nt[11],et[rt+12]=nt[12],et[rt+13]=nt[13],et[rt+14]=nt[14],et[rt+15]=nt[15],et}}const _v1$5=new Vector3,_m1$2=new Matrix4,_zero=new Vector3(0,0,0),_one=new Vector3(1,1,1),_x=new Vector3,_y=new Vector3,_z=new Vector3,_matrix$1=new Matrix4,_quaternion$3=new Quaternion;class Euler{constructor(et=0,rt=0,nt=0,it=Euler.DefaultOrder){this.isEuler=!0,this._x=et,this._y=rt,this._z=nt,this._order=it}get x(){return this._x}set x(et){this._x=et,this._onChangeCallback()}get y(){return this._y}set y(et){this._y=et,this._onChangeCallback()}get z(){return this._z}set z(et){this._z=et,this._onChangeCallback()}get order(){return this._order}set order(et){this._order=et,this._onChangeCallback()}set(et,rt,nt,it=this._order){return this._x=et,this._y=rt,this._z=nt,this._order=it,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(et){return this._x=et._x,this._y=et._y,this._z=et._z,this._order=et._order,this._onChangeCallback(),this}setFromRotationMatrix(et,rt=this._order,nt=!0){const it=et.elements,ot=it[0],at=it[4],st=it[8],lt=it[1],ct=it[5],ut=it[9],dt=it[2],ft=it[6],pt=it[10];switch(rt){case"XYZ":this._y=Math.asin(clamp$1(st,-1,1)),Math.abs(st)<.9999999?(this._x=Math.atan2(-ut,pt),this._z=Math.atan2(-at,ot)):(this._x=Math.atan2(ft,ct),this._z=0);break;case"YXZ":this._x=Math.asin(-clamp$1(ut,-1,1)),Math.abs(ut)<.9999999?(this._y=Math.atan2(st,pt),this._z=Math.atan2(lt,ct)):(this._y=Math.atan2(-dt,ot),this._z=0);break;case"ZXY":this._x=Math.asin(clamp$1(ft,-1,1)),Math.abs(ft)<.9999999?(this._y=Math.atan2(-dt,pt),this._z=Math.atan2(-at,ct)):(this._y=0,this._z=Math.atan2(lt,ot));break;case"ZYX":this._y=Math.asin(-clamp$1(dt,-1,1)),Math.abs(dt)<.9999999?(this._x=Math.atan2(ft,pt),this._z=Math.atan2(lt,ot)):(this._x=0,this._z=Math.atan2(-at,ct));break;case"YZX":this._z=Math.asin(clamp$1(lt,-1,1)),Math.abs(lt)<.9999999?(this._x=Math.atan2(-ut,ct),this._y=Math.atan2(-dt,ot)):(this._x=0,this._y=Math.atan2(st,pt));break;case"XZY":this._z=Math.asin(-clamp$1(at,-1,1)),Math.abs(at)<.9999999?(this._x=Math.atan2(ft,ct),this._y=Math.atan2(st,ot)):(this._x=Math.atan2(-ut,pt),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+rt)}return this._order=rt,nt===!0&&this._onChangeCallback(),this}setFromQuaternion(et,rt,nt){return _matrix$1.makeRotationFromQuaternion(et),this.setFromRotationMatrix(_matrix$1,rt,nt)}setFromVector3(et,rt=this._order){return this.set(et.x,et.y,et.z,rt)}reorder(et){return _quaternion$3.setFromEuler(this),this.setFromQuaternion(_quaternion$3,et)}equals(et){return et._x===this._x&&et._y===this._y&&et._z===this._z&&et._order===this._order}fromArray(et){return this._x=et[0],this._y=et[1],this._z=et[2],et[3]!==void 0&&(this._order=et[3]),this._onChangeCallback(),this}toArray(et=[],rt=0){return et[rt]=this._x,et[rt+1]=this._y,et[rt+2]=this._z,et[rt+3]=this._order,et}_onChange(et){return this._onChangeCallback=et,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}toVector3(){console.error("THREE.Euler: .toVector3() has been removed. Use Vector3.setFromEuler() instead")}}Euler.DefaultOrder="XYZ";Euler.RotationOrders=["XYZ","YZX","ZXY","XZY","YXZ","ZYX"];class Layers{constructor(){this.mask=1}set(et){this.mask=(1<<et|0)>>>0}enable(et){this.mask|=1<<et|0}enableAll(){this.mask=-1}toggle(et){this.mask^=1<<et|0}disable(et){this.mask&=~(1<<et|0)}disableAll(){this.mask=0}test(et){return(this.mask&et.mask)!==0}isEnabled(et){return(this.mask&(1<<et|0))!==0}}let _object3DId=0;const _v1$4=new Vector3,_q1=new Quaternion,_m1$1=new Matrix4,_target=new Vector3,_position$3=new Vector3,_scale$2=new Vector3,_quaternion$2=new Quaternion,_xAxis=new Vector3(1,0,0),_yAxis=new Vector3(0,1,0),_zAxis=new Vector3(0,0,1),_addedEvent={type:"added"},_removedEvent={type:"removed"};class Object3D extends EventDispatcher{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:_object3DId++}),this.uuid=generateUUID$1(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=Object3D.DefaultUp.clone();const et=new Vector3,rt=new Euler,nt=new Quaternion,it=new Vector3(1,1,1);function ot(){nt.setFromEuler(rt,!1)}function at(){rt.setFromQuaternion(nt,void 0,!1)}rt._onChange(ot),nt._onChange(at),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:et},rotation:{configurable:!0,enumerable:!0,value:rt},quaternion:{configurable:!0,enumerable:!0,value:nt},scale:{configurable:!0,enumerable:!0,value:it},modelViewMatrix:{value:new Matrix4},normalMatrix:{value:new Matrix3}}),this.matrix=new Matrix4,this.matrixWorld=new Matrix4,this.matrixAutoUpdate=Object3D.DefaultMatrixAutoUpdate,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=Object3D.DefaultMatrixWorldAutoUpdate,this.layers=new Layers,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(et){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(et),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(et){return this.quaternion.premultiply(et),this}setRotationFromAxisAngle(et,rt){this.quaternion.setFromAxisAngle(et,rt)}setRotationFromEuler(et){this.quaternion.setFromEuler(et,!0)}setRotationFromMatrix(et){this.quaternion.setFromRotationMatrix(et)}setRotationFromQuaternion(et){this.quaternion.copy(et)}rotateOnAxis(et,rt){return _q1.setFromAxisAngle(et,rt),this.quaternion.multiply(_q1),this}rotateOnWorldAxis(et,rt){return _q1.setFromAxisAngle(et,rt),this.quaternion.premultiply(_q1),this}rotateX(et){return this.rotateOnAxis(_xAxis,et)}rotateY(et){return this.rotateOnAxis(_yAxis,et)}rotateZ(et){return this.rotateOnAxis(_zAxis,et)}translateOnAxis(et,rt){return _v1$4.copy(et).applyQuaternion(this.quaternion),this.position.add(_v1$4.multiplyScalar(rt)),this}translateX(et){return this.translateOnAxis(_xAxis,et)}translateY(et){return this.translateOnAxis(_yAxis,et)}translateZ(et){return this.translateOnAxis(_zAxis,et)}localToWorld(et){return this.updateWorldMatrix(!0,!1),et.applyMatrix4(this.matrixWorld)}worldToLocal(et){return this.updateWorldMatrix(!0,!1),et.applyMatrix4(_m1$1.copy(this.matrixWorld).invert())}lookAt(et,rt,nt){et.isVector3?_target.copy(et):_target.set(et,rt,nt);const it=this.parent;this.updateWorldMatrix(!0,!1),_position$3.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?_m1$1.lookAt(_position$3,_target,this.up):_m1$1.lookAt(_target,_position$3,this.up),this.quaternion.setFromRotationMatrix(_m1$1),it&&(_m1$1.extractRotation(it.matrixWorld),_q1.setFromRotationMatrix(_m1$1),this.quaternion.premultiply(_q1.invert()))}add(et){if(arguments.length>1){for(let rt=0;rt<arguments.length;rt++)this.add(arguments[rt]);return this}return et===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",et),this):(et&&et.isObject3D?(et.parent!==null&&et.parent.remove(et),et.parent=this,this.children.push(et),et.dispatchEvent(_addedEvent)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",et),this)}remove(et){if(arguments.length>1){for(let nt=0;nt<arguments.length;nt++)this.remove(arguments[nt]);return this}const rt=this.children.indexOf(et);return rt!==-1&&(et.parent=null,this.children.splice(rt,1),et.dispatchEvent(_removedEvent)),this}removeFromParent(){const et=this.parent;return et!==null&&et.remove(this),this}clear(){for(let et=0;et<this.children.length;et++){const rt=this.children[et];rt.parent=null,rt.dispatchEvent(_removedEvent)}return this.children.length=0,this}attach(et){return this.updateWorldMatrix(!0,!1),_m1$1.copy(this.matrixWorld).invert(),et.parent!==null&&(et.parent.updateWorldMatrix(!0,!1),_m1$1.multiply(et.parent.matrixWorld)),et.applyMatrix4(_m1$1),this.add(et),et.updateWorldMatrix(!1,!0),this}getObjectById(et){return this.getObjectByProperty("id",et)}getObjectByName(et){return this.getObjectByProperty("name",et)}getObjectByProperty(et,rt){if(this[et]===rt)return this;for(let nt=0,it=this.children.length;nt<it;nt++){const at=this.children[nt].getObjectByProperty(et,rt);if(at!==void 0)return at}}getObjectsByProperty(et,rt){let nt=[];this[et]===rt&&nt.push(this);for(let it=0,ot=this.children.length;it<ot;it++){const at=this.children[it].getObjectsByProperty(et,rt);at.length>0&&(nt=nt.concat(at))}return nt}getWorldPosition(et){return this.updateWorldMatrix(!0,!1),et.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(et){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,et,_scale$2),et}getWorldScale(et){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(_position$3,_quaternion$2,et),et}getWorldDirection(et){this.updateWorldMatrix(!0,!1);const rt=this.matrixWorld.elements;return et.set(rt[8],rt[9],rt[10]).normalize()}raycast(){}traverse(et){et(this);const rt=this.children;for(let nt=0,it=rt.length;nt<it;nt++)rt[nt].traverse(et)}traverseVisible(et){if(this.visible===!1)return;et(this);const rt=this.children;for(let nt=0,it=rt.length;nt<it;nt++)rt[nt].traverseVisible(et)}traverseAncestors(et){const rt=this.parent;rt!==null&&(et(rt),rt.traverseAncestors(et))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(et){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||et)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,et=!0);const rt=this.children;for(let nt=0,it=rt.length;nt<it;nt++){const ot=rt[nt];(ot.matrixWorldAutoUpdate===!0||et===!0)&&ot.updateMatrixWorld(et)}}updateWorldMatrix(et,rt){const nt=this.parent;if(et===!0&&nt!==null&&nt.matrixWorldAutoUpdate===!0&&nt.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),rt===!0){const it=this.children;for(let ot=0,at=it.length;ot<at;ot++){const st=it[ot];st.matrixWorldAutoUpdate===!0&&st.updateWorldMatrix(!1,!0)}}}toJSON(et){const rt=et===void 0||typeof et=="string",nt={};rt&&(et={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},nt.metadata={version:4.5,type:"Object",generator:"Object3D.toJSON"});const it={};it.uuid=this.uuid,it.type=this.type,this.name!==""&&(it.name=this.name),this.castShadow===!0&&(it.castShadow=!0),this.receiveShadow===!0&&(it.receiveShadow=!0),this.visible===!1&&(it.visible=!1),this.frustumCulled===!1&&(it.frustumCulled=!1),this.renderOrder!==0&&(it.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(it.userData=this.userData),it.layers=this.layers.mask,it.matrix=this.matrix.toArray(),this.matrixAutoUpdate===!1&&(it.matrixAutoUpdate=!1),this.isInstancedMesh&&(it.type="InstancedMesh",it.count=this.count,it.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(it.instanceColor=this.instanceColor.toJSON()));function ot(st,lt){return st[lt.uuid]===void 0&&(st[lt.uuid]=lt.toJSON(et)),lt.uuid}if(this.isScene)this.background&&(this.background.isColor?it.background=this.background.toJSON():this.background.isTexture&&(it.background=this.background.toJSON(et).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(it.environment=this.environment.toJSON(et).uuid);else if(this.isMesh||this.isLine||this.isPoints){it.geometry=ot(et.geometries,this.geometry);const st=this.geometry.parameters;if(st!==void 0&&st.shapes!==void 0){const lt=st.shapes;if(Array.isArray(lt))for(let ct=0,ut=lt.length;ct<ut;ct++){const dt=lt[ct];ot(et.shapes,dt)}else ot(et.shapes,lt)}}if(this.isSkinnedMesh&&(it.bindMode=this.bindMode,it.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(ot(et.skeletons,this.skeleton),it.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const st=[];for(let lt=0,ct=this.material.length;lt<ct;lt++)st.push(ot(et.materials,this.material[lt]));it.material=st}else it.material=ot(et.materials,this.material);if(this.children.length>0){it.children=[];for(let st=0;st<this.children.length;st++)it.children.push(this.children[st].toJSON(et).object)}if(this.animations.length>0){it.animations=[];for(let st=0;st<this.animations.length;st++){const lt=this.animations[st];it.animations.push(ot(et.animations,lt))}}if(rt){const st=at(et.geometries),lt=at(et.materials),ct=at(et.textures),ut=at(et.images),dt=at(et.shapes),ft=at(et.skeletons),pt=at(et.animations),mt=at(et.nodes);st.length>0&&(nt.geometries=st),lt.length>0&&(nt.materials=lt),ct.length>0&&(nt.textures=ct),ut.length>0&&(nt.images=ut),dt.length>0&&(nt.shapes=dt),ft.length>0&&(nt.skeletons=ft),pt.length>0&&(nt.animations=pt),mt.length>0&&(nt.nodes=mt)}return nt.object=it,nt;function at(st){const lt=[];for(const ct in st){const ut=st[ct];delete ut.metadata,lt.push(ut)}return lt}}clone(et){return new this.constructor().copy(this,et)}copy(et,rt=!0){if(this.name=et.name,this.up.copy(et.up),this.position.copy(et.position),this.rotation.order=et.rotation.order,this.quaternion.copy(et.quaternion),this.scale.copy(et.scale),this.matrix.copy(et.matrix),this.matrixWorld.copy(et.matrixWorld),this.matrixAutoUpdate=et.matrixAutoUpdate,this.matrixWorldNeedsUpdate=et.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=et.matrixWorldAutoUpdate,this.layers.mask=et.layers.mask,this.visible=et.visible,this.castShadow=et.castShadow,this.receiveShadow=et.receiveShadow,this.frustumCulled=et.frustumCulled,this.renderOrder=et.renderOrder,this.userData=JSON.parse(JSON.stringify(et.userData)),rt===!0)for(let nt=0;nt<et.children.length;nt++){const it=et.children[nt];this.add(it.clone())}return this}}Object3D.DefaultUp=new Vector3(0,1,0);Object3D.DefaultMatrixAutoUpdate=!0;Object3D.DefaultMatrixWorldAutoUpdate=!0;const _v0$1=new Vector3,_v1$3=new Vector3,_v2$2=new Vector3,_v3$1=new Vector3,_vab=new Vector3,_vac=new Vector3,_vbc=new Vector3,_vap=new Vector3,_vbp=new Vector3,_vcp=new Vector3;class Triangle{constructor(et=new Vector3,rt=new Vector3,nt=new Vector3){this.a=et,this.b=rt,this.c=nt}static getNormal(et,rt,nt,it){it.subVectors(nt,rt),_v0$1.subVectors(et,rt),it.cross(_v0$1);const ot=it.lengthSq();return ot>0?it.multiplyScalar(1/Math.sqrt(ot)):it.set(0,0,0)}static getBarycoord(et,rt,nt,it,ot){_v0$1.subVectors(it,rt),_v1$3.subVectors(nt,rt),_v2$2.subVectors(et,rt);const at=_v0$1.dot(_v0$1),st=_v0$1.dot(_v1$3),lt=_v0$1.dot(_v2$2),ct=_v1$3.dot(_v1$3),ut=_v1$3.dot(_v2$2),dt=at*ct-st*st;if(dt===0)return ot.set(-2,-1,-1);const ft=1/dt,pt=(ct*lt-st*ut)*ft,mt=(at*ut-st*lt)*ft;return ot.set(1-pt-mt,mt,pt)}static containsPoint(et,rt,nt,it){return this.getBarycoord(et,rt,nt,it,_v3$1),_v3$1.x>=0&&_v3$1.y>=0&&_v3$1.x+_v3$1.y<=1}static getUV(et,rt,nt,it,ot,at,st,lt){return this.getBarycoord(et,rt,nt,it,_v3$1),lt.set(0,0),lt.addScaledVector(ot,_v3$1.x),lt.addScaledVector(at,_v3$1.y),lt.addScaledVector(st,_v3$1.z),lt}static isFrontFacing(et,rt,nt,it){return _v0$1.subVectors(nt,rt),_v1$3.subVectors(et,rt),_v0$1.cross(_v1$3).dot(it)<0}set(et,rt,nt){return this.a.copy(et),this.b.copy(rt),this.c.copy(nt),this}setFromPointsAndIndices(et,rt,nt,it){return this.a.copy(et[rt]),this.b.copy(et[nt]),this.c.copy(et[it]),this}setFromAttributeAndIndices(et,rt,nt,it){return this.a.fromBufferAttribute(et,rt),this.b.fromBufferAttribute(et,nt),this.c.fromBufferAttribute(et,it),this}clone(){return new this.constructor().copy(this)}copy(et){return this.a.copy(et.a),this.b.copy(et.b),this.c.copy(et.c),this}getArea(){return _v0$1.subVectors(this.c,this.b),_v1$3.subVectors(this.a,this.b),_v0$1.cross(_v1$3).length()*.5}getMidpoint(et){return et.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(et){return Triangle.getNormal(this.a,this.b,this.c,et)}getPlane(et){return et.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(et,rt){return Triangle.getBarycoord(et,this.a,this.b,this.c,rt)}getUV(et,rt,nt,it,ot){return Triangle.getUV(et,this.a,this.b,this.c,rt,nt,it,ot)}containsPoint(et){return Triangle.containsPoint(et,this.a,this.b,this.c)}isFrontFacing(et){return Triangle.isFrontFacing(this.a,this.b,this.c,et)}intersectsBox(et){return et.intersectsTriangle(this)}closestPointToPoint(et,rt){const nt=this.a,it=this.b,ot=this.c;let at,st;_vab.subVectors(it,nt),_vac.subVectors(ot,nt),_vap.subVectors(et,nt);const lt=_vab.dot(_vap),ct=_vac.dot(_vap);if(lt<=0&&ct<=0)return rt.copy(nt);_vbp.subVectors(et,it);const ut=_vab.dot(_vbp),dt=_vac.dot(_vbp);if(ut>=0&&dt<=ut)return rt.copy(it);const ft=lt*dt-ut*ct;if(ft<=0&&lt>=0&&ut<=0)return at=lt/(lt-ut),rt.copy(nt).addScaledVector(_vab,at);_vcp.subVectors(et,ot);const pt=_vab.dot(_vcp),mt=_vac.dot(_vcp);if(mt>=0&&pt<=mt)return rt.copy(ot);const ht=pt*ct-lt*mt;if(ht<=0&&ct>=0&&mt<=0)return st=ct/(ct-mt),rt.copy(nt).addScaledVector(_vac,st);const gt=ut*mt-pt*dt;if(gt<=0&&dt-ut>=0&&pt-mt>=0)return _vbc.subVectors(ot,it),st=(dt-ut)/(dt-ut+(pt-mt)),rt.copy(it).addScaledVector(_vbc,st);const vt=1/(gt+ht+ft);return at=ht*vt,st=ft*vt,rt.copy(nt).addScaledVector(_vab,at).addScaledVector(_vac,st)}equals(et){return et.a.equals(this.a)&&et.b.equals(this.b)&&et.c.equals(this.c)}}let materialId=0,Material$2=class extends EventDispatcher{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:materialId++}),this.uuid=generateUUID$1(),this.name="",this.type="Material",this.blending=NormalBlending,this.side=FrontSide,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.blendSrc=SrcAlphaFactor,this.blendDst=OneMinusSrcAlphaFactor,this.blendEquation=AddEquation,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=LessEqualDepth,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=AlwaysStencilFunc,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=KeepStencilOp,this.stencilZFail=KeepStencilOp,this.stencilZPass=KeepStencilOp,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(et){this._alphaTest>0!=et>0&&this.version++,this._alphaTest=et}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(et){if(et!==void 0)for(const rt in et){const nt=et[rt];if(nt===void 0){console.warn("THREE.Material: '"+rt+"' parameter is undefined.");continue}const it=this[rt];if(it===void 0){console.warn("THREE."+this.type+": '"+rt+"' is not a property of this material.");continue}it&&it.isColor?it.set(nt):it&&it.isVector3&&nt&&nt.isVector3?it.copy(nt):this[rt]=nt}}toJSON(et){const rt=et===void 0||typeof et=="string";rt&&(et={textures:{},images:{}});const nt={metadata:{version:4.5,type:"Material",generator:"Material.toJSON"}};nt.uuid=this.uuid,nt.type=this.type,this.name!==""&&(nt.name=this.name),this.color&&this.color.isColor&&(nt.color=this.color.getHex()),this.roughness!==void 0&&(nt.roughness=this.roughness),this.metalness!==void 0&&(nt.metalness=this.metalness),this.sheen!==void 0&&(nt.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(nt.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(nt.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(nt.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(nt.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(nt.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(nt.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(nt.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(nt.shininess=this.shininess),this.clearcoat!==void 0&&(nt.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(nt.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(nt.clearcoatMap=this.clearcoatMap.toJSON(et).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(nt.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(et).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(nt.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(et).uuid,nt.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(nt.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(nt.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(nt.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(nt.iridescenceMap=this.iridescenceMap.toJSON(et).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(nt.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(et).uuid),this.map&&this.map.isTexture&&(nt.map=this.map.toJSON(et).uuid),this.matcap&&this.matcap.isTexture&&(nt.matcap=this.matcap.toJSON(et).uuid),this.alphaMap&&this.alphaMap.isTexture&&(nt.alphaMap=this.alphaMap.toJSON(et).uuid),this.lightMap&&this.lightMap.isTexture&&(nt.lightMap=this.lightMap.toJSON(et).uuid,nt.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(nt.aoMap=this.aoMap.toJSON(et).uuid,nt.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(nt.bumpMap=this.bumpMap.toJSON(et).uuid,nt.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(nt.normalMap=this.normalMap.toJSON(et).uuid,nt.normalMapType=this.normalMapType,nt.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(nt.displacementMap=this.displacementMap.toJSON(et).uuid,nt.displacementScale=this.displacementScale,nt.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(nt.roughnessMap=this.roughnessMap.toJSON(et).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(nt.metalnessMap=this.metalnessMap.toJSON(et).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(nt.emissiveMap=this.emissiveMap.toJSON(et).uuid),this.specularMap&&this.specularMap.isTexture&&(nt.specularMap=this.specularMap.toJSON(et).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(nt.specularIntensityMap=this.specularIntensityMap.toJSON(et).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(nt.specularColorMap=this.specularColorMap.toJSON(et).uuid),this.envMap&&this.envMap.isTexture&&(nt.envMap=this.envMap.toJSON(et).uuid,this.combine!==void 0&&(nt.combine=this.combine)),this.envMapIntensity!==void 0&&(nt.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(nt.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(nt.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(nt.gradientMap=this.gradientMap.toJSON(et).uuid),this.transmission!==void 0&&(nt.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(nt.transmissionMap=this.transmissionMap.toJSON(et).uuid),this.thickness!==void 0&&(nt.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(nt.thicknessMap=this.thicknessMap.toJSON(et).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(nt.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(nt.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(nt.size=this.size),this.shadowSide!==null&&(nt.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(nt.sizeAttenuation=this.sizeAttenuation),this.blending!==NormalBlending&&(nt.blending=this.blending),this.side!==FrontSide&&(nt.side=this.side),this.vertexColors&&(nt.vertexColors=!0),this.opacity<1&&(nt.opacity=this.opacity),this.transparent===!0&&(nt.transparent=this.transparent),nt.depthFunc=this.depthFunc,nt.depthTest=this.depthTest,nt.depthWrite=this.depthWrite,nt.colorWrite=this.colorWrite,nt.stencilWrite=this.stencilWrite,nt.stencilWriteMask=this.stencilWriteMask,nt.stencilFunc=this.stencilFunc,nt.stencilRef=this.stencilRef,nt.stencilFuncMask=this.stencilFuncMask,nt.stencilFail=this.stencilFail,nt.stencilZFail=this.stencilZFail,nt.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(nt.rotation=this.rotation),this.polygonOffset===!0&&(nt.polygonOffset=!0),this.polygonOffsetFactor!==0&&(nt.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(nt.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(nt.linewidth=this.linewidth),this.dashSize!==void 0&&(nt.dashSize=this.dashSize),this.gapSize!==void 0&&(nt.gapSize=this.gapSize),this.scale!==void 0&&(nt.scale=this.scale),this.dithering===!0&&(nt.dithering=!0),this.alphaTest>0&&(nt.alphaTest=this.alphaTest),this.alphaToCoverage===!0&&(nt.alphaToCoverage=this.alphaToCoverage),this.premultipliedAlpha===!0&&(nt.premultipliedAlpha=this.premultipliedAlpha),this.wireframe===!0&&(nt.wireframe=this.wireframe),this.wireframeLinewidth>1&&(nt.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(nt.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(nt.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(nt.flatShading=this.flatShading),this.visible===!1&&(nt.visible=!1),this.toneMapped===!1&&(nt.toneMapped=!1),this.fog===!1&&(nt.fog=!1),Object.keys(this.userData).length>0&&(nt.userData=this.userData);function it(ot){const at=[];for(const st in ot){const lt=ot[st];delete lt.metadata,at.push(lt)}return at}if(rt){const ot=it(et.textures),at=it(et.images);ot.length>0&&(nt.textures=ot),at.length>0&&(nt.images=at)}return nt}clone(){return new this.constructor().copy(this)}copy(et){this.name=et.name,this.blending=et.blending,this.side=et.side,this.vertexColors=et.vertexColors,this.opacity=et.opacity,this.transparent=et.transparent,this.blendSrc=et.blendSrc,this.blendDst=et.blendDst,this.blendEquation=et.blendEquation,this.blendSrcAlpha=et.blendSrcAlpha,this.blendDstAlpha=et.blendDstAlpha,this.blendEquationAlpha=et.blendEquationAlpha,this.depthFunc=et.depthFunc,this.depthTest=et.depthTest,this.depthWrite=et.depthWrite,this.stencilWriteMask=et.stencilWriteMask,this.stencilFunc=et.stencilFunc,this.stencilRef=et.stencilRef,this.stencilFuncMask=et.stencilFuncMask,this.stencilFail=et.stencilFail,this.stencilZFail=et.stencilZFail,this.stencilZPass=et.stencilZPass,this.stencilWrite=et.stencilWrite;const rt=et.clippingPlanes;let nt=null;if(rt!==null){const it=rt.length;nt=new Array(it);for(let ot=0;ot!==it;++ot)nt[ot]=rt[ot].clone()}return this.clippingPlanes=nt,this.clipIntersection=et.clipIntersection,this.clipShadows=et.clipShadows,this.shadowSide=et.shadowSide,this.colorWrite=et.colorWrite,this.precision=et.precision,this.polygonOffset=et.polygonOffset,this.polygonOffsetFactor=et.polygonOffsetFactor,this.polygonOffsetUnits=et.polygonOffsetUnits,this.dithering=et.dithering,this.alphaTest=et.alphaTest,this.alphaToCoverage=et.alphaToCoverage,this.premultipliedAlpha=et.premultipliedAlpha,this.visible=et.visible,this.toneMapped=et.toneMapped,this.userData=JSON.parse(JSON.stringify(et.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(et){et===!0&&this.version++}};class MeshBasicMaterial extends Material$2{constructor(et){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.specularMap=et.specularMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.combine=et.combine,this.reflectivity=et.reflectivity,this.refractionRatio=et.refractionRatio,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.fog=et.fog,this}}const _vector$9=new Vector3,_vector2$1=new Vector2;class BufferAttribute{constructor(et,rt,nt=!1){if(Array.isArray(et))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=et,this.itemSize=rt,this.count=et!==void 0?et.length/rt:0,this.normalized=nt,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0}onUploadCallback(){}set needsUpdate(et){et===!0&&this.version++}setUsage(et){return this.usage=et,this}copy(et){return this.name=et.name,this.array=new et.array.constructor(et.array),this.itemSize=et.itemSize,this.count=et.count,this.normalized=et.normalized,this.usage=et.usage,this}copyAt(et,rt,nt){et*=this.itemSize,nt*=rt.itemSize;for(let it=0,ot=this.itemSize;it<ot;it++)this.array[et+it]=rt.array[nt+it];return this}copyArray(et){return this.array.set(et),this}applyMatrix3(et){if(this.itemSize===2)for(let rt=0,nt=this.count;rt<nt;rt++)_vector2$1.fromBufferAttribute(this,rt),_vector2$1.applyMatrix3(et),this.setXY(rt,_vector2$1.x,_vector2$1.y);else if(this.itemSize===3)for(let rt=0,nt=this.count;rt<nt;rt++)_vector$9.fromBufferAttribute(this,rt),_vector$9.applyMatrix3(et),this.setXYZ(rt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyMatrix4(et){for(let rt=0,nt=this.count;rt<nt;rt++)_vector$9.fromBufferAttribute(this,rt),_vector$9.applyMatrix4(et),this.setXYZ(rt,_vector$9.x,_vector$9.y,_vector$9.z);return this}applyNormalMatrix(et){for(let rt=0,nt=this.count;rt<nt;rt++)_vector$9.fromBufferAttribute(this,rt),_vector$9.applyNormalMatrix(et),this.setXYZ(rt,_vector$9.x,_vector$9.y,_vector$9.z);return this}transformDirection(et){for(let rt=0,nt=this.count;rt<nt;rt++)_vector$9.fromBufferAttribute(this,rt),_vector$9.transformDirection(et),this.setXYZ(rt,_vector$9.x,_vector$9.y,_vector$9.z);return this}set(et,rt=0){return this.array.set(et,rt),this}getX(et){let rt=this.array[et*this.itemSize];return this.normalized&&(rt=denormalize(rt,this.array)),rt}setX(et,rt){return this.normalized&&(rt=normalize$5(rt,this.array)),this.array[et*this.itemSize]=rt,this}getY(et){let rt=this.array[et*this.itemSize+1];return this.normalized&&(rt=denormalize(rt,this.array)),rt}setY(et,rt){return this.normalized&&(rt=normalize$5(rt,this.array)),this.array[et*this.itemSize+1]=rt,this}getZ(et){let rt=this.array[et*this.itemSize+2];return this.normalized&&(rt=denormalize(rt,this.array)),rt}setZ(et,rt){return this.normalized&&(rt=normalize$5(rt,this.array)),this.array[et*this.itemSize+2]=rt,this}getW(et){let rt=this.array[et*this.itemSize+3];return this.normalized&&(rt=denormalize(rt,this.array)),rt}setW(et,rt){return this.normalized&&(rt=normalize$5(rt,this.array)),this.array[et*this.itemSize+3]=rt,this}setXY(et,rt,nt){return et*=this.itemSize,this.normalized&&(rt=normalize$5(rt,this.array),nt=normalize$5(nt,this.array)),this.array[et+0]=rt,this.array[et+1]=nt,this}setXYZ(et,rt,nt,it){return et*=this.itemSize,this.normalized&&(rt=normalize$5(rt,this.array),nt=normalize$5(nt,this.array),it=normalize$5(it,this.array)),this.array[et+0]=rt,this.array[et+1]=nt,this.array[et+2]=it,this}setXYZW(et,rt,nt,it,ot){return et*=this.itemSize,this.normalized&&(rt=normalize$5(rt,this.array),nt=normalize$5(nt,this.array),it=normalize$5(it,this.array),ot=normalize$5(ot,this.array)),this.array[et+0]=rt,this.array[et+1]=nt,this.array[et+2]=it,this.array[et+3]=ot,this}onUpload(et){return this.onUploadCallback=et,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const et={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(et.name=this.name),this.usage!==StaticDrawUsage&&(et.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(et.updateRange=this.updateRange),et}copyColorsArray(){console.error("THREE.BufferAttribute: copyColorsArray() was removed in r144.")}copyVector2sArray(){console.error("THREE.BufferAttribute: copyVector2sArray() was removed in r144.")}copyVector3sArray(){console.error("THREE.BufferAttribute: copyVector3sArray() was removed in r144.")}copyVector4sArray(){console.error("THREE.BufferAttribute: copyVector4sArray() was removed in r144.")}}class Int8BufferAttribute extends BufferAttribute{constructor(et,rt,nt){super(new Int8Array(et),rt,nt)}}class Uint8BufferAttribute extends BufferAttribute{constructor(et,rt,nt){super(new Uint8Array(et),rt,nt)}}class Uint8ClampedBufferAttribute extends BufferAttribute{constructor(et,rt,nt){super(new Uint8ClampedArray(et),rt,nt)}}class Int16BufferAttribute extends BufferAttribute{constructor(et,rt,nt){super(new Int16Array(et),rt,nt)}}class Uint16BufferAttribute extends BufferAttribute{constructor(et,rt,nt){super(new Uint16Array(et),rt,nt)}}class Int32BufferAttribute extends BufferAttribute{constructor(et,rt,nt){super(new Int32Array(et),rt,nt)}}class Uint32BufferAttribute extends BufferAttribute{constructor(et,rt,nt){super(new Uint32Array(et),rt,nt)}}class Float16BufferAttribute extends BufferAttribute{constructor(et,rt,nt){super(new Uint16Array(et),rt,nt),this.isFloat16BufferAttribute=!0}}class Float32BufferAttribute extends BufferAttribute{constructor(et,rt,nt){super(new Float32Array(et),rt,nt)}}class Float64BufferAttribute extends BufferAttribute{constructor(et,rt,nt){super(new Float64Array(et),rt,nt)}}let _id$1=0;const _m1=new Matrix4,_obj=new Object3D,_offset=new Vector3,_box$1=new Box3,_boxMorphTargets=new Box3,_vector$8=new Vector3;class BufferGeometry extends EventDispatcher{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:_id$1++}),this.uuid=generateUUID$1(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(et){return Array.isArray(et)?this.index=new(arrayNeedsUint32(et)?Uint32BufferAttribute:Uint16BufferAttribute)(et,1):this.index=et,this}getAttribute(et){return this.attributes[et]}setAttribute(et,rt){return this.attributes[et]=rt,this}deleteAttribute(et){return delete this.attributes[et],this}hasAttribute(et){return this.attributes[et]!==void 0}addGroup(et,rt,nt=0){this.groups.push({start:et,count:rt,materialIndex:nt})}clearGroups(){this.groups=[]}setDrawRange(et,rt){this.drawRange.start=et,this.drawRange.count=rt}applyMatrix4(et){const rt=this.attributes.position;rt!==void 0&&(rt.applyMatrix4(et),rt.needsUpdate=!0);const nt=this.attributes.normal;if(nt!==void 0){const ot=new Matrix3().getNormalMatrix(et);nt.applyNormalMatrix(ot),nt.needsUpdate=!0}const it=this.attributes.tangent;return it!==void 0&&(it.transformDirection(et),it.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(et){return _m1.makeRotationFromQuaternion(et),this.applyMatrix4(_m1),this}rotateX(et){return _m1.makeRotationX(et),this.applyMatrix4(_m1),this}rotateY(et){return _m1.makeRotationY(et),this.applyMatrix4(_m1),this}rotateZ(et){return _m1.makeRotationZ(et),this.applyMatrix4(_m1),this}translate(et,rt,nt){return _m1.makeTranslation(et,rt,nt),this.applyMatrix4(_m1),this}scale(et,rt,nt){return _m1.makeScale(et,rt,nt),this.applyMatrix4(_m1),this}lookAt(et){return _obj.lookAt(et),_obj.updateMatrix(),this.applyMatrix4(_obj.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(_offset).negate(),this.translate(_offset.x,_offset.y,_offset.z),this}setFromPoints(et){const rt=[];for(let nt=0,it=et.length;nt<it;nt++){const ot=et[nt];rt.push(ot.x,ot.y,ot.z||0)}return this.setAttribute("position",new Float32BufferAttribute(rt,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new Box3);const et=this.attributes.position,rt=this.morphAttributes.position;if(et&&et.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Vector3(-1/0,-1/0,-1/0),new Vector3(1/0,1/0,1/0));return}if(et!==void 0){if(this.boundingBox.setFromBufferAttribute(et),rt)for(let nt=0,it=rt.length;nt<it;nt++){const ot=rt[nt];_box$1.setFromBufferAttribute(ot),this.morphTargetsRelative?(_vector$8.addVectors(this.boundingBox.min,_box$1.min),this.boundingBox.expandByPoint(_vector$8),_vector$8.addVectors(this.boundingBox.max,_box$1.max),this.boundingBox.expandByPoint(_vector$8)):(this.boundingBox.expandByPoint(_box$1.min),this.boundingBox.expandByPoint(_box$1.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new Sphere);const et=this.attributes.position,rt=this.morphAttributes.position;if(et&&et.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Vector3,1/0);return}if(et){const nt=this.boundingSphere.center;if(_box$1.setFromBufferAttribute(et),rt)for(let ot=0,at=rt.length;ot<at;ot++){const st=rt[ot];_boxMorphTargets.setFromBufferAttribute(st),this.morphTargetsRelative?(_vector$8.addVectors(_box$1.min,_boxMorphTargets.min),_box$1.expandByPoint(_vector$8),_vector$8.addVectors(_box$1.max,_boxMorphTargets.max),_box$1.expandByPoint(_vector$8)):(_box$1.expandByPoint(_boxMorphTargets.min),_box$1.expandByPoint(_boxMorphTargets.max))}_box$1.getCenter(nt);let it=0;for(let ot=0,at=et.count;ot<at;ot++)_vector$8.fromBufferAttribute(et,ot),it=Math.max(it,nt.distanceToSquared(_vector$8));if(rt)for(let ot=0,at=rt.length;ot<at;ot++){const st=rt[ot],lt=this.morphTargetsRelative;for(let ct=0,ut=st.count;ct<ut;ct++)_vector$8.fromBufferAttribute(st,ct),lt&&(_offset.fromBufferAttribute(et,ct),_vector$8.add(_offset)),it=Math.max(it,nt.distanceToSquared(_vector$8))}this.boundingSphere.radius=Math.sqrt(it),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const et=this.index,rt=this.attributes;if(et===null||rt.position===void 0||rt.normal===void 0||rt.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const nt=et.array,it=rt.position.array,ot=rt.normal.array,at=rt.uv.array,st=it.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new BufferAttribute(new Float32Array(4*st),4));const lt=this.getAttribute("tangent").array,ct=[],ut=[];for(let It=0;It<st;It++)ct[It]=new Vector3,ut[It]=new Vector3;const dt=new Vector3,ft=new Vector3,pt=new Vector3,mt=new Vector2,ht=new Vector2,gt=new Vector2,vt=new Vector3,yt=new Vector3;function bt(It,Lt,Pt){dt.fromArray(it,It*3),ft.fromArray(it,Lt*3),pt.fromArray(it,Pt*3),mt.fromArray(at,It*2),ht.fromArray(at,Lt*2),gt.fromArray(at,Pt*2),ft.sub(dt),pt.sub(dt),ht.sub(mt),gt.sub(mt);const Nt=1/(ht.x*gt.y-gt.x*ht.y);isFinite(Nt)&&(vt.copy(ft).multiplyScalar(gt.y).addScaledVector(pt,-ht.y).multiplyScalar(Nt),yt.copy(pt).multiplyScalar(ht.x).addScaledVector(ft,-gt.x).multiplyScalar(Nt),ct[It].add(vt),ct[Lt].add(vt),ct[Pt].add(vt),ut[It].add(yt),ut[Lt].add(yt),ut[Pt].add(yt))}let xt=this.groups;xt.length===0&&(xt=[{start:0,count:nt.length}]);for(let It=0,Lt=xt.length;It<Lt;++It){const Pt=xt[It],Nt=Pt.start,Ot=Pt.count;for(let Bt=Nt,zt=Nt+Ot;Bt<zt;Bt+=3)bt(nt[Bt+0],nt[Bt+1],nt[Bt+2])}const $t=new Vector3,Tt=new Vector3,wt=new Vector3,At=new Vector3;function Rt(It){wt.fromArray(ot,It*3),At.copy(wt);const Lt=ct[It];$t.copy(Lt),$t.sub(wt.multiplyScalar(wt.dot(Lt))).normalize(),Tt.crossVectors(At,Lt);const Nt=Tt.dot(ut[It])<0?-1:1;lt[It*4]=$t.x,lt[It*4+1]=$t.y,lt[It*4+2]=$t.z,lt[It*4+3]=Nt}for(let It=0,Lt=xt.length;It<Lt;++It){const Pt=xt[It],Nt=Pt.start,Ot=Pt.count;for(let Bt=Nt,zt=Nt+Ot;Bt<zt;Bt+=3)Rt(nt[Bt+0]),Rt(nt[Bt+1]),Rt(nt[Bt+2])}}computeVertexNormals(){const et=this.index,rt=this.getAttribute("position");if(rt!==void 0){let nt=this.getAttribute("normal");if(nt===void 0)nt=new BufferAttribute(new Float32Array(rt.count*3),3),this.setAttribute("normal",nt);else for(let ft=0,pt=nt.count;ft<pt;ft++)nt.setXYZ(ft,0,0,0);const it=new Vector3,ot=new Vector3,at=new Vector3,st=new Vector3,lt=new Vector3,ct=new Vector3,ut=new Vector3,dt=new Vector3;if(et)for(let ft=0,pt=et.count;ft<pt;ft+=3){const mt=et.getX(ft+0),ht=et.getX(ft+1),gt=et.getX(ft+2);it.fromBufferAttribute(rt,mt),ot.fromBufferAttribute(rt,ht),at.fromBufferAttribute(rt,gt),ut.subVectors(at,ot),dt.subVectors(it,ot),ut.cross(dt),st.fromBufferAttribute(nt,mt),lt.fromBufferAttribute(nt,ht),ct.fromBufferAttribute(nt,gt),st.add(ut),lt.add(ut),ct.add(ut),nt.setXYZ(mt,st.x,st.y,st.z),nt.setXYZ(ht,lt.x,lt.y,lt.z),nt.setXYZ(gt,ct.x,ct.y,ct.z)}else for(let ft=0,pt=rt.count;ft<pt;ft+=3)it.fromBufferAttribute(rt,ft+0),ot.fromBufferAttribute(rt,ft+1),at.fromBufferAttribute(rt,ft+2),ut.subVectors(at,ot),dt.subVectors(it,ot),ut.cross(dt),nt.setXYZ(ft+0,ut.x,ut.y,ut.z),nt.setXYZ(ft+1,ut.x,ut.y,ut.z),nt.setXYZ(ft+2,ut.x,ut.y,ut.z);this.normalizeNormals(),nt.needsUpdate=!0}}merge(){return console.error("THREE.BufferGeometry.merge() has been removed. Use THREE.BufferGeometryUtils.mergeBufferGeometries() instead."),this}normalizeNormals(){const et=this.attributes.normal;for(let rt=0,nt=et.count;rt<nt;rt++)_vector$8.fromBufferAttribute(et,rt),_vector$8.normalize(),et.setXYZ(rt,_vector$8.x,_vector$8.y,_vector$8.z)}toNonIndexed(){function et(st,lt){const ct=st.array,ut=st.itemSize,dt=st.normalized,ft=new ct.constructor(lt.length*ut);let pt=0,mt=0;for(let ht=0,gt=lt.length;ht<gt;ht++){st.isInterleavedBufferAttribute?pt=lt[ht]*st.data.stride+st.offset:pt=lt[ht]*ut;for(let vt=0;vt<ut;vt++)ft[mt++]=ct[pt++]}return new BufferAttribute(ft,ut,dt)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const rt=new BufferGeometry,nt=this.index.array,it=this.attributes;for(const st in it){const lt=it[st],ct=et(lt,nt);rt.setAttribute(st,ct)}const ot=this.morphAttributes;for(const st in ot){const lt=[],ct=ot[st];for(let ut=0,dt=ct.length;ut<dt;ut++){const ft=ct[ut],pt=et(ft,nt);lt.push(pt)}rt.morphAttributes[st]=lt}rt.morphTargetsRelative=this.morphTargetsRelative;const at=this.groups;for(let st=0,lt=at.length;st<lt;st++){const ct=at[st];rt.addGroup(ct.start,ct.count,ct.materialIndex)}return rt}toJSON(){const et={metadata:{version:4.5,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(et.uuid=this.uuid,et.type=this.type,this.name!==""&&(et.name=this.name),Object.keys(this.userData).length>0&&(et.userData=this.userData),this.parameters!==void 0){const lt=this.parameters;for(const ct in lt)lt[ct]!==void 0&&(et[ct]=lt[ct]);return et}et.data={attributes:{}};const rt=this.index;rt!==null&&(et.data.index={type:rt.array.constructor.name,array:Array.prototype.slice.call(rt.array)});const nt=this.attributes;for(const lt in nt){const ct=nt[lt];et.data.attributes[lt]=ct.toJSON(et.data)}const it={};let ot=!1;for(const lt in this.morphAttributes){const ct=this.morphAttributes[lt],ut=[];for(let dt=0,ft=ct.length;dt<ft;dt++){const pt=ct[dt];ut.push(pt.toJSON(et.data))}ut.length>0&&(it[lt]=ut,ot=!0)}ot&&(et.data.morphAttributes=it,et.data.morphTargetsRelative=this.morphTargetsRelative);const at=this.groups;at.length>0&&(et.data.groups=JSON.parse(JSON.stringify(at)));const st=this.boundingSphere;return st!==null&&(et.data.boundingSphere={center:st.center.toArray(),radius:st.radius}),et}clone(){return new this.constructor().copy(this)}copy(et){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const rt={};this.name=et.name;const nt=et.index;nt!==null&&this.setIndex(nt.clone(rt));const it=et.attributes;for(const ct in it){const ut=it[ct];this.setAttribute(ct,ut.clone(rt))}const ot=et.morphAttributes;for(const ct in ot){const ut=[],dt=ot[ct];for(let ft=0,pt=dt.length;ft<pt;ft++)ut.push(dt[ft].clone(rt));this.morphAttributes[ct]=ut}this.morphTargetsRelative=et.morphTargetsRelative;const at=et.groups;for(let ct=0,ut=at.length;ct<ut;ct++){const dt=at[ct];this.addGroup(dt.start,dt.count,dt.materialIndex)}const st=et.boundingBox;st!==null&&(this.boundingBox=st.clone());const lt=et.boundingSphere;return lt!==null&&(this.boundingSphere=lt.clone()),this.drawRange.start=et.drawRange.start,this.drawRange.count=et.drawRange.count,this.userData=et.userData,et.parameters!==void 0&&(this.parameters=Object.assign({},et.parameters)),this}dispose(){this.dispatchEvent({type:"dispose"})}}const _inverseMatrix$2=new Matrix4,_ray$2=new Ray,_sphere$3=new Sphere,_vA$1=new Vector3,_vB$1=new Vector3,_vC$1=new Vector3,_tempA=new Vector3,_morphA=new Vector3,_uvA$1=new Vector2,_uvB$1=new Vector2,_uvC$1=new Vector2,_intersectionPoint=new Vector3,_intersectionPointWorld=new Vector3;class Mesh extends Object3D{constructor(et=new BufferGeometry,rt=new MeshBasicMaterial){super(),this.isMesh=!0,this.type="Mesh",this.geometry=et,this.material=rt,this.updateMorphTargets()}copy(et,rt){return super.copy(et,rt),et.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=et.morphTargetInfluences.slice()),et.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},et.morphTargetDictionary)),this.material=et.material,this.geometry=et.geometry,this}updateMorphTargets(){const rt=this.geometry.morphAttributes,nt=Object.keys(rt);if(nt.length>0){const it=rt[nt[0]];if(it!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ot=0,at=it.length;ot<at;ot++){const st=it[ot].name||String(ot);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=ot}}}}getVertexPosition(et,rt){const nt=this.geometry,it=nt.attributes.position,ot=nt.morphAttributes.position,at=nt.morphTargetsRelative;rt.fromBufferAttribute(it,et);const st=this.morphTargetInfluences;if(ot&&st){_morphA.set(0,0,0);for(let lt=0,ct=ot.length;lt<ct;lt++){const ut=st[lt],dt=ot[lt];ut!==0&&(_tempA.fromBufferAttribute(dt,et),at?_morphA.addScaledVector(_tempA,ut):_morphA.addScaledVector(_tempA.sub(rt),ut))}rt.add(_morphA)}return this.isSkinnedMesh&&this.boneTransform(et,rt),rt}raycast(et,rt){const nt=this.geometry,it=this.material,ot=this.matrixWorld;if(it===void 0||(nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere$3.copy(nt.boundingSphere),_sphere$3.applyMatrix4(ot),et.ray.intersectsSphere(_sphere$3)===!1)||(_inverseMatrix$2.copy(ot).invert(),_ray$2.copy(et.ray).applyMatrix4(_inverseMatrix$2),nt.boundingBox!==null&&_ray$2.intersectsBox(nt.boundingBox)===!1))return;let at;const st=nt.index,lt=nt.attributes.position,ct=nt.attributes.uv,ut=nt.attributes.uv2,dt=nt.groups,ft=nt.drawRange;if(st!==null)if(Array.isArray(it))for(let pt=0,mt=dt.length;pt<mt;pt++){const ht=dt[pt],gt=it[ht.materialIndex],vt=Math.max(ht.start,ft.start),yt=Math.min(st.count,Math.min(ht.start+ht.count,ft.start+ft.count));for(let bt=vt,xt=yt;bt<xt;bt+=3){const $t=st.getX(bt),Tt=st.getX(bt+1),wt=st.getX(bt+2);at=checkBufferGeometryIntersection(this,gt,et,_ray$2,ct,ut,$t,Tt,wt),at&&(at.faceIndex=Math.floor(bt/3),at.face.materialIndex=ht.materialIndex,rt.push(at))}}else{const pt=Math.max(0,ft.start),mt=Math.min(st.count,ft.start+ft.count);for(let ht=pt,gt=mt;ht<gt;ht+=3){const vt=st.getX(ht),yt=st.getX(ht+1),bt=st.getX(ht+2);at=checkBufferGeometryIntersection(this,it,et,_ray$2,ct,ut,vt,yt,bt),at&&(at.faceIndex=Math.floor(ht/3),rt.push(at))}}else if(lt!==void 0)if(Array.isArray(it))for(let pt=0,mt=dt.length;pt<mt;pt++){const ht=dt[pt],gt=it[ht.materialIndex],vt=Math.max(ht.start,ft.start),yt=Math.min(lt.count,Math.min(ht.start+ht.count,ft.start+ft.count));for(let bt=vt,xt=yt;bt<xt;bt+=3){const $t=bt,Tt=bt+1,wt=bt+2;at=checkBufferGeometryIntersection(this,gt,et,_ray$2,ct,ut,$t,Tt,wt),at&&(at.faceIndex=Math.floor(bt/3),at.face.materialIndex=ht.materialIndex,rt.push(at))}}else{const pt=Math.max(0,ft.start),mt=Math.min(lt.count,ft.start+ft.count);for(let ht=pt,gt=mt;ht<gt;ht+=3){const vt=ht,yt=ht+1,bt=ht+2;at=checkBufferGeometryIntersection(this,it,et,_ray$2,ct,ut,vt,yt,bt),at&&(at.faceIndex=Math.floor(ht/3),rt.push(at))}}}}function checkIntersection(tt,et,rt,nt,it,ot,at,st){let lt;if(et.side===BackSide?lt=nt.intersectTriangle(at,ot,it,!0,st):lt=nt.intersectTriangle(it,ot,at,et.side===FrontSide,st),lt===null)return null;_intersectionPointWorld.copy(st),_intersectionPointWorld.applyMatrix4(tt.matrixWorld);const ct=rt.ray.origin.distanceTo(_intersectionPointWorld);return ct<rt.near||ct>rt.far?null:{distance:ct,point:_intersectionPointWorld.clone(),object:tt}}function checkBufferGeometryIntersection(tt,et,rt,nt,it,ot,at,st,lt){tt.getVertexPosition(at,_vA$1),tt.getVertexPosition(st,_vB$1),tt.getVertexPosition(lt,_vC$1);const ct=checkIntersection(tt,et,rt,nt,_vA$1,_vB$1,_vC$1,_intersectionPoint);if(ct){it&&(_uvA$1.fromBufferAttribute(it,at),_uvB$1.fromBufferAttribute(it,st),_uvC$1.fromBufferAttribute(it,lt),ct.uv=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2)),ot&&(_uvA$1.fromBufferAttribute(ot,at),_uvB$1.fromBufferAttribute(ot,st),_uvC$1.fromBufferAttribute(ot,lt),ct.uv2=Triangle.getUV(_intersectionPoint,_vA$1,_vB$1,_vC$1,_uvA$1,_uvB$1,_uvC$1,new Vector2));const ut={a:at,b:st,c:lt,normal:new Vector3,materialIndex:0};Triangle.getNormal(_vA$1,_vB$1,_vC$1,ut.normal),ct.face=ut}return ct}class BoxGeometry extends BufferGeometry{constructor(et=1,rt=1,nt=1,it=1,ot=1,at=1){super(),this.type="BoxGeometry",this.parameters={width:et,height:rt,depth:nt,widthSegments:it,heightSegments:ot,depthSegments:at};const st=this;it=Math.floor(it),ot=Math.floor(ot),at=Math.floor(at);const lt=[],ct=[],ut=[],dt=[];let ft=0,pt=0;mt("z","y","x",-1,-1,nt,rt,et,at,ot,0),mt("z","y","x",1,-1,nt,rt,-et,at,ot,1),mt("x","z","y",1,1,et,nt,rt,it,at,2),mt("x","z","y",1,-1,et,nt,-rt,it,at,3),mt("x","y","z",1,-1,et,rt,nt,it,ot,4),mt("x","y","z",-1,-1,et,rt,-nt,it,ot,5),this.setIndex(lt),this.setAttribute("position",new Float32BufferAttribute(ct,3)),this.setAttribute("normal",new Float32BufferAttribute(ut,3)),this.setAttribute("uv",new Float32BufferAttribute(dt,2));function mt(ht,gt,vt,yt,bt,xt,$t,Tt,wt,At,Rt){const It=xt/wt,Lt=$t/At,Pt=xt/2,Nt=$t/2,Ot=Tt/2,Bt=wt+1,zt=At+1;let Vt=0,Ut=0;const jt=new Vector3;for(let qt=0;qt<zt;qt++){const Dt=qt*Lt-Nt;for(let Ft=0;Ft<Bt;Ft++){const Zt=Ft*It-Pt;jt[ht]=Zt*yt,jt[gt]=Dt*bt,jt[vt]=Ot,ct.push(jt.x,jt.y,jt.z),jt[ht]=0,jt[gt]=0,jt[vt]=Tt>0?1:-1,ut.push(jt.x,jt.y,jt.z),dt.push(Ft/wt),dt.push(1-qt/At),Vt+=1}}for(let qt=0;qt<At;qt++)for(let Dt=0;Dt<wt;Dt++){const Ft=ft+Dt+Bt*qt,Zt=ft+Dt+Bt*(qt+1),Kt=ft+(Dt+1)+Bt*(qt+1),ir=ft+(Dt+1)+Bt*qt;lt.push(Ft,Zt,ir),lt.push(Zt,Kt,ir),Ut+=6}st.addGroup(pt,Ut,Rt),pt+=Ut,ft+=Vt}}static fromJSON(et){return new BoxGeometry(et.width,et.height,et.depth,et.widthSegments,et.heightSegments,et.depthSegments)}}function cloneUniforms(tt){const et={};for(const rt in tt){et[rt]={};for(const nt in tt[rt]){const it=tt[rt][nt];it&&(it.isColor||it.isMatrix3||it.isMatrix4||it.isVector2||it.isVector3||it.isVector4||it.isTexture||it.isQuaternion)?et[rt][nt]=it.clone():Array.isArray(it)?et[rt][nt]=it.slice():et[rt][nt]=it}}return et}function mergeUniforms(tt){const et={};for(let rt=0;rt<tt.length;rt++){const nt=cloneUniforms(tt[rt]);for(const it in nt)et[it]=nt[it]}return et}function cloneUniformsGroups(tt){const et=[];for(let rt=0;rt<tt.length;rt++)et.push(tt[rt].clone());return et}function getUnlitUniformColorSpace(tt){return tt.getRenderTarget()===null&&tt.outputEncoding===sRGBEncoding?SRGBColorSpace:LinearSRGBColorSpace}const UniformsUtils={clone:cloneUniforms,merge:mergeUniforms};var default_vertex=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,default_fragment=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ShaderMaterial extends Material$2{constructor(et){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=default_vertex,this.fragmentShader=default_fragment,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv2:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,et!==void 0&&this.setValues(et)}copy(et){return super.copy(et),this.fragmentShader=et.fragmentShader,this.vertexShader=et.vertexShader,this.uniforms=cloneUniforms(et.uniforms),this.uniformsGroups=cloneUniformsGroups(et.uniformsGroups),this.defines=Object.assign({},et.defines),this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.fog=et.fog,this.lights=et.lights,this.clipping=et.clipping,this.extensions=Object.assign({},et.extensions),this.glslVersion=et.glslVersion,this}toJSON(et){const rt=super.toJSON(et);rt.glslVersion=this.glslVersion,rt.uniforms={};for(const it in this.uniforms){const at=this.uniforms[it].value;at&&at.isTexture?rt.uniforms[it]={type:"t",value:at.toJSON(et).uuid}:at&&at.isColor?rt.uniforms[it]={type:"c",value:at.getHex()}:at&&at.isVector2?rt.uniforms[it]={type:"v2",value:at.toArray()}:at&&at.isVector3?rt.uniforms[it]={type:"v3",value:at.toArray()}:at&&at.isVector4?rt.uniforms[it]={type:"v4",value:at.toArray()}:at&&at.isMatrix3?rt.uniforms[it]={type:"m3",value:at.toArray()}:at&&at.isMatrix4?rt.uniforms[it]={type:"m4",value:at.toArray()}:rt.uniforms[it]={value:at}}Object.keys(this.defines).length>0&&(rt.defines=this.defines),rt.vertexShader=this.vertexShader,rt.fragmentShader=this.fragmentShader;const nt={};for(const it in this.extensions)this.extensions[it]===!0&&(nt[it]=!0);return Object.keys(nt).length>0&&(rt.extensions=nt),rt}}class Camera extends Object3D{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Matrix4,this.projectionMatrix=new Matrix4,this.projectionMatrixInverse=new Matrix4}copy(et,rt){return super.copy(et,rt),this.matrixWorldInverse.copy(et.matrixWorldInverse),this.projectionMatrix.copy(et.projectionMatrix),this.projectionMatrixInverse.copy(et.projectionMatrixInverse),this}getWorldDirection(et){this.updateWorldMatrix(!0,!1);const rt=this.matrixWorld.elements;return et.set(-rt[8],-rt[9],-rt[10]).normalize()}updateMatrixWorld(et){super.updateMatrixWorld(et),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(et,rt){super.updateWorldMatrix(et,rt),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}}let PerspectiveCamera$1=class extends Camera{constructor(et=50,rt=1,nt=.1,it=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=et,this.zoom=1,this.near=nt,this.far=it,this.focus=10,this.aspect=rt,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(et,rt){return super.copy(et,rt),this.fov=et.fov,this.zoom=et.zoom,this.near=et.near,this.far=et.far,this.focus=et.focus,this.aspect=et.aspect,this.view=et.view===null?null:Object.assign({},et.view),this.filmGauge=et.filmGauge,this.filmOffset=et.filmOffset,this}setFocalLength(et){const rt=.5*this.getFilmHeight()/et;this.fov=RAD2DEG*2*Math.atan(rt),this.updateProjectionMatrix()}getFocalLength(){const et=Math.tan(DEG2RAD*.5*this.fov);return .5*this.getFilmHeight()/et}getEffectiveFOV(){return RAD2DEG*2*Math.atan(Math.tan(DEG2RAD*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(et,rt,nt,it,ot,at){this.aspect=et/rt,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=et,this.view.fullHeight=rt,this.view.offsetX=nt,this.view.offsetY=it,this.view.width=ot,this.view.height=at,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const et=this.near;let rt=et*Math.tan(DEG2RAD*.5*this.fov)/this.zoom,nt=2*rt,it=this.aspect*nt,ot=-.5*it;const at=this.view;if(this.view!==null&&this.view.enabled){const lt=at.fullWidth,ct=at.fullHeight;ot+=at.offsetX*it/lt,rt-=at.offsetY*nt/ct,it*=at.width/lt,nt*=at.height/ct}const st=this.filmOffset;st!==0&&(ot+=et*st/this.getFilmWidth()),this.projectionMatrix.makePerspective(ot,ot+it,rt,rt-nt,et,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(et){const rt=super.toJSON(et);return rt.object.fov=this.fov,rt.object.zoom=this.zoom,rt.object.near=this.near,rt.object.far=this.far,rt.object.focus=this.focus,rt.object.aspect=this.aspect,this.view!==null&&(rt.object.view=Object.assign({},this.view)),rt.object.filmGauge=this.filmGauge,rt.object.filmOffset=this.filmOffset,rt}};const fov=-90,aspect=1;class CubeCamera extends Object3D{constructor(et,rt,nt){super(),this.type="CubeCamera",this.renderTarget=nt;const it=new PerspectiveCamera$1(fov,aspect,et,rt);it.layers=this.layers,it.up.set(0,1,0),it.lookAt(1,0,0),this.add(it);const ot=new PerspectiveCamera$1(fov,aspect,et,rt);ot.layers=this.layers,ot.up.set(0,1,0),ot.lookAt(-1,0,0),this.add(ot);const at=new PerspectiveCamera$1(fov,aspect,et,rt);at.layers=this.layers,at.up.set(0,0,-1),at.lookAt(0,1,0),this.add(at);const st=new PerspectiveCamera$1(fov,aspect,et,rt);st.layers=this.layers,st.up.set(0,0,1),st.lookAt(0,-1,0),this.add(st);const lt=new PerspectiveCamera$1(fov,aspect,et,rt);lt.layers=this.layers,lt.up.set(0,1,0),lt.lookAt(0,0,1),this.add(lt);const ct=new PerspectiveCamera$1(fov,aspect,et,rt);ct.layers=this.layers,ct.up.set(0,1,0),ct.lookAt(0,0,-1),this.add(ct)}update(et,rt){this.parent===null&&this.updateMatrixWorld();const nt=this.renderTarget,[it,ot,at,st,lt,ct]=this.children,ut=et.getRenderTarget(),dt=et.toneMapping,ft=et.xr.enabled;et.toneMapping=NoToneMapping,et.xr.enabled=!1;const pt=nt.texture.generateMipmaps;nt.texture.generateMipmaps=!1,et.setRenderTarget(nt,0),et.render(rt,it),et.setRenderTarget(nt,1),et.render(rt,ot),et.setRenderTarget(nt,2),et.render(rt,at),et.setRenderTarget(nt,3),et.render(rt,st),et.setRenderTarget(nt,4),et.render(rt,lt),nt.texture.generateMipmaps=pt,et.setRenderTarget(nt,5),et.render(rt,ct),et.setRenderTarget(ut),et.toneMapping=dt,et.xr.enabled=ft,nt.texture.needsPMREMUpdate=!0}}class CubeTexture extends Texture{constructor(et,rt,nt,it,ot,at,st,lt,ct,ut){et=et!==void 0?et:[],rt=rt!==void 0?rt:CubeReflectionMapping,super(et,rt,nt,it,ot,at,st,lt,ct,ut),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(et){this.image=et}}class WebGLCubeRenderTarget extends WebGLRenderTarget{constructor(et=1,rt={}){super(et,et,rt),this.isWebGLCubeRenderTarget=!0;const nt={width:et,height:et,depth:1},it=[nt,nt,nt,nt,nt,nt];this.texture=new CubeTexture(it,rt.mapping,rt.wrapS,rt.wrapT,rt.magFilter,rt.minFilter,rt.format,rt.type,rt.anisotropy,rt.encoding),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=rt.generateMipmaps!==void 0?rt.generateMipmaps:!1,this.texture.minFilter=rt.minFilter!==void 0?rt.minFilter:LinearFilter}fromEquirectangularTexture(et,rt){this.texture.type=rt.type,this.texture.encoding=rt.encoding,this.texture.generateMipmaps=rt.generateMipmaps,this.texture.minFilter=rt.minFilter,this.texture.magFilter=rt.magFilter;const nt={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},it=new BoxGeometry(5,5,5),ot=new ShaderMaterial({name:"CubemapFromEquirect",uniforms:cloneUniforms(nt.uniforms),vertexShader:nt.vertexShader,fragmentShader:nt.fragmentShader,side:BackSide,blending:NoBlending});ot.uniforms.tEquirect.value=rt;const at=new Mesh(it,ot),st=rt.minFilter;return rt.minFilter===LinearMipmapLinearFilter&&(rt.minFilter=LinearFilter),new CubeCamera(1,10,this).update(et,at),rt.minFilter=st,at.geometry.dispose(),at.material.dispose(),this}clear(et,rt,nt,it){const ot=et.getRenderTarget();for(let at=0;at<6;at++)et.setRenderTarget(this,at),et.clear(rt,nt,it);et.setRenderTarget(ot)}}const _vector1=new Vector3,_vector2=new Vector3,_normalMatrix=new Matrix3;let Plane$1=class{constructor(et=new Vector3(1,0,0),rt=0){this.isPlane=!0,this.normal=et,this.constant=rt}set(et,rt){return this.normal.copy(et),this.constant=rt,this}setComponents(et,rt,nt,it){return this.normal.set(et,rt,nt),this.constant=it,this}setFromNormalAndCoplanarPoint(et,rt){return this.normal.copy(et),this.constant=-rt.dot(this.normal),this}setFromCoplanarPoints(et,rt,nt){const it=_vector1.subVectors(nt,rt).cross(_vector2.subVectors(et,rt)).normalize();return this.setFromNormalAndCoplanarPoint(it,et),this}copy(et){return this.normal.copy(et.normal),this.constant=et.constant,this}normalize(){const et=1/this.normal.length();return this.normal.multiplyScalar(et),this.constant*=et,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(et){return this.normal.dot(et)+this.constant}distanceToSphere(et){return this.distanceToPoint(et.center)-et.radius}projectPoint(et,rt){return rt.copy(this.normal).multiplyScalar(-this.distanceToPoint(et)).add(et)}intersectLine(et,rt){const nt=et.delta(_vector1),it=this.normal.dot(nt);if(it===0)return this.distanceToPoint(et.start)===0?rt.copy(et.start):null;const ot=-(et.start.dot(this.normal)+this.constant)/it;return ot<0||ot>1?null:rt.copy(nt).multiplyScalar(ot).add(et.start)}intersectsLine(et){const rt=this.distanceToPoint(et.start),nt=this.distanceToPoint(et.end);return rt<0&&nt>0||nt<0&&rt>0}intersectsBox(et){return et.intersectsPlane(this)}intersectsSphere(et){return et.intersectsPlane(this)}coplanarPoint(et){return et.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(et,rt){const nt=rt||_normalMatrix.getNormalMatrix(et),it=this.coplanarPoint(_vector1).applyMatrix4(et),ot=this.normal.applyMatrix3(nt).normalize();return this.constant=-it.dot(ot),this}translate(et){return this.constant-=et.dot(this.normal),this}equals(et){return et.normal.equals(this.normal)&&et.constant===this.constant}clone(){return new this.constructor().copy(this)}};const _sphere$2=new Sphere,_vector$7=new Vector3;class Frustum{constructor(et=new Plane$1,rt=new Plane$1,nt=new Plane$1,it=new Plane$1,ot=new Plane$1,at=new Plane$1){this.planes=[et,rt,nt,it,ot,at]}set(et,rt,nt,it,ot,at){const st=this.planes;return st[0].copy(et),st[1].copy(rt),st[2].copy(nt),st[3].copy(it),st[4].copy(ot),st[5].copy(at),this}copy(et){const rt=this.planes;for(let nt=0;nt<6;nt++)rt[nt].copy(et.planes[nt]);return this}setFromProjectionMatrix(et){const rt=this.planes,nt=et.elements,it=nt[0],ot=nt[1],at=nt[2],st=nt[3],lt=nt[4],ct=nt[5],ut=nt[6],dt=nt[7],ft=nt[8],pt=nt[9],mt=nt[10],ht=nt[11],gt=nt[12],vt=nt[13],yt=nt[14],bt=nt[15];return rt[0].setComponents(st-it,dt-lt,ht-ft,bt-gt).normalize(),rt[1].setComponents(st+it,dt+lt,ht+ft,bt+gt).normalize(),rt[2].setComponents(st+ot,dt+ct,ht+pt,bt+vt).normalize(),rt[3].setComponents(st-ot,dt-ct,ht-pt,bt-vt).normalize(),rt[4].setComponents(st-at,dt-ut,ht-mt,bt-yt).normalize(),rt[5].setComponents(st+at,dt+ut,ht+mt,bt+yt).normalize(),this}intersectsObject(et){const rt=et.geometry;return rt.boundingSphere===null&&rt.computeBoundingSphere(),_sphere$2.copy(rt.boundingSphere).applyMatrix4(et.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSprite(et){return _sphere$2.center.set(0,0,0),_sphere$2.radius=.7071067811865476,_sphere$2.applyMatrix4(et.matrixWorld),this.intersectsSphere(_sphere$2)}intersectsSphere(et){const rt=this.planes,nt=et.center,it=-et.radius;for(let ot=0;ot<6;ot++)if(rt[ot].distanceToPoint(nt)<it)return!1;return!0}intersectsBox(et){const rt=this.planes;for(let nt=0;nt<6;nt++){const it=rt[nt];if(_vector$7.x=it.normal.x>0?et.max.x:et.min.x,_vector$7.y=it.normal.y>0?et.max.y:et.min.y,_vector$7.z=it.normal.z>0?et.max.z:et.min.z,it.distanceToPoint(_vector$7)<0)return!1}return!0}containsPoint(et){const rt=this.planes;for(let nt=0;nt<6;nt++)if(rt[nt].distanceToPoint(et)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function WebGLAnimation(){let tt=null,et=!1,rt=null,nt=null;function it(ot,at){rt(ot,at),nt=tt.requestAnimationFrame(it)}return{start:function(){et!==!0&&rt!==null&&(nt=tt.requestAnimationFrame(it),et=!0)},stop:function(){tt.cancelAnimationFrame(nt),et=!1},setAnimationLoop:function(ot){rt=ot},setContext:function(ot){tt=ot}}}function WebGLAttributes(tt,et){const rt=et.isWebGL2,nt=new WeakMap;function it(ct,ut){const dt=ct.array,ft=ct.usage,pt=tt.createBuffer();tt.bindBuffer(ut,pt),tt.bufferData(ut,dt,ft),ct.onUploadCallback();let mt;if(dt instanceof Float32Array)mt=5126;else if(dt instanceof Uint16Array)if(ct.isFloat16BufferAttribute)if(rt)mt=5131;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else mt=5123;else if(dt instanceof Int16Array)mt=5122;else if(dt instanceof Uint32Array)mt=5125;else if(dt instanceof Int32Array)mt=5124;else if(dt instanceof Int8Array)mt=5120;else if(dt instanceof Uint8Array)mt=5121;else if(dt instanceof Uint8ClampedArray)mt=5121;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+dt);return{buffer:pt,type:mt,bytesPerElement:dt.BYTES_PER_ELEMENT,version:ct.version}}function ot(ct,ut,dt){const ft=ut.array,pt=ut.updateRange;tt.bindBuffer(dt,ct),pt.count===-1?tt.bufferSubData(dt,0,ft):(rt?tt.bufferSubData(dt,pt.offset*ft.BYTES_PER_ELEMENT,ft,pt.offset,pt.count):tt.bufferSubData(dt,pt.offset*ft.BYTES_PER_ELEMENT,ft.subarray(pt.offset,pt.offset+pt.count)),pt.count=-1),ut.onUploadCallback()}function at(ct){return ct.isInterleavedBufferAttribute&&(ct=ct.data),nt.get(ct)}function st(ct){ct.isInterleavedBufferAttribute&&(ct=ct.data);const ut=nt.get(ct);ut&&(tt.deleteBuffer(ut.buffer),nt.delete(ct))}function lt(ct,ut){if(ct.isGLBufferAttribute){const ft=nt.get(ct);(!ft||ft.version<ct.version)&&nt.set(ct,{buffer:ct.buffer,type:ct.type,bytesPerElement:ct.elementSize,version:ct.version});return}ct.isInterleavedBufferAttribute&&(ct=ct.data);const dt=nt.get(ct);dt===void 0?nt.set(ct,it(ct,ut)):dt.version<ct.version&&(ot(dt.buffer,ct,ut),dt.version=ct.version)}return{get:at,remove:st,update:lt}}class PlaneGeometry extends BufferGeometry{constructor(et=1,rt=1,nt=1,it=1){super(),this.type="PlaneGeometry",this.parameters={width:et,height:rt,widthSegments:nt,heightSegments:it};const ot=et/2,at=rt/2,st=Math.floor(nt),lt=Math.floor(it),ct=st+1,ut=lt+1,dt=et/st,ft=rt/lt,pt=[],mt=[],ht=[],gt=[];for(let vt=0;vt<ut;vt++){const yt=vt*ft-at;for(let bt=0;bt<ct;bt++){const xt=bt*dt-ot;mt.push(xt,-yt,0),ht.push(0,0,1),gt.push(bt/st),gt.push(1-vt/lt)}}for(let vt=0;vt<lt;vt++)for(let yt=0;yt<st;yt++){const bt=yt+ct*vt,xt=yt+ct*(vt+1),$t=yt+1+ct*(vt+1),Tt=yt+1+ct*vt;pt.push(bt,xt,Tt),pt.push(xt,$t,Tt)}this.setIndex(pt),this.setAttribute("position",new Float32BufferAttribute(mt,3)),this.setAttribute("normal",new Float32BufferAttribute(ht,3)),this.setAttribute("uv",new Float32BufferAttribute(gt,2))}static fromJSON(et){return new PlaneGeometry(et.width,et.height,et.widthSegments,et.heightSegments)}}var alphamap_fragment=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vUv ).g;
#endif`,alphamap_pars_fragment=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,alphatest_fragment=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,alphatest_pars_fragment=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,aomap_fragment=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vUv2 ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometry.normal, geometry.viewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,aomap_pars_fragment=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,begin_vertex="vec3 transformed = vec3( position );",beginnormal_vertex=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,bsdfs=`vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float roughness ) {
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
	float D = D_GGX( alpha, dotNH );
	return F * ( V * D );
}
#ifdef USE_IRIDESCENCE
	vec3 BRDF_GGX_Iridescence( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 f0, const in float f90, const in float iridescence, const in vec3 iridescenceFresnel, const in float roughness ) {
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = mix( F_Schlick( f0, f90, dotVH ), iridescenceFresnel, iridescence );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif`,iridescence_fragment=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			 return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float R21 = R12;
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,bumpmap_pars_fragment=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vUv );
		vec2 dSTdy = dFdy( vUv );
		float Hll = bumpScale * texture2D( bumpMap, vUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,clipping_planes_fragment=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,clipping_planes_pars_fragment=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,clipping_planes_pars_vertex=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,clipping_planes_vertex=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,color_fragment=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,color_pars_fragment=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,color_pars_vertex=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,color_vertex=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,common$2=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
struct GeometricContext {
	vec3 position;
	vec3 normal;
	vec3 viewDir;
#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal;
#endif
};
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}`,cube_uv_reflection_fragment=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,defaultnormal_vertex=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,displacementmap_pars_vertex=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,displacementmap_vertex=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vUv ).x * displacementScale + displacementBias );
#endif`,emissivemap_fragment=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,emissivemap_pars_fragment=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,encodings_fragment="gl_FragColor = linearToOutputTexel( gl_FragColor );",encodings_pars_fragment=`vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}`,envmap_fragment=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,envmap_common_pars_fragment=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,envmap_pars_fragment=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,envmap_pars_vertex=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,envmap_vertex=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,fog_vertex=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,fog_pars_vertex=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,fog_fragment=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,fog_pars_fragment=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,gradientmap_pars_fragment=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,lightmap_fragment=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vUv2 );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,lightmap_pars_fragment=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,lights_lambert_fragment=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,lights_lambert_pars_fragment=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in GeometricContext geometry, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,lights_pars_begin=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
uniform vec3 lightProbe[ 9 ];
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( PHYSICALLY_CORRECT_LIGHTS )
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#else
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, const in GeometricContext geometry, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometry.position;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in GeometricContext geometry, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometry.position;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,envmap_physical_pars_fragment=`#if defined( USE_ENVMAP )
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#if defined( ENVMAP_TYPE_CUBE_UV )
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
#endif`,lights_toon_fragment=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,lights_toon_pars_fragment=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometry.normal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in GeometricContext geometry, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,lights_phong_fragment=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,lights_phong_pars_fragment=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in GeometricContext geometry, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,lights_physical_fragment=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULARINTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vUv ).a;
		#endif
		#ifdef USE_SPECULARCOLORMAP
			specularColorFactor *= texture2D( specularColorMap, vUv ).rgb;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEENCOLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEENROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vUv ).a;
	#endif
#endif`,lights_physical_pars_fragment=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometry.normal;
		vec3 viewDir = geometry.viewDir;
		vec3 position = geometry.position;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometry.normal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometry.clearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.clearcoatNormal, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometry.viewDir, geometry.normal, material.sheenColor, material.sheenRoughness );
	#endif
	#ifdef USE_IRIDESCENCE
		reflectedLight.directSpecular += irradiance * BRDF_GGX_Iridescence( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness );
	#else
		reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometry.viewDir, geometry.normal, material.specularColor, material.specularF90, material.roughness );
	#endif
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in GeometricContext geometry, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometry.clearcoatNormal, geometry.viewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometry.normal, geometry.viewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometry.normal, geometry.viewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,lights_fragment_begin=`
GeometricContext geometry;
geometry.position = - vViewPosition;
geometry.normal = normal;
geometry.viewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
#ifdef USE_CLEARCOAT
	geometry.clearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometry.viewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometry, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, geometry, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometry, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	irradiance += getLightProbeIrradiance( lightProbe, geometry.normal );
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometry.normal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,lights_fragment_maps=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometry.normal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	radiance += getIBLRadiance( geometry.viewDir, geometry.normal, material.roughness );
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometry.viewDir, geometry.clearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,lights_fragment_end=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometry, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometry, material, reflectedLight );
#endif`,logdepthbuf_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,logdepthbuf_pars_fragment=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,logdepthbuf_pars_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,logdepthbuf_vertex=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,map_fragment=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,map_pars_fragment=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,map_particle_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,map_particle_pars_fragment=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	uniform mat3 uvTransform;
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,metalnessmap_fragment=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vUv );
	metalnessFactor *= texelMetalness.b;
#endif`,metalnessmap_pars_fragment=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,morphcolor_vertex=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,morphnormal_vertex=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,morphtarget_pars_vertex=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,morphtarget_vertex=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,normal_fragment_begin=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	#ifdef USE_TANGENT
		vec3 tangent = normalize( vTangent );
		vec3 bitangent = normalize( vBitangent );
		#ifdef DOUBLE_SIDED
			tangent = tangent * faceDirection;
			bitangent = bitangent * faceDirection;
		#endif
		#if defined( TANGENTSPACE_NORMALMAP ) || defined( USE_CLEARCOAT_NORMALMAP )
			mat3 vTBN = mat3( tangent, bitangent, normal );
		#endif
	#endif
#endif
vec3 geometryNormal = normal;`,normal_fragment_maps=`#ifdef OBJECTSPACE_NORMALMAP
	normal = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( TANGENTSPACE_NORMALMAP )
	vec3 mapN = texture2D( normalMap, vUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	#ifdef USE_TANGENT
		normal = normalize( vTBN * mapN );
	#else
		normal = perturbNormal2Arb( - vViewPosition, normal, mapN, faceDirection );
	#endif
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,normal_pars_fragment=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_pars_vertex=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,normal_vertex=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,normalmap_pars_fragment=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef OBJECTSPACE_NORMALMAP
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( TANGENTSPACE_NORMALMAP ) || defined ( USE_CLEARCOAT_NORMALMAP ) )
	vec3 perturbNormal2Arb( vec3 eye_pos, vec3 surf_norm, vec3 mapN, float faceDirection ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( vUv.st );
		vec2 st1 = dFdy( vUv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : faceDirection * inversesqrt( det );
		return normalize( T * ( mapN.x * scale ) + B * ( mapN.y * scale ) + N * mapN.z );
	}
#endif`,clearcoat_normal_fragment_begin=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = geometryNormal;
#endif`,clearcoat_normal_fragment_maps=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	#ifdef USE_TANGENT
		clearcoatNormal = normalize( vTBN * clearcoatMapN );
	#else
		clearcoatNormal = perturbNormal2Arb( - vViewPosition, clearcoatNormal, clearcoatMapN, faceDirection );
	#endif
#endif`,clearcoat_pars_fragment=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif`,iridescence_pars_fragment=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,output_fragment=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha + 0.1;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,packing=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float linearClipZ, const in float near, const in float far ) {
	return linearClipZ * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float invClipZ, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * invClipZ - far );
}`,premultiplied_alpha_fragment=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,project_vertex=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,dithering_fragment=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,dithering_pars_fragment=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,roughnessmap_fragment=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vUv );
	roughnessFactor *= texelRoughness.g;
#endif`,roughnessmap_pars_fragment=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,shadowmap_pars_fragment=`#if NUM_SPOT_LIGHT_COORDS > 0
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
  uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,shadowmap_pars_vertex=`#if NUM_SPOT_LIGHT_COORDS > 0
  uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
  varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,shadowmap_vertex=`#if defined( USE_SHADOWMAP ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	#if NUM_DIR_LIGHT_SHADOWS > 0 || NUM_SPOT_LIGHT_COORDS > 0 || NUM_POINT_LIGHT_SHADOWS > 0
		vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		vec4 shadowWorldPosition;
	#endif
	#if NUM_DIR_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
		vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
		vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
	#endif
#endif`,shadowmask_pars_fragment=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,skinbase_vertex=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,skinning_pars_vertex=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,skinning_vertex=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,skinnormal_vertex=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,specularmap_fragment=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,specularmap_pars_fragment=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,tonemapping_fragment=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,tonemapping_pars_fragment=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return toneMappingExposure * color;
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,transmission_fragment=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmission = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmission.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmission.rgb, material.transmission );
#endif`,transmission_pars_fragment=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float framebufferLod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		#ifdef texture2DLodEXT
			return texture2DLodEXT( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#else
			return texture2D( transmissionSamplerMap, fragCoord.xy, framebufferLod );
		#endif
	}
	vec3 applyVolumeAttenuation( const in vec3 radiance, const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return radiance;
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance * radiance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 attenuatedColor = applyVolumeAttenuation( transmittedLight.rgb, length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		return vec4( ( 1.0 - F ) * attenuatedColor * diffuseColor, transmittedLight.a );
	}
#endif`,uv_pars_fragment=`#if ( defined( USE_UV ) && ! defined( UVS_VERTEX_ONLY ) )
	varying vec2 vUv;
#endif`,uv_pars_vertex=`#ifdef USE_UV
	#ifdef UVS_VERTEX_ONLY
		vec2 vUv;
	#else
		varying vec2 vUv;
	#endif
	uniform mat3 uvTransform;
#endif`,uv_vertex=`#ifdef USE_UV
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
#endif`,uv2_pars_fragment=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	varying vec2 vUv2;
#endif`,uv2_pars_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	attribute vec2 uv2;
	varying vec2 vUv2;
	uniform mat3 uv2Transform;
#endif`,uv2_vertex=`#if defined( USE_LIGHTMAP ) || defined( USE_AOMAP )
	vUv2 = ( uv2Transform * vec3( uv2, 1 ) ).xy;
#endif`,worldpos_vertex=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const vertex$h=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,fragment$h=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$g=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$g=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$f=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,fragment$f=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$e=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,fragment$e=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,vertex$d=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,fragment$d=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,vertex$c=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,fragment$c=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
}`,vertex$b=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$b=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$a=`#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,fragment$a=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vUv2 );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$9=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$9=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$8=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,fragment$8=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$7=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	vViewPosition = - mvPosition.xyz;
#endif
}`,fragment$7=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( TANGENTSPACE_NORMALMAP )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,vertex$6=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$6=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$5=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,fragment$5=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULARINTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
	#ifdef USE_SPECULARCOLORMAP
		uniform sampler2D specularColorMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEENCOLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEENROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <bsdfs>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometry.clearcoatNormal, geometry.viewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$4=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <uv2_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <uv2_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$4=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <uv2_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vertex$3=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,fragment$3=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,vertex$2=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,fragment$2=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,vertex$1=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,fragment$1=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <output_fragment>
	#include <tonemapping_fragment>
	#include <encodings_fragment>
	#include <fog_fragment>
}`,ShaderChunk={alphamap_fragment,alphamap_pars_fragment,alphatest_fragment,alphatest_pars_fragment,aomap_fragment,aomap_pars_fragment,begin_vertex,beginnormal_vertex,bsdfs,iridescence_fragment,bumpmap_pars_fragment,clipping_planes_fragment,clipping_planes_pars_fragment,clipping_planes_pars_vertex,clipping_planes_vertex,color_fragment,color_pars_fragment,color_pars_vertex,color_vertex,common:common$2,cube_uv_reflection_fragment,defaultnormal_vertex,displacementmap_pars_vertex,displacementmap_vertex,emissivemap_fragment,emissivemap_pars_fragment,encodings_fragment,encodings_pars_fragment,envmap_fragment,envmap_common_pars_fragment,envmap_pars_fragment,envmap_pars_vertex,envmap_physical_pars_fragment,envmap_vertex,fog_vertex,fog_pars_vertex,fog_fragment,fog_pars_fragment,gradientmap_pars_fragment,lightmap_fragment,lightmap_pars_fragment,lights_lambert_fragment,lights_lambert_pars_fragment,lights_pars_begin,lights_toon_fragment,lights_toon_pars_fragment,lights_phong_fragment,lights_phong_pars_fragment,lights_physical_fragment,lights_physical_pars_fragment,lights_fragment_begin,lights_fragment_maps,lights_fragment_end,logdepthbuf_fragment,logdepthbuf_pars_fragment,logdepthbuf_pars_vertex,logdepthbuf_vertex,map_fragment,map_pars_fragment,map_particle_fragment,map_particle_pars_fragment,metalnessmap_fragment,metalnessmap_pars_fragment,morphcolor_vertex,morphnormal_vertex,morphtarget_pars_vertex,morphtarget_vertex,normal_fragment_begin,normal_fragment_maps,normal_pars_fragment,normal_pars_vertex,normal_vertex,normalmap_pars_fragment,clearcoat_normal_fragment_begin,clearcoat_normal_fragment_maps,clearcoat_pars_fragment,iridescence_pars_fragment,output_fragment,packing,premultiplied_alpha_fragment,project_vertex,dithering_fragment,dithering_pars_fragment,roughnessmap_fragment,roughnessmap_pars_fragment,shadowmap_pars_fragment,shadowmap_pars_vertex,shadowmap_vertex,shadowmask_pars_fragment,skinbase_vertex,skinning_pars_vertex,skinning_vertex,skinnormal_vertex,specularmap_fragment,specularmap_pars_fragment,tonemapping_fragment,tonemapping_pars_fragment,transmission_fragment,transmission_pars_fragment,uv_pars_fragment,uv_pars_vertex,uv_vertex,uv2_pars_fragment,uv2_pars_vertex,uv2_vertex,worldpos_vertex,background_vert:vertex$h,background_frag:fragment$h,backgroundCube_vert:vertex$g,backgroundCube_frag:fragment$g,cube_vert:vertex$f,cube_frag:fragment$f,depth_vert:vertex$e,depth_frag:fragment$e,distanceRGBA_vert:vertex$d,distanceRGBA_frag:fragment$d,equirect_vert:vertex$c,equirect_frag:fragment$c,linedashed_vert:vertex$b,linedashed_frag:fragment$b,meshbasic_vert:vertex$a,meshbasic_frag:fragment$a,meshlambert_vert:vertex$9,meshlambert_frag:fragment$9,meshmatcap_vert:vertex$8,meshmatcap_frag:fragment$8,meshnormal_vert:vertex$7,meshnormal_frag:fragment$7,meshphong_vert:vertex$6,meshphong_frag:fragment$6,meshphysical_vert:vertex$5,meshphysical_frag:fragment$5,meshtoon_vert:vertex$4,meshtoon_frag:fragment$4,points_vert:vertex$3,points_frag:fragment$3,shadow_vert:vertex$2,shadow_frag:fragment$2,sprite_vert:vertex$1,sprite_frag:fragment$1},UniformsLib={common:{diffuse:{value:new Color(16777215)},opacity:{value:1},map:{value:null},uvTransform:{value:new Matrix3},uv2Transform:{value:new Matrix3},alphaMap:{value:null},alphaTest:{value:0}},specularmap:{specularMap:{value:null}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1}},emissivemap:{emissiveMap:{value:null}},bumpmap:{bumpMap:{value:null},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalScale:{value:new Vector2(1,1)}},displacementmap:{displacementMap:{value:null},displacementScale:{value:1},displacementBias:{value:0}},roughnessmap:{roughnessMap:{value:null}},metalnessmap:{metalnessMap:{value:null}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new Color(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new Color(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}},sprite:{diffuse:{value:new Color(16777215)},opacity:{value:1},center:{value:new Vector2(.5,.5)},rotation:{value:0},map:{value:null},alphaMap:{value:null},alphaTest:{value:0},uvTransform:{value:new Matrix3}}},ShaderLib={basic:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.fog]),vertexShader:ShaderChunk.meshbasic_vert,fragmentShader:ShaderChunk.meshbasic_frag},lambert:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshlambert_vert,fragmentShader:ShaderChunk.meshlambert_frag},phong:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.specularmap,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},specular:{value:new Color(1118481)},shininess:{value:30}}]),vertexShader:ShaderChunk.meshphong_vert,fragmentShader:ShaderChunk.meshphong_frag},standard:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.envmap,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.roughnessmap,UniformsLib.metalnessmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag},toon:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.aomap,UniformsLib.lightmap,UniformsLib.emissivemap,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.gradientmap,UniformsLib.fog,UniformsLib.lights,{emissive:{value:new Color(0)}}]),vertexShader:ShaderChunk.meshtoon_vert,fragmentShader:ShaderChunk.meshtoon_frag},matcap:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,UniformsLib.fog,{matcap:{value:null}}]),vertexShader:ShaderChunk.meshmatcap_vert,fragmentShader:ShaderChunk.meshmatcap_frag},points:{uniforms:mergeUniforms([UniformsLib.points,UniformsLib.fog]),vertexShader:ShaderChunk.points_vert,fragmentShader:ShaderChunk.points_frag},dashed:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:ShaderChunk.linedashed_vert,fragmentShader:ShaderChunk.linedashed_frag},depth:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap]),vertexShader:ShaderChunk.depth_vert,fragmentShader:ShaderChunk.depth_frag},normal:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.bumpmap,UniformsLib.normalmap,UniformsLib.displacementmap,{opacity:{value:1}}]),vertexShader:ShaderChunk.meshnormal_vert,fragmentShader:ShaderChunk.meshnormal_frag},sprite:{uniforms:mergeUniforms([UniformsLib.sprite,UniformsLib.fog]),vertexShader:ShaderChunk.sprite_vert,fragmentShader:ShaderChunk.sprite_frag},background:{uniforms:{uvTransform:{value:new Matrix3},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.background_vert,fragmentShader:ShaderChunk.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:ShaderChunk.backgroundCube_vert,fragmentShader:ShaderChunk.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:ShaderChunk.cube_vert,fragmentShader:ShaderChunk.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:ShaderChunk.equirect_vert,fragmentShader:ShaderChunk.equirect_frag},distanceRGBA:{uniforms:mergeUniforms([UniformsLib.common,UniformsLib.displacementmap,{referencePosition:{value:new Vector3},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:ShaderChunk.distanceRGBA_vert,fragmentShader:ShaderChunk.distanceRGBA_frag},shadow:{uniforms:mergeUniforms([UniformsLib.lights,UniformsLib.fog,{color:{value:new Color(0)},opacity:{value:1}}]),vertexShader:ShaderChunk.shadow_vert,fragmentShader:ShaderChunk.shadow_frag}};ShaderLib.physical={uniforms:mergeUniforms([ShaderLib.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatNormalScale:{value:new Vector2(1,1)},clearcoatNormalMap:{value:null},iridescence:{value:0},iridescenceMap:{value:null},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},sheen:{value:0},sheenColor:{value:new Color(0)},sheenColorMap:{value:null},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},transmission:{value:0},transmissionMap:{value:null},transmissionSamplerSize:{value:new Vector2},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},attenuationDistance:{value:0},attenuationColor:{value:new Color(0)},specularIntensity:{value:1},specularIntensityMap:{value:null},specularColor:{value:new Color(1,1,1)},specularColorMap:{value:null}}]),vertexShader:ShaderChunk.meshphysical_vert,fragmentShader:ShaderChunk.meshphysical_frag};const _rgb={r:0,b:0,g:0};function WebGLBackground(tt,et,rt,nt,it,ot,at){const st=new Color(0);let lt=ot===!0?0:1,ct,ut,dt=null,ft=0,pt=null;function mt(gt,vt){let yt=!1,bt=vt.isScene===!0?vt.background:null;bt&&bt.isTexture&&(bt=(vt.backgroundBlurriness>0?rt:et).get(bt));const xt=tt.xr,$t=xt.getSession&&xt.getSession();$t&&$t.environmentBlendMode==="additive"&&(bt=null),bt===null?ht(st,lt):bt&&bt.isColor&&(ht(bt,1),yt=!0),(tt.autoClear||yt)&&tt.clear(tt.autoClearColor,tt.autoClearDepth,tt.autoClearStencil),bt&&(bt.isCubeTexture||bt.mapping===CubeUVReflectionMapping)?(ut===void 0&&(ut=new Mesh(new BoxGeometry(1,1,1),new ShaderMaterial({name:"BackgroundCubeMaterial",uniforms:cloneUniforms(ShaderLib.backgroundCube.uniforms),vertexShader:ShaderLib.backgroundCube.vertexShader,fragmentShader:ShaderLib.backgroundCube.fragmentShader,side:BackSide,depthTest:!1,depthWrite:!1,fog:!1})),ut.geometry.deleteAttribute("normal"),ut.geometry.deleteAttribute("uv"),ut.onBeforeRender=function(Tt,wt,At){this.matrixWorld.copyPosition(At.matrixWorld)},Object.defineProperty(ut.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),it.update(ut)),ut.material.uniforms.envMap.value=bt,ut.material.uniforms.flipEnvMap.value=bt.isCubeTexture&&bt.isRenderTargetTexture===!1?-1:1,ut.material.uniforms.backgroundBlurriness.value=vt.backgroundBlurriness,ut.material.uniforms.backgroundIntensity.value=vt.backgroundIntensity,ut.material.toneMapped=bt.encoding!==sRGBEncoding,(dt!==bt||ft!==bt.version||pt!==tt.toneMapping)&&(ut.material.needsUpdate=!0,dt=bt,ft=bt.version,pt=tt.toneMapping),ut.layers.enableAll(),gt.unshift(ut,ut.geometry,ut.material,0,0,null)):bt&&bt.isTexture&&(ct===void 0&&(ct=new Mesh(new PlaneGeometry(2,2),new ShaderMaterial({name:"BackgroundMaterial",uniforms:cloneUniforms(ShaderLib.background.uniforms),vertexShader:ShaderLib.background.vertexShader,fragmentShader:ShaderLib.background.fragmentShader,side:FrontSide,depthTest:!1,depthWrite:!1,fog:!1})),ct.geometry.deleteAttribute("normal"),Object.defineProperty(ct.material,"map",{get:function(){return this.uniforms.t2D.value}}),it.update(ct)),ct.material.uniforms.t2D.value=bt,ct.material.uniforms.backgroundIntensity.value=vt.backgroundIntensity,ct.material.toneMapped=bt.encoding!==sRGBEncoding,bt.matrixAutoUpdate===!0&&bt.updateMatrix(),ct.material.uniforms.uvTransform.value.copy(bt.matrix),(dt!==bt||ft!==bt.version||pt!==tt.toneMapping)&&(ct.material.needsUpdate=!0,dt=bt,ft=bt.version,pt=tt.toneMapping),ct.layers.enableAll(),gt.unshift(ct,ct.geometry,ct.material,0,0,null))}function ht(gt,vt){gt.getRGB(_rgb,getUnlitUniformColorSpace(tt)),nt.buffers.color.setClear(_rgb.r,_rgb.g,_rgb.b,vt,at)}return{getClearColor:function(){return st},setClearColor:function(gt,vt=1){st.set(gt),lt=vt,ht(st,lt)},getClearAlpha:function(){return lt},setClearAlpha:function(gt){lt=gt,ht(st,lt)},render:mt}}function WebGLBindingStates(tt,et,rt,nt){const it=tt.getParameter(34921),ot=nt.isWebGL2?null:et.get("OES_vertex_array_object"),at=nt.isWebGL2||ot!==null,st={},lt=gt(null);let ct=lt,ut=!1;function dt(Ot,Bt,zt,Vt,Ut){let jt=!1;if(at){const qt=ht(Vt,zt,Bt);ct!==qt&&(ct=qt,pt(ct.object)),jt=vt(Ot,Vt,zt,Ut),jt&&yt(Ot,Vt,zt,Ut)}else{const qt=Bt.wireframe===!0;(ct.geometry!==Vt.id||ct.program!==zt.id||ct.wireframe!==qt)&&(ct.geometry=Vt.id,ct.program=zt.id,ct.wireframe=qt,jt=!0)}Ut!==null&&rt.update(Ut,34963),(jt||ut)&&(ut=!1,At(Ot,Bt,zt,Vt),Ut!==null&&tt.bindBuffer(34963,rt.get(Ut).buffer))}function ft(){return nt.isWebGL2?tt.createVertexArray():ot.createVertexArrayOES()}function pt(Ot){return nt.isWebGL2?tt.bindVertexArray(Ot):ot.bindVertexArrayOES(Ot)}function mt(Ot){return nt.isWebGL2?tt.deleteVertexArray(Ot):ot.deleteVertexArrayOES(Ot)}function ht(Ot,Bt,zt){const Vt=zt.wireframe===!0;let Ut=st[Ot.id];Ut===void 0&&(Ut={},st[Ot.id]=Ut);let jt=Ut[Bt.id];jt===void 0&&(jt={},Ut[Bt.id]=jt);let qt=jt[Vt];return qt===void 0&&(qt=gt(ft()),jt[Vt]=qt),qt}function gt(Ot){const Bt=[],zt=[],Vt=[];for(let Ut=0;Ut<it;Ut++)Bt[Ut]=0,zt[Ut]=0,Vt[Ut]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:Bt,enabledAttributes:zt,attributeDivisors:Vt,object:Ot,attributes:{},index:null}}function vt(Ot,Bt,zt,Vt){const Ut=ct.attributes,jt=Bt.attributes;let qt=0;const Dt=zt.getAttributes();for(const Ft in Dt)if(Dt[Ft].location>=0){const Kt=Ut[Ft];let ir=jt[Ft];if(ir===void 0&&(Ft==="instanceMatrix"&&Ot.instanceMatrix&&(ir=Ot.instanceMatrix),Ft==="instanceColor"&&Ot.instanceColor&&(ir=Ot.instanceColor)),Kt===void 0||Kt.attribute!==ir||ir&&Kt.data!==ir.data)return!0;qt++}return ct.attributesNum!==qt||ct.index!==Vt}function yt(Ot,Bt,zt,Vt){const Ut={},jt=Bt.attributes;let qt=0;const Dt=zt.getAttributes();for(const Ft in Dt)if(Dt[Ft].location>=0){let Kt=jt[Ft];Kt===void 0&&(Ft==="instanceMatrix"&&Ot.instanceMatrix&&(Kt=Ot.instanceMatrix),Ft==="instanceColor"&&Ot.instanceColor&&(Kt=Ot.instanceColor));const ir={};ir.attribute=Kt,Kt&&Kt.data&&(ir.data=Kt.data),Ut[Ft]=ir,qt++}ct.attributes=Ut,ct.attributesNum=qt,ct.index=Vt}function bt(){const Ot=ct.newAttributes;for(let Bt=0,zt=Ot.length;Bt<zt;Bt++)Ot[Bt]=0}function xt(Ot){$t(Ot,0)}function $t(Ot,Bt){const zt=ct.newAttributes,Vt=ct.enabledAttributes,Ut=ct.attributeDivisors;zt[Ot]=1,Vt[Ot]===0&&(tt.enableVertexAttribArray(Ot),Vt[Ot]=1),Ut[Ot]!==Bt&&((nt.isWebGL2?tt:et.get("ANGLE_instanced_arrays"))[nt.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](Ot,Bt),Ut[Ot]=Bt)}function Tt(){const Ot=ct.newAttributes,Bt=ct.enabledAttributes;for(let zt=0,Vt=Bt.length;zt<Vt;zt++)Bt[zt]!==Ot[zt]&&(tt.disableVertexAttribArray(zt),Bt[zt]=0)}function wt(Ot,Bt,zt,Vt,Ut,jt){nt.isWebGL2===!0&&(zt===5124||zt===5125)?tt.vertexAttribIPointer(Ot,Bt,zt,Ut,jt):tt.vertexAttribPointer(Ot,Bt,zt,Vt,Ut,jt)}function At(Ot,Bt,zt,Vt){if(nt.isWebGL2===!1&&(Ot.isInstancedMesh||Vt.isInstancedBufferGeometry)&&et.get("ANGLE_instanced_arrays")===null)return;bt();const Ut=Vt.attributes,jt=zt.getAttributes(),qt=Bt.defaultAttributeValues;for(const Dt in jt){const Ft=jt[Dt];if(Ft.location>=0){let Zt=Ut[Dt];if(Zt===void 0&&(Dt==="instanceMatrix"&&Ot.instanceMatrix&&(Zt=Ot.instanceMatrix),Dt==="instanceColor"&&Ot.instanceColor&&(Zt=Ot.instanceColor)),Zt!==void 0){const Kt=Zt.normalized,ir=Zt.itemSize,rr=rt.get(Zt);if(rr===void 0)continue;const mr=rr.buffer,sr=rr.type,fr=rr.bytesPerElement;if(Zt.isInterleavedBufferAttribute){const pr=Zt.data,vr=pr.stride,dr=Zt.offset;if(pr.isInstancedInterleavedBuffer){for(let xr=0;xr<Ft.locationSize;xr++)$t(Ft.location+xr,pr.meshPerAttribute);Ot.isInstancedMesh!==!0&&Vt._maxInstanceCount===void 0&&(Vt._maxInstanceCount=pr.meshPerAttribute*pr.count)}else for(let xr=0;xr<Ft.locationSize;xr++)xt(Ft.location+xr);tt.bindBuffer(34962,mr);for(let xr=0;xr<Ft.locationSize;xr++)wt(Ft.location+xr,ir/Ft.locationSize,sr,Kt,vr*fr,(dr+ir/Ft.locationSize*xr)*fr)}else{if(Zt.isInstancedBufferAttribute){for(let pr=0;pr<Ft.locationSize;pr++)$t(Ft.location+pr,Zt.meshPerAttribute);Ot.isInstancedMesh!==!0&&Vt._maxInstanceCount===void 0&&(Vt._maxInstanceCount=Zt.meshPerAttribute*Zt.count)}else for(let pr=0;pr<Ft.locationSize;pr++)xt(Ft.location+pr);tt.bindBuffer(34962,mr);for(let pr=0;pr<Ft.locationSize;pr++)wt(Ft.location+pr,ir/Ft.locationSize,sr,Kt,ir*fr,ir/Ft.locationSize*pr*fr)}}else if(qt!==void 0){const Kt=qt[Dt];if(Kt!==void 0)switch(Kt.length){case 2:tt.vertexAttrib2fv(Ft.location,Kt);break;case 3:tt.vertexAttrib3fv(Ft.location,Kt);break;case 4:tt.vertexAttrib4fv(Ft.location,Kt);break;default:tt.vertexAttrib1fv(Ft.location,Kt)}}}}Tt()}function Rt(){Pt();for(const Ot in st){const Bt=st[Ot];for(const zt in Bt){const Vt=Bt[zt];for(const Ut in Vt)mt(Vt[Ut].object),delete Vt[Ut];delete Bt[zt]}delete st[Ot]}}function It(Ot){if(st[Ot.id]===void 0)return;const Bt=st[Ot.id];for(const zt in Bt){const Vt=Bt[zt];for(const Ut in Vt)mt(Vt[Ut].object),delete Vt[Ut];delete Bt[zt]}delete st[Ot.id]}function Lt(Ot){for(const Bt in st){const zt=st[Bt];if(zt[Ot.id]===void 0)continue;const Vt=zt[Ot.id];for(const Ut in Vt)mt(Vt[Ut].object),delete Vt[Ut];delete zt[Ot.id]}}function Pt(){Nt(),ut=!0,ct!==lt&&(ct=lt,pt(ct.object))}function Nt(){lt.geometry=null,lt.program=null,lt.wireframe=!1}return{setup:dt,reset:Pt,resetDefaultState:Nt,dispose:Rt,releaseStatesOfGeometry:It,releaseStatesOfProgram:Lt,initAttributes:bt,enableAttribute:xt,disableUnusedAttributes:Tt}}function WebGLBufferRenderer(tt,et,rt,nt){const it=nt.isWebGL2;let ot;function at(ct){ot=ct}function st(ct,ut){tt.drawArrays(ot,ct,ut),rt.update(ut,ot,1)}function lt(ct,ut,dt){if(dt===0)return;let ft,pt;if(it)ft=tt,pt="drawArraysInstanced";else if(ft=et.get("ANGLE_instanced_arrays"),pt="drawArraysInstancedANGLE",ft===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ft[pt](ot,ct,ut,dt),rt.update(ut,ot,dt)}this.setMode=at,this.render=st,this.renderInstances=lt}function WebGLCapabilities(tt,et,rt){let nt;function it(){if(nt!==void 0)return nt;if(et.has("EXT_texture_filter_anisotropic")===!0){const wt=et.get("EXT_texture_filter_anisotropic");nt=tt.getParameter(wt.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else nt=0;return nt}function ot(wt){if(wt==="highp"){if(tt.getShaderPrecisionFormat(35633,36338).precision>0&&tt.getShaderPrecisionFormat(35632,36338).precision>0)return"highp";wt="mediump"}return wt==="mediump"&&tt.getShaderPrecisionFormat(35633,36337).precision>0&&tt.getShaderPrecisionFormat(35632,36337).precision>0?"mediump":"lowp"}const at=typeof WebGL2RenderingContext<"u"&&tt instanceof WebGL2RenderingContext||typeof WebGL2ComputeRenderingContext<"u"&&tt instanceof WebGL2ComputeRenderingContext;let st=rt.precision!==void 0?rt.precision:"highp";const lt=ot(st);lt!==st&&(console.warn("THREE.WebGLRenderer:",st,"not supported, using",lt,"instead."),st=lt);const ct=at||et.has("WEBGL_draw_buffers"),ut=rt.logarithmicDepthBuffer===!0,dt=tt.getParameter(34930),ft=tt.getParameter(35660),pt=tt.getParameter(3379),mt=tt.getParameter(34076),ht=tt.getParameter(34921),gt=tt.getParameter(36347),vt=tt.getParameter(36348),yt=tt.getParameter(36349),bt=ft>0,xt=at||et.has("OES_texture_float"),$t=bt&&xt,Tt=at?tt.getParameter(36183):0;return{isWebGL2:at,drawBuffers:ct,getMaxAnisotropy:it,getMaxPrecision:ot,precision:st,logarithmicDepthBuffer:ut,maxTextures:dt,maxVertexTextures:ft,maxTextureSize:pt,maxCubemapSize:mt,maxAttributes:ht,maxVertexUniforms:gt,maxVaryings:vt,maxFragmentUniforms:yt,vertexTextures:bt,floatFragmentTextures:xt,floatVertexTextures:$t,maxSamples:Tt}}function WebGLClipping(tt){const et=this;let rt=null,nt=0,it=!1,ot=!1;const at=new Plane$1,st=new Matrix3,lt={value:null,needsUpdate:!1};this.uniform=lt,this.numPlanes=0,this.numIntersection=0,this.init=function(dt,ft,pt){const mt=dt.length!==0||ft||nt!==0||it;return it=ft,rt=ut(dt,pt,0),nt=dt.length,mt},this.beginShadows=function(){ot=!0,ut(null)},this.endShadows=function(){ot=!1,ct()},this.setState=function(dt,ft,pt){const mt=dt.clippingPlanes,ht=dt.clipIntersection,gt=dt.clipShadows,vt=tt.get(dt);if(!it||mt===null||mt.length===0||ot&&!gt)ot?ut(null):ct();else{const yt=ot?0:nt,bt=yt*4;let xt=vt.clippingState||null;lt.value=xt,xt=ut(mt,ft,bt,pt);for(let $t=0;$t!==bt;++$t)xt[$t]=rt[$t];vt.clippingState=xt,this.numIntersection=ht?this.numPlanes:0,this.numPlanes+=yt}};function ct(){lt.value!==rt&&(lt.value=rt,lt.needsUpdate=nt>0),et.numPlanes=nt,et.numIntersection=0}function ut(dt,ft,pt,mt){const ht=dt!==null?dt.length:0;let gt=null;if(ht!==0){if(gt=lt.value,mt!==!0||gt===null){const vt=pt+ht*4,yt=ft.matrixWorldInverse;st.getNormalMatrix(yt),(gt===null||gt.length<vt)&&(gt=new Float32Array(vt));for(let bt=0,xt=pt;bt!==ht;++bt,xt+=4)at.copy(dt[bt]).applyMatrix4(yt,st),at.normal.toArray(gt,xt),gt[xt+3]=at.constant}lt.value=gt,lt.needsUpdate=!0}return et.numPlanes=ht,et.numIntersection=0,gt}}function WebGLCubeMaps(tt){let et=new WeakMap;function rt(at,st){return st===EquirectangularReflectionMapping?at.mapping=CubeReflectionMapping:st===EquirectangularRefractionMapping&&(at.mapping=CubeRefractionMapping),at}function nt(at){if(at&&at.isTexture&&at.isRenderTargetTexture===!1){const st=at.mapping;if(st===EquirectangularReflectionMapping||st===EquirectangularRefractionMapping)if(et.has(at)){const lt=et.get(at).texture;return rt(lt,at.mapping)}else{const lt=at.image;if(lt&&lt.height>0){const ct=new WebGLCubeRenderTarget(lt.height/2);return ct.fromEquirectangularTexture(tt,at),et.set(at,ct),at.addEventListener("dispose",it),rt(ct.texture,at.mapping)}else return null}}return at}function it(at){const st=at.target;st.removeEventListener("dispose",it);const lt=et.get(st);lt!==void 0&&(et.delete(st),lt.dispose())}function ot(){et=new WeakMap}return{get:nt,dispose:ot}}let OrthographicCamera$1=class extends Camera{constructor(et=-1,rt=1,nt=1,it=-1,ot=.1,at=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=et,this.right=rt,this.top=nt,this.bottom=it,this.near=ot,this.far=at,this.updateProjectionMatrix()}copy(et,rt){return super.copy(et,rt),this.left=et.left,this.right=et.right,this.top=et.top,this.bottom=et.bottom,this.near=et.near,this.far=et.far,this.zoom=et.zoom,this.view=et.view===null?null:Object.assign({},et.view),this}setViewOffset(et,rt,nt,it,ot,at){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=et,this.view.fullHeight=rt,this.view.offsetX=nt,this.view.offsetY=it,this.view.width=ot,this.view.height=at,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const et=(this.right-this.left)/(2*this.zoom),rt=(this.top-this.bottom)/(2*this.zoom),nt=(this.right+this.left)/2,it=(this.top+this.bottom)/2;let ot=nt-et,at=nt+et,st=it+rt,lt=it-rt;if(this.view!==null&&this.view.enabled){const ct=(this.right-this.left)/this.view.fullWidth/this.zoom,ut=(this.top-this.bottom)/this.view.fullHeight/this.zoom;ot+=ct*this.view.offsetX,at=ot+ct*this.view.width,st-=ut*this.view.offsetY,lt=st-ut*this.view.height}this.projectionMatrix.makeOrthographic(ot,at,st,lt,this.near,this.far),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(et){const rt=super.toJSON(et);return rt.object.zoom=this.zoom,rt.object.left=this.left,rt.object.right=this.right,rt.object.top=this.top,rt.object.bottom=this.bottom,rt.object.near=this.near,rt.object.far=this.far,this.view!==null&&(rt.object.view=Object.assign({},this.view)),rt}};const LOD_MIN=4,EXTRA_LOD_SIGMA=[.125,.215,.35,.446,.526,.582],MAX_SAMPLES=20,_flatCamera=new OrthographicCamera$1,_clearColor=new Color;let _oldTarget=null;const PHI=(1+Math.sqrt(5))/2,INV_PHI=1/PHI,_axisDirections=[new Vector3(1,1,1),new Vector3(-1,1,1),new Vector3(1,1,-1),new Vector3(-1,1,-1),new Vector3(0,PHI,INV_PHI),new Vector3(0,PHI,-INV_PHI),new Vector3(INV_PHI,0,PHI),new Vector3(-INV_PHI,0,PHI),new Vector3(PHI,INV_PHI,0),new Vector3(-PHI,INV_PHI,0)];class PMREMGenerator{constructor(et){this._renderer=et,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(et,rt=0,nt=.1,it=100){_oldTarget=this._renderer.getRenderTarget(),this._setSize(256);const ot=this._allocateTargets();return ot.depthBuffer=!0,this._sceneToCubeUV(et,nt,it,ot),rt>0&&this._blur(ot,0,0,rt),this._applyPMREM(ot),this._cleanup(ot),ot}fromEquirectangular(et,rt=null){return this._fromTexture(et,rt)}fromCubemap(et,rt=null){return this._fromTexture(et,rt)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(et){this._lodMax=Math.floor(Math.log2(et)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let et=0;et<this._lodPlanes.length;et++)this._lodPlanes[et].dispose()}_cleanup(et){this._renderer.setRenderTarget(_oldTarget),et.scissorTest=!1,_setViewport(et,0,0,et.width,et.height)}_fromTexture(et,rt){et.mapping===CubeReflectionMapping||et.mapping===CubeRefractionMapping?this._setSize(et.image.length===0?16:et.image[0].width||et.image[0].image.width):this._setSize(et.image.width/4),_oldTarget=this._renderer.getRenderTarget();const nt=rt||this._allocateTargets();return this._textureToCubeUV(et,nt),this._applyPMREM(nt),this._cleanup(nt),nt}_allocateTargets(){const et=3*Math.max(this._cubeSize,112),rt=4*this._cubeSize,nt={magFilter:LinearFilter,minFilter:LinearFilter,generateMipmaps:!1,type:HalfFloatType,format:RGBAFormat,encoding:LinearEncoding,depthBuffer:!1},it=_createRenderTarget(et,rt,nt);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==et){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=_createRenderTarget(et,rt,nt);const{_lodMax:ot}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=_createPlanes(ot)),this._blurMaterial=_getBlurShader(ot,et,rt)}return it}_compileMaterial(et){const rt=new Mesh(this._lodPlanes[0],et);this._renderer.compile(rt,_flatCamera)}_sceneToCubeUV(et,rt,nt,it){const st=new PerspectiveCamera$1(90,1,rt,nt),lt=[1,-1,1,1,1,1],ct=[1,1,1,-1,-1,-1],ut=this._renderer,dt=ut.autoClear,ft=ut.toneMapping;ut.getClearColor(_clearColor),ut.toneMapping=NoToneMapping,ut.autoClear=!1;const pt=new MeshBasicMaterial({name:"PMREM.Background",side:BackSide,depthWrite:!1,depthTest:!1}),mt=new Mesh(new BoxGeometry,pt);let ht=!1;const gt=et.background;gt?gt.isColor&&(pt.color.copy(gt),et.background=null,ht=!0):(pt.color.copy(_clearColor),ht=!0);for(let vt=0;vt<6;vt++){const yt=vt%3;yt===0?(st.up.set(0,lt[vt],0),st.lookAt(ct[vt],0,0)):yt===1?(st.up.set(0,0,lt[vt]),st.lookAt(0,ct[vt],0)):(st.up.set(0,lt[vt],0),st.lookAt(0,0,ct[vt]));const bt=this._cubeSize;_setViewport(it,yt*bt,vt>2?bt:0,bt,bt),ut.setRenderTarget(it),ht&&ut.render(mt,st),ut.render(et,st)}mt.geometry.dispose(),mt.material.dispose(),ut.toneMapping=ft,ut.autoClear=dt,et.background=gt}_textureToCubeUV(et,rt){const nt=this._renderer,it=et.mapping===CubeReflectionMapping||et.mapping===CubeRefractionMapping;it?(this._cubemapMaterial===null&&(this._cubemapMaterial=_getCubemapMaterial()),this._cubemapMaterial.uniforms.flipEnvMap.value=et.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=_getEquirectMaterial());const ot=it?this._cubemapMaterial:this._equirectMaterial,at=new Mesh(this._lodPlanes[0],ot),st=ot.uniforms;st.envMap.value=et;const lt=this._cubeSize;_setViewport(rt,0,0,3*lt,2*lt),nt.setRenderTarget(rt),nt.render(at,_flatCamera)}_applyPMREM(et){const rt=this._renderer,nt=rt.autoClear;rt.autoClear=!1;for(let it=1;it<this._lodPlanes.length;it++){const ot=Math.sqrt(this._sigmas[it]*this._sigmas[it]-this._sigmas[it-1]*this._sigmas[it-1]),at=_axisDirections[(it-1)%_axisDirections.length];this._blur(et,it-1,it,ot,at)}rt.autoClear=nt}_blur(et,rt,nt,it,ot){const at=this._pingPongRenderTarget;this._halfBlur(et,at,rt,nt,it,"latitudinal",ot),this._halfBlur(at,et,nt,nt,it,"longitudinal",ot)}_halfBlur(et,rt,nt,it,ot,at,st){const lt=this._renderer,ct=this._blurMaterial;at!=="latitudinal"&&at!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const ut=3,dt=new Mesh(this._lodPlanes[it],ct),ft=ct.uniforms,pt=this._sizeLods[nt]-1,mt=isFinite(ot)?Math.PI/(2*pt):2*Math.PI/(2*MAX_SAMPLES-1),ht=ot/mt,gt=isFinite(ot)?1+Math.floor(ut*ht):MAX_SAMPLES;gt>MAX_SAMPLES&&console.warn(`sigmaRadians, ${ot}, is too large and will clip, as it requested ${gt} samples when the maximum is set to ${MAX_SAMPLES}`);const vt=[];let yt=0;for(let wt=0;wt<MAX_SAMPLES;++wt){const At=wt/ht,Rt=Math.exp(-At*At/2);vt.push(Rt),wt===0?yt+=Rt:wt<gt&&(yt+=2*Rt)}for(let wt=0;wt<vt.length;wt++)vt[wt]=vt[wt]/yt;ft.envMap.value=et.texture,ft.samples.value=gt,ft.weights.value=vt,ft.latitudinal.value=at==="latitudinal",st&&(ft.poleAxis.value=st);const{_lodMax:bt}=this;ft.dTheta.value=mt,ft.mipInt.value=bt-nt;const xt=this._sizeLods[it],$t=3*xt*(it>bt-LOD_MIN?it-bt+LOD_MIN:0),Tt=4*(this._cubeSize-xt);_setViewport(rt,$t,Tt,3*xt,2*xt),lt.setRenderTarget(rt),lt.render(dt,_flatCamera)}}function _createPlanes(tt){const et=[],rt=[],nt=[];let it=tt;const ot=tt-LOD_MIN+1+EXTRA_LOD_SIGMA.length;for(let at=0;at<ot;at++){const st=Math.pow(2,it);rt.push(st);let lt=1/st;at>tt-LOD_MIN?lt=EXTRA_LOD_SIGMA[at-tt+LOD_MIN-1]:at===0&&(lt=0),nt.push(lt);const ct=1/(st-2),ut=-ct,dt=1+ct,ft=[ut,ut,dt,ut,dt,dt,ut,ut,dt,dt,ut,dt],pt=6,mt=6,ht=3,gt=2,vt=1,yt=new Float32Array(ht*mt*pt),bt=new Float32Array(gt*mt*pt),xt=new Float32Array(vt*mt*pt);for(let Tt=0;Tt<pt;Tt++){const wt=Tt%3*2/3-1,At=Tt>2?0:-1,Rt=[wt,At,0,wt+2/3,At,0,wt+2/3,At+1,0,wt,At,0,wt+2/3,At+1,0,wt,At+1,0];yt.set(Rt,ht*mt*Tt),bt.set(ft,gt*mt*Tt);const It=[Tt,Tt,Tt,Tt,Tt,Tt];xt.set(It,vt*mt*Tt)}const $t=new BufferGeometry;$t.setAttribute("position",new BufferAttribute(yt,ht)),$t.setAttribute("uv",new BufferAttribute(bt,gt)),$t.setAttribute("faceIndex",new BufferAttribute(xt,vt)),et.push($t),it>LOD_MIN&&it--}return{lodPlanes:et,sizeLods:rt,sigmas:nt}}function _createRenderTarget(tt,et,rt){const nt=new WebGLRenderTarget(tt,et,rt);return nt.texture.mapping=CubeUVReflectionMapping,nt.texture.name="PMREM.cubeUv",nt.scissorTest=!0,nt}function _setViewport(tt,et,rt,nt,it){tt.viewport.set(et,rt,nt,it),tt.scissor.set(et,rt,nt,it)}function _getBlurShader(tt,et,rt){const nt=new Float32Array(MAX_SAMPLES),it=new Vector3(0,1,0);return new ShaderMaterial({name:"SphericalGaussianBlur",defines:{n:MAX_SAMPLES,CUBEUV_TEXEL_WIDTH:1/et,CUBEUV_TEXEL_HEIGHT:1/rt,CUBEUV_MAX_MIP:`${tt}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:nt},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:it}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getEquirectMaterial(){return new ShaderMaterial({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCubemapMaterial(){return new ShaderMaterial({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:_getCommonVertexShader(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:NoBlending,depthTest:!1,depthWrite:!1})}function _getCommonVertexShader(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function WebGLCubeUVMaps(tt){let et=new WeakMap,rt=null;function nt(st){if(st&&st.isTexture){const lt=st.mapping,ct=lt===EquirectangularReflectionMapping||lt===EquirectangularRefractionMapping,ut=lt===CubeReflectionMapping||lt===CubeRefractionMapping;if(ct||ut)if(st.isRenderTargetTexture&&st.needsPMREMUpdate===!0){st.needsPMREMUpdate=!1;let dt=et.get(st);return rt===null&&(rt=new PMREMGenerator(tt)),dt=ct?rt.fromEquirectangular(st,dt):rt.fromCubemap(st,dt),et.set(st,dt),dt.texture}else{if(et.has(st))return et.get(st).texture;{const dt=st.image;if(ct&&dt&&dt.height>0||ut&&dt&&it(dt)){rt===null&&(rt=new PMREMGenerator(tt));const ft=ct?rt.fromEquirectangular(st):rt.fromCubemap(st);return et.set(st,ft),st.addEventListener("dispose",ot),ft.texture}else return null}}}return st}function it(st){let lt=0;const ct=6;for(let ut=0;ut<ct;ut++)st[ut]!==void 0&&lt++;return lt===ct}function ot(st){const lt=st.target;lt.removeEventListener("dispose",ot);const ct=et.get(lt);ct!==void 0&&(et.delete(lt),ct.dispose())}function at(){et=new WeakMap,rt!==null&&(rt.dispose(),rt=null)}return{get:nt,dispose:at}}function WebGLExtensions(tt){const et={};function rt(nt){if(et[nt]!==void 0)return et[nt];let it;switch(nt){case"WEBGL_depth_texture":it=tt.getExtension("WEBGL_depth_texture")||tt.getExtension("MOZ_WEBGL_depth_texture")||tt.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":it=tt.getExtension("EXT_texture_filter_anisotropic")||tt.getExtension("MOZ_EXT_texture_filter_anisotropic")||tt.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":it=tt.getExtension("WEBGL_compressed_texture_s3tc")||tt.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||tt.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":it=tt.getExtension("WEBGL_compressed_texture_pvrtc")||tt.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:it=tt.getExtension(nt)}return et[nt]=it,it}return{has:function(nt){return rt(nt)!==null},init:function(nt){nt.isWebGL2?rt("EXT_color_buffer_float"):(rt("WEBGL_depth_texture"),rt("OES_texture_float"),rt("OES_texture_half_float"),rt("OES_texture_half_float_linear"),rt("OES_standard_derivatives"),rt("OES_element_index_uint"),rt("OES_vertex_array_object"),rt("ANGLE_instanced_arrays")),rt("OES_texture_float_linear"),rt("EXT_color_buffer_half_float"),rt("WEBGL_multisampled_render_to_texture")},get:function(nt){const it=rt(nt);return it===null&&console.warn("THREE.WebGLRenderer: "+nt+" extension not supported."),it}}}function WebGLGeometries(tt,et,rt,nt){const it={},ot=new WeakMap;function at(dt){const ft=dt.target;ft.index!==null&&et.remove(ft.index);for(const mt in ft.attributes)et.remove(ft.attributes[mt]);ft.removeEventListener("dispose",at),delete it[ft.id];const pt=ot.get(ft);pt&&(et.remove(pt),ot.delete(ft)),nt.releaseStatesOfGeometry(ft),ft.isInstancedBufferGeometry===!0&&delete ft._maxInstanceCount,rt.memory.geometries--}function st(dt,ft){return it[ft.id]===!0||(ft.addEventListener("dispose",at),it[ft.id]=!0,rt.memory.geometries++),ft}function lt(dt){const ft=dt.attributes;for(const mt in ft)et.update(ft[mt],34962);const pt=dt.morphAttributes;for(const mt in pt){const ht=pt[mt];for(let gt=0,vt=ht.length;gt<vt;gt++)et.update(ht[gt],34962)}}function ct(dt){const ft=[],pt=dt.index,mt=dt.attributes.position;let ht=0;if(pt!==null){const yt=pt.array;ht=pt.version;for(let bt=0,xt=yt.length;bt<xt;bt+=3){const $t=yt[bt+0],Tt=yt[bt+1],wt=yt[bt+2];ft.push($t,Tt,Tt,wt,wt,$t)}}else{const yt=mt.array;ht=mt.version;for(let bt=0,xt=yt.length/3-1;bt<xt;bt+=3){const $t=bt+0,Tt=bt+1,wt=bt+2;ft.push($t,Tt,Tt,wt,wt,$t)}}const gt=new(arrayNeedsUint32(ft)?Uint32BufferAttribute:Uint16BufferAttribute)(ft,1);gt.version=ht;const vt=ot.get(dt);vt&&et.remove(vt),ot.set(dt,gt)}function ut(dt){const ft=ot.get(dt);if(ft){const pt=dt.index;pt!==null&&ft.version<pt.version&&ct(dt)}else ct(dt);return ot.get(dt)}return{get:st,update:lt,getWireframeAttribute:ut}}function WebGLIndexedBufferRenderer(tt,et,rt,nt){const it=nt.isWebGL2;let ot;function at(ft){ot=ft}let st,lt;function ct(ft){st=ft.type,lt=ft.bytesPerElement}function ut(ft,pt){tt.drawElements(ot,pt,st,ft*lt),rt.update(pt,ot,1)}function dt(ft,pt,mt){if(mt===0)return;let ht,gt;if(it)ht=tt,gt="drawElementsInstanced";else if(ht=et.get("ANGLE_instanced_arrays"),gt="drawElementsInstancedANGLE",ht===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}ht[gt](ot,pt,st,ft*lt,mt),rt.update(pt,ot,mt)}this.setMode=at,this.setIndex=ct,this.render=ut,this.renderInstances=dt}function WebGLInfo(tt){const et={geometries:0,textures:0},rt={frame:0,calls:0,triangles:0,points:0,lines:0};function nt(ot,at,st){switch(rt.calls++,at){case 4:rt.triangles+=st*(ot/3);break;case 1:rt.lines+=st*(ot/2);break;case 3:rt.lines+=st*(ot-1);break;case 2:rt.lines+=st*ot;break;case 0:rt.points+=st*ot;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",at);break}}function it(){rt.frame++,rt.calls=0,rt.triangles=0,rt.points=0,rt.lines=0}return{memory:et,render:rt,programs:null,autoReset:!0,reset:it,update:nt}}function numericalSort(tt,et){return tt[0]-et[0]}function absNumericalSort(tt,et){return Math.abs(et[1])-Math.abs(tt[1])}function WebGLMorphtargets(tt,et,rt){const nt={},it=new Float32Array(8),ot=new WeakMap,at=new Vector4,st=[];for(let ct=0;ct<8;ct++)st[ct]=[ct,0];function lt(ct,ut,dt,ft){const pt=ct.morphTargetInfluences;if(et.isWebGL2===!0){const ht=ut.morphAttributes.position||ut.morphAttributes.normal||ut.morphAttributes.color,gt=ht!==void 0?ht.length:0;let vt=ot.get(ut);if(vt===void 0||vt.count!==gt){let zt=function(){Ot.dispose(),ot.delete(ut),ut.removeEventListener("dispose",zt)};var mt=zt;vt!==void 0&&vt.texture.dispose();const xt=ut.morphAttributes.position!==void 0,$t=ut.morphAttributes.normal!==void 0,Tt=ut.morphAttributes.color!==void 0,wt=ut.morphAttributes.position||[],At=ut.morphAttributes.normal||[],Rt=ut.morphAttributes.color||[];let It=0;xt===!0&&(It=1),$t===!0&&(It=2),Tt===!0&&(It=3);let Lt=ut.attributes.position.count*It,Pt=1;Lt>et.maxTextureSize&&(Pt=Math.ceil(Lt/et.maxTextureSize),Lt=et.maxTextureSize);const Nt=new Float32Array(Lt*Pt*4*gt),Ot=new DataArrayTexture(Nt,Lt,Pt,gt);Ot.type=FloatType,Ot.needsUpdate=!0;const Bt=It*4;for(let Vt=0;Vt<gt;Vt++){const Ut=wt[Vt],jt=At[Vt],qt=Rt[Vt],Dt=Lt*Pt*4*Vt;for(let Ft=0;Ft<Ut.count;Ft++){const Zt=Ft*Bt;xt===!0&&(at.fromBufferAttribute(Ut,Ft),Nt[Dt+Zt+0]=at.x,Nt[Dt+Zt+1]=at.y,Nt[Dt+Zt+2]=at.z,Nt[Dt+Zt+3]=0),$t===!0&&(at.fromBufferAttribute(jt,Ft),Nt[Dt+Zt+4]=at.x,Nt[Dt+Zt+5]=at.y,Nt[Dt+Zt+6]=at.z,Nt[Dt+Zt+7]=0),Tt===!0&&(at.fromBufferAttribute(qt,Ft),Nt[Dt+Zt+8]=at.x,Nt[Dt+Zt+9]=at.y,Nt[Dt+Zt+10]=at.z,Nt[Dt+Zt+11]=qt.itemSize===4?at.w:1)}}vt={count:gt,texture:Ot,size:new Vector2(Lt,Pt)},ot.set(ut,vt),ut.addEventListener("dispose",zt)}let yt=0;for(let xt=0;xt<pt.length;xt++)yt+=pt[xt];const bt=ut.morphTargetsRelative?1:1-yt;ft.getUniforms().setValue(tt,"morphTargetBaseInfluence",bt),ft.getUniforms().setValue(tt,"morphTargetInfluences",pt),ft.getUniforms().setValue(tt,"morphTargetsTexture",vt.texture,rt),ft.getUniforms().setValue(tt,"morphTargetsTextureSize",vt.size)}else{const ht=pt===void 0?0:pt.length;let gt=nt[ut.id];if(gt===void 0||gt.length!==ht){gt=[];for(let $t=0;$t<ht;$t++)gt[$t]=[$t,0];nt[ut.id]=gt}for(let $t=0;$t<ht;$t++){const Tt=gt[$t];Tt[0]=$t,Tt[1]=pt[$t]}gt.sort(absNumericalSort);for(let $t=0;$t<8;$t++)$t<ht&&gt[$t][1]?(st[$t][0]=gt[$t][0],st[$t][1]=gt[$t][1]):(st[$t][0]=Number.MAX_SAFE_INTEGER,st[$t][1]=0);st.sort(numericalSort);const vt=ut.morphAttributes.position,yt=ut.morphAttributes.normal;let bt=0;for(let $t=0;$t<8;$t++){const Tt=st[$t],wt=Tt[0],At=Tt[1];wt!==Number.MAX_SAFE_INTEGER&&At?(vt&&ut.getAttribute("morphTarget"+$t)!==vt[wt]&&ut.setAttribute("morphTarget"+$t,vt[wt]),yt&&ut.getAttribute("morphNormal"+$t)!==yt[wt]&&ut.setAttribute("morphNormal"+$t,yt[wt]),it[$t]=At,bt+=At):(vt&&ut.hasAttribute("morphTarget"+$t)===!0&&ut.deleteAttribute("morphTarget"+$t),yt&&ut.hasAttribute("morphNormal"+$t)===!0&&ut.deleteAttribute("morphNormal"+$t),it[$t]=0)}const xt=ut.morphTargetsRelative?1:1-bt;ft.getUniforms().setValue(tt,"morphTargetBaseInfluence",xt),ft.getUniforms().setValue(tt,"morphTargetInfluences",it)}}return{update:lt}}function WebGLObjects(tt,et,rt,nt){let it=new WeakMap;function ot(lt){const ct=nt.render.frame,ut=lt.geometry,dt=et.get(lt,ut);return it.get(dt)!==ct&&(et.update(dt),it.set(dt,ct)),lt.isInstancedMesh&&(lt.hasEventListener("dispose",st)===!1&&lt.addEventListener("dispose",st),rt.update(lt.instanceMatrix,34962),lt.instanceColor!==null&&rt.update(lt.instanceColor,34962)),dt}function at(){it=new WeakMap}function st(lt){const ct=lt.target;ct.removeEventListener("dispose",st),rt.remove(ct.instanceMatrix),ct.instanceColor!==null&&rt.remove(ct.instanceColor)}return{update:ot,dispose:at}}const emptyTexture=new Texture,emptyArrayTexture=new DataArrayTexture,empty3dTexture=new Data3DTexture,emptyCubeTexture=new CubeTexture,arrayCacheF32=[],arrayCacheI32=[],mat4array=new Float32Array(16),mat3array=new Float32Array(9),mat2array=new Float32Array(4);function flatten(tt,et,rt){const nt=tt[0];if(nt<=0||nt>0)return tt;const it=et*rt;let ot=arrayCacheF32[it];if(ot===void 0&&(ot=new Float32Array(it),arrayCacheF32[it]=ot),et!==0){nt.toArray(ot,0);for(let at=1,st=0;at!==et;++at)st+=rt,tt[at].toArray(ot,st)}return ot}function arraysEqual(tt,et){if(tt.length!==et.length)return!1;for(let rt=0,nt=tt.length;rt<nt;rt++)if(tt[rt]!==et[rt])return!1;return!0}function copyArray$2(tt,et){for(let rt=0,nt=et.length;rt<nt;rt++)tt[rt]=et[rt]}function allocTexUnits(tt,et){let rt=arrayCacheI32[et];rt===void 0&&(rt=new Int32Array(et),arrayCacheI32[et]=rt);for(let nt=0;nt!==et;++nt)rt[nt]=tt.allocateTextureUnit();return rt}function setValueV1f(tt,et){const rt=this.cache;rt[0]!==et&&(tt.uniform1f(this.addr,et),rt[0]=et)}function setValueV2f(tt,et){const rt=this.cache;if(et.x!==void 0)(rt[0]!==et.x||rt[1]!==et.y)&&(tt.uniform2f(this.addr,et.x,et.y),rt[0]=et.x,rt[1]=et.y);else{if(arraysEqual(rt,et))return;tt.uniform2fv(this.addr,et),copyArray$2(rt,et)}}function setValueV3f(tt,et){const rt=this.cache;if(et.x!==void 0)(rt[0]!==et.x||rt[1]!==et.y||rt[2]!==et.z)&&(tt.uniform3f(this.addr,et.x,et.y,et.z),rt[0]=et.x,rt[1]=et.y,rt[2]=et.z);else if(et.r!==void 0)(rt[0]!==et.r||rt[1]!==et.g||rt[2]!==et.b)&&(tt.uniform3f(this.addr,et.r,et.g,et.b),rt[0]=et.r,rt[1]=et.g,rt[2]=et.b);else{if(arraysEqual(rt,et))return;tt.uniform3fv(this.addr,et),copyArray$2(rt,et)}}function setValueV4f(tt,et){const rt=this.cache;if(et.x!==void 0)(rt[0]!==et.x||rt[1]!==et.y||rt[2]!==et.z||rt[3]!==et.w)&&(tt.uniform4f(this.addr,et.x,et.y,et.z,et.w),rt[0]=et.x,rt[1]=et.y,rt[2]=et.z,rt[3]=et.w);else{if(arraysEqual(rt,et))return;tt.uniform4fv(this.addr,et),copyArray$2(rt,et)}}function setValueM2(tt,et){const rt=this.cache,nt=et.elements;if(nt===void 0){if(arraysEqual(rt,et))return;tt.uniformMatrix2fv(this.addr,!1,et),copyArray$2(rt,et)}else{if(arraysEqual(rt,nt))return;mat2array.set(nt),tt.uniformMatrix2fv(this.addr,!1,mat2array),copyArray$2(rt,nt)}}function setValueM3(tt,et){const rt=this.cache,nt=et.elements;if(nt===void 0){if(arraysEqual(rt,et))return;tt.uniformMatrix3fv(this.addr,!1,et),copyArray$2(rt,et)}else{if(arraysEqual(rt,nt))return;mat3array.set(nt),tt.uniformMatrix3fv(this.addr,!1,mat3array),copyArray$2(rt,nt)}}function setValueM4(tt,et){const rt=this.cache,nt=et.elements;if(nt===void 0){if(arraysEqual(rt,et))return;tt.uniformMatrix4fv(this.addr,!1,et),copyArray$2(rt,et)}else{if(arraysEqual(rt,nt))return;mat4array.set(nt),tt.uniformMatrix4fv(this.addr,!1,mat4array),copyArray$2(rt,nt)}}function setValueV1i(tt,et){const rt=this.cache;rt[0]!==et&&(tt.uniform1i(this.addr,et),rt[0]=et)}function setValueV2i(tt,et){const rt=this.cache;if(et.x!==void 0)(rt[0]!==et.x||rt[1]!==et.y)&&(tt.uniform2i(this.addr,et.x,et.y),rt[0]=et.x,rt[1]=et.y);else{if(arraysEqual(rt,et))return;tt.uniform2iv(this.addr,et),copyArray$2(rt,et)}}function setValueV3i(tt,et){const rt=this.cache;if(et.x!==void 0)(rt[0]!==et.x||rt[1]!==et.y||rt[2]!==et.z)&&(tt.uniform3i(this.addr,et.x,et.y,et.z),rt[0]=et.x,rt[1]=et.y,rt[2]=et.z);else{if(arraysEqual(rt,et))return;tt.uniform3iv(this.addr,et),copyArray$2(rt,et)}}function setValueV4i(tt,et){const rt=this.cache;if(et.x!==void 0)(rt[0]!==et.x||rt[1]!==et.y||rt[2]!==et.z||rt[3]!==et.w)&&(tt.uniform4i(this.addr,et.x,et.y,et.z,et.w),rt[0]=et.x,rt[1]=et.y,rt[2]=et.z,rt[3]=et.w);else{if(arraysEqual(rt,et))return;tt.uniform4iv(this.addr,et),copyArray$2(rt,et)}}function setValueV1ui(tt,et){const rt=this.cache;rt[0]!==et&&(tt.uniform1ui(this.addr,et),rt[0]=et)}function setValueV2ui(tt,et){const rt=this.cache;if(et.x!==void 0)(rt[0]!==et.x||rt[1]!==et.y)&&(tt.uniform2ui(this.addr,et.x,et.y),rt[0]=et.x,rt[1]=et.y);else{if(arraysEqual(rt,et))return;tt.uniform2uiv(this.addr,et),copyArray$2(rt,et)}}function setValueV3ui(tt,et){const rt=this.cache;if(et.x!==void 0)(rt[0]!==et.x||rt[1]!==et.y||rt[2]!==et.z)&&(tt.uniform3ui(this.addr,et.x,et.y,et.z),rt[0]=et.x,rt[1]=et.y,rt[2]=et.z);else{if(arraysEqual(rt,et))return;tt.uniform3uiv(this.addr,et),copyArray$2(rt,et)}}function setValueV4ui(tt,et){const rt=this.cache;if(et.x!==void 0)(rt[0]!==et.x||rt[1]!==et.y||rt[2]!==et.z||rt[3]!==et.w)&&(tt.uniform4ui(this.addr,et.x,et.y,et.z,et.w),rt[0]=et.x,rt[1]=et.y,rt[2]=et.z,rt[3]=et.w);else{if(arraysEqual(rt,et))return;tt.uniform4uiv(this.addr,et),copyArray$2(rt,et)}}function setValueT1(tt,et,rt){const nt=this.cache,it=rt.allocateTextureUnit();nt[0]!==it&&(tt.uniform1i(this.addr,it),nt[0]=it),rt.setTexture2D(et||emptyTexture,it)}function setValueT3D1(tt,et,rt){const nt=this.cache,it=rt.allocateTextureUnit();nt[0]!==it&&(tt.uniform1i(this.addr,it),nt[0]=it),rt.setTexture3D(et||empty3dTexture,it)}function setValueT6(tt,et,rt){const nt=this.cache,it=rt.allocateTextureUnit();nt[0]!==it&&(tt.uniform1i(this.addr,it),nt[0]=it),rt.setTextureCube(et||emptyCubeTexture,it)}function setValueT2DArray1(tt,et,rt){const nt=this.cache,it=rt.allocateTextureUnit();nt[0]!==it&&(tt.uniform1i(this.addr,it),nt[0]=it),rt.setTexture2DArray(et||emptyArrayTexture,it)}function getSingularSetter(tt){switch(tt){case 5126:return setValueV1f;case 35664:return setValueV2f;case 35665:return setValueV3f;case 35666:return setValueV4f;case 35674:return setValueM2;case 35675:return setValueM3;case 35676:return setValueM4;case 5124:case 35670:return setValueV1i;case 35667:case 35671:return setValueV2i;case 35668:case 35672:return setValueV3i;case 35669:case 35673:return setValueV4i;case 5125:return setValueV1ui;case 36294:return setValueV2ui;case 36295:return setValueV3ui;case 36296:return setValueV4ui;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1;case 35679:case 36299:case 36307:return setValueT3D1;case 35680:case 36300:case 36308:case 36293:return setValueT6;case 36289:case 36303:case 36311:case 36292:return setValueT2DArray1}}function setValueV1fArray(tt,et){tt.uniform1fv(this.addr,et)}function setValueV2fArray(tt,et){const rt=flatten(et,this.size,2);tt.uniform2fv(this.addr,rt)}function setValueV3fArray(tt,et){const rt=flatten(et,this.size,3);tt.uniform3fv(this.addr,rt)}function setValueV4fArray(tt,et){const rt=flatten(et,this.size,4);tt.uniform4fv(this.addr,rt)}function setValueM2Array(tt,et){const rt=flatten(et,this.size,4);tt.uniformMatrix2fv(this.addr,!1,rt)}function setValueM3Array(tt,et){const rt=flatten(et,this.size,9);tt.uniformMatrix3fv(this.addr,!1,rt)}function setValueM4Array(tt,et){const rt=flatten(et,this.size,16);tt.uniformMatrix4fv(this.addr,!1,rt)}function setValueV1iArray(tt,et){tt.uniform1iv(this.addr,et)}function setValueV2iArray(tt,et){tt.uniform2iv(this.addr,et)}function setValueV3iArray(tt,et){tt.uniform3iv(this.addr,et)}function setValueV4iArray(tt,et){tt.uniform4iv(this.addr,et)}function setValueV1uiArray(tt,et){tt.uniform1uiv(this.addr,et)}function setValueV2uiArray(tt,et){tt.uniform2uiv(this.addr,et)}function setValueV3uiArray(tt,et){tt.uniform3uiv(this.addr,et)}function setValueV4uiArray(tt,et){tt.uniform4uiv(this.addr,et)}function setValueT1Array(tt,et,rt){const nt=this.cache,it=et.length,ot=allocTexUnits(rt,it);arraysEqual(nt,ot)||(tt.uniform1iv(this.addr,ot),copyArray$2(nt,ot));for(let at=0;at!==it;++at)rt.setTexture2D(et[at]||emptyTexture,ot[at])}function setValueT3DArray(tt,et,rt){const nt=this.cache,it=et.length,ot=allocTexUnits(rt,it);arraysEqual(nt,ot)||(tt.uniform1iv(this.addr,ot),copyArray$2(nt,ot));for(let at=0;at!==it;++at)rt.setTexture3D(et[at]||empty3dTexture,ot[at])}function setValueT6Array(tt,et,rt){const nt=this.cache,it=et.length,ot=allocTexUnits(rt,it);arraysEqual(nt,ot)||(tt.uniform1iv(this.addr,ot),copyArray$2(nt,ot));for(let at=0;at!==it;++at)rt.setTextureCube(et[at]||emptyCubeTexture,ot[at])}function setValueT2DArrayArray(tt,et,rt){const nt=this.cache,it=et.length,ot=allocTexUnits(rt,it);arraysEqual(nt,ot)||(tt.uniform1iv(this.addr,ot),copyArray$2(nt,ot));for(let at=0;at!==it;++at)rt.setTexture2DArray(et[at]||emptyArrayTexture,ot[at])}function getPureArraySetter(tt){switch(tt){case 5126:return setValueV1fArray;case 35664:return setValueV2fArray;case 35665:return setValueV3fArray;case 35666:return setValueV4fArray;case 35674:return setValueM2Array;case 35675:return setValueM3Array;case 35676:return setValueM4Array;case 5124:case 35670:return setValueV1iArray;case 35667:case 35671:return setValueV2iArray;case 35668:case 35672:return setValueV3iArray;case 35669:case 35673:return setValueV4iArray;case 5125:return setValueV1uiArray;case 36294:return setValueV2uiArray;case 36295:return setValueV3uiArray;case 36296:return setValueV4uiArray;case 35678:case 36198:case 36298:case 36306:case 35682:return setValueT1Array;case 35679:case 36299:case 36307:return setValueT3DArray;case 35680:case 36300:case 36308:case 36293:return setValueT6Array;case 36289:case 36303:case 36311:case 36292:return setValueT2DArrayArray}}class SingleUniform{constructor(et,rt,nt){this.id=et,this.addr=nt,this.cache=[],this.setValue=getSingularSetter(rt.type)}}class PureArrayUniform{constructor(et,rt,nt){this.id=et,this.addr=nt,this.cache=[],this.size=rt.size,this.setValue=getPureArraySetter(rt.type)}}class StructuredUniform{constructor(et){this.id=et,this.seq=[],this.map={}}setValue(et,rt,nt){const it=this.seq;for(let ot=0,at=it.length;ot!==at;++ot){const st=it[ot];st.setValue(et,rt[st.id],nt)}}}const RePathPart=/(\w+)(\])?(\[|\.)?/g;function addUniform(tt,et){tt.seq.push(et),tt.map[et.id]=et}function parseUniform(tt,et,rt){const nt=tt.name,it=nt.length;for(RePathPart.lastIndex=0;;){const ot=RePathPart.exec(nt),at=RePathPart.lastIndex;let st=ot[1];const lt=ot[2]==="]",ct=ot[3];if(lt&&(st=st|0),ct===void 0||ct==="["&&at+2===it){addUniform(rt,ct===void 0?new SingleUniform(st,tt,et):new PureArrayUniform(st,tt,et));break}else{let dt=rt.map[st];dt===void 0&&(dt=new StructuredUniform(st),addUniform(rt,dt)),rt=dt}}}class WebGLUniforms{constructor(et,rt){this.seq=[],this.map={};const nt=et.getProgramParameter(rt,35718);for(let it=0;it<nt;++it){const ot=et.getActiveUniform(rt,it),at=et.getUniformLocation(rt,ot.name);parseUniform(ot,at,this)}}setValue(et,rt,nt,it){const ot=this.map[rt];ot!==void 0&&ot.setValue(et,nt,it)}setOptional(et,rt,nt){const it=rt[nt];it!==void 0&&this.setValue(et,nt,it)}static upload(et,rt,nt,it){for(let ot=0,at=rt.length;ot!==at;++ot){const st=rt[ot],lt=nt[st.id];lt.needsUpdate!==!1&&st.setValue(et,lt.value,it)}}static seqWithValue(et,rt){const nt=[];for(let it=0,ot=et.length;it!==ot;++it){const at=et[it];at.id in rt&&nt.push(at)}return nt}}function WebGLShader(tt,et,rt){const nt=tt.createShader(et);return tt.shaderSource(nt,rt),tt.compileShader(nt),nt}let programIdCount=0;function handleSource(tt,et){const rt=tt.split(`
`),nt=[],it=Math.max(et-6,0),ot=Math.min(et+6,rt.length);for(let at=it;at<ot;at++){const st=at+1;nt.push(`${st===et?">":" "} ${st}: ${rt[at]}`)}return nt.join(`
`)}function getEncodingComponents(tt){switch(tt){case LinearEncoding:return["Linear","( value )"];case sRGBEncoding:return["sRGB","( value )"];default:return console.warn("THREE.WebGLProgram: Unsupported encoding:",tt),["Linear","( value )"]}}function getShaderErrors(tt,et,rt){const nt=tt.getShaderParameter(et,35713),it=tt.getShaderInfoLog(et).trim();if(nt&&it==="")return"";const ot=/ERROR: 0:(\d+)/.exec(it);if(ot){const at=parseInt(ot[1]);return rt.toUpperCase()+`

`+it+`

`+handleSource(tt.getShaderSource(et),at)}else return it}function getTexelEncodingFunction(tt,et){const rt=getEncodingComponents(et);return"vec4 "+tt+"( vec4 value ) { return LinearTo"+rt[0]+rt[1]+"; }"}function getToneMappingFunction(tt,et){let rt;switch(et){case LinearToneMapping:rt="Linear";break;case ReinhardToneMapping:rt="Reinhard";break;case CineonToneMapping:rt="OptimizedCineon";break;case ACESFilmicToneMapping:rt="ACESFilmic";break;case CustomToneMapping:rt="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",et),rt="Linear"}return"vec3 "+tt+"( vec3 color ) { return "+rt+"ToneMapping( color ); }"}function generateExtensions(tt){return[tt.extensionDerivatives||tt.envMapCubeUVHeight||tt.bumpMap||tt.tangentSpaceNormalMap||tt.clearcoatNormalMap||tt.flatShading||tt.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(tt.extensionFragDepth||tt.logarithmicDepthBuffer)&&tt.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",tt.extensionDrawBuffers&&tt.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(tt.extensionShaderTextureLOD||tt.envMap||tt.transmission)&&tt.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(filterEmptyLine).join(`
`)}function generateDefines(tt){const et=[];for(const rt in tt){const nt=tt[rt];nt!==!1&&et.push("#define "+rt+" "+nt)}return et.join(`
`)}function fetchAttributeLocations(tt,et){const rt={},nt=tt.getProgramParameter(et,35721);for(let it=0;it<nt;it++){const ot=tt.getActiveAttrib(et,it),at=ot.name;let st=1;ot.type===35674&&(st=2),ot.type===35675&&(st=3),ot.type===35676&&(st=4),rt[at]={type:ot.type,location:tt.getAttribLocation(et,at),locationSize:st}}return rt}function filterEmptyLine(tt){return tt!==""}function replaceLightNums(tt,et){const rt=et.numSpotLightShadows+et.numSpotLightMaps-et.numSpotLightShadowsWithMaps;return tt.replace(/NUM_DIR_LIGHTS/g,et.numDirLights).replace(/NUM_SPOT_LIGHTS/g,et.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,et.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,rt).replace(/NUM_RECT_AREA_LIGHTS/g,et.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,et.numPointLights).replace(/NUM_HEMI_LIGHTS/g,et.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,et.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,et.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,et.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,et.numPointLightShadows)}function replaceClippingPlaneNums(tt,et){return tt.replace(/NUM_CLIPPING_PLANES/g,et.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,et.numClippingPlanes-et.numClipIntersection)}const includePattern=/^[ \t]*#include +<([\w\d./]+)>/gm;function resolveIncludes(tt){return tt.replace(includePattern,includeReplacer)}function includeReplacer(tt,et){const rt=ShaderChunk[et];if(rt===void 0)throw new Error("Can not resolve #include <"+et+">");return resolveIncludes(rt)}const unrollLoopPattern=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function unrollLoops(tt){return tt.replace(unrollLoopPattern,loopReplacer)}function loopReplacer(tt,et,rt,nt){let it="";for(let ot=parseInt(et);ot<parseInt(rt);ot++)it+=nt.replace(/\[\s*i\s*\]/g,"[ "+ot+" ]").replace(/UNROLLED_LOOP_INDEX/g,ot);return it}function generatePrecision(tt){let et="precision "+tt.precision+` float;
precision `+tt.precision+" int;";return tt.precision==="highp"?et+=`
#define HIGH_PRECISION`:tt.precision==="mediump"?et+=`
#define MEDIUM_PRECISION`:tt.precision==="lowp"&&(et+=`
#define LOW_PRECISION`),et}function generateShadowMapTypeDefine(tt){let et="SHADOWMAP_TYPE_BASIC";return tt.shadowMapType===PCFShadowMap?et="SHADOWMAP_TYPE_PCF":tt.shadowMapType===PCFSoftShadowMap?et="SHADOWMAP_TYPE_PCF_SOFT":tt.shadowMapType===VSMShadowMap&&(et="SHADOWMAP_TYPE_VSM"),et}function generateEnvMapTypeDefine(tt){let et="ENVMAP_TYPE_CUBE";if(tt.envMap)switch(tt.envMapMode){case CubeReflectionMapping:case CubeRefractionMapping:et="ENVMAP_TYPE_CUBE";break;case CubeUVReflectionMapping:et="ENVMAP_TYPE_CUBE_UV";break}return et}function generateEnvMapModeDefine(tt){let et="ENVMAP_MODE_REFLECTION";if(tt.envMap)switch(tt.envMapMode){case CubeRefractionMapping:et="ENVMAP_MODE_REFRACTION";break}return et}function generateEnvMapBlendingDefine(tt){let et="ENVMAP_BLENDING_NONE";if(tt.envMap)switch(tt.combine){case MultiplyOperation:et="ENVMAP_BLENDING_MULTIPLY";break;case MixOperation:et="ENVMAP_BLENDING_MIX";break;case AddOperation:et="ENVMAP_BLENDING_ADD";break}return et}function generateCubeUVSize(tt){const et=tt.envMapCubeUVHeight;if(et===null)return null;const rt=Math.log2(et)-2,nt=1/et;return{texelWidth:1/(3*Math.max(Math.pow(2,rt),7*16)),texelHeight:nt,maxMip:rt}}function WebGLProgram(tt,et,rt,nt){const it=tt.getContext(),ot=rt.defines;let at=rt.vertexShader,st=rt.fragmentShader;const lt=generateShadowMapTypeDefine(rt),ct=generateEnvMapTypeDefine(rt),ut=generateEnvMapModeDefine(rt),dt=generateEnvMapBlendingDefine(rt),ft=generateCubeUVSize(rt),pt=rt.isWebGL2?"":generateExtensions(rt),mt=generateDefines(ot),ht=it.createProgram();let gt,vt,yt=rt.glslVersion?"#version "+rt.glslVersion+`
`:"";rt.isRawShaderMaterial?(gt=[mt].filter(filterEmptyLine).join(`
`),gt.length>0&&(gt+=`
`),vt=[pt,mt].filter(filterEmptyLine).join(`
`),vt.length>0&&(vt+=`
`)):(gt=[generatePrecision(rt),"#define SHADER_NAME "+rt.shaderName,mt,rt.instancing?"#define USE_INSTANCING":"",rt.instancingColor?"#define USE_INSTANCING_COLOR":"",rt.supportsVertexTextures?"#define VERTEX_TEXTURES":"",rt.useFog&&rt.fog?"#define USE_FOG":"",rt.useFog&&rt.fogExp2?"#define FOG_EXP2":"",rt.map?"#define USE_MAP":"",rt.envMap?"#define USE_ENVMAP":"",rt.envMap?"#define "+ut:"",rt.lightMap?"#define USE_LIGHTMAP":"",rt.aoMap?"#define USE_AOMAP":"",rt.emissiveMap?"#define USE_EMISSIVEMAP":"",rt.bumpMap?"#define USE_BUMPMAP":"",rt.normalMap?"#define USE_NORMALMAP":"",rt.normalMap&&rt.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",rt.normalMap&&rt.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",rt.clearcoatMap?"#define USE_CLEARCOATMAP":"",rt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",rt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",rt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",rt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",rt.displacementMap&&rt.supportsVertexTextures?"#define USE_DISPLACEMENTMAP":"",rt.specularMap?"#define USE_SPECULARMAP":"",rt.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",rt.specularColorMap?"#define USE_SPECULARCOLORMAP":"",rt.roughnessMap?"#define USE_ROUGHNESSMAP":"",rt.metalnessMap?"#define USE_METALNESSMAP":"",rt.alphaMap?"#define USE_ALPHAMAP":"",rt.transmission?"#define USE_TRANSMISSION":"",rt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",rt.thicknessMap?"#define USE_THICKNESSMAP":"",rt.sheenColorMap?"#define USE_SHEENCOLORMAP":"",rt.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",rt.vertexTangents?"#define USE_TANGENT":"",rt.vertexColors?"#define USE_COLOR":"",rt.vertexAlphas?"#define USE_COLOR_ALPHA":"",rt.vertexUvs?"#define USE_UV":"",rt.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",rt.flatShading?"#define FLAT_SHADED":"",rt.skinning?"#define USE_SKINNING":"",rt.morphTargets?"#define USE_MORPHTARGETS":"",rt.morphNormals&&rt.flatShading===!1?"#define USE_MORPHNORMALS":"",rt.morphColors&&rt.isWebGL2?"#define USE_MORPHCOLORS":"",rt.morphTargetsCount>0&&rt.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",rt.morphTargetsCount>0&&rt.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+rt.morphTextureStride:"",rt.morphTargetsCount>0&&rt.isWebGL2?"#define MORPHTARGETS_COUNT "+rt.morphTargetsCount:"",rt.doubleSided?"#define DOUBLE_SIDED":"",rt.flipSided?"#define FLIP_SIDED":"",rt.shadowMapEnabled?"#define USE_SHADOWMAP":"",rt.shadowMapEnabled?"#define "+lt:"",rt.sizeAttenuation?"#define USE_SIZEATTENUATION":"",rt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",rt.logarithmicDepthBuffer&&rt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(filterEmptyLine).join(`
`),vt=[pt,generatePrecision(rt),"#define SHADER_NAME "+rt.shaderName,mt,rt.useFog&&rt.fog?"#define USE_FOG":"",rt.useFog&&rt.fogExp2?"#define FOG_EXP2":"",rt.map?"#define USE_MAP":"",rt.matcap?"#define USE_MATCAP":"",rt.envMap?"#define USE_ENVMAP":"",rt.envMap?"#define "+ct:"",rt.envMap?"#define "+ut:"",rt.envMap?"#define "+dt:"",ft?"#define CUBEUV_TEXEL_WIDTH "+ft.texelWidth:"",ft?"#define CUBEUV_TEXEL_HEIGHT "+ft.texelHeight:"",ft?"#define CUBEUV_MAX_MIP "+ft.maxMip+".0":"",rt.lightMap?"#define USE_LIGHTMAP":"",rt.aoMap?"#define USE_AOMAP":"",rt.emissiveMap?"#define USE_EMISSIVEMAP":"",rt.bumpMap?"#define USE_BUMPMAP":"",rt.normalMap?"#define USE_NORMALMAP":"",rt.normalMap&&rt.objectSpaceNormalMap?"#define OBJECTSPACE_NORMALMAP":"",rt.normalMap&&rt.tangentSpaceNormalMap?"#define TANGENTSPACE_NORMALMAP":"",rt.clearcoat?"#define USE_CLEARCOAT":"",rt.clearcoatMap?"#define USE_CLEARCOATMAP":"",rt.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",rt.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",rt.iridescence?"#define USE_IRIDESCENCE":"",rt.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",rt.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",rt.specularMap?"#define USE_SPECULARMAP":"",rt.specularIntensityMap?"#define USE_SPECULARINTENSITYMAP":"",rt.specularColorMap?"#define USE_SPECULARCOLORMAP":"",rt.roughnessMap?"#define USE_ROUGHNESSMAP":"",rt.metalnessMap?"#define USE_METALNESSMAP":"",rt.alphaMap?"#define USE_ALPHAMAP":"",rt.alphaTest?"#define USE_ALPHATEST":"",rt.sheen?"#define USE_SHEEN":"",rt.sheenColorMap?"#define USE_SHEENCOLORMAP":"",rt.sheenRoughnessMap?"#define USE_SHEENROUGHNESSMAP":"",rt.transmission?"#define USE_TRANSMISSION":"",rt.transmissionMap?"#define USE_TRANSMISSIONMAP":"",rt.thicknessMap?"#define USE_THICKNESSMAP":"",rt.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",rt.vertexTangents?"#define USE_TANGENT":"",rt.vertexColors||rt.instancingColor?"#define USE_COLOR":"",rt.vertexAlphas?"#define USE_COLOR_ALPHA":"",rt.vertexUvs?"#define USE_UV":"",rt.uvsVertexOnly?"#define UVS_VERTEX_ONLY":"",rt.gradientMap?"#define USE_GRADIENTMAP":"",rt.flatShading?"#define FLAT_SHADED":"",rt.doubleSided?"#define DOUBLE_SIDED":"",rt.flipSided?"#define FLIP_SIDED":"",rt.shadowMapEnabled?"#define USE_SHADOWMAP":"",rt.shadowMapEnabled?"#define "+lt:"",rt.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",rt.physicallyCorrectLights?"#define PHYSICALLY_CORRECT_LIGHTS":"",rt.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",rt.logarithmicDepthBuffer&&rt.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",rt.toneMapping!==NoToneMapping?"#define TONE_MAPPING":"",rt.toneMapping!==NoToneMapping?ShaderChunk.tonemapping_pars_fragment:"",rt.toneMapping!==NoToneMapping?getToneMappingFunction("toneMapping",rt.toneMapping):"",rt.dithering?"#define DITHERING":"",rt.opaque?"#define OPAQUE":"",ShaderChunk.encodings_pars_fragment,getTexelEncodingFunction("linearToOutputTexel",rt.outputEncoding),rt.useDepthPacking?"#define DEPTH_PACKING "+rt.depthPacking:"",`
`].filter(filterEmptyLine).join(`
`)),at=resolveIncludes(at),at=replaceLightNums(at,rt),at=replaceClippingPlaneNums(at,rt),st=resolveIncludes(st),st=replaceLightNums(st,rt),st=replaceClippingPlaneNums(st,rt),at=unrollLoops(at),st=unrollLoops(st),rt.isWebGL2&&rt.isRawShaderMaterial!==!0&&(yt=`#version 300 es
`,gt=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+gt,vt=["#define varying in",rt.glslVersion===GLSL3?"":"layout(location = 0) out highp vec4 pc_fragColor;",rt.glslVersion===GLSL3?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+vt);const bt=yt+gt+at,xt=yt+vt+st,$t=WebGLShader(it,35633,bt),Tt=WebGLShader(it,35632,xt);if(it.attachShader(ht,$t),it.attachShader(ht,Tt),rt.index0AttributeName!==void 0?it.bindAttribLocation(ht,0,rt.index0AttributeName):rt.morphTargets===!0&&it.bindAttribLocation(ht,0,"position"),it.linkProgram(ht),tt.debug.checkShaderErrors){const Rt=it.getProgramInfoLog(ht).trim(),It=it.getShaderInfoLog($t).trim(),Lt=it.getShaderInfoLog(Tt).trim();let Pt=!0,Nt=!0;if(it.getProgramParameter(ht,35714)===!1){Pt=!1;const Ot=getShaderErrors(it,$t,"vertex"),Bt=getShaderErrors(it,Tt,"fragment");console.error("THREE.WebGLProgram: Shader Error "+it.getError()+" - VALIDATE_STATUS "+it.getProgramParameter(ht,35715)+`

Program Info Log: `+Rt+`
`+Ot+`
`+Bt)}else Rt!==""?console.warn("THREE.WebGLProgram: Program Info Log:",Rt):(It===""||Lt==="")&&(Nt=!1);Nt&&(this.diagnostics={runnable:Pt,programLog:Rt,vertexShader:{log:It,prefix:gt},fragmentShader:{log:Lt,prefix:vt}})}it.deleteShader($t),it.deleteShader(Tt);let wt;this.getUniforms=function(){return wt===void 0&&(wt=new WebGLUniforms(it,ht)),wt};let At;return this.getAttributes=function(){return At===void 0&&(At=fetchAttributeLocations(it,ht)),At},this.destroy=function(){nt.releaseStatesOfProgram(this),it.deleteProgram(ht),this.program=void 0},this.name=rt.shaderName,this.id=programIdCount++,this.cacheKey=et,this.usedTimes=1,this.program=ht,this.vertexShader=$t,this.fragmentShader=Tt,this}let _id=0;class WebGLShaderCache{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(et){const rt=et.vertexShader,nt=et.fragmentShader,it=this._getShaderStage(rt),ot=this._getShaderStage(nt),at=this._getShaderCacheForMaterial(et);return at.has(it)===!1&&(at.add(it),it.usedTimes++),at.has(ot)===!1&&(at.add(ot),ot.usedTimes++),this}remove(et){const rt=this.materialCache.get(et);for(const nt of rt)nt.usedTimes--,nt.usedTimes===0&&this.shaderCache.delete(nt.code);return this.materialCache.delete(et),this}getVertexShaderID(et){return this._getShaderStage(et.vertexShader).id}getFragmentShaderID(et){return this._getShaderStage(et.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(et){const rt=this.materialCache;let nt=rt.get(et);return nt===void 0&&(nt=new Set,rt.set(et,nt)),nt}_getShaderStage(et){const rt=this.shaderCache;let nt=rt.get(et);return nt===void 0&&(nt=new WebGLShaderStage(et),rt.set(et,nt)),nt}}class WebGLShaderStage{constructor(et){this.id=_id++,this.code=et,this.usedTimes=0}}function WebGLPrograms(tt,et,rt,nt,it,ot,at){const st=new Layers,lt=new WebGLShaderCache,ct=[],ut=it.isWebGL2,dt=it.logarithmicDepthBuffer,ft=it.vertexTextures;let pt=it.precision;const mt={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function ht(At,Rt,It,Lt,Pt){const Nt=Lt.fog,Ot=Pt.geometry,Bt=At.isMeshStandardMaterial?Lt.environment:null,zt=(At.isMeshStandardMaterial?rt:et).get(At.envMap||Bt),Vt=zt&&zt.mapping===CubeUVReflectionMapping?zt.image.height:null,Ut=mt[At.type];At.precision!==null&&(pt=it.getMaxPrecision(At.precision),pt!==At.precision&&console.warn("THREE.WebGLProgram.getParameters:",At.precision,"not supported, using",pt,"instead."));const jt=Ot.morphAttributes.position||Ot.morphAttributes.normal||Ot.morphAttributes.color,qt=jt!==void 0?jt.length:0;let Dt=0;Ot.morphAttributes.position!==void 0&&(Dt=1),Ot.morphAttributes.normal!==void 0&&(Dt=2),Ot.morphAttributes.color!==void 0&&(Dt=3);let Ft,Zt,Kt,ir;if(Ut){const vr=ShaderLib[Ut];Ft=vr.vertexShader,Zt=vr.fragmentShader}else Ft=At.vertexShader,Zt=At.fragmentShader,lt.update(At),Kt=lt.getVertexShaderID(At),ir=lt.getFragmentShaderID(At);const rr=tt.getRenderTarget(),mr=At.alphaTest>0,sr=At.clearcoat>0,fr=At.iridescence>0;return{isWebGL2:ut,shaderID:Ut,shaderName:At.type,vertexShader:Ft,fragmentShader:Zt,defines:At.defines,customVertexShaderID:Kt,customFragmentShaderID:ir,isRawShaderMaterial:At.isRawShaderMaterial===!0,glslVersion:At.glslVersion,precision:pt,instancing:Pt.isInstancedMesh===!0,instancingColor:Pt.isInstancedMesh===!0&&Pt.instanceColor!==null,supportsVertexTextures:ft,outputEncoding:rr===null?tt.outputEncoding:rr.isXRRenderTarget===!0?rr.texture.encoding:LinearEncoding,map:!!At.map,matcap:!!At.matcap,envMap:!!zt,envMapMode:zt&&zt.mapping,envMapCubeUVHeight:Vt,lightMap:!!At.lightMap,aoMap:!!At.aoMap,emissiveMap:!!At.emissiveMap,bumpMap:!!At.bumpMap,normalMap:!!At.normalMap,objectSpaceNormalMap:At.normalMapType===ObjectSpaceNormalMap,tangentSpaceNormalMap:At.normalMapType===TangentSpaceNormalMap,decodeVideoTexture:!!At.map&&At.map.isVideoTexture===!0&&At.map.encoding===sRGBEncoding,clearcoat:sr,clearcoatMap:sr&&!!At.clearcoatMap,clearcoatRoughnessMap:sr&&!!At.clearcoatRoughnessMap,clearcoatNormalMap:sr&&!!At.clearcoatNormalMap,iridescence:fr,iridescenceMap:fr&&!!At.iridescenceMap,iridescenceThicknessMap:fr&&!!At.iridescenceThicknessMap,displacementMap:!!At.displacementMap,roughnessMap:!!At.roughnessMap,metalnessMap:!!At.metalnessMap,specularMap:!!At.specularMap,specularIntensityMap:!!At.specularIntensityMap,specularColorMap:!!At.specularColorMap,opaque:At.transparent===!1&&At.blending===NormalBlending,alphaMap:!!At.alphaMap,alphaTest:mr,gradientMap:!!At.gradientMap,sheen:At.sheen>0,sheenColorMap:!!At.sheenColorMap,sheenRoughnessMap:!!At.sheenRoughnessMap,transmission:At.transmission>0,transmissionMap:!!At.transmissionMap,thicknessMap:!!At.thicknessMap,combine:At.combine,vertexTangents:!!At.normalMap&&!!Ot.attributes.tangent,vertexColors:At.vertexColors,vertexAlphas:At.vertexColors===!0&&!!Ot.attributes.color&&Ot.attributes.color.itemSize===4,vertexUvs:!!At.map||!!At.bumpMap||!!At.normalMap||!!At.specularMap||!!At.alphaMap||!!At.emissiveMap||!!At.roughnessMap||!!At.metalnessMap||!!At.clearcoatMap||!!At.clearcoatRoughnessMap||!!At.clearcoatNormalMap||!!At.iridescenceMap||!!At.iridescenceThicknessMap||!!At.displacementMap||!!At.transmissionMap||!!At.thicknessMap||!!At.specularIntensityMap||!!At.specularColorMap||!!At.sheenColorMap||!!At.sheenRoughnessMap,uvsVertexOnly:!(At.map||At.bumpMap||At.normalMap||At.specularMap||At.alphaMap||At.emissiveMap||At.roughnessMap||At.metalnessMap||At.clearcoatNormalMap||At.iridescenceMap||At.iridescenceThicknessMap||At.transmission>0||At.transmissionMap||At.thicknessMap||At.specularIntensityMap||At.specularColorMap||At.sheen>0||At.sheenColorMap||At.sheenRoughnessMap)&&!!At.displacementMap,fog:!!Nt,useFog:At.fog===!0,fogExp2:Nt&&Nt.isFogExp2,flatShading:!!At.flatShading,sizeAttenuation:At.sizeAttenuation,logarithmicDepthBuffer:dt,skinning:Pt.isSkinnedMesh===!0,morphTargets:Ot.morphAttributes.position!==void 0,morphNormals:Ot.morphAttributes.normal!==void 0,morphColors:Ot.morphAttributes.color!==void 0,morphTargetsCount:qt,morphTextureStride:Dt,numDirLights:Rt.directional.length,numPointLights:Rt.point.length,numSpotLights:Rt.spot.length,numSpotLightMaps:Rt.spotLightMap.length,numRectAreaLights:Rt.rectArea.length,numHemiLights:Rt.hemi.length,numDirLightShadows:Rt.directionalShadowMap.length,numPointLightShadows:Rt.pointShadowMap.length,numSpotLightShadows:Rt.spotShadowMap.length,numSpotLightShadowsWithMaps:Rt.numSpotLightShadowsWithMaps,numClippingPlanes:at.numPlanes,numClipIntersection:at.numIntersection,dithering:At.dithering,shadowMapEnabled:tt.shadowMap.enabled&&It.length>0,shadowMapType:tt.shadowMap.type,toneMapping:At.toneMapped?tt.toneMapping:NoToneMapping,physicallyCorrectLights:tt.physicallyCorrectLights,premultipliedAlpha:At.premultipliedAlpha,doubleSided:At.side===DoubleSide,flipSided:At.side===BackSide,useDepthPacking:!!At.depthPacking,depthPacking:At.depthPacking||0,index0AttributeName:At.index0AttributeName,extensionDerivatives:At.extensions&&At.extensions.derivatives,extensionFragDepth:At.extensions&&At.extensions.fragDepth,extensionDrawBuffers:At.extensions&&At.extensions.drawBuffers,extensionShaderTextureLOD:At.extensions&&At.extensions.shaderTextureLOD,rendererExtensionFragDepth:ut||nt.has("EXT_frag_depth"),rendererExtensionDrawBuffers:ut||nt.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:ut||nt.has("EXT_shader_texture_lod"),customProgramCacheKey:At.customProgramCacheKey()}}function gt(At){const Rt=[];if(At.shaderID?Rt.push(At.shaderID):(Rt.push(At.customVertexShaderID),Rt.push(At.customFragmentShaderID)),At.defines!==void 0)for(const It in At.defines)Rt.push(It),Rt.push(At.defines[It]);return At.isRawShaderMaterial===!1&&(vt(Rt,At),yt(Rt,At),Rt.push(tt.outputEncoding)),Rt.push(At.customProgramCacheKey),Rt.join()}function vt(At,Rt){At.push(Rt.precision),At.push(Rt.outputEncoding),At.push(Rt.envMapMode),At.push(Rt.envMapCubeUVHeight),At.push(Rt.combine),At.push(Rt.vertexUvs),At.push(Rt.fogExp2),At.push(Rt.sizeAttenuation),At.push(Rt.morphTargetsCount),At.push(Rt.morphAttributeCount),At.push(Rt.numDirLights),At.push(Rt.numPointLights),At.push(Rt.numSpotLights),At.push(Rt.numSpotLightMaps),At.push(Rt.numHemiLights),At.push(Rt.numRectAreaLights),At.push(Rt.numDirLightShadows),At.push(Rt.numPointLightShadows),At.push(Rt.numSpotLightShadows),At.push(Rt.numSpotLightShadowsWithMaps),At.push(Rt.shadowMapType),At.push(Rt.toneMapping),At.push(Rt.numClippingPlanes),At.push(Rt.numClipIntersection),At.push(Rt.depthPacking)}function yt(At,Rt){st.disableAll(),Rt.isWebGL2&&st.enable(0),Rt.supportsVertexTextures&&st.enable(1),Rt.instancing&&st.enable(2),Rt.instancingColor&&st.enable(3),Rt.map&&st.enable(4),Rt.matcap&&st.enable(5),Rt.envMap&&st.enable(6),Rt.lightMap&&st.enable(7),Rt.aoMap&&st.enable(8),Rt.emissiveMap&&st.enable(9),Rt.bumpMap&&st.enable(10),Rt.normalMap&&st.enable(11),Rt.objectSpaceNormalMap&&st.enable(12),Rt.tangentSpaceNormalMap&&st.enable(13),Rt.clearcoat&&st.enable(14),Rt.clearcoatMap&&st.enable(15),Rt.clearcoatRoughnessMap&&st.enable(16),Rt.clearcoatNormalMap&&st.enable(17),Rt.iridescence&&st.enable(18),Rt.iridescenceMap&&st.enable(19),Rt.iridescenceThicknessMap&&st.enable(20),Rt.displacementMap&&st.enable(21),Rt.specularMap&&st.enable(22),Rt.roughnessMap&&st.enable(23),Rt.metalnessMap&&st.enable(24),Rt.gradientMap&&st.enable(25),Rt.alphaMap&&st.enable(26),Rt.alphaTest&&st.enable(27),Rt.vertexColors&&st.enable(28),Rt.vertexAlphas&&st.enable(29),Rt.vertexUvs&&st.enable(30),Rt.vertexTangents&&st.enable(31),Rt.uvsVertexOnly&&st.enable(32),At.push(st.mask),st.disableAll(),Rt.fog&&st.enable(0),Rt.useFog&&st.enable(1),Rt.flatShading&&st.enable(2),Rt.logarithmicDepthBuffer&&st.enable(3),Rt.skinning&&st.enable(4),Rt.morphTargets&&st.enable(5),Rt.morphNormals&&st.enable(6),Rt.morphColors&&st.enable(7),Rt.premultipliedAlpha&&st.enable(8),Rt.shadowMapEnabled&&st.enable(9),Rt.physicallyCorrectLights&&st.enable(10),Rt.doubleSided&&st.enable(11),Rt.flipSided&&st.enable(12),Rt.useDepthPacking&&st.enable(13),Rt.dithering&&st.enable(14),Rt.specularIntensityMap&&st.enable(15),Rt.specularColorMap&&st.enable(16),Rt.transmission&&st.enable(17),Rt.transmissionMap&&st.enable(18),Rt.thicknessMap&&st.enable(19),Rt.sheen&&st.enable(20),Rt.sheenColorMap&&st.enable(21),Rt.sheenRoughnessMap&&st.enable(22),Rt.decodeVideoTexture&&st.enable(23),Rt.opaque&&st.enable(24),At.push(st.mask)}function bt(At){const Rt=mt[At.type];let It;if(Rt){const Lt=ShaderLib[Rt];It=UniformsUtils.clone(Lt.uniforms)}else It=At.uniforms;return It}function xt(At,Rt){let It;for(let Lt=0,Pt=ct.length;Lt<Pt;Lt++){const Nt=ct[Lt];if(Nt.cacheKey===Rt){It=Nt,++It.usedTimes;break}}return It===void 0&&(It=new WebGLProgram(tt,Rt,At,ot),ct.push(It)),It}function $t(At){if(--At.usedTimes===0){const Rt=ct.indexOf(At);ct[Rt]=ct[ct.length-1],ct.pop(),At.destroy()}}function Tt(At){lt.remove(At)}function wt(){lt.dispose()}return{getParameters:ht,getProgramCacheKey:gt,getUniforms:bt,acquireProgram:xt,releaseProgram:$t,releaseShaderCache:Tt,programs:ct,dispose:wt}}function WebGLProperties(){let tt=new WeakMap;function et(ot){let at=tt.get(ot);return at===void 0&&(at={},tt.set(ot,at)),at}function rt(ot){tt.delete(ot)}function nt(ot,at,st){tt.get(ot)[at]=st}function it(){tt=new WeakMap}return{get:et,remove:rt,update:nt,dispose:it}}function painterSortStable(tt,et){return tt.groupOrder!==et.groupOrder?tt.groupOrder-et.groupOrder:tt.renderOrder!==et.renderOrder?tt.renderOrder-et.renderOrder:tt.material.id!==et.material.id?tt.material.id-et.material.id:tt.z!==et.z?tt.z-et.z:tt.id-et.id}function reversePainterSortStable(tt,et){return tt.groupOrder!==et.groupOrder?tt.groupOrder-et.groupOrder:tt.renderOrder!==et.renderOrder?tt.renderOrder-et.renderOrder:tt.z!==et.z?et.z-tt.z:tt.id-et.id}function WebGLRenderList(){const tt=[];let et=0;const rt=[],nt=[],it=[];function ot(){et=0,rt.length=0,nt.length=0,it.length=0}function at(dt,ft,pt,mt,ht,gt){let vt=tt[et];return vt===void 0?(vt={id:dt.id,object:dt,geometry:ft,material:pt,groupOrder:mt,renderOrder:dt.renderOrder,z:ht,group:gt},tt[et]=vt):(vt.id=dt.id,vt.object=dt,vt.geometry=ft,vt.material=pt,vt.groupOrder=mt,vt.renderOrder=dt.renderOrder,vt.z=ht,vt.group=gt),et++,vt}function st(dt,ft,pt,mt,ht,gt){const vt=at(dt,ft,pt,mt,ht,gt);pt.transmission>0?nt.push(vt):pt.transparent===!0?it.push(vt):rt.push(vt)}function lt(dt,ft,pt,mt,ht,gt){const vt=at(dt,ft,pt,mt,ht,gt);pt.transmission>0?nt.unshift(vt):pt.transparent===!0?it.unshift(vt):rt.unshift(vt)}function ct(dt,ft){rt.length>1&&rt.sort(dt||painterSortStable),nt.length>1&&nt.sort(ft||reversePainterSortStable),it.length>1&&it.sort(ft||reversePainterSortStable)}function ut(){for(let dt=et,ft=tt.length;dt<ft;dt++){const pt=tt[dt];if(pt.id===null)break;pt.id=null,pt.object=null,pt.geometry=null,pt.material=null,pt.group=null}}return{opaque:rt,transmissive:nt,transparent:it,init:ot,push:st,unshift:lt,finish:ut,sort:ct}}function WebGLRenderLists(){let tt=new WeakMap;function et(nt,it){const ot=tt.get(nt);let at;return ot===void 0?(at=new WebGLRenderList,tt.set(nt,[at])):it>=ot.length?(at=new WebGLRenderList,ot.push(at)):at=ot[it],at}function rt(){tt=new WeakMap}return{get:et,dispose:rt}}function UniformsCache(){const tt={};return{get:function(et){if(tt[et.id]!==void 0)return tt[et.id];let rt;switch(et.type){case"DirectionalLight":rt={direction:new Vector3,color:new Color};break;case"SpotLight":rt={position:new Vector3,direction:new Vector3,color:new Color,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":rt={position:new Vector3,color:new Color,distance:0,decay:0};break;case"HemisphereLight":rt={direction:new Vector3,skyColor:new Color,groundColor:new Color};break;case"RectAreaLight":rt={color:new Color,position:new Vector3,halfWidth:new Vector3,halfHeight:new Vector3};break}return tt[et.id]=rt,rt}}}function ShadowUniformsCache(){const tt={};return{get:function(et){if(tt[et.id]!==void 0)return tt[et.id];let rt;switch(et.type){case"DirectionalLight":rt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"SpotLight":rt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2};break;case"PointLight":rt={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new Vector2,shadowCameraNear:1,shadowCameraFar:1e3};break}return tt[et.id]=rt,rt}}}let nextVersion=0;function shadowCastingAndTexturingLightsFirst(tt,et){return(et.castShadow?2:0)-(tt.castShadow?2:0)+(et.map?1:0)-(tt.map?1:0)}function WebGLLights(tt,et){const rt=new UniformsCache,nt=ShadowUniformsCache(),it={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0};for(let ut=0;ut<9;ut++)it.probe.push(new Vector3);const ot=new Vector3,at=new Matrix4,st=new Matrix4;function lt(ut,dt){let ft=0,pt=0,mt=0;for(let Lt=0;Lt<9;Lt++)it.probe[Lt].set(0,0,0);let ht=0,gt=0,vt=0,yt=0,bt=0,xt=0,$t=0,Tt=0,wt=0,At=0;ut.sort(shadowCastingAndTexturingLightsFirst);const Rt=dt!==!0?Math.PI:1;for(let Lt=0,Pt=ut.length;Lt<Pt;Lt++){const Nt=ut[Lt],Ot=Nt.color,Bt=Nt.intensity,zt=Nt.distance,Vt=Nt.shadow&&Nt.shadow.map?Nt.shadow.map.texture:null;if(Nt.isAmbientLight)ft+=Ot.r*Bt*Rt,pt+=Ot.g*Bt*Rt,mt+=Ot.b*Bt*Rt;else if(Nt.isLightProbe)for(let Ut=0;Ut<9;Ut++)it.probe[Ut].addScaledVector(Nt.sh.coefficients[Ut],Bt);else if(Nt.isDirectionalLight){const Ut=rt.get(Nt);if(Ut.color.copy(Nt.color).multiplyScalar(Nt.intensity*Rt),Nt.castShadow){const jt=Nt.shadow,qt=nt.get(Nt);qt.shadowBias=jt.bias,qt.shadowNormalBias=jt.normalBias,qt.shadowRadius=jt.radius,qt.shadowMapSize=jt.mapSize,it.directionalShadow[ht]=qt,it.directionalShadowMap[ht]=Vt,it.directionalShadowMatrix[ht]=Nt.shadow.matrix,xt++}it.directional[ht]=Ut,ht++}else if(Nt.isSpotLight){const Ut=rt.get(Nt);Ut.position.setFromMatrixPosition(Nt.matrixWorld),Ut.color.copy(Ot).multiplyScalar(Bt*Rt),Ut.distance=zt,Ut.coneCos=Math.cos(Nt.angle),Ut.penumbraCos=Math.cos(Nt.angle*(1-Nt.penumbra)),Ut.decay=Nt.decay,it.spot[vt]=Ut;const jt=Nt.shadow;if(Nt.map&&(it.spotLightMap[wt]=Nt.map,wt++,jt.updateMatrices(Nt),Nt.castShadow&&At++),it.spotLightMatrix[vt]=jt.matrix,Nt.castShadow){const qt=nt.get(Nt);qt.shadowBias=jt.bias,qt.shadowNormalBias=jt.normalBias,qt.shadowRadius=jt.radius,qt.shadowMapSize=jt.mapSize,it.spotShadow[vt]=qt,it.spotShadowMap[vt]=Vt,Tt++}vt++}else if(Nt.isRectAreaLight){const Ut=rt.get(Nt);Ut.color.copy(Ot).multiplyScalar(Bt),Ut.halfWidth.set(Nt.width*.5,0,0),Ut.halfHeight.set(0,Nt.height*.5,0),it.rectArea[yt]=Ut,yt++}else if(Nt.isPointLight){const Ut=rt.get(Nt);if(Ut.color.copy(Nt.color).multiplyScalar(Nt.intensity*Rt),Ut.distance=Nt.distance,Ut.decay=Nt.decay,Nt.castShadow){const jt=Nt.shadow,qt=nt.get(Nt);qt.shadowBias=jt.bias,qt.shadowNormalBias=jt.normalBias,qt.shadowRadius=jt.radius,qt.shadowMapSize=jt.mapSize,qt.shadowCameraNear=jt.camera.near,qt.shadowCameraFar=jt.camera.far,it.pointShadow[gt]=qt,it.pointShadowMap[gt]=Vt,it.pointShadowMatrix[gt]=Nt.shadow.matrix,$t++}it.point[gt]=Ut,gt++}else if(Nt.isHemisphereLight){const Ut=rt.get(Nt);Ut.skyColor.copy(Nt.color).multiplyScalar(Bt*Rt),Ut.groundColor.copy(Nt.groundColor).multiplyScalar(Bt*Rt),it.hemi[bt]=Ut,bt++}}yt>0&&(et.isWebGL2||tt.has("OES_texture_float_linear")===!0?(it.rectAreaLTC1=UniformsLib.LTC_FLOAT_1,it.rectAreaLTC2=UniformsLib.LTC_FLOAT_2):tt.has("OES_texture_half_float_linear")===!0?(it.rectAreaLTC1=UniformsLib.LTC_HALF_1,it.rectAreaLTC2=UniformsLib.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),it.ambient[0]=ft,it.ambient[1]=pt,it.ambient[2]=mt;const It=it.hash;(It.directionalLength!==ht||It.pointLength!==gt||It.spotLength!==vt||It.rectAreaLength!==yt||It.hemiLength!==bt||It.numDirectionalShadows!==xt||It.numPointShadows!==$t||It.numSpotShadows!==Tt||It.numSpotMaps!==wt)&&(it.directional.length=ht,it.spot.length=vt,it.rectArea.length=yt,it.point.length=gt,it.hemi.length=bt,it.directionalShadow.length=xt,it.directionalShadowMap.length=xt,it.pointShadow.length=$t,it.pointShadowMap.length=$t,it.spotShadow.length=Tt,it.spotShadowMap.length=Tt,it.directionalShadowMatrix.length=xt,it.pointShadowMatrix.length=$t,it.spotLightMatrix.length=Tt+wt-At,it.spotLightMap.length=wt,it.numSpotLightShadowsWithMaps=At,It.directionalLength=ht,It.pointLength=gt,It.spotLength=vt,It.rectAreaLength=yt,It.hemiLength=bt,It.numDirectionalShadows=xt,It.numPointShadows=$t,It.numSpotShadows=Tt,It.numSpotMaps=wt,it.version=nextVersion++)}function ct(ut,dt){let ft=0,pt=0,mt=0,ht=0,gt=0;const vt=dt.matrixWorldInverse;for(let yt=0,bt=ut.length;yt<bt;yt++){const xt=ut[yt];if(xt.isDirectionalLight){const $t=it.directional[ft];$t.direction.setFromMatrixPosition(xt.matrixWorld),ot.setFromMatrixPosition(xt.target.matrixWorld),$t.direction.sub(ot),$t.direction.transformDirection(vt),ft++}else if(xt.isSpotLight){const $t=it.spot[mt];$t.position.setFromMatrixPosition(xt.matrixWorld),$t.position.applyMatrix4(vt),$t.direction.setFromMatrixPosition(xt.matrixWorld),ot.setFromMatrixPosition(xt.target.matrixWorld),$t.direction.sub(ot),$t.direction.transformDirection(vt),mt++}else if(xt.isRectAreaLight){const $t=it.rectArea[ht];$t.position.setFromMatrixPosition(xt.matrixWorld),$t.position.applyMatrix4(vt),st.identity(),at.copy(xt.matrixWorld),at.premultiply(vt),st.extractRotation(at),$t.halfWidth.set(xt.width*.5,0,0),$t.halfHeight.set(0,xt.height*.5,0),$t.halfWidth.applyMatrix4(st),$t.halfHeight.applyMatrix4(st),ht++}else if(xt.isPointLight){const $t=it.point[pt];$t.position.setFromMatrixPosition(xt.matrixWorld),$t.position.applyMatrix4(vt),pt++}else if(xt.isHemisphereLight){const $t=it.hemi[gt];$t.direction.setFromMatrixPosition(xt.matrixWorld),$t.direction.transformDirection(vt),gt++}}}return{setup:lt,setupView:ct,state:it}}function WebGLRenderState(tt,et){const rt=new WebGLLights(tt,et),nt=[],it=[];function ot(){nt.length=0,it.length=0}function at(dt){nt.push(dt)}function st(dt){it.push(dt)}function lt(dt){rt.setup(nt,dt)}function ct(dt){rt.setupView(nt,dt)}return{init:ot,state:{lightsArray:nt,shadowsArray:it,lights:rt},setupLights:lt,setupLightsView:ct,pushLight:at,pushShadow:st}}function WebGLRenderStates(tt,et){let rt=new WeakMap;function nt(ot,at=0){const st=rt.get(ot);let lt;return st===void 0?(lt=new WebGLRenderState(tt,et),rt.set(ot,[lt])):at>=st.length?(lt=new WebGLRenderState(tt,et),st.push(lt)):lt=st[at],lt}function it(){rt=new WeakMap}return{get:nt,dispose:it}}class MeshDepthMaterial extends Material$2{constructor(et){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=BasicDepthPacking,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(et)}copy(et){return super.copy(et),this.depthPacking=et.depthPacking,this.map=et.map,this.alphaMap=et.alphaMap,this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this}}class MeshDistanceMaterial extends Material$2{constructor(et){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.referencePosition=new Vector3,this.nearDistance=1,this.farDistance=1e3,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(et)}copy(et){return super.copy(et),this.referencePosition.copy(et.referencePosition),this.nearDistance=et.nearDistance,this.farDistance=et.farDistance,this.map=et.map,this.alphaMap=et.alphaMap,this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this}}const vertex=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,fragment=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function WebGLShadowMap(tt,et,rt){let nt=new Frustum;const it=new Vector2,ot=new Vector2,at=new Vector4,st=new MeshDepthMaterial({depthPacking:RGBADepthPacking}),lt=new MeshDistanceMaterial,ct={},ut=rt.maxTextureSize,dt={0:BackSide,1:FrontSide,2:DoubleSide},ft=new ShaderMaterial({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new Vector2},radius:{value:4}},vertexShader:vertex,fragmentShader:fragment}),pt=ft.clone();pt.defines.HORIZONTAL_PASS=1;const mt=new BufferGeometry;mt.setAttribute("position",new BufferAttribute(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const ht=new Mesh(mt,ft),gt=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=PCFShadowMap,this.render=function(xt,$t,Tt){if(gt.enabled===!1||gt.autoUpdate===!1&&gt.needsUpdate===!1||xt.length===0)return;const wt=tt.getRenderTarget(),At=tt.getActiveCubeFace(),Rt=tt.getActiveMipmapLevel(),It=tt.state;It.setBlending(NoBlending),It.buffers.color.setClear(1,1,1,1),It.buffers.depth.setTest(!0),It.setScissorTest(!1);for(let Lt=0,Pt=xt.length;Lt<Pt;Lt++){const Nt=xt[Lt],Ot=Nt.shadow;if(Ot===void 0){console.warn("THREE.WebGLShadowMap:",Nt,"has no shadow.");continue}if(Ot.autoUpdate===!1&&Ot.needsUpdate===!1)continue;it.copy(Ot.mapSize);const Bt=Ot.getFrameExtents();if(it.multiply(Bt),ot.copy(Ot.mapSize),(it.x>ut||it.y>ut)&&(it.x>ut&&(ot.x=Math.floor(ut/Bt.x),it.x=ot.x*Bt.x,Ot.mapSize.x=ot.x),it.y>ut&&(ot.y=Math.floor(ut/Bt.y),it.y=ot.y*Bt.y,Ot.mapSize.y=ot.y)),Ot.map===null){const Vt=this.type!==VSMShadowMap?{minFilter:NearestFilter,magFilter:NearestFilter}:{};Ot.map=new WebGLRenderTarget(it.x,it.y,Vt),Ot.map.texture.name=Nt.name+".shadowMap",Ot.camera.updateProjectionMatrix()}tt.setRenderTarget(Ot.map),tt.clear();const zt=Ot.getViewportCount();for(let Vt=0;Vt<zt;Vt++){const Ut=Ot.getViewport(Vt);at.set(ot.x*Ut.x,ot.y*Ut.y,ot.x*Ut.z,ot.y*Ut.w),It.viewport(at),Ot.updateMatrices(Nt,Vt),nt=Ot.getFrustum(),bt($t,Tt,Ot.camera,Nt,this.type)}Ot.isPointLightShadow!==!0&&this.type===VSMShadowMap&&vt(Ot,Tt),Ot.needsUpdate=!1}gt.needsUpdate=!1,tt.setRenderTarget(wt,At,Rt)};function vt(xt,$t){const Tt=et.update(ht);ft.defines.VSM_SAMPLES!==xt.blurSamples&&(ft.defines.VSM_SAMPLES=xt.blurSamples,pt.defines.VSM_SAMPLES=xt.blurSamples,ft.needsUpdate=!0,pt.needsUpdate=!0),xt.mapPass===null&&(xt.mapPass=new WebGLRenderTarget(it.x,it.y)),ft.uniforms.shadow_pass.value=xt.map.texture,ft.uniforms.resolution.value=xt.mapSize,ft.uniforms.radius.value=xt.radius,tt.setRenderTarget(xt.mapPass),tt.clear(),tt.renderBufferDirect($t,null,Tt,ft,ht,null),pt.uniforms.shadow_pass.value=xt.mapPass.texture,pt.uniforms.resolution.value=xt.mapSize,pt.uniforms.radius.value=xt.radius,tt.setRenderTarget(xt.map),tt.clear(),tt.renderBufferDirect($t,null,Tt,pt,ht,null)}function yt(xt,$t,Tt,wt,At,Rt){let It=null;const Lt=Tt.isPointLight===!0?xt.customDistanceMaterial:xt.customDepthMaterial;if(Lt!==void 0)It=Lt;else if(It=Tt.isPointLight===!0?lt:st,tt.localClippingEnabled&&$t.clipShadows===!0&&Array.isArray($t.clippingPlanes)&&$t.clippingPlanes.length!==0||$t.displacementMap&&$t.displacementScale!==0||$t.alphaMap&&$t.alphaTest>0||$t.map&&$t.alphaTest>0){const Pt=It.uuid,Nt=$t.uuid;let Ot=ct[Pt];Ot===void 0&&(Ot={},ct[Pt]=Ot);let Bt=Ot[Nt];Bt===void 0&&(Bt=It.clone(),Ot[Nt]=Bt),It=Bt}return It.visible=$t.visible,It.wireframe=$t.wireframe,Rt===VSMShadowMap?It.side=$t.shadowSide!==null?$t.shadowSide:$t.side:It.side=$t.shadowSide!==null?$t.shadowSide:dt[$t.side],It.alphaMap=$t.alphaMap,It.alphaTest=$t.alphaTest,It.map=$t.map,It.clipShadows=$t.clipShadows,It.clippingPlanes=$t.clippingPlanes,It.clipIntersection=$t.clipIntersection,It.displacementMap=$t.displacementMap,It.displacementScale=$t.displacementScale,It.displacementBias=$t.displacementBias,It.wireframeLinewidth=$t.wireframeLinewidth,It.linewidth=$t.linewidth,Tt.isPointLight===!0&&It.isMeshDistanceMaterial===!0&&(It.referencePosition.setFromMatrixPosition(Tt.matrixWorld),It.nearDistance=wt,It.farDistance=At),It}function bt(xt,$t,Tt,wt,At){if(xt.visible===!1)return;if(xt.layers.test($t.layers)&&(xt.isMesh||xt.isLine||xt.isPoints)&&(xt.castShadow||xt.receiveShadow&&At===VSMShadowMap)&&(!xt.frustumCulled||nt.intersectsObject(xt))){xt.modelViewMatrix.multiplyMatrices(Tt.matrixWorldInverse,xt.matrixWorld);const Lt=et.update(xt),Pt=xt.material;if(Array.isArray(Pt)){const Nt=Lt.groups;for(let Ot=0,Bt=Nt.length;Ot<Bt;Ot++){const zt=Nt[Ot],Vt=Pt[zt.materialIndex];if(Vt&&Vt.visible){const Ut=yt(xt,Vt,wt,Tt.near,Tt.far,At);tt.renderBufferDirect(Tt,null,Lt,Ut,xt,zt)}}}else if(Pt.visible){const Nt=yt(xt,Pt,wt,Tt.near,Tt.far,At);tt.renderBufferDirect(Tt,null,Lt,Nt,xt,null)}}const It=xt.children;for(let Lt=0,Pt=It.length;Lt<Pt;Lt++)bt(It[Lt],$t,Tt,wt,At)}}function WebGLState(tt,et,rt){const nt=rt.isWebGL2;function it(){let Cr=!1;const Dr=new Vector4;let Hr=null;const Yr=new Vector4(0,0,0,0);return{setMask:function(dn){Hr!==dn&&!Cr&&(tt.colorMask(dn,dn,dn,dn),Hr=dn)},setLocked:function(dn){Cr=dn},setClear:function(dn,On,Dn,Bn,Fn){Fn===!0&&(dn*=Bn,On*=Bn,Dn*=Bn),Dr.set(dn,On,Dn,Bn),Yr.equals(Dr)===!1&&(tt.clearColor(dn,On,Dn,Bn),Yr.copy(Dr))},reset:function(){Cr=!1,Hr=null,Yr.set(-1,0,0,0)}}}function ot(){let Cr=!1,Dr=null,Hr=null,Yr=null;return{setTest:function(dn){dn?mr(2929):sr(2929)},setMask:function(dn){Dr!==dn&&!Cr&&(tt.depthMask(dn),Dr=dn)},setFunc:function(dn){if(Hr!==dn){switch(dn){case NeverDepth:tt.depthFunc(512);break;case AlwaysDepth:tt.depthFunc(519);break;case LessDepth:tt.depthFunc(513);break;case LessEqualDepth:tt.depthFunc(515);break;case EqualDepth:tt.depthFunc(514);break;case GreaterEqualDepth:tt.depthFunc(518);break;case GreaterDepth:tt.depthFunc(516);break;case NotEqualDepth:tt.depthFunc(517);break;default:tt.depthFunc(515)}Hr=dn}},setLocked:function(dn){Cr=dn},setClear:function(dn){Yr!==dn&&(tt.clearDepth(dn),Yr=dn)},reset:function(){Cr=!1,Dr=null,Hr=null,Yr=null}}}function at(){let Cr=!1,Dr=null,Hr=null,Yr=null,dn=null,On=null,Dn=null,Bn=null,Fn=null;return{setTest:function(Mn){Cr||(Mn?mr(2960):sr(2960))},setMask:function(Mn){Dr!==Mn&&!Cr&&(tt.stencilMask(Mn),Dr=Mn)},setFunc:function(Mn,Ln,Rn){(Hr!==Mn||Yr!==Ln||dn!==Rn)&&(tt.stencilFunc(Mn,Ln,Rn),Hr=Mn,Yr=Ln,dn=Rn)},setOp:function(Mn,Ln,Rn){(On!==Mn||Dn!==Ln||Bn!==Rn)&&(tt.stencilOp(Mn,Ln,Rn),On=Mn,Dn=Ln,Bn=Rn)},setLocked:function(Mn){Cr=Mn},setClear:function(Mn){Fn!==Mn&&(tt.clearStencil(Mn),Fn=Mn)},reset:function(){Cr=!1,Dr=null,Hr=null,Yr=null,dn=null,On=null,Dn=null,Bn=null,Fn=null}}}const st=new it,lt=new ot,ct=new at,ut=new WeakMap,dt=new WeakMap;let ft={},pt={},mt=new WeakMap,ht=[],gt=null,vt=!1,yt=null,bt=null,xt=null,$t=null,Tt=null,wt=null,At=null,Rt=!1,It=null,Lt=null,Pt=null,Nt=null,Ot=null;const Bt=tt.getParameter(35661);let zt=!1,Vt=0;const Ut=tt.getParameter(7938);Ut.indexOf("WebGL")!==-1?(Vt=parseFloat(/^WebGL (\d)/.exec(Ut)[1]),zt=Vt>=1):Ut.indexOf("OpenGL ES")!==-1&&(Vt=parseFloat(/^OpenGL ES (\d)/.exec(Ut)[1]),zt=Vt>=2);let jt=null,qt={};const Dt=tt.getParameter(3088),Ft=tt.getParameter(2978),Zt=new Vector4().fromArray(Dt),Kt=new Vector4().fromArray(Ft);function ir(Cr,Dr,Hr){const Yr=new Uint8Array(4),dn=tt.createTexture();tt.bindTexture(Cr,dn),tt.texParameteri(Cr,10241,9728),tt.texParameteri(Cr,10240,9728);for(let On=0;On<Hr;On++)tt.texImage2D(Dr+On,0,6408,1,1,0,6408,5121,Yr);return dn}const rr={};rr[3553]=ir(3553,3553,1),rr[34067]=ir(34067,34069,6),st.setClear(0,0,0,1),lt.setClear(1),ct.setClear(0),mr(2929),lt.setFunc(LessEqualDepth),nr(!1),Qt(CullFaceBack),mr(2884),Gt(NoBlending);function mr(Cr){ft[Cr]!==!0&&(tt.enable(Cr),ft[Cr]=!0)}function sr(Cr){ft[Cr]!==!1&&(tt.disable(Cr),ft[Cr]=!1)}function fr(Cr,Dr){return pt[Cr]!==Dr?(tt.bindFramebuffer(Cr,Dr),pt[Cr]=Dr,nt&&(Cr===36009&&(pt[36160]=Dr),Cr===36160&&(pt[36009]=Dr)),!0):!1}function pr(Cr,Dr){let Hr=ht,Yr=!1;if(Cr)if(Hr=mt.get(Dr),Hr===void 0&&(Hr=[],mt.set(Dr,Hr)),Cr.isWebGLMultipleRenderTargets){const dn=Cr.texture;if(Hr.length!==dn.length||Hr[0]!==36064){for(let On=0,Dn=dn.length;On<Dn;On++)Hr[On]=36064+On;Hr.length=dn.length,Yr=!0}}else Hr[0]!==36064&&(Hr[0]=36064,Yr=!0);else Hr[0]!==1029&&(Hr[0]=1029,Yr=!0);Yr&&(rt.isWebGL2?tt.drawBuffers(Hr):et.get("WEBGL_draw_buffers").drawBuffersWEBGL(Hr))}function vr(Cr){return gt!==Cr?(tt.useProgram(Cr),gt=Cr,!0):!1}const dr={[AddEquation]:32774,[SubtractEquation]:32778,[ReverseSubtractEquation]:32779};if(nt)dr[MinEquation]=32775,dr[MaxEquation]=32776;else{const Cr=et.get("EXT_blend_minmax");Cr!==null&&(dr[MinEquation]=Cr.MIN_EXT,dr[MaxEquation]=Cr.MAX_EXT)}const xr={[ZeroFactor]:0,[OneFactor]:1,[SrcColorFactor]:768,[SrcAlphaFactor]:770,[SrcAlphaSaturateFactor]:776,[DstColorFactor]:774,[DstAlphaFactor]:772,[OneMinusSrcColorFactor]:769,[OneMinusSrcAlphaFactor]:771,[OneMinusDstColorFactor]:775,[OneMinusDstAlphaFactor]:773};function Gt(Cr,Dr,Hr,Yr,dn,On,Dn,Bn){if(Cr===NoBlending){vt===!0&&(sr(3042),vt=!1);return}if(vt===!1&&(mr(3042),vt=!0),Cr!==CustomBlending){if(Cr!==yt||Bn!==Rt){if((bt!==AddEquation||Tt!==AddEquation)&&(tt.blendEquation(32774),bt=AddEquation,Tt=AddEquation),Bn)switch(Cr){case NormalBlending:tt.blendFuncSeparate(1,771,1,771);break;case AdditiveBlending:tt.blendFunc(1,1);break;case SubtractiveBlending:tt.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:tt.blendFuncSeparate(0,768,0,770);break;default:console.error("THREE.WebGLState: Invalid blending: ",Cr);break}else switch(Cr){case NormalBlending:tt.blendFuncSeparate(770,771,1,771);break;case AdditiveBlending:tt.blendFunc(770,1);break;case SubtractiveBlending:tt.blendFuncSeparate(0,769,0,1);break;case MultiplyBlending:tt.blendFunc(0,768);break;default:console.error("THREE.WebGLState: Invalid blending: ",Cr);break}xt=null,$t=null,wt=null,At=null,yt=Cr,Rt=Bn}return}dn=dn||Dr,On=On||Hr,Dn=Dn||Yr,(Dr!==bt||dn!==Tt)&&(tt.blendEquationSeparate(dr[Dr],dr[dn]),bt=Dr,Tt=dn),(Hr!==xt||Yr!==$t||On!==wt||Dn!==At)&&(tt.blendFuncSeparate(xr[Hr],xr[Yr],xr[On],xr[Dn]),xt=Hr,$t=Yr,wt=On,At=Dn),yt=Cr,Rt=!1}function Wt(Cr,Dr){Cr.side===DoubleSide?sr(2884):mr(2884);let Hr=Cr.side===BackSide;Dr&&(Hr=!Hr),nr(Hr),Cr.blending===NormalBlending&&Cr.transparent===!1?Gt(NoBlending):Gt(Cr.blending,Cr.blendEquation,Cr.blendSrc,Cr.blendDst,Cr.blendEquationAlpha,Cr.blendSrcAlpha,Cr.blendDstAlpha,Cr.premultipliedAlpha),lt.setFunc(Cr.depthFunc),lt.setTest(Cr.depthTest),lt.setMask(Cr.depthWrite),st.setMask(Cr.colorWrite);const Yr=Cr.stencilWrite;ct.setTest(Yr),Yr&&(ct.setMask(Cr.stencilWriteMask),ct.setFunc(Cr.stencilFunc,Cr.stencilRef,Cr.stencilFuncMask),ct.setOp(Cr.stencilFail,Cr.stencilZFail,Cr.stencilZPass)),ar(Cr.polygonOffset,Cr.polygonOffsetFactor,Cr.polygonOffsetUnits),Cr.alphaToCoverage===!0?mr(32926):sr(32926)}function nr(Cr){It!==Cr&&(Cr?tt.frontFace(2304):tt.frontFace(2305),It=Cr)}function Qt(Cr){Cr!==CullFaceNone?(mr(2884),Cr!==Lt&&(Cr===CullFaceBack?tt.cullFace(1029):Cr===CullFaceFront?tt.cullFace(1028):tt.cullFace(1032))):sr(2884),Lt=Cr}function Jt(Cr){Cr!==Pt&&(zt&&tt.lineWidth(Cr),Pt=Cr)}function ar(Cr,Dr,Hr){Cr?(mr(32823),(Nt!==Dr||Ot!==Hr)&&(tt.polygonOffset(Dr,Hr),Nt=Dr,Ot=Hr)):sr(32823)}function cr(Cr){Cr?mr(3089):sr(3089)}function lr(Cr){Cr===void 0&&(Cr=33984+Bt-1),jt!==Cr&&(tt.activeTexture(Cr),jt=Cr)}function Yt(Cr,Dr,Hr){Hr===void 0&&(jt===null?Hr=33984+Bt-1:Hr=jt);let Yr=qt[Hr];Yr===void 0&&(Yr={type:void 0,texture:void 0},qt[Hr]=Yr),(Yr.type!==Cr||Yr.texture!==Dr)&&(jt!==Hr&&(tt.activeTexture(Hr),jt=Hr),tt.bindTexture(Cr,Dr||rr[Cr]),Yr.type=Cr,Yr.texture=Dr)}function Xt(){const Cr=qt[jt];Cr!==void 0&&Cr.type!==void 0&&(tt.bindTexture(Cr.type,null),Cr.type=void 0,Cr.texture=void 0)}function tr(){try{tt.compressedTexImage2D.apply(tt,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function or(){try{tt.compressedTexImage3D.apply(tt,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function br(){try{tt.texSubImage2D.apply(tt,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function Sr(){try{tt.texSubImage3D.apply(tt,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function yr(){try{tt.compressedTexSubImage2D.apply(tt,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function hr(){try{tt.compressedTexSubImage3D.apply(tt,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function $r(){try{tt.texStorage2D.apply(tt,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function Mr(){try{tt.texStorage3D.apply(tt,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function Ar(){try{tt.texImage2D.apply(tt,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function Fr(){try{tt.texImage3D.apply(tt,arguments)}catch(Cr){console.error("THREE.WebGLState:",Cr)}}function zr(Cr){Zt.equals(Cr)===!1&&(tt.scissor(Cr.x,Cr.y,Cr.z,Cr.w),Zt.copy(Cr))}function jr(Cr){Kt.equals(Cr)===!1&&(tt.viewport(Cr.x,Cr.y,Cr.z,Cr.w),Kt.copy(Cr))}function Jr(Cr,Dr){let Hr=dt.get(Dr);Hr===void 0&&(Hr=new WeakMap,dt.set(Dr,Hr));let Yr=Hr.get(Cr);Yr===void 0&&(Yr=tt.getUniformBlockIndex(Dr,Cr.name),Hr.set(Cr,Yr))}function gn(Cr,Dr){const Yr=dt.get(Dr).get(Cr);ut.get(Dr)!==Yr&&(tt.uniformBlockBinding(Dr,Yr,Cr.__bindingPointIndex),ut.set(Dr,Yr))}function mn(){tt.disable(3042),tt.disable(2884),tt.disable(2929),tt.disable(32823),tt.disable(3089),tt.disable(2960),tt.disable(32926),tt.blendEquation(32774),tt.blendFunc(1,0),tt.blendFuncSeparate(1,0,1,0),tt.colorMask(!0,!0,!0,!0),tt.clearColor(0,0,0,0),tt.depthMask(!0),tt.depthFunc(513),tt.clearDepth(1),tt.stencilMask(4294967295),tt.stencilFunc(519,0,4294967295),tt.stencilOp(7680,7680,7680),tt.clearStencil(0),tt.cullFace(1029),tt.frontFace(2305),tt.polygonOffset(0,0),tt.activeTexture(33984),tt.bindFramebuffer(36160,null),nt===!0&&(tt.bindFramebuffer(36009,null),tt.bindFramebuffer(36008,null)),tt.useProgram(null),tt.lineWidth(1),tt.scissor(0,0,tt.canvas.width,tt.canvas.height),tt.viewport(0,0,tt.canvas.width,tt.canvas.height),ft={},jt=null,qt={},pt={},mt=new WeakMap,ht=[],gt=null,vt=!1,yt=null,bt=null,xt=null,$t=null,Tt=null,wt=null,At=null,Rt=!1,It=null,Lt=null,Pt=null,Nt=null,Ot=null,Zt.set(0,0,tt.canvas.width,tt.canvas.height),Kt.set(0,0,tt.canvas.width,tt.canvas.height),st.reset(),lt.reset(),ct.reset()}return{buffers:{color:st,depth:lt,stencil:ct},enable:mr,disable:sr,bindFramebuffer:fr,drawBuffers:pr,useProgram:vr,setBlending:Gt,setMaterial:Wt,setFlipSided:nr,setCullFace:Qt,setLineWidth:Jt,setPolygonOffset:ar,setScissorTest:cr,activeTexture:lr,bindTexture:Yt,unbindTexture:Xt,compressedTexImage2D:tr,compressedTexImage3D:or,texImage2D:Ar,texImage3D:Fr,updateUBOMapping:Jr,uniformBlockBinding:gn,texStorage2D:$r,texStorage3D:Mr,texSubImage2D:br,texSubImage3D:Sr,compressedTexSubImage2D:yr,compressedTexSubImage3D:hr,scissor:zr,viewport:jr,reset:mn}}function WebGLTextures(tt,et,rt,nt,it,ot,at){const st=it.isWebGL2,lt=it.maxTextures,ct=it.maxCubemapSize,ut=it.maxTextureSize,dt=it.maxSamples,ft=et.has("WEBGL_multisampled_render_to_texture")?et.get("WEBGL_multisampled_render_to_texture"):null,pt=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),mt=new WeakMap;let ht;const gt=new WeakMap;let vt=!1;try{vt=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function yt(Yt,Xt){return vt?new OffscreenCanvas(Yt,Xt):createElementNS("canvas")}function bt(Yt,Xt,tr,or){let br=1;if((Yt.width>or||Yt.height>or)&&(br=or/Math.max(Yt.width,Yt.height)),br<1||Xt===!0)if(typeof HTMLImageElement<"u"&&Yt instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Yt instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Yt instanceof ImageBitmap){const Sr=Xt?floorPowerOfTwo:Math.floor,yr=Sr(br*Yt.width),hr=Sr(br*Yt.height);ht===void 0&&(ht=yt(yr,hr));const $r=tr?yt(yr,hr):ht;return $r.width=yr,$r.height=hr,$r.getContext("2d").drawImage(Yt,0,0,yr,hr),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Yt.width+"x"+Yt.height+") to ("+yr+"x"+hr+")."),$r}else return"data"in Yt&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Yt.width+"x"+Yt.height+")."),Yt;return Yt}function xt(Yt){return isPowerOfTwo(Yt.width)&&isPowerOfTwo(Yt.height)}function $t(Yt){return st?!1:Yt.wrapS!==ClampToEdgeWrapping||Yt.wrapT!==ClampToEdgeWrapping||Yt.minFilter!==NearestFilter&&Yt.minFilter!==LinearFilter}function Tt(Yt,Xt){return Yt.generateMipmaps&&Xt&&Yt.minFilter!==NearestFilter&&Yt.minFilter!==LinearFilter}function wt(Yt){tt.generateMipmap(Yt)}function At(Yt,Xt,tr,or,br=!1){if(st===!1)return Xt;if(Yt!==null){if(tt[Yt]!==void 0)return tt[Yt];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Yt+"'")}let Sr=Xt;return Xt===6403&&(tr===5126&&(Sr=33326),tr===5131&&(Sr=33325),tr===5121&&(Sr=33321)),Xt===33319&&(tr===5126&&(Sr=33328),tr===5131&&(Sr=33327),tr===5121&&(Sr=33323)),Xt===6408&&(tr===5126&&(Sr=34836),tr===5131&&(Sr=34842),tr===5121&&(Sr=or===sRGBEncoding&&br===!1?35907:32856),tr===32819&&(Sr=32854),tr===32820&&(Sr=32855)),(Sr===33325||Sr===33326||Sr===33327||Sr===33328||Sr===34842||Sr===34836)&&et.get("EXT_color_buffer_float"),Sr}function Rt(Yt,Xt,tr){return Tt(Yt,tr)===!0||Yt.isFramebufferTexture&&Yt.minFilter!==NearestFilter&&Yt.minFilter!==LinearFilter?Math.log2(Math.max(Xt.width,Xt.height))+1:Yt.mipmaps!==void 0&&Yt.mipmaps.length>0?Yt.mipmaps.length:Yt.isCompressedTexture&&Array.isArray(Yt.image)?Xt.mipmaps.length:1}function It(Yt){return Yt===NearestFilter||Yt===NearestMipmapNearestFilter||Yt===NearestMipmapLinearFilter?9728:9729}function Lt(Yt){const Xt=Yt.target;Xt.removeEventListener("dispose",Lt),Nt(Xt),Xt.isVideoTexture&&mt.delete(Xt)}function Pt(Yt){const Xt=Yt.target;Xt.removeEventListener("dispose",Pt),Bt(Xt)}function Nt(Yt){const Xt=nt.get(Yt);if(Xt.__webglInit===void 0)return;const tr=Yt.source,or=gt.get(tr);if(or){const br=or[Xt.__cacheKey];br.usedTimes--,br.usedTimes===0&&Ot(Yt),Object.keys(or).length===0&&gt.delete(tr)}nt.remove(Yt)}function Ot(Yt){const Xt=nt.get(Yt);tt.deleteTexture(Xt.__webglTexture);const tr=Yt.source,or=gt.get(tr);delete or[Xt.__cacheKey],at.memory.textures--}function Bt(Yt){const Xt=Yt.texture,tr=nt.get(Yt),or=nt.get(Xt);if(or.__webglTexture!==void 0&&(tt.deleteTexture(or.__webglTexture),at.memory.textures--),Yt.depthTexture&&Yt.depthTexture.dispose(),Yt.isWebGLCubeRenderTarget)for(let br=0;br<6;br++)tt.deleteFramebuffer(tr.__webglFramebuffer[br]),tr.__webglDepthbuffer&&tt.deleteRenderbuffer(tr.__webglDepthbuffer[br]);else{if(tt.deleteFramebuffer(tr.__webglFramebuffer),tr.__webglDepthbuffer&&tt.deleteRenderbuffer(tr.__webglDepthbuffer),tr.__webglMultisampledFramebuffer&&tt.deleteFramebuffer(tr.__webglMultisampledFramebuffer),tr.__webglColorRenderbuffer)for(let br=0;br<tr.__webglColorRenderbuffer.length;br++)tr.__webglColorRenderbuffer[br]&&tt.deleteRenderbuffer(tr.__webglColorRenderbuffer[br]);tr.__webglDepthRenderbuffer&&tt.deleteRenderbuffer(tr.__webglDepthRenderbuffer)}if(Yt.isWebGLMultipleRenderTargets)for(let br=0,Sr=Xt.length;br<Sr;br++){const yr=nt.get(Xt[br]);yr.__webglTexture&&(tt.deleteTexture(yr.__webglTexture),at.memory.textures--),nt.remove(Xt[br])}nt.remove(Xt),nt.remove(Yt)}let zt=0;function Vt(){zt=0}function Ut(){const Yt=zt;return Yt>=lt&&console.warn("THREE.WebGLTextures: Trying to use "+Yt+" texture units while this GPU supports only "+lt),zt+=1,Yt}function jt(Yt){const Xt=[];return Xt.push(Yt.wrapS),Xt.push(Yt.wrapT),Xt.push(Yt.wrapR||0),Xt.push(Yt.magFilter),Xt.push(Yt.minFilter),Xt.push(Yt.anisotropy),Xt.push(Yt.internalFormat),Xt.push(Yt.format),Xt.push(Yt.type),Xt.push(Yt.generateMipmaps),Xt.push(Yt.premultiplyAlpha),Xt.push(Yt.flipY),Xt.push(Yt.unpackAlignment),Xt.push(Yt.encoding),Xt.join()}function qt(Yt,Xt){const tr=nt.get(Yt);if(Yt.isVideoTexture&&cr(Yt),Yt.isRenderTargetTexture===!1&&Yt.version>0&&tr.__version!==Yt.version){const or=Yt.image;if(or===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(or.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{sr(tr,Yt,Xt);return}}rt.bindTexture(3553,tr.__webglTexture,33984+Xt)}function Dt(Yt,Xt){const tr=nt.get(Yt);if(Yt.version>0&&tr.__version!==Yt.version){sr(tr,Yt,Xt);return}rt.bindTexture(35866,tr.__webglTexture,33984+Xt)}function Ft(Yt,Xt){const tr=nt.get(Yt);if(Yt.version>0&&tr.__version!==Yt.version){sr(tr,Yt,Xt);return}rt.bindTexture(32879,tr.__webglTexture,33984+Xt)}function Zt(Yt,Xt){const tr=nt.get(Yt);if(Yt.version>0&&tr.__version!==Yt.version){fr(tr,Yt,Xt);return}rt.bindTexture(34067,tr.__webglTexture,33984+Xt)}const Kt={[RepeatWrapping]:10497,[ClampToEdgeWrapping]:33071,[MirroredRepeatWrapping]:33648},ir={[NearestFilter]:9728,[NearestMipmapNearestFilter]:9984,[NearestMipmapLinearFilter]:9986,[LinearFilter]:9729,[LinearMipmapNearestFilter]:9985,[LinearMipmapLinearFilter]:9987};function rr(Yt,Xt,tr){if(tr?(tt.texParameteri(Yt,10242,Kt[Xt.wrapS]),tt.texParameteri(Yt,10243,Kt[Xt.wrapT]),(Yt===32879||Yt===35866)&&tt.texParameteri(Yt,32882,Kt[Xt.wrapR]),tt.texParameteri(Yt,10240,ir[Xt.magFilter]),tt.texParameteri(Yt,10241,ir[Xt.minFilter])):(tt.texParameteri(Yt,10242,33071),tt.texParameteri(Yt,10243,33071),(Yt===32879||Yt===35866)&&tt.texParameteri(Yt,32882,33071),(Xt.wrapS!==ClampToEdgeWrapping||Xt.wrapT!==ClampToEdgeWrapping)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),tt.texParameteri(Yt,10240,It(Xt.magFilter)),tt.texParameteri(Yt,10241,It(Xt.minFilter)),Xt.minFilter!==NearestFilter&&Xt.minFilter!==LinearFilter&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),et.has("EXT_texture_filter_anisotropic")===!0){const or=et.get("EXT_texture_filter_anisotropic");if(Xt.magFilter===NearestFilter||Xt.minFilter!==NearestMipmapLinearFilter&&Xt.minFilter!==LinearMipmapLinearFilter||Xt.type===FloatType&&et.has("OES_texture_float_linear")===!1||st===!1&&Xt.type===HalfFloatType&&et.has("OES_texture_half_float_linear")===!1)return;(Xt.anisotropy>1||nt.get(Xt).__currentAnisotropy)&&(tt.texParameterf(Yt,or.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(Xt.anisotropy,it.getMaxAnisotropy())),nt.get(Xt).__currentAnisotropy=Xt.anisotropy)}}function mr(Yt,Xt){let tr=!1;Yt.__webglInit===void 0&&(Yt.__webglInit=!0,Xt.addEventListener("dispose",Lt));const or=Xt.source;let br=gt.get(or);br===void 0&&(br={},gt.set(or,br));const Sr=jt(Xt);if(Sr!==Yt.__cacheKey){br[Sr]===void 0&&(br[Sr]={texture:tt.createTexture(),usedTimes:0},at.memory.textures++,tr=!0),br[Sr].usedTimes++;const yr=br[Yt.__cacheKey];yr!==void 0&&(br[Yt.__cacheKey].usedTimes--,yr.usedTimes===0&&Ot(Xt)),Yt.__cacheKey=Sr,Yt.__webglTexture=br[Sr].texture}return tr}function sr(Yt,Xt,tr){let or=3553;(Xt.isDataArrayTexture||Xt.isCompressedArrayTexture)&&(or=35866),Xt.isData3DTexture&&(or=32879);const br=mr(Yt,Xt),Sr=Xt.source;rt.bindTexture(or,Yt.__webglTexture,33984+tr);const yr=nt.get(Sr);if(Sr.version!==yr.__version||br===!0){rt.activeTexture(33984+tr),tt.pixelStorei(37440,Xt.flipY),tt.pixelStorei(37441,Xt.premultiplyAlpha),tt.pixelStorei(3317,Xt.unpackAlignment),tt.pixelStorei(37443,0);const hr=$t(Xt)&&xt(Xt.image)===!1;let $r=bt(Xt.image,hr,!1,ut);$r=lr(Xt,$r);const Mr=xt($r)||st,Ar=ot.convert(Xt.format,Xt.encoding);let Fr=ot.convert(Xt.type),zr=At(Xt.internalFormat,Ar,Fr,Xt.encoding,Xt.isVideoTexture);rr(or,Xt,Mr);let jr;const Jr=Xt.mipmaps,gn=st&&Xt.isVideoTexture!==!0,mn=yr.__version===void 0||br===!0,Cr=Rt(Xt,$r,Mr);if(Xt.isDepthTexture)zr=6402,st?Xt.type===FloatType?zr=36012:Xt.type===UnsignedIntType?zr=33190:Xt.type===UnsignedInt248Type?zr=35056:zr=33189:Xt.type===FloatType&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),Xt.format===DepthFormat&&zr===6402&&Xt.type!==UnsignedShortType&&Xt.type!==UnsignedIntType&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),Xt.type=UnsignedIntType,Fr=ot.convert(Xt.type)),Xt.format===DepthStencilFormat&&zr===6402&&(zr=34041,Xt.type!==UnsignedInt248Type&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),Xt.type=UnsignedInt248Type,Fr=ot.convert(Xt.type))),mn&&(gn?rt.texStorage2D(3553,1,zr,$r.width,$r.height):rt.texImage2D(3553,0,zr,$r.width,$r.height,0,Ar,Fr,null));else if(Xt.isDataTexture)if(Jr.length>0&&Mr){gn&&mn&&rt.texStorage2D(3553,Cr,zr,Jr[0].width,Jr[0].height);for(let Dr=0,Hr=Jr.length;Dr<Hr;Dr++)jr=Jr[Dr],gn?rt.texSubImage2D(3553,Dr,0,0,jr.width,jr.height,Ar,Fr,jr.data):rt.texImage2D(3553,Dr,zr,jr.width,jr.height,0,Ar,Fr,jr.data);Xt.generateMipmaps=!1}else gn?(mn&&rt.texStorage2D(3553,Cr,zr,$r.width,$r.height),rt.texSubImage2D(3553,0,0,0,$r.width,$r.height,Ar,Fr,$r.data)):rt.texImage2D(3553,0,zr,$r.width,$r.height,0,Ar,Fr,$r.data);else if(Xt.isCompressedTexture)if(Xt.isCompressedArrayTexture){gn&&mn&&rt.texStorage3D(35866,Cr,zr,Jr[0].width,Jr[0].height,$r.depth);for(let Dr=0,Hr=Jr.length;Dr<Hr;Dr++)jr=Jr[Dr],Xt.format!==RGBAFormat?Ar!==null?gn?rt.compressedTexSubImage3D(35866,Dr,0,0,0,jr.width,jr.height,$r.depth,Ar,jr.data,0,0):rt.compressedTexImage3D(35866,Dr,zr,jr.width,jr.height,$r.depth,0,jr.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):gn?rt.texSubImage3D(35866,Dr,0,0,0,jr.width,jr.height,$r.depth,Ar,Fr,jr.data):rt.texImage3D(35866,Dr,zr,jr.width,jr.height,$r.depth,0,Ar,Fr,jr.data)}else{gn&&mn&&rt.texStorage2D(3553,Cr,zr,Jr[0].width,Jr[0].height);for(let Dr=0,Hr=Jr.length;Dr<Hr;Dr++)jr=Jr[Dr],Xt.format!==RGBAFormat?Ar!==null?gn?rt.compressedTexSubImage2D(3553,Dr,0,0,jr.width,jr.height,Ar,jr.data):rt.compressedTexImage2D(3553,Dr,zr,jr.width,jr.height,0,jr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):gn?rt.texSubImage2D(3553,Dr,0,0,jr.width,jr.height,Ar,Fr,jr.data):rt.texImage2D(3553,Dr,zr,jr.width,jr.height,0,Ar,Fr,jr.data)}else if(Xt.isDataArrayTexture)gn?(mn&&rt.texStorage3D(35866,Cr,zr,$r.width,$r.height,$r.depth),rt.texSubImage3D(35866,0,0,0,0,$r.width,$r.height,$r.depth,Ar,Fr,$r.data)):rt.texImage3D(35866,0,zr,$r.width,$r.height,$r.depth,0,Ar,Fr,$r.data);else if(Xt.isData3DTexture)gn?(mn&&rt.texStorage3D(32879,Cr,zr,$r.width,$r.height,$r.depth),rt.texSubImage3D(32879,0,0,0,0,$r.width,$r.height,$r.depth,Ar,Fr,$r.data)):rt.texImage3D(32879,0,zr,$r.width,$r.height,$r.depth,0,Ar,Fr,$r.data);else if(Xt.isFramebufferTexture){if(mn)if(gn)rt.texStorage2D(3553,Cr,zr,$r.width,$r.height);else{let Dr=$r.width,Hr=$r.height;for(let Yr=0;Yr<Cr;Yr++)rt.texImage2D(3553,Yr,zr,Dr,Hr,0,Ar,Fr,null),Dr>>=1,Hr>>=1}}else if(Jr.length>0&&Mr){gn&&mn&&rt.texStorage2D(3553,Cr,zr,Jr[0].width,Jr[0].height);for(let Dr=0,Hr=Jr.length;Dr<Hr;Dr++)jr=Jr[Dr],gn?rt.texSubImage2D(3553,Dr,0,0,Ar,Fr,jr):rt.texImage2D(3553,Dr,zr,Ar,Fr,jr);Xt.generateMipmaps=!1}else gn?(mn&&rt.texStorage2D(3553,Cr,zr,$r.width,$r.height),rt.texSubImage2D(3553,0,0,0,Ar,Fr,$r)):rt.texImage2D(3553,0,zr,Ar,Fr,$r);Tt(Xt,Mr)&&wt(or),yr.__version=Sr.version,Xt.onUpdate&&Xt.onUpdate(Xt)}Yt.__version=Xt.version}function fr(Yt,Xt,tr){if(Xt.image.length!==6)return;const or=mr(Yt,Xt),br=Xt.source;rt.bindTexture(34067,Yt.__webglTexture,33984+tr);const Sr=nt.get(br);if(br.version!==Sr.__version||or===!0){rt.activeTexture(33984+tr),tt.pixelStorei(37440,Xt.flipY),tt.pixelStorei(37441,Xt.premultiplyAlpha),tt.pixelStorei(3317,Xt.unpackAlignment),tt.pixelStorei(37443,0);const yr=Xt.isCompressedTexture||Xt.image[0].isCompressedTexture,hr=Xt.image[0]&&Xt.image[0].isDataTexture,$r=[];for(let Dr=0;Dr<6;Dr++)!yr&&!hr?$r[Dr]=bt(Xt.image[Dr],!1,!0,ct):$r[Dr]=hr?Xt.image[Dr].image:Xt.image[Dr],$r[Dr]=lr(Xt,$r[Dr]);const Mr=$r[0],Ar=xt(Mr)||st,Fr=ot.convert(Xt.format,Xt.encoding),zr=ot.convert(Xt.type),jr=At(Xt.internalFormat,Fr,zr,Xt.encoding),Jr=st&&Xt.isVideoTexture!==!0,gn=Sr.__version===void 0||or===!0;let mn=Rt(Xt,Mr,Ar);rr(34067,Xt,Ar);let Cr;if(yr){Jr&&gn&&rt.texStorage2D(34067,mn,jr,Mr.width,Mr.height);for(let Dr=0;Dr<6;Dr++){Cr=$r[Dr].mipmaps;for(let Hr=0;Hr<Cr.length;Hr++){const Yr=Cr[Hr];Xt.format!==RGBAFormat?Fr!==null?Jr?rt.compressedTexSubImage2D(34069+Dr,Hr,0,0,Yr.width,Yr.height,Fr,Yr.data):rt.compressedTexImage2D(34069+Dr,Hr,jr,Yr.width,Yr.height,0,Yr.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Jr?rt.texSubImage2D(34069+Dr,Hr,0,0,Yr.width,Yr.height,Fr,zr,Yr.data):rt.texImage2D(34069+Dr,Hr,jr,Yr.width,Yr.height,0,Fr,zr,Yr.data)}}}else{Cr=Xt.mipmaps,Jr&&gn&&(Cr.length>0&&mn++,rt.texStorage2D(34067,mn,jr,$r[0].width,$r[0].height));for(let Dr=0;Dr<6;Dr++)if(hr){Jr?rt.texSubImage2D(34069+Dr,0,0,0,$r[Dr].width,$r[Dr].height,Fr,zr,$r[Dr].data):rt.texImage2D(34069+Dr,0,jr,$r[Dr].width,$r[Dr].height,0,Fr,zr,$r[Dr].data);for(let Hr=0;Hr<Cr.length;Hr++){const dn=Cr[Hr].image[Dr].image;Jr?rt.texSubImage2D(34069+Dr,Hr+1,0,0,dn.width,dn.height,Fr,zr,dn.data):rt.texImage2D(34069+Dr,Hr+1,jr,dn.width,dn.height,0,Fr,zr,dn.data)}}else{Jr?rt.texSubImage2D(34069+Dr,0,0,0,Fr,zr,$r[Dr]):rt.texImage2D(34069+Dr,0,jr,Fr,zr,$r[Dr]);for(let Hr=0;Hr<Cr.length;Hr++){const Yr=Cr[Hr];Jr?rt.texSubImage2D(34069+Dr,Hr+1,0,0,Fr,zr,Yr.image[Dr]):rt.texImage2D(34069+Dr,Hr+1,jr,Fr,zr,Yr.image[Dr])}}}Tt(Xt,Ar)&&wt(34067),Sr.__version=br.version,Xt.onUpdate&&Xt.onUpdate(Xt)}Yt.__version=Xt.version}function pr(Yt,Xt,tr,or,br){const Sr=ot.convert(tr.format,tr.encoding),yr=ot.convert(tr.type),hr=At(tr.internalFormat,Sr,yr,tr.encoding);nt.get(Xt).__hasExternalTextures||(br===32879||br===35866?rt.texImage3D(br,0,hr,Xt.width,Xt.height,Xt.depth,0,Sr,yr,null):rt.texImage2D(br,0,hr,Xt.width,Xt.height,0,Sr,yr,null)),rt.bindFramebuffer(36160,Yt),ar(Xt)?ft.framebufferTexture2DMultisampleEXT(36160,or,br,nt.get(tr).__webglTexture,0,Jt(Xt)):(br===3553||br>=34069&&br<=34074)&&tt.framebufferTexture2D(36160,or,br,nt.get(tr).__webglTexture,0),rt.bindFramebuffer(36160,null)}function vr(Yt,Xt,tr){if(tt.bindRenderbuffer(36161,Yt),Xt.depthBuffer&&!Xt.stencilBuffer){let or=33189;if(tr||ar(Xt)){const br=Xt.depthTexture;br&&br.isDepthTexture&&(br.type===FloatType?or=36012:br.type===UnsignedIntType&&(or=33190));const Sr=Jt(Xt);ar(Xt)?ft.renderbufferStorageMultisampleEXT(36161,Sr,or,Xt.width,Xt.height):tt.renderbufferStorageMultisample(36161,Sr,or,Xt.width,Xt.height)}else tt.renderbufferStorage(36161,or,Xt.width,Xt.height);tt.framebufferRenderbuffer(36160,36096,36161,Yt)}else if(Xt.depthBuffer&&Xt.stencilBuffer){const or=Jt(Xt);tr&&ar(Xt)===!1?tt.renderbufferStorageMultisample(36161,or,35056,Xt.width,Xt.height):ar(Xt)?ft.renderbufferStorageMultisampleEXT(36161,or,35056,Xt.width,Xt.height):tt.renderbufferStorage(36161,34041,Xt.width,Xt.height),tt.framebufferRenderbuffer(36160,33306,36161,Yt)}else{const or=Xt.isWebGLMultipleRenderTargets===!0?Xt.texture:[Xt.texture];for(let br=0;br<or.length;br++){const Sr=or[br],yr=ot.convert(Sr.format,Sr.encoding),hr=ot.convert(Sr.type),$r=At(Sr.internalFormat,yr,hr,Sr.encoding),Mr=Jt(Xt);tr&&ar(Xt)===!1?tt.renderbufferStorageMultisample(36161,Mr,$r,Xt.width,Xt.height):ar(Xt)?ft.renderbufferStorageMultisampleEXT(36161,Mr,$r,Xt.width,Xt.height):tt.renderbufferStorage(36161,$r,Xt.width,Xt.height)}}tt.bindRenderbuffer(36161,null)}function dr(Yt,Xt){if(Xt&&Xt.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(rt.bindFramebuffer(36160,Yt),!(Xt.depthTexture&&Xt.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!nt.get(Xt.depthTexture).__webglTexture||Xt.depthTexture.image.width!==Xt.width||Xt.depthTexture.image.height!==Xt.height)&&(Xt.depthTexture.image.width=Xt.width,Xt.depthTexture.image.height=Xt.height,Xt.depthTexture.needsUpdate=!0),qt(Xt.depthTexture,0);const or=nt.get(Xt.depthTexture).__webglTexture,br=Jt(Xt);if(Xt.depthTexture.format===DepthFormat)ar(Xt)?ft.framebufferTexture2DMultisampleEXT(36160,36096,3553,or,0,br):tt.framebufferTexture2D(36160,36096,3553,or,0);else if(Xt.depthTexture.format===DepthStencilFormat)ar(Xt)?ft.framebufferTexture2DMultisampleEXT(36160,33306,3553,or,0,br):tt.framebufferTexture2D(36160,33306,3553,or,0);else throw new Error("Unknown depthTexture format")}function xr(Yt){const Xt=nt.get(Yt),tr=Yt.isWebGLCubeRenderTarget===!0;if(Yt.depthTexture&&!Xt.__autoAllocateDepthBuffer){if(tr)throw new Error("target.depthTexture not supported in Cube render targets");dr(Xt.__webglFramebuffer,Yt)}else if(tr){Xt.__webglDepthbuffer=[];for(let or=0;or<6;or++)rt.bindFramebuffer(36160,Xt.__webglFramebuffer[or]),Xt.__webglDepthbuffer[or]=tt.createRenderbuffer(),vr(Xt.__webglDepthbuffer[or],Yt,!1)}else rt.bindFramebuffer(36160,Xt.__webglFramebuffer),Xt.__webglDepthbuffer=tt.createRenderbuffer(),vr(Xt.__webglDepthbuffer,Yt,!1);rt.bindFramebuffer(36160,null)}function Gt(Yt,Xt,tr){const or=nt.get(Yt);Xt!==void 0&&pr(or.__webglFramebuffer,Yt,Yt.texture,36064,3553),tr!==void 0&&xr(Yt)}function Wt(Yt){const Xt=Yt.texture,tr=nt.get(Yt),or=nt.get(Xt);Yt.addEventListener("dispose",Pt),Yt.isWebGLMultipleRenderTargets!==!0&&(or.__webglTexture===void 0&&(or.__webglTexture=tt.createTexture()),or.__version=Xt.version,at.memory.textures++);const br=Yt.isWebGLCubeRenderTarget===!0,Sr=Yt.isWebGLMultipleRenderTargets===!0,yr=xt(Yt)||st;if(br){tr.__webglFramebuffer=[];for(let hr=0;hr<6;hr++)tr.__webglFramebuffer[hr]=tt.createFramebuffer()}else{if(tr.__webglFramebuffer=tt.createFramebuffer(),Sr)if(it.drawBuffers){const hr=Yt.texture;for(let $r=0,Mr=hr.length;$r<Mr;$r++){const Ar=nt.get(hr[$r]);Ar.__webglTexture===void 0&&(Ar.__webglTexture=tt.createTexture(),at.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(st&&Yt.samples>0&&ar(Yt)===!1){const hr=Sr?Xt:[Xt];tr.__webglMultisampledFramebuffer=tt.createFramebuffer(),tr.__webglColorRenderbuffer=[],rt.bindFramebuffer(36160,tr.__webglMultisampledFramebuffer);for(let $r=0;$r<hr.length;$r++){const Mr=hr[$r];tr.__webglColorRenderbuffer[$r]=tt.createRenderbuffer(),tt.bindRenderbuffer(36161,tr.__webglColorRenderbuffer[$r]);const Ar=ot.convert(Mr.format,Mr.encoding),Fr=ot.convert(Mr.type),zr=At(Mr.internalFormat,Ar,Fr,Mr.encoding,Yt.isXRRenderTarget===!0),jr=Jt(Yt);tt.renderbufferStorageMultisample(36161,jr,zr,Yt.width,Yt.height),tt.framebufferRenderbuffer(36160,36064+$r,36161,tr.__webglColorRenderbuffer[$r])}tt.bindRenderbuffer(36161,null),Yt.depthBuffer&&(tr.__webglDepthRenderbuffer=tt.createRenderbuffer(),vr(tr.__webglDepthRenderbuffer,Yt,!0)),rt.bindFramebuffer(36160,null)}}if(br){rt.bindTexture(34067,or.__webglTexture),rr(34067,Xt,yr);for(let hr=0;hr<6;hr++)pr(tr.__webglFramebuffer[hr],Yt,Xt,36064,34069+hr);Tt(Xt,yr)&&wt(34067),rt.unbindTexture()}else if(Sr){const hr=Yt.texture;for(let $r=0,Mr=hr.length;$r<Mr;$r++){const Ar=hr[$r],Fr=nt.get(Ar);rt.bindTexture(3553,Fr.__webglTexture),rr(3553,Ar,yr),pr(tr.__webglFramebuffer,Yt,Ar,36064+$r,3553),Tt(Ar,yr)&&wt(3553)}rt.unbindTexture()}else{let hr=3553;(Yt.isWebGL3DRenderTarget||Yt.isWebGLArrayRenderTarget)&&(st?hr=Yt.isWebGL3DRenderTarget?32879:35866:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),rt.bindTexture(hr,or.__webglTexture),rr(hr,Xt,yr),pr(tr.__webglFramebuffer,Yt,Xt,36064,hr),Tt(Xt,yr)&&wt(hr),rt.unbindTexture()}Yt.depthBuffer&&xr(Yt)}function nr(Yt){const Xt=xt(Yt)||st,tr=Yt.isWebGLMultipleRenderTargets===!0?Yt.texture:[Yt.texture];for(let or=0,br=tr.length;or<br;or++){const Sr=tr[or];if(Tt(Sr,Xt)){const yr=Yt.isWebGLCubeRenderTarget?34067:3553,hr=nt.get(Sr).__webglTexture;rt.bindTexture(yr,hr),wt(yr),rt.unbindTexture()}}}function Qt(Yt){if(st&&Yt.samples>0&&ar(Yt)===!1){const Xt=Yt.isWebGLMultipleRenderTargets?Yt.texture:[Yt.texture],tr=Yt.width,or=Yt.height;let br=16384;const Sr=[],yr=Yt.stencilBuffer?33306:36096,hr=nt.get(Yt),$r=Yt.isWebGLMultipleRenderTargets===!0;if($r)for(let Mr=0;Mr<Xt.length;Mr++)rt.bindFramebuffer(36160,hr.__webglMultisampledFramebuffer),tt.framebufferRenderbuffer(36160,36064+Mr,36161,null),rt.bindFramebuffer(36160,hr.__webglFramebuffer),tt.framebufferTexture2D(36009,36064+Mr,3553,null,0);rt.bindFramebuffer(36008,hr.__webglMultisampledFramebuffer),rt.bindFramebuffer(36009,hr.__webglFramebuffer);for(let Mr=0;Mr<Xt.length;Mr++){Sr.push(36064+Mr),Yt.depthBuffer&&Sr.push(yr);const Ar=hr.__ignoreDepthValues!==void 0?hr.__ignoreDepthValues:!1;if(Ar===!1&&(Yt.depthBuffer&&(br|=256),Yt.stencilBuffer&&(br|=1024)),$r&&tt.framebufferRenderbuffer(36008,36064,36161,hr.__webglColorRenderbuffer[Mr]),Ar===!0&&(tt.invalidateFramebuffer(36008,[yr]),tt.invalidateFramebuffer(36009,[yr])),$r){const Fr=nt.get(Xt[Mr]).__webglTexture;tt.framebufferTexture2D(36009,36064,3553,Fr,0)}tt.blitFramebuffer(0,0,tr,or,0,0,tr,or,br,9728),pt&&tt.invalidateFramebuffer(36008,Sr)}if(rt.bindFramebuffer(36008,null),rt.bindFramebuffer(36009,null),$r)for(let Mr=0;Mr<Xt.length;Mr++){rt.bindFramebuffer(36160,hr.__webglMultisampledFramebuffer),tt.framebufferRenderbuffer(36160,36064+Mr,36161,hr.__webglColorRenderbuffer[Mr]);const Ar=nt.get(Xt[Mr]).__webglTexture;rt.bindFramebuffer(36160,hr.__webglFramebuffer),tt.framebufferTexture2D(36009,36064+Mr,3553,Ar,0)}rt.bindFramebuffer(36009,hr.__webglMultisampledFramebuffer)}}function Jt(Yt){return Math.min(dt,Yt.samples)}function ar(Yt){const Xt=nt.get(Yt);return st&&Yt.samples>0&&et.has("WEBGL_multisampled_render_to_texture")===!0&&Xt.__useRenderToTexture!==!1}function cr(Yt){const Xt=at.render.frame;mt.get(Yt)!==Xt&&(mt.set(Yt,Xt),Yt.update())}function lr(Yt,Xt){const tr=Yt.encoding,or=Yt.format,br=Yt.type;return Yt.isCompressedTexture===!0||Yt.isVideoTexture===!0||Yt.format===_SRGBAFormat||tr!==LinearEncoding&&(tr===sRGBEncoding?st===!1?et.has("EXT_sRGB")===!0&&or===RGBAFormat?(Yt.format=_SRGBAFormat,Yt.minFilter=LinearFilter,Yt.generateMipmaps=!1):Xt=ImageUtils.sRGBToLinear(Xt):(or!==RGBAFormat||br!==UnsignedByteType)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture encoding:",tr)),Xt}this.allocateTextureUnit=Ut,this.resetTextureUnits=Vt,this.setTexture2D=qt,this.setTexture2DArray=Dt,this.setTexture3D=Ft,this.setTextureCube=Zt,this.rebindTextures=Gt,this.setupRenderTarget=Wt,this.updateRenderTargetMipmap=nr,this.updateMultisampleRenderTarget=Qt,this.setupDepthRenderbuffer=xr,this.setupFrameBufferTexture=pr,this.useMultisampledRTT=ar}function WebGLUtils(tt,et,rt){const nt=rt.isWebGL2;function it(ot,at=null){let st;if(ot===UnsignedByteType)return 5121;if(ot===UnsignedShort4444Type)return 32819;if(ot===UnsignedShort5551Type)return 32820;if(ot===ByteType)return 5120;if(ot===ShortType)return 5122;if(ot===UnsignedShortType)return 5123;if(ot===IntType)return 5124;if(ot===UnsignedIntType)return 5125;if(ot===FloatType)return 5126;if(ot===HalfFloatType)return nt?5131:(st=et.get("OES_texture_half_float"),st!==null?st.HALF_FLOAT_OES:null);if(ot===AlphaFormat)return 6406;if(ot===RGBAFormat)return 6408;if(ot===LuminanceFormat)return 6409;if(ot===LuminanceAlphaFormat)return 6410;if(ot===DepthFormat)return 6402;if(ot===DepthStencilFormat)return 34041;if(ot===RGBFormat)return console.warn("THREE.WebGLRenderer: THREE.RGBFormat has been removed. Use THREE.RGBAFormat instead. https://github.com/mrdoob/three.js/pull/23228"),6408;if(ot===_SRGBAFormat)return st=et.get("EXT_sRGB"),st!==null?st.SRGB_ALPHA_EXT:null;if(ot===RedFormat)return 6403;if(ot===RedIntegerFormat)return 36244;if(ot===RGFormat)return 33319;if(ot===RGIntegerFormat)return 33320;if(ot===RGBAIntegerFormat)return 36249;if(ot===RGB_S3TC_DXT1_Format||ot===RGBA_S3TC_DXT1_Format||ot===RGBA_S3TC_DXT3_Format||ot===RGBA_S3TC_DXT5_Format)if(at===sRGBEncoding)if(st=et.get("WEBGL_compressed_texture_s3tc_srgb"),st!==null){if(ot===RGB_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(ot===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(ot===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(ot===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(st=et.get("WEBGL_compressed_texture_s3tc"),st!==null){if(ot===RGB_S3TC_DXT1_Format)return st.COMPRESSED_RGB_S3TC_DXT1_EXT;if(ot===RGBA_S3TC_DXT1_Format)return st.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(ot===RGBA_S3TC_DXT3_Format)return st.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(ot===RGBA_S3TC_DXT5_Format)return st.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(ot===RGB_PVRTC_4BPPV1_Format||ot===RGB_PVRTC_2BPPV1_Format||ot===RGBA_PVRTC_4BPPV1_Format||ot===RGBA_PVRTC_2BPPV1_Format)if(st=et.get("WEBGL_compressed_texture_pvrtc"),st!==null){if(ot===RGB_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(ot===RGB_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(ot===RGBA_PVRTC_4BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(ot===RGBA_PVRTC_2BPPV1_Format)return st.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(ot===RGB_ETC1_Format)return st=et.get("WEBGL_compressed_texture_etc1"),st!==null?st.COMPRESSED_RGB_ETC1_WEBGL:null;if(ot===RGB_ETC2_Format||ot===RGBA_ETC2_EAC_Format)if(st=et.get("WEBGL_compressed_texture_etc"),st!==null){if(ot===RGB_ETC2_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ETC2:st.COMPRESSED_RGB8_ETC2;if(ot===RGBA_ETC2_EAC_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:st.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(ot===RGBA_ASTC_4x4_Format||ot===RGBA_ASTC_5x4_Format||ot===RGBA_ASTC_5x5_Format||ot===RGBA_ASTC_6x5_Format||ot===RGBA_ASTC_6x6_Format||ot===RGBA_ASTC_8x5_Format||ot===RGBA_ASTC_8x6_Format||ot===RGBA_ASTC_8x8_Format||ot===RGBA_ASTC_10x5_Format||ot===RGBA_ASTC_10x6_Format||ot===RGBA_ASTC_10x8_Format||ot===RGBA_ASTC_10x10_Format||ot===RGBA_ASTC_12x10_Format||ot===RGBA_ASTC_12x12_Format)if(st=et.get("WEBGL_compressed_texture_astc"),st!==null){if(ot===RGBA_ASTC_4x4_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:st.COMPRESSED_RGBA_ASTC_4x4_KHR;if(ot===RGBA_ASTC_5x4_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:st.COMPRESSED_RGBA_ASTC_5x4_KHR;if(ot===RGBA_ASTC_5x5_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:st.COMPRESSED_RGBA_ASTC_5x5_KHR;if(ot===RGBA_ASTC_6x5_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:st.COMPRESSED_RGBA_ASTC_6x5_KHR;if(ot===RGBA_ASTC_6x6_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:st.COMPRESSED_RGBA_ASTC_6x6_KHR;if(ot===RGBA_ASTC_8x5_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:st.COMPRESSED_RGBA_ASTC_8x5_KHR;if(ot===RGBA_ASTC_8x6_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:st.COMPRESSED_RGBA_ASTC_8x6_KHR;if(ot===RGBA_ASTC_8x8_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:st.COMPRESSED_RGBA_ASTC_8x8_KHR;if(ot===RGBA_ASTC_10x5_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:st.COMPRESSED_RGBA_ASTC_10x5_KHR;if(ot===RGBA_ASTC_10x6_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:st.COMPRESSED_RGBA_ASTC_10x6_KHR;if(ot===RGBA_ASTC_10x8_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:st.COMPRESSED_RGBA_ASTC_10x8_KHR;if(ot===RGBA_ASTC_10x10_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:st.COMPRESSED_RGBA_ASTC_10x10_KHR;if(ot===RGBA_ASTC_12x10_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:st.COMPRESSED_RGBA_ASTC_12x10_KHR;if(ot===RGBA_ASTC_12x12_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:st.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(ot===RGBA_BPTC_Format)if(st=et.get("EXT_texture_compression_bptc"),st!==null){if(ot===RGBA_BPTC_Format)return at===sRGBEncoding?st.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:st.COMPRESSED_RGBA_BPTC_UNORM_EXT}else return null;return ot===UnsignedInt248Type?nt?34042:(st=et.get("WEBGL_depth_texture"),st!==null?st.UNSIGNED_INT_24_8_WEBGL:null):tt[ot]!==void 0?tt[ot]:null}return{convert:it}}class ArrayCamera extends PerspectiveCamera$1{constructor(et=[]){super(),this.isArrayCamera=!0,this.cameras=et}}let Group$2=class extends Object3D{constructor(){super(),this.isGroup=!0,this.type="Group"}};const _moveEvent={type:"move"};class WebXRController{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Group$2,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Group$2,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Vector3,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Vector3),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Group$2,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Vector3,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Vector3),this._grip}dispatchEvent(et){return this._targetRay!==null&&this._targetRay.dispatchEvent(et),this._grip!==null&&this._grip.dispatchEvent(et),this._hand!==null&&this._hand.dispatchEvent(et),this}connect(et){if(et&&et.hand){const rt=this._hand;if(rt)for(const nt of et.hand.values())this._getHandJoint(rt,nt)}return this.dispatchEvent({type:"connected",data:et}),this}disconnect(et){return this.dispatchEvent({type:"disconnected",data:et}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(et,rt,nt){let it=null,ot=null,at=null;const st=this._targetRay,lt=this._grip,ct=this._hand;if(et&&rt.session.visibilityState!=="visible-blurred"){if(ct&&et.hand){at=!0;for(const ht of et.hand.values()){const gt=rt.getJointPose(ht,nt),vt=this._getHandJoint(ct,ht);gt!==null&&(vt.matrix.fromArray(gt.transform.matrix),vt.matrix.decompose(vt.position,vt.rotation,vt.scale),vt.jointRadius=gt.radius),vt.visible=gt!==null}const ut=ct.joints["index-finger-tip"],dt=ct.joints["thumb-tip"],ft=ut.position.distanceTo(dt.position),pt=.02,mt=.005;ct.inputState.pinching&&ft>pt+mt?(ct.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:et.handedness,target:this})):!ct.inputState.pinching&&ft<=pt-mt&&(ct.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:et.handedness,target:this}))}else lt!==null&&et.gripSpace&&(ot=rt.getPose(et.gripSpace,nt),ot!==null&&(lt.matrix.fromArray(ot.transform.matrix),lt.matrix.decompose(lt.position,lt.rotation,lt.scale),ot.linearVelocity?(lt.hasLinearVelocity=!0,lt.linearVelocity.copy(ot.linearVelocity)):lt.hasLinearVelocity=!1,ot.angularVelocity?(lt.hasAngularVelocity=!0,lt.angularVelocity.copy(ot.angularVelocity)):lt.hasAngularVelocity=!1));st!==null&&(it=rt.getPose(et.targetRaySpace,nt),it===null&&ot!==null&&(it=ot),it!==null&&(st.matrix.fromArray(it.transform.matrix),st.matrix.decompose(st.position,st.rotation,st.scale),it.linearVelocity?(st.hasLinearVelocity=!0,st.linearVelocity.copy(it.linearVelocity)):st.hasLinearVelocity=!1,it.angularVelocity?(st.hasAngularVelocity=!0,st.angularVelocity.copy(it.angularVelocity)):st.hasAngularVelocity=!1,this.dispatchEvent(_moveEvent)))}return st!==null&&(st.visible=it!==null),lt!==null&&(lt.visible=ot!==null),ct!==null&&(ct.visible=at!==null),this}_getHandJoint(et,rt){if(et.joints[rt.jointName]===void 0){const nt=new Group$2;nt.matrixAutoUpdate=!1,nt.visible=!1,et.joints[rt.jointName]=nt,et.add(nt)}return et.joints[rt.jointName]}}class DepthTexture extends Texture{constructor(et,rt,nt,it,ot,at,st,lt,ct,ut){if(ut=ut!==void 0?ut:DepthFormat,ut!==DepthFormat&&ut!==DepthStencilFormat)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");nt===void 0&&ut===DepthFormat&&(nt=UnsignedIntType),nt===void 0&&ut===DepthStencilFormat&&(nt=UnsignedInt248Type),super(null,it,ot,at,st,lt,ut,nt,ct),this.isDepthTexture=!0,this.image={width:et,height:rt},this.magFilter=st!==void 0?st:NearestFilter,this.minFilter=lt!==void 0?lt:NearestFilter,this.flipY=!1,this.generateMipmaps=!1}}class WebXRManager extends EventDispatcher{constructor(et,rt){super();const nt=this;let it=null,ot=1,at=null,st="local-floor",lt=null,ct=null,ut=null,dt=null,ft=null,pt=null;const mt=rt.getContextAttributes();let ht=null,gt=null;const vt=[],yt=[],bt=new Set,xt=new Map,$t=new PerspectiveCamera$1;$t.layers.enable(1),$t.viewport=new Vector4;const Tt=new PerspectiveCamera$1;Tt.layers.enable(2),Tt.viewport=new Vector4;const wt=[$t,Tt],At=new ArrayCamera;At.layers.enable(1),At.layers.enable(2);let Rt=null,It=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(Dt){let Ft=vt[Dt];return Ft===void 0&&(Ft=new WebXRController,vt[Dt]=Ft),Ft.getTargetRaySpace()},this.getControllerGrip=function(Dt){let Ft=vt[Dt];return Ft===void 0&&(Ft=new WebXRController,vt[Dt]=Ft),Ft.getGripSpace()},this.getHand=function(Dt){let Ft=vt[Dt];return Ft===void 0&&(Ft=new WebXRController,vt[Dt]=Ft),Ft.getHandSpace()};function Lt(Dt){const Ft=yt.indexOf(Dt.inputSource);if(Ft===-1)return;const Zt=vt[Ft];Zt!==void 0&&Zt.dispatchEvent({type:Dt.type,data:Dt.inputSource})}function Pt(){it.removeEventListener("select",Lt),it.removeEventListener("selectstart",Lt),it.removeEventListener("selectend",Lt),it.removeEventListener("squeeze",Lt),it.removeEventListener("squeezestart",Lt),it.removeEventListener("squeezeend",Lt),it.removeEventListener("end",Pt),it.removeEventListener("inputsourceschange",Nt);for(let Dt=0;Dt<vt.length;Dt++){const Ft=yt[Dt];Ft!==null&&(yt[Dt]=null,vt[Dt].disconnect(Ft))}Rt=null,It=null,et.setRenderTarget(ht),ft=null,dt=null,ut=null,it=null,gt=null,qt.stop(),nt.isPresenting=!1,nt.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(Dt){ot=Dt,nt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(Dt){st=Dt,nt.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return lt||at},this.setReferenceSpace=function(Dt){lt=Dt},this.getBaseLayer=function(){return dt!==null?dt:ft},this.getBinding=function(){return ut},this.getFrame=function(){return pt},this.getSession=function(){return it},this.setSession=async function(Dt){if(it=Dt,it!==null){if(ht=et.getRenderTarget(),it.addEventListener("select",Lt),it.addEventListener("selectstart",Lt),it.addEventListener("selectend",Lt),it.addEventListener("squeeze",Lt),it.addEventListener("squeezestart",Lt),it.addEventListener("squeezeend",Lt),it.addEventListener("end",Pt),it.addEventListener("inputsourceschange",Nt),mt.xrCompatible!==!0&&await rt.makeXRCompatible(),it.renderState.layers===void 0||et.capabilities.isWebGL2===!1){const Ft={antialias:it.renderState.layers===void 0?mt.antialias:!0,alpha:mt.alpha,depth:mt.depth,stencil:mt.stencil,framebufferScaleFactor:ot};ft=new XRWebGLLayer(it,rt,Ft),it.updateRenderState({baseLayer:ft}),gt=new WebGLRenderTarget(ft.framebufferWidth,ft.framebufferHeight,{format:RGBAFormat,type:UnsignedByteType,encoding:et.outputEncoding,stencilBuffer:mt.stencil})}else{let Ft=null,Zt=null,Kt=null;mt.depth&&(Kt=mt.stencil?35056:33190,Ft=mt.stencil?DepthStencilFormat:DepthFormat,Zt=mt.stencil?UnsignedInt248Type:UnsignedIntType);const ir={colorFormat:32856,depthFormat:Kt,scaleFactor:ot};ut=new XRWebGLBinding(it,rt),dt=ut.createProjectionLayer(ir),it.updateRenderState({layers:[dt]}),gt=new WebGLRenderTarget(dt.textureWidth,dt.textureHeight,{format:RGBAFormat,type:UnsignedByteType,depthTexture:new DepthTexture(dt.textureWidth,dt.textureHeight,Zt,void 0,void 0,void 0,void 0,void 0,void 0,Ft),stencilBuffer:mt.stencil,encoding:et.outputEncoding,samples:mt.antialias?4:0});const rr=et.properties.get(gt);rr.__ignoreDepthValues=dt.ignoreDepthValues}gt.isXRRenderTarget=!0,this.setFoveation(1),lt=null,at=await it.requestReferenceSpace(st),qt.setContext(it),qt.start(),nt.isPresenting=!0,nt.dispatchEvent({type:"sessionstart"})}};function Nt(Dt){for(let Ft=0;Ft<Dt.removed.length;Ft++){const Zt=Dt.removed[Ft],Kt=yt.indexOf(Zt);Kt>=0&&(yt[Kt]=null,vt[Kt].disconnect(Zt))}for(let Ft=0;Ft<Dt.added.length;Ft++){const Zt=Dt.added[Ft];let Kt=yt.indexOf(Zt);if(Kt===-1){for(let rr=0;rr<vt.length;rr++)if(rr>=yt.length){yt.push(Zt),Kt=rr;break}else if(yt[rr]===null){yt[rr]=Zt,Kt=rr;break}if(Kt===-1)break}const ir=vt[Kt];ir&&ir.connect(Zt)}}const Ot=new Vector3,Bt=new Vector3;function zt(Dt,Ft,Zt){Ot.setFromMatrixPosition(Ft.matrixWorld),Bt.setFromMatrixPosition(Zt.matrixWorld);const Kt=Ot.distanceTo(Bt),ir=Ft.projectionMatrix.elements,rr=Zt.projectionMatrix.elements,mr=ir[14]/(ir[10]-1),sr=ir[14]/(ir[10]+1),fr=(ir[9]+1)/ir[5],pr=(ir[9]-1)/ir[5],vr=(ir[8]-1)/ir[0],dr=(rr[8]+1)/rr[0],xr=mr*vr,Gt=mr*dr,Wt=Kt/(-vr+dr),nr=Wt*-vr;Ft.matrixWorld.decompose(Dt.position,Dt.quaternion,Dt.scale),Dt.translateX(nr),Dt.translateZ(Wt),Dt.matrixWorld.compose(Dt.position,Dt.quaternion,Dt.scale),Dt.matrixWorldInverse.copy(Dt.matrixWorld).invert();const Qt=mr+Wt,Jt=sr+Wt,ar=xr-nr,cr=Gt+(Kt-nr),lr=fr*sr/Jt*Qt,Yt=pr*sr/Jt*Qt;Dt.projectionMatrix.makePerspective(ar,cr,lr,Yt,Qt,Jt)}function Vt(Dt,Ft){Ft===null?Dt.matrixWorld.copy(Dt.matrix):Dt.matrixWorld.multiplyMatrices(Ft.matrixWorld,Dt.matrix),Dt.matrixWorldInverse.copy(Dt.matrixWorld).invert()}this.updateCamera=function(Dt){if(it===null)return;At.near=Tt.near=$t.near=Dt.near,At.far=Tt.far=$t.far=Dt.far,(Rt!==At.near||It!==At.far)&&(it.updateRenderState({depthNear:At.near,depthFar:At.far}),Rt=At.near,It=At.far);const Ft=Dt.parent,Zt=At.cameras;Vt(At,Ft);for(let ir=0;ir<Zt.length;ir++)Vt(Zt[ir],Ft);At.matrixWorld.decompose(At.position,At.quaternion,At.scale),Dt.matrix.copy(At.matrix),Dt.matrix.decompose(Dt.position,Dt.quaternion,Dt.scale);const Kt=Dt.children;for(let ir=0,rr=Kt.length;ir<rr;ir++)Kt[ir].updateMatrixWorld(!0);Zt.length===2?zt(At,$t,Tt):At.projectionMatrix.copy($t.projectionMatrix)},this.getCamera=function(){return At},this.getFoveation=function(){if(dt!==null)return dt.fixedFoveation;if(ft!==null)return ft.fixedFoveation},this.setFoveation=function(Dt){dt!==null&&(dt.fixedFoveation=Dt),ft!==null&&ft.fixedFoveation!==void 0&&(ft.fixedFoveation=Dt)},this.getPlanes=function(){return bt};let Ut=null;function jt(Dt,Ft){if(ct=Ft.getViewerPose(lt||at),pt=Ft,ct!==null){const Zt=ct.views;ft!==null&&(et.setRenderTargetFramebuffer(gt,ft.framebuffer),et.setRenderTarget(gt));let Kt=!1;Zt.length!==At.cameras.length&&(At.cameras.length=0,Kt=!0);for(let ir=0;ir<Zt.length;ir++){const rr=Zt[ir];let mr=null;if(ft!==null)mr=ft.getViewport(rr);else{const fr=ut.getViewSubImage(dt,rr);mr=fr.viewport,ir===0&&(et.setRenderTargetTextures(gt,fr.colorTexture,dt.ignoreDepthValues?void 0:fr.depthStencilTexture),et.setRenderTarget(gt))}let sr=wt[ir];sr===void 0&&(sr=new PerspectiveCamera$1,sr.layers.enable(ir),sr.viewport=new Vector4,wt[ir]=sr),sr.matrix.fromArray(rr.transform.matrix),sr.projectionMatrix.fromArray(rr.projectionMatrix),sr.viewport.set(mr.x,mr.y,mr.width,mr.height),ir===0&&At.matrix.copy(sr.matrix),Kt===!0&&At.cameras.push(sr)}}for(let Zt=0;Zt<vt.length;Zt++){const Kt=yt[Zt],ir=vt[Zt];Kt!==null&&ir!==void 0&&ir.update(Kt,Ft,lt||at)}if(Ut&&Ut(Dt,Ft),Ft.detectedPlanes){nt.dispatchEvent({type:"planesdetected",data:Ft.detectedPlanes});let Zt=null;for(const Kt of bt)Ft.detectedPlanes.has(Kt)||(Zt===null&&(Zt=[]),Zt.push(Kt));if(Zt!==null)for(const Kt of Zt)bt.delete(Kt),xt.delete(Kt),nt.dispatchEvent({type:"planeremoved",data:Kt});for(const Kt of Ft.detectedPlanes)if(!bt.has(Kt))bt.add(Kt),xt.set(Kt,Ft.lastChangedTime),nt.dispatchEvent({type:"planeadded",data:Kt});else{const ir=xt.get(Kt);Kt.lastChangedTime>ir&&(xt.set(Kt,Kt.lastChangedTime),nt.dispatchEvent({type:"planechanged",data:Kt}))}}pt=null}const qt=new WebGLAnimation;qt.setAnimationLoop(jt),this.setAnimationLoop=function(Dt){Ut=Dt},this.dispose=function(){}}}function WebGLMaterials(tt,et){function rt(ht,gt){gt.color.getRGB(ht.fogColor.value,getUnlitUniformColorSpace(tt)),gt.isFog?(ht.fogNear.value=gt.near,ht.fogFar.value=gt.far):gt.isFogExp2&&(ht.fogDensity.value=gt.density)}function nt(ht,gt,vt,yt,bt){gt.isMeshBasicMaterial||gt.isMeshLambertMaterial?it(ht,gt):gt.isMeshToonMaterial?(it(ht,gt),ut(ht,gt)):gt.isMeshPhongMaterial?(it(ht,gt),ct(ht,gt)):gt.isMeshStandardMaterial?(it(ht,gt),dt(ht,gt),gt.isMeshPhysicalMaterial&&ft(ht,gt,bt)):gt.isMeshMatcapMaterial?(it(ht,gt),pt(ht,gt)):gt.isMeshDepthMaterial?it(ht,gt):gt.isMeshDistanceMaterial?(it(ht,gt),mt(ht,gt)):gt.isMeshNormalMaterial?it(ht,gt):gt.isLineBasicMaterial?(ot(ht,gt),gt.isLineDashedMaterial&&at(ht,gt)):gt.isPointsMaterial?st(ht,gt,vt,yt):gt.isSpriteMaterial?lt(ht,gt):gt.isShadowMaterial?(ht.color.value.copy(gt.color),ht.opacity.value=gt.opacity):gt.isShaderMaterial&&(gt.uniformsNeedUpdate=!1)}function it(ht,gt){ht.opacity.value=gt.opacity,gt.color&&ht.diffuse.value.copy(gt.color),gt.emissive&&ht.emissive.value.copy(gt.emissive).multiplyScalar(gt.emissiveIntensity),gt.map&&(ht.map.value=gt.map),gt.alphaMap&&(ht.alphaMap.value=gt.alphaMap),gt.bumpMap&&(ht.bumpMap.value=gt.bumpMap,ht.bumpScale.value=gt.bumpScale,gt.side===BackSide&&(ht.bumpScale.value*=-1)),gt.displacementMap&&(ht.displacementMap.value=gt.displacementMap,ht.displacementScale.value=gt.displacementScale,ht.displacementBias.value=gt.displacementBias),gt.emissiveMap&&(ht.emissiveMap.value=gt.emissiveMap),gt.normalMap&&(ht.normalMap.value=gt.normalMap,ht.normalScale.value.copy(gt.normalScale),gt.side===BackSide&&ht.normalScale.value.negate()),gt.specularMap&&(ht.specularMap.value=gt.specularMap),gt.alphaTest>0&&(ht.alphaTest.value=gt.alphaTest);const vt=et.get(gt).envMap;if(vt&&(ht.envMap.value=vt,ht.flipEnvMap.value=vt.isCubeTexture&&vt.isRenderTargetTexture===!1?-1:1,ht.reflectivity.value=gt.reflectivity,ht.ior.value=gt.ior,ht.refractionRatio.value=gt.refractionRatio),gt.lightMap){ht.lightMap.value=gt.lightMap;const xt=tt.physicallyCorrectLights!==!0?Math.PI:1;ht.lightMapIntensity.value=gt.lightMapIntensity*xt}gt.aoMap&&(ht.aoMap.value=gt.aoMap,ht.aoMapIntensity.value=gt.aoMapIntensity);let yt;gt.map?yt=gt.map:gt.specularMap?yt=gt.specularMap:gt.displacementMap?yt=gt.displacementMap:gt.normalMap?yt=gt.normalMap:gt.bumpMap?yt=gt.bumpMap:gt.roughnessMap?yt=gt.roughnessMap:gt.metalnessMap?yt=gt.metalnessMap:gt.alphaMap?yt=gt.alphaMap:gt.emissiveMap?yt=gt.emissiveMap:gt.clearcoatMap?yt=gt.clearcoatMap:gt.clearcoatNormalMap?yt=gt.clearcoatNormalMap:gt.clearcoatRoughnessMap?yt=gt.clearcoatRoughnessMap:gt.iridescenceMap?yt=gt.iridescenceMap:gt.iridescenceThicknessMap?yt=gt.iridescenceThicknessMap:gt.specularIntensityMap?yt=gt.specularIntensityMap:gt.specularColorMap?yt=gt.specularColorMap:gt.transmissionMap?yt=gt.transmissionMap:gt.thicknessMap?yt=gt.thicknessMap:gt.sheenColorMap?yt=gt.sheenColorMap:gt.sheenRoughnessMap&&(yt=gt.sheenRoughnessMap),yt!==void 0&&(yt.isWebGLRenderTarget&&(yt=yt.texture),yt.matrixAutoUpdate===!0&&yt.updateMatrix(),ht.uvTransform.value.copy(yt.matrix));let bt;gt.aoMap?bt=gt.aoMap:gt.lightMap&&(bt=gt.lightMap),bt!==void 0&&(bt.isWebGLRenderTarget&&(bt=bt.texture),bt.matrixAutoUpdate===!0&&bt.updateMatrix(),ht.uv2Transform.value.copy(bt.matrix))}function ot(ht,gt){ht.diffuse.value.copy(gt.color),ht.opacity.value=gt.opacity}function at(ht,gt){ht.dashSize.value=gt.dashSize,ht.totalSize.value=gt.dashSize+gt.gapSize,ht.scale.value=gt.scale}function st(ht,gt,vt,yt){ht.diffuse.value.copy(gt.color),ht.opacity.value=gt.opacity,ht.size.value=gt.size*vt,ht.scale.value=yt*.5,gt.map&&(ht.map.value=gt.map),gt.alphaMap&&(ht.alphaMap.value=gt.alphaMap),gt.alphaTest>0&&(ht.alphaTest.value=gt.alphaTest);let bt;gt.map?bt=gt.map:gt.alphaMap&&(bt=gt.alphaMap),bt!==void 0&&(bt.matrixAutoUpdate===!0&&bt.updateMatrix(),ht.uvTransform.value.copy(bt.matrix))}function lt(ht,gt){ht.diffuse.value.copy(gt.color),ht.opacity.value=gt.opacity,ht.rotation.value=gt.rotation,gt.map&&(ht.map.value=gt.map),gt.alphaMap&&(ht.alphaMap.value=gt.alphaMap),gt.alphaTest>0&&(ht.alphaTest.value=gt.alphaTest);let vt;gt.map?vt=gt.map:gt.alphaMap&&(vt=gt.alphaMap),vt!==void 0&&(vt.matrixAutoUpdate===!0&&vt.updateMatrix(),ht.uvTransform.value.copy(vt.matrix))}function ct(ht,gt){ht.specular.value.copy(gt.specular),ht.shininess.value=Math.max(gt.shininess,1e-4)}function ut(ht,gt){gt.gradientMap&&(ht.gradientMap.value=gt.gradientMap)}function dt(ht,gt){ht.roughness.value=gt.roughness,ht.metalness.value=gt.metalness,gt.roughnessMap&&(ht.roughnessMap.value=gt.roughnessMap),gt.metalnessMap&&(ht.metalnessMap.value=gt.metalnessMap),et.get(gt).envMap&&(ht.envMapIntensity.value=gt.envMapIntensity)}function ft(ht,gt,vt){ht.ior.value=gt.ior,gt.sheen>0&&(ht.sheenColor.value.copy(gt.sheenColor).multiplyScalar(gt.sheen),ht.sheenRoughness.value=gt.sheenRoughness,gt.sheenColorMap&&(ht.sheenColorMap.value=gt.sheenColorMap),gt.sheenRoughnessMap&&(ht.sheenRoughnessMap.value=gt.sheenRoughnessMap)),gt.clearcoat>0&&(ht.clearcoat.value=gt.clearcoat,ht.clearcoatRoughness.value=gt.clearcoatRoughness,gt.clearcoatMap&&(ht.clearcoatMap.value=gt.clearcoatMap),gt.clearcoatRoughnessMap&&(ht.clearcoatRoughnessMap.value=gt.clearcoatRoughnessMap),gt.clearcoatNormalMap&&(ht.clearcoatNormalScale.value.copy(gt.clearcoatNormalScale),ht.clearcoatNormalMap.value=gt.clearcoatNormalMap,gt.side===BackSide&&ht.clearcoatNormalScale.value.negate())),gt.iridescence>0&&(ht.iridescence.value=gt.iridescence,ht.iridescenceIOR.value=gt.iridescenceIOR,ht.iridescenceThicknessMinimum.value=gt.iridescenceThicknessRange[0],ht.iridescenceThicknessMaximum.value=gt.iridescenceThicknessRange[1],gt.iridescenceMap&&(ht.iridescenceMap.value=gt.iridescenceMap),gt.iridescenceThicknessMap&&(ht.iridescenceThicknessMap.value=gt.iridescenceThicknessMap)),gt.transmission>0&&(ht.transmission.value=gt.transmission,ht.transmissionSamplerMap.value=vt.texture,ht.transmissionSamplerSize.value.set(vt.width,vt.height),gt.transmissionMap&&(ht.transmissionMap.value=gt.transmissionMap),ht.thickness.value=gt.thickness,gt.thicknessMap&&(ht.thicknessMap.value=gt.thicknessMap),ht.attenuationDistance.value=gt.attenuationDistance,ht.attenuationColor.value.copy(gt.attenuationColor)),ht.specularIntensity.value=gt.specularIntensity,ht.specularColor.value.copy(gt.specularColor),gt.specularIntensityMap&&(ht.specularIntensityMap.value=gt.specularIntensityMap),gt.specularColorMap&&(ht.specularColorMap.value=gt.specularColorMap)}function pt(ht,gt){gt.matcap&&(ht.matcap.value=gt.matcap)}function mt(ht,gt){ht.referencePosition.value.copy(gt.referencePosition),ht.nearDistance.value=gt.nearDistance,ht.farDistance.value=gt.farDistance}return{refreshFogUniforms:rt,refreshMaterialUniforms:nt}}function WebGLUniformsGroups(tt,et,rt,nt){let it={},ot={},at=[];const st=rt.isWebGL2?tt.getParameter(35375):0;function lt(yt,bt){const xt=bt.program;nt.uniformBlockBinding(yt,xt)}function ct(yt,bt){let xt=it[yt.id];xt===void 0&&(mt(yt),xt=ut(yt),it[yt.id]=xt,yt.addEventListener("dispose",gt));const $t=bt.program;nt.updateUBOMapping(yt,$t);const Tt=et.render.frame;ot[yt.id]!==Tt&&(ft(yt),ot[yt.id]=Tt)}function ut(yt){const bt=dt();yt.__bindingPointIndex=bt;const xt=tt.createBuffer(),$t=yt.__size,Tt=yt.usage;return tt.bindBuffer(35345,xt),tt.bufferData(35345,$t,Tt),tt.bindBuffer(35345,null),tt.bindBufferBase(35345,bt,xt),xt}function dt(){for(let yt=0;yt<st;yt++)if(at.indexOf(yt)===-1)return at.push(yt),yt;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function ft(yt){const bt=it[yt.id],xt=yt.uniforms,$t=yt.__cache;tt.bindBuffer(35345,bt);for(let Tt=0,wt=xt.length;Tt<wt;Tt++){const At=xt[Tt];if(pt(At,Tt,$t)===!0){const Rt=At.__offset,It=Array.isArray(At.value)?At.value:[At.value];let Lt=0;for(let Pt=0;Pt<It.length;Pt++){const Nt=It[Pt],Ot=ht(Nt);typeof Nt=="number"?(At.__data[0]=Nt,tt.bufferSubData(35345,Rt+Lt,At.__data)):Nt.isMatrix3?(At.__data[0]=Nt.elements[0],At.__data[1]=Nt.elements[1],At.__data[2]=Nt.elements[2],At.__data[3]=Nt.elements[0],At.__data[4]=Nt.elements[3],At.__data[5]=Nt.elements[4],At.__data[6]=Nt.elements[5],At.__data[7]=Nt.elements[0],At.__data[8]=Nt.elements[6],At.__data[9]=Nt.elements[7],At.__data[10]=Nt.elements[8],At.__data[11]=Nt.elements[0]):(Nt.toArray(At.__data,Lt),Lt+=Ot.storage/Float32Array.BYTES_PER_ELEMENT)}tt.bufferSubData(35345,Rt,At.__data)}}tt.bindBuffer(35345,null)}function pt(yt,bt,xt){const $t=yt.value;if(xt[bt]===void 0){if(typeof $t=="number")xt[bt]=$t;else{const Tt=Array.isArray($t)?$t:[$t],wt=[];for(let At=0;At<Tt.length;At++)wt.push(Tt[At].clone());xt[bt]=wt}return!0}else if(typeof $t=="number"){if(xt[bt]!==$t)return xt[bt]=$t,!0}else{const Tt=Array.isArray(xt[bt])?xt[bt]:[xt[bt]],wt=Array.isArray($t)?$t:[$t];for(let At=0;At<Tt.length;At++){const Rt=Tt[At];if(Rt.equals(wt[At])===!1)return Rt.copy(wt[At]),!0}}return!1}function mt(yt){const bt=yt.uniforms;let xt=0;const $t=16;let Tt=0;for(let wt=0,At=bt.length;wt<At;wt++){const Rt=bt[wt],It={boundary:0,storage:0},Lt=Array.isArray(Rt.value)?Rt.value:[Rt.value];for(let Pt=0,Nt=Lt.length;Pt<Nt;Pt++){const Ot=Lt[Pt],Bt=ht(Ot);It.boundary+=Bt.boundary,It.storage+=Bt.storage}if(Rt.__data=new Float32Array(It.storage/Float32Array.BYTES_PER_ELEMENT),Rt.__offset=xt,wt>0){Tt=xt%$t;const Pt=$t-Tt;Tt!==0&&Pt-It.boundary<0&&(xt+=$t-Tt,Rt.__offset=xt)}xt+=It.storage}return Tt=xt%$t,Tt>0&&(xt+=$t-Tt),yt.__size=xt,yt.__cache={},this}function ht(yt){const bt={boundary:0,storage:0};return typeof yt=="number"?(bt.boundary=4,bt.storage=4):yt.isVector2?(bt.boundary=8,bt.storage=8):yt.isVector3||yt.isColor?(bt.boundary=16,bt.storage=12):yt.isVector4?(bt.boundary=16,bt.storage=16):yt.isMatrix3?(bt.boundary=48,bt.storage=48):yt.isMatrix4?(bt.boundary=64,bt.storage=64):yt.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",yt),bt}function gt(yt){const bt=yt.target;bt.removeEventListener("dispose",gt);const xt=at.indexOf(bt.__bindingPointIndex);at.splice(xt,1),tt.deleteBuffer(it[bt.id]),delete it[bt.id],delete ot[bt.id]}function vt(){for(const yt in it)tt.deleteBuffer(it[yt]);at=[],it={},ot={}}return{bind:lt,update:ct,dispose:vt}}function createCanvasElement(){const tt=createElementNS("canvas");return tt.style.display="block",tt}function WebGLRenderer(tt={}){this.isWebGLRenderer=!0;const et=tt.canvas!==void 0?tt.canvas:createCanvasElement(),rt=tt.context!==void 0?tt.context:null,nt=tt.depth!==void 0?tt.depth:!0,it=tt.stencil!==void 0?tt.stencil:!0,ot=tt.antialias!==void 0?tt.antialias:!1,at=tt.premultipliedAlpha!==void 0?tt.premultipliedAlpha:!0,st=tt.preserveDrawingBuffer!==void 0?tt.preserveDrawingBuffer:!1,lt=tt.powerPreference!==void 0?tt.powerPreference:"default",ct=tt.failIfMajorPerformanceCaveat!==void 0?tt.failIfMajorPerformanceCaveat:!1;let ut;rt!==null?ut=rt.getContextAttributes().alpha:ut=tt.alpha!==void 0?tt.alpha:!1;let dt=null,ft=null;const pt=[],mt=[];this.domElement=et,this.debug={checkShaderErrors:!0},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this.outputEncoding=LinearEncoding,this.physicallyCorrectLights=!1,this.toneMapping=NoToneMapping,this.toneMappingExposure=1;const ht=this;let gt=!1,vt=0,yt=0,bt=null,xt=-1,$t=null;const Tt=new Vector4,wt=new Vector4;let At=null,Rt=et.width,It=et.height,Lt=1,Pt=null,Nt=null;const Ot=new Vector4(0,0,Rt,It),Bt=new Vector4(0,0,Rt,It);let zt=!1;const Vt=new Frustum;let Ut=!1,jt=!1,qt=null;const Dt=new Matrix4,Ft=new Vector2,Zt=new Vector3,Kt={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function ir(){return bt===null?Lt:1}let rr=rt;function mr(gr,kr){for(let Ur=0;Ur<gr.length;Ur++){const Lr=gr[Ur],Vr=et.getContext(Lr,kr);if(Vr!==null)return Vr}return null}try{const gr={alpha:!0,depth:nt,stencil:it,antialias:ot,premultipliedAlpha:at,preserveDrawingBuffer:st,powerPreference:lt,failIfMajorPerformanceCaveat:ct};if("setAttribute"in et&&et.setAttribute("data-engine",`three.js r${REVISION}`),et.addEventListener("webglcontextlost",zr,!1),et.addEventListener("webglcontextrestored",jr,!1),et.addEventListener("webglcontextcreationerror",Jr,!1),rr===null){const kr=["webgl2","webgl","experimental-webgl"];if(ht.isWebGL1Renderer===!0&&kr.shift(),rr=mr(kr,gr),rr===null)throw mr(kr)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}rr.getShaderPrecisionFormat===void 0&&(rr.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(gr){throw console.error("THREE.WebGLRenderer: "+gr.message),gr}let sr,fr,pr,vr,dr,xr,Gt,Wt,nr,Qt,Jt,ar,cr,lr,Yt,Xt,tr,or,br,Sr,yr,hr,$r,Mr;function Ar(){sr=new WebGLExtensions(rr),fr=new WebGLCapabilities(rr,sr,tt),sr.init(fr),hr=new WebGLUtils(rr,sr,fr),pr=new WebGLState(rr,sr,fr),vr=new WebGLInfo,dr=new WebGLProperties,xr=new WebGLTextures(rr,sr,pr,dr,fr,hr,vr),Gt=new WebGLCubeMaps(ht),Wt=new WebGLCubeUVMaps(ht),nr=new WebGLAttributes(rr,fr),$r=new WebGLBindingStates(rr,sr,nr,fr),Qt=new WebGLGeometries(rr,nr,vr,$r),Jt=new WebGLObjects(rr,Qt,nr,vr),br=new WebGLMorphtargets(rr,fr,xr),Xt=new WebGLClipping(dr),ar=new WebGLPrograms(ht,Gt,Wt,sr,fr,$r,Xt),cr=new WebGLMaterials(ht,dr),lr=new WebGLRenderLists,Yt=new WebGLRenderStates(sr,fr),or=new WebGLBackground(ht,Gt,Wt,pr,Jt,ut,at),tr=new WebGLShadowMap(ht,Jt,fr),Mr=new WebGLUniformsGroups(rr,vr,fr,pr),Sr=new WebGLBufferRenderer(rr,sr,vr,fr),yr=new WebGLIndexedBufferRenderer(rr,sr,vr,fr),vr.programs=ar.programs,ht.capabilities=fr,ht.extensions=sr,ht.properties=dr,ht.renderLists=lr,ht.shadowMap=tr,ht.state=pr,ht.info=vr}Ar();const Fr=new WebXRManager(ht,rr);this.xr=Fr,this.getContext=function(){return rr},this.getContextAttributes=function(){return rr.getContextAttributes()},this.forceContextLoss=function(){const gr=sr.get("WEBGL_lose_context");gr&&gr.loseContext()},this.forceContextRestore=function(){const gr=sr.get("WEBGL_lose_context");gr&&gr.restoreContext()},this.getPixelRatio=function(){return Lt},this.setPixelRatio=function(gr){gr!==void 0&&(Lt=gr,this.setSize(Rt,It,!1))},this.getSize=function(gr){return gr.set(Rt,It)},this.setSize=function(gr,kr,Ur){if(Fr.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}Rt=gr,It=kr,et.width=Math.floor(gr*Lt),et.height=Math.floor(kr*Lt),Ur!==!1&&(et.style.width=gr+"px",et.style.height=kr+"px"),this.setViewport(0,0,gr,kr)},this.getDrawingBufferSize=function(gr){return gr.set(Rt*Lt,It*Lt).floor()},this.setDrawingBufferSize=function(gr,kr,Ur){Rt=gr,It=kr,Lt=Ur,et.width=Math.floor(gr*Ur),et.height=Math.floor(kr*Ur),this.setViewport(0,0,gr,kr)},this.getCurrentViewport=function(gr){return gr.copy(Tt)},this.getViewport=function(gr){return gr.copy(Ot)},this.setViewport=function(gr,kr,Ur,Lr){gr.isVector4?Ot.set(gr.x,gr.y,gr.z,gr.w):Ot.set(gr,kr,Ur,Lr),pr.viewport(Tt.copy(Ot).multiplyScalar(Lt).floor())},this.getScissor=function(gr){return gr.copy(Bt)},this.setScissor=function(gr,kr,Ur,Lr){gr.isVector4?Bt.set(gr.x,gr.y,gr.z,gr.w):Bt.set(gr,kr,Ur,Lr),pr.scissor(wt.copy(Bt).multiplyScalar(Lt).floor())},this.getScissorTest=function(){return zt},this.setScissorTest=function(gr){pr.setScissorTest(zt=gr)},this.setOpaqueSort=function(gr){Pt=gr},this.setTransparentSort=function(gr){Nt=gr},this.getClearColor=function(gr){return gr.copy(or.getClearColor())},this.setClearColor=function(){or.setClearColor.apply(or,arguments)},this.getClearAlpha=function(){return or.getClearAlpha()},this.setClearAlpha=function(){or.setClearAlpha.apply(or,arguments)},this.clear=function(gr=!0,kr=!0,Ur=!0){let Lr=0;gr&&(Lr|=16384),kr&&(Lr|=256),Ur&&(Lr|=1024),rr.clear(Lr)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){et.removeEventListener("webglcontextlost",zr,!1),et.removeEventListener("webglcontextrestored",jr,!1),et.removeEventListener("webglcontextcreationerror",Jr,!1),lr.dispose(),Yt.dispose(),dr.dispose(),Gt.dispose(),Wt.dispose(),Jt.dispose(),$r.dispose(),Mr.dispose(),ar.dispose(),Fr.dispose(),Fr.removeEventListener("sessionstart",Yr),Fr.removeEventListener("sessionend",dn),qt&&(qt.dispose(),qt=null),On.stop()};function zr(gr){gr.preventDefault(),gt=!0}function jr(){gt=!1;const gr=vr.autoReset,kr=tr.enabled,Ur=tr.autoUpdate,Lr=tr.needsUpdate,Vr=tr.type;Ar(),vr.autoReset=gr,tr.enabled=kr,tr.autoUpdate=Ur,tr.needsUpdate=Lr,tr.type=Vr}function Jr(gr){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",gr.statusMessage)}function gn(gr){const kr=gr.target;kr.removeEventListener("dispose",gn),mn(kr)}function mn(gr){Cr(gr),dr.remove(gr)}function Cr(gr){const kr=dr.get(gr).programs;kr!==void 0&&(kr.forEach(function(Ur){ar.releaseProgram(Ur)}),gr.isShaderMaterial&&ar.releaseShaderCache(gr))}this.renderBufferDirect=function(gr,kr,Ur,Lr,Vr,Or){kr===null&&(kr=Kt);const Rr=Vr.isMesh&&Vr.matrixWorld.determinant()<0,Xr=Un(gr,kr,Ur,Lr,Vr);pr.setMaterial(Lr,Rr);let ln=Ur.index,vn=1;Lr.wireframe===!0&&(ln=Qt.getWireframeAttribute(Ur),vn=2);const Sn=Ur.drawRange,Cn=Ur.attributes.position;let _n=Sn.start*vn,qn=(Sn.start+Sn.count)*vn;Or!==null&&(_n=Math.max(_n,Or.start*vn),qn=Math.min(qn,(Or.start+Or.count)*vn)),ln!==null?(_n=Math.max(_n,0),qn=Math.min(qn,ln.count)):Cn!=null&&(_n=Math.max(_n,0),qn=Math.min(qn,Cn.count));const Eo=qn-_n;if(Eo<0||Eo===1/0)return;$r.setup(Vr,Lr,Xr,Ur,ln);let wo,hn=Sr;if(ln!==null&&(wo=nr.get(ln),hn=yr,hn.setIndex(wo)),Vr.isMesh)Lr.wireframe===!0?(pr.setLineWidth(Lr.wireframeLinewidth*ir()),hn.setMode(1)):hn.setMode(4);else if(Vr.isLine){let Nn=Lr.linewidth;Nn===void 0&&(Nn=1),pr.setLineWidth(Nn*ir()),Vr.isLineSegments?hn.setMode(1):Vr.isLineLoop?hn.setMode(2):hn.setMode(3)}else Vr.isPoints?hn.setMode(0):Vr.isSprite&&hn.setMode(4);if(Vr.isInstancedMesh)hn.renderInstances(_n,Eo,Vr.count);else if(Ur.isInstancedBufferGeometry){const Nn=Ur._maxInstanceCount!==void 0?Ur._maxInstanceCount:1/0,Ao=Math.min(Ur.instanceCount,Nn);hn.renderInstances(_n,Eo,Ao)}else hn.render(_n,Eo)},this.compile=function(gr,kr){function Ur(Lr,Vr,Or){Lr.transparent===!0&&Lr.side===TwoPassDoubleSide?(Lr.side=BackSide,Lr.needsUpdate=!0,Rn(Lr,Vr,Or),Lr.side=FrontSide,Lr.needsUpdate=!0,Rn(Lr,Vr,Or),Lr.side=TwoPassDoubleSide):Rn(Lr,Vr,Or)}ft=Yt.get(gr),ft.init(),mt.push(ft),gr.traverseVisible(function(Lr){Lr.isLight&&Lr.layers.test(kr.layers)&&(ft.pushLight(Lr),Lr.castShadow&&ft.pushShadow(Lr))}),ft.setupLights(ht.physicallyCorrectLights),gr.traverse(function(Lr){const Vr=Lr.material;if(Vr)if(Array.isArray(Vr))for(let Or=0;Or<Vr.length;Or++){const Rr=Vr[Or];Ur(Rr,gr,Lr)}else Ur(Vr,gr,Lr)}),mt.pop(),ft=null};let Dr=null;function Hr(gr){Dr&&Dr(gr)}function Yr(){On.stop()}function dn(){On.start()}const On=new WebGLAnimation;On.setAnimationLoop(Hr),typeof self<"u"&&On.setContext(self),this.setAnimationLoop=function(gr){Dr=gr,Fr.setAnimationLoop(gr),gr===null?On.stop():On.start()},Fr.addEventListener("sessionstart",Yr),Fr.addEventListener("sessionend",dn),this.render=function(gr,kr){if(kr!==void 0&&kr.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(gt===!0)return;gr.matrixWorldAutoUpdate===!0&&gr.updateMatrixWorld(),kr.parent===null&&kr.matrixWorldAutoUpdate===!0&&kr.updateMatrixWorld(),Fr.enabled===!0&&Fr.isPresenting===!0&&(Fr.cameraAutoUpdate===!0&&Fr.updateCamera(kr),kr=Fr.getCamera()),gr.isScene===!0&&gr.onBeforeRender(ht,gr,kr,bt),ft=Yt.get(gr,mt.length),ft.init(),mt.push(ft),Dt.multiplyMatrices(kr.projectionMatrix,kr.matrixWorldInverse),Vt.setFromProjectionMatrix(Dt),jt=this.localClippingEnabled,Ut=Xt.init(this.clippingPlanes,jt,kr),dt=lr.get(gr,pt.length),dt.init(),pt.push(dt),Dn(gr,kr,0,ht.sortObjects),dt.finish(),ht.sortObjects===!0&&dt.sort(Pt,Nt),Ut===!0&&Xt.beginShadows();const Ur=ft.state.shadowsArray;if(tr.render(Ur,gr,kr),Ut===!0&&Xt.endShadows(),this.info.autoReset===!0&&this.info.reset(),or.render(dt,gr),ft.setupLights(ht.physicallyCorrectLights),kr.isArrayCamera){const Lr=kr.cameras;for(let Vr=0,Or=Lr.length;Vr<Or;Vr++){const Rr=Lr[Vr];Bn(dt,gr,Rr,Rr.viewport)}}else Bn(dt,gr,kr);bt!==null&&(xr.updateMultisampleRenderTarget(bt),xr.updateRenderTargetMipmap(bt)),gr.isScene===!0&&gr.onAfterRender(ht,gr,kr),$r.resetDefaultState(),xt=-1,$t=null,mt.pop(),mt.length>0?ft=mt[mt.length-1]:ft=null,pt.pop(),pt.length>0?dt=pt[pt.length-1]:dt=null};function Dn(gr,kr,Ur,Lr){if(gr.visible===!1)return;if(gr.layers.test(kr.layers)){if(gr.isGroup)Ur=gr.renderOrder;else if(gr.isLOD)gr.autoUpdate===!0&&gr.update(kr);else if(gr.isLight)ft.pushLight(gr),gr.castShadow&&ft.pushShadow(gr);else if(gr.isSprite){if(!gr.frustumCulled||Vt.intersectsSprite(gr)){Lr&&Zt.setFromMatrixPosition(gr.matrixWorld).applyMatrix4(Dt);const Rr=Jt.update(gr),Xr=gr.material;Xr.visible&&dt.push(gr,Rr,Xr,Ur,Zt.z,null)}}else if((gr.isMesh||gr.isLine||gr.isPoints)&&(gr.isSkinnedMesh&&gr.skeleton.frame!==vr.render.frame&&(gr.skeleton.update(),gr.skeleton.frame=vr.render.frame),!gr.frustumCulled||Vt.intersectsObject(gr))){Lr&&Zt.setFromMatrixPosition(gr.matrixWorld).applyMatrix4(Dt);const Rr=Jt.update(gr),Xr=gr.material;if(Array.isArray(Xr)){const ln=Rr.groups;for(let vn=0,Sn=ln.length;vn<Sn;vn++){const Cn=ln[vn],_n=Xr[Cn.materialIndex];_n&&_n.visible&&dt.push(gr,Rr,_n,Ur,Zt.z,Cn)}}else Xr.visible&&dt.push(gr,Rr,Xr,Ur,Zt.z,null)}}const Or=gr.children;for(let Rr=0,Xr=Or.length;Rr<Xr;Rr++)Dn(Or[Rr],kr,Ur,Lr)}function Bn(gr,kr,Ur,Lr){const Vr=gr.opaque,Or=gr.transmissive,Rr=gr.transparent;ft.setupLightsView(Ur),Or.length>0&&Fn(Vr,kr,Ur),Lr&&pr.viewport(Tt.copy(Lr)),Vr.length>0&&Mn(Vr,kr,Ur),Or.length>0&&Mn(Or,kr,Ur),Rr.length>0&&Mn(Rr,kr,Ur),pr.buffers.depth.setTest(!0),pr.buffers.depth.setMask(!0),pr.buffers.color.setMask(!0),pr.setPolygonOffset(!1)}function Fn(gr,kr,Ur){const Lr=fr.isWebGL2;qt===null&&(qt=new WebGLRenderTarget(1,1,{generateMipmaps:!0,type:sr.has("EXT_color_buffer_half_float")?HalfFloatType:UnsignedByteType,minFilter:LinearMipmapLinearFilter,samples:Lr&&ot===!0?4:0})),ht.getDrawingBufferSize(Ft),Lr?qt.setSize(Ft.x,Ft.y):qt.setSize(floorPowerOfTwo(Ft.x),floorPowerOfTwo(Ft.y));const Vr=ht.getRenderTarget();ht.setRenderTarget(qt),ht.clear();const Or=ht.toneMapping;ht.toneMapping=NoToneMapping,Mn(gr,kr,Ur),ht.toneMapping=Or,xr.updateMultisampleRenderTarget(qt),xr.updateRenderTargetMipmap(qt),ht.setRenderTarget(Vr)}function Mn(gr,kr,Ur){const Lr=kr.isScene===!0?kr.overrideMaterial:null;for(let Vr=0,Or=gr.length;Vr<Or;Vr++){const Rr=gr[Vr],Xr=Rr.object,ln=Rr.geometry,vn=Lr===null?Rr.material:Lr,Sn=Rr.group;Xr.layers.test(Ur.layers)&&Ln(Xr,kr,Ur,ln,vn,Sn)}}function Ln(gr,kr,Ur,Lr,Vr,Or){gr.onBeforeRender(ht,kr,Ur,Lr,Vr,Or),gr.modelViewMatrix.multiplyMatrices(Ur.matrixWorldInverse,gr.matrixWorld),gr.normalMatrix.getNormalMatrix(gr.modelViewMatrix),Vr.onBeforeRender(ht,kr,Ur,Lr,gr,Or),Vr.transparent===!0&&Vr.side===TwoPassDoubleSide?(Vr.side=BackSide,Vr.needsUpdate=!0,ht.renderBufferDirect(Ur,kr,Lr,Vr,gr,Or),Vr.side=FrontSide,Vr.needsUpdate=!0,ht.renderBufferDirect(Ur,kr,Lr,Vr,gr,Or),Vr.side=TwoPassDoubleSide):ht.renderBufferDirect(Ur,kr,Lr,Vr,gr,Or),gr.onAfterRender(ht,kr,Ur,Lr,Vr,Or)}function Rn(gr,kr,Ur){kr.isScene!==!0&&(kr=Kt);const Lr=dr.get(gr),Vr=ft.state.lights,Or=ft.state.shadowsArray,Rr=Vr.state.version,Xr=ar.getParameters(gr,Vr.state,Or,kr,Ur),ln=ar.getProgramCacheKey(Xr);let vn=Lr.programs;Lr.environment=gr.isMeshStandardMaterial?kr.environment:null,Lr.fog=kr.fog,Lr.envMap=(gr.isMeshStandardMaterial?Wt:Gt).get(gr.envMap||Lr.environment),vn===void 0&&(gr.addEventListener("dispose",gn),vn=new Map,Lr.programs=vn);let Sn=vn.get(ln);if(Sn!==void 0){if(Lr.currentProgram===Sn&&Lr.lightsStateVersion===Rr)return Qn(gr,Xr),Sn}else Xr.uniforms=ar.getUniforms(gr),gr.onBuild(Ur,Xr,ht),gr.onBeforeCompile(Xr,ht),Sn=ar.acquireProgram(Xr,ln),vn.set(ln,Sn),Lr.uniforms=Xr.uniforms;const Cn=Lr.uniforms;(!gr.isShaderMaterial&&!gr.isRawShaderMaterial||gr.clipping===!0)&&(Cn.clippingPlanes=Xt.uniform),Qn(gr,Xr),Lr.needsLights=Tn(gr),Lr.lightsStateVersion=Rr,Lr.needsLights&&(Cn.ambientLightColor.value=Vr.state.ambient,Cn.lightProbe.value=Vr.state.probe,Cn.directionalLights.value=Vr.state.directional,Cn.directionalLightShadows.value=Vr.state.directionalShadow,Cn.spotLights.value=Vr.state.spot,Cn.spotLightShadows.value=Vr.state.spotShadow,Cn.rectAreaLights.value=Vr.state.rectArea,Cn.ltc_1.value=Vr.state.rectAreaLTC1,Cn.ltc_2.value=Vr.state.rectAreaLTC2,Cn.pointLights.value=Vr.state.point,Cn.pointLightShadows.value=Vr.state.pointShadow,Cn.hemisphereLights.value=Vr.state.hemi,Cn.directionalShadowMap.value=Vr.state.directionalShadowMap,Cn.directionalShadowMatrix.value=Vr.state.directionalShadowMatrix,Cn.spotShadowMap.value=Vr.state.spotShadowMap,Cn.spotLightMatrix.value=Vr.state.spotLightMatrix,Cn.spotLightMap.value=Vr.state.spotLightMap,Cn.pointShadowMap.value=Vr.state.pointShadowMap,Cn.pointShadowMatrix.value=Vr.state.pointShadowMatrix);const _n=Sn.getUniforms(),qn=WebGLUniforms.seqWithValue(_n.seq,Cn);return Lr.currentProgram=Sn,Lr.uniformsList=qn,Sn}function Qn(gr,kr){const Ur=dr.get(gr);Ur.outputEncoding=kr.outputEncoding,Ur.instancing=kr.instancing,Ur.skinning=kr.skinning,Ur.morphTargets=kr.morphTargets,Ur.morphNormals=kr.morphNormals,Ur.morphColors=kr.morphColors,Ur.morphTargetsCount=kr.morphTargetsCount,Ur.numClippingPlanes=kr.numClippingPlanes,Ur.numIntersection=kr.numClipIntersection,Ur.vertexAlphas=kr.vertexAlphas,Ur.vertexTangents=kr.vertexTangents,Ur.toneMapping=kr.toneMapping}function Un(gr,kr,Ur,Lr,Vr){kr.isScene!==!0&&(kr=Kt),xr.resetTextureUnits();const Or=kr.fog,Rr=Lr.isMeshStandardMaterial?kr.environment:null,Xr=bt===null?ht.outputEncoding:bt.isXRRenderTarget===!0?bt.texture.encoding:LinearEncoding,ln=(Lr.isMeshStandardMaterial?Wt:Gt).get(Lr.envMap||Rr),vn=Lr.vertexColors===!0&&!!Ur.attributes.color&&Ur.attributes.color.itemSize===4,Sn=!!Lr.normalMap&&!!Ur.attributes.tangent,Cn=!!Ur.morphAttributes.position,_n=!!Ur.morphAttributes.normal,qn=!!Ur.morphAttributes.color,Eo=Lr.toneMapped?ht.toneMapping:NoToneMapping,wo=Ur.morphAttributes.position||Ur.morphAttributes.normal||Ur.morphAttributes.color,hn=wo!==void 0?wo.length:0,Nn=dr.get(Lr),Ao=ft.state.lights;if(Ut===!0&&(jt===!0||gr!==$t)){const ur=gr===$t&&Lr.id===xt;Xt.setState(Lr,gr,ur)}let ro=!1;Lr.version===Nn.__version?(Nn.needsLights&&Nn.lightsStateVersion!==Ao.state.version||Nn.outputEncoding!==Xr||Vr.isInstancedMesh&&Nn.instancing===!1||!Vr.isInstancedMesh&&Nn.instancing===!0||Vr.isSkinnedMesh&&Nn.skinning===!1||!Vr.isSkinnedMesh&&Nn.skinning===!0||Nn.envMap!==ln||Lr.fog===!0&&Nn.fog!==Or||Nn.numClippingPlanes!==void 0&&(Nn.numClippingPlanes!==Xt.numPlanes||Nn.numIntersection!==Xt.numIntersection)||Nn.vertexAlphas!==vn||Nn.vertexTangents!==Sn||Nn.morphTargets!==Cn||Nn.morphNormals!==_n||Nn.morphColors!==qn||Nn.toneMapping!==Eo||fr.isWebGL2===!0&&Nn.morphTargetsCount!==hn)&&(ro=!0):(ro=!0,Nn.__version=Lr.version);let So=Nn.currentProgram;ro===!0&&(So=Rn(Lr,kr,Vr));let Bo=!1,mo=!1,go=!1;const kn=So.getUniforms(),Hn=Nn.uniforms;if(pr.useProgram(So.program)&&(Bo=!0,mo=!0,go=!0),Lr.id!==xt&&(xt=Lr.id,mo=!0),Bo||$t!==gr){if(kn.setValue(rr,"projectionMatrix",gr.projectionMatrix),fr.logarithmicDepthBuffer&&kn.setValue(rr,"logDepthBufFC",2/(Math.log(gr.far+1)/Math.LN2)),$t!==gr&&($t=gr,mo=!0,go=!0),Lr.isShaderMaterial||Lr.isMeshPhongMaterial||Lr.isMeshToonMaterial||Lr.isMeshStandardMaterial||Lr.envMap){const ur=kn.map.cameraPosition;ur!==void 0&&ur.setValue(rr,Zt.setFromMatrixPosition(gr.matrixWorld))}(Lr.isMeshPhongMaterial||Lr.isMeshToonMaterial||Lr.isMeshLambertMaterial||Lr.isMeshBasicMaterial||Lr.isMeshStandardMaterial||Lr.isShaderMaterial)&&kn.setValue(rr,"isOrthographic",gr.isOrthographicCamera===!0),(Lr.isMeshPhongMaterial||Lr.isMeshToonMaterial||Lr.isMeshLambertMaterial||Lr.isMeshBasicMaterial||Lr.isMeshStandardMaterial||Lr.isShaderMaterial||Lr.isShadowMaterial||Vr.isSkinnedMesh)&&kn.setValue(rr,"viewMatrix",gr.matrixWorldInverse)}if(Vr.isSkinnedMesh){kn.setOptional(rr,Vr,"bindMatrix"),kn.setOptional(rr,Vr,"bindMatrixInverse");const ur=Vr.skeleton;ur&&(fr.floatVertexTextures?(ur.boneTexture===null&&ur.computeBoneTexture(),kn.setValue(rr,"boneTexture",ur.boneTexture,xr),kn.setValue(rr,"boneTextureSize",ur.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Co=Ur.morphAttributes;if((Co.position!==void 0||Co.normal!==void 0||Co.color!==void 0&&fr.isWebGL2===!0)&&br.update(Vr,Ur,Lr,So),(mo||Nn.receiveShadow!==Vr.receiveShadow)&&(Nn.receiveShadow=Vr.receiveShadow,kn.setValue(rr,"receiveShadow",Vr.receiveShadow)),Lr.isMeshGouraudMaterial&&Lr.envMap!==null&&(Hn.envMap.value=ln,Hn.flipEnvMap.value=ln.isCubeTexture&&ln.isRenderTargetTexture===!1?-1:1),mo&&(kn.setValue(rr,"toneMappingExposure",ht.toneMappingExposure),Nn.needsLights&&yn(Hn,go),Or&&Lr.fog===!0&&cr.refreshFogUniforms(Hn,Or),cr.refreshMaterialUniforms(Hn,Lr,Lt,It,qt),WebGLUniforms.upload(rr,Nn.uniformsList,Hn,xr)),Lr.isShaderMaterial&&Lr.uniformsNeedUpdate===!0&&(WebGLUniforms.upload(rr,Nn.uniformsList,Hn,xr),Lr.uniformsNeedUpdate=!1),Lr.isSpriteMaterial&&kn.setValue(rr,"center",Vr.center),kn.setValue(rr,"modelViewMatrix",Vr.modelViewMatrix),kn.setValue(rr,"normalMatrix",Vr.normalMatrix),kn.setValue(rr,"modelMatrix",Vr.matrixWorld),Lr.isShaderMaterial||Lr.isRawShaderMaterial){const ur=Lr.uniformsGroups;for(let Tr=0,_r=ur.length;Tr<_r;Tr++)if(fr.isWebGL2){const Ir=ur[Tr];Mr.update(Ir,So),Mr.bind(Ir,So)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return So}function yn(gr,kr){gr.ambientLightColor.needsUpdate=kr,gr.lightProbe.needsUpdate=kr,gr.directionalLights.needsUpdate=kr,gr.directionalLightShadows.needsUpdate=kr,gr.pointLights.needsUpdate=kr,gr.pointLightShadows.needsUpdate=kr,gr.spotLights.needsUpdate=kr,gr.spotLightShadows.needsUpdate=kr,gr.rectAreaLights.needsUpdate=kr,gr.hemisphereLights.needsUpdate=kr}function Tn(gr){return gr.isMeshLambertMaterial||gr.isMeshToonMaterial||gr.isMeshPhongMaterial||gr.isMeshStandardMaterial||gr.isShadowMaterial||gr.isShaderMaterial&&gr.lights===!0}this.getActiveCubeFace=function(){return vt},this.getActiveMipmapLevel=function(){return yt},this.getRenderTarget=function(){return bt},this.setRenderTargetTextures=function(gr,kr,Ur){dr.get(gr.texture).__webglTexture=kr,dr.get(gr.depthTexture).__webglTexture=Ur;const Lr=dr.get(gr);Lr.__hasExternalTextures=!0,Lr.__hasExternalTextures&&(Lr.__autoAllocateDepthBuffer=Ur===void 0,Lr.__autoAllocateDepthBuffer||sr.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),Lr.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(gr,kr){const Ur=dr.get(gr);Ur.__webglFramebuffer=kr,Ur.__useDefaultFramebuffer=kr===void 0},this.setRenderTarget=function(gr,kr=0,Ur=0){bt=gr,vt=kr,yt=Ur;let Lr=!0,Vr=null,Or=!1,Rr=!1;if(gr){const ln=dr.get(gr);ln.__useDefaultFramebuffer!==void 0?(pr.bindFramebuffer(36160,null),Lr=!1):ln.__webglFramebuffer===void 0?xr.setupRenderTarget(gr):ln.__hasExternalTextures&&xr.rebindTextures(gr,dr.get(gr.texture).__webglTexture,dr.get(gr.depthTexture).__webglTexture);const vn=gr.texture;(vn.isData3DTexture||vn.isDataArrayTexture||vn.isCompressedArrayTexture)&&(Rr=!0);const Sn=dr.get(gr).__webglFramebuffer;gr.isWebGLCubeRenderTarget?(Vr=Sn[kr],Or=!0):fr.isWebGL2&&gr.samples>0&&xr.useMultisampledRTT(gr)===!1?Vr=dr.get(gr).__webglMultisampledFramebuffer:Vr=Sn,Tt.copy(gr.viewport),wt.copy(gr.scissor),At=gr.scissorTest}else Tt.copy(Ot).multiplyScalar(Lt).floor(),wt.copy(Bt).multiplyScalar(Lt).floor(),At=zt;if(pr.bindFramebuffer(36160,Vr)&&fr.drawBuffers&&Lr&&pr.drawBuffers(gr,Vr),pr.viewport(Tt),pr.scissor(wt),pr.setScissorTest(At),Or){const ln=dr.get(gr.texture);rr.framebufferTexture2D(36160,36064,34069+kr,ln.__webglTexture,Ur)}else if(Rr){const ln=dr.get(gr.texture),vn=kr||0;rr.framebufferTextureLayer(36160,36064,ln.__webglTexture,Ur||0,vn)}xt=-1},this.readRenderTargetPixels=function(gr,kr,Ur,Lr,Vr,Or,Rr){if(!(gr&&gr.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let Xr=dr.get(gr).__webglFramebuffer;if(gr.isWebGLCubeRenderTarget&&Rr!==void 0&&(Xr=Xr[Rr]),Xr){pr.bindFramebuffer(36160,Xr);try{const ln=gr.texture,vn=ln.format,Sn=ln.type;if(vn!==RGBAFormat&&hr.convert(vn)!==rr.getParameter(35739)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const Cn=Sn===HalfFloatType&&(sr.has("EXT_color_buffer_half_float")||fr.isWebGL2&&sr.has("EXT_color_buffer_float"));if(Sn!==UnsignedByteType&&hr.convert(Sn)!==rr.getParameter(35738)&&!(Sn===FloatType&&(fr.isWebGL2||sr.has("OES_texture_float")||sr.has("WEBGL_color_buffer_float")))&&!Cn){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}kr>=0&&kr<=gr.width-Lr&&Ur>=0&&Ur<=gr.height-Vr&&rr.readPixels(kr,Ur,Lr,Vr,hr.convert(vn),hr.convert(Sn),Or)}finally{const ln=bt!==null?dr.get(bt).__webglFramebuffer:null;pr.bindFramebuffer(36160,ln)}}},this.copyFramebufferToTexture=function(gr,kr,Ur=0){const Lr=Math.pow(2,-Ur),Vr=Math.floor(kr.image.width*Lr),Or=Math.floor(kr.image.height*Lr);xr.setTexture2D(kr,0),rr.copyTexSubImage2D(3553,Ur,0,0,gr.x,gr.y,Vr,Or),pr.unbindTexture()},this.copyTextureToTexture=function(gr,kr,Ur,Lr=0){const Vr=kr.image.width,Or=kr.image.height,Rr=hr.convert(Ur.format),Xr=hr.convert(Ur.type);xr.setTexture2D(Ur,0),rr.pixelStorei(37440,Ur.flipY),rr.pixelStorei(37441,Ur.premultiplyAlpha),rr.pixelStorei(3317,Ur.unpackAlignment),kr.isDataTexture?rr.texSubImage2D(3553,Lr,gr.x,gr.y,Vr,Or,Rr,Xr,kr.image.data):kr.isCompressedTexture?rr.compressedTexSubImage2D(3553,Lr,gr.x,gr.y,kr.mipmaps[0].width,kr.mipmaps[0].height,Rr,kr.mipmaps[0].data):rr.texSubImage2D(3553,Lr,gr.x,gr.y,Rr,Xr,kr.image),Lr===0&&Ur.generateMipmaps&&rr.generateMipmap(3553),pr.unbindTexture()},this.copyTextureToTexture3D=function(gr,kr,Ur,Lr,Vr=0){if(ht.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const Or=gr.max.x-gr.min.x+1,Rr=gr.max.y-gr.min.y+1,Xr=gr.max.z-gr.min.z+1,ln=hr.convert(Lr.format),vn=hr.convert(Lr.type);let Sn;if(Lr.isData3DTexture)xr.setTexture3D(Lr,0),Sn=32879;else if(Lr.isDataArrayTexture)xr.setTexture2DArray(Lr,0),Sn=35866;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}rr.pixelStorei(37440,Lr.flipY),rr.pixelStorei(37441,Lr.premultiplyAlpha),rr.pixelStorei(3317,Lr.unpackAlignment);const Cn=rr.getParameter(3314),_n=rr.getParameter(32878),qn=rr.getParameter(3316),Eo=rr.getParameter(3315),wo=rr.getParameter(32877),hn=Ur.isCompressedTexture?Ur.mipmaps[0]:Ur.image;rr.pixelStorei(3314,hn.width),rr.pixelStorei(32878,hn.height),rr.pixelStorei(3316,gr.min.x),rr.pixelStorei(3315,gr.min.y),rr.pixelStorei(32877,gr.min.z),Ur.isDataTexture||Ur.isData3DTexture?rr.texSubImage3D(Sn,Vr,kr.x,kr.y,kr.z,Or,Rr,Xr,ln,vn,hn.data):Ur.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),rr.compressedTexSubImage3D(Sn,Vr,kr.x,kr.y,kr.z,Or,Rr,Xr,ln,hn.data)):rr.texSubImage3D(Sn,Vr,kr.x,kr.y,kr.z,Or,Rr,Xr,ln,vn,hn),rr.pixelStorei(3314,Cn),rr.pixelStorei(32878,_n),rr.pixelStorei(3316,qn),rr.pixelStorei(3315,Eo),rr.pixelStorei(32877,wo),Vr===0&&Lr.generateMipmaps&&rr.generateMipmap(Sn),pr.unbindTexture()},this.initTexture=function(gr){gr.isCubeTexture?xr.setTextureCube(gr,0):gr.isData3DTexture?xr.setTexture3D(gr,0):gr.isDataArrayTexture||gr.isCompressedArrayTexture?xr.setTexture2DArray(gr,0):xr.setTexture2D(gr,0),pr.unbindTexture()},this.resetState=function(){vt=0,yt=0,bt=null,pr.reset(),$r.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}class WebGL1Renderer extends WebGLRenderer{}WebGL1Renderer.prototype.isWebGL1Renderer=!0;class FogExp2{constructor(et,rt=25e-5){this.isFogExp2=!0,this.name="",this.color=new Color(et),this.density=rt}clone(){return new FogExp2(this.color,this.density)}toJSON(){return{type:"FogExp2",color:this.color.getHex(),density:this.density}}}class Fog{constructor(et,rt=1,nt=1e3){this.isFog=!0,this.name="",this.color=new Color(et),this.near=rt,this.far=nt}clone(){return new Fog(this.color,this.near,this.far)}toJSON(){return{type:"Fog",color:this.color.getHex(),near:this.near,far:this.far}}}class Scene extends Object3D{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(et,rt){return super.copy(et,rt),et.background!==null&&(this.background=et.background.clone()),et.environment!==null&&(this.environment=et.environment.clone()),et.fog!==null&&(this.fog=et.fog.clone()),this.backgroundBlurriness=et.backgroundBlurriness,this.backgroundIntensity=et.backgroundIntensity,et.overrideMaterial!==null&&(this.overrideMaterial=et.overrideMaterial.clone()),this.matrixAutoUpdate=et.matrixAutoUpdate,this}toJSON(et){const rt=super.toJSON(et);return this.fog!==null&&(rt.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(rt.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(rt.backgroundIntensity=this.backgroundIntensity),rt}get autoUpdate(){return console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate}set autoUpdate(et){console.warn("THREE.Scene: autoUpdate was renamed to matrixWorldAutoUpdate in r144."),this.matrixWorldAutoUpdate=et}}class InterleavedBuffer{constructor(et,rt){this.isInterleavedBuffer=!0,this.array=et,this.stride=rt,this.count=et!==void 0?et.length/rt:0,this.usage=StaticDrawUsage,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=generateUUID$1()}onUploadCallback(){}set needsUpdate(et){et===!0&&this.version++}setUsage(et){return this.usage=et,this}copy(et){return this.array=new et.array.constructor(et.array),this.count=et.count,this.stride=et.stride,this.usage=et.usage,this}copyAt(et,rt,nt){et*=this.stride,nt*=rt.stride;for(let it=0,ot=this.stride;it<ot;it++)this.array[et+it]=rt.array[nt+it];return this}set(et,rt=0){return this.array.set(et,rt),this}clone(et){et.arrayBuffers===void 0&&(et.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),et.arrayBuffers[this.array.buffer._uuid]===void 0&&(et.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const rt=new this.array.constructor(et.arrayBuffers[this.array.buffer._uuid]),nt=new this.constructor(rt,this.stride);return nt.setUsage(this.usage),nt}onUpload(et){return this.onUploadCallback=et,this}toJSON(et){return et.arrayBuffers===void 0&&(et.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=generateUUID$1()),et.arrayBuffers[this.array.buffer._uuid]===void 0&&(et.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const _vector$6=new Vector3;class InterleavedBufferAttribute{constructor(et,rt,nt,it=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=et,this.itemSize=rt,this.offset=nt,this.normalized=it}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(et){this.data.needsUpdate=et}applyMatrix4(et){for(let rt=0,nt=this.data.count;rt<nt;rt++)_vector$6.fromBufferAttribute(this,rt),_vector$6.applyMatrix4(et),this.setXYZ(rt,_vector$6.x,_vector$6.y,_vector$6.z);return this}applyNormalMatrix(et){for(let rt=0,nt=this.count;rt<nt;rt++)_vector$6.fromBufferAttribute(this,rt),_vector$6.applyNormalMatrix(et),this.setXYZ(rt,_vector$6.x,_vector$6.y,_vector$6.z);return this}transformDirection(et){for(let rt=0,nt=this.count;rt<nt;rt++)_vector$6.fromBufferAttribute(this,rt),_vector$6.transformDirection(et),this.setXYZ(rt,_vector$6.x,_vector$6.y,_vector$6.z);return this}setX(et,rt){return this.normalized&&(rt=normalize$5(rt,this.array)),this.data.array[et*this.data.stride+this.offset]=rt,this}setY(et,rt){return this.normalized&&(rt=normalize$5(rt,this.array)),this.data.array[et*this.data.stride+this.offset+1]=rt,this}setZ(et,rt){return this.normalized&&(rt=normalize$5(rt,this.array)),this.data.array[et*this.data.stride+this.offset+2]=rt,this}setW(et,rt){return this.normalized&&(rt=normalize$5(rt,this.array)),this.data.array[et*this.data.stride+this.offset+3]=rt,this}getX(et){let rt=this.data.array[et*this.data.stride+this.offset];return this.normalized&&(rt=denormalize(rt,this.array)),rt}getY(et){let rt=this.data.array[et*this.data.stride+this.offset+1];return this.normalized&&(rt=denormalize(rt,this.array)),rt}getZ(et){let rt=this.data.array[et*this.data.stride+this.offset+2];return this.normalized&&(rt=denormalize(rt,this.array)),rt}getW(et){let rt=this.data.array[et*this.data.stride+this.offset+3];return this.normalized&&(rt=denormalize(rt,this.array)),rt}setXY(et,rt,nt){return et=et*this.data.stride+this.offset,this.normalized&&(rt=normalize$5(rt,this.array),nt=normalize$5(nt,this.array)),this.data.array[et+0]=rt,this.data.array[et+1]=nt,this}setXYZ(et,rt,nt,it){return et=et*this.data.stride+this.offset,this.normalized&&(rt=normalize$5(rt,this.array),nt=normalize$5(nt,this.array),it=normalize$5(it,this.array)),this.data.array[et+0]=rt,this.data.array[et+1]=nt,this.data.array[et+2]=it,this}setXYZW(et,rt,nt,it,ot){return et=et*this.data.stride+this.offset,this.normalized&&(rt=normalize$5(rt,this.array),nt=normalize$5(nt,this.array),it=normalize$5(it,this.array),ot=normalize$5(ot,this.array)),this.data.array[et+0]=rt,this.data.array[et+1]=nt,this.data.array[et+2]=it,this.data.array[et+3]=ot,this}clone(et){if(et===void 0){const rt=[];for(let nt=0;nt<this.count;nt++){const it=nt*this.data.stride+this.offset;for(let ot=0;ot<this.itemSize;ot++)rt.push(this.data.array[it+ot])}return new BufferAttribute(new this.array.constructor(rt),this.itemSize,this.normalized)}else return et.interleavedBuffers===void 0&&(et.interleavedBuffers={}),et.interleavedBuffers[this.data.uuid]===void 0&&(et.interleavedBuffers[this.data.uuid]=this.data.clone(et)),new InterleavedBufferAttribute(et.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(et){if(et===void 0){const rt=[];for(let nt=0;nt<this.count;nt++){const it=nt*this.data.stride+this.offset;for(let ot=0;ot<this.itemSize;ot++)rt.push(this.data.array[it+ot])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:rt,normalized:this.normalized}}else return et.interleavedBuffers===void 0&&(et.interleavedBuffers={}),et.interleavedBuffers[this.data.uuid]===void 0&&(et.interleavedBuffers[this.data.uuid]=this.data.toJSON(et)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class SpriteMaterial extends Material$2{constructor(et){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.alphaMap=et.alphaMap,this.rotation=et.rotation,this.sizeAttenuation=et.sizeAttenuation,this.fog=et.fog,this}}let _geometry;const _intersectPoint=new Vector3,_worldScale=new Vector3,_mvPosition=new Vector3,_alignedPosition=new Vector2,_rotatedPosition=new Vector2,_viewWorldMatrix=new Matrix4,_vA=new Vector3,_vB=new Vector3,_vC=new Vector3,_uvA=new Vector2,_uvB=new Vector2,_uvC=new Vector2;class Sprite extends Object3D{constructor(et){if(super(),this.isSprite=!0,this.type="Sprite",_geometry===void 0){_geometry=new BufferGeometry;const rt=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),nt=new InterleavedBuffer(rt,5);_geometry.setIndex([0,1,2,0,2,3]),_geometry.setAttribute("position",new InterleavedBufferAttribute(nt,3,0,!1)),_geometry.setAttribute("uv",new InterleavedBufferAttribute(nt,2,3,!1))}this.geometry=_geometry,this.material=et!==void 0?et:new SpriteMaterial,this.center=new Vector2(.5,.5)}raycast(et,rt){et.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),_worldScale.setFromMatrixScale(this.matrixWorld),_viewWorldMatrix.copy(et.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(et.camera.matrixWorldInverse,this.matrixWorld),_mvPosition.setFromMatrixPosition(this.modelViewMatrix),et.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&_worldScale.multiplyScalar(-_mvPosition.z);const nt=this.material.rotation;let it,ot;nt!==0&&(ot=Math.cos(nt),it=Math.sin(nt));const at=this.center;transformVertex(_vA.set(-.5,-.5,0),_mvPosition,at,_worldScale,it,ot),transformVertex(_vB.set(.5,-.5,0),_mvPosition,at,_worldScale,it,ot),transformVertex(_vC.set(.5,.5,0),_mvPosition,at,_worldScale,it,ot),_uvA.set(0,0),_uvB.set(1,0),_uvC.set(1,1);let st=et.ray.intersectTriangle(_vA,_vB,_vC,!1,_intersectPoint);if(st===null&&(transformVertex(_vB.set(-.5,.5,0),_mvPosition,at,_worldScale,it,ot),_uvB.set(0,1),st=et.ray.intersectTriangle(_vA,_vC,_vB,!1,_intersectPoint),st===null))return;const lt=et.ray.origin.distanceTo(_intersectPoint);lt<et.near||lt>et.far||rt.push({distance:lt,point:_intersectPoint.clone(),uv:Triangle.getUV(_intersectPoint,_vA,_vB,_vC,_uvA,_uvB,_uvC,new Vector2),face:null,object:this})}copy(et,rt){return super.copy(et,rt),et.center!==void 0&&this.center.copy(et.center),this.material=et.material,this}}function transformVertex(tt,et,rt,nt,it,ot){_alignedPosition.subVectors(tt,rt).addScalar(.5).multiply(nt),it!==void 0?(_rotatedPosition.x=ot*_alignedPosition.x-it*_alignedPosition.y,_rotatedPosition.y=it*_alignedPosition.x+ot*_alignedPosition.y):_rotatedPosition.copy(_alignedPosition),tt.copy(et),tt.x+=_rotatedPosition.x,tt.y+=_rotatedPosition.y,tt.applyMatrix4(_viewWorldMatrix)}const _v1$2=new Vector3,_v2$1=new Vector3;class LOD extends Object3D{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(et){super.copy(et,!1);const rt=et.levels;for(let nt=0,it=rt.length;nt<it;nt++){const ot=rt[nt];this.addLevel(ot.object.clone(),ot.distance,ot.hysteresis)}return this.autoUpdate=et.autoUpdate,this}addLevel(et,rt=0,nt=0){rt=Math.abs(rt);const it=this.levels;let ot;for(ot=0;ot<it.length&&!(rt<it[ot].distance);ot++);return it.splice(ot,0,{distance:rt,hysteresis:nt,object:et}),this.add(et),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(et){const rt=this.levels;if(rt.length>0){let nt,it;for(nt=1,it=rt.length;nt<it;nt++){let ot=rt[nt].distance;if(rt[nt].object.visible&&(ot-=ot*rt[nt].hysteresis),et<ot)break}return rt[nt-1].object}return null}raycast(et,rt){if(this.levels.length>0){_v1$2.setFromMatrixPosition(this.matrixWorld);const it=et.ray.origin.distanceTo(_v1$2);this.getObjectForDistance(it).raycast(et,rt)}}update(et){const rt=this.levels;if(rt.length>1){_v1$2.setFromMatrixPosition(et.matrixWorld),_v2$1.setFromMatrixPosition(this.matrixWorld);const nt=_v1$2.distanceTo(_v2$1)/et.zoom;rt[0].object.visible=!0;let it,ot;for(it=1,ot=rt.length;it<ot;it++){let at=rt[it].distance;if(rt[it].object.visible&&(at-=at*rt[it].hysteresis),nt>=at)rt[it-1].object.visible=!1,rt[it].object.visible=!0;else break}for(this._currentLevel=it-1;it<ot;it++)rt[it].object.visible=!1}}toJSON(et){const rt=super.toJSON(et);this.autoUpdate===!1&&(rt.object.autoUpdate=!1),rt.object.levels=[];const nt=this.levels;for(let it=0,ot=nt.length;it<ot;it++){const at=nt[it];rt.object.levels.push({object:at.object.uuid,distance:at.distance,hysteresis:at.hysteresis})}return rt}}const _basePosition=new Vector3,_skinIndex=new Vector4,_skinWeight=new Vector4,_vector$5=new Vector3,_matrix=new Matrix4;class SkinnedMesh extends Mesh{constructor(et,rt){super(et,rt),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Matrix4,this.bindMatrixInverse=new Matrix4}copy(et,rt){return super.copy(et,rt),this.bindMode=et.bindMode,this.bindMatrix.copy(et.bindMatrix),this.bindMatrixInverse.copy(et.bindMatrixInverse),this.skeleton=et.skeleton,this}bind(et,rt){this.skeleton=et,rt===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),rt=this.matrixWorld),this.bindMatrix.copy(rt),this.bindMatrixInverse.copy(rt).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const et=new Vector4,rt=this.geometry.attributes.skinWeight;for(let nt=0,it=rt.count;nt<it;nt++){et.fromBufferAttribute(rt,nt);const ot=1/et.manhattanLength();ot!==1/0?et.multiplyScalar(ot):et.set(1,0,0,0),rt.setXYZW(nt,et.x,et.y,et.z,et.w)}}updateMatrixWorld(et){super.updateMatrixWorld(et),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}boneTransform(et,rt){const nt=this.skeleton,it=this.geometry;_skinIndex.fromBufferAttribute(it.attributes.skinIndex,et),_skinWeight.fromBufferAttribute(it.attributes.skinWeight,et),_basePosition.copy(rt).applyMatrix4(this.bindMatrix),rt.set(0,0,0);for(let ot=0;ot<4;ot++){const at=_skinWeight.getComponent(ot);if(at!==0){const st=_skinIndex.getComponent(ot);_matrix.multiplyMatrices(nt.bones[st].matrixWorld,nt.boneInverses[st]),rt.addScaledVector(_vector$5.copy(_basePosition).applyMatrix4(_matrix),at)}}return rt.applyMatrix4(this.bindMatrixInverse)}}class Bone extends Object3D{constructor(){super(),this.isBone=!0,this.type="Bone"}}class DataTexture extends Texture{constructor(et=null,rt=1,nt=1,it,ot,at,st,lt,ct=NearestFilter,ut=NearestFilter,dt,ft){super(null,at,st,lt,ct,ut,it,ot,dt,ft),this.isDataTexture=!0,this.image={data:et,width:rt,height:nt},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const _offsetMatrix=new Matrix4,_identityMatrix=new Matrix4;class Skeleton{constructor(et=[],rt=[]){this.uuid=generateUUID$1(),this.bones=et.slice(0),this.boneInverses=rt,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.frame=-1,this.init()}init(){const et=this.bones,rt=this.boneInverses;if(this.boneMatrices=new Float32Array(et.length*16),rt.length===0)this.calculateInverses();else if(et.length!==rt.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let nt=0,it=this.bones.length;nt<it;nt++)this.boneInverses.push(new Matrix4)}}calculateInverses(){this.boneInverses.length=0;for(let et=0,rt=this.bones.length;et<rt;et++){const nt=new Matrix4;this.bones[et]&&nt.copy(this.bones[et].matrixWorld).invert(),this.boneInverses.push(nt)}}pose(){for(let et=0,rt=this.bones.length;et<rt;et++){const nt=this.bones[et];nt&&nt.matrixWorld.copy(this.boneInverses[et]).invert()}for(let et=0,rt=this.bones.length;et<rt;et++){const nt=this.bones[et];nt&&(nt.parent&&nt.parent.isBone?(nt.matrix.copy(nt.parent.matrixWorld).invert(),nt.matrix.multiply(nt.matrixWorld)):nt.matrix.copy(nt.matrixWorld),nt.matrix.decompose(nt.position,nt.quaternion,nt.scale))}}update(){const et=this.bones,rt=this.boneInverses,nt=this.boneMatrices,it=this.boneTexture;for(let ot=0,at=et.length;ot<at;ot++){const st=et[ot]?et[ot].matrixWorld:_identityMatrix;_offsetMatrix.multiplyMatrices(st,rt[ot]),_offsetMatrix.toArray(nt,ot*16)}it!==null&&(it.needsUpdate=!0)}clone(){return new Skeleton(this.bones,this.boneInverses)}computeBoneTexture(){let et=Math.sqrt(this.bones.length*4);et=ceilPowerOfTwo(et),et=Math.max(et,4);const rt=new Float32Array(et*et*4);rt.set(this.boneMatrices);const nt=new DataTexture(rt,et,et,RGBAFormat,FloatType);return nt.needsUpdate=!0,this.boneMatrices=rt,this.boneTexture=nt,this.boneTextureSize=et,this}getBoneByName(et){for(let rt=0,nt=this.bones.length;rt<nt;rt++){const it=this.bones[rt];if(it.name===et)return it}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(et,rt){this.uuid=et.uuid;for(let nt=0,it=et.bones.length;nt<it;nt++){const ot=et.bones[nt];let at=rt[ot];at===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",ot),at=new Bone),this.bones.push(at),this.boneInverses.push(new Matrix4().fromArray(et.boneInverses[nt]))}return this.init(),this}toJSON(){const et={metadata:{version:4.5,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};et.uuid=this.uuid;const rt=this.bones,nt=this.boneInverses;for(let it=0,ot=rt.length;it<ot;it++){const at=rt[it];et.bones.push(at.uuid);const st=nt[it];et.boneInverses.push(st.toArray())}return et}}class InstancedBufferAttribute extends BufferAttribute{constructor(et,rt,nt,it=1){super(et,rt,nt),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=it}copy(et){return super.copy(et),this.meshPerAttribute=et.meshPerAttribute,this}toJSON(){const et=super.toJSON();return et.meshPerAttribute=this.meshPerAttribute,et.isInstancedBufferAttribute=!0,et}}const _instanceLocalMatrix=new Matrix4,_instanceWorldMatrix=new Matrix4,_instanceIntersects=[],_identity=new Matrix4,_mesh=new Mesh;class InstancedMesh extends Mesh{constructor(et,rt,nt){super(et,rt),this.isInstancedMesh=!0,this.instanceMatrix=new InstancedBufferAttribute(new Float32Array(nt*16),16),this.instanceColor=null,this.count=nt,this.frustumCulled=!1;for(let it=0;it<nt;it++)this.setMatrixAt(it,_identity)}copy(et,rt){return super.copy(et,rt),this.instanceMatrix.copy(et.instanceMatrix),et.instanceColor!==null&&(this.instanceColor=et.instanceColor.clone()),this.count=et.count,this}getColorAt(et,rt){rt.fromArray(this.instanceColor.array,et*3)}getMatrixAt(et,rt){rt.fromArray(this.instanceMatrix.array,et*16)}raycast(et,rt){const nt=this.matrixWorld,it=this.count;if(_mesh.geometry=this.geometry,_mesh.material=this.material,_mesh.material!==void 0)for(let ot=0;ot<it;ot++){this.getMatrixAt(ot,_instanceLocalMatrix),_instanceWorldMatrix.multiplyMatrices(nt,_instanceLocalMatrix),_mesh.matrixWorld=_instanceWorldMatrix,_mesh.raycast(et,_instanceIntersects);for(let at=0,st=_instanceIntersects.length;at<st;at++){const lt=_instanceIntersects[at];lt.instanceId=ot,lt.object=this,rt.push(lt)}_instanceIntersects.length=0}}setColorAt(et,rt){this.instanceColor===null&&(this.instanceColor=new InstancedBufferAttribute(new Float32Array(this.instanceMatrix.count*3),3)),rt.toArray(this.instanceColor.array,et*3)}setMatrixAt(et,rt){rt.toArray(this.instanceMatrix.array,et*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class LineBasicMaterial extends Material$2{constructor(et){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new Color(16777215),this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.linewidth=et.linewidth,this.linecap=et.linecap,this.linejoin=et.linejoin,this.fog=et.fog,this}}const _start$1=new Vector3,_end$1=new Vector3,_inverseMatrix$1=new Matrix4,_ray$1=new Ray,_sphere$1=new Sphere;class Line extends Object3D{constructor(et=new BufferGeometry,rt=new LineBasicMaterial){super(),this.isLine=!0,this.type="Line",this.geometry=et,this.material=rt,this.updateMorphTargets()}copy(et,rt){return super.copy(et,rt),this.material=et.material,this.geometry=et.geometry,this}computeLineDistances(){const et=this.geometry;if(et.index===null){const rt=et.attributes.position,nt=[0];for(let it=1,ot=rt.count;it<ot;it++)_start$1.fromBufferAttribute(rt,it-1),_end$1.fromBufferAttribute(rt,it),nt[it]=nt[it-1],nt[it]+=_start$1.distanceTo(_end$1);et.setAttribute("lineDistance",new Float32BufferAttribute(nt,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(et,rt){const nt=this.geometry,it=this.matrixWorld,ot=et.params.Line.threshold,at=nt.drawRange;if(nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere$1.copy(nt.boundingSphere),_sphere$1.applyMatrix4(it),_sphere$1.radius+=ot,et.ray.intersectsSphere(_sphere$1)===!1)return;_inverseMatrix$1.copy(it).invert(),_ray$1.copy(et.ray).applyMatrix4(_inverseMatrix$1);const st=ot/((this.scale.x+this.scale.y+this.scale.z)/3),lt=st*st,ct=new Vector3,ut=new Vector3,dt=new Vector3,ft=new Vector3,pt=this.isLineSegments?2:1,mt=nt.index,gt=nt.attributes.position;if(mt!==null){const vt=Math.max(0,at.start),yt=Math.min(mt.count,at.start+at.count);for(let bt=vt,xt=yt-1;bt<xt;bt+=pt){const $t=mt.getX(bt),Tt=mt.getX(bt+1);if(ct.fromBufferAttribute(gt,$t),ut.fromBufferAttribute(gt,Tt),_ray$1.distanceSqToSegment(ct,ut,ft,dt)>lt)continue;ft.applyMatrix4(this.matrixWorld);const At=et.ray.origin.distanceTo(ft);At<et.near||At>et.far||rt.push({distance:At,point:dt.clone().applyMatrix4(this.matrixWorld),index:bt,face:null,faceIndex:null,object:this})}}else{const vt=Math.max(0,at.start),yt=Math.min(gt.count,at.start+at.count);for(let bt=vt,xt=yt-1;bt<xt;bt+=pt){if(ct.fromBufferAttribute(gt,bt),ut.fromBufferAttribute(gt,bt+1),_ray$1.distanceSqToSegment(ct,ut,ft,dt)>lt)continue;ft.applyMatrix4(this.matrixWorld);const Tt=et.ray.origin.distanceTo(ft);Tt<et.near||Tt>et.far||rt.push({distance:Tt,point:dt.clone().applyMatrix4(this.matrixWorld),index:bt,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const rt=this.geometry.morphAttributes,nt=Object.keys(rt);if(nt.length>0){const it=rt[nt[0]];if(it!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ot=0,at=it.length;ot<at;ot++){const st=it[ot].name||String(ot);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=ot}}}}}const _start=new Vector3,_end=new Vector3;class LineSegments extends Line{constructor(et,rt){super(et,rt),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const et=this.geometry;if(et.index===null){const rt=et.attributes.position,nt=[];for(let it=0,ot=rt.count;it<ot;it+=2)_start.fromBufferAttribute(rt,it),_end.fromBufferAttribute(rt,it+1),nt[it]=it===0?0:nt[it-1],nt[it+1]=nt[it]+_start.distanceTo(_end);et.setAttribute("lineDistance",new Float32BufferAttribute(nt,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class LineLoop extends Line{constructor(et,rt){super(et,rt),this.isLineLoop=!0,this.type="LineLoop"}}class PointsMaterial extends Material$2{constructor(et){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new Color(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.alphaMap=et.alphaMap,this.size=et.size,this.sizeAttenuation=et.sizeAttenuation,this.fog=et.fog,this}}const _inverseMatrix=new Matrix4,_ray=new Ray,_sphere=new Sphere,_position$2=new Vector3;class Points extends Object3D{constructor(et=new BufferGeometry,rt=new PointsMaterial){super(),this.isPoints=!0,this.type="Points",this.geometry=et,this.material=rt,this.updateMorphTargets()}copy(et,rt){return super.copy(et,rt),this.material=et.material,this.geometry=et.geometry,this}raycast(et,rt){const nt=this.geometry,it=this.matrixWorld,ot=et.params.Points.threshold,at=nt.drawRange;if(nt.boundingSphere===null&&nt.computeBoundingSphere(),_sphere.copy(nt.boundingSphere),_sphere.applyMatrix4(it),_sphere.radius+=ot,et.ray.intersectsSphere(_sphere)===!1)return;_inverseMatrix.copy(it).invert(),_ray.copy(et.ray).applyMatrix4(_inverseMatrix);const st=ot/((this.scale.x+this.scale.y+this.scale.z)/3),lt=st*st,ct=nt.index,dt=nt.attributes.position;if(ct!==null){const ft=Math.max(0,at.start),pt=Math.min(ct.count,at.start+at.count);for(let mt=ft,ht=pt;mt<ht;mt++){const gt=ct.getX(mt);_position$2.fromBufferAttribute(dt,gt),testPoint(_position$2,gt,lt,it,et,rt,this)}}else{const ft=Math.max(0,at.start),pt=Math.min(dt.count,at.start+at.count);for(let mt=ft,ht=pt;mt<ht;mt++)_position$2.fromBufferAttribute(dt,mt),testPoint(_position$2,mt,lt,it,et,rt,this)}}updateMorphTargets(){const rt=this.geometry.morphAttributes,nt=Object.keys(rt);if(nt.length>0){const it=rt[nt[0]];if(it!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let ot=0,at=it.length;ot<at;ot++){const st=it[ot].name||String(ot);this.morphTargetInfluences.push(0),this.morphTargetDictionary[st]=ot}}}}}function testPoint(tt,et,rt,nt,it,ot,at){const st=_ray.distanceSqToPoint(tt);if(st<rt){const lt=new Vector3;_ray.closestPointToPoint(tt,lt),lt.applyMatrix4(nt);const ct=it.ray.origin.distanceTo(lt);if(ct<it.near||ct>it.far)return;ot.push({distance:ct,distanceToRay:Math.sqrt(st),point:lt,index:et,face:null,object:at})}}class VideoTexture extends Texture{constructor(et,rt,nt,it,ot,at,st,lt,ct){super(et,rt,nt,it,ot,at,st,lt,ct),this.isVideoTexture=!0,this.minFilter=at!==void 0?at:LinearFilter,this.magFilter=ot!==void 0?ot:LinearFilter,this.generateMipmaps=!1;const ut=this;function dt(){ut.needsUpdate=!0,et.requestVideoFrameCallback(dt)}"requestVideoFrameCallback"in et&&et.requestVideoFrameCallback(dt)}clone(){return new this.constructor(this.image).copy(this)}update(){const et=this.image;"requestVideoFrameCallback"in et===!1&&et.readyState>=et.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class FramebufferTexture extends Texture{constructor(et,rt,nt){super({width:et,height:rt}),this.isFramebufferTexture=!0,this.format=nt,this.magFilter=NearestFilter,this.minFilter=NearestFilter,this.generateMipmaps=!1,this.needsUpdate=!0}}class CompressedTexture extends Texture{constructor(et,rt,nt,it,ot,at,st,lt,ct,ut,dt,ft){super(null,at,st,lt,ct,ut,it,ot,dt,ft),this.isCompressedTexture=!0,this.image={width:rt,height:nt},this.mipmaps=et,this.flipY=!1,this.generateMipmaps=!1}}class CompressedArrayTexture extends CompressedTexture{constructor(et,rt,nt,it,ot,at){super(et,rt,nt,ot,at),this.isCompressedArrayTexture=!0,this.image.depth=it,this.wrapR=ClampToEdgeWrapping}}class CanvasTexture extends Texture{constructor(et,rt,nt,it,ot,at,st,lt,ct){super(et,rt,nt,it,ot,at,st,lt,ct),this.isCanvasTexture=!0,this.needsUpdate=!0}}class Curve{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(et,rt){const nt=this.getUtoTmapping(et);return this.getPoint(nt,rt)}getPoints(et=5){const rt=[];for(let nt=0;nt<=et;nt++)rt.push(this.getPoint(nt/et));return rt}getSpacedPoints(et=5){const rt=[];for(let nt=0;nt<=et;nt++)rt.push(this.getPointAt(nt/et));return rt}getLength(){const et=this.getLengths();return et[et.length-1]}getLengths(et=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===et+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const rt=[];let nt,it=this.getPoint(0),ot=0;rt.push(0);for(let at=1;at<=et;at++)nt=this.getPoint(at/et),ot+=nt.distanceTo(it),rt.push(ot),it=nt;return this.cacheArcLengths=rt,rt}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(et,rt){const nt=this.getLengths();let it=0;const ot=nt.length;let at;rt?at=rt:at=et*nt[ot-1];let st=0,lt=ot-1,ct;for(;st<=lt;)if(it=Math.floor(st+(lt-st)/2),ct=nt[it]-at,ct<0)st=it+1;else if(ct>0)lt=it-1;else{lt=it;break}if(it=lt,nt[it]===at)return it/(ot-1);const ut=nt[it],ft=nt[it+1]-ut,pt=(at-ut)/ft;return(it+pt)/(ot-1)}getTangent(et,rt){let it=et-1e-4,ot=et+1e-4;it<0&&(it=0),ot>1&&(ot=1);const at=this.getPoint(it),st=this.getPoint(ot),lt=rt||(at.isVector2?new Vector2:new Vector3);return lt.copy(st).sub(at).normalize(),lt}getTangentAt(et,rt){const nt=this.getUtoTmapping(et);return this.getTangent(nt,rt)}computeFrenetFrames(et,rt){const nt=new Vector3,it=[],ot=[],at=[],st=new Vector3,lt=new Matrix4;for(let pt=0;pt<=et;pt++){const mt=pt/et;it[pt]=this.getTangentAt(mt,new Vector3)}ot[0]=new Vector3,at[0]=new Vector3;let ct=Number.MAX_VALUE;const ut=Math.abs(it[0].x),dt=Math.abs(it[0].y),ft=Math.abs(it[0].z);ut<=ct&&(ct=ut,nt.set(1,0,0)),dt<=ct&&(ct=dt,nt.set(0,1,0)),ft<=ct&&nt.set(0,0,1),st.crossVectors(it[0],nt).normalize(),ot[0].crossVectors(it[0],st),at[0].crossVectors(it[0],ot[0]);for(let pt=1;pt<=et;pt++){if(ot[pt]=ot[pt-1].clone(),at[pt]=at[pt-1].clone(),st.crossVectors(it[pt-1],it[pt]),st.length()>Number.EPSILON){st.normalize();const mt=Math.acos(clamp$1(it[pt-1].dot(it[pt]),-1,1));ot[pt].applyMatrix4(lt.makeRotationAxis(st,mt))}at[pt].crossVectors(it[pt],ot[pt])}if(rt===!0){let pt=Math.acos(clamp$1(ot[0].dot(ot[et]),-1,1));pt/=et,it[0].dot(st.crossVectors(ot[0],ot[et]))>0&&(pt=-pt);for(let mt=1;mt<=et;mt++)ot[mt].applyMatrix4(lt.makeRotationAxis(it[mt],pt*mt)),at[mt].crossVectors(it[mt],ot[mt])}return{tangents:it,normals:ot,binormals:at}}clone(){return new this.constructor().copy(this)}copy(et){return this.arcLengthDivisions=et.arcLengthDivisions,this}toJSON(){const et={metadata:{version:4.5,type:"Curve",generator:"Curve.toJSON"}};return et.arcLengthDivisions=this.arcLengthDivisions,et.type=this.type,et}fromJSON(et){return this.arcLengthDivisions=et.arcLengthDivisions,this}}class EllipseCurve extends Curve{constructor(et=0,rt=0,nt=1,it=1,ot=0,at=Math.PI*2,st=!1,lt=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=et,this.aY=rt,this.xRadius=nt,this.yRadius=it,this.aStartAngle=ot,this.aEndAngle=at,this.aClockwise=st,this.aRotation=lt}getPoint(et,rt){const nt=rt||new Vector2,it=Math.PI*2;let ot=this.aEndAngle-this.aStartAngle;const at=Math.abs(ot)<Number.EPSILON;for(;ot<0;)ot+=it;for(;ot>it;)ot-=it;ot<Number.EPSILON&&(at?ot=0:ot=it),this.aClockwise===!0&&!at&&(ot===it?ot=-it:ot=ot-it);const st=this.aStartAngle+et*ot;let lt=this.aX+this.xRadius*Math.cos(st),ct=this.aY+this.yRadius*Math.sin(st);if(this.aRotation!==0){const ut=Math.cos(this.aRotation),dt=Math.sin(this.aRotation),ft=lt-this.aX,pt=ct-this.aY;lt=ft*ut-pt*dt+this.aX,ct=ft*dt+pt*ut+this.aY}return nt.set(lt,ct)}copy(et){return super.copy(et),this.aX=et.aX,this.aY=et.aY,this.xRadius=et.xRadius,this.yRadius=et.yRadius,this.aStartAngle=et.aStartAngle,this.aEndAngle=et.aEndAngle,this.aClockwise=et.aClockwise,this.aRotation=et.aRotation,this}toJSON(){const et=super.toJSON();return et.aX=this.aX,et.aY=this.aY,et.xRadius=this.xRadius,et.yRadius=this.yRadius,et.aStartAngle=this.aStartAngle,et.aEndAngle=this.aEndAngle,et.aClockwise=this.aClockwise,et.aRotation=this.aRotation,et}fromJSON(et){return super.fromJSON(et),this.aX=et.aX,this.aY=et.aY,this.xRadius=et.xRadius,this.yRadius=et.yRadius,this.aStartAngle=et.aStartAngle,this.aEndAngle=et.aEndAngle,this.aClockwise=et.aClockwise,this.aRotation=et.aRotation,this}}class ArcCurve extends EllipseCurve{constructor(et,rt,nt,it,ot,at){super(et,rt,nt,nt,it,ot,at),this.isArcCurve=!0,this.type="ArcCurve"}}function CubicPoly(){let tt=0,et=0,rt=0,nt=0;function it(ot,at,st,lt){tt=ot,et=st,rt=-3*ot+3*at-2*st-lt,nt=2*ot-2*at+st+lt}return{initCatmullRom:function(ot,at,st,lt,ct){it(at,st,ct*(st-ot),ct*(lt-at))},initNonuniformCatmullRom:function(ot,at,st,lt,ct,ut,dt){let ft=(at-ot)/ct-(st-ot)/(ct+ut)+(st-at)/ut,pt=(st-at)/ut-(lt-at)/(ut+dt)+(lt-st)/dt;ft*=ut,pt*=ut,it(at,st,ft,pt)},calc:function(ot){const at=ot*ot,st=at*ot;return tt+et*ot+rt*at+nt*st}}}const tmp=new Vector3,px=new CubicPoly,py=new CubicPoly,pz=new CubicPoly;class CatmullRomCurve3 extends Curve{constructor(et=[],rt=!1,nt="centripetal",it=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=et,this.closed=rt,this.curveType=nt,this.tension=it}getPoint(et,rt=new Vector3){const nt=rt,it=this.points,ot=it.length,at=(ot-(this.closed?0:1))*et;let st=Math.floor(at),lt=at-st;this.closed?st+=st>0?0:(Math.floor(Math.abs(st)/ot)+1)*ot:lt===0&&st===ot-1&&(st=ot-2,lt=1);let ct,ut;this.closed||st>0?ct=it[(st-1)%ot]:(tmp.subVectors(it[0],it[1]).add(it[0]),ct=tmp);const dt=it[st%ot],ft=it[(st+1)%ot];if(this.closed||st+2<ot?ut=it[(st+2)%ot]:(tmp.subVectors(it[ot-1],it[ot-2]).add(it[ot-1]),ut=tmp),this.curveType==="centripetal"||this.curveType==="chordal"){const pt=this.curveType==="chordal"?.5:.25;let mt=Math.pow(ct.distanceToSquared(dt),pt),ht=Math.pow(dt.distanceToSquared(ft),pt),gt=Math.pow(ft.distanceToSquared(ut),pt);ht<1e-4&&(ht=1),mt<1e-4&&(mt=ht),gt<1e-4&&(gt=ht),px.initNonuniformCatmullRom(ct.x,dt.x,ft.x,ut.x,mt,ht,gt),py.initNonuniformCatmullRom(ct.y,dt.y,ft.y,ut.y,mt,ht,gt),pz.initNonuniformCatmullRom(ct.z,dt.z,ft.z,ut.z,mt,ht,gt)}else this.curveType==="catmullrom"&&(px.initCatmullRom(ct.x,dt.x,ft.x,ut.x,this.tension),py.initCatmullRom(ct.y,dt.y,ft.y,ut.y,this.tension),pz.initCatmullRom(ct.z,dt.z,ft.z,ut.z,this.tension));return nt.set(px.calc(lt),py.calc(lt),pz.calc(lt)),nt}copy(et){super.copy(et),this.points=[];for(let rt=0,nt=et.points.length;rt<nt;rt++){const it=et.points[rt];this.points.push(it.clone())}return this.closed=et.closed,this.curveType=et.curveType,this.tension=et.tension,this}toJSON(){const et=super.toJSON();et.points=[];for(let rt=0,nt=this.points.length;rt<nt;rt++){const it=this.points[rt];et.points.push(it.toArray())}return et.closed=this.closed,et.curveType=this.curveType,et.tension=this.tension,et}fromJSON(et){super.fromJSON(et),this.points=[];for(let rt=0,nt=et.points.length;rt<nt;rt++){const it=et.points[rt];this.points.push(new Vector3().fromArray(it))}return this.closed=et.closed,this.curveType=et.curveType,this.tension=et.tension,this}}function CatmullRom(tt,et,rt,nt,it){const ot=(nt-et)*.5,at=(it-rt)*.5,st=tt*tt,lt=tt*st;return(2*rt-2*nt+ot+at)*lt+(-3*rt+3*nt-2*ot-at)*st+ot*tt+rt}function QuadraticBezierP0(tt,et){const rt=1-tt;return rt*rt*et}function QuadraticBezierP1(tt,et){return 2*(1-tt)*tt*et}function QuadraticBezierP2(tt,et){return tt*tt*et}function QuadraticBezier(tt,et,rt,nt){return QuadraticBezierP0(tt,et)+QuadraticBezierP1(tt,rt)+QuadraticBezierP2(tt,nt)}function CubicBezierP0(tt,et){const rt=1-tt;return rt*rt*rt*et}function CubicBezierP1(tt,et){const rt=1-tt;return 3*rt*rt*tt*et}function CubicBezierP2(tt,et){return 3*(1-tt)*tt*tt*et}function CubicBezierP3(tt,et){return tt*tt*tt*et}function CubicBezier(tt,et,rt,nt,it){return CubicBezierP0(tt,et)+CubicBezierP1(tt,rt)+CubicBezierP2(tt,nt)+CubicBezierP3(tt,it)}class CubicBezierCurve extends Curve{constructor(et=new Vector2,rt=new Vector2,nt=new Vector2,it=new Vector2){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=et,this.v1=rt,this.v2=nt,this.v3=it}getPoint(et,rt=new Vector2){const nt=rt,it=this.v0,ot=this.v1,at=this.v2,st=this.v3;return nt.set(CubicBezier(et,it.x,ot.x,at.x,st.x),CubicBezier(et,it.y,ot.y,at.y,st.y)),nt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this.v3.copy(et.v3),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et.v3=this.v3.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this.v3.fromArray(et.v3),this}}class CubicBezierCurve3 extends Curve{constructor(et=new Vector3,rt=new Vector3,nt=new Vector3,it=new Vector3){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=et,this.v1=rt,this.v2=nt,this.v3=it}getPoint(et,rt=new Vector3){const nt=rt,it=this.v0,ot=this.v1,at=this.v2,st=this.v3;return nt.set(CubicBezier(et,it.x,ot.x,at.x,st.x),CubicBezier(et,it.y,ot.y,at.y,st.y),CubicBezier(et,it.z,ot.z,at.z,st.z)),nt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this.v3.copy(et.v3),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et.v3=this.v3.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this.v3.fromArray(et.v3),this}}class LineCurve extends Curve{constructor(et=new Vector2,rt=new Vector2){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=et,this.v2=rt}getPoint(et,rt=new Vector2){const nt=rt;return et===1?nt.copy(this.v2):(nt.copy(this.v2).sub(this.v1),nt.multiplyScalar(et).add(this.v1)),nt}getPointAt(et,rt){return this.getPoint(et,rt)}getTangent(et,rt){const nt=rt||new Vector2;return nt.copy(this.v2).sub(this.v1).normalize(),nt}copy(et){return super.copy(et),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}class LineCurve3 extends Curve{constructor(et=new Vector3,rt=new Vector3){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=et,this.v2=rt}getPoint(et,rt=new Vector3){const nt=rt;return et===1?nt.copy(this.v2):(nt.copy(this.v2).sub(this.v1),nt.multiplyScalar(et).add(this.v1)),nt}getPointAt(et,rt){return this.getPoint(et,rt)}copy(et){return super.copy(et),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}class QuadraticBezierCurve extends Curve{constructor(et=new Vector2,rt=new Vector2,nt=new Vector2){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=et,this.v1=rt,this.v2=nt}getPoint(et,rt=new Vector2){const nt=rt,it=this.v0,ot=this.v1,at=this.v2;return nt.set(QuadraticBezier(et,it.x,ot.x,at.x),QuadraticBezier(et,it.y,ot.y,at.y)),nt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}class QuadraticBezierCurve3 extends Curve{constructor(et=new Vector3,rt=new Vector3,nt=new Vector3){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=et,this.v1=rt,this.v2=nt}getPoint(et,rt=new Vector3){const nt=rt,it=this.v0,ot=this.v1,at=this.v2;return nt.set(QuadraticBezier(et,it.x,ot.x,at.x),QuadraticBezier(et,it.y,ot.y,at.y),QuadraticBezier(et,it.z,ot.z,at.z)),nt}copy(et){return super.copy(et),this.v0.copy(et.v0),this.v1.copy(et.v1),this.v2.copy(et.v2),this}toJSON(){const et=super.toJSON();return et.v0=this.v0.toArray(),et.v1=this.v1.toArray(),et.v2=this.v2.toArray(),et}fromJSON(et){return super.fromJSON(et),this.v0.fromArray(et.v0),this.v1.fromArray(et.v1),this.v2.fromArray(et.v2),this}}class SplineCurve extends Curve{constructor(et=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=et}getPoint(et,rt=new Vector2){const nt=rt,it=this.points,ot=(it.length-1)*et,at=Math.floor(ot),st=ot-at,lt=it[at===0?at:at-1],ct=it[at],ut=it[at>it.length-2?it.length-1:at+1],dt=it[at>it.length-3?it.length-1:at+2];return nt.set(CatmullRom(st,lt.x,ct.x,ut.x,dt.x),CatmullRom(st,lt.y,ct.y,ut.y,dt.y)),nt}copy(et){super.copy(et),this.points=[];for(let rt=0,nt=et.points.length;rt<nt;rt++){const it=et.points[rt];this.points.push(it.clone())}return this}toJSON(){const et=super.toJSON();et.points=[];for(let rt=0,nt=this.points.length;rt<nt;rt++){const it=this.points[rt];et.points.push(it.toArray())}return et}fromJSON(et){super.fromJSON(et),this.points=[];for(let rt=0,nt=et.points.length;rt<nt;rt++){const it=et.points[rt];this.points.push(new Vector2().fromArray(it))}return this}}var Curves=Object.freeze({__proto__:null,ArcCurve,CatmullRomCurve3,CubicBezierCurve,CubicBezierCurve3,EllipseCurve,LineCurve,LineCurve3,QuadraticBezierCurve,QuadraticBezierCurve3,SplineCurve});class CurvePath extends Curve{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(et){this.curves.push(et)}closePath(){const et=this.curves[0].getPoint(0),rt=this.curves[this.curves.length-1].getPoint(1);et.equals(rt)||this.curves.push(new LineCurve(rt,et))}getPoint(et,rt){const nt=et*this.getLength(),it=this.getCurveLengths();let ot=0;for(;ot<it.length;){if(it[ot]>=nt){const at=it[ot]-nt,st=this.curves[ot],lt=st.getLength(),ct=lt===0?0:1-at/lt;return st.getPointAt(ct,rt)}ot++}return null}getLength(){const et=this.getCurveLengths();return et[et.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const et=[];let rt=0;for(let nt=0,it=this.curves.length;nt<it;nt++)rt+=this.curves[nt].getLength(),et.push(rt);return this.cacheLengths=et,et}getSpacedPoints(et=40){const rt=[];for(let nt=0;nt<=et;nt++)rt.push(this.getPoint(nt/et));return this.autoClose&&rt.push(rt[0]),rt}getPoints(et=12){const rt=[];let nt;for(let it=0,ot=this.curves;it<ot.length;it++){const at=ot[it],st=at.isEllipseCurve?et*2:at.isLineCurve||at.isLineCurve3?1:at.isSplineCurve?et*at.points.length:et,lt=at.getPoints(st);for(let ct=0;ct<lt.length;ct++){const ut=lt[ct];nt&&nt.equals(ut)||(rt.push(ut),nt=ut)}}return this.autoClose&&rt.length>1&&!rt[rt.length-1].equals(rt[0])&&rt.push(rt[0]),rt}copy(et){super.copy(et),this.curves=[];for(let rt=0,nt=et.curves.length;rt<nt;rt++){const it=et.curves[rt];this.curves.push(it.clone())}return this.autoClose=et.autoClose,this}toJSON(){const et=super.toJSON();et.autoClose=this.autoClose,et.curves=[];for(let rt=0,nt=this.curves.length;rt<nt;rt++){const it=this.curves[rt];et.curves.push(it.toJSON())}return et}fromJSON(et){super.fromJSON(et),this.autoClose=et.autoClose,this.curves=[];for(let rt=0,nt=et.curves.length;rt<nt;rt++){const it=et.curves[rt];this.curves.push(new Curves[it.type]().fromJSON(it))}return this}}class Path extends CurvePath{constructor(et){super(),this.type="Path",this.currentPoint=new Vector2,et&&this.setFromPoints(et)}setFromPoints(et){this.moveTo(et[0].x,et[0].y);for(let rt=1,nt=et.length;rt<nt;rt++)this.lineTo(et[rt].x,et[rt].y);return this}moveTo(et,rt){return this.currentPoint.set(et,rt),this}lineTo(et,rt){const nt=new LineCurve(this.currentPoint.clone(),new Vector2(et,rt));return this.curves.push(nt),this.currentPoint.set(et,rt),this}quadraticCurveTo(et,rt,nt,it){const ot=new QuadraticBezierCurve(this.currentPoint.clone(),new Vector2(et,rt),new Vector2(nt,it));return this.curves.push(ot),this.currentPoint.set(nt,it),this}bezierCurveTo(et,rt,nt,it,ot,at){const st=new CubicBezierCurve(this.currentPoint.clone(),new Vector2(et,rt),new Vector2(nt,it),new Vector2(ot,at));return this.curves.push(st),this.currentPoint.set(ot,at),this}splineThru(et){const rt=[this.currentPoint.clone()].concat(et),nt=new SplineCurve(rt);return this.curves.push(nt),this.currentPoint.copy(et[et.length-1]),this}arc(et,rt,nt,it,ot,at){const st=this.currentPoint.x,lt=this.currentPoint.y;return this.absarc(et+st,rt+lt,nt,it,ot,at),this}absarc(et,rt,nt,it,ot,at){return this.absellipse(et,rt,nt,nt,it,ot,at),this}ellipse(et,rt,nt,it,ot,at,st,lt){const ct=this.currentPoint.x,ut=this.currentPoint.y;return this.absellipse(et+ct,rt+ut,nt,it,ot,at,st,lt),this}absellipse(et,rt,nt,it,ot,at,st,lt){const ct=new EllipseCurve(et,rt,nt,it,ot,at,st,lt);if(this.curves.length>0){const dt=ct.getPoint(0);dt.equals(this.currentPoint)||this.lineTo(dt.x,dt.y)}this.curves.push(ct);const ut=ct.getPoint(1);return this.currentPoint.copy(ut),this}copy(et){return super.copy(et),this.currentPoint.copy(et.currentPoint),this}toJSON(){const et=super.toJSON();return et.currentPoint=this.currentPoint.toArray(),et}fromJSON(et){return super.fromJSON(et),this.currentPoint.fromArray(et.currentPoint),this}}class LatheGeometry extends BufferGeometry{constructor(et=[new Vector2(0,-.5),new Vector2(.5,0),new Vector2(0,.5)],rt=12,nt=0,it=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:et,segments:rt,phiStart:nt,phiLength:it},rt=Math.floor(rt),it=clamp$1(it,0,Math.PI*2);const ot=[],at=[],st=[],lt=[],ct=[],ut=1/rt,dt=new Vector3,ft=new Vector2,pt=new Vector3,mt=new Vector3,ht=new Vector3;let gt=0,vt=0;for(let yt=0;yt<=et.length-1;yt++)switch(yt){case 0:gt=et[yt+1].x-et[yt].x,vt=et[yt+1].y-et[yt].y,pt.x=vt*1,pt.y=-gt,pt.z=vt*0,ht.copy(pt),pt.normalize(),lt.push(pt.x,pt.y,pt.z);break;case et.length-1:lt.push(ht.x,ht.y,ht.z);break;default:gt=et[yt+1].x-et[yt].x,vt=et[yt+1].y-et[yt].y,pt.x=vt*1,pt.y=-gt,pt.z=vt*0,mt.copy(pt),pt.x+=ht.x,pt.y+=ht.y,pt.z+=ht.z,pt.normalize(),lt.push(pt.x,pt.y,pt.z),ht.copy(mt)}for(let yt=0;yt<=rt;yt++){const bt=nt+yt*ut*it,xt=Math.sin(bt),$t=Math.cos(bt);for(let Tt=0;Tt<=et.length-1;Tt++){dt.x=et[Tt].x*xt,dt.y=et[Tt].y,dt.z=et[Tt].x*$t,at.push(dt.x,dt.y,dt.z),ft.x=yt/rt,ft.y=Tt/(et.length-1),st.push(ft.x,ft.y);const wt=lt[3*Tt+0]*xt,At=lt[3*Tt+1],Rt=lt[3*Tt+0]*$t;ct.push(wt,At,Rt)}}for(let yt=0;yt<rt;yt++)for(let bt=0;bt<et.length-1;bt++){const xt=bt+yt*et.length,$t=xt,Tt=xt+et.length,wt=xt+et.length+1,At=xt+1;ot.push($t,Tt,At),ot.push(wt,At,Tt)}this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("uv",new Float32BufferAttribute(st,2)),this.setAttribute("normal",new Float32BufferAttribute(ct,3))}static fromJSON(et){return new LatheGeometry(et.points,et.segments,et.phiStart,et.phiLength)}}class CapsuleGeometry extends LatheGeometry{constructor(et=1,rt=1,nt=4,it=8){const ot=new Path;ot.absarc(0,-rt/2,et,Math.PI*1.5,0),ot.absarc(0,rt/2,et,0,Math.PI*.5),super(ot.getPoints(nt),it),this.type="CapsuleGeometry",this.parameters={radius:et,height:rt,capSegments:nt,radialSegments:it}}static fromJSON(et){return new CapsuleGeometry(et.radius,et.length,et.capSegments,et.radialSegments)}}class CircleGeometry extends BufferGeometry{constructor(et=1,rt=32,nt=0,it=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:et,segments:rt,thetaStart:nt,thetaLength:it},rt=Math.max(3,rt);const ot=[],at=[],st=[],lt=[],ct=new Vector3,ut=new Vector2;at.push(0,0,0),st.push(0,0,1),lt.push(.5,.5);for(let dt=0,ft=3;dt<=rt;dt++,ft+=3){const pt=nt+dt/rt*it;ct.x=et*Math.cos(pt),ct.y=et*Math.sin(pt),at.push(ct.x,ct.y,ct.z),st.push(0,0,1),ut.x=(at[ft]/et+1)/2,ut.y=(at[ft+1]/et+1)/2,lt.push(ut.x,ut.y)}for(let dt=1;dt<=rt;dt++)ot.push(dt,dt+1,0);this.setIndex(ot),this.setAttribute("position",new Float32BufferAttribute(at,3)),this.setAttribute("normal",new Float32BufferAttribute(st,3)),this.setAttribute("uv",new Float32BufferAttribute(lt,2))}static fromJSON(et){return new CircleGeometry(et.radius,et.segments,et.thetaStart,et.thetaLength)}}class CylinderGeometry extends BufferGeometry{constructor(et=1,rt=1,nt=1,it=32,ot=1,at=!1,st=0,lt=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:et,radiusBottom:rt,height:nt,radialSegments:it,heightSegments:ot,openEnded:at,thetaStart:st,thetaLength:lt};const ct=this;it=Math.floor(it),ot=Math.floor(ot);const ut=[],dt=[],ft=[],pt=[];let mt=0;const ht=[],gt=nt/2;let vt=0;yt(),at===!1&&(et>0&&bt(!0),rt>0&&bt(!1)),this.setIndex(ut),this.setAttribute("position",new Float32BufferAttribute(dt,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(pt,2));function yt(){const xt=new Vector3,$t=new Vector3;let Tt=0;const wt=(rt-et)/nt;for(let At=0;At<=ot;At++){const Rt=[],It=At/ot,Lt=It*(rt-et)+et;for(let Pt=0;Pt<=it;Pt++){const Nt=Pt/it,Ot=Nt*lt+st,Bt=Math.sin(Ot),zt=Math.cos(Ot);$t.x=Lt*Bt,$t.y=-It*nt+gt,$t.z=Lt*zt,dt.push($t.x,$t.y,$t.z),xt.set(Bt,wt,zt).normalize(),ft.push(xt.x,xt.y,xt.z),pt.push(Nt,1-It),Rt.push(mt++)}ht.push(Rt)}for(let At=0;At<it;At++)for(let Rt=0;Rt<ot;Rt++){const It=ht[Rt][At],Lt=ht[Rt+1][At],Pt=ht[Rt+1][At+1],Nt=ht[Rt][At+1];ut.push(It,Lt,Nt),ut.push(Lt,Pt,Nt),Tt+=6}ct.addGroup(vt,Tt,0),vt+=Tt}function bt(xt){const $t=mt,Tt=new Vector2,wt=new Vector3;let At=0;const Rt=xt===!0?et:rt,It=xt===!0?1:-1;for(let Pt=1;Pt<=it;Pt++)dt.push(0,gt*It,0),ft.push(0,It,0),pt.push(.5,.5),mt++;const Lt=mt;for(let Pt=0;Pt<=it;Pt++){const Ot=Pt/it*lt+st,Bt=Math.cos(Ot),zt=Math.sin(Ot);wt.x=Rt*zt,wt.y=gt*It,wt.z=Rt*Bt,dt.push(wt.x,wt.y,wt.z),ft.push(0,It,0),Tt.x=Bt*.5+.5,Tt.y=zt*.5*It+.5,pt.push(Tt.x,Tt.y),mt++}for(let Pt=0;Pt<it;Pt++){const Nt=$t+Pt,Ot=Lt+Pt;xt===!0?ut.push(Ot,Ot+1,Nt):ut.push(Ot+1,Ot,Nt),At+=3}ct.addGroup(vt,At,xt===!0?1:2),vt+=At}}static fromJSON(et){return new CylinderGeometry(et.radiusTop,et.radiusBottom,et.height,et.radialSegments,et.heightSegments,et.openEnded,et.thetaStart,et.thetaLength)}}class ConeGeometry extends CylinderGeometry{constructor(et=1,rt=1,nt=32,it=1,ot=!1,at=0,st=Math.PI*2){super(0,et,rt,nt,it,ot,at,st),this.type="ConeGeometry",this.parameters={radius:et,height:rt,radialSegments:nt,heightSegments:it,openEnded:ot,thetaStart:at,thetaLength:st}}static fromJSON(et){return new ConeGeometry(et.radius,et.height,et.radialSegments,et.heightSegments,et.openEnded,et.thetaStart,et.thetaLength)}}class PolyhedronGeometry extends BufferGeometry{constructor(et=[],rt=[],nt=1,it=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:et,indices:rt,radius:nt,detail:it};const ot=[],at=[];st(it),ct(nt),ut(),this.setAttribute("position",new Float32BufferAttribute(ot,3)),this.setAttribute("normal",new Float32BufferAttribute(ot.slice(),3)),this.setAttribute("uv",new Float32BufferAttribute(at,2)),it===0?this.computeVertexNormals():this.normalizeNormals();function st(yt){const bt=new Vector3,xt=new Vector3,$t=new Vector3;for(let Tt=0;Tt<rt.length;Tt+=3)pt(rt[Tt+0],bt),pt(rt[Tt+1],xt),pt(rt[Tt+2],$t),lt(bt,xt,$t,yt)}function lt(yt,bt,xt,$t){const Tt=$t+1,wt=[];for(let At=0;At<=Tt;At++){wt[At]=[];const Rt=yt.clone().lerp(xt,At/Tt),It=bt.clone().lerp(xt,At/Tt),Lt=Tt-At;for(let Pt=0;Pt<=Lt;Pt++)Pt===0&&At===Tt?wt[At][Pt]=Rt:wt[At][Pt]=Rt.clone().lerp(It,Pt/Lt)}for(let At=0;At<Tt;At++)for(let Rt=0;Rt<2*(Tt-At)-1;Rt++){const It=Math.floor(Rt/2);Rt%2===0?(ft(wt[At][It+1]),ft(wt[At+1][It]),ft(wt[At][It])):(ft(wt[At][It+1]),ft(wt[At+1][It+1]),ft(wt[At+1][It]))}}function ct(yt){const bt=new Vector3;for(let xt=0;xt<ot.length;xt+=3)bt.x=ot[xt+0],bt.y=ot[xt+1],bt.z=ot[xt+2],bt.normalize().multiplyScalar(yt),ot[xt+0]=bt.x,ot[xt+1]=bt.y,ot[xt+2]=bt.z}function ut(){const yt=new Vector3;for(let bt=0;bt<ot.length;bt+=3){yt.x=ot[bt+0],yt.y=ot[bt+1],yt.z=ot[bt+2];const xt=gt(yt)/2/Math.PI+.5,$t=vt(yt)/Math.PI+.5;at.push(xt,1-$t)}mt(),dt()}function dt(){for(let yt=0;yt<at.length;yt+=6){const bt=at[yt+0],xt=at[yt+2],$t=at[yt+4],Tt=Math.max(bt,xt,$t),wt=Math.min(bt,xt,$t);Tt>.9&&wt<.1&&(bt<.2&&(at[yt+0]+=1),xt<.2&&(at[yt+2]+=1),$t<.2&&(at[yt+4]+=1))}}function ft(yt){ot.push(yt.x,yt.y,yt.z)}function pt(yt,bt){const xt=yt*3;bt.x=et[xt+0],bt.y=et[xt+1],bt.z=et[xt+2]}function mt(){const yt=new Vector3,bt=new Vector3,xt=new Vector3,$t=new Vector3,Tt=new Vector2,wt=new Vector2,At=new Vector2;for(let Rt=0,It=0;Rt<ot.length;Rt+=9,It+=6){yt.set(ot[Rt+0],ot[Rt+1],ot[Rt+2]),bt.set(ot[Rt+3],ot[Rt+4],ot[Rt+5]),xt.set(ot[Rt+6],ot[Rt+7],ot[Rt+8]),Tt.set(at[It+0],at[It+1]),wt.set(at[It+2],at[It+3]),At.set(at[It+4],at[It+5]),$t.copy(yt).add(bt).add(xt).divideScalar(3);const Lt=gt($t);ht(Tt,It+0,yt,Lt),ht(wt,It+2,bt,Lt),ht(At,It+4,xt,Lt)}}function ht(yt,bt,xt,$t){$t<0&&yt.x===1&&(at[bt]=yt.x-1),xt.x===0&&xt.z===0&&(at[bt]=$t/2/Math.PI+.5)}function gt(yt){return Math.atan2(yt.z,-yt.x)}function vt(yt){return Math.atan2(-yt.y,Math.sqrt(yt.x*yt.x+yt.z*yt.z))}}static fromJSON(et){return new PolyhedronGeometry(et.vertices,et.indices,et.radius,et.details)}}class DodecahedronGeometry extends PolyhedronGeometry{constructor(et=1,rt=0){const nt=(1+Math.sqrt(5))/2,it=1/nt,ot=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-it,-nt,0,-it,nt,0,it,-nt,0,it,nt,-it,-nt,0,-it,nt,0,it,-nt,0,it,nt,0,-nt,0,-it,nt,0,-it,-nt,0,it,nt,0,it],at=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(ot,at,et,rt),this.type="DodecahedronGeometry",this.parameters={radius:et,detail:rt}}static fromJSON(et){return new DodecahedronGeometry(et.radius,et.detail)}}const _v0=new Vector3,_v1$1=new Vector3,_normal=new Vector3,_triangle=new Triangle;class EdgesGeometry extends BufferGeometry{constructor(et=null,rt=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:et,thresholdAngle:rt},et!==null){const it=Math.pow(10,4),ot=Math.cos(DEG2RAD*rt),at=et.getIndex(),st=et.getAttribute("position"),lt=at?at.count:st.count,ct=[0,0,0],ut=["a","b","c"],dt=new Array(3),ft={},pt=[];for(let mt=0;mt<lt;mt+=3){at?(ct[0]=at.getX(mt),ct[1]=at.getX(mt+1),ct[2]=at.getX(mt+2)):(ct[0]=mt,ct[1]=mt+1,ct[2]=mt+2);const{a:ht,b:gt,c:vt}=_triangle;if(ht.fromBufferAttribute(st,ct[0]),gt.fromBufferAttribute(st,ct[1]),vt.fromBufferAttribute(st,ct[2]),_triangle.getNormal(_normal),dt[0]=`${Math.round(ht.x*it)},${Math.round(ht.y*it)},${Math.round(ht.z*it)}`,dt[1]=`${Math.round(gt.x*it)},${Math.round(gt.y*it)},${Math.round(gt.z*it)}`,dt[2]=`${Math.round(vt.x*it)},${Math.round(vt.y*it)},${Math.round(vt.z*it)}`,!(dt[0]===dt[1]||dt[1]===dt[2]||dt[2]===dt[0]))for(let yt=0;yt<3;yt++){const bt=(yt+1)%3,xt=dt[yt],$t=dt[bt],Tt=_triangle[ut[yt]],wt=_triangle[ut[bt]],At=`${xt}_${$t}`,Rt=`${$t}_${xt}`;Rt in ft&&ft[Rt]?(_normal.dot(ft[Rt].normal)<=ot&&(pt.push(Tt.x,Tt.y,Tt.z),pt.push(wt.x,wt.y,wt.z)),ft[Rt]=null):At in ft||(ft[At]={index0:ct[yt],index1:ct[bt],normal:_normal.clone()})}}for(const mt in ft)if(ft[mt]){const{index0:ht,index1:gt}=ft[mt];_v0.fromBufferAttribute(st,ht),_v1$1.fromBufferAttribute(st,gt),pt.push(_v0.x,_v0.y,_v0.z),pt.push(_v1$1.x,_v1$1.y,_v1$1.z)}this.setAttribute("position",new Float32BufferAttribute(pt,3))}}}class Shape extends Path{constructor(et){super(et),this.uuid=generateUUID$1(),this.type="Shape",this.holes=[]}getPointsHoles(et){const rt=[];for(let nt=0,it=this.holes.length;nt<it;nt++)rt[nt]=this.holes[nt].getPoints(et);return rt}extractPoints(et){return{shape:this.getPoints(et),holes:this.getPointsHoles(et)}}copy(et){super.copy(et),this.holes=[];for(let rt=0,nt=et.holes.length;rt<nt;rt++){const it=et.holes[rt];this.holes.push(it.clone())}return this}toJSON(){const et=super.toJSON();et.uuid=this.uuid,et.holes=[];for(let rt=0,nt=this.holes.length;rt<nt;rt++){const it=this.holes[rt];et.holes.push(it.toJSON())}return et}fromJSON(et){super.fromJSON(et),this.uuid=et.uuid,this.holes=[];for(let rt=0,nt=et.holes.length;rt<nt;rt++){const it=et.holes[rt];this.holes.push(new Path().fromJSON(it))}return this}}const Earcut={triangulate:function(tt,et,rt=2){const nt=et&&et.length,it=nt?et[0]*rt:tt.length;let ot=linkedList(tt,0,it,rt,!0);const at=[];if(!ot||ot.next===ot.prev)return at;let st,lt,ct,ut,dt,ft,pt;if(nt&&(ot=eliminateHoles(tt,et,ot,rt)),tt.length>80*rt){st=ct=tt[0],lt=ut=tt[1];for(let mt=rt;mt<it;mt+=rt)dt=tt[mt],ft=tt[mt+1],dt<st&&(st=dt),ft<lt&&(lt=ft),dt>ct&&(ct=dt),ft>ut&&(ut=ft);pt=Math.max(ct-st,ut-lt),pt=pt!==0?32767/pt:0}return earcutLinked(ot,at,rt,st,lt,pt,0),at}};function linkedList(tt,et,rt,nt,it){let ot,at;if(it===signedArea(tt,et,rt,nt)>0)for(ot=et;ot<rt;ot+=nt)at=insertNode(ot,tt[ot],tt[ot+1],at);else for(ot=rt-nt;ot>=et;ot-=nt)at=insertNode(ot,tt[ot],tt[ot+1],at);return at&&equals(at,at.next)&&(removeNode(at),at=at.next),at}function filterPoints(tt,et){if(!tt)return tt;et||(et=tt);let rt=tt,nt;do if(nt=!1,!rt.steiner&&(equals(rt,rt.next)||area(rt.prev,rt,rt.next)===0)){if(removeNode(rt),rt=et=rt.prev,rt===rt.next)break;nt=!0}else rt=rt.next;while(nt||rt!==et);return et}function earcutLinked(tt,et,rt,nt,it,ot,at){if(!tt)return;!at&&ot&&indexCurve(tt,nt,it,ot);let st=tt,lt,ct;for(;tt.prev!==tt.next;){if(lt=tt.prev,ct=tt.next,ot?isEarHashed(tt,nt,it,ot):isEar(tt)){et.push(lt.i/rt|0),et.push(tt.i/rt|0),et.push(ct.i/rt|0),removeNode(tt),tt=ct.next,st=ct.next;continue}if(tt=ct,tt===st){at?at===1?(tt=cureLocalIntersections(filterPoints(tt),et,rt),earcutLinked(tt,et,rt,nt,it,ot,2)):at===2&&splitEarcut(tt,et,rt,nt,it,ot):earcutLinked(filterPoints(tt),et,rt,nt,it,ot,1);break}}}function isEar(tt){const et=tt.prev,rt=tt,nt=tt.next;if(area(et,rt,nt)>=0)return!1;const it=et.x,ot=rt.x,at=nt.x,st=et.y,lt=rt.y,ct=nt.y,ut=it<ot?it<at?it:at:ot<at?ot:at,dt=st<lt?st<ct?st:ct:lt<ct?lt:ct,ft=it>ot?it>at?it:at:ot>at?ot:at,pt=st>lt?st>ct?st:ct:lt>ct?lt:ct;let mt=nt.next;for(;mt!==et;){if(mt.x>=ut&&mt.x<=ft&&mt.y>=dt&&mt.y<=pt&&pointInTriangle(it,st,ot,lt,at,ct,mt.x,mt.y)&&area(mt.prev,mt,mt.next)>=0)return!1;mt=mt.next}return!0}function isEarHashed(tt,et,rt,nt){const it=tt.prev,ot=tt,at=tt.next;if(area(it,ot,at)>=0)return!1;const st=it.x,lt=ot.x,ct=at.x,ut=it.y,dt=ot.y,ft=at.y,pt=st<lt?st<ct?st:ct:lt<ct?lt:ct,mt=ut<dt?ut<ft?ut:ft:dt<ft?dt:ft,ht=st>lt?st>ct?st:ct:lt>ct?lt:ct,gt=ut>dt?ut>ft?ut:ft:dt>ft?dt:ft,vt=zOrder(pt,mt,et,rt,nt),yt=zOrder(ht,gt,et,rt,nt);let bt=tt.prevZ,xt=tt.nextZ;for(;bt&&bt.z>=vt&&xt&&xt.z<=yt;){if(bt.x>=pt&&bt.x<=ht&&bt.y>=mt&&bt.y<=gt&&bt!==it&&bt!==at&&pointInTriangle(st,ut,lt,dt,ct,ft,bt.x,bt.y)&&area(bt.prev,bt,bt.next)>=0||(bt=bt.prevZ,xt.x>=pt&&xt.x<=ht&&xt.y>=mt&&xt.y<=gt&&xt!==it&&xt!==at&&pointInTriangle(st,ut,lt,dt,ct,ft,xt.x,xt.y)&&area(xt.prev,xt,xt.next)>=0))return!1;xt=xt.nextZ}for(;bt&&bt.z>=vt;){if(bt.x>=pt&&bt.x<=ht&&bt.y>=mt&&bt.y<=gt&&bt!==it&&bt!==at&&pointInTriangle(st,ut,lt,dt,ct,ft,bt.x,bt.y)&&area(bt.prev,bt,bt.next)>=0)return!1;bt=bt.prevZ}for(;xt&&xt.z<=yt;){if(xt.x>=pt&&xt.x<=ht&&xt.y>=mt&&xt.y<=gt&&xt!==it&&xt!==at&&pointInTriangle(st,ut,lt,dt,ct,ft,xt.x,xt.y)&&area(xt.prev,xt,xt.next)>=0)return!1;xt=xt.nextZ}return!0}function cureLocalIntersections(tt,et,rt){let nt=tt;do{const it=nt.prev,ot=nt.next.next;!equals(it,ot)&&intersects(it,nt,nt.next,ot)&&locallyInside(it,ot)&&locallyInside(ot,it)&&(et.push(it.i/rt|0),et.push(nt.i/rt|0),et.push(ot.i/rt|0),removeNode(nt),removeNode(nt.next),nt=tt=ot),nt=nt.next}while(nt!==tt);return filterPoints(nt)}function splitEarcut(tt,et,rt,nt,it,ot){let at=tt;do{let st=at.next.next;for(;st!==at.prev;){if(at.i!==st.i&&isValidDiagonal(at,st)){let lt=splitPolygon(at,st);at=filterPoints(at,at.next),lt=filterPoints(lt,lt.next),earcutLinked(at,et,rt,nt,it,ot,0),earcutLinked(lt,et,rt,nt,it,ot,0);return}st=st.next}at=at.next}while(at!==tt)}function eliminateHoles(tt,et,rt,nt){const it=[];let ot,at,st,lt,ct;for(ot=0,at=et.length;ot<at;ot++)st=et[ot]*nt,lt=ot<at-1?et[ot+1]*nt:tt.length,ct=linkedList(tt,st,lt,nt,!1),ct===ct.next&&(ct.steiner=!0),it.push(getLeftmost(ct));for(it.sort(compareX),ot=0;ot<it.length;ot++)rt=eliminateHole(it[ot],rt);return rt}function compareX(tt,et){return tt.x-et.x}function eliminateHole(tt,et){const rt=findHoleBridge(tt,et);if(!rt)return et;const nt=splitPolygon(rt,tt);return filterPoints(nt,nt.next),filterPoints(rt,rt.next)}function findHoleBridge(tt,et){let rt=et,nt=-1/0,it;const ot=tt.x,at=tt.y;do{if(at<=rt.y&&at>=rt.next.y&&rt.next.y!==rt.y){const ft=rt.x+(at-rt.y)*(rt.next.x-rt.x)/(rt.next.y-rt.y);if(ft<=ot&&ft>nt&&(nt=ft,it=rt.x<rt.next.x?rt:rt.next,ft===ot))return it}rt=rt.next}while(rt!==et);if(!it)return null;const st=it,lt=it.x,ct=it.y;let ut=1/0,dt;rt=it;do ot>=rt.x&&rt.x>=lt&&ot!==rt.x&&pointInTriangle(at<ct?ot:nt,at,lt,ct,at<ct?nt:ot,at,rt.x,rt.y)&&(dt=Math.abs(at-rt.y)/(ot-rt.x),locallyInside(rt,tt)&&(dt<ut||dt===ut&&(rt.x>it.x||rt.x===it.x&&sectorContainsSector(it,rt)))&&(it=rt,ut=dt)),rt=rt.next;while(rt!==st);return it}function sectorContainsSector(tt,et){return area(tt.prev,tt,et.prev)<0&&area(et.next,tt,tt.next)<0}function indexCurve(tt,et,rt,nt){let it=tt;do it.z===0&&(it.z=zOrder(it.x,it.y,et,rt,nt)),it.prevZ=it.prev,it.nextZ=it.next,it=it.next;while(it!==tt);it.prevZ.nextZ=null,it.prevZ=null,sortLinked(it)}function sortLinked(tt){let et,rt,nt,it,ot,at,st,lt,ct=1;do{for(rt=tt,tt=null,ot=null,at=0;rt;){for(at++,nt=rt,st=0,et=0;et<ct&&(st++,nt=nt.nextZ,!!nt);et++);for(lt=ct;st>0||lt>0&&nt;)st!==0&&(lt===0||!nt||rt.z<=nt.z)?(it=rt,rt=rt.nextZ,st--):(it=nt,nt=nt.nextZ,lt--),ot?ot.nextZ=it:tt=it,it.prevZ=ot,ot=it;rt=nt}ot.nextZ=null,ct*=2}while(at>1);return tt}function zOrder(tt,et,rt,nt,it){return tt=(tt-rt)*it|0,et=(et-nt)*it|0,tt=(tt|tt<<8)&16711935,tt=(tt|tt<<4)&252645135,tt=(tt|tt<<2)&858993459,tt=(tt|tt<<1)&1431655765,et=(et|et<<8)&16711935,et=(et|et<<4)&252645135,et=(et|et<<2)&858993459,et=(et|et<<1)&1431655765,tt|et<<1}function getLeftmost(tt){let et=tt,rt=tt;do(et.x<rt.x||et.x===rt.x&&et.y<rt.y)&&(rt=et),et=et.next;while(et!==tt);return rt}function pointInTriangle(tt,et,rt,nt,it,ot,at,st){return(it-at)*(et-st)>=(tt-at)*(ot-st)&&(tt-at)*(nt-st)>=(rt-at)*(et-st)&&(rt-at)*(ot-st)>=(it-at)*(nt-st)}function isValidDiagonal(tt,et){return tt.next.i!==et.i&&tt.prev.i!==et.i&&!intersectsPolygon(tt,et)&&(locallyInside(tt,et)&&locallyInside(et,tt)&&middleInside(tt,et)&&(area(tt.prev,tt,et.prev)||area(tt,et.prev,et))||equals(tt,et)&&area(tt.prev,tt,tt.next)>0&&area(et.prev,et,et.next)>0)}function area(tt,et,rt){return(et.y-tt.y)*(rt.x-et.x)-(et.x-tt.x)*(rt.y-et.y)}function equals(tt,et){return tt.x===et.x&&tt.y===et.y}function intersects(tt,et,rt,nt){const it=sign(area(tt,et,rt)),ot=sign(area(tt,et,nt)),at=sign(area(rt,nt,tt)),st=sign(area(rt,nt,et));return!!(it!==ot&&at!==st||it===0&&onSegment(tt,rt,et)||ot===0&&onSegment(tt,nt,et)||at===0&&onSegment(rt,tt,nt)||st===0&&onSegment(rt,et,nt))}function onSegment(tt,et,rt){return et.x<=Math.max(tt.x,rt.x)&&et.x>=Math.min(tt.x,rt.x)&&et.y<=Math.max(tt.y,rt.y)&&et.y>=Math.min(tt.y,rt.y)}function sign(tt){return tt>0?1:tt<0?-1:0}function intersectsPolygon(tt,et){let rt=tt;do{if(rt.i!==tt.i&&rt.next.i!==tt.i&&rt.i!==et.i&&rt.next.i!==et.i&&intersects(rt,rt.next,tt,et))return!0;rt=rt.next}while(rt!==tt);return!1}function locallyInside(tt,et){return area(tt.prev,tt,tt.next)<0?area(tt,et,tt.next)>=0&&area(tt,tt.prev,et)>=0:area(tt,et,tt.prev)<0||area(tt,tt.next,et)<0}function middleInside(tt,et){let rt=tt,nt=!1;const it=(tt.x+et.x)/2,ot=(tt.y+et.y)/2;do rt.y>ot!=rt.next.y>ot&&rt.next.y!==rt.y&&it<(rt.next.x-rt.x)*(ot-rt.y)/(rt.next.y-rt.y)+rt.x&&(nt=!nt),rt=rt.next;while(rt!==tt);return nt}function splitPolygon(tt,et){const rt=new Node(tt.i,tt.x,tt.y),nt=new Node(et.i,et.x,et.y),it=tt.next,ot=et.prev;return tt.next=et,et.prev=tt,rt.next=it,it.prev=rt,nt.next=rt,rt.prev=nt,ot.next=nt,nt.prev=ot,nt}function insertNode(tt,et,rt,nt){const it=new Node(tt,et,rt);return nt?(it.next=nt.next,it.prev=nt,nt.next.prev=it,nt.next=it):(it.prev=it,it.next=it),it}function removeNode(tt){tt.next.prev=tt.prev,tt.prev.next=tt.next,tt.prevZ&&(tt.prevZ.nextZ=tt.nextZ),tt.nextZ&&(tt.nextZ.prevZ=tt.prevZ)}function Node(tt,et,rt){this.i=tt,this.x=et,this.y=rt,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function signedArea(tt,et,rt,nt){let it=0;for(let ot=et,at=rt-nt;ot<rt;ot+=nt)it+=(tt[at]-tt[ot])*(tt[ot+1]+tt[at+1]),at=ot;return it}class ShapeUtils{static area(et){const rt=et.length;let nt=0;for(let it=rt-1,ot=0;ot<rt;it=ot++)nt+=et[it].x*et[ot].y-et[ot].x*et[it].y;return nt*.5}static isClockWise(et){return ShapeUtils.area(et)<0}static triangulateShape(et,rt){const nt=[],it=[],ot=[];removeDupEndPts(et),addContour(nt,et);let at=et.length;rt.forEach(removeDupEndPts);for(let lt=0;lt<rt.length;lt++)it.push(at),at+=rt[lt].length,addContour(nt,rt[lt]);const st=Earcut.triangulate(nt,it);for(let lt=0;lt<st.length;lt+=3)ot.push(st.slice(lt,lt+3));return ot}}function removeDupEndPts(tt){const et=tt.length;et>2&&tt[et-1].equals(tt[0])&&tt.pop()}function addContour(tt,et){for(let rt=0;rt<et.length;rt++)tt.push(et[rt].x),tt.push(et[rt].y)}class ExtrudeGeometry extends BufferGeometry{constructor(et=new Shape([new Vector2(.5,.5),new Vector2(-.5,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),rt={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:et,options:rt},et=Array.isArray(et)?et:[et];const nt=this,it=[],ot=[];for(let st=0,lt=et.length;st<lt;st++){const ct=et[st];at(ct)}this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("uv",new Float32BufferAttribute(ot,2)),this.computeVertexNormals();function at(st){const lt=[],ct=rt.curveSegments!==void 0?rt.curveSegments:12,ut=rt.steps!==void 0?rt.steps:1,dt=rt.depth!==void 0?rt.depth:1;let ft=rt.bevelEnabled!==void 0?rt.bevelEnabled:!0,pt=rt.bevelThickness!==void 0?rt.bevelThickness:.2,mt=rt.bevelSize!==void 0?rt.bevelSize:pt-.1,ht=rt.bevelOffset!==void 0?rt.bevelOffset:0,gt=rt.bevelSegments!==void 0?rt.bevelSegments:3;const vt=rt.extrudePath,yt=rt.UVGenerator!==void 0?rt.UVGenerator:WorldUVGenerator;let bt,xt=!1,$t,Tt,wt,At;vt&&(bt=vt.getSpacedPoints(ut),xt=!0,ft=!1,$t=vt.computeFrenetFrames(ut,!1),Tt=new Vector3,wt=new Vector3,At=new Vector3),ft||(gt=0,pt=0,mt=0,ht=0);const Rt=st.extractPoints(ct);let It=Rt.shape;const Lt=Rt.holes;if(!ShapeUtils.isClockWise(It)){It=It.reverse();for(let dr=0,xr=Lt.length;dr<xr;dr++){const Gt=Lt[dr];ShapeUtils.isClockWise(Gt)&&(Lt[dr]=Gt.reverse())}}const Nt=ShapeUtils.triangulateShape(It,Lt),Ot=It;for(let dr=0,xr=Lt.length;dr<xr;dr++){const Gt=Lt[dr];It=It.concat(Gt)}function Bt(dr,xr,Gt){return xr||console.error("THREE.ExtrudeGeometry: vec does not exist"),xr.clone().multiplyScalar(Gt).add(dr)}const zt=It.length,Vt=Nt.length;function Ut(dr,xr,Gt){let Wt,nr,Qt;const Jt=dr.x-xr.x,ar=dr.y-xr.y,cr=Gt.x-dr.x,lr=Gt.y-dr.y,Yt=Jt*Jt+ar*ar,Xt=Jt*lr-ar*cr;if(Math.abs(Xt)>Number.EPSILON){const tr=Math.sqrt(Yt),or=Math.sqrt(cr*cr+lr*lr),br=xr.x-ar/tr,Sr=xr.y+Jt/tr,yr=Gt.x-lr/or,hr=Gt.y+cr/or,$r=((yr-br)*lr-(hr-Sr)*cr)/(Jt*lr-ar*cr);Wt=br+Jt*$r-dr.x,nr=Sr+ar*$r-dr.y;const Mr=Wt*Wt+nr*nr;if(Mr<=2)return new Vector2(Wt,nr);Qt=Math.sqrt(Mr/2)}else{let tr=!1;Jt>Number.EPSILON?cr>Number.EPSILON&&(tr=!0):Jt<-Number.EPSILON?cr<-Number.EPSILON&&(tr=!0):Math.sign(ar)===Math.sign(lr)&&(tr=!0),tr?(Wt=-ar,nr=Jt,Qt=Math.sqrt(Yt)):(Wt=Jt,nr=ar,Qt=Math.sqrt(Yt/2))}return new Vector2(Wt/Qt,nr/Qt)}const jt=[];for(let dr=0,xr=Ot.length,Gt=xr-1,Wt=dr+1;dr<xr;dr++,Gt++,Wt++)Gt===xr&&(Gt=0),Wt===xr&&(Wt=0),jt[dr]=Ut(Ot[dr],Ot[Gt],Ot[Wt]);const qt=[];let Dt,Ft=jt.concat();for(let dr=0,xr=Lt.length;dr<xr;dr++){const Gt=Lt[dr];Dt=[];for(let Wt=0,nr=Gt.length,Qt=nr-1,Jt=Wt+1;Wt<nr;Wt++,Qt++,Jt++)Qt===nr&&(Qt=0),Jt===nr&&(Jt=0),Dt[Wt]=Ut(Gt[Wt],Gt[Qt],Gt[Jt]);qt.push(Dt),Ft=Ft.concat(Dt)}for(let dr=0;dr<gt;dr++){const xr=dr/gt,Gt=pt*Math.cos(xr*Math.PI/2),Wt=mt*Math.sin(xr*Math.PI/2)+ht;for(let nr=0,Qt=Ot.length;nr<Qt;nr++){const Jt=Bt(Ot[nr],jt[nr],Wt);mr(Jt.x,Jt.y,-Gt)}for(let nr=0,Qt=Lt.length;nr<Qt;nr++){const Jt=Lt[nr];Dt=qt[nr];for(let ar=0,cr=Jt.length;ar<cr;ar++){const lr=Bt(Jt[ar],Dt[ar],Wt);mr(lr.x,lr.y,-Gt)}}}const Zt=mt+ht;for(let dr=0;dr<zt;dr++){const xr=ft?Bt(It[dr],Ft[dr],Zt):It[dr];xt?(wt.copy($t.normals[0]).multiplyScalar(xr.x),Tt.copy($t.binormals[0]).multiplyScalar(xr.y),At.copy(bt[0]).add(wt).add(Tt),mr(At.x,At.y,At.z)):mr(xr.x,xr.y,0)}for(let dr=1;dr<=ut;dr++)for(let xr=0;xr<zt;xr++){const Gt=ft?Bt(It[xr],Ft[xr],Zt):It[xr];xt?(wt.copy($t.normals[dr]).multiplyScalar(Gt.x),Tt.copy($t.binormals[dr]).multiplyScalar(Gt.y),At.copy(bt[dr]).add(wt).add(Tt),mr(At.x,At.y,At.z)):mr(Gt.x,Gt.y,dt/ut*dr)}for(let dr=gt-1;dr>=0;dr--){const xr=dr/gt,Gt=pt*Math.cos(xr*Math.PI/2),Wt=mt*Math.sin(xr*Math.PI/2)+ht;for(let nr=0,Qt=Ot.length;nr<Qt;nr++){const Jt=Bt(Ot[nr],jt[nr],Wt);mr(Jt.x,Jt.y,dt+Gt)}for(let nr=0,Qt=Lt.length;nr<Qt;nr++){const Jt=Lt[nr];Dt=qt[nr];for(let ar=0,cr=Jt.length;ar<cr;ar++){const lr=Bt(Jt[ar],Dt[ar],Wt);xt?mr(lr.x,lr.y+bt[ut-1].y,bt[ut-1].x+Gt):mr(lr.x,lr.y,dt+Gt)}}}Kt(),ir();function Kt(){const dr=it.length/3;if(ft){let xr=0,Gt=zt*xr;for(let Wt=0;Wt<Vt;Wt++){const nr=Nt[Wt];sr(nr[2]+Gt,nr[1]+Gt,nr[0]+Gt)}xr=ut+gt*2,Gt=zt*xr;for(let Wt=0;Wt<Vt;Wt++){const nr=Nt[Wt];sr(nr[0]+Gt,nr[1]+Gt,nr[2]+Gt)}}else{for(let xr=0;xr<Vt;xr++){const Gt=Nt[xr];sr(Gt[2],Gt[1],Gt[0])}for(let xr=0;xr<Vt;xr++){const Gt=Nt[xr];sr(Gt[0]+zt*ut,Gt[1]+zt*ut,Gt[2]+zt*ut)}}nt.addGroup(dr,it.length/3-dr,0)}function ir(){const dr=it.length/3;let xr=0;rr(Ot,xr),xr+=Ot.length;for(let Gt=0,Wt=Lt.length;Gt<Wt;Gt++){const nr=Lt[Gt];rr(nr,xr),xr+=nr.length}nt.addGroup(dr,it.length/3-dr,1)}function rr(dr,xr){let Gt=dr.length;for(;--Gt>=0;){const Wt=Gt;let nr=Gt-1;nr<0&&(nr=dr.length-1);for(let Qt=0,Jt=ut+gt*2;Qt<Jt;Qt++){const ar=zt*Qt,cr=zt*(Qt+1),lr=xr+Wt+ar,Yt=xr+nr+ar,Xt=xr+nr+cr,tr=xr+Wt+cr;fr(lr,Yt,Xt,tr)}}}function mr(dr,xr,Gt){lt.push(dr),lt.push(xr),lt.push(Gt)}function sr(dr,xr,Gt){pr(dr),pr(xr),pr(Gt);const Wt=it.length/3,nr=yt.generateTopUV(nt,it,Wt-3,Wt-2,Wt-1);vr(nr[0]),vr(nr[1]),vr(nr[2])}function fr(dr,xr,Gt,Wt){pr(dr),pr(xr),pr(Wt),pr(xr),pr(Gt),pr(Wt);const nr=it.length/3,Qt=yt.generateSideWallUV(nt,it,nr-6,nr-3,nr-2,nr-1);vr(Qt[0]),vr(Qt[1]),vr(Qt[3]),vr(Qt[1]),vr(Qt[2]),vr(Qt[3])}function pr(dr){it.push(lt[dr*3+0]),it.push(lt[dr*3+1]),it.push(lt[dr*3+2])}function vr(dr){ot.push(dr.x),ot.push(dr.y)}}}toJSON(){const et=super.toJSON(),rt=this.parameters.shapes,nt=this.parameters.options;return toJSON$1(rt,nt,et)}static fromJSON(et,rt){const nt=[];for(let ot=0,at=et.shapes.length;ot<at;ot++){const st=rt[et.shapes[ot]];nt.push(st)}const it=et.options.extrudePath;return it!==void 0&&(et.options.extrudePath=new Curves[it.type]().fromJSON(it)),new ExtrudeGeometry(nt,et.options)}}const WorldUVGenerator={generateTopUV:function(tt,et,rt,nt,it){const ot=et[rt*3],at=et[rt*3+1],st=et[nt*3],lt=et[nt*3+1],ct=et[it*3],ut=et[it*3+1];return[new Vector2(ot,at),new Vector2(st,lt),new Vector2(ct,ut)]},generateSideWallUV:function(tt,et,rt,nt,it,ot){const at=et[rt*3],st=et[rt*3+1],lt=et[rt*3+2],ct=et[nt*3],ut=et[nt*3+1],dt=et[nt*3+2],ft=et[it*3],pt=et[it*3+1],mt=et[it*3+2],ht=et[ot*3],gt=et[ot*3+1],vt=et[ot*3+2];return Math.abs(st-ut)<Math.abs(at-ct)?[new Vector2(at,1-lt),new Vector2(ct,1-dt),new Vector2(ft,1-mt),new Vector2(ht,1-vt)]:[new Vector2(st,1-lt),new Vector2(ut,1-dt),new Vector2(pt,1-mt),new Vector2(gt,1-vt)]}};function toJSON$1(tt,et,rt){if(rt.shapes=[],Array.isArray(tt))for(let nt=0,it=tt.length;nt<it;nt++){const ot=tt[nt];rt.shapes.push(ot.uuid)}else rt.shapes.push(tt.uuid);return rt.options=Object.assign({},et),et.extrudePath!==void 0&&(rt.options.extrudePath=et.extrudePath.toJSON()),rt}class IcosahedronGeometry extends PolyhedronGeometry{constructor(et=1,rt=0){const nt=(1+Math.sqrt(5))/2,it=[-1,nt,0,1,nt,0,-1,-nt,0,1,-nt,0,0,-1,nt,0,1,nt,0,-1,-nt,0,1,-nt,nt,0,-1,nt,0,1,-nt,0,-1,-nt,0,1],ot=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(it,ot,et,rt),this.type="IcosahedronGeometry",this.parameters={radius:et,detail:rt}}static fromJSON(et){return new IcosahedronGeometry(et.radius,et.detail)}}class OctahedronGeometry extends PolyhedronGeometry{constructor(et=1,rt=0){const nt=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],it=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(nt,it,et,rt),this.type="OctahedronGeometry",this.parameters={radius:et,detail:rt}}static fromJSON(et){return new OctahedronGeometry(et.radius,et.detail)}}class RingGeometry extends BufferGeometry{constructor(et=.5,rt=1,nt=32,it=1,ot=0,at=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:et,outerRadius:rt,thetaSegments:nt,phiSegments:it,thetaStart:ot,thetaLength:at},nt=Math.max(3,nt),it=Math.max(1,it);const st=[],lt=[],ct=[],ut=[];let dt=et;const ft=(rt-et)/it,pt=new Vector3,mt=new Vector2;for(let ht=0;ht<=it;ht++){for(let gt=0;gt<=nt;gt++){const vt=ot+gt/nt*at;pt.x=dt*Math.cos(vt),pt.y=dt*Math.sin(vt),lt.push(pt.x,pt.y,pt.z),ct.push(0,0,1),mt.x=(pt.x/rt+1)/2,mt.y=(pt.y/rt+1)/2,ut.push(mt.x,mt.y)}dt+=ft}for(let ht=0;ht<it;ht++){const gt=ht*(nt+1);for(let vt=0;vt<nt;vt++){const yt=vt+gt,bt=yt,xt=yt+nt+1,$t=yt+nt+2,Tt=yt+1;st.push(bt,xt,Tt),st.push(xt,$t,Tt)}}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(lt,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2))}static fromJSON(et){return new RingGeometry(et.innerRadius,et.outerRadius,et.thetaSegments,et.phiSegments,et.thetaStart,et.thetaLength)}}class ShapeGeometry extends BufferGeometry{constructor(et=new Shape([new Vector2(0,.5),new Vector2(-.5,-.5),new Vector2(.5,-.5)]),rt=12){super(),this.type="ShapeGeometry",this.parameters={shapes:et,curveSegments:rt};const nt=[],it=[],ot=[],at=[];let st=0,lt=0;if(Array.isArray(et)===!1)ct(et);else for(let ut=0;ut<et.length;ut++)ct(et[ut]),this.addGroup(st,lt,ut),st+=lt,lt=0;this.setIndex(nt),this.setAttribute("position",new Float32BufferAttribute(it,3)),this.setAttribute("normal",new Float32BufferAttribute(ot,3)),this.setAttribute("uv",new Float32BufferAttribute(at,2));function ct(ut){const dt=it.length/3,ft=ut.extractPoints(rt);let pt=ft.shape;const mt=ft.holes;ShapeUtils.isClockWise(pt)===!1&&(pt=pt.reverse());for(let gt=0,vt=mt.length;gt<vt;gt++){const yt=mt[gt];ShapeUtils.isClockWise(yt)===!0&&(mt[gt]=yt.reverse())}const ht=ShapeUtils.triangulateShape(pt,mt);for(let gt=0,vt=mt.length;gt<vt;gt++){const yt=mt[gt];pt=pt.concat(yt)}for(let gt=0,vt=pt.length;gt<vt;gt++){const yt=pt[gt];it.push(yt.x,yt.y,0),ot.push(0,0,1),at.push(yt.x,yt.y)}for(let gt=0,vt=ht.length;gt<vt;gt++){const yt=ht[gt],bt=yt[0]+dt,xt=yt[1]+dt,$t=yt[2]+dt;nt.push(bt,xt,$t),lt+=3}}}toJSON(){const et=super.toJSON(),rt=this.parameters.shapes;return toJSON(rt,et)}static fromJSON(et,rt){const nt=[];for(let it=0,ot=et.shapes.length;it<ot;it++){const at=rt[et.shapes[it]];nt.push(at)}return new ShapeGeometry(nt,et.curveSegments)}}function toJSON(tt,et){if(et.shapes=[],Array.isArray(tt))for(let rt=0,nt=tt.length;rt<nt;rt++){const it=tt[rt];et.shapes.push(it.uuid)}else et.shapes.push(tt.uuid);return et}class SphereGeometry extends BufferGeometry{constructor(et=1,rt=32,nt=16,it=0,ot=Math.PI*2,at=0,st=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:et,widthSegments:rt,heightSegments:nt,phiStart:it,phiLength:ot,thetaStart:at,thetaLength:st},rt=Math.max(3,Math.floor(rt)),nt=Math.max(2,Math.floor(nt));const lt=Math.min(at+st,Math.PI);let ct=0;const ut=[],dt=new Vector3,ft=new Vector3,pt=[],mt=[],ht=[],gt=[];for(let vt=0;vt<=nt;vt++){const yt=[],bt=vt/nt;let xt=0;vt==0&&at==0?xt=.5/rt:vt==nt&&lt==Math.PI&&(xt=-.5/rt);for(let $t=0;$t<=rt;$t++){const Tt=$t/rt;dt.x=-et*Math.cos(it+Tt*ot)*Math.sin(at+bt*st),dt.y=et*Math.cos(at+bt*st),dt.z=et*Math.sin(it+Tt*ot)*Math.sin(at+bt*st),mt.push(dt.x,dt.y,dt.z),ft.copy(dt).normalize(),ht.push(ft.x,ft.y,ft.z),gt.push(Tt+xt,1-bt),yt.push(ct++)}ut.push(yt)}for(let vt=0;vt<nt;vt++)for(let yt=0;yt<rt;yt++){const bt=ut[vt][yt+1],xt=ut[vt][yt],$t=ut[vt+1][yt],Tt=ut[vt+1][yt+1];(vt!==0||at>0)&&pt.push(bt,xt,Tt),(vt!==nt-1||lt<Math.PI)&&pt.push(xt,$t,Tt)}this.setIndex(pt),this.setAttribute("position",new Float32BufferAttribute(mt,3)),this.setAttribute("normal",new Float32BufferAttribute(ht,3)),this.setAttribute("uv",new Float32BufferAttribute(gt,2))}static fromJSON(et){return new SphereGeometry(et.radius,et.widthSegments,et.heightSegments,et.phiStart,et.phiLength,et.thetaStart,et.thetaLength)}}class TetrahedronGeometry extends PolyhedronGeometry{constructor(et=1,rt=0){const nt=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],it=[2,1,0,0,3,2,1,3,0,2,3,1];super(nt,it,et,rt),this.type="TetrahedronGeometry",this.parameters={radius:et,detail:rt}}static fromJSON(et){return new TetrahedronGeometry(et.radius,et.detail)}}class TorusGeometry extends BufferGeometry{constructor(et=1,rt=.4,nt=12,it=48,ot=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:et,tube:rt,radialSegments:nt,tubularSegments:it,arc:ot},nt=Math.floor(nt),it=Math.floor(it);const at=[],st=[],lt=[],ct=[],ut=new Vector3,dt=new Vector3,ft=new Vector3;for(let pt=0;pt<=nt;pt++)for(let mt=0;mt<=it;mt++){const ht=mt/it*ot,gt=pt/nt*Math.PI*2;dt.x=(et+rt*Math.cos(gt))*Math.cos(ht),dt.y=(et+rt*Math.cos(gt))*Math.sin(ht),dt.z=rt*Math.sin(gt),st.push(dt.x,dt.y,dt.z),ut.x=et*Math.cos(ht),ut.y=et*Math.sin(ht),ft.subVectors(dt,ut).normalize(),lt.push(ft.x,ft.y,ft.z),ct.push(mt/it),ct.push(pt/nt)}for(let pt=1;pt<=nt;pt++)for(let mt=1;mt<=it;mt++){const ht=(it+1)*pt+mt-1,gt=(it+1)*(pt-1)+mt-1,vt=(it+1)*(pt-1)+mt,yt=(it+1)*pt+mt;at.push(ht,gt,yt),at.push(gt,vt,yt)}this.setIndex(at),this.setAttribute("position",new Float32BufferAttribute(st,3)),this.setAttribute("normal",new Float32BufferAttribute(lt,3)),this.setAttribute("uv",new Float32BufferAttribute(ct,2))}static fromJSON(et){return new TorusGeometry(et.radius,et.tube,et.radialSegments,et.tubularSegments,et.arc)}}class TorusKnotGeometry extends BufferGeometry{constructor(et=1,rt=.4,nt=64,it=8,ot=2,at=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:et,tube:rt,tubularSegments:nt,radialSegments:it,p:ot,q:at},nt=Math.floor(nt),it=Math.floor(it);const st=[],lt=[],ct=[],ut=[],dt=new Vector3,ft=new Vector3,pt=new Vector3,mt=new Vector3,ht=new Vector3,gt=new Vector3,vt=new Vector3;for(let bt=0;bt<=nt;++bt){const xt=bt/nt*ot*Math.PI*2;yt(xt,ot,at,et,pt),yt(xt+.01,ot,at,et,mt),gt.subVectors(mt,pt),vt.addVectors(mt,pt),ht.crossVectors(gt,vt),vt.crossVectors(ht,gt),ht.normalize(),vt.normalize();for(let $t=0;$t<=it;++$t){const Tt=$t/it*Math.PI*2,wt=-rt*Math.cos(Tt),At=rt*Math.sin(Tt);dt.x=pt.x+(wt*vt.x+At*ht.x),dt.y=pt.y+(wt*vt.y+At*ht.y),dt.z=pt.z+(wt*vt.z+At*ht.z),lt.push(dt.x,dt.y,dt.z),ft.subVectors(dt,pt).normalize(),ct.push(ft.x,ft.y,ft.z),ut.push(bt/nt),ut.push($t/it)}}for(let bt=1;bt<=nt;bt++)for(let xt=1;xt<=it;xt++){const $t=(it+1)*(bt-1)+(xt-1),Tt=(it+1)*bt+(xt-1),wt=(it+1)*bt+xt,At=(it+1)*(bt-1)+xt;st.push($t,Tt,At),st.push(Tt,wt,At)}this.setIndex(st),this.setAttribute("position",new Float32BufferAttribute(lt,3)),this.setAttribute("normal",new Float32BufferAttribute(ct,3)),this.setAttribute("uv",new Float32BufferAttribute(ut,2));function yt(bt,xt,$t,Tt,wt){const At=Math.cos(bt),Rt=Math.sin(bt),It=$t/xt*bt,Lt=Math.cos(It);wt.x=Tt*(2+Lt)*.5*At,wt.y=Tt*(2+Lt)*Rt*.5,wt.z=Tt*Math.sin(It)*.5}}static fromJSON(et){return new TorusKnotGeometry(et.radius,et.tube,et.tubularSegments,et.radialSegments,et.p,et.q)}}class TubeGeometry extends BufferGeometry{constructor(et=new QuadraticBezierCurve3(new Vector3(-1,-1,0),new Vector3(-1,1,0),new Vector3(1,1,0)),rt=64,nt=1,it=8,ot=!1){super(),this.type="TubeGeometry",this.parameters={path:et,tubularSegments:rt,radius:nt,radialSegments:it,closed:ot};const at=et.computeFrenetFrames(rt,ot);this.tangents=at.tangents,this.normals=at.normals,this.binormals=at.binormals;const st=new Vector3,lt=new Vector3,ct=new Vector2;let ut=new Vector3;const dt=[],ft=[],pt=[],mt=[];ht(),this.setIndex(mt),this.setAttribute("position",new Float32BufferAttribute(dt,3)),this.setAttribute("normal",new Float32BufferAttribute(ft,3)),this.setAttribute("uv",new Float32BufferAttribute(pt,2));function ht(){for(let bt=0;bt<rt;bt++)gt(bt);gt(ot===!1?rt:0),yt(),vt()}function gt(bt){ut=et.getPointAt(bt/rt,ut);const xt=at.normals[bt],$t=at.binormals[bt];for(let Tt=0;Tt<=it;Tt++){const wt=Tt/it*Math.PI*2,At=Math.sin(wt),Rt=-Math.cos(wt);lt.x=Rt*xt.x+At*$t.x,lt.y=Rt*xt.y+At*$t.y,lt.z=Rt*xt.z+At*$t.z,lt.normalize(),ft.push(lt.x,lt.y,lt.z),st.x=ut.x+nt*lt.x,st.y=ut.y+nt*lt.y,st.z=ut.z+nt*lt.z,dt.push(st.x,st.y,st.z)}}function vt(){for(let bt=1;bt<=rt;bt++)for(let xt=1;xt<=it;xt++){const $t=(it+1)*(bt-1)+(xt-1),Tt=(it+1)*bt+(xt-1),wt=(it+1)*bt+xt,At=(it+1)*(bt-1)+xt;mt.push($t,Tt,At),mt.push(Tt,wt,At)}}function yt(){for(let bt=0;bt<=rt;bt++)for(let xt=0;xt<=it;xt++)ct.x=bt/rt,ct.y=xt/it,pt.push(ct.x,ct.y)}}toJSON(){const et=super.toJSON();return et.path=this.parameters.path.toJSON(),et}static fromJSON(et){return new TubeGeometry(new Curves[et.path.type]().fromJSON(et.path),et.tubularSegments,et.radius,et.radialSegments,et.closed)}}class WireframeGeometry extends BufferGeometry{constructor(et=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:et},et!==null){const rt=[],nt=new Set,it=new Vector3,ot=new Vector3;if(et.index!==null){const at=et.attributes.position,st=et.index;let lt=et.groups;lt.length===0&&(lt=[{start:0,count:st.count,materialIndex:0}]);for(let ct=0,ut=lt.length;ct<ut;++ct){const dt=lt[ct],ft=dt.start,pt=dt.count;for(let mt=ft,ht=ft+pt;mt<ht;mt+=3)for(let gt=0;gt<3;gt++){const vt=st.getX(mt+gt),yt=st.getX(mt+(gt+1)%3);it.fromBufferAttribute(at,vt),ot.fromBufferAttribute(at,yt),isUniqueEdge(it,ot,nt)===!0&&(rt.push(it.x,it.y,it.z),rt.push(ot.x,ot.y,ot.z))}}}else{const at=et.attributes.position;for(let st=0,lt=at.count/3;st<lt;st++)for(let ct=0;ct<3;ct++){const ut=3*st+ct,dt=3*st+(ct+1)%3;it.fromBufferAttribute(at,ut),ot.fromBufferAttribute(at,dt),isUniqueEdge(it,ot,nt)===!0&&(rt.push(it.x,it.y,it.z),rt.push(ot.x,ot.y,ot.z))}}this.setAttribute("position",new Float32BufferAttribute(rt,3))}}}function isUniqueEdge(tt,et,rt){const nt=`${tt.x},${tt.y},${tt.z}-${et.x},${et.y},${et.z}`,it=`${et.x},${et.y},${et.z}-${tt.x},${tt.y},${tt.z}`;return rt.has(nt)===!0||rt.has(it)===!0?!1:(rt.add(nt),rt.add(it),!0)}var Geometries=Object.freeze({__proto__:null,BoxGeometry,CapsuleGeometry,CircleGeometry,ConeGeometry,CylinderGeometry,DodecahedronGeometry,EdgesGeometry,ExtrudeGeometry,IcosahedronGeometry,LatheGeometry,OctahedronGeometry,PlaneGeometry,PolyhedronGeometry,RingGeometry,ShapeGeometry,SphereGeometry,TetrahedronGeometry,TorusGeometry,TorusKnotGeometry,TubeGeometry,WireframeGeometry});class ShadowMaterial extends Material$2{constructor(et){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new Color(0),this.transparent=!0,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.fog=et.fog,this}}class RawShaderMaterial extends ShaderMaterial{constructor(et){super(et),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class MeshStandardMaterial extends Material$2{constructor(et){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new Color(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.defines={STANDARD:""},this.color.copy(et.color),this.roughness=et.roughness,this.metalness=et.metalness,this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.roughnessMap=et.roughnessMap,this.metalnessMap=et.metalnessMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.envMapIntensity=et.envMapIntensity,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.flatShading=et.flatShading,this.fog=et.fog,this}}class MeshPhysicalMaterial extends MeshStandardMaterial{constructor(et){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new Vector2(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return clamp$1(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(rt){this.ior=(1+.4*rt)/(1-.4*rt)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new Color(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new Color(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new Color(1,1,1),this.specularColorMap=null,this._sheen=0,this._clearcoat=0,this._iridescence=0,this._transmission=0,this.setValues(et)}get sheen(){return this._sheen}set sheen(et){this._sheen>0!=et>0&&this.version++,this._sheen=et}get clearcoat(){return this._clearcoat}set clearcoat(et){this._clearcoat>0!=et>0&&this.version++,this._clearcoat=et}get iridescence(){return this._iridescence}set iridescence(et){this._iridescence>0!=et>0&&this.version++,this._iridescence=et}get transmission(){return this._transmission}set transmission(et){this._transmission>0!=et>0&&this.version++,this._transmission=et}copy(et){return super.copy(et),this.defines={STANDARD:"",PHYSICAL:""},this.clearcoat=et.clearcoat,this.clearcoatMap=et.clearcoatMap,this.clearcoatRoughness=et.clearcoatRoughness,this.clearcoatRoughnessMap=et.clearcoatRoughnessMap,this.clearcoatNormalMap=et.clearcoatNormalMap,this.clearcoatNormalScale.copy(et.clearcoatNormalScale),this.ior=et.ior,this.iridescence=et.iridescence,this.iridescenceMap=et.iridescenceMap,this.iridescenceIOR=et.iridescenceIOR,this.iridescenceThicknessRange=[...et.iridescenceThicknessRange],this.iridescenceThicknessMap=et.iridescenceThicknessMap,this.sheen=et.sheen,this.sheenColor.copy(et.sheenColor),this.sheenColorMap=et.sheenColorMap,this.sheenRoughness=et.sheenRoughness,this.sheenRoughnessMap=et.sheenRoughnessMap,this.transmission=et.transmission,this.transmissionMap=et.transmissionMap,this.thickness=et.thickness,this.thicknessMap=et.thicknessMap,this.attenuationDistance=et.attenuationDistance,this.attenuationColor.copy(et.attenuationColor),this.specularIntensity=et.specularIntensity,this.specularIntensityMap=et.specularIntensityMap,this.specularColor.copy(et.specularColor),this.specularColorMap=et.specularColorMap,this}}class MeshPhongMaterial extends Material$2{constructor(et){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new Color(16777215),this.specular=new Color(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.specular.copy(et.specular),this.shininess=et.shininess,this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.specularMap=et.specularMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.combine=et.combine,this.reflectivity=et.reflectivity,this.refractionRatio=et.refractionRatio,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.flatShading=et.flatShading,this.fog=et.fog,this}}class MeshToonMaterial extends Material$2{constructor(et){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new Color(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.gradientMap=et.gradientMap,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.alphaMap=et.alphaMap,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.fog=et.fog,this}}class MeshNormalMaterial extends Material$2{constructor(et){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(et)}copy(et){return super.copy(et),this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.flatShading=et.flatShading,this}}class MeshLambertMaterial extends Material$2{constructor(et){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new Color(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new Color(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=MultiplyOperation,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.color.copy(et.color),this.map=et.map,this.lightMap=et.lightMap,this.lightMapIntensity=et.lightMapIntensity,this.aoMap=et.aoMap,this.aoMapIntensity=et.aoMapIntensity,this.emissive.copy(et.emissive),this.emissiveMap=et.emissiveMap,this.emissiveIntensity=et.emissiveIntensity,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.specularMap=et.specularMap,this.alphaMap=et.alphaMap,this.envMap=et.envMap,this.combine=et.combine,this.reflectivity=et.reflectivity,this.refractionRatio=et.refractionRatio,this.wireframe=et.wireframe,this.wireframeLinewidth=et.wireframeLinewidth,this.wireframeLinecap=et.wireframeLinecap,this.wireframeLinejoin=et.wireframeLinejoin,this.flatShading=et.flatShading,this.fog=et.fog,this}}class MeshMatcapMaterial extends Material$2{constructor(et){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new Color(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=TangentSpaceNormalMap,this.normalScale=new Vector2(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(et)}copy(et){return super.copy(et),this.defines={MATCAP:""},this.color.copy(et.color),this.matcap=et.matcap,this.map=et.map,this.bumpMap=et.bumpMap,this.bumpScale=et.bumpScale,this.normalMap=et.normalMap,this.normalMapType=et.normalMapType,this.normalScale.copy(et.normalScale),this.displacementMap=et.displacementMap,this.displacementScale=et.displacementScale,this.displacementBias=et.displacementBias,this.alphaMap=et.alphaMap,this.flatShading=et.flatShading,this.fog=et.fog,this}}class LineDashedMaterial extends LineBasicMaterial{constructor(et){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(et)}copy(et){return super.copy(et),this.scale=et.scale,this.dashSize=et.dashSize,this.gapSize=et.gapSize,this}}function arraySlice$4(tt,et,rt){return isTypedArray$1(tt)?new tt.constructor(tt.subarray(et,rt!==void 0?rt:tt.length)):tt.slice(et,rt)}function convertArray(tt,et,rt){return!tt||!rt&&tt.constructor===et?tt:typeof et.BYTES_PER_ELEMENT=="number"?new et(tt):Array.prototype.slice.call(tt)}function isTypedArray$1(tt){return ArrayBuffer.isView(tt)&&!(tt instanceof DataView)}function getKeyframeOrder(tt){function et(it,ot){return tt[it]-tt[ot]}const rt=tt.length,nt=new Array(rt);for(let it=0;it!==rt;++it)nt[it]=it;return nt.sort(et),nt}function sortedArray(tt,et,rt){const nt=tt.length,it=new tt.constructor(nt);for(let ot=0,at=0;at!==nt;++ot){const st=rt[ot]*et;for(let lt=0;lt!==et;++lt)it[at++]=tt[st+lt]}return it}function flattenJSON(tt,et,rt,nt){let it=1,ot=tt[0];for(;ot!==void 0&&ot[nt]===void 0;)ot=tt[it++];if(ot===void 0)return;let at=ot[nt];if(at!==void 0)if(Array.isArray(at))do at=ot[nt],at!==void 0&&(et.push(ot.time),rt.push.apply(rt,at)),ot=tt[it++];while(ot!==void 0);else if(at.toArray!==void 0)do at=ot[nt],at!==void 0&&(et.push(ot.time),at.toArray(rt,rt.length)),ot=tt[it++];while(ot!==void 0);else do at=ot[nt],at!==void 0&&(et.push(ot.time),rt.push(at)),ot=tt[it++];while(ot!==void 0)}function subclip(tt,et,rt,nt,it=30){const ot=tt.clone();ot.name=et;const at=[];for(let lt=0;lt<ot.tracks.length;++lt){const ct=ot.tracks[lt],ut=ct.getValueSize(),dt=[],ft=[];for(let pt=0;pt<ct.times.length;++pt){const mt=ct.times[pt]*it;if(!(mt<rt||mt>=nt)){dt.push(ct.times[pt]);for(let ht=0;ht<ut;++ht)ft.push(ct.values[pt*ut+ht])}}dt.length!==0&&(ct.times=convertArray(dt,ct.times.constructor),ct.values=convertArray(ft,ct.values.constructor),at.push(ct))}ot.tracks=at;let st=1/0;for(let lt=0;lt<ot.tracks.length;++lt)st>ot.tracks[lt].times[0]&&(st=ot.tracks[lt].times[0]);for(let lt=0;lt<ot.tracks.length;++lt)ot.tracks[lt].shift(-1*st);return ot.resetDuration(),ot}function makeClipAdditive(tt,et=0,rt=tt,nt=30){nt<=0&&(nt=30);const it=rt.tracks.length,ot=et/nt;for(let at=0;at<it;++at){const st=rt.tracks[at],lt=st.ValueTypeName;if(lt==="bool"||lt==="string")continue;const ct=tt.tracks.find(function(vt){return vt.name===st.name&&vt.ValueTypeName===lt});if(ct===void 0)continue;let ut=0;const dt=st.getValueSize();st.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ut=dt/3);let ft=0;const pt=ct.getValueSize();ct.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(ft=pt/3);const mt=st.times.length-1;let ht;if(ot<=st.times[0]){const vt=ut,yt=dt-ut;ht=arraySlice$4(st.values,vt,yt)}else if(ot>=st.times[mt]){const vt=mt*dt+ut,yt=vt+dt-ut;ht=arraySlice$4(st.values,vt,yt)}else{const vt=st.createInterpolant(),yt=ut,bt=dt-ut;vt.evaluate(ot),ht=arraySlice$4(vt.resultBuffer,yt,bt)}lt==="quaternion"&&new Quaternion().fromArray(ht).normalize().conjugate().toArray(ht);const gt=ct.times.length;for(let vt=0;vt<gt;++vt){const yt=vt*pt+ft;if(lt==="quaternion")Quaternion.multiplyQuaternionsFlat(ct.values,yt,ht,0,ct.values,yt);else{const bt=pt-ft*2;for(let xt=0;xt<bt;++xt)ct.values[yt+xt]-=ht[xt]}}}return tt.blendMode=AdditiveAnimationBlendMode,tt}var AnimationUtils=Object.freeze({__proto__:null,arraySlice:arraySlice$4,convertArray,isTypedArray:isTypedArray$1,getKeyframeOrder,sortedArray,flattenJSON,subclip,makeClipAdditive});class Interpolant{constructor(et,rt,nt,it){this.parameterPositions=et,this._cachedIndex=0,this.resultBuffer=it!==void 0?it:new rt.constructor(nt),this.sampleValues=rt,this.valueSize=nt,this.settings=null,this.DefaultSettings_={}}evaluate(et){const rt=this.parameterPositions;let nt=this._cachedIndex,it=rt[nt],ot=rt[nt-1];e:{t:{let at;r:{n:if(!(et<it)){for(let st=nt+2;;){if(it===void 0){if(et<ot)break n;return nt=rt.length,this._cachedIndex=nt,this.copySampleValue_(nt-1)}if(nt===st)break;if(ot=it,it=rt[++nt],et<it)break t}at=rt.length;break r}if(!(et>=ot)){const st=rt[1];et<st&&(nt=2,ot=st);for(let lt=nt-2;;){if(ot===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(nt===lt)break;if(it=ot,ot=rt[--nt-1],et>=ot)break t}at=nt,nt=0;break r}break e}for(;nt<at;){const st=nt+at>>>1;et<rt[st]?at=st:nt=st+1}if(it=rt[nt],ot=rt[nt-1],ot===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(it===void 0)return nt=rt.length,this._cachedIndex=nt,this.copySampleValue_(nt-1)}this._cachedIndex=nt,this.intervalChanged_(nt,ot,it)}return this.interpolate_(nt,ot,et,it)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(et){const rt=this.resultBuffer,nt=this.sampleValues,it=this.valueSize,ot=et*it;for(let at=0;at!==it;++at)rt[at]=nt[ot+at];return rt}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class CubicInterpolant extends Interpolant{constructor(et,rt,nt,it){super(et,rt,nt,it),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding}}intervalChanged_(et,rt,nt){const it=this.parameterPositions;let ot=et-2,at=et+1,st=it[ot],lt=it[at];if(st===void 0)switch(this.getSettings_().endingStart){case ZeroSlopeEnding:ot=et,st=2*rt-nt;break;case WrapAroundEnding:ot=it.length-2,st=rt+it[ot]-it[ot+1];break;default:ot=et,st=nt}if(lt===void 0)switch(this.getSettings_().endingEnd){case ZeroSlopeEnding:at=et,lt=2*nt-rt;break;case WrapAroundEnding:at=1,lt=nt+it[1]-it[0];break;default:at=et-1,lt=rt}const ct=(nt-rt)*.5,ut=this.valueSize;this._weightPrev=ct/(rt-st),this._weightNext=ct/(lt-nt),this._offsetPrev=ot*ut,this._offsetNext=at*ut}interpolate_(et,rt,nt,it){const ot=this.resultBuffer,at=this.sampleValues,st=this.valueSize,lt=et*st,ct=lt-st,ut=this._offsetPrev,dt=this._offsetNext,ft=this._weightPrev,pt=this._weightNext,mt=(nt-rt)/(it-rt),ht=mt*mt,gt=ht*mt,vt=-ft*gt+2*ft*ht-ft*mt,yt=(1+ft)*gt+(-1.5-2*ft)*ht+(-.5+ft)*mt+1,bt=(-1-pt)*gt+(1.5+pt)*ht+.5*mt,xt=pt*gt-pt*ht;for(let $t=0;$t!==st;++$t)ot[$t]=vt*at[ut+$t]+yt*at[ct+$t]+bt*at[lt+$t]+xt*at[dt+$t];return ot}}class LinearInterpolant extends Interpolant{constructor(et,rt,nt,it){super(et,rt,nt,it)}interpolate_(et,rt,nt,it){const ot=this.resultBuffer,at=this.sampleValues,st=this.valueSize,lt=et*st,ct=lt-st,ut=(nt-rt)/(it-rt),dt=1-ut;for(let ft=0;ft!==st;++ft)ot[ft]=at[ct+ft]*dt+at[lt+ft]*ut;return ot}}class DiscreteInterpolant extends Interpolant{constructor(et,rt,nt,it){super(et,rt,nt,it)}interpolate_(et){return this.copySampleValue_(et-1)}}class KeyframeTrack{constructor(et,rt,nt,it){if(et===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(rt===void 0||rt.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+et);this.name=et,this.times=convertArray(rt,this.TimeBufferType),this.values=convertArray(nt,this.ValueBufferType),this.setInterpolation(it||this.DefaultInterpolation)}static toJSON(et){const rt=et.constructor;let nt;if(rt.toJSON!==this.toJSON)nt=rt.toJSON(et);else{nt={name:et.name,times:convertArray(et.times,Array),values:convertArray(et.values,Array)};const it=et.getInterpolation();it!==et.DefaultInterpolation&&(nt.interpolation=it)}return nt.type=et.ValueTypeName,nt}InterpolantFactoryMethodDiscrete(et){return new DiscreteInterpolant(this.times,this.values,this.getValueSize(),et)}InterpolantFactoryMethodLinear(et){return new LinearInterpolant(this.times,this.values,this.getValueSize(),et)}InterpolantFactoryMethodSmooth(et){return new CubicInterpolant(this.times,this.values,this.getValueSize(),et)}setInterpolation(et){let rt;switch(et){case InterpolateDiscrete:rt=this.InterpolantFactoryMethodDiscrete;break;case InterpolateLinear:rt=this.InterpolantFactoryMethodLinear;break;case InterpolateSmooth:rt=this.InterpolantFactoryMethodSmooth;break}if(rt===void 0){const nt="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(et!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(nt);return console.warn("THREE.KeyframeTrack:",nt),this}return this.createInterpolant=rt,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return InterpolateDiscrete;case this.InterpolantFactoryMethodLinear:return InterpolateLinear;case this.InterpolantFactoryMethodSmooth:return InterpolateSmooth}}getValueSize(){return this.values.length/this.times.length}shift(et){if(et!==0){const rt=this.times;for(let nt=0,it=rt.length;nt!==it;++nt)rt[nt]+=et}return this}scale(et){if(et!==1){const rt=this.times;for(let nt=0,it=rt.length;nt!==it;++nt)rt[nt]*=et}return this}trim(et,rt){const nt=this.times,it=nt.length;let ot=0,at=it-1;for(;ot!==it&&nt[ot]<et;)++ot;for(;at!==-1&&nt[at]>rt;)--at;if(++at,ot!==0||at!==it){ot>=at&&(at=Math.max(at,1),ot=at-1);const st=this.getValueSize();this.times=arraySlice$4(nt,ot,at),this.values=arraySlice$4(this.values,ot*st,at*st)}return this}validate(){let et=!0;const rt=this.getValueSize();rt-Math.floor(rt)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),et=!1);const nt=this.times,it=this.values,ot=nt.length;ot===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),et=!1);let at=null;for(let st=0;st!==ot;st++){const lt=nt[st];if(typeof lt=="number"&&isNaN(lt)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,st,lt),et=!1;break}if(at!==null&&at>lt){console.error("THREE.KeyframeTrack: Out of order keys.",this,st,lt,at),et=!1;break}at=lt}if(it!==void 0&&isTypedArray$1(it))for(let st=0,lt=it.length;st!==lt;++st){const ct=it[st];if(isNaN(ct)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,st,ct),et=!1;break}}return et}optimize(){const et=arraySlice$4(this.times),rt=arraySlice$4(this.values),nt=this.getValueSize(),it=this.getInterpolation()===InterpolateSmooth,ot=et.length-1;let at=1;for(let st=1;st<ot;++st){let lt=!1;const ct=et[st],ut=et[st+1];if(ct!==ut&&(st!==1||ct!==et[0]))if(it)lt=!0;else{const dt=st*nt,ft=dt-nt,pt=dt+nt;for(let mt=0;mt!==nt;++mt){const ht=rt[dt+mt];if(ht!==rt[ft+mt]||ht!==rt[pt+mt]){lt=!0;break}}}if(lt){if(st!==at){et[at]=et[st];const dt=st*nt,ft=at*nt;for(let pt=0;pt!==nt;++pt)rt[ft+pt]=rt[dt+pt]}++at}}if(ot>0){et[at]=et[ot];for(let st=ot*nt,lt=at*nt,ct=0;ct!==nt;++ct)rt[lt+ct]=rt[st+ct];++at}return at!==et.length?(this.times=arraySlice$4(et,0,at),this.values=arraySlice$4(rt,0,at*nt)):(this.times=et,this.values=rt),this}clone(){const et=arraySlice$4(this.times,0),rt=arraySlice$4(this.values,0),nt=this.constructor,it=new nt(this.name,et,rt);return it.createInterpolant=this.createInterpolant,it}}KeyframeTrack.prototype.TimeBufferType=Float32Array;KeyframeTrack.prototype.ValueBufferType=Float32Array;KeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;class BooleanKeyframeTrack extends KeyframeTrack{}BooleanKeyframeTrack.prototype.ValueTypeName="bool";BooleanKeyframeTrack.prototype.ValueBufferType=Array;BooleanKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;BooleanKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class ColorKeyframeTrack extends KeyframeTrack{}ColorKeyframeTrack.prototype.ValueTypeName="color";class NumberKeyframeTrack extends KeyframeTrack{}NumberKeyframeTrack.prototype.ValueTypeName="number";class QuaternionLinearInterpolant extends Interpolant{constructor(et,rt,nt,it){super(et,rt,nt,it)}interpolate_(et,rt,nt,it){const ot=this.resultBuffer,at=this.sampleValues,st=this.valueSize,lt=(nt-rt)/(it-rt);let ct=et*st;for(let ut=ct+st;ct!==ut;ct+=4)Quaternion.slerpFlat(ot,0,at,ct-st,at,ct,lt);return ot}}class QuaternionKeyframeTrack extends KeyframeTrack{InterpolantFactoryMethodLinear(et){return new QuaternionLinearInterpolant(this.times,this.values,this.getValueSize(),et)}}QuaternionKeyframeTrack.prototype.ValueTypeName="quaternion";QuaternionKeyframeTrack.prototype.DefaultInterpolation=InterpolateLinear;QuaternionKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class StringKeyframeTrack extends KeyframeTrack{}StringKeyframeTrack.prototype.ValueTypeName="string";StringKeyframeTrack.prototype.ValueBufferType=Array;StringKeyframeTrack.prototype.DefaultInterpolation=InterpolateDiscrete;StringKeyframeTrack.prototype.InterpolantFactoryMethodLinear=void 0;StringKeyframeTrack.prototype.InterpolantFactoryMethodSmooth=void 0;class VectorKeyframeTrack extends KeyframeTrack{}VectorKeyframeTrack.prototype.ValueTypeName="vector";class AnimationClip{constructor(et,rt=-1,nt,it=NormalAnimationBlendMode){this.name=et,this.tracks=nt,this.duration=rt,this.blendMode=it,this.uuid=generateUUID$1(),this.duration<0&&this.resetDuration()}static parse(et){const rt=[],nt=et.tracks,it=1/(et.fps||1);for(let at=0,st=nt.length;at!==st;++at)rt.push(parseKeyframeTrack(nt[at]).scale(it));const ot=new this(et.name,et.duration,rt,et.blendMode);return ot.uuid=et.uuid,ot}static toJSON(et){const rt=[],nt=et.tracks,it={name:et.name,duration:et.duration,tracks:rt,uuid:et.uuid,blendMode:et.blendMode};for(let ot=0,at=nt.length;ot!==at;++ot)rt.push(KeyframeTrack.toJSON(nt[ot]));return it}static CreateFromMorphTargetSequence(et,rt,nt,it){const ot=rt.length,at=[];for(let st=0;st<ot;st++){let lt=[],ct=[];lt.push((st+ot-1)%ot,st,(st+1)%ot),ct.push(0,1,0);const ut=getKeyframeOrder(lt);lt=sortedArray(lt,1,ut),ct=sortedArray(ct,1,ut),!it&&lt[0]===0&&(lt.push(ot),ct.push(ct[0])),at.push(new NumberKeyframeTrack(".morphTargetInfluences["+rt[st].name+"]",lt,ct).scale(1/nt))}return new this(et,-1,at)}static findByName(et,rt){let nt=et;if(!Array.isArray(et)){const it=et;nt=it.geometry&&it.geometry.animations||it.animations}for(let it=0;it<nt.length;it++)if(nt[it].name===rt)return nt[it];return null}static CreateClipsFromMorphTargetSequences(et,rt,nt){const it={},ot=/^([\w-]*?)([\d]+)$/;for(let st=0,lt=et.length;st<lt;st++){const ct=et[st],ut=ct.name.match(ot);if(ut&&ut.length>1){const dt=ut[1];let ft=it[dt];ft||(it[dt]=ft=[]),ft.push(ct)}}const at=[];for(const st in it)at.push(this.CreateFromMorphTargetSequence(st,it[st],rt,nt));return at}static parseAnimation(et,rt){if(!et)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const nt=function(dt,ft,pt,mt,ht){if(pt.length!==0){const gt=[],vt=[];flattenJSON(pt,gt,vt,mt),gt.length!==0&&ht.push(new dt(ft,gt,vt))}},it=[],ot=et.name||"default",at=et.fps||30,st=et.blendMode;let lt=et.length||-1;const ct=et.hierarchy||[];for(let dt=0;dt<ct.length;dt++){const ft=ct[dt].keys;if(!(!ft||ft.length===0))if(ft[0].morphTargets){const pt={};let mt;for(mt=0;mt<ft.length;mt++)if(ft[mt].morphTargets)for(let ht=0;ht<ft[mt].morphTargets.length;ht++)pt[ft[mt].morphTargets[ht]]=-1;for(const ht in pt){const gt=[],vt=[];for(let yt=0;yt!==ft[mt].morphTargets.length;++yt){const bt=ft[mt];gt.push(bt.time),vt.push(bt.morphTarget===ht?1:0)}it.push(new NumberKeyframeTrack(".morphTargetInfluence["+ht+"]",gt,vt))}lt=pt.length*at}else{const pt=".bones["+rt[dt].name+"]";nt(VectorKeyframeTrack,pt+".position",ft,"pos",it),nt(QuaternionKeyframeTrack,pt+".quaternion",ft,"rot",it),nt(VectorKeyframeTrack,pt+".scale",ft,"scl",it)}}return it.length===0?null:new this(ot,lt,it,st)}resetDuration(){const et=this.tracks;let rt=0;for(let nt=0,it=et.length;nt!==it;++nt){const ot=this.tracks[nt];rt=Math.max(rt,ot.times[ot.times.length-1])}return this.duration=rt,this}trim(){for(let et=0;et<this.tracks.length;et++)this.tracks[et].trim(0,this.duration);return this}validate(){let et=!0;for(let rt=0;rt<this.tracks.length;rt++)et=et&&this.tracks[rt].validate();return et}optimize(){for(let et=0;et<this.tracks.length;et++)this.tracks[et].optimize();return this}clone(){const et=[];for(let rt=0;rt<this.tracks.length;rt++)et.push(this.tracks[rt].clone());return new this.constructor(this.name,this.duration,et,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function getTrackTypeForValueTypeName(tt){switch(tt.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return NumberKeyframeTrack;case"vector":case"vector2":case"vector3":case"vector4":return VectorKeyframeTrack;case"color":return ColorKeyframeTrack;case"quaternion":return QuaternionKeyframeTrack;case"bool":case"boolean":return BooleanKeyframeTrack;case"string":return StringKeyframeTrack}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+tt)}function parseKeyframeTrack(tt){if(tt.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const et=getTrackTypeForValueTypeName(tt.type);if(tt.times===void 0){const rt=[],nt=[];flattenJSON(tt.keys,rt,nt,"value"),tt.times=rt,tt.values=nt}return et.parse!==void 0?et.parse(tt):new et(tt.name,tt.times,tt.values,tt.interpolation)}const Cache={enabled:!1,files:{},add:function(tt,et){this.enabled!==!1&&(this.files[tt]=et)},get:function(tt){if(this.enabled!==!1)return this.files[tt]},remove:function(tt){delete this.files[tt]},clear:function(){this.files={}}};class LoadingManager{constructor(et,rt,nt){const it=this;let ot=!1,at=0,st=0,lt;const ct=[];this.onStart=void 0,this.onLoad=et,this.onProgress=rt,this.onError=nt,this.itemStart=function(ut){st++,ot===!1&&it.onStart!==void 0&&it.onStart(ut,at,st),ot=!0},this.itemEnd=function(ut){at++,it.onProgress!==void 0&&it.onProgress(ut,at,st),at===st&&(ot=!1,it.onLoad!==void 0&&it.onLoad())},this.itemError=function(ut){it.onError!==void 0&&it.onError(ut)},this.resolveURL=function(ut){return lt?lt(ut):ut},this.setURLModifier=function(ut){return lt=ut,this},this.addHandler=function(ut,dt){return ct.push(ut,dt),this},this.removeHandler=function(ut){const dt=ct.indexOf(ut);return dt!==-1&&ct.splice(dt,2),this},this.getHandler=function(ut){for(let dt=0,ft=ct.length;dt<ft;dt+=2){const pt=ct[dt],mt=ct[dt+1];if(pt.global&&(pt.lastIndex=0),pt.test(ut))return mt}return null}}}const DefaultLoadingManager=new LoadingManager;let Loader$1=class{constructor(et){this.manager=et!==void 0?et:DefaultLoadingManager,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(et,rt){const nt=this;return new Promise(function(it,ot){nt.load(et,it,rt,ot)})}parse(){}setCrossOrigin(et){return this.crossOrigin=et,this}setWithCredentials(et){return this.withCredentials=et,this}setPath(et){return this.path=et,this}setResourcePath(et){return this.resourcePath=et,this}setRequestHeader(et){return this.requestHeader=et,this}};const loading={};class HttpError extends Error{constructor(et,rt){super(et),this.response=rt}}class FileLoader extends Loader$1{constructor(et){super(et)}load(et,rt,nt,it){et===void 0&&(et=""),this.path!==void 0&&(et=this.path+et),et=this.manager.resolveURL(et);const ot=Cache.get(et);if(ot!==void 0)return this.manager.itemStart(et),setTimeout(()=>{rt&&rt(ot),this.manager.itemEnd(et)},0),ot;if(loading[et]!==void 0){loading[et].push({onLoad:rt,onProgress:nt,onError:it});return}loading[et]=[],loading[et].push({onLoad:rt,onProgress:nt,onError:it});const at=new Request(et,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),st=this.mimeType,lt=this.responseType;fetch(at).then(ct=>{if(ct.status===200||ct.status===0){if(ct.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||ct.body===void 0||ct.body.getReader===void 0)return ct;const ut=loading[et],dt=ct.body.getReader(),ft=ct.headers.get("Content-Length")||ct.headers.get("X-File-Size"),pt=ft?parseInt(ft):0,mt=pt!==0;let ht=0;const gt=new ReadableStream({start(vt){yt();function yt(){dt.read().then(({done:bt,value:xt})=>{if(bt)vt.close();else{ht+=xt.byteLength;const $t=new ProgressEvent("progress",{lengthComputable:mt,loaded:ht,total:pt});for(let Tt=0,wt=ut.length;Tt<wt;Tt++){const At=ut[Tt];At.onProgress&&At.onProgress($t)}vt.enqueue(xt),yt()}})}}});return new Response(gt)}else throw new HttpError(`fetch for "${ct.url}" responded with ${ct.status}: ${ct.statusText}`,ct)}).then(ct=>{switch(lt){case"arraybuffer":return ct.arrayBuffer();case"blob":return ct.blob();case"document":return ct.text().then(ut=>new DOMParser().parseFromString(ut,st));case"json":return ct.json();default:if(st===void 0)return ct.text();{const dt=/charset="?([^;"\s]*)"?/i.exec(st),ft=dt&&dt[1]?dt[1].toLowerCase():void 0,pt=new TextDecoder(ft);return ct.arrayBuffer().then(mt=>pt.decode(mt))}}}).then(ct=>{Cache.add(et,ct);const ut=loading[et];delete loading[et];for(let dt=0,ft=ut.length;dt<ft;dt++){const pt=ut[dt];pt.onLoad&&pt.onLoad(ct)}}).catch(ct=>{const ut=loading[et];if(ut===void 0)throw this.manager.itemError(et),ct;delete loading[et];for(let dt=0,ft=ut.length;dt<ft;dt++){const pt=ut[dt];pt.onError&&pt.onError(ct)}this.manager.itemError(et)}).finally(()=>{this.manager.itemEnd(et)}),this.manager.itemStart(et)}setResponseType(et){return this.responseType=et,this}setMimeType(et){return this.mimeType=et,this}}class AnimationLoader extends Loader$1{constructor(et){super(et)}load(et,rt,nt,it){const ot=this,at=new FileLoader(this.manager);at.setPath(this.path),at.setRequestHeader(this.requestHeader),at.setWithCredentials(this.withCredentials),at.load(et,function(st){try{rt(ot.parse(JSON.parse(st)))}catch(lt){it?it(lt):console.error(lt),ot.manager.itemError(et)}},nt,it)}parse(et){const rt=[];for(let nt=0;nt<et.length;nt++){const it=AnimationClip.parse(et[nt]);rt.push(it)}return rt}}class CompressedTextureLoader extends Loader$1{constructor(et){super(et)}load(et,rt,nt,it){const ot=this,at=[],st=new CompressedTexture,lt=new FileLoader(this.manager);lt.setPath(this.path),lt.setResponseType("arraybuffer"),lt.setRequestHeader(this.requestHeader),lt.setWithCredentials(ot.withCredentials);let ct=0;function ut(dt){lt.load(et[dt],function(ft){const pt=ot.parse(ft,!0);at[dt]={width:pt.width,height:pt.height,format:pt.format,mipmaps:pt.mipmaps},ct+=1,ct===6&&(pt.mipmapCount===1&&(st.minFilter=LinearFilter),st.image=at,st.format=pt.format,st.needsUpdate=!0,rt&&rt(st))},nt,it)}if(Array.isArray(et))for(let dt=0,ft=et.length;dt<ft;++dt)ut(dt);else lt.load(et,function(dt){const ft=ot.parse(dt,!0);if(ft.isCubemap){const pt=ft.mipmaps.length/ft.mipmapCount;for(let mt=0;mt<pt;mt++){at[mt]={mipmaps:[]};for(let ht=0;ht<ft.mipmapCount;ht++)at[mt].mipmaps.push(ft.mipmaps[mt*ft.mipmapCount+ht]),at[mt].format=ft.format,at[mt].width=ft.width,at[mt].height=ft.height}st.image=at}else st.image.width=ft.width,st.image.height=ft.height,st.mipmaps=ft.mipmaps;ft.mipmapCount===1&&(st.minFilter=LinearFilter),st.format=ft.format,st.needsUpdate=!0,rt&&rt(st)},nt,it);return st}}class ImageLoader extends Loader$1{constructor(et){super(et)}load(et,rt,nt,it){this.path!==void 0&&(et=this.path+et),et=this.manager.resolveURL(et);const ot=this,at=Cache.get(et);if(at!==void 0)return ot.manager.itemStart(et),setTimeout(function(){rt&&rt(at),ot.manager.itemEnd(et)},0),at;const st=createElementNS("img");function lt(){ut(),Cache.add(et,this),rt&&rt(this),ot.manager.itemEnd(et)}function ct(dt){ut(),it&&it(dt),ot.manager.itemError(et),ot.manager.itemEnd(et)}function ut(){st.removeEventListener("load",lt,!1),st.removeEventListener("error",ct,!1)}return st.addEventListener("load",lt,!1),st.addEventListener("error",ct,!1),et.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(st.crossOrigin=this.crossOrigin),ot.manager.itemStart(et),st.src=et,st}}class CubeTextureLoader extends Loader$1{constructor(et){super(et)}load(et,rt,nt,it){const ot=new CubeTexture,at=new ImageLoader(this.manager);at.setCrossOrigin(this.crossOrigin),at.setPath(this.path);let st=0;function lt(ct){at.load(et[ct],function(ut){ot.images[ct]=ut,st++,st===6&&(ot.needsUpdate=!0,rt&&rt(ot))},void 0,it)}for(let ct=0;ct<et.length;++ct)lt(ct);return ot}}class DataTextureLoader extends Loader$1{constructor(et){super(et)}load(et,rt,nt,it){const ot=this,at=new DataTexture,st=new FileLoader(this.manager);return st.setResponseType("arraybuffer"),st.setRequestHeader(this.requestHeader),st.setPath(this.path),st.setWithCredentials(ot.withCredentials),st.load(et,function(lt){const ct=ot.parse(lt);ct&&(ct.image!==void 0?at.image=ct.image:ct.data!==void 0&&(at.image.width=ct.width,at.image.height=ct.height,at.image.data=ct.data),at.wrapS=ct.wrapS!==void 0?ct.wrapS:ClampToEdgeWrapping,at.wrapT=ct.wrapT!==void 0?ct.wrapT:ClampToEdgeWrapping,at.magFilter=ct.magFilter!==void 0?ct.magFilter:LinearFilter,at.minFilter=ct.minFilter!==void 0?ct.minFilter:LinearFilter,at.anisotropy=ct.anisotropy!==void 0?ct.anisotropy:1,ct.encoding!==void 0&&(at.encoding=ct.encoding),ct.flipY!==void 0&&(at.flipY=ct.flipY),ct.format!==void 0&&(at.format=ct.format),ct.type!==void 0&&(at.type=ct.type),ct.mipmaps!==void 0&&(at.mipmaps=ct.mipmaps,at.minFilter=LinearMipmapLinearFilter),ct.mipmapCount===1&&(at.minFilter=LinearFilter),ct.generateMipmaps!==void 0&&(at.generateMipmaps=ct.generateMipmaps),at.needsUpdate=!0,rt&&rt(at,ct))},nt,it),at}}class TextureLoader extends Loader$1{constructor(et){super(et)}load(et,rt,nt,it){const ot=new Texture,at=new ImageLoader(this.manager);return at.setCrossOrigin(this.crossOrigin),at.setPath(this.path),at.load(et,function(st){ot.image=st,ot.needsUpdate=!0,rt!==void 0&&rt(ot)},nt,it),ot}}let Light$1=class extends Object3D{constructor(et,rt=1){super(),this.isLight=!0,this.type="Light",this.color=new Color(et),this.intensity=rt}dispose(){}copy(et,rt){return super.copy(et,rt),this.color.copy(et.color),this.intensity=et.intensity,this}toJSON(et){const rt=super.toJSON(et);return rt.object.color=this.color.getHex(),rt.object.intensity=this.intensity,this.groundColor!==void 0&&(rt.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(rt.object.distance=this.distance),this.angle!==void 0&&(rt.object.angle=this.angle),this.decay!==void 0&&(rt.object.decay=this.decay),this.penumbra!==void 0&&(rt.object.penumbra=this.penumbra),this.shadow!==void 0&&(rt.object.shadow=this.shadow.toJSON()),rt}};class HemisphereLight extends Light$1{constructor(et,rt,nt){super(et,nt),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.groundColor=new Color(rt)}copy(et,rt){return super.copy(et,rt),this.groundColor.copy(et.groundColor),this}}const _projScreenMatrix$1=new Matrix4,_lightPositionWorld$1=new Vector3,_lookTarget$1=new Vector3;class LightShadow{constructor(et){this.camera=et,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new Vector2(512,512),this.map=null,this.mapPass=null,this.matrix=new Matrix4,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new Frustum,this._frameExtents=new Vector2(1,1),this._viewportCount=1,this._viewports=[new Vector4(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(et){const rt=this.camera,nt=this.matrix;_lightPositionWorld$1.setFromMatrixPosition(et.matrixWorld),rt.position.copy(_lightPositionWorld$1),_lookTarget$1.setFromMatrixPosition(et.target.matrixWorld),rt.lookAt(_lookTarget$1),rt.updateMatrixWorld(),_projScreenMatrix$1.multiplyMatrices(rt.projectionMatrix,rt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix$1),nt.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),nt.multiply(_projScreenMatrix$1)}getViewport(et){return this._viewports[et]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(et){return this.camera=et.camera.clone(),this.bias=et.bias,this.radius=et.radius,this.mapSize.copy(et.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const et={};return this.bias!==0&&(et.bias=this.bias),this.normalBias!==0&&(et.normalBias=this.normalBias),this.radius!==1&&(et.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(et.mapSize=this.mapSize.toArray()),et.camera=this.camera.toJSON(!1).object,delete et.camera.matrix,et}}class SpotLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(et){const rt=this.camera,nt=RAD2DEG*2*et.angle*this.focus,it=this.mapSize.width/this.mapSize.height,ot=et.distance||rt.far;(nt!==rt.fov||it!==rt.aspect||ot!==rt.far)&&(rt.fov=nt,rt.aspect=it,rt.far=ot,rt.updateProjectionMatrix()),super.updateMatrices(et)}copy(et){return super.copy(et),this.focus=et.focus,this}}class SpotLight extends Light$1{constructor(et,rt,nt=0,it=Math.PI/3,ot=0,at=2){super(et,rt),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.distance=nt,this.angle=it,this.penumbra=ot,this.decay=at,this.map=null,this.shadow=new SpotLightShadow}get power(){return this.intensity*Math.PI}set power(et){this.intensity=et/Math.PI}dispose(){this.shadow.dispose()}copy(et,rt){return super.copy(et,rt),this.distance=et.distance,this.angle=et.angle,this.penumbra=et.penumbra,this.decay=et.decay,this.target=et.target.clone(),this.shadow=et.shadow.clone(),this}}const _projScreenMatrix=new Matrix4,_lightPositionWorld=new Vector3,_lookTarget=new Vector3;class PointLightShadow extends LightShadow{constructor(){super(new PerspectiveCamera$1(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new Vector2(4,2),this._viewportCount=6,this._viewports=[new Vector4(2,1,1,1),new Vector4(0,1,1,1),new Vector4(3,1,1,1),new Vector4(1,1,1,1),new Vector4(3,0,1,1),new Vector4(1,0,1,1)],this._cubeDirections=[new Vector3(1,0,0),new Vector3(-1,0,0),new Vector3(0,0,1),new Vector3(0,0,-1),new Vector3(0,1,0),new Vector3(0,-1,0)],this._cubeUps=[new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,1,0),new Vector3(0,0,1),new Vector3(0,0,-1)]}updateMatrices(et,rt=0){const nt=this.camera,it=this.matrix,ot=et.distance||nt.far;ot!==nt.far&&(nt.far=ot,nt.updateProjectionMatrix()),_lightPositionWorld.setFromMatrixPosition(et.matrixWorld),nt.position.copy(_lightPositionWorld),_lookTarget.copy(nt.position),_lookTarget.add(this._cubeDirections[rt]),nt.up.copy(this._cubeUps[rt]),nt.lookAt(_lookTarget),nt.updateMatrixWorld(),it.makeTranslation(-_lightPositionWorld.x,-_lightPositionWorld.y,-_lightPositionWorld.z),_projScreenMatrix.multiplyMatrices(nt.projectionMatrix,nt.matrixWorldInverse),this._frustum.setFromProjectionMatrix(_projScreenMatrix)}}class PointLight extends Light$1{constructor(et,rt,nt=0,it=2){super(et,rt),this.isPointLight=!0,this.type="PointLight",this.distance=nt,this.decay=it,this.shadow=new PointLightShadow}get power(){return this.intensity*4*Math.PI}set power(et){this.intensity=et/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(et,rt){return super.copy(et,rt),this.distance=et.distance,this.decay=et.decay,this.shadow=et.shadow.clone(),this}}class DirectionalLightShadow extends LightShadow{constructor(){super(new OrthographicCamera$1(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class DirectionalLight extends Light$1{constructor(et,rt){super(et,rt),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(Object3D.DefaultUp),this.updateMatrix(),this.target=new Object3D,this.shadow=new DirectionalLightShadow}dispose(){this.shadow.dispose()}copy(et){return super.copy(et),this.target=et.target.clone(),this.shadow=et.shadow.clone(),this}}class AmbientLight extends Light$1{constructor(et,rt){super(et,rt),this.isAmbientLight=!0,this.type="AmbientLight"}}class RectAreaLight extends Light$1{constructor(et,rt,nt=10,it=10){super(et,rt),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=nt,this.height=it}get power(){return this.intensity*this.width*this.height*Math.PI}set power(et){this.intensity=et/(this.width*this.height*Math.PI)}copy(et){return super.copy(et),this.width=et.width,this.height=et.height,this}toJSON(et){const rt=super.toJSON(et);return rt.object.width=this.width,rt.object.height=this.height,rt}}class SphericalHarmonics3{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let et=0;et<9;et++)this.coefficients.push(new Vector3)}set(et){for(let rt=0;rt<9;rt++)this.coefficients[rt].copy(et[rt]);return this}zero(){for(let et=0;et<9;et++)this.coefficients[et].set(0,0,0);return this}getAt(et,rt){const nt=et.x,it=et.y,ot=et.z,at=this.coefficients;return rt.copy(at[0]).multiplyScalar(.282095),rt.addScaledVector(at[1],.488603*it),rt.addScaledVector(at[2],.488603*ot),rt.addScaledVector(at[3],.488603*nt),rt.addScaledVector(at[4],1.092548*(nt*it)),rt.addScaledVector(at[5],1.092548*(it*ot)),rt.addScaledVector(at[6],.315392*(3*ot*ot-1)),rt.addScaledVector(at[7],1.092548*(nt*ot)),rt.addScaledVector(at[8],.546274*(nt*nt-it*it)),rt}getIrradianceAt(et,rt){const nt=et.x,it=et.y,ot=et.z,at=this.coefficients;return rt.copy(at[0]).multiplyScalar(.886227),rt.addScaledVector(at[1],2*.511664*it),rt.addScaledVector(at[2],2*.511664*ot),rt.addScaledVector(at[3],2*.511664*nt),rt.addScaledVector(at[4],2*.429043*nt*it),rt.addScaledVector(at[5],2*.429043*it*ot),rt.addScaledVector(at[6],.743125*ot*ot-.247708),rt.addScaledVector(at[7],2*.429043*nt*ot),rt.addScaledVector(at[8],.429043*(nt*nt-it*it)),rt}add(et){for(let rt=0;rt<9;rt++)this.coefficients[rt].add(et.coefficients[rt]);return this}addScaledSH(et,rt){for(let nt=0;nt<9;nt++)this.coefficients[nt].addScaledVector(et.coefficients[nt],rt);return this}scale(et){for(let rt=0;rt<9;rt++)this.coefficients[rt].multiplyScalar(et);return this}lerp(et,rt){for(let nt=0;nt<9;nt++)this.coefficients[nt].lerp(et.coefficients[nt],rt);return this}equals(et){for(let rt=0;rt<9;rt++)if(!this.coefficients[rt].equals(et.coefficients[rt]))return!1;return!0}copy(et){return this.set(et.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(et,rt=0){const nt=this.coefficients;for(let it=0;it<9;it++)nt[it].fromArray(et,rt+it*3);return this}toArray(et=[],rt=0){const nt=this.coefficients;for(let it=0;it<9;it++)nt[it].toArray(et,rt+it*3);return et}static getBasisAt(et,rt){const nt=et.x,it=et.y,ot=et.z;rt[0]=.282095,rt[1]=.488603*it,rt[2]=.488603*ot,rt[3]=.488603*nt,rt[4]=1.092548*nt*it,rt[5]=1.092548*it*ot,rt[6]=.315392*(3*ot*ot-1),rt[7]=1.092548*nt*ot,rt[8]=.546274*(nt*nt-it*it)}}class LightProbe extends Light$1{constructor(et=new SphericalHarmonics3,rt=1){super(void 0,rt),this.isLightProbe=!0,this.sh=et}copy(et){return super.copy(et),this.sh.copy(et.sh),this}fromJSON(et){return this.intensity=et.intensity,this.sh.fromArray(et.sh),this}toJSON(et){const rt=super.toJSON(et);return rt.object.sh=this.sh.toArray(),rt}}class MaterialLoader extends Loader$1{constructor(et){super(et),this.textures={}}load(et,rt,nt,it){const ot=this,at=new FileLoader(ot.manager);at.setPath(ot.path),at.setRequestHeader(ot.requestHeader),at.setWithCredentials(ot.withCredentials),at.load(et,function(st){try{rt(ot.parse(JSON.parse(st)))}catch(lt){it?it(lt):console.error(lt),ot.manager.itemError(et)}},nt,it)}parse(et){const rt=this.textures;function nt(ot){return rt[ot]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",ot),rt[ot]}const it=MaterialLoader.createMaterialFromType(et.type);if(et.uuid!==void 0&&(it.uuid=et.uuid),et.name!==void 0&&(it.name=et.name),et.color!==void 0&&it.color!==void 0&&it.color.setHex(et.color),et.roughness!==void 0&&(it.roughness=et.roughness),et.metalness!==void 0&&(it.metalness=et.metalness),et.sheen!==void 0&&(it.sheen=et.sheen),et.sheenColor!==void 0&&(it.sheenColor=new Color().setHex(et.sheenColor)),et.sheenRoughness!==void 0&&(it.sheenRoughness=et.sheenRoughness),et.emissive!==void 0&&it.emissive!==void 0&&it.emissive.setHex(et.emissive),et.specular!==void 0&&it.specular!==void 0&&it.specular.setHex(et.specular),et.specularIntensity!==void 0&&(it.specularIntensity=et.specularIntensity),et.specularColor!==void 0&&it.specularColor!==void 0&&it.specularColor.setHex(et.specularColor),et.shininess!==void 0&&(it.shininess=et.shininess),et.clearcoat!==void 0&&(it.clearcoat=et.clearcoat),et.clearcoatRoughness!==void 0&&(it.clearcoatRoughness=et.clearcoatRoughness),et.iridescence!==void 0&&(it.iridescence=et.iridescence),et.iridescenceIOR!==void 0&&(it.iridescenceIOR=et.iridescenceIOR),et.iridescenceThicknessRange!==void 0&&(it.iridescenceThicknessRange=et.iridescenceThicknessRange),et.transmission!==void 0&&(it.transmission=et.transmission),et.thickness!==void 0&&(it.thickness=et.thickness),et.attenuationDistance!==void 0&&(it.attenuationDistance=et.attenuationDistance),et.attenuationColor!==void 0&&it.attenuationColor!==void 0&&it.attenuationColor.setHex(et.attenuationColor),et.fog!==void 0&&(it.fog=et.fog),et.flatShading!==void 0&&(it.flatShading=et.flatShading),et.blending!==void 0&&(it.blending=et.blending),et.combine!==void 0&&(it.combine=et.combine),et.side!==void 0&&(it.side=et.side),et.shadowSide!==void 0&&(it.shadowSide=et.shadowSide),et.opacity!==void 0&&(it.opacity=et.opacity),et.transparent!==void 0&&(it.transparent=et.transparent),et.alphaTest!==void 0&&(it.alphaTest=et.alphaTest),et.depthTest!==void 0&&(it.depthTest=et.depthTest),et.depthWrite!==void 0&&(it.depthWrite=et.depthWrite),et.colorWrite!==void 0&&(it.colorWrite=et.colorWrite),et.stencilWrite!==void 0&&(it.stencilWrite=et.stencilWrite),et.stencilWriteMask!==void 0&&(it.stencilWriteMask=et.stencilWriteMask),et.stencilFunc!==void 0&&(it.stencilFunc=et.stencilFunc),et.stencilRef!==void 0&&(it.stencilRef=et.stencilRef),et.stencilFuncMask!==void 0&&(it.stencilFuncMask=et.stencilFuncMask),et.stencilFail!==void 0&&(it.stencilFail=et.stencilFail),et.stencilZFail!==void 0&&(it.stencilZFail=et.stencilZFail),et.stencilZPass!==void 0&&(it.stencilZPass=et.stencilZPass),et.wireframe!==void 0&&(it.wireframe=et.wireframe),et.wireframeLinewidth!==void 0&&(it.wireframeLinewidth=et.wireframeLinewidth),et.wireframeLinecap!==void 0&&(it.wireframeLinecap=et.wireframeLinecap),et.wireframeLinejoin!==void 0&&(it.wireframeLinejoin=et.wireframeLinejoin),et.rotation!==void 0&&(it.rotation=et.rotation),et.linewidth!==1&&(it.linewidth=et.linewidth),et.dashSize!==void 0&&(it.dashSize=et.dashSize),et.gapSize!==void 0&&(it.gapSize=et.gapSize),et.scale!==void 0&&(it.scale=et.scale),et.polygonOffset!==void 0&&(it.polygonOffset=et.polygonOffset),et.polygonOffsetFactor!==void 0&&(it.polygonOffsetFactor=et.polygonOffsetFactor),et.polygonOffsetUnits!==void 0&&(it.polygonOffsetUnits=et.polygonOffsetUnits),et.dithering!==void 0&&(it.dithering=et.dithering),et.alphaToCoverage!==void 0&&(it.alphaToCoverage=et.alphaToCoverage),et.premultipliedAlpha!==void 0&&(it.premultipliedAlpha=et.premultipliedAlpha),et.visible!==void 0&&(it.visible=et.visible),et.toneMapped!==void 0&&(it.toneMapped=et.toneMapped),et.userData!==void 0&&(it.userData=et.userData),et.vertexColors!==void 0&&(typeof et.vertexColors=="number"?it.vertexColors=et.vertexColors>0:it.vertexColors=et.vertexColors),et.uniforms!==void 0)for(const ot in et.uniforms){const at=et.uniforms[ot];switch(it.uniforms[ot]={},at.type){case"t":it.uniforms[ot].value=nt(at.value);break;case"c":it.uniforms[ot].value=new Color().setHex(at.value);break;case"v2":it.uniforms[ot].value=new Vector2().fromArray(at.value);break;case"v3":it.uniforms[ot].value=new Vector3().fromArray(at.value);break;case"v4":it.uniforms[ot].value=new Vector4().fromArray(at.value);break;case"m3":it.uniforms[ot].value=new Matrix3().fromArray(at.value);break;case"m4":it.uniforms[ot].value=new Matrix4().fromArray(at.value);break;default:it.uniforms[ot].value=at.value}}if(et.defines!==void 0&&(it.defines=et.defines),et.vertexShader!==void 0&&(it.vertexShader=et.vertexShader),et.fragmentShader!==void 0&&(it.fragmentShader=et.fragmentShader),et.glslVersion!==void 0&&(it.glslVersion=et.glslVersion),et.extensions!==void 0)for(const ot in et.extensions)it.extensions[ot]=et.extensions[ot];if(et.size!==void 0&&(it.size=et.size),et.sizeAttenuation!==void 0&&(it.sizeAttenuation=et.sizeAttenuation),et.map!==void 0&&(it.map=nt(et.map)),et.matcap!==void 0&&(it.matcap=nt(et.matcap)),et.alphaMap!==void 0&&(it.alphaMap=nt(et.alphaMap)),et.bumpMap!==void 0&&(it.bumpMap=nt(et.bumpMap)),et.bumpScale!==void 0&&(it.bumpScale=et.bumpScale),et.normalMap!==void 0&&(it.normalMap=nt(et.normalMap)),et.normalMapType!==void 0&&(it.normalMapType=et.normalMapType),et.normalScale!==void 0){let ot=et.normalScale;Array.isArray(ot)===!1&&(ot=[ot,ot]),it.normalScale=new Vector2().fromArray(ot)}return et.displacementMap!==void 0&&(it.displacementMap=nt(et.displacementMap)),et.displacementScale!==void 0&&(it.displacementScale=et.displacementScale),et.displacementBias!==void 0&&(it.displacementBias=et.displacementBias),et.roughnessMap!==void 0&&(it.roughnessMap=nt(et.roughnessMap)),et.metalnessMap!==void 0&&(it.metalnessMap=nt(et.metalnessMap)),et.emissiveMap!==void 0&&(it.emissiveMap=nt(et.emissiveMap)),et.emissiveIntensity!==void 0&&(it.emissiveIntensity=et.emissiveIntensity),et.specularMap!==void 0&&(it.specularMap=nt(et.specularMap)),et.specularIntensityMap!==void 0&&(it.specularIntensityMap=nt(et.specularIntensityMap)),et.specularColorMap!==void 0&&(it.specularColorMap=nt(et.specularColorMap)),et.envMap!==void 0&&(it.envMap=nt(et.envMap)),et.envMapIntensity!==void 0&&(it.envMapIntensity=et.envMapIntensity),et.reflectivity!==void 0&&(it.reflectivity=et.reflectivity),et.refractionRatio!==void 0&&(it.refractionRatio=et.refractionRatio),et.lightMap!==void 0&&(it.lightMap=nt(et.lightMap)),et.lightMapIntensity!==void 0&&(it.lightMapIntensity=et.lightMapIntensity),et.aoMap!==void 0&&(it.aoMap=nt(et.aoMap)),et.aoMapIntensity!==void 0&&(it.aoMapIntensity=et.aoMapIntensity),et.gradientMap!==void 0&&(it.gradientMap=nt(et.gradientMap)),et.clearcoatMap!==void 0&&(it.clearcoatMap=nt(et.clearcoatMap)),et.clearcoatRoughnessMap!==void 0&&(it.clearcoatRoughnessMap=nt(et.clearcoatRoughnessMap)),et.clearcoatNormalMap!==void 0&&(it.clearcoatNormalMap=nt(et.clearcoatNormalMap)),et.clearcoatNormalScale!==void 0&&(it.clearcoatNormalScale=new Vector2().fromArray(et.clearcoatNormalScale)),et.iridescenceMap!==void 0&&(it.iridescenceMap=nt(et.iridescenceMap)),et.iridescenceThicknessMap!==void 0&&(it.iridescenceThicknessMap=nt(et.iridescenceThicknessMap)),et.transmissionMap!==void 0&&(it.transmissionMap=nt(et.transmissionMap)),et.thicknessMap!==void 0&&(it.thicknessMap=nt(et.thicknessMap)),et.sheenColorMap!==void 0&&(it.sheenColorMap=nt(et.sheenColorMap)),et.sheenRoughnessMap!==void 0&&(it.sheenRoughnessMap=nt(et.sheenRoughnessMap)),it}setTextures(et){return this.textures=et,this}static createMaterialFromType(et){const rt={ShadowMaterial,SpriteMaterial,RawShaderMaterial,ShaderMaterial,PointsMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshPhongMaterial,MeshToonMaterial,MeshNormalMaterial,MeshLambertMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshBasicMaterial,MeshMatcapMaterial,LineDashedMaterial,LineBasicMaterial,Material:Material$2};return new rt[et]}}class LoaderUtils{static decodeText(et){if(typeof TextDecoder<"u")return new TextDecoder().decode(et);let rt="";for(let nt=0,it=et.length;nt<it;nt++)rt+=String.fromCharCode(et[nt]);try{return decodeURIComponent(escape(rt))}catch{return rt}}static extractUrlBase(et){const rt=et.lastIndexOf("/");return rt===-1?"./":et.slice(0,rt+1)}static resolveURL(et,rt){return typeof et!="string"||et===""?"":(/^https?:\/\//i.test(rt)&&/^\//.test(et)&&(rt=rt.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(et)||/^data:.*,.*$/i.test(et)||/^blob:.*$/i.test(et)?et:rt+et)}}class InstancedBufferGeometry extends BufferGeometry{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(et){return super.copy(et),this.instanceCount=et.instanceCount,this}toJSON(){const et=super.toJSON();return et.instanceCount=this.instanceCount,et.isInstancedBufferGeometry=!0,et}}class BufferGeometryLoader extends Loader$1{constructor(et){super(et)}load(et,rt,nt,it){const ot=this,at=new FileLoader(ot.manager);at.setPath(ot.path),at.setRequestHeader(ot.requestHeader),at.setWithCredentials(ot.withCredentials),at.load(et,function(st){try{rt(ot.parse(JSON.parse(st)))}catch(lt){it?it(lt):console.error(lt),ot.manager.itemError(et)}},nt,it)}parse(et){const rt={},nt={};function it(pt,mt){if(rt[mt]!==void 0)return rt[mt];const gt=pt.interleavedBuffers[mt],vt=ot(pt,gt.buffer),yt=getTypedArray(gt.type,vt),bt=new InterleavedBuffer(yt,gt.stride);return bt.uuid=gt.uuid,rt[mt]=bt,bt}function ot(pt,mt){if(nt[mt]!==void 0)return nt[mt];const gt=pt.arrayBuffers[mt],vt=new Uint32Array(gt).buffer;return nt[mt]=vt,vt}const at=et.isInstancedBufferGeometry?new InstancedBufferGeometry:new BufferGeometry,st=et.data.index;if(st!==void 0){const pt=getTypedArray(st.type,st.array);at.setIndex(new BufferAttribute(pt,1))}const lt=et.data.attributes;for(const pt in lt){const mt=lt[pt];let ht;if(mt.isInterleavedBufferAttribute){const gt=it(et.data,mt.data);ht=new InterleavedBufferAttribute(gt,mt.itemSize,mt.offset,mt.normalized)}else{const gt=getTypedArray(mt.type,mt.array),vt=mt.isInstancedBufferAttribute?InstancedBufferAttribute:BufferAttribute;ht=new vt(gt,mt.itemSize,mt.normalized)}mt.name!==void 0&&(ht.name=mt.name),mt.usage!==void 0&&ht.setUsage(mt.usage),mt.updateRange!==void 0&&(ht.updateRange.offset=mt.updateRange.offset,ht.updateRange.count=mt.updateRange.count),at.setAttribute(pt,ht)}const ct=et.data.morphAttributes;if(ct)for(const pt in ct){const mt=ct[pt],ht=[];for(let gt=0,vt=mt.length;gt<vt;gt++){const yt=mt[gt];let bt;if(yt.isInterleavedBufferAttribute){const xt=it(et.data,yt.data);bt=new InterleavedBufferAttribute(xt,yt.itemSize,yt.offset,yt.normalized)}else{const xt=getTypedArray(yt.type,yt.array);bt=new BufferAttribute(xt,yt.itemSize,yt.normalized)}yt.name!==void 0&&(bt.name=yt.name),ht.push(bt)}at.morphAttributes[pt]=ht}et.data.morphTargetsRelative&&(at.morphTargetsRelative=!0);const dt=et.data.groups||et.data.drawcalls||et.data.offsets;if(dt!==void 0)for(let pt=0,mt=dt.length;pt!==mt;++pt){const ht=dt[pt];at.addGroup(ht.start,ht.count,ht.materialIndex)}const ft=et.data.boundingSphere;if(ft!==void 0){const pt=new Vector3;ft.center!==void 0&&pt.fromArray(ft.center),at.boundingSphere=new Sphere(pt,ft.radius)}return et.name&&(at.name=et.name),et.userData&&(at.userData=et.userData),at}}class ObjectLoader extends Loader$1{constructor(et){super(et)}load(et,rt,nt,it){const ot=this,at=this.path===""?LoaderUtils.extractUrlBase(et):this.path;this.resourcePath=this.resourcePath||at;const st=new FileLoader(this.manager);st.setPath(this.path),st.setRequestHeader(this.requestHeader),st.setWithCredentials(this.withCredentials),st.load(et,function(lt){let ct=null;try{ct=JSON.parse(lt)}catch(dt){it!==void 0&&it(dt),console.error("THREE:ObjectLoader: Can't parse "+et+".",dt.message);return}const ut=ct.metadata;if(ut===void 0||ut.type===void 0||ut.type.toLowerCase()==="geometry"){it!==void 0&&it(new Error("THREE.ObjectLoader: Can't load "+et)),console.error("THREE.ObjectLoader: Can't load "+et);return}ot.parse(ct,rt)},nt,it)}async loadAsync(et,rt){const nt=this,it=this.path===""?LoaderUtils.extractUrlBase(et):this.path;this.resourcePath=this.resourcePath||it;const ot=new FileLoader(this.manager);ot.setPath(this.path),ot.setRequestHeader(this.requestHeader),ot.setWithCredentials(this.withCredentials);const at=await ot.loadAsync(et,rt),st=JSON.parse(at),lt=st.metadata;if(lt===void 0||lt.type===void 0||lt.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+et);return await nt.parseAsync(st)}parse(et,rt){const nt=this.parseAnimations(et.animations),it=this.parseShapes(et.shapes),ot=this.parseGeometries(et.geometries,it),at=this.parseImages(et.images,function(){rt!==void 0&&rt(ct)}),st=this.parseTextures(et.textures,at),lt=this.parseMaterials(et.materials,st),ct=this.parseObject(et.object,ot,lt,st,nt),ut=this.parseSkeletons(et.skeletons,ct);if(this.bindSkeletons(ct,ut),rt!==void 0){let dt=!1;for(const ft in at)if(at[ft].data instanceof HTMLImageElement){dt=!0;break}dt===!1&&rt(ct)}return ct}async parseAsync(et){const rt=this.parseAnimations(et.animations),nt=this.parseShapes(et.shapes),it=this.parseGeometries(et.geometries,nt),ot=await this.parseImagesAsync(et.images),at=this.parseTextures(et.textures,ot),st=this.parseMaterials(et.materials,at),lt=this.parseObject(et.object,it,st,at,rt),ct=this.parseSkeletons(et.skeletons,lt);return this.bindSkeletons(lt,ct),lt}parseShapes(et){const rt={};if(et!==void 0)for(let nt=0,it=et.length;nt<it;nt++){const ot=new Shape().fromJSON(et[nt]);rt[ot.uuid]=ot}return rt}parseSkeletons(et,rt){const nt={},it={};if(rt.traverse(function(ot){ot.isBone&&(it[ot.uuid]=ot)}),et!==void 0)for(let ot=0,at=et.length;ot<at;ot++){const st=new Skeleton().fromJSON(et[ot],it);nt[st.uuid]=st}return nt}parseGeometries(et,rt){const nt={};if(et!==void 0){const it=new BufferGeometryLoader;for(let ot=0,at=et.length;ot<at;ot++){let st;const lt=et[ot];switch(lt.type){case"BufferGeometry":case"InstancedBufferGeometry":st=it.parse(lt);break;default:lt.type in Geometries?st=Geometries[lt.type].fromJSON(lt,rt):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${lt.type}"`)}st.uuid=lt.uuid,lt.name!==void 0&&(st.name=lt.name),st.isBufferGeometry===!0&&lt.userData!==void 0&&(st.userData=lt.userData),nt[lt.uuid]=st}}return nt}parseMaterials(et,rt){const nt={},it={};if(et!==void 0){const ot=new MaterialLoader;ot.setTextures(rt);for(let at=0,st=et.length;at<st;at++){const lt=et[at];nt[lt.uuid]===void 0&&(nt[lt.uuid]=ot.parse(lt)),it[lt.uuid]=nt[lt.uuid]}}return it}parseAnimations(et){const rt={};if(et!==void 0)for(let nt=0;nt<et.length;nt++){const it=et[nt],ot=AnimationClip.parse(it);rt[ot.uuid]=ot}return rt}parseImages(et,rt){const nt=this,it={};let ot;function at(lt){return nt.manager.itemStart(lt),ot.load(lt,function(){nt.manager.itemEnd(lt)},void 0,function(){nt.manager.itemError(lt),nt.manager.itemEnd(lt)})}function st(lt){if(typeof lt=="string"){const ct=lt,ut=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(ct)?ct:nt.resourcePath+ct;return at(ut)}else return lt.data?{data:getTypedArray(lt.type,lt.data),width:lt.width,height:lt.height}:null}if(et!==void 0&&et.length>0){const lt=new LoadingManager(rt);ot=new ImageLoader(lt),ot.setCrossOrigin(this.crossOrigin);for(let ct=0,ut=et.length;ct<ut;ct++){const dt=et[ct],ft=dt.url;if(Array.isArray(ft)){const pt=[];for(let mt=0,ht=ft.length;mt<ht;mt++){const gt=ft[mt],vt=st(gt);vt!==null&&(vt instanceof HTMLImageElement?pt.push(vt):pt.push(new DataTexture(vt.data,vt.width,vt.height)))}it[dt.uuid]=new Source(pt)}else{const pt=st(dt.url);it[dt.uuid]=new Source(pt)}}}return it}async parseImagesAsync(et){const rt=this,nt={};let it;async function ot(at){if(typeof at=="string"){const st=at,lt=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(st)?st:rt.resourcePath+st;return await it.loadAsync(lt)}else return at.data?{data:getTypedArray(at.type,at.data),width:at.width,height:at.height}:null}if(et!==void 0&&et.length>0){it=new ImageLoader(this.manager),it.setCrossOrigin(this.crossOrigin);for(let at=0,st=et.length;at<st;at++){const lt=et[at],ct=lt.url;if(Array.isArray(ct)){const ut=[];for(let dt=0,ft=ct.length;dt<ft;dt++){const pt=ct[dt],mt=await ot(pt);mt!==null&&(mt instanceof HTMLImageElement?ut.push(mt):ut.push(new DataTexture(mt.data,mt.width,mt.height)))}nt[lt.uuid]=new Source(ut)}else{const ut=await ot(lt.url);nt[lt.uuid]=new Source(ut)}}}return nt}parseTextures(et,rt){function nt(ot,at){return typeof ot=="number"?ot:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",ot),at[ot])}const it={};if(et!==void 0)for(let ot=0,at=et.length;ot<at;ot++){const st=et[ot];st.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',st.uuid),rt[st.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",st.image);const lt=rt[st.image],ct=lt.data;let ut;Array.isArray(ct)?(ut=new CubeTexture,ct.length===6&&(ut.needsUpdate=!0)):(ct&&ct.data?ut=new DataTexture:ut=new Texture,ct&&(ut.needsUpdate=!0)),ut.source=lt,ut.uuid=st.uuid,st.name!==void 0&&(ut.name=st.name),st.mapping!==void 0&&(ut.mapping=nt(st.mapping,TEXTURE_MAPPING)),st.offset!==void 0&&ut.offset.fromArray(st.offset),st.repeat!==void 0&&ut.repeat.fromArray(st.repeat),st.center!==void 0&&ut.center.fromArray(st.center),st.rotation!==void 0&&(ut.rotation=st.rotation),st.wrap!==void 0&&(ut.wrapS=nt(st.wrap[0],TEXTURE_WRAPPING),ut.wrapT=nt(st.wrap[1],TEXTURE_WRAPPING)),st.format!==void 0&&(ut.format=st.format),st.type!==void 0&&(ut.type=st.type),st.encoding!==void 0&&(ut.encoding=st.encoding),st.minFilter!==void 0&&(ut.minFilter=nt(st.minFilter,TEXTURE_FILTER)),st.magFilter!==void 0&&(ut.magFilter=nt(st.magFilter,TEXTURE_FILTER)),st.anisotropy!==void 0&&(ut.anisotropy=st.anisotropy),st.flipY!==void 0&&(ut.flipY=st.flipY),st.generateMipmaps!==void 0&&(ut.generateMipmaps=st.generateMipmaps),st.premultiplyAlpha!==void 0&&(ut.premultiplyAlpha=st.premultiplyAlpha),st.unpackAlignment!==void 0&&(ut.unpackAlignment=st.unpackAlignment),st.userData!==void 0&&(ut.userData=st.userData),it[st.uuid]=ut}return it}parseObject(et,rt,nt,it,ot){let at;function st(ft){return rt[ft]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",ft),rt[ft]}function lt(ft){if(ft!==void 0){if(Array.isArray(ft)){const pt=[];for(let mt=0,ht=ft.length;mt<ht;mt++){const gt=ft[mt];nt[gt]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",gt),pt.push(nt[gt])}return pt}return nt[ft]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",ft),nt[ft]}}function ct(ft){return it[ft]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",ft),it[ft]}let ut,dt;switch(et.type){case"Scene":at=new Scene,et.background!==void 0&&(Number.isInteger(et.background)?at.background=new Color(et.background):at.background=ct(et.background)),et.environment!==void 0&&(at.environment=ct(et.environment)),et.fog!==void 0&&(et.fog.type==="Fog"?at.fog=new Fog(et.fog.color,et.fog.near,et.fog.far):et.fog.type==="FogExp2"&&(at.fog=new FogExp2(et.fog.color,et.fog.density))),et.backgroundBlurriness!==void 0&&(at.backgroundBlurriness=et.backgroundBlurriness);break;case"PerspectiveCamera":at=new PerspectiveCamera$1(et.fov,et.aspect,et.near,et.far),et.focus!==void 0&&(at.focus=et.focus),et.zoom!==void 0&&(at.zoom=et.zoom),et.filmGauge!==void 0&&(at.filmGauge=et.filmGauge),et.filmOffset!==void 0&&(at.filmOffset=et.filmOffset),et.view!==void 0&&(at.view=Object.assign({},et.view));break;case"OrthographicCamera":at=new OrthographicCamera$1(et.left,et.right,et.top,et.bottom,et.near,et.far),et.zoom!==void 0&&(at.zoom=et.zoom),et.view!==void 0&&(at.view=Object.assign({},et.view));break;case"AmbientLight":at=new AmbientLight(et.color,et.intensity);break;case"DirectionalLight":at=new DirectionalLight(et.color,et.intensity);break;case"PointLight":at=new PointLight(et.color,et.intensity,et.distance,et.decay);break;case"RectAreaLight":at=new RectAreaLight(et.color,et.intensity,et.width,et.height);break;case"SpotLight":at=new SpotLight(et.color,et.intensity,et.distance,et.angle,et.penumbra,et.decay);break;case"HemisphereLight":at=new HemisphereLight(et.color,et.groundColor,et.intensity);break;case"LightProbe":at=new LightProbe().fromJSON(et);break;case"SkinnedMesh":ut=st(et.geometry),dt=lt(et.material),at=new SkinnedMesh(ut,dt),et.bindMode!==void 0&&(at.bindMode=et.bindMode),et.bindMatrix!==void 0&&at.bindMatrix.fromArray(et.bindMatrix),et.skeleton!==void 0&&(at.skeleton=et.skeleton);break;case"Mesh":ut=st(et.geometry),dt=lt(et.material),at=new Mesh(ut,dt);break;case"InstancedMesh":ut=st(et.geometry),dt=lt(et.material);const ft=et.count,pt=et.instanceMatrix,mt=et.instanceColor;at=new InstancedMesh(ut,dt,ft),at.instanceMatrix=new InstancedBufferAttribute(new Float32Array(pt.array),16),mt!==void 0&&(at.instanceColor=new InstancedBufferAttribute(new Float32Array(mt.array),mt.itemSize));break;case"LOD":at=new LOD;break;case"Line":at=new Line(st(et.geometry),lt(et.material));break;case"LineLoop":at=new LineLoop(st(et.geometry),lt(et.material));break;case"LineSegments":at=new LineSegments(st(et.geometry),lt(et.material));break;case"PointCloud":case"Points":at=new Points(st(et.geometry),lt(et.material));break;case"Sprite":at=new Sprite(lt(et.material));break;case"Group":at=new Group$2;break;case"Bone":at=new Bone;break;default:at=new Object3D}if(at.uuid=et.uuid,et.name!==void 0&&(at.name=et.name),et.matrix!==void 0?(at.matrix.fromArray(et.matrix),et.matrixAutoUpdate!==void 0&&(at.matrixAutoUpdate=et.matrixAutoUpdate),at.matrixAutoUpdate&&at.matrix.decompose(at.position,at.quaternion,at.scale)):(et.position!==void 0&&at.position.fromArray(et.position),et.rotation!==void 0&&at.rotation.fromArray(et.rotation),et.quaternion!==void 0&&at.quaternion.fromArray(et.quaternion),et.scale!==void 0&&at.scale.fromArray(et.scale)),et.castShadow!==void 0&&(at.castShadow=et.castShadow),et.receiveShadow!==void 0&&(at.receiveShadow=et.receiveShadow),et.shadow&&(et.shadow.bias!==void 0&&(at.shadow.bias=et.shadow.bias),et.shadow.normalBias!==void 0&&(at.shadow.normalBias=et.shadow.normalBias),et.shadow.radius!==void 0&&(at.shadow.radius=et.shadow.radius),et.shadow.mapSize!==void 0&&at.shadow.mapSize.fromArray(et.shadow.mapSize),et.shadow.camera!==void 0&&(at.shadow.camera=this.parseObject(et.shadow.camera))),et.visible!==void 0&&(at.visible=et.visible),et.frustumCulled!==void 0&&(at.frustumCulled=et.frustumCulled),et.renderOrder!==void 0&&(at.renderOrder=et.renderOrder),et.userData!==void 0&&(at.userData=et.userData),et.layers!==void 0&&(at.layers.mask=et.layers),et.children!==void 0){const ft=et.children;for(let pt=0;pt<ft.length;pt++)at.add(this.parseObject(ft[pt],rt,nt,it,ot))}if(et.animations!==void 0){const ft=et.animations;for(let pt=0;pt<ft.length;pt++){const mt=ft[pt];at.animations.push(ot[mt])}}if(et.type==="LOD"){et.autoUpdate!==void 0&&(at.autoUpdate=et.autoUpdate);const ft=et.levels;for(let pt=0;pt<ft.length;pt++){const mt=ft[pt],ht=at.getObjectByProperty("uuid",mt.object);ht!==void 0&&at.addLevel(ht,mt.distance,mt.hysteresis)}}return at}bindSkeletons(et,rt){Object.keys(rt).length!==0&&et.traverse(function(nt){if(nt.isSkinnedMesh===!0&&nt.skeleton!==void 0){const it=rt[nt.skeleton];it===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",nt.skeleton):nt.bind(it,nt.bindMatrix)}})}}const TEXTURE_MAPPING={UVMapping,CubeReflectionMapping,CubeRefractionMapping,EquirectangularReflectionMapping,EquirectangularRefractionMapping,CubeUVReflectionMapping},TEXTURE_WRAPPING={RepeatWrapping,ClampToEdgeWrapping,MirroredRepeatWrapping},TEXTURE_FILTER={NearestFilter,NearestMipmapNearestFilter,NearestMipmapLinearFilter,LinearFilter,LinearMipmapNearestFilter,LinearMipmapLinearFilter};class ImageBitmapLoader extends Loader$1{constructor(et){super(et),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(et){return this.options=et,this}load(et,rt,nt,it){et===void 0&&(et=""),this.path!==void 0&&(et=this.path+et),et=this.manager.resolveURL(et);const ot=this,at=Cache.get(et);if(at!==void 0)return ot.manager.itemStart(et),setTimeout(function(){rt&&rt(at),ot.manager.itemEnd(et)},0),at;const st={};st.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",st.headers=this.requestHeader,fetch(et,st).then(function(lt){return lt.blob()}).then(function(lt){return createImageBitmap(lt,Object.assign(ot.options,{colorSpaceConversion:"none"}))}).then(function(lt){Cache.add(et,lt),rt&&rt(lt),ot.manager.itemEnd(et)}).catch(function(lt){it&&it(lt),ot.manager.itemError(et),ot.manager.itemEnd(et)}),ot.manager.itemStart(et)}}let _context,AudioContext$1=class{static getContext(){return _context===void 0&&(_context=new(window.AudioContext||window.webkitAudioContext)),_context}static setContext(et){_context=et}};class AudioLoader extends Loader$1{constructor(et){super(et)}load(et,rt,nt,it){const ot=this,at=new FileLoader(this.manager);at.setResponseType("arraybuffer"),at.setPath(this.path),at.setRequestHeader(this.requestHeader),at.setWithCredentials(this.withCredentials),at.load(et,function(st){try{const lt=st.slice(0);AudioContext$1.getContext().decodeAudioData(lt,function(ut){rt(ut)})}catch(lt){it?it(lt):console.error(lt),ot.manager.itemError(et)}},nt,it)}}class HemisphereLightProbe extends LightProbe{constructor(et,rt,nt=1){super(void 0,nt),this.isHemisphereLightProbe=!0;const it=new Color().set(et),ot=new Color().set(rt),at=new Vector3(it.r,it.g,it.b),st=new Vector3(ot.r,ot.g,ot.b),lt=Math.sqrt(Math.PI),ct=lt*Math.sqrt(.75);this.sh.coefficients[0].copy(at).add(st).multiplyScalar(lt),this.sh.coefficients[1].copy(at).sub(st).multiplyScalar(ct)}}class AmbientLightProbe extends LightProbe{constructor(et,rt=1){super(void 0,rt),this.isAmbientLightProbe=!0;const nt=new Color().set(et);this.sh.coefficients[0].set(nt.r,nt.g,nt.b).multiplyScalar(2*Math.sqrt(Math.PI))}}const _eyeRight=new Matrix4,_eyeLeft=new Matrix4,_projectionMatrix=new Matrix4;class StereoCamera{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new PerspectiveCamera$1,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new PerspectiveCamera$1,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(et){const rt=this._cache;if(rt.focus!==et.focus||rt.fov!==et.fov||rt.aspect!==et.aspect*this.aspect||rt.near!==et.near||rt.far!==et.far||rt.zoom!==et.zoom||rt.eyeSep!==this.eyeSep){rt.focus=et.focus,rt.fov=et.fov,rt.aspect=et.aspect*this.aspect,rt.near=et.near,rt.far=et.far,rt.zoom=et.zoom,rt.eyeSep=this.eyeSep,_projectionMatrix.copy(et.projectionMatrix);const it=rt.eyeSep/2,ot=it*rt.near/rt.focus,at=rt.near*Math.tan(DEG2RAD*rt.fov*.5)/rt.zoom;let st,lt;_eyeLeft.elements[12]=-it,_eyeRight.elements[12]=it,st=-at*rt.aspect+ot,lt=at*rt.aspect+ot,_projectionMatrix.elements[0]=2*rt.near/(lt-st),_projectionMatrix.elements[8]=(lt+st)/(lt-st),this.cameraL.projectionMatrix.copy(_projectionMatrix),st=-at*rt.aspect-ot,lt=at*rt.aspect-ot,_projectionMatrix.elements[0]=2*rt.near/(lt-st),_projectionMatrix.elements[8]=(lt+st)/(lt-st),this.cameraR.projectionMatrix.copy(_projectionMatrix)}this.cameraL.matrixWorld.copy(et.matrixWorld).multiply(_eyeLeft),this.cameraR.matrixWorld.copy(et.matrixWorld).multiply(_eyeRight)}}class Clock{constructor(et=!0){this.autoStart=et,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=now$2(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let et=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const rt=now$2();et=(rt-this.oldTime)/1e3,this.oldTime=rt,this.elapsedTime+=et}return et}}function now$2(){return(typeof performance>"u"?Date:performance).now()}const _position$1=new Vector3,_quaternion$1=new Quaternion,_scale$1=new Vector3,_orientation$1=new Vector3;class AudioListener extends Object3D{constructor(){super(),this.type="AudioListener",this.context=AudioContext$1.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new Clock}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(et){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=et,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(et){return this.gain.gain.setTargetAtTime(et,this.context.currentTime,.01),this}updateMatrixWorld(et){super.updateMatrixWorld(et);const rt=this.context.listener,nt=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(_position$1,_quaternion$1,_scale$1),_orientation$1.set(0,0,-1).applyQuaternion(_quaternion$1),rt.positionX){const it=this.context.currentTime+this.timeDelta;rt.positionX.linearRampToValueAtTime(_position$1.x,it),rt.positionY.linearRampToValueAtTime(_position$1.y,it),rt.positionZ.linearRampToValueAtTime(_position$1.z,it),rt.forwardX.linearRampToValueAtTime(_orientation$1.x,it),rt.forwardY.linearRampToValueAtTime(_orientation$1.y,it),rt.forwardZ.linearRampToValueAtTime(_orientation$1.z,it),rt.upX.linearRampToValueAtTime(nt.x,it),rt.upY.linearRampToValueAtTime(nt.y,it),rt.upZ.linearRampToValueAtTime(nt.z,it)}else rt.setPosition(_position$1.x,_position$1.y,_position$1.z),rt.setOrientation(_orientation$1.x,_orientation$1.y,_orientation$1.z,nt.x,nt.y,nt.z)}}let Audio$1=class extends Object3D{constructor(et){super(),this.type="Audio",this.listener=et,this.context=et.context,this.gain=this.context.createGain(),this.gain.connect(et.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(et){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=et,this.connect(),this}setMediaElementSource(et){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(et),this.connect(),this}setMediaStreamSource(et){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(et),this.connect(),this}setBuffer(et){return this.buffer=et,this.sourceType="buffer",this.autoplay&&this.play(),this}play(et=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+et;const rt=this.context.createBufferSource();return rt.buffer=this.buffer,rt.loop=this.loop,rt.loopStart=this.loopStart,rt.loopEnd=this.loopEnd,rt.onended=this.onEnded.bind(this),rt.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=rt,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source.stop(),this.source.onended=null,this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let et=1,rt=this.filters.length;et<rt;et++)this.filters[et-1].connect(this.filters[et]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let et=1,rt=this.filters.length;et<rt;et++)this.filters[et-1].disconnect(this.filters[et]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}getFilters(){return this.filters}setFilters(et){return et||(et=[]),this._connected===!0?(this.disconnect(),this.filters=et.slice(),this.connect()):this.filters=et.slice(),this}setDetune(et){if(this.detune=et,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(et){return this.setFilters(et?[et]:[])}setPlaybackRate(et){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=et,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(et){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=et,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(et){return this.loopStart=et,this}setLoopEnd(et){return this.loopEnd=et,this}getVolume(){return this.gain.gain.value}setVolume(et){return this.gain.gain.setTargetAtTime(et,this.context.currentTime,.01),this}};const _position=new Vector3,_quaternion=new Quaternion,_scale=new Vector3,_orientation=new Vector3;class PositionalAudio extends Audio$1{constructor(et){super(et),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(et){return this.panner.refDistance=et,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(et){return this.panner.rolloffFactor=et,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(et){return this.panner.distanceModel=et,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(et){return this.panner.maxDistance=et,this}setDirectionalCone(et,rt,nt){return this.panner.coneInnerAngle=et,this.panner.coneOuterAngle=rt,this.panner.coneOuterGain=nt,this}updateMatrixWorld(et){if(super.updateMatrixWorld(et),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(_position,_quaternion,_scale),_orientation.set(0,0,1).applyQuaternion(_quaternion);const rt=this.panner;if(rt.positionX){const nt=this.context.currentTime+this.listener.timeDelta;rt.positionX.linearRampToValueAtTime(_position.x,nt),rt.positionY.linearRampToValueAtTime(_position.y,nt),rt.positionZ.linearRampToValueAtTime(_position.z,nt),rt.orientationX.linearRampToValueAtTime(_orientation.x,nt),rt.orientationY.linearRampToValueAtTime(_orientation.y,nt),rt.orientationZ.linearRampToValueAtTime(_orientation.z,nt)}else rt.setPosition(_position.x,_position.y,_position.z),rt.setOrientation(_orientation.x,_orientation.y,_orientation.z)}}class AudioAnalyser{constructor(et,rt=2048){this.analyser=et.context.createAnalyser(),this.analyser.fftSize=rt,this.data=new Uint8Array(this.analyser.frequencyBinCount),et.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let et=0;const rt=this.getFrequencyData();for(let nt=0;nt<rt.length;nt++)et+=rt[nt];return et/rt.length}}class PropertyMixer{constructor(et,rt,nt){this.binding=et,this.valueSize=nt;let it,ot,at;switch(rt){case"quaternion":it=this._slerp,ot=this._slerpAdditive,at=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(nt*6),this._workIndex=5;break;case"string":case"bool":it=this._select,ot=this._select,at=this._setAdditiveIdentityOther,this.buffer=new Array(nt*5);break;default:it=this._lerp,ot=this._lerpAdditive,at=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(nt*5)}this._mixBufferRegion=it,this._mixBufferRegionAdditive=ot,this._setIdentity=at,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(et,rt){const nt=this.buffer,it=this.valueSize,ot=et*it+it;let at=this.cumulativeWeight;if(at===0){for(let st=0;st!==it;++st)nt[ot+st]=nt[st];at=rt}else{at+=rt;const st=rt/at;this._mixBufferRegion(nt,ot,0,st,it)}this.cumulativeWeight=at}accumulateAdditive(et){const rt=this.buffer,nt=this.valueSize,it=nt*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(rt,it,0,et,nt),this.cumulativeWeightAdditive+=et}apply(et){const rt=this.valueSize,nt=this.buffer,it=et*rt+rt,ot=this.cumulativeWeight,at=this.cumulativeWeightAdditive,st=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,ot<1){const lt=rt*this._origIndex;this._mixBufferRegion(nt,it,lt,1-ot,rt)}at>0&&this._mixBufferRegionAdditive(nt,it,this._addIndex*rt,1,rt);for(let lt=rt,ct=rt+rt;lt!==ct;++lt)if(nt[lt]!==nt[lt+rt]){st.setValue(nt,it);break}}saveOriginalState(){const et=this.binding,rt=this.buffer,nt=this.valueSize,it=nt*this._origIndex;et.getValue(rt,it);for(let ot=nt,at=it;ot!==at;++ot)rt[ot]=rt[it+ot%nt];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const et=this.valueSize*3;this.binding.setValue(this.buffer,et)}_setAdditiveIdentityNumeric(){const et=this._addIndex*this.valueSize,rt=et+this.valueSize;for(let nt=et;nt<rt;nt++)this.buffer[nt]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const et=this._origIndex*this.valueSize,rt=this._addIndex*this.valueSize;for(let nt=0;nt<this.valueSize;nt++)this.buffer[rt+nt]=this.buffer[et+nt]}_select(et,rt,nt,it,ot){if(it>=.5)for(let at=0;at!==ot;++at)et[rt+at]=et[nt+at]}_slerp(et,rt,nt,it){Quaternion.slerpFlat(et,rt,et,rt,et,nt,it)}_slerpAdditive(et,rt,nt,it,ot){const at=this._workIndex*ot;Quaternion.multiplyQuaternionsFlat(et,at,et,rt,et,nt),Quaternion.slerpFlat(et,rt,et,rt,et,at,it)}_lerp(et,rt,nt,it,ot){const at=1-it;for(let st=0;st!==ot;++st){const lt=rt+st;et[lt]=et[lt]*at+et[nt+st]*it}}_lerpAdditive(et,rt,nt,it,ot){for(let at=0;at!==ot;++at){const st=rt+at;et[st]=et[st]+et[nt+at]*it}}}const _RESERVED_CHARS_RE="\\[\\]\\.:\\/",_reservedRe=new RegExp("["+_RESERVED_CHARS_RE+"]","g"),_wordChar="[^"+_RESERVED_CHARS_RE+"]",_wordCharOrDot="[^"+_RESERVED_CHARS_RE.replace("\\.","")+"]",_directoryRe=/((?:WC+[\/:])*)/.source.replace("WC",_wordChar),_nodeRe=/(WCOD+)?/.source.replace("WCOD",_wordCharOrDot),_objectRe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",_wordChar),_propertyRe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",_wordChar),_trackRe=new RegExp("^"+_directoryRe+_nodeRe+_objectRe+_propertyRe+"$"),_supportedObjectNames=["material","materials","bones","map"];class Composite{constructor(et,rt,nt){const it=nt||PropertyBinding.parseTrackName(rt);this._targetGroup=et,this._bindings=et.subscribe_(rt,it)}getValue(et,rt){this.bind();const nt=this._targetGroup.nCachedObjects_,it=this._bindings[nt];it!==void 0&&it.getValue(et,rt)}setValue(et,rt){const nt=this._bindings;for(let it=this._targetGroup.nCachedObjects_,ot=nt.length;it!==ot;++it)nt[it].setValue(et,rt)}bind(){const et=this._bindings;for(let rt=this._targetGroup.nCachedObjects_,nt=et.length;rt!==nt;++rt)et[rt].bind()}unbind(){const et=this._bindings;for(let rt=this._targetGroup.nCachedObjects_,nt=et.length;rt!==nt;++rt)et[rt].unbind()}}class PropertyBinding{constructor(et,rt,nt){this.path=rt,this.parsedPath=nt||PropertyBinding.parseTrackName(rt),this.node=PropertyBinding.findNode(et,this.parsedPath.nodeName)||et,this.rootNode=et,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(et,rt,nt){return et&&et.isAnimationObjectGroup?new PropertyBinding.Composite(et,rt,nt):new PropertyBinding(et,rt,nt)}static sanitizeNodeName(et){return et.replace(/\s/g,"_").replace(_reservedRe,"")}static parseTrackName(et){const rt=_trackRe.exec(et);if(rt===null)throw new Error("PropertyBinding: Cannot parse trackName: "+et);const nt={nodeName:rt[2],objectName:rt[3],objectIndex:rt[4],propertyName:rt[5],propertyIndex:rt[6]},it=nt.nodeName&&nt.nodeName.lastIndexOf(".");if(it!==void 0&&it!==-1){const ot=nt.nodeName.substring(it+1);_supportedObjectNames.indexOf(ot)!==-1&&(nt.nodeName=nt.nodeName.substring(0,it),nt.objectName=ot)}if(nt.propertyName===null||nt.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+et);return nt}static findNode(et,rt){if(rt===void 0||rt===""||rt==="."||rt===-1||rt===et.name||rt===et.uuid)return et;if(et.skeleton){const nt=et.skeleton.getBoneByName(rt);if(nt!==void 0)return nt}if(et.children){const nt=function(ot){for(let at=0;at<ot.length;at++){const st=ot[at];if(st.name===rt||st.uuid===rt)return st;const lt=nt(st.children);if(lt)return lt}return null},it=nt(et.children);if(it)return it}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(et,rt){et[rt]=this.targetObject[this.propertyName]}_getValue_array(et,rt){const nt=this.resolvedProperty;for(let it=0,ot=nt.length;it!==ot;++it)et[rt++]=nt[it]}_getValue_arrayElement(et,rt){et[rt]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(et,rt){this.resolvedProperty.toArray(et,rt)}_setValue_direct(et,rt){this.targetObject[this.propertyName]=et[rt]}_setValue_direct_setNeedsUpdate(et,rt){this.targetObject[this.propertyName]=et[rt],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(et,rt){this.targetObject[this.propertyName]=et[rt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(et,rt){const nt=this.resolvedProperty;for(let it=0,ot=nt.length;it!==ot;++it)nt[it]=et[rt++]}_setValue_array_setNeedsUpdate(et,rt){const nt=this.resolvedProperty;for(let it=0,ot=nt.length;it!==ot;++it)nt[it]=et[rt++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(et,rt){const nt=this.resolvedProperty;for(let it=0,ot=nt.length;it!==ot;++it)nt[it]=et[rt++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(et,rt){this.resolvedProperty[this.propertyIndex]=et[rt]}_setValue_arrayElement_setNeedsUpdate(et,rt){this.resolvedProperty[this.propertyIndex]=et[rt],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(et,rt){this.resolvedProperty[this.propertyIndex]=et[rt],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(et,rt){this.resolvedProperty.fromArray(et,rt)}_setValue_fromArray_setNeedsUpdate(et,rt){this.resolvedProperty.fromArray(et,rt),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(et,rt){this.resolvedProperty.fromArray(et,rt),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(et,rt){this.bind(),this.getValue(et,rt)}_setValue_unbound(et,rt){this.bind(),this.setValue(et,rt)}bind(){let et=this.node;const rt=this.parsedPath,nt=rt.objectName,it=rt.propertyName;let ot=rt.propertyIndex;if(et||(et=PropertyBinding.findNode(this.rootNode,rt.nodeName)||this.rootNode,this.node=et),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!et){console.error("THREE.PropertyBinding: Trying to update node for track: "+this.path+" but it wasn't found.");return}if(nt){let ct=rt.objectIndex;switch(nt){case"materials":if(!et.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!et.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}et=et.material.materials;break;case"bones":if(!et.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}et=et.skeleton.bones;for(let ut=0;ut<et.length;ut++)if(et[ut].name===ct){ct=ut;break}break;case"map":if("map"in et){et=et.map;break}if(!et.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!et.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}et=et.material.map;break;default:if(et[nt]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}et=et[nt]}if(ct!==void 0){if(et[ct]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,et);return}et=et[ct]}}const at=et[it];if(at===void 0){const ct=rt.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+ct+"."+it+" but it wasn't found.",et);return}let st=this.Versioning.None;this.targetObject=et,et.needsUpdate!==void 0?st=this.Versioning.NeedsUpdate:et.matrixWorldNeedsUpdate!==void 0&&(st=this.Versioning.MatrixWorldNeedsUpdate);let lt=this.BindingType.Direct;if(ot!==void 0){if(it==="morphTargetInfluences"){if(!et.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!et.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}et.morphTargetDictionary[ot]!==void 0&&(ot=et.morphTargetDictionary[ot])}lt=this.BindingType.ArrayElement,this.resolvedProperty=at,this.propertyIndex=ot}else at.fromArray!==void 0&&at.toArray!==void 0?(lt=this.BindingType.HasFromToArray,this.resolvedProperty=at):Array.isArray(at)?(lt=this.BindingType.EntireArray,this.resolvedProperty=at):this.propertyName=it;this.getValue=this.GetterByBindingType[lt],this.setValue=this.SetterByBindingTypeAndVersioning[lt][st]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}PropertyBinding.Composite=Composite;PropertyBinding.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};PropertyBinding.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};PropertyBinding.prototype.GetterByBindingType=[PropertyBinding.prototype._getValue_direct,PropertyBinding.prototype._getValue_array,PropertyBinding.prototype._getValue_arrayElement,PropertyBinding.prototype._getValue_toArray];PropertyBinding.prototype.SetterByBindingTypeAndVersioning=[[PropertyBinding.prototype._setValue_direct,PropertyBinding.prototype._setValue_direct_setNeedsUpdate,PropertyBinding.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_array,PropertyBinding.prototype._setValue_array_setNeedsUpdate,PropertyBinding.prototype._setValue_array_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_arrayElement,PropertyBinding.prototype._setValue_arrayElement_setNeedsUpdate,PropertyBinding.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[PropertyBinding.prototype._setValue_fromArray,PropertyBinding.prototype._setValue_fromArray_setNeedsUpdate,PropertyBinding.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class AnimationObjectGroup{constructor(){this.isAnimationObjectGroup=!0,this.uuid=generateUUID$1(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const et={};this._indicesByUUID=et;for(let nt=0,it=arguments.length;nt!==it;++nt)et[arguments[nt].uuid]=nt;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const rt=this;this.stats={objects:{get total(){return rt._objects.length},get inUse(){return this.total-rt.nCachedObjects_}},get bindingsPerObject(){return rt._bindings.length}}}add(){const et=this._objects,rt=this._indicesByUUID,nt=this._paths,it=this._parsedPaths,ot=this._bindings,at=ot.length;let st,lt=et.length,ct=this.nCachedObjects_;for(let ut=0,dt=arguments.length;ut!==dt;++ut){const ft=arguments[ut],pt=ft.uuid;let mt=rt[pt];if(mt===void 0){mt=lt++,rt[pt]=mt,et.push(ft);for(let ht=0,gt=at;ht!==gt;++ht)ot[ht].push(new PropertyBinding(ft,nt[ht],it[ht]))}else if(mt<ct){st=et[mt];const ht=--ct,gt=et[ht];rt[gt.uuid]=mt,et[mt]=gt,rt[pt]=ht,et[ht]=ft;for(let vt=0,yt=at;vt!==yt;++vt){const bt=ot[vt],xt=bt[ht];let $t=bt[mt];bt[mt]=xt,$t===void 0&&($t=new PropertyBinding(ft,nt[vt],it[vt])),bt[ht]=$t}}else et[mt]!==st&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=ct}remove(){const et=this._objects,rt=this._indicesByUUID,nt=this._bindings,it=nt.length;let ot=this.nCachedObjects_;for(let at=0,st=arguments.length;at!==st;++at){const lt=arguments[at],ct=lt.uuid,ut=rt[ct];if(ut!==void 0&&ut>=ot){const dt=ot++,ft=et[dt];rt[ft.uuid]=ut,et[ut]=ft,rt[ct]=dt,et[dt]=lt;for(let pt=0,mt=it;pt!==mt;++pt){const ht=nt[pt],gt=ht[dt],vt=ht[ut];ht[ut]=gt,ht[dt]=vt}}}this.nCachedObjects_=ot}uncache(){const et=this._objects,rt=this._indicesByUUID,nt=this._bindings,it=nt.length;let ot=this.nCachedObjects_,at=et.length;for(let st=0,lt=arguments.length;st!==lt;++st){const ct=arguments[st],ut=ct.uuid,dt=rt[ut];if(dt!==void 0)if(delete rt[ut],dt<ot){const ft=--ot,pt=et[ft],mt=--at,ht=et[mt];rt[pt.uuid]=dt,et[dt]=pt,rt[ht.uuid]=ft,et[ft]=ht,et.pop();for(let gt=0,vt=it;gt!==vt;++gt){const yt=nt[gt],bt=yt[ft],xt=yt[mt];yt[dt]=bt,yt[ft]=xt,yt.pop()}}else{const ft=--at,pt=et[ft];ft>0&&(rt[pt.uuid]=dt),et[dt]=pt,et.pop();for(let mt=0,ht=it;mt!==ht;++mt){const gt=nt[mt];gt[dt]=gt[ft],gt.pop()}}}this.nCachedObjects_=ot}subscribe_(et,rt){const nt=this._bindingsIndicesByPath;let it=nt[et];const ot=this._bindings;if(it!==void 0)return ot[it];const at=this._paths,st=this._parsedPaths,lt=this._objects,ct=lt.length,ut=this.nCachedObjects_,dt=new Array(ct);it=ot.length,nt[et]=it,at.push(et),st.push(rt),ot.push(dt);for(let ft=ut,pt=lt.length;ft!==pt;++ft){const mt=lt[ft];dt[ft]=new PropertyBinding(mt,et,rt)}return dt}unsubscribe_(et){const rt=this._bindingsIndicesByPath,nt=rt[et];if(nt!==void 0){const it=this._paths,ot=this._parsedPaths,at=this._bindings,st=at.length-1,lt=at[st],ct=et[st];rt[ct]=nt,at[nt]=lt,at.pop(),ot[nt]=ot[st],ot.pop(),it[nt]=it[st],it.pop()}}}class AnimationAction{constructor(et,rt,nt=null,it=rt.blendMode){this._mixer=et,this._clip=rt,this._localRoot=nt,this.blendMode=it;const ot=rt.tracks,at=ot.length,st=new Array(at),lt={endingStart:ZeroCurvatureEnding,endingEnd:ZeroCurvatureEnding};for(let ct=0;ct!==at;++ct){const ut=ot[ct].createInterpolant(null);st[ct]=ut,ut.settings=lt}this._interpolantSettings=lt,this._interpolants=st,this._propertyBindings=new Array(at),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=LoopRepeat,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(et){return this._startTime=et,this}setLoop(et,rt){return this.loop=et,this.repetitions=rt,this}setEffectiveWeight(et){return this.weight=et,this._effectiveWeight=this.enabled?et:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(et){return this._scheduleFading(et,0,1)}fadeOut(et){return this._scheduleFading(et,1,0)}crossFadeFrom(et,rt,nt){if(et.fadeOut(rt),this.fadeIn(rt),nt){const it=this._clip.duration,ot=et._clip.duration,at=ot/it,st=it/ot;et.warp(1,at,rt),this.warp(st,1,rt)}return this}crossFadeTo(et,rt,nt){return et.crossFadeFrom(this,rt,nt)}stopFading(){const et=this._weightInterpolant;return et!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(et)),this}setEffectiveTimeScale(et){return this.timeScale=et,this._effectiveTimeScale=this.paused?0:et,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(et){return this.timeScale=this._clip.duration/et,this.stopWarping()}syncWith(et){return this.time=et.time,this.timeScale=et.timeScale,this.stopWarping()}halt(et){return this.warp(this._effectiveTimeScale,0,et)}warp(et,rt,nt){const it=this._mixer,ot=it.time,at=this.timeScale;let st=this._timeScaleInterpolant;st===null&&(st=it._lendControlInterpolant(),this._timeScaleInterpolant=st);const lt=st.parameterPositions,ct=st.sampleValues;return lt[0]=ot,lt[1]=ot+nt,ct[0]=et/at,ct[1]=rt/at,this}stopWarping(){const et=this._timeScaleInterpolant;return et!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(et)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(et,rt,nt,it){if(!this.enabled){this._updateWeight(et);return}const ot=this._startTime;if(ot!==null){const lt=(et-ot)*nt;lt<0||nt===0?rt=0:(this._startTime=null,rt=nt*lt)}rt*=this._updateTimeScale(et);const at=this._updateTime(rt),st=this._updateWeight(et);if(st>0){const lt=this._interpolants,ct=this._propertyBindings;switch(this.blendMode){case AdditiveAnimationBlendMode:for(let ut=0,dt=lt.length;ut!==dt;++ut)lt[ut].evaluate(at),ct[ut].accumulateAdditive(st);break;case NormalAnimationBlendMode:default:for(let ut=0,dt=lt.length;ut!==dt;++ut)lt[ut].evaluate(at),ct[ut].accumulate(it,st)}}}_updateWeight(et){let rt=0;if(this.enabled){rt=this.weight;const nt=this._weightInterpolant;if(nt!==null){const it=nt.evaluate(et)[0];rt*=it,et>nt.parameterPositions[1]&&(this.stopFading(),it===0&&(this.enabled=!1))}}return this._effectiveWeight=rt,rt}_updateTimeScale(et){let rt=0;if(!this.paused){rt=this.timeScale;const nt=this._timeScaleInterpolant;if(nt!==null){const it=nt.evaluate(et)[0];rt*=it,et>nt.parameterPositions[1]&&(this.stopWarping(),rt===0?this.paused=!0:this.timeScale=rt)}}return this._effectiveTimeScale=rt,rt}_updateTime(et){const rt=this._clip.duration,nt=this.loop;let it=this.time+et,ot=this._loopCount;const at=nt===LoopPingPong;if(et===0)return ot===-1?it:at&&(ot&1)===1?rt-it:it;if(nt===LoopOnce){ot===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(it>=rt)it=rt;else if(it<0)it=0;else{this.time=it;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=it,this._mixer.dispatchEvent({type:"finished",action:this,direction:et<0?-1:1})}}else{if(ot===-1&&(et>=0?(ot=0,this._setEndings(!0,this.repetitions===0,at)):this._setEndings(this.repetitions===0,!0,at)),it>=rt||it<0){const st=Math.floor(it/rt);it-=rt*st,ot+=Math.abs(st);const lt=this.repetitions-ot;if(lt<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,it=et>0?rt:0,this.time=it,this._mixer.dispatchEvent({type:"finished",action:this,direction:et>0?1:-1});else{if(lt===1){const ct=et<0;this._setEndings(ct,!ct,at)}else this._setEndings(!1,!1,at);this._loopCount=ot,this.time=it,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:st})}}else this.time=it;if(at&&(ot&1)===1)return rt-it}return it}_setEndings(et,rt,nt){const it=this._interpolantSettings;nt?(it.endingStart=ZeroSlopeEnding,it.endingEnd=ZeroSlopeEnding):(et?it.endingStart=this.zeroSlopeAtStart?ZeroSlopeEnding:ZeroCurvatureEnding:it.endingStart=WrapAroundEnding,rt?it.endingEnd=this.zeroSlopeAtEnd?ZeroSlopeEnding:ZeroCurvatureEnding:it.endingEnd=WrapAroundEnding)}_scheduleFading(et,rt,nt){const it=this._mixer,ot=it.time;let at=this._weightInterpolant;at===null&&(at=it._lendControlInterpolant(),this._weightInterpolant=at);const st=at.parameterPositions,lt=at.sampleValues;return st[0]=ot,lt[0]=rt,st[1]=ot+et,lt[1]=nt,this}}const _controlInterpolantsResultBuffer=new Float32Array(1);class AnimationMixer extends EventDispatcher{constructor(et){super(),this._root=et,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(et,rt){const nt=et._localRoot||this._root,it=et._clip.tracks,ot=it.length,at=et._propertyBindings,st=et._interpolants,lt=nt.uuid,ct=this._bindingsByRootAndName;let ut=ct[lt];ut===void 0&&(ut={},ct[lt]=ut);for(let dt=0;dt!==ot;++dt){const ft=it[dt],pt=ft.name;let mt=ut[pt];if(mt!==void 0)++mt.referenceCount,at[dt]=mt;else{if(mt=at[dt],mt!==void 0){mt._cacheIndex===null&&(++mt.referenceCount,this._addInactiveBinding(mt,lt,pt));continue}const ht=rt&&rt._propertyBindings[dt].binding.parsedPath;mt=new PropertyMixer(PropertyBinding.create(nt,pt,ht),ft.ValueTypeName,ft.getValueSize()),++mt.referenceCount,this._addInactiveBinding(mt,lt,pt),at[dt]=mt}st[dt].resultBuffer=mt.buffer}}_activateAction(et){if(!this._isActiveAction(et)){if(et._cacheIndex===null){const nt=(et._localRoot||this._root).uuid,it=et._clip.uuid,ot=this._actionsByClip[it];this._bindAction(et,ot&&ot.knownActions[0]),this._addInactiveAction(et,it,nt)}const rt=et._propertyBindings;for(let nt=0,it=rt.length;nt!==it;++nt){const ot=rt[nt];ot.useCount++===0&&(this._lendBinding(ot),ot.saveOriginalState())}this._lendAction(et)}}_deactivateAction(et){if(this._isActiveAction(et)){const rt=et._propertyBindings;for(let nt=0,it=rt.length;nt!==it;++nt){const ot=rt[nt];--ot.useCount===0&&(ot.restoreOriginalState(),this._takeBackBinding(ot))}this._takeBackAction(et)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const et=this;this.stats={actions:{get total(){return et._actions.length},get inUse(){return et._nActiveActions}},bindings:{get total(){return et._bindings.length},get inUse(){return et._nActiveBindings}},controlInterpolants:{get total(){return et._controlInterpolants.length},get inUse(){return et._nActiveControlInterpolants}}}}_isActiveAction(et){const rt=et._cacheIndex;return rt!==null&&rt<this._nActiveActions}_addInactiveAction(et,rt,nt){const it=this._actions,ot=this._actionsByClip;let at=ot[rt];if(at===void 0)at={knownActions:[et],actionByRoot:{}},et._byClipCacheIndex=0,ot[rt]=at;else{const st=at.knownActions;et._byClipCacheIndex=st.length,st.push(et)}et._cacheIndex=it.length,it.push(et),at.actionByRoot[nt]=et}_removeInactiveAction(et){const rt=this._actions,nt=rt[rt.length-1],it=et._cacheIndex;nt._cacheIndex=it,rt[it]=nt,rt.pop(),et._cacheIndex=null;const ot=et._clip.uuid,at=this._actionsByClip,st=at[ot],lt=st.knownActions,ct=lt[lt.length-1],ut=et._byClipCacheIndex;ct._byClipCacheIndex=ut,lt[ut]=ct,lt.pop(),et._byClipCacheIndex=null;const dt=st.actionByRoot,ft=(et._localRoot||this._root).uuid;delete dt[ft],lt.length===0&&delete at[ot],this._removeInactiveBindingsForAction(et)}_removeInactiveBindingsForAction(et){const rt=et._propertyBindings;for(let nt=0,it=rt.length;nt!==it;++nt){const ot=rt[nt];--ot.referenceCount===0&&this._removeInactiveBinding(ot)}}_lendAction(et){const rt=this._actions,nt=et._cacheIndex,it=this._nActiveActions++,ot=rt[it];et._cacheIndex=it,rt[it]=et,ot._cacheIndex=nt,rt[nt]=ot}_takeBackAction(et){const rt=this._actions,nt=et._cacheIndex,it=--this._nActiveActions,ot=rt[it];et._cacheIndex=it,rt[it]=et,ot._cacheIndex=nt,rt[nt]=ot}_addInactiveBinding(et,rt,nt){const it=this._bindingsByRootAndName,ot=this._bindings;let at=it[rt];at===void 0&&(at={},it[rt]=at),at[nt]=et,et._cacheIndex=ot.length,ot.push(et)}_removeInactiveBinding(et){const rt=this._bindings,nt=et.binding,it=nt.rootNode.uuid,ot=nt.path,at=this._bindingsByRootAndName,st=at[it],lt=rt[rt.length-1],ct=et._cacheIndex;lt._cacheIndex=ct,rt[ct]=lt,rt.pop(),delete st[ot],Object.keys(st).length===0&&delete at[it]}_lendBinding(et){const rt=this._bindings,nt=et._cacheIndex,it=this._nActiveBindings++,ot=rt[it];et._cacheIndex=it,rt[it]=et,ot._cacheIndex=nt,rt[nt]=ot}_takeBackBinding(et){const rt=this._bindings,nt=et._cacheIndex,it=--this._nActiveBindings,ot=rt[it];et._cacheIndex=it,rt[it]=et,ot._cacheIndex=nt,rt[nt]=ot}_lendControlInterpolant(){const et=this._controlInterpolants,rt=this._nActiveControlInterpolants++;let nt=et[rt];return nt===void 0&&(nt=new LinearInterpolant(new Float32Array(2),new Float32Array(2),1,_controlInterpolantsResultBuffer),nt.__cacheIndex=rt,et[rt]=nt),nt}_takeBackControlInterpolant(et){const rt=this._controlInterpolants,nt=et.__cacheIndex,it=--this._nActiveControlInterpolants,ot=rt[it];et.__cacheIndex=it,rt[it]=et,ot.__cacheIndex=nt,rt[nt]=ot}clipAction(et,rt,nt){const it=rt||this._root,ot=it.uuid;let at=typeof et=="string"?AnimationClip.findByName(it,et):et;const st=at!==null?at.uuid:et,lt=this._actionsByClip[st];let ct=null;if(nt===void 0&&(at!==null?nt=at.blendMode:nt=NormalAnimationBlendMode),lt!==void 0){const dt=lt.actionByRoot[ot];if(dt!==void 0&&dt.blendMode===nt)return dt;ct=lt.knownActions[0],at===null&&(at=ct._clip)}if(at===null)return null;const ut=new AnimationAction(this,at,rt,nt);return this._bindAction(ut,ct),this._addInactiveAction(ut,st,ot),ut}existingAction(et,rt){const nt=rt||this._root,it=nt.uuid,ot=typeof et=="string"?AnimationClip.findByName(nt,et):et,at=ot?ot.uuid:et,st=this._actionsByClip[at];return st!==void 0&&st.actionByRoot[it]||null}stopAllAction(){const et=this._actions,rt=this._nActiveActions;for(let nt=rt-1;nt>=0;--nt)et[nt].stop();return this}update(et){et*=this.timeScale;const rt=this._actions,nt=this._nActiveActions,it=this.time+=et,ot=Math.sign(et),at=this._accuIndex^=1;for(let ct=0;ct!==nt;++ct)rt[ct]._update(it,et,ot,at);const st=this._bindings,lt=this._nActiveBindings;for(let ct=0;ct!==lt;++ct)st[ct].apply(at);return this}setTime(et){this.time=0;for(let rt=0;rt<this._actions.length;rt++)this._actions[rt].time=0;return this.update(et)}getRoot(){return this._root}uncacheClip(et){const rt=this._actions,nt=et.uuid,it=this._actionsByClip,ot=it[nt];if(ot!==void 0){const at=ot.knownActions;for(let st=0,lt=at.length;st!==lt;++st){const ct=at[st];this._deactivateAction(ct);const ut=ct._cacheIndex,dt=rt[rt.length-1];ct._cacheIndex=null,ct._byClipCacheIndex=null,dt._cacheIndex=ut,rt[ut]=dt,rt.pop(),this._removeInactiveBindingsForAction(ct)}delete it[nt]}}uncacheRoot(et){const rt=et.uuid,nt=this._actionsByClip;for(const at in nt){const st=nt[at].actionByRoot,lt=st[rt];lt!==void 0&&(this._deactivateAction(lt),this._removeInactiveAction(lt))}const it=this._bindingsByRootAndName,ot=it[rt];if(ot!==void 0)for(const at in ot){const st=ot[at];st.restoreOriginalState(),this._removeInactiveBinding(st)}}uncacheAction(et,rt){const nt=this.existingAction(et,rt);nt!==null&&(this._deactivateAction(nt),this._removeInactiveAction(nt))}}class Uniform{constructor(et){this.value=et}clone(){return new Uniform(this.value.clone===void 0?this.value:this.value.clone())}}let id$6=0;class UniformsGroup extends EventDispatcher{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:id$6++}),this.name="",this.usage=StaticDrawUsage,this.uniforms=[]}add(et){return this.uniforms.push(et),this}remove(et){const rt=this.uniforms.indexOf(et);return rt!==-1&&this.uniforms.splice(rt,1),this}setName(et){return this.name=et,this}setUsage(et){return this.usage=et,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(et){this.name=et.name,this.usage=et.usage;const rt=et.uniforms;this.uniforms.length=0;for(let nt=0,it=rt.length;nt<it;nt++)this.uniforms.push(rt[nt].clone());return this}clone(){return new this.constructor().copy(this)}}class InstancedInterleavedBuffer extends InterleavedBuffer{constructor(et,rt,nt=1){super(et,rt),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=nt}copy(et){return super.copy(et),this.meshPerAttribute=et.meshPerAttribute,this}clone(et){const rt=super.clone(et);return rt.meshPerAttribute=this.meshPerAttribute,rt}toJSON(et){const rt=super.toJSON(et);return rt.isInstancedInterleavedBuffer=!0,rt.meshPerAttribute=this.meshPerAttribute,rt}}class GLBufferAttribute{constructor(et,rt,nt,it,ot){this.isGLBufferAttribute=!0,this.buffer=et,this.type=rt,this.itemSize=nt,this.elementSize=it,this.count=ot,this.version=0}set needsUpdate(et){et===!0&&this.version++}setBuffer(et){return this.buffer=et,this}setType(et,rt){return this.type=et,this.elementSize=rt,this}setItemSize(et){return this.itemSize=et,this}setCount(et){return this.count=et,this}}class Raycaster{constructor(et,rt,nt=0,it=1/0){this.ray=new Ray(et,rt),this.near=nt,this.far=it,this.camera=null,this.layers=new Layers,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(et,rt){this.ray.set(et,rt)}setFromCamera(et,rt){rt.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(rt.matrixWorld),this.ray.direction.set(et.x,et.y,.5).unproject(rt).sub(this.ray.origin).normalize(),this.camera=rt):rt.isOrthographicCamera?(this.ray.origin.set(et.x,et.y,(rt.near+rt.far)/(rt.near-rt.far)).unproject(rt),this.ray.direction.set(0,0,-1).transformDirection(rt.matrixWorld),this.camera=rt):console.error("THREE.Raycaster: Unsupported camera type: "+rt.type)}intersectObject(et,rt=!0,nt=[]){return intersectObject(et,this,nt,rt),nt.sort(ascSort),nt}intersectObjects(et,rt=!0,nt=[]){for(let it=0,ot=et.length;it<ot;it++)intersectObject(et[it],this,nt,rt);return nt.sort(ascSort),nt}}function ascSort(tt,et){return tt.distance-et.distance}function intersectObject(tt,et,rt,nt){if(tt.layers.test(et.layers)&&tt.raycast(et,rt),nt===!0){const it=tt.children;for(let ot=0,at=it.length;ot<at;ot++)intersectObject(it[ot],et,rt,!0)}}class Spherical{constructor(et=1,rt=0,nt=0){return this.radius=et,this.phi=rt,this.theta=nt,this}set(et,rt,nt){return this.radius=et,this.phi=rt,this.theta=nt,this}copy(et){return this.radius=et.radius,this.phi=et.phi,this.theta=et.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(et){return this.setFromCartesianCoords(et.x,et.y,et.z)}setFromCartesianCoords(et,rt,nt){return this.radius=Math.sqrt(et*et+rt*rt+nt*nt),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(et,nt),this.phi=Math.acos(clamp$1(rt/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Cylindrical{constructor(et=1,rt=0,nt=0){return this.radius=et,this.theta=rt,this.y=nt,this}set(et,rt,nt){return this.radius=et,this.theta=rt,this.y=nt,this}copy(et){return this.radius=et.radius,this.theta=et.theta,this.y=et.y,this}setFromVector3(et){return this.setFromCartesianCoords(et.x,et.y,et.z)}setFromCartesianCoords(et,rt,nt){return this.radius=Math.sqrt(et*et+nt*nt),this.theta=Math.atan2(et,nt),this.y=rt,this}clone(){return new this.constructor().copy(this)}}const _vector$4=new Vector2;class Box2{constructor(et=new Vector2(1/0,1/0),rt=new Vector2(-1/0,-1/0)){this.isBox2=!0,this.min=et,this.max=rt}set(et,rt){return this.min.copy(et),this.max.copy(rt),this}setFromPoints(et){this.makeEmpty();for(let rt=0,nt=et.length;rt<nt;rt++)this.expandByPoint(et[rt]);return this}setFromCenterAndSize(et,rt){const nt=_vector$4.copy(rt).multiplyScalar(.5);return this.min.copy(et).sub(nt),this.max.copy(et).add(nt),this}clone(){return new this.constructor().copy(this)}copy(et){return this.min.copy(et.min),this.max.copy(et.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(et){return this.isEmpty()?et.set(0,0):et.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(et){return this.isEmpty()?et.set(0,0):et.subVectors(this.max,this.min)}expandByPoint(et){return this.min.min(et),this.max.max(et),this}expandByVector(et){return this.min.sub(et),this.max.add(et),this}expandByScalar(et){return this.min.addScalar(-et),this.max.addScalar(et),this}containsPoint(et){return!(et.x<this.min.x||et.x>this.max.x||et.y<this.min.y||et.y>this.max.y)}containsBox(et){return this.min.x<=et.min.x&&et.max.x<=this.max.x&&this.min.y<=et.min.y&&et.max.y<=this.max.y}getParameter(et,rt){return rt.set((et.x-this.min.x)/(this.max.x-this.min.x),(et.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(et){return!(et.max.x<this.min.x||et.min.x>this.max.x||et.max.y<this.min.y||et.min.y>this.max.y)}clampPoint(et,rt){return rt.copy(et).clamp(this.min,this.max)}distanceToPoint(et){return _vector$4.copy(et).clamp(this.min,this.max).sub(et).length()}intersect(et){return this.min.max(et.min),this.max.min(et.max),this}union(et){return this.min.min(et.min),this.max.max(et.max),this}translate(et){return this.min.add(et),this.max.add(et),this}equals(et){return et.min.equals(this.min)&&et.max.equals(this.max)}}const _startP=new Vector3,_startEnd=new Vector3;class Line3{constructor(et=new Vector3,rt=new Vector3){this.start=et,this.end=rt}set(et,rt){return this.start.copy(et),this.end.copy(rt),this}copy(et){return this.start.copy(et.start),this.end.copy(et.end),this}getCenter(et){return et.addVectors(this.start,this.end).multiplyScalar(.5)}delta(et){return et.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(et,rt){return this.delta(rt).multiplyScalar(et).add(this.start)}closestPointToPointParameter(et,rt){_startP.subVectors(et,this.start),_startEnd.subVectors(this.end,this.start);const nt=_startEnd.dot(_startEnd);let ot=_startEnd.dot(_startP)/nt;return rt&&(ot=clamp$1(ot,0,1)),ot}closestPointToPoint(et,rt,nt){const it=this.closestPointToPointParameter(et,rt);return this.delta(nt).multiplyScalar(it).add(this.start)}applyMatrix4(et){return this.start.applyMatrix4(et),this.end.applyMatrix4(et),this}equals(et){return et.start.equals(this.start)&&et.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const _vector$3=new Vector3;class SpotLightHelper extends Object3D{constructor(et,rt){super(),this.light=et,this.matrix=et.matrixWorld,this.matrixAutoUpdate=!1,this.color=rt,this.type="SpotLightHelper";const nt=new BufferGeometry,it=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let at=0,st=1,lt=32;at<lt;at++,st++){const ct=at/lt*Math.PI*2,ut=st/lt*Math.PI*2;it.push(Math.cos(ct),Math.sin(ct),1,Math.cos(ut),Math.sin(ut),1)}nt.setAttribute("position",new Float32BufferAttribute(it,3));const ot=new LineBasicMaterial({fog:!1,toneMapped:!1});this.cone=new LineSegments(nt,ot),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const et=this.light.distance?this.light.distance:1e3,rt=et*Math.tan(this.light.angle);this.cone.scale.set(rt,rt,et),_vector$3.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(_vector$3),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const _vector$2=new Vector3,_boneMatrix=new Matrix4,_matrixWorldInv=new Matrix4;class SkeletonHelper extends LineSegments{constructor(et){const rt=getBoneList(et),nt=new BufferGeometry,it=[],ot=[],at=new Color(0,0,1),st=new Color(0,1,0);for(let ct=0;ct<rt.length;ct++){const ut=rt[ct];ut.parent&&ut.parent.isBone&&(it.push(0,0,0),it.push(0,0,0),ot.push(at.r,at.g,at.b),ot.push(st.r,st.g,st.b))}nt.setAttribute("position",new Float32BufferAttribute(it,3)),nt.setAttribute("color",new Float32BufferAttribute(ot,3));const lt=new LineBasicMaterial({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(nt,lt),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=et,this.bones=rt,this.matrix=et.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(et){const rt=this.bones,nt=this.geometry,it=nt.getAttribute("position");_matrixWorldInv.copy(this.root.matrixWorld).invert();for(let ot=0,at=0;ot<rt.length;ot++){const st=rt[ot];st.parent&&st.parent.isBone&&(_boneMatrix.multiplyMatrices(_matrixWorldInv,st.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),it.setXYZ(at,_vector$2.x,_vector$2.y,_vector$2.z),_boneMatrix.multiplyMatrices(_matrixWorldInv,st.parent.matrixWorld),_vector$2.setFromMatrixPosition(_boneMatrix),it.setXYZ(at+1,_vector$2.x,_vector$2.y,_vector$2.z),at+=2)}nt.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(et)}dispose(){this.geometry.dispose(),this.material.dispose()}}function getBoneList(tt){const et=[];tt.isBone===!0&&et.push(tt);for(let rt=0;rt<tt.children.length;rt++)et.push.apply(et,getBoneList(tt.children[rt]));return et}class PointLightHelper extends Mesh{constructor(et,rt,nt){const it=new SphereGeometry(rt,4,2),ot=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1});super(it,ot),this.light=et,this.color=nt,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const _vector$1=new Vector3,_color1=new Color,_color2=new Color;class HemisphereLightHelper extends Object3D{constructor(et,rt,nt){super(),this.light=et,this.matrix=et.matrixWorld,this.matrixAutoUpdate=!1,this.color=nt,this.type="HemisphereLightHelper";const it=new OctahedronGeometry(rt);it.rotateY(Math.PI*.5),this.material=new MeshBasicMaterial({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const ot=it.getAttribute("position"),at=new Float32Array(ot.count*3);it.setAttribute("color",new BufferAttribute(at,3)),this.add(new Mesh(it,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const et=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const rt=et.geometry.getAttribute("color");_color1.copy(this.light.color),_color2.copy(this.light.groundColor);for(let nt=0,it=rt.count;nt<it;nt++){const ot=nt<it/2?_color1:_color2;rt.setXYZ(nt,ot.r,ot.g,ot.b)}rt.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),et.lookAt(_vector$1.setFromMatrixPosition(this.light.matrixWorld).negate())}}class GridHelper extends LineSegments{constructor(et=10,rt=10,nt=4473924,it=8947848){nt=new Color(nt),it=new Color(it);const ot=rt/2,at=et/rt,st=et/2,lt=[],ct=[];for(let ft=0,pt=0,mt=-st;ft<=rt;ft++,mt+=at){lt.push(-st,0,mt,st,0,mt),lt.push(mt,0,-st,mt,0,st);const ht=ft===ot?nt:it;ht.toArray(ct,pt),pt+=3,ht.toArray(ct,pt),pt+=3,ht.toArray(ct,pt),pt+=3,ht.toArray(ct,pt),pt+=3}const ut=new BufferGeometry;ut.setAttribute("position",new Float32BufferAttribute(lt,3)),ut.setAttribute("color",new Float32BufferAttribute(ct,3));const dt=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ut,dt),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class PolarGridHelper extends LineSegments{constructor(et=10,rt=16,nt=8,it=64,ot=4473924,at=8947848){ot=new Color(ot),at=new Color(at);const st=[],lt=[];if(rt>1)for(let dt=0;dt<rt;dt++){const ft=dt/rt*(Math.PI*2),pt=Math.sin(ft)*et,mt=Math.cos(ft)*et;st.push(0,0,0),st.push(pt,0,mt);const ht=dt&1?ot:at;lt.push(ht.r,ht.g,ht.b),lt.push(ht.r,ht.g,ht.b)}for(let dt=0;dt<nt;dt++){const ft=dt&1?ot:at,pt=et-et/nt*dt;for(let mt=0;mt<it;mt++){let ht=mt/it*(Math.PI*2),gt=Math.sin(ht)*pt,vt=Math.cos(ht)*pt;st.push(gt,0,vt),lt.push(ft.r,ft.g,ft.b),ht=(mt+1)/it*(Math.PI*2),gt=Math.sin(ht)*pt,vt=Math.cos(ht)*pt,st.push(gt,0,vt),lt.push(ft.r,ft.g,ft.b)}}const ct=new BufferGeometry;ct.setAttribute("position",new Float32BufferAttribute(st,3)),ct.setAttribute("color",new Float32BufferAttribute(lt,3));const ut=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(ct,ut),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const _v1=new Vector3,_v2=new Vector3,_v3=new Vector3;class DirectionalLightHelper extends Object3D{constructor(et,rt,nt){super(),this.light=et,this.matrix=et.matrixWorld,this.matrixAutoUpdate=!1,this.color=nt,this.type="DirectionalLightHelper",rt===void 0&&(rt=1);let it=new BufferGeometry;it.setAttribute("position",new Float32BufferAttribute([-rt,rt,0,rt,rt,0,rt,-rt,0,-rt,-rt,0,-rt,rt,0],3));const ot=new LineBasicMaterial({fog:!1,toneMapped:!1});this.lightPlane=new Line(it,ot),this.add(this.lightPlane),it=new BufferGeometry,it.setAttribute("position",new Float32BufferAttribute([0,0,0,0,0,1],3)),this.targetLine=new Line(it,ot),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),_v1.setFromMatrixPosition(this.light.matrixWorld),_v2.setFromMatrixPosition(this.light.target.matrixWorld),_v3.subVectors(_v2,_v1),this.lightPlane.lookAt(_v2),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(_v2),this.targetLine.scale.z=_v3.length()}}const _vector=new Vector3,_camera=new Camera;class CameraHelper extends LineSegments{constructor(et){const rt=new BufferGeometry,nt=new LineBasicMaterial({color:16777215,vertexColors:!0,toneMapped:!1}),it=[],ot=[],at={};st("n1","n2"),st("n2","n4"),st("n4","n3"),st("n3","n1"),st("f1","f2"),st("f2","f4"),st("f4","f3"),st("f3","f1"),st("n1","f1"),st("n2","f2"),st("n3","f3"),st("n4","f4"),st("p","n1"),st("p","n2"),st("p","n3"),st("p","n4"),st("u1","u2"),st("u2","u3"),st("u3","u1"),st("c","t"),st("p","c"),st("cn1","cn2"),st("cn3","cn4"),st("cf1","cf2"),st("cf3","cf4");function st(mt,ht){lt(mt),lt(ht)}function lt(mt){it.push(0,0,0),ot.push(0,0,0),at[mt]===void 0&&(at[mt]=[]),at[mt].push(it.length/3-1)}rt.setAttribute("position",new Float32BufferAttribute(it,3)),rt.setAttribute("color",new Float32BufferAttribute(ot,3)),super(rt,nt),this.type="CameraHelper",this.camera=et,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=et.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=at,this.update();const ct=new Color(16755200),ut=new Color(16711680),dt=new Color(43775),ft=new Color(16777215),pt=new Color(3355443);this.setColors(ct,ut,dt,ft,pt)}setColors(et,rt,nt,it,ot){const st=this.geometry.getAttribute("color");st.setXYZ(0,et.r,et.g,et.b),st.setXYZ(1,et.r,et.g,et.b),st.setXYZ(2,et.r,et.g,et.b),st.setXYZ(3,et.r,et.g,et.b),st.setXYZ(4,et.r,et.g,et.b),st.setXYZ(5,et.r,et.g,et.b),st.setXYZ(6,et.r,et.g,et.b),st.setXYZ(7,et.r,et.g,et.b),st.setXYZ(8,et.r,et.g,et.b),st.setXYZ(9,et.r,et.g,et.b),st.setXYZ(10,et.r,et.g,et.b),st.setXYZ(11,et.r,et.g,et.b),st.setXYZ(12,et.r,et.g,et.b),st.setXYZ(13,et.r,et.g,et.b),st.setXYZ(14,et.r,et.g,et.b),st.setXYZ(15,et.r,et.g,et.b),st.setXYZ(16,et.r,et.g,et.b),st.setXYZ(17,et.r,et.g,et.b),st.setXYZ(18,et.r,et.g,et.b),st.setXYZ(19,et.r,et.g,et.b),st.setXYZ(20,et.r,et.g,et.b),st.setXYZ(21,et.r,et.g,et.b),st.setXYZ(22,et.r,et.g,et.b),st.setXYZ(23,et.r,et.g,et.b),st.setXYZ(24,rt.r,rt.g,rt.b),st.setXYZ(25,rt.r,rt.g,rt.b),st.setXYZ(26,rt.r,rt.g,rt.b),st.setXYZ(27,rt.r,rt.g,rt.b),st.setXYZ(28,rt.r,rt.g,rt.b),st.setXYZ(29,rt.r,rt.g,rt.b),st.setXYZ(30,rt.r,rt.g,rt.b),st.setXYZ(31,rt.r,rt.g,rt.b),st.setXYZ(32,nt.r,nt.g,nt.b),st.setXYZ(33,nt.r,nt.g,nt.b),st.setXYZ(34,nt.r,nt.g,nt.b),st.setXYZ(35,nt.r,nt.g,nt.b),st.setXYZ(36,nt.r,nt.g,nt.b),st.setXYZ(37,nt.r,nt.g,nt.b),st.setXYZ(38,it.r,it.g,it.b),st.setXYZ(39,it.r,it.g,it.b),st.setXYZ(40,ot.r,ot.g,ot.b),st.setXYZ(41,ot.r,ot.g,ot.b),st.setXYZ(42,ot.r,ot.g,ot.b),st.setXYZ(43,ot.r,ot.g,ot.b),st.setXYZ(44,ot.r,ot.g,ot.b),st.setXYZ(45,ot.r,ot.g,ot.b),st.setXYZ(46,ot.r,ot.g,ot.b),st.setXYZ(47,ot.r,ot.g,ot.b),st.setXYZ(48,ot.r,ot.g,ot.b),st.setXYZ(49,ot.r,ot.g,ot.b),st.needsUpdate=!0}update(){const et=this.geometry,rt=this.pointMap,nt=1,it=1;_camera.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),setPoint("c",rt,et,_camera,0,0,-1),setPoint("t",rt,et,_camera,0,0,1),setPoint("n1",rt,et,_camera,-nt,-it,-1),setPoint("n2",rt,et,_camera,nt,-it,-1),setPoint("n3",rt,et,_camera,-nt,it,-1),setPoint("n4",rt,et,_camera,nt,it,-1),setPoint("f1",rt,et,_camera,-nt,-it,1),setPoint("f2",rt,et,_camera,nt,-it,1),setPoint("f3",rt,et,_camera,-nt,it,1),setPoint("f4",rt,et,_camera,nt,it,1),setPoint("u1",rt,et,_camera,nt*.7,it*1.1,-1),setPoint("u2",rt,et,_camera,-nt*.7,it*1.1,-1),setPoint("u3",rt,et,_camera,0,it*2,-1),setPoint("cf1",rt,et,_camera,-nt,0,1),setPoint("cf2",rt,et,_camera,nt,0,1),setPoint("cf3",rt,et,_camera,0,-it,1),setPoint("cf4",rt,et,_camera,0,it,1),setPoint("cn1",rt,et,_camera,-nt,0,-1),setPoint("cn2",rt,et,_camera,nt,0,-1),setPoint("cn3",rt,et,_camera,0,-it,-1),setPoint("cn4",rt,et,_camera,0,it,-1),et.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function setPoint(tt,et,rt,nt,it,ot,at){_vector.set(it,ot,at).unproject(nt);const st=et[tt];if(st!==void 0){const lt=rt.getAttribute("position");for(let ct=0,ut=st.length;ct<ut;ct++)lt.setXYZ(st[ct],_vector.x,_vector.y,_vector.z)}}const _box=new Box3;class BoxHelper extends LineSegments{constructor(et,rt=16776960){const nt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),it=new Float32Array(8*3),ot=new BufferGeometry;ot.setIndex(new BufferAttribute(nt,1)),ot.setAttribute("position",new BufferAttribute(it,3)),super(ot,new LineBasicMaterial({color:rt,toneMapped:!1})),this.object=et,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(et){if(et!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&_box.setFromObject(this.object),_box.isEmpty())return;const rt=_box.min,nt=_box.max,it=this.geometry.attributes.position,ot=it.array;ot[0]=nt.x,ot[1]=nt.y,ot[2]=nt.z,ot[3]=rt.x,ot[4]=nt.y,ot[5]=nt.z,ot[6]=rt.x,ot[7]=rt.y,ot[8]=nt.z,ot[9]=nt.x,ot[10]=rt.y,ot[11]=nt.z,ot[12]=nt.x,ot[13]=nt.y,ot[14]=rt.z,ot[15]=rt.x,ot[16]=nt.y,ot[17]=rt.z,ot[18]=rt.x,ot[19]=rt.y,ot[20]=rt.z,ot[21]=nt.x,ot[22]=rt.y,ot[23]=rt.z,it.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(et){return this.object=et,this.update(),this}copy(et,rt){return super.copy(et,rt),this.object=et.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class Box3Helper extends LineSegments{constructor(et,rt=16776960){const nt=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),it=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],ot=new BufferGeometry;ot.setIndex(new BufferAttribute(nt,1)),ot.setAttribute("position",new Float32BufferAttribute(it,3)),super(ot,new LineBasicMaterial({color:rt,toneMapped:!1})),this.box=et,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(et){const rt=this.box;rt.isEmpty()||(rt.getCenter(this.position),rt.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(et))}dispose(){this.geometry.dispose(),this.material.dispose()}}class PlaneHelper extends Line{constructor(et,rt=1,nt=16776960){const it=nt,ot=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],at=new BufferGeometry;at.setAttribute("position",new Float32BufferAttribute(ot,3)),at.computeBoundingSphere(),super(at,new LineBasicMaterial({color:it,toneMapped:!1})),this.type="PlaneHelper",this.plane=et,this.size=rt;const st=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],lt=new BufferGeometry;lt.setAttribute("position",new Float32BufferAttribute(st,3)),lt.computeBoundingSphere(),this.add(new Mesh(lt,new MeshBasicMaterial({color:it,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(et){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(et)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const _axis=new Vector3;let _lineGeometry,_coneGeometry;class ArrowHelper extends Object3D{constructor(et=new Vector3(0,0,1),rt=new Vector3(0,0,0),nt=1,it=16776960,ot=nt*.2,at=ot*.2){super(),this.type="ArrowHelper",_lineGeometry===void 0&&(_lineGeometry=new BufferGeometry,_lineGeometry.setAttribute("position",new Float32BufferAttribute([0,0,0,0,1,0],3)),_coneGeometry=new CylinderGeometry(0,.5,1,5,1),_coneGeometry.translate(0,-.5,0)),this.position.copy(rt),this.line=new Line(_lineGeometry,new LineBasicMaterial({color:it,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new Mesh(_coneGeometry,new MeshBasicMaterial({color:it,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(et),this.setLength(nt,ot,at)}setDirection(et){if(et.y>.99999)this.quaternion.set(0,0,0,1);else if(et.y<-.99999)this.quaternion.set(1,0,0,0);else{_axis.set(et.z,0,-et.x).normalize();const rt=Math.acos(et.y);this.quaternion.setFromAxisAngle(_axis,rt)}}setLength(et,rt=et*.2,nt=rt*.2){this.line.scale.set(1,Math.max(1e-4,et-rt),1),this.line.updateMatrix(),this.cone.scale.set(nt,rt,nt),this.cone.position.y=et,this.cone.updateMatrix()}setColor(et){this.line.material.color.set(et),this.cone.material.color.set(et)}copy(et){return super.copy(et,!1),this.line.copy(et.line),this.cone.copy(et.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class AxesHelper extends LineSegments{constructor(et=1){const rt=[0,0,0,et,0,0,0,0,0,0,et,0,0,0,0,0,0,et],nt=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],it=new BufferGeometry;it.setAttribute("position",new Float32BufferAttribute(rt,3)),it.setAttribute("color",new Float32BufferAttribute(nt,3));const ot=new LineBasicMaterial({vertexColors:!0,toneMapped:!1});super(it,ot),this.type="AxesHelper"}setColors(et,rt,nt){const it=new Color,ot=this.geometry.attributes.color.array;return it.set(et),it.toArray(ot,0),it.toArray(ot,3),it.set(rt),it.toArray(ot,6),it.toArray(ot,9),it.set(nt),it.toArray(ot,12),it.toArray(ot,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class ShapePath{constructor(){this.type="ShapePath",this.color=new Color,this.subPaths=[],this.currentPath=null}moveTo(et,rt){return this.currentPath=new Path,this.subPaths.push(this.currentPath),this.currentPath.moveTo(et,rt),this}lineTo(et,rt){return this.currentPath.lineTo(et,rt),this}quadraticCurveTo(et,rt,nt,it){return this.currentPath.quadraticCurveTo(et,rt,nt,it),this}bezierCurveTo(et,rt,nt,it,ot,at){return this.currentPath.bezierCurveTo(et,rt,nt,it,ot,at),this}splineThru(et){return this.currentPath.splineThru(et),this}toShapes(et){function rt(vt){const yt=[];for(let bt=0,xt=vt.length;bt<xt;bt++){const $t=vt[bt],Tt=new Shape;Tt.curves=$t.curves,yt.push(Tt)}return yt}function nt(vt,yt){const bt=yt.length;let xt=!1;for(let $t=bt-1,Tt=0;Tt<bt;$t=Tt++){let wt=yt[$t],At=yt[Tt],Rt=At.x-wt.x,It=At.y-wt.y;if(Math.abs(It)>Number.EPSILON){if(It<0&&(wt=yt[Tt],Rt=-Rt,At=yt[$t],It=-It),vt.y<wt.y||vt.y>At.y)continue;if(vt.y===wt.y){if(vt.x===wt.x)return!0}else{const Lt=It*(vt.x-wt.x)-Rt*(vt.y-wt.y);if(Lt===0)return!0;if(Lt<0)continue;xt=!xt}}else{if(vt.y!==wt.y)continue;if(At.x<=vt.x&&vt.x<=wt.x||wt.x<=vt.x&&vt.x<=At.x)return!0}}return xt}const it=ShapeUtils.isClockWise,ot=this.subPaths;if(ot.length===0)return[];let at,st,lt;const ct=[];if(ot.length===1)return st=ot[0],lt=new Shape,lt.curves=st.curves,ct.push(lt),ct;let ut=!it(ot[0].getPoints());ut=et?!ut:ut;const dt=[],ft=[];let pt=[],mt=0,ht;ft[mt]=void 0,pt[mt]=[];for(let vt=0,yt=ot.length;vt<yt;vt++)st=ot[vt],ht=st.getPoints(),at=it(ht),at=et?!at:at,at?(!ut&&ft[mt]&&mt++,ft[mt]={s:new Shape,p:ht},ft[mt].s.curves=st.curves,ut&&mt++,pt[mt]=[]):pt[mt].push({h:st,p:ht[0]});if(!ft[0])return rt(ot);if(ft.length>1){let vt=!1,yt=0;for(let bt=0,xt=ft.length;bt<xt;bt++)dt[bt]=[];for(let bt=0,xt=ft.length;bt<xt;bt++){const $t=pt[bt];for(let Tt=0;Tt<$t.length;Tt++){const wt=$t[Tt];let At=!0;for(let Rt=0;Rt<ft.length;Rt++)nt(wt.p,ft[Rt].p)&&(bt!==Rt&&yt++,At?(At=!1,dt[Rt].push(wt)):vt=!0);At&&dt[bt].push(wt)}}yt>0&&vt===!1&&(pt=dt)}let gt;for(let vt=0,yt=ft.length;vt<yt;vt++){lt=ft[vt].s,ct.push(lt),gt=pt[vt];for(let bt=0,xt=gt.length;bt<xt;bt++)lt.holes.push(gt[bt].h)}return ct}}const _tables=_generateTables();function _generateTables(){const tt=new ArrayBuffer(4),et=new Float32Array(tt),rt=new Uint32Array(tt),nt=new Uint32Array(512),it=new Uint32Array(512);for(let lt=0;lt<256;++lt){const ct=lt-127;ct<-27?(nt[lt]=0,nt[lt|256]=32768,it[lt]=24,it[lt|256]=24):ct<-14?(nt[lt]=1024>>-ct-14,nt[lt|256]=1024>>-ct-14|32768,it[lt]=-ct-1,it[lt|256]=-ct-1):ct<=15?(nt[lt]=ct+15<<10,nt[lt|256]=ct+15<<10|32768,it[lt]=13,it[lt|256]=13):ct<128?(nt[lt]=31744,nt[lt|256]=64512,it[lt]=24,it[lt|256]=24):(nt[lt]=31744,nt[lt|256]=64512,it[lt]=13,it[lt|256]=13)}const ot=new Uint32Array(2048),at=new Uint32Array(64),st=new Uint32Array(64);for(let lt=1;lt<1024;++lt){let ct=lt<<13,ut=0;for(;!(ct&8388608);)ct<<=1,ut-=8388608;ct&=-8388609,ut+=947912704,ot[lt]=ct|ut}for(let lt=1024;lt<2048;++lt)ot[lt]=939524096+(lt-1024<<13);for(let lt=1;lt<31;++lt)at[lt]=lt<<23;at[31]=1199570944,at[32]=2147483648;for(let lt=33;lt<63;++lt)at[lt]=2147483648+(lt-32<<23);at[63]=3347054592;for(let lt=1;lt<64;++lt)lt!==32&&(st[lt]=1024);return{floatView:et,uint32View:rt,baseTable:nt,shiftTable:it,mantissaTable:ot,exponentTable:at,offsetTable:st}}function toHalfFloat(tt){Math.abs(tt)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),tt=clamp$1(tt,-65504,65504),_tables.floatView[0]=tt;const et=_tables.uint32View[0],rt=et>>23&511;return _tables.baseTable[rt]+((et&8388607)>>_tables.shiftTable[rt])}function fromHalfFloat(tt){const et=tt>>10;return _tables.uint32View[0]=_tables.mantissaTable[_tables.offsetTable[et]+(tt&1023)]+_tables.exponentTable[et],_tables.floatView[0]}var DataUtils=Object.freeze({__proto__:null,toHalfFloat,fromHalfFloat});function ImmediateRenderObject(){console.error("THREE.ImmediateRenderObject has been removed.")}class WebGLMultisampleRenderTarget extends WebGLRenderTarget{constructor(et,rt,nt){console.error('THREE.WebGLMultisampleRenderTarget has been removed. Use a normal render target and set the "samples" property to greater 0 to enable multisampling.'),super(et,rt,nt),this.samples=4}}class DataTexture2DArray extends DataArrayTexture{constructor(et,rt,nt,it){console.warn("THREE.DataTexture2DArray has been renamed to DataArrayTexture."),super(et,rt,nt,it)}}class DataTexture3D extends Data3DTexture{constructor(et,rt,nt,it){console.warn("THREE.DataTexture3D has been renamed to Data3DTexture."),super(et,rt,nt,it)}}class BoxBufferGeometry extends BoxGeometry{constructor(et,rt,nt,it,ot,at){console.warn("THREE.BoxBufferGeometry has been renamed to THREE.BoxGeometry."),super(et,rt,nt,it,ot,at)}}class CapsuleBufferGeometry extends CapsuleGeometry{constructor(et,rt,nt,it){console.warn("THREE.CapsuleBufferGeometry has been renamed to THREE.CapsuleGeometry."),super(et,rt,nt,it)}}class CircleBufferGeometry extends CircleGeometry{constructor(et,rt,nt,it){console.warn("THREE.CircleBufferGeometry has been renamed to THREE.CircleGeometry."),super(et,rt,nt,it)}}class ConeBufferGeometry extends ConeGeometry{constructor(et,rt,nt,it,ot,at,st){console.warn("THREE.ConeBufferGeometry has been renamed to THREE.ConeGeometry."),super(et,rt,nt,it,ot,at,st)}}class CylinderBufferGeometry extends CylinderGeometry{constructor(et,rt,nt,it,ot,at,st,lt){console.warn("THREE.CylinderBufferGeometry has been renamed to THREE.CylinderGeometry."),super(et,rt,nt,it,ot,at,st,lt)}}class DodecahedronBufferGeometry extends DodecahedronGeometry{constructor(et,rt){console.warn("THREE.DodecahedronBufferGeometry has been renamed to THREE.DodecahedronGeometry."),super(et,rt)}}class ExtrudeBufferGeometry extends ExtrudeGeometry{constructor(et,rt){console.warn("THREE.ExtrudeBufferGeometry has been renamed to THREE.ExtrudeGeometry."),super(et,rt)}}class IcosahedronBufferGeometry extends IcosahedronGeometry{constructor(et,rt){console.warn("THREE.IcosahedronBufferGeometry has been renamed to THREE.IcosahedronGeometry."),super(et,rt)}}class LatheBufferGeometry extends LatheGeometry{constructor(et,rt,nt,it){console.warn("THREE.LatheBufferGeometry has been renamed to THREE.LatheGeometry."),super(et,rt,nt,it)}}class OctahedronBufferGeometry extends OctahedronGeometry{constructor(et,rt){console.warn("THREE.OctahedronBufferGeometry has been renamed to THREE.OctahedronGeometry."),super(et,rt)}}class PlaneBufferGeometry extends PlaneGeometry{constructor(et,rt,nt,it){console.warn("THREE.PlaneBufferGeometry has been renamed to THREE.PlaneGeometry."),super(et,rt,nt,it)}}class PolyhedronBufferGeometry extends PolyhedronGeometry{constructor(et,rt,nt,it){console.warn("THREE.PolyhedronBufferGeometry has been renamed to THREE.PolyhedronGeometry."),super(et,rt,nt,it)}}class RingBufferGeometry extends RingGeometry{constructor(et,rt,nt,it,ot,at){console.warn("THREE.RingBufferGeometry has been renamed to THREE.RingGeometry."),super(et,rt,nt,it,ot,at)}}class ShapeBufferGeometry extends ShapeGeometry{constructor(et,rt){console.warn("THREE.ShapeBufferGeometry has been renamed to THREE.ShapeGeometry."),super(et,rt)}}class SphereBufferGeometry extends SphereGeometry{constructor(et,rt,nt,it,ot,at,st){console.warn("THREE.SphereBufferGeometry has been renamed to THREE.SphereGeometry."),super(et,rt,nt,it,ot,at,st)}}class TetrahedronBufferGeometry extends TetrahedronGeometry{constructor(et,rt){console.warn("THREE.TetrahedronBufferGeometry has been renamed to THREE.TetrahedronGeometry."),super(et,rt)}}class TorusBufferGeometry extends TorusGeometry{constructor(et,rt,nt,it,ot){console.warn("THREE.TorusBufferGeometry has been renamed to THREE.TorusGeometry."),super(et,rt,nt,it,ot)}}class TorusKnotBufferGeometry extends TorusKnotGeometry{constructor(et,rt,nt,it,ot,at){console.warn("THREE.TorusKnotBufferGeometry has been renamed to THREE.TorusKnotGeometry."),super(et,rt,nt,it,ot,at)}}class TubeBufferGeometry extends TubeGeometry{constructor(et,rt,nt,it,ot){console.warn("THREE.TubeBufferGeometry has been renamed to THREE.TubeGeometry."),super(et,rt,nt,it,ot)}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:REVISION}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=REVISION);const THREE=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping,AddEquation,AddOperation,AdditiveAnimationBlendMode,AdditiveBlending,AlphaFormat,AlwaysDepth,AlwaysStencilFunc,AmbientLight,AmbientLightProbe,AnimationClip,AnimationLoader,AnimationMixer,AnimationObjectGroup,AnimationUtils,ArcCurve,ArrayCamera,ArrowHelper,Audio:Audio$1,AudioAnalyser,AudioContext:AudioContext$1,AudioListener,AudioLoader,AxesHelper,BackSide,BasicDepthPacking,BasicShadowMap,Bone,BooleanKeyframeTrack,Box2,Box3,Box3Helper,BoxBufferGeometry,BoxGeometry,BoxHelper,BufferAttribute,BufferGeometry,BufferGeometryLoader,ByteType,Cache,Camera,CameraHelper,CanvasTexture,CapsuleBufferGeometry,CapsuleGeometry,CatmullRomCurve3,CineonToneMapping,CircleBufferGeometry,CircleGeometry,ClampToEdgeWrapping,Clock,Color,ColorKeyframeTrack,ColorManagement,CompressedArrayTexture,CompressedTexture,CompressedTextureLoader,ConeBufferGeometry,ConeGeometry,CubeCamera,CubeReflectionMapping,CubeRefractionMapping,CubeTexture,CubeTextureLoader,CubeUVReflectionMapping,CubicBezierCurve,CubicBezierCurve3,CubicInterpolant,CullFaceBack,CullFaceFront,CullFaceFrontBack,CullFaceNone,Curve,CurvePath,CustomBlending,CustomToneMapping,CylinderBufferGeometry,CylinderGeometry,Cylindrical,Data3DTexture,DataArrayTexture,DataTexture,DataTexture2DArray,DataTexture3D,DataTextureLoader,DataUtils,DecrementStencilOp,DecrementWrapStencilOp,DefaultLoadingManager,DepthFormat,DepthStencilFormat,DepthTexture,DirectionalLight,DirectionalLightHelper,DiscreteInterpolant,DodecahedronBufferGeometry,DodecahedronGeometry,DoubleSide,DstAlphaFactor,DstColorFactor,DynamicCopyUsage,DynamicDrawUsage,DynamicReadUsage,EdgesGeometry,EllipseCurve,EqualDepth,EqualStencilFunc,EquirectangularReflectionMapping,EquirectangularRefractionMapping,Euler,EventDispatcher,ExtrudeBufferGeometry,ExtrudeGeometry,FileLoader,Float16BufferAttribute,Float32BufferAttribute,Float64BufferAttribute,FloatType,Fog,FogExp2,FramebufferTexture,FrontSide,Frustum,GLBufferAttribute,GLSL1,GLSL3,GreaterDepth,GreaterEqualDepth,GreaterEqualStencilFunc,GreaterStencilFunc,GridHelper,Group:Group$2,HalfFloatType,HemisphereLight,HemisphereLightHelper,HemisphereLightProbe,IcosahedronBufferGeometry,IcosahedronGeometry,ImageBitmapLoader,ImageLoader,ImageUtils,ImmediateRenderObject,IncrementStencilOp,IncrementWrapStencilOp,InstancedBufferAttribute,InstancedBufferGeometry,InstancedInterleavedBuffer,InstancedMesh,Int16BufferAttribute,Int32BufferAttribute,Int8BufferAttribute,IntType,InterleavedBuffer,InterleavedBufferAttribute,Interpolant,InterpolateDiscrete,InterpolateLinear,InterpolateSmooth,InvertStencilOp,KeepStencilOp,KeyframeTrack,LOD,LatheBufferGeometry,LatheGeometry,Layers,LessDepth,LessEqualDepth,LessEqualStencilFunc,LessStencilFunc,Light:Light$1,LightProbe,Line,Line3,LineBasicMaterial,LineCurve,LineCurve3,LineDashedMaterial,LineLoop,LineSegments,LinearEncoding,LinearFilter,LinearInterpolant,LinearMipMapLinearFilter,LinearMipMapNearestFilter,LinearMipmapLinearFilter,LinearMipmapNearestFilter,LinearSRGBColorSpace,LinearToneMapping,Loader:Loader$1,LoaderUtils,LoadingManager,LoopOnce,LoopPingPong,LoopRepeat,LuminanceAlphaFormat,LuminanceFormat,MOUSE,Material:Material$2,MaterialLoader,MathUtils,Matrix3,Matrix4,MaxEquation,Mesh,MeshBasicMaterial,MeshDepthMaterial,MeshDistanceMaterial,MeshLambertMaterial,MeshMatcapMaterial,MeshNormalMaterial,MeshPhongMaterial,MeshPhysicalMaterial,MeshStandardMaterial,MeshToonMaterial,MinEquation,MirroredRepeatWrapping,MixOperation,MultiplyBlending,MultiplyOperation,NearestFilter,NearestMipMapLinearFilter,NearestMipMapNearestFilter,NearestMipmapLinearFilter,NearestMipmapNearestFilter,NeverDepth,NeverStencilFunc,NoBlending,NoColorSpace,NoToneMapping,NormalAnimationBlendMode,NormalBlending,NotEqualDepth,NotEqualStencilFunc,NumberKeyframeTrack,Object3D,ObjectLoader,ObjectSpaceNormalMap,OctahedronBufferGeometry,OctahedronGeometry,OneFactor,OneMinusDstAlphaFactor,OneMinusDstColorFactor,OneMinusSrcAlphaFactor,OneMinusSrcColorFactor,OrthographicCamera:OrthographicCamera$1,PCFShadowMap,PCFSoftShadowMap,PMREMGenerator,Path,PerspectiveCamera:PerspectiveCamera$1,Plane:Plane$1,PlaneBufferGeometry,PlaneGeometry,PlaneHelper,PointLight,PointLightHelper,Points,PointsMaterial,PolarGridHelper,PolyhedronBufferGeometry,PolyhedronGeometry,PositionalAudio,PropertyBinding,PropertyMixer,QuadraticBezierCurve,QuadraticBezierCurve3,Quaternion,QuaternionKeyframeTrack,QuaternionLinearInterpolant,REVISION,RGBADepthPacking,RGBAFormat,RGBAIntegerFormat,RGBA_ASTC_10x10_Format,RGBA_ASTC_10x5_Format,RGBA_ASTC_10x6_Format,RGBA_ASTC_10x8_Format,RGBA_ASTC_12x10_Format,RGBA_ASTC_12x12_Format,RGBA_ASTC_4x4_Format,RGBA_ASTC_5x4_Format,RGBA_ASTC_5x5_Format,RGBA_ASTC_6x5_Format,RGBA_ASTC_6x6_Format,RGBA_ASTC_8x5_Format,RGBA_ASTC_8x6_Format,RGBA_ASTC_8x8_Format,RGBA_BPTC_Format,RGBA_ETC2_EAC_Format,RGBA_PVRTC_2BPPV1_Format,RGBA_PVRTC_4BPPV1_Format,RGBA_S3TC_DXT1_Format,RGBA_S3TC_DXT3_Format,RGBA_S3TC_DXT5_Format,RGBFormat,RGB_ETC1_Format,RGB_ETC2_Format,RGB_PVRTC_2BPPV1_Format,RGB_PVRTC_4BPPV1_Format,RGB_S3TC_DXT1_Format,RGFormat,RGIntegerFormat,RawShaderMaterial,Ray,Raycaster,RectAreaLight,RedFormat,RedIntegerFormat,ReinhardToneMapping,RepeatWrapping,ReplaceStencilOp,ReverseSubtractEquation,RingBufferGeometry,RingGeometry,SRGBColorSpace,Scene,ShaderChunk,ShaderLib,ShaderMaterial,ShadowMaterial,Shape,ShapeBufferGeometry,ShapeGeometry,ShapePath,ShapeUtils,ShortType,Skeleton,SkeletonHelper,SkinnedMesh,Source,Sphere,SphereBufferGeometry,SphereGeometry,Spherical,SphericalHarmonics3,SplineCurve,SpotLight,SpotLightHelper,Sprite,SpriteMaterial,SrcAlphaFactor,SrcAlphaSaturateFactor,SrcColorFactor,StaticCopyUsage,StaticDrawUsage,StaticReadUsage,StereoCamera,StreamCopyUsage,StreamDrawUsage,StreamReadUsage,StringKeyframeTrack,SubtractEquation,SubtractiveBlending,TOUCH,TangentSpaceNormalMap,TetrahedronBufferGeometry,TetrahedronGeometry,Texture,TextureLoader,TorusBufferGeometry,TorusGeometry,TorusKnotBufferGeometry,TorusKnotGeometry,Triangle,TriangleFanDrawMode,TriangleStripDrawMode,TrianglesDrawMode,TubeBufferGeometry,TubeGeometry,TwoPassDoubleSide,UVMapping,Uint16BufferAttribute,Uint32BufferAttribute,Uint8BufferAttribute,Uint8ClampedBufferAttribute,Uniform,UniformsGroup,UniformsLib,UniformsUtils,UnsignedByteType,UnsignedInt248Type,UnsignedIntType,UnsignedShort4444Type,UnsignedShort5551Type,UnsignedShortType,VSMShadowMap,Vector2,Vector3,Vector4,VectorKeyframeTrack,VideoTexture,WebGL1Renderer,WebGL3DRenderTarget,WebGLArrayRenderTarget,WebGLCubeRenderTarget,WebGLMultipleRenderTargets,WebGLMultisampleRenderTarget,WebGLRenderTarget,WebGLRenderer,WebGLUtils,WireframeGeometry,WrapAroundEnding,ZeroCurvatureEnding,ZeroFactor,ZeroSlopeEnding,ZeroStencilOp,_SRGBAFormat,sRGBEncoding},Symbol.toStringTag,{value:"Module"}));var constantsExports={},constants={get exports(){return constantsExports},set exports(tt){constantsExports=tt}},reactReconcilerConstants_production_min={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */reactReconcilerConstants_production_min.ConcurrentRoot=1;reactReconcilerConstants_production_min.ContinuousEventPriority=4;reactReconcilerConstants_production_min.DefaultEventPriority=16;reactReconcilerConstants_production_min.DiscreteEventPriority=1;reactReconcilerConstants_production_min.IdleEventPriority=536870912;reactReconcilerConstants_production_min.LegacyRoot=0;(function(tt){tt.exports=reactReconcilerConstants_production_min})(constants);function createStore$2(tt){let et;const rt=new Set,nt=(ct,ut)=>{const dt=typeof ct=="function"?ct(et):ct;if(dt!==et){const ft=et;et=ut?dt:Object.assign({},et,dt),rt.forEach(pt=>pt(et,ft))}},it=()=>et,ot=(ct,ut=it,dt=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let ft=ut(et);function pt(){const mt=ut(et);if(!dt(ft,mt)){const ht=ft;ct(ft=mt,ht)}}return rt.add(pt),()=>rt.delete(pt)},lt={setState:nt,getState:it,subscribe:(ct,ut,dt)=>ut||dt?ot(ct,ut,dt):(rt.add(ct),()=>rt.delete(ct)),destroy:()=>rt.clear()};return et=tt(nt,it,lt),lt}const isSSR$1=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),useIsomorphicLayoutEffect$2=isSSR$1?reactExports.useEffect:reactExports.useLayoutEffect;function create$1(tt){const et=typeof tt=="function"?createStore$2(tt):tt,rt=(nt=et.getState,it=Object.is)=>{const[,ot]=reactExports.useReducer(gt=>gt+1,0),at=et.getState(),st=reactExports.useRef(at),lt=reactExports.useRef(nt),ct=reactExports.useRef(it),ut=reactExports.useRef(!1),dt=reactExports.useRef();dt.current===void 0&&(dt.current=nt(at));let ft,pt=!1;(st.current!==at||lt.current!==nt||ct.current!==it||ut.current)&&(ft=nt(at),pt=!it(dt.current,ft)),useIsomorphicLayoutEffect$2(()=>{pt&&(dt.current=ft),st.current=at,lt.current=nt,ct.current=it,ut.current=!1});const mt=reactExports.useRef(at);useIsomorphicLayoutEffect$2(()=>{const gt=()=>{try{const yt=et.getState(),bt=lt.current(yt);ct.current(dt.current,bt)||(st.current=yt,dt.current=bt,ot())}catch{ut.current=!0,ot()}},vt=et.subscribe(gt);return et.getState()!==mt.current&&gt(),vt},[]);const ht=pt?ft:dt.current;return reactExports.useDebugValue(ht),ht};return Object.assign(rt,et),rt[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const nt=[rt,et];return{next(){const it=nt.length<=0;return{value:nt.shift(),done:it}}}},rt}var reactReconcilerExports={},reactReconciler={get exports(){return reactReconcilerExports},set exports(tt){reactReconcilerExports=tt}},schedulerExports={},scheduler={get exports(){return schedulerExports},set exports(tt){schedulerExports=tt}},scheduler_production_min={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(tt){function et(Ut,jt){var qt=Ut.length;Ut.push(jt);e:for(;0<qt;){var Dt=qt-1>>>1,Ft=Ut[Dt];if(0<it(Ft,jt))Ut[Dt]=jt,Ut[qt]=Ft,qt=Dt;else break e}}function rt(Ut){return Ut.length===0?null:Ut[0]}function nt(Ut){if(Ut.length===0)return null;var jt=Ut[0],qt=Ut.pop();if(qt!==jt){Ut[0]=qt;e:for(var Dt=0,Ft=Ut.length,Zt=Ft>>>1;Dt<Zt;){var Kt=2*(Dt+1)-1,ir=Ut[Kt],rr=Kt+1,mr=Ut[rr];if(0>it(ir,qt))rr<Ft&&0>it(mr,ir)?(Ut[Dt]=mr,Ut[rr]=qt,Dt=rr):(Ut[Dt]=ir,Ut[Kt]=qt,Dt=Kt);else if(rr<Ft&&0>it(mr,qt))Ut[Dt]=mr,Ut[rr]=qt,Dt=rr;else break e}}return jt}function it(Ut,jt){var qt=Ut.sortIndex-jt.sortIndex;return qt!==0?qt:Ut.id-jt.id}if(typeof performance=="object"&&typeof performance.now=="function"){var ot=performance;tt.unstable_now=function(){return ot.now()}}else{var at=Date,st=at.now();tt.unstable_now=function(){return at.now()-st}}var lt=[],ct=[],ut=1,dt=null,ft=3,pt=!1,mt=!1,ht=!1,gt=typeof setTimeout=="function"?setTimeout:null,vt=typeof clearTimeout=="function"?clearTimeout:null,yt=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function bt(Ut){for(var jt=rt(ct);jt!==null;){if(jt.callback===null)nt(ct);else if(jt.startTime<=Ut)nt(ct),jt.sortIndex=jt.expirationTime,et(lt,jt);else break;jt=rt(ct)}}function xt(Ut){if(ht=!1,bt(Ut),!mt)if(rt(lt)!==null)mt=!0,zt($t);else{var jt=rt(ct);jt!==null&&Vt(xt,jt.startTime-Ut)}}function $t(Ut,jt){mt=!1,ht&&(ht=!1,vt(At),At=-1),pt=!0;var qt=ft;try{for(bt(jt),dt=rt(lt);dt!==null&&(!(dt.expirationTime>jt)||Ut&&!Lt());){var Dt=dt.callback;if(typeof Dt=="function"){dt.callback=null,ft=dt.priorityLevel;var Ft=Dt(dt.expirationTime<=jt);jt=tt.unstable_now(),typeof Ft=="function"?dt.callback=Ft:dt===rt(lt)&&nt(lt),bt(jt)}else nt(lt);dt=rt(lt)}if(dt!==null)var Zt=!0;else{var Kt=rt(ct);Kt!==null&&Vt(xt,Kt.startTime-jt),Zt=!1}return Zt}finally{dt=null,ft=qt,pt=!1}}var Tt=!1,wt=null,At=-1,Rt=5,It=-1;function Lt(){return!(tt.unstable_now()-It<Rt)}function Pt(){if(wt!==null){var Ut=tt.unstable_now();It=Ut;var jt=!0;try{jt=wt(!0,Ut)}finally{jt?Nt():(Tt=!1,wt=null)}}else Tt=!1}var Nt;if(typeof yt=="function")Nt=function(){yt(Pt)};else if(typeof MessageChannel<"u"){var Ot=new MessageChannel,Bt=Ot.port2;Ot.port1.onmessage=Pt,Nt=function(){Bt.postMessage(null)}}else Nt=function(){gt(Pt,0)};function zt(Ut){wt=Ut,Tt||(Tt=!0,Nt())}function Vt(Ut,jt){At=gt(function(){Ut(tt.unstable_now())},jt)}tt.unstable_IdlePriority=5,tt.unstable_ImmediatePriority=1,tt.unstable_LowPriority=4,tt.unstable_NormalPriority=3,tt.unstable_Profiling=null,tt.unstable_UserBlockingPriority=2,tt.unstable_cancelCallback=function(Ut){Ut.callback=null},tt.unstable_continueExecution=function(){mt||pt||(mt=!0,zt($t))},tt.unstable_forceFrameRate=function(Ut){0>Ut||125<Ut?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Rt=0<Ut?Math.floor(1e3/Ut):5},tt.unstable_getCurrentPriorityLevel=function(){return ft},tt.unstable_getFirstCallbackNode=function(){return rt(lt)},tt.unstable_next=function(Ut){switch(ft){case 1:case 2:case 3:var jt=3;break;default:jt=ft}var qt=ft;ft=jt;try{return Ut()}finally{ft=qt}},tt.unstable_pauseExecution=function(){},tt.unstable_requestPaint=function(){},tt.unstable_runWithPriority=function(Ut,jt){switch(Ut){case 1:case 2:case 3:case 4:case 5:break;default:Ut=3}var qt=ft;ft=Ut;try{return jt()}finally{ft=qt}},tt.unstable_scheduleCallback=function(Ut,jt,qt){var Dt=tt.unstable_now();switch(typeof qt=="object"&&qt!==null?(qt=qt.delay,qt=typeof qt=="number"&&0<qt?Dt+qt:Dt):qt=Dt,Ut){case 1:var Ft=-1;break;case 2:Ft=250;break;case 5:Ft=1073741823;break;case 4:Ft=1e4;break;default:Ft=5e3}return Ft=qt+Ft,Ut={id:ut++,callback:jt,priorityLevel:Ut,startTime:qt,expirationTime:Ft,sortIndex:-1},qt>Dt?(Ut.sortIndex=qt,et(ct,Ut),rt(lt)===null&&Ut===rt(ct)&&(ht?(vt(At),At=-1):ht=!0,Vt(xt,qt-Dt))):(Ut.sortIndex=Ft,et(lt,Ut),mt||pt||(mt=!0,zt($t))),Ut},tt.unstable_shouldYield=Lt,tt.unstable_wrapCallback=function(Ut){var jt=ft;return function(){var qt=ft;ft=jt;try{return Ut.apply(this,arguments)}finally{ft=qt}}}})(scheduler_production_min);(function(tt){tt.exports=scheduler_production_min})(scheduler);/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var reactReconciler_production_min=function(et){var rt={},nt=reactExports,it=schedulerExports,ot=Object.assign;function at(St){for(var Ct="https://reactjs.org/docs/error-decoder.html?invariant="+St,Mt=1;Mt<arguments.length;Mt++)Ct+="&args[]="+encodeURIComponent(arguments[Mt]);return"Minified React error #"+St+"; visit "+Ct+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var st=nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,lt=Symbol.for("react.element"),ct=Symbol.for("react.portal"),ut=Symbol.for("react.fragment"),dt=Symbol.for("react.strict_mode"),ft=Symbol.for("react.profiler"),pt=Symbol.for("react.provider"),mt=Symbol.for("react.context"),ht=Symbol.for("react.forward_ref"),gt=Symbol.for("react.suspense"),vt=Symbol.for("react.suspense_list"),yt=Symbol.for("react.memo"),bt=Symbol.for("react.lazy"),xt=Symbol.for("react.offscreen"),$t=Symbol.iterator;function Tt(St){return St===null||typeof St!="object"?null:(St=$t&&St[$t]||St["@@iterator"],typeof St=="function"?St:null)}function wt(St){if(St==null)return null;if(typeof St=="function")return St.displayName||St.name||null;if(typeof St=="string")return St;switch(St){case ut:return"Fragment";case ct:return"Portal";case ft:return"Profiler";case dt:return"StrictMode";case gt:return"Suspense";case vt:return"SuspenseList"}if(typeof St=="object")switch(St.$$typeof){case mt:return(St.displayName||"Context")+".Consumer";case pt:return(St._context.displayName||"Context")+".Provider";case ht:var Ct=St.render;return St=St.displayName,St||(St=Ct.displayName||Ct.name||"",St=St!==""?"ForwardRef("+St+")":"ForwardRef"),St;case yt:return Ct=St.displayName||null,Ct!==null?Ct:wt(St.type)||"Memo";case bt:Ct=St._payload,St=St._init;try{return wt(St(Ct))}catch{}}return null}function At(St){var Ct=St.type;switch(St.tag){case 24:return"Cache";case 9:return(Ct.displayName||"Context")+".Consumer";case 10:return(Ct._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return St=Ct.render,St=St.displayName||St.name||"",Ct.displayName||(St!==""?"ForwardRef("+St+")":"ForwardRef");case 7:return"Fragment";case 5:return Ct;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return wt(Ct);case 8:return Ct===dt?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof Ct=="function")return Ct.displayName||Ct.name||null;if(typeof Ct=="string")return Ct}return null}function Rt(St){var Ct=St,Mt=St;if(St.alternate)for(;Ct.return;)Ct=Ct.return;else{St=Ct;do Ct=St,Ct.flags&4098&&(Mt=Ct.return),St=Ct.return;while(St)}return Ct.tag===3?Mt:null}function It(St){if(Rt(St)!==St)throw Error(at(188))}function Lt(St){var Ct=St.alternate;if(!Ct){if(Ct=Rt(St),Ct===null)throw Error(at(188));return Ct!==St?null:St}for(var Mt=St,kt=Ct;;){var Ht=Mt.return;if(Ht===null)break;var er=Ht.alternate;if(er===null){if(kt=Ht.return,kt!==null){Mt=kt;continue}break}if(Ht.child===er.child){for(er=Ht.child;er;){if(er===Mt)return It(Ht),St;if(er===kt)return It(Ht),Ct;er=er.sibling}throw Error(at(188))}if(Mt.return!==kt.return)Mt=Ht,kt=er;else{for(var Er=!1,Nr=Ht.child;Nr;){if(Nr===Mt){Er=!0,Mt=Ht,kt=er;break}if(Nr===kt){Er=!0,kt=Ht,Mt=er;break}Nr=Nr.sibling}if(!Er){for(Nr=er.child;Nr;){if(Nr===Mt){Er=!0,Mt=er,kt=Ht;break}if(Nr===kt){Er=!0,kt=er,Mt=Ht;break}Nr=Nr.sibling}if(!Er)throw Error(at(189))}}if(Mt.alternate!==kt)throw Error(at(190))}if(Mt.tag!==3)throw Error(at(188));return Mt.stateNode.current===Mt?St:Ct}function Pt(St){return St=Lt(St),St!==null?Nt(St):null}function Nt(St){if(St.tag===5||St.tag===6)return St;for(St=St.child;St!==null;){var Ct=Nt(St);if(Ct!==null)return Ct;St=St.sibling}return null}function Ot(St){if(St.tag===5||St.tag===6)return St;for(St=St.child;St!==null;){if(St.tag!==4){var Ct=Ot(St);if(Ct!==null)return Ct}St=St.sibling}return null}var Bt=Array.isArray,zt=et.getPublicInstance,Vt=et.getRootHostContext,Ut=et.getChildHostContext,jt=et.prepareForCommit,qt=et.resetAfterCommit,Dt=et.createInstance,Ft=et.appendInitialChild,Zt=et.finalizeInitialChildren,Kt=et.prepareUpdate,ir=et.shouldSetTextContent,rr=et.createTextInstance,mr=et.scheduleTimeout,sr=et.cancelTimeout,fr=et.noTimeout,pr=et.isPrimaryRenderer,vr=et.supportsMutation,dr=et.supportsPersistence,xr=et.supportsHydration,Gt=et.getInstanceFromNode,Wt=et.preparePortalMount,nr=et.getCurrentEventPriority,Qt=et.detachDeletedInstance,Jt=et.supportsMicrotasks,ar=et.scheduleMicrotask,cr=et.supportsTestSelectors,lr=et.findFiberRoot,Yt=et.getBoundingRect,Xt=et.getTextContent,tr=et.isHiddenSubtree,or=et.matchAccessibilityRole,br=et.setFocusIfFocusable,Sr=et.setupIntersectionObserver,yr=et.appendChild,hr=et.appendChildToContainer,$r=et.commitTextUpdate,Mr=et.commitMount,Ar=et.commitUpdate,Fr=et.insertBefore,zr=et.insertInContainerBefore,jr=et.removeChild,Jr=et.removeChildFromContainer,gn=et.resetTextContent,mn=et.hideInstance,Cr=et.hideTextInstance,Dr=et.unhideInstance,Hr=et.unhideTextInstance,Yr=et.clearContainer,dn=et.cloneInstance,On=et.createContainerChildSet,Dn=et.appendChildToContainerChildSet,Bn=et.finalizeContainerChildren,Fn=et.replaceContainerChildren,Mn=et.cloneHiddenInstance,Ln=et.cloneHiddenTextInstance,Rn=et.canHydrateInstance,Qn=et.canHydrateTextInstance,Un=et.canHydrateSuspenseInstance,yn=et.isSuspenseInstancePending,Tn=et.isSuspenseInstanceFallback,gr=et.registerSuspenseInstanceRetry,kr=et.getNextHydratableSibling,Ur=et.getFirstHydratableChild,Lr=et.getFirstHydratableChildWithinContainer,Vr=et.getFirstHydratableChildWithinSuspenseInstance,Or=et.hydrateInstance,Rr=et.hydrateTextInstance,Xr=et.hydrateSuspenseInstance,ln=et.getNextHydratableInstanceAfterSuspenseInstance,vn=et.commitHydratedContainer,Sn=et.commitHydratedSuspenseInstance,Cn=et.clearSuspenseBoundary,_n=et.clearSuspenseBoundaryFromContainer,qn=et.shouldDeleteUnhydratedTailInstances,Eo=et.didNotMatchHydratedContainerTextInstance,wo=et.didNotMatchHydratedTextInstance,hn;function Nn(St){if(hn===void 0)try{throw Error()}catch(Mt){var Ct=Mt.stack.trim().match(/\n( *(at )?)/);hn=Ct&&Ct[1]||""}return`
`+hn+St}var Ao=!1;function ro(St,Ct){if(!St||Ao)return"";Ao=!0;var Mt=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(Ct)if(Ct=function(){throw Error()},Object.defineProperty(Ct.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Ct,[])}catch(pn){var kt=pn}Reflect.construct(St,[],Ct)}else{try{Ct.call()}catch(pn){kt=pn}St.call(Ct.prototype)}else{try{throw Error()}catch(pn){kt=pn}St()}}catch(pn){if(pn&&kt&&typeof pn.stack=="string"){for(var Ht=pn.stack.split(`
`),er=kt.stack.split(`
`),Er=Ht.length-1,Nr=er.length-1;1<=Er&&0<=Nr&&Ht[Er]!==er[Nr];)Nr--;for(;1<=Er&&0<=Nr;Er--,Nr--)if(Ht[Er]!==er[Nr]){if(Er!==1||Nr!==1)do if(Er--,Nr--,0>Nr||Ht[Er]!==er[Nr]){var qr=`
`+Ht[Er].replace(" at new "," at ");return St.displayName&&qr.includes("<anonymous>")&&(qr=qr.replace("<anonymous>",St.displayName)),qr}while(1<=Er&&0<=Nr);break}}}finally{Ao=!1,Error.prepareStackTrace=Mt}return(St=St?St.displayName||St.name:"")?Nn(St):""}var So=Object.prototype.hasOwnProperty,Bo=[],mo=-1;function go(St){return{current:St}}function kn(St){0>mo||(St.current=Bo[mo],Bo[mo]=null,mo--)}function Hn(St,Ct){mo++,Bo[mo]=St.current,St.current=Ct}var Co={},ur=go(Co),Tr=go(!1),_r=Co;function Ir(St,Ct){var Mt=St.type.contextTypes;if(!Mt)return Co;var kt=St.stateNode;if(kt&&kt.__reactInternalMemoizedUnmaskedChildContext===Ct)return kt.__reactInternalMemoizedMaskedChildContext;var Ht={},er;for(er in Mt)Ht[er]=Ct[er];return kt&&(St=St.stateNode,St.__reactInternalMemoizedUnmaskedChildContext=Ct,St.__reactInternalMemoizedMaskedChildContext=Ht),Ht}function Pr(St){return St=St.childContextTypes,St!=null}function wr(){kn(Tr),kn(ur)}function Kr(St,Ct,Mt){if(ur.current!==Co)throw Error(at(168));Hn(ur,Ct),Hn(Tr,Mt)}function Zr(St,Ct,Mt){var kt=St.stateNode;if(Ct=Ct.childContextTypes,typeof kt.getChildContext!="function")return Mt;kt=kt.getChildContext();for(var Ht in kt)if(!(Ht in Ct))throw Error(at(108,At(St)||"Unknown",Ht));return ot({},Mt,kt)}function Qr(St){return St=(St=St.stateNode)&&St.__reactInternalMemoizedMergedChildContext||Co,_r=ur.current,Hn(ur,St),Hn(Tr,Tr.current),!0}function cn(St,Ct,Mt){var kt=St.stateNode;if(!kt)throw Error(at(169));Mt?(St=Zr(St,Ct,_r),kt.__reactInternalMemoizedMergedChildContext=St,kn(Tr),kn(ur),Hn(ur,St)):kn(Tr),Hn(Tr,Mt)}var sn=Math.clz32?Math.clz32:Jn,$n=Math.log,jn=Math.LN2;function Jn(St){return St>>>=0,St===0?32:31-($n(St)/jn|0)|0}var Kn=64,eo=4194304;function _i(St){switch(St&-St){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return St&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return St&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return St}}function uo(St,Ct){var Mt=St.pendingLanes;if(Mt===0)return 0;var kt=0,Ht=St.suspendedLanes,er=St.pingedLanes,Er=Mt&268435455;if(Er!==0){var Nr=Er&~Ht;Nr!==0?kt=_i(Nr):(er&=Er,er!==0&&(kt=_i(er)))}else Er=Mt&~Ht,Er!==0?kt=_i(Er):er!==0&&(kt=_i(er));if(kt===0)return 0;if(Ct!==0&&Ct!==kt&&!(Ct&Ht)&&(Ht=kt&-kt,er=Ct&-Ct,Ht>=er||Ht===16&&(er&4194240)!==0))return Ct;if(kt&4&&(kt|=Mt&16),Ct=St.entangledLanes,Ct!==0)for(St=St.entanglements,Ct&=kt;0<Ct;)Mt=31-sn(Ct),Ht=1<<Mt,kt|=St[Mt],Ct&=~Ht;return kt}function as(St,Ct){switch(St){case 1:case 2:case 4:return Ct+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return Ct+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ms(St,Ct){for(var Mt=St.suspendedLanes,kt=St.pingedLanes,Ht=St.expirationTimes,er=St.pendingLanes;0<er;){var Er=31-sn(er),Nr=1<<Er,qr=Ht[Er];qr===-1?(!(Nr&Mt)||Nr&kt)&&(Ht[Er]=as(Nr,Ct)):qr<=Ct&&(St.expiredLanes|=Nr),er&=~Nr}}function xa(St){return St=St.pendingLanes&-1073741825,St!==0?St:St&1073741824?1073741824:0}function ss(St){for(var Ct=[],Mt=0;31>Mt;Mt++)Ct.push(St);return Ct}function $a(St,Ct,Mt){St.pendingLanes|=Ct,Ct!==536870912&&(St.suspendedLanes=0,St.pingedLanes=0),St=St.eventTimes,Ct=31-sn(Ct),St[Ct]=Mt}function ls(St,Ct){var Mt=St.pendingLanes&~Ct;St.pendingLanes=Ct,St.suspendedLanes=0,St.pingedLanes=0,St.expiredLanes&=Ct,St.mutableReadLanes&=Ct,St.entangledLanes&=Ct,Ct=St.entanglements;var kt=St.eventTimes;for(St=St.expirationTimes;0<Mt;){var Ht=31-sn(Mt),er=1<<Ht;Ct[Ht]=0,kt[Ht]=-1,St[Ht]=-1,Mt&=~er}}function Yo(St,Ct){var Mt=St.entangledLanes|=Ct;for(St=St.entanglements;Mt;){var kt=31-sn(Mt),Ht=1<<kt;Ht&Ct|St[kt]&Ct&&(St[kt]|=Ct),Mt&=~Ht}}var Vn=0;function Sl(St){return St&=-St,1<St?4<St?St&268435455?16:536870912:4:1}var gs=it.unstable_scheduleCallback,Hs=it.unstable_cancelCallback,Cl=it.unstable_shouldYield,Xl=it.unstable_requestPaint,oo=it.unstable_now,$s=it.unstable_ImmediatePriority,Zl=it.unstable_UserBlockingPriority,Lo=it.unstable_NormalPriority,Tl=it.unstable_IdlePriority,Es=null,zo=null;function Al(St){if(zo&&typeof zo.onCommitFiberRoot=="function")try{zo.onCommitFiberRoot(Es,St,void 0,(St.current.flags&128)===128)}catch{}}function Vs(St,Ct){return St===Ct&&(St!==0||1/St===1/Ct)||St!==St&&Ct!==Ct}var Ho=typeof Object.is=="function"?Object.is:Vs,No=null,us=!1,Jo=!1;function Ol(St){No===null?No=[St]:No.push(St)}function Il(St){us=!0,Ol(St)}function Fo(){if(!Jo&&No!==null){Jo=!0;var St=0,Ct=Vn;try{var Mt=No;for(Vn=1;St<Mt.length;St++){var kt=Mt[St];do kt=kt(!0);while(kt!==null)}No=null,us=!1}catch(Ht){throw No!==null&&(No=No.slice(St+1)),gs($s,Fo),Ht}finally{Vn=Ct,Jo=!1}}return null}var Ps=st.ReactCurrentBatchConfig;function Ms(St,Ct){if(Ho(St,Ct))return!0;if(typeof St!="object"||St===null||typeof Ct!="object"||Ct===null)return!1;var Mt=Object.keys(St),kt=Object.keys(Ct);if(Mt.length!==kt.length)return!1;for(kt=0;kt<Mt.length;kt++){var Ht=Mt[kt];if(!So.call(Ct,Ht)||!Ho(St[Ht],Ct[Ht]))return!1}return!0}function Ls(St){switch(St.tag){case 5:return Nn(St.type);case 16:return Nn("Lazy");case 13:return Nn("Suspense");case 19:return Nn("SuspenseList");case 0:case 2:case 15:return St=ro(St.type,!1),St;case 11:return St=ro(St.type.render,!1),St;case 1:return St=ro(St.type,!0),St;default:return""}}function Oo(St,Ct){if(St&&St.defaultProps){Ct=ot({},Ct),St=St.defaultProps;for(var Mt in St)Ct[Mt]===void 0&&(Ct[Mt]=St[Mt]);return Ct}return Ct}var _o=go(null),Ws=null,rs=null,Ss=null;function Ks(){Ss=rs=Ws=null}function Ql(St,Ct,Mt){pr?(Hn(_o,Ct._currentValue),Ct._currentValue=Mt):(Hn(_o,Ct._currentValue2),Ct._currentValue2=Mt)}function ds(St){var Ct=_o.current;kn(_o),pr?St._currentValue=Ct:St._currentValue2=Ct}function fo(St,Ct,Mt){for(;St!==null;){var kt=St.alternate;if((St.childLanes&Ct)!==Ct?(St.childLanes|=Ct,kt!==null&&(kt.childLanes|=Ct)):kt!==null&&(kt.childLanes&Ct)!==Ct&&(kt.childLanes|=Ct),St===Mt)break;St=St.return}}function bo(St,Ct){Ws=St,Ss=rs=null,St=St.dependencies,St!==null&&St.firstContext!==null&&(St.lanes&Ct&&(qo=!0),St.firstContext=null)}function no(St){var Ct=pr?St._currentValue:St._currentValue2;if(Ss!==St)if(St={context:St,memoizedValue:Ct,next:null},rs===null){if(Ws===null)throw Error(at(308));rs=St,Ws.dependencies={lanes:0,firstContext:St}}else rs=rs.next=St;return Ct}var vo=null,ns=!1;function ku(St){St.updateQueue={baseState:St.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Op(St,Ct){St=St.updateQueue,Ct.updateQueue===St&&(Ct.updateQueue={baseState:St.baseState,firstBaseUpdate:St.firstBaseUpdate,lastBaseUpdate:St.lastBaseUpdate,shared:St.shared,effects:St.effects})}function vs(St,Ct){return{eventTime:St,lane:Ct,tag:0,payload:null,callback:null,next:null}}function Cs(St,Ct){var Mt=St.updateQueue;Mt!==null&&(Mt=Mt.shared,po!==null&&St.mode&1&&!(Yn&2)?(St=Mt.interleaved,St===null?(Ct.next=Ct,vo===null?vo=[Mt]:vo.push(Mt)):(Ct.next=St.next,St.next=Ct),Mt.interleaved=Ct):(St=Mt.pending,St===null?Ct.next=Ct:(Ct.next=St.next,St.next=Ct),Mt.pending=Ct))}function _c(St,Ct,Mt){if(Ct=Ct.updateQueue,Ct!==null&&(Ct=Ct.shared,(Mt&4194240)!==0)){var kt=Ct.lanes;kt&=St.pendingLanes,Mt|=kt,Ct.lanes=Mt,Yo(St,Mt)}}function Ip(St,Ct){var Mt=St.updateQueue,kt=St.alternate;if(kt!==null&&(kt=kt.updateQueue,Mt===kt)){var Ht=null,er=null;if(Mt=Mt.firstBaseUpdate,Mt!==null){do{var Er={eventTime:Mt.eventTime,lane:Mt.lane,tag:Mt.tag,payload:Mt.payload,callback:Mt.callback,next:null};er===null?Ht=er=Er:er=er.next=Er,Mt=Mt.next}while(Mt!==null);er===null?Ht=er=Ct:er=er.next=Ct}else Ht=er=Ct;Mt={baseState:kt.baseState,firstBaseUpdate:Ht,lastBaseUpdate:er,shared:kt.shared,effects:kt.effects},St.updateQueue=Mt;return}St=Mt.lastBaseUpdate,St===null?Mt.firstBaseUpdate=Ct:St.next=Ct,Mt.lastBaseUpdate=Ct}function eu(St,Ct,Mt,kt){var Ht=St.updateQueue;ns=!1;var er=Ht.firstBaseUpdate,Er=Ht.lastBaseUpdate,Nr=Ht.shared.pending;if(Nr!==null){Ht.shared.pending=null;var qr=Nr,pn=qr.next;qr.next=null,Er===null?er=pn:Er.next=pn,Er=qr;var En=St.alternate;En!==null&&(En=En.updateQueue,Nr=En.lastBaseUpdate,Nr!==Er&&(Nr===null?En.firstBaseUpdate=pn:Nr.next=pn,En.lastBaseUpdate=qr))}if(er!==null){var Gn=Ht.baseState;Er=0,En=pn=qr=null,Nr=er;do{var Pn=Nr.lane,io=Nr.eventTime;if((kt&Pn)===Pn){En!==null&&(En=En.next={eventTime:io,lane:0,tag:Nr.tag,payload:Nr.payload,callback:Nr.callback,next:null});e:{var In=St,Mo=Nr;switch(Pn=Ct,io=Mt,Mo.tag){case 1:if(In=Mo.payload,typeof In=="function"){Gn=In.call(io,Gn,Pn);break e}Gn=In;break e;case 3:In.flags=In.flags&-65537|128;case 0:if(In=Mo.payload,Pn=typeof In=="function"?In.call(io,Gn,Pn):In,Pn==null)break e;Gn=ot({},Gn,Pn);break e;case 2:ns=!0}}Nr.callback!==null&&Nr.lane!==0&&(St.flags|=64,Pn=Ht.effects,Pn===null?Ht.effects=[Nr]:Pn.push(Nr))}else io={eventTime:io,lane:Pn,tag:Nr.tag,payload:Nr.payload,callback:Nr.callback,next:null},En===null?(pn=En=io,qr=Gn):En=En.next=io,Er|=Pn;if(Nr=Nr.next,Nr===null){if(Nr=Ht.shared.pending,Nr===null)break;Pn=Nr,Nr=Pn.next,Pn.next=null,Ht.lastBaseUpdate=Pn,Ht.shared.pending=null}}while(1);if(En===null&&(qr=Gn),Ht.baseState=qr,Ht.firstBaseUpdate=pn,Ht.lastBaseUpdate=En,Ct=Ht.shared.interleaved,Ct!==null){Ht=Ct;do Er|=Ht.lane,Ht=Ht.next;while(Ht!==Ct)}else er===null&&(Ht.shared.lanes=0);$l|=Er,St.lanes=Er,St.memoizedState=Gn}}function Rp(St,Ct,Mt){if(St=Ct.effects,Ct.effects=null,St!==null)for(Ct=0;Ct<St.length;Ct++){var kt=St[Ct],Ht=kt.callback;if(Ht!==null){if(kt.callback=null,kt=Mt,typeof Ht!="function")throw Error(at(191,Ht));Ht.call(kt)}}}var Pp=new nt.Component().refs;function Bu(St,Ct,Mt,kt){Ct=St.memoizedState,Mt=Mt(kt,Ct),Mt=Mt==null?Ct:ot({},Ct,Mt),St.memoizedState=Mt,St.lanes===0&&(St.updateQueue.baseState=Mt)}var tu={isMounted:function(St){return(St=St._reactInternals)?Rt(St)===St:!1},enqueueSetState:function(St,Ct,Mt){St=St._reactInternals;var kt=ko(),Ht=As(St),er=vs(kt,Ht);er.payload=Ct,Mt!=null&&(er.callback=Mt),Cs(St,er),Ct=ga(St,Ht,kt),Ct!==null&&_c(Ct,St,Ht)},enqueueReplaceState:function(St,Ct,Mt){St=St._reactInternals;var kt=ko(),Ht=As(St),er=vs(kt,Ht);er.tag=1,er.payload=Ct,Mt!=null&&(er.callback=Mt),Cs(St,er),Ct=ga(St,Ht,kt),Ct!==null&&_c(Ct,St,Ht)},enqueueForceUpdate:function(St,Ct){St=St._reactInternals;var Mt=ko(),kt=As(St),Ht=vs(Mt,kt);Ht.tag=2,Ct!=null&&(Ht.callback=Ct),Cs(St,Ht),Ct=ga(St,kt,Mt),Ct!==null&&_c(Ct,St,kt)}};function Mp(St,Ct,Mt,kt,Ht,er,Er){return St=St.stateNode,typeof St.shouldComponentUpdate=="function"?St.shouldComponentUpdate(kt,er,Er):Ct.prototype&&Ct.prototype.isPureReactComponent?!Ms(Mt,kt)||!Ms(Ht,er):!0}function Lp(St,Ct,Mt){var kt=!1,Ht=Co,er=Ct.contextType;return typeof er=="object"&&er!==null?er=no(er):(Ht=Pr(Ct)?_r:ur.current,kt=Ct.contextTypes,er=(kt=kt!=null)?Ir(St,Ht):Co),Ct=new Ct(Mt,er),St.memoizedState=Ct.state!==null&&Ct.state!==void 0?Ct.state:null,Ct.updater=tu,St.stateNode=Ct,Ct._reactInternals=St,kt&&(St=St.stateNode,St.__reactInternalMemoizedUnmaskedChildContext=Ht,St.__reactInternalMemoizedMaskedChildContext=er),Ct}function Np(St,Ct,Mt,kt){St=Ct.state,typeof Ct.componentWillReceiveProps=="function"&&Ct.componentWillReceiveProps(Mt,kt),typeof Ct.UNSAFE_componentWillReceiveProps=="function"&&Ct.UNSAFE_componentWillReceiveProps(Mt,kt),Ct.state!==St&&tu.enqueueReplaceState(Ct,Ct.state,null)}function Fu(St,Ct,Mt,kt){var Ht=St.stateNode;Ht.props=Mt,Ht.state=St.memoizedState,Ht.refs=Pp,ku(St);var er=Ct.contextType;typeof er=="object"&&er!==null?Ht.context=no(er):(er=Pr(Ct)?_r:ur.current,Ht.context=Ir(St,er)),Ht.state=St.memoizedState,er=Ct.getDerivedStateFromProps,typeof er=="function"&&(Bu(St,Ct,er,Mt),Ht.state=St.memoizedState),typeof Ct.getDerivedStateFromProps=="function"||typeof Ht.getSnapshotBeforeUpdate=="function"||typeof Ht.UNSAFE_componentWillMount!="function"&&typeof Ht.componentWillMount!="function"||(Ct=Ht.state,typeof Ht.componentWillMount=="function"&&Ht.componentWillMount(),typeof Ht.UNSAFE_componentWillMount=="function"&&Ht.UNSAFE_componentWillMount(),Ct!==Ht.state&&tu.enqueueReplaceState(Ht,Ht.state,null),eu(St,Mt,Ht,kt),Ht.state=St.memoizedState),typeof Ht.componentDidMount=="function"&&(St.flags|=4194308)}var Ys=[],Js=0,ru=null,nu=0,Xo=[],Zo=0,Ns=null,ys=1,_s="";function Ds(St,Ct){Ys[Js++]=nu,Ys[Js++]=ru,ru=St,nu=Ct}function Dp(St,Ct,Mt){Xo[Zo++]=ys,Xo[Zo++]=_s,Xo[Zo++]=Ns,Ns=St;var kt=ys;St=_s;var Ht=32-sn(kt)-1;kt&=~(1<<Ht),Mt+=1;var er=32-sn(Ct)+Ht;if(30<er){var Er=Ht-Ht%5;er=(kt&(1<<Er)-1).toString(32),kt>>=Er,Ht-=Er,ys=1<<32-sn(Ct)+Ht|Mt<<Ht|kt,_s=er+St}else ys=1<<er|Mt<<Ht|kt,_s=St}function Uu(St){St.return!==null&&(Ds(St,1),Dp(St,1,0))}function ju(St){for(;St===ru;)ru=Ys[--Js],Ys[Js]=null,nu=Ys[--Js],Ys[Js]=null;for(;St===Ns;)Ns=Xo[--Zo],Xo[Zo]=null,_s=Xo[--Zo],Xo[Zo]=null,ys=Xo[--Zo],Xo[Zo]=null}var Vo=null,Wo=null,ao=!1,Rl=!1,os=null;function kp(St,Ct){var Mt=_a(5,null,null,0);Mt.elementType="DELETED",Mt.stateNode=Ct,Mt.return=St,Ct=St.deletions,Ct===null?(St.deletions=[Mt],St.flags|=16):Ct.push(Mt)}function Bp(St,Ct){switch(St.tag){case 5:return Ct=Rn(Ct,St.type,St.pendingProps),Ct!==null?(St.stateNode=Ct,Vo=St,Wo=Ur(Ct),!0):!1;case 6:return Ct=Qn(Ct,St.pendingProps),Ct!==null?(St.stateNode=Ct,Vo=St,Wo=null,!0):!1;case 13:if(Ct=Un(Ct),Ct!==null){var Mt=Ns!==null?{id:ys,overflow:_s}:null;return St.memoizedState={dehydrated:Ct,treeContext:Mt,retryLane:1073741824},Mt=_a(18,null,null,0),Mt.stateNode=Ct,Mt.return=St,St.child=Mt,Vo=St,Wo=null,!0}return!1;default:return!1}}function Gu(St){return(St.mode&1)!==0&&(St.flags&128)===0}function zu(St){if(ao){var Ct=Wo;if(Ct){var Mt=Ct;if(!Bp(St,Ct)){if(Gu(St))throw Error(at(418));Ct=kr(Mt);var kt=Vo;Ct&&Bp(St,Ct)?kp(kt,Mt):(St.flags=St.flags&-4097|2,ao=!1,Vo=St)}}else{if(Gu(St))throw Error(at(418));St.flags=St.flags&-4097|2,ao=!1,Vo=St}}}function Fp(St){for(St=St.return;St!==null&&St.tag!==5&&St.tag!==3&&St.tag!==13;)St=St.return;Vo=St}function Pl(St){if(!xr||St!==Vo)return!1;if(!ao)return Fp(St),ao=!0,!1;if(St.tag!==3&&(St.tag!==5||qn(St.type)&&!ir(St.type,St.memoizedProps))){var Ct=Wo;if(Ct){if(Gu(St)){for(St=Wo;St;)St=kr(St);throw Error(at(418))}for(;Ct;)kp(St,Ct),Ct=kr(Ct)}}if(Fp(St),St.tag===13){if(!xr)throw Error(at(316));if(St=St.memoizedState,St=St!==null?St.dehydrated:null,!St)throw Error(at(317));Wo=ln(St)}else Wo=Vo?kr(St.stateNode):null;return!0}function Xs(){xr&&(Wo=Vo=null,Rl=ao=!1)}function Hu(St){os===null?os=[St]:os.push(St)}function Ml(St,Ct,Mt){if(St=Mt.ref,St!==null&&typeof St!="function"&&typeof St!="object"){if(Mt._owner){if(Mt=Mt._owner,Mt){if(Mt.tag!==1)throw Error(at(309));var kt=Mt.stateNode}if(!kt)throw Error(at(147,St));var Ht=kt,er=""+St;return Ct!==null&&Ct.ref!==null&&typeof Ct.ref=="function"&&Ct.ref._stringRef===er?Ct.ref:(Ct=function(Er){var Nr=Ht.refs;Nr===Pp&&(Nr=Ht.refs={}),Er===null?delete Nr[er]:Nr[er]=Er},Ct._stringRef=er,Ct)}if(typeof St!="string")throw Error(at(284));if(!Mt._owner)throw Error(at(290,St))}return St}function iu(St,Ct){throw St=Object.prototype.toString.call(Ct),Error(at(31,St==="[object Object]"?"object with keys {"+Object.keys(Ct).join(", ")+"}":St))}function Up(St){var Ct=St._init;return Ct(St._payload)}function jp(St){function Ct(Gr,Br){if(St){var Wr=Gr.deletions;Wr===null?(Gr.deletions=[Br],Gr.flags|=16):Wr.push(Br)}}function Mt(Gr,Br){if(!St)return null;for(;Br!==null;)Ct(Gr,Br),Br=Br.sibling;return null}function kt(Gr,Br){for(Gr=new Map;Br!==null;)Br.key!==null?Gr.set(Br.key,Br):Gr.set(Br.index,Br),Br=Br.sibling;return Gr}function Ht(Gr,Br){return Gr=Is(Gr,Br),Gr.index=0,Gr.sibling=null,Gr}function er(Gr,Br,Wr){return Gr.index=Wr,St?(Wr=Gr.alternate,Wr!==null?(Wr=Wr.index,Wr<Br?(Gr.flags|=2,Br):Wr):(Gr.flags|=2,Br)):(Gr.flags|=1048576,Br)}function Er(Gr){return St&&Gr.alternate===null&&(Gr.flags|=2),Gr}function Nr(Gr,Br,Wr,xn){return Br===null||Br.tag!==6?(Br=Tp(Wr,Gr.mode,xn),Br.return=Gr,Br):(Br=Ht(Br,Wr),Br.return=Gr,Br)}function qr(Gr,Br,Wr,xn){var An=Wr.type;return An===ut?En(Gr,Br,Wr.props.children,xn,Wr.key):Br!==null&&(Br.elementType===An||typeof An=="object"&&An!==null&&An.$$typeof===bt&&Up(An)===Br.type)?(xn=Ht(Br,Wr.props),xn.ref=Ml(Gr,Br,Wr),xn.return=Gr,xn):(xn=Nu(Wr.type,Wr.key,Wr.props,null,Gr.mode,xn),xn.ref=Ml(Gr,Br,Wr),xn.return=Gr,xn)}function pn(Gr,Br,Wr,xn){return Br===null||Br.tag!==4||Br.stateNode.containerInfo!==Wr.containerInfo||Br.stateNode.implementation!==Wr.implementation?(Br=wp(Wr,Gr.mode,xn),Br.return=Gr,Br):(Br=Ht(Br,Wr.children||[]),Br.return=Gr,Br)}function En(Gr,Br,Wr,xn,An){return Br===null||Br.tag!==7?(Br=zs(Wr,Gr.mode,xn,An),Br.return=Gr,Br):(Br=Ht(Br,Wr),Br.return=Gr,Br)}function Gn(Gr,Br,Wr){if(typeof Br=="string"&&Br!==""||typeof Br=="number")return Br=Tp(""+Br,Gr.mode,Wr),Br.return=Gr,Br;if(typeof Br=="object"&&Br!==null){switch(Br.$$typeof){case lt:return Wr=Nu(Br.type,Br.key,Br.props,null,Gr.mode,Wr),Wr.ref=Ml(Gr,null,Br),Wr.return=Gr,Wr;case ct:return Br=wp(Br,Gr.mode,Wr),Br.return=Gr,Br;case bt:var xn=Br._init;return Gn(Gr,xn(Br._payload),Wr)}if(Bt(Br)||Tt(Br))return Br=zs(Br,Gr.mode,Wr,null),Br.return=Gr,Br;iu(Gr,Br)}return null}function Pn(Gr,Br,Wr,xn){var An=Br!==null?Br.key:null;if(typeof Wr=="string"&&Wr!==""||typeof Wr=="number")return An!==null?null:Nr(Gr,Br,""+Wr,xn);if(typeof Wr=="object"&&Wr!==null){switch(Wr.$$typeof){case lt:return Wr.key===An?qr(Gr,Br,Wr,xn):null;case ct:return Wr.key===An?pn(Gr,Br,Wr,xn):null;case bt:return An=Wr._init,Pn(Gr,Br,An(Wr._payload),xn)}if(Bt(Wr)||Tt(Wr))return An!==null?null:En(Gr,Br,Wr,xn,null);iu(Gr,Wr)}return null}function io(Gr,Br,Wr,xn,An){if(typeof xn=="string"&&xn!==""||typeof xn=="number")return Gr=Gr.get(Wr)||null,Nr(Br,Gr,""+xn,An);if(typeof xn=="object"&&xn!==null){switch(xn.$$typeof){case lt:return Gr=Gr.get(xn.key===null?Wr:xn.key)||null,qr(Br,Gr,xn,An);case ct:return Gr=Gr.get(xn.key===null?Wr:xn.key)||null,pn(Br,Gr,xn,An);case bt:var Wn=xn._init;return io(Gr,Br,Wr,Wn(xn._payload),An)}if(Bt(xn)||Tt(xn))return Gr=Gr.get(Wr)||null,En(Br,Gr,xn,An,null);iu(Br,xn)}return null}function In(Gr,Br,Wr,xn){for(var An=null,Wn=null,zn=Br,Xn=Br=0,$o=null;zn!==null&&Xn<Wr.length;Xn++){zn.index>Xn?($o=zn,zn=null):$o=zn.sibling;var Zn=Pn(Gr,zn,Wr[Xn],xn);if(Zn===null){zn===null&&(zn=$o);break}St&&zn&&Zn.alternate===null&&Ct(Gr,zn),Br=er(Zn,Br,Xn),Wn===null?An=Zn:Wn.sibling=Zn,Wn=Zn,zn=$o}if(Xn===Wr.length)return Mt(Gr,zn),ao&&Ds(Gr,Xn),An;if(zn===null){for(;Xn<Wr.length;Xn++)zn=Gn(Gr,Wr[Xn],xn),zn!==null&&(Br=er(zn,Br,Xn),Wn===null?An=zn:Wn.sibling=zn,Wn=zn);return ao&&Ds(Gr,Xn),An}for(zn=kt(Gr,zn);Xn<Wr.length;Xn++)$o=io(zn,Gr,Xn,Wr[Xn],xn),$o!==null&&(St&&$o.alternate!==null&&zn.delete($o.key===null?Xn:$o.key),Br=er($o,Br,Xn),Wn===null?An=$o:Wn.sibling=$o,Wn=$o);return St&&zn.forEach(function(Rs){return Ct(Gr,Rs)}),ao&&Ds(Gr,Xn),An}function Mo(Gr,Br,Wr,xn){var An=Tt(Wr);if(typeof An!="function")throw Error(at(150));if(Wr=An.call(Wr),Wr==null)throw Error(at(151));for(var Wn=An=null,zn=Br,Xn=Br=0,$o=null,Zn=Wr.next();zn!==null&&!Zn.done;Xn++,Zn=Wr.next()){zn.index>Xn?($o=zn,zn=null):$o=zn.sibling;var Rs=Pn(Gr,zn,Zn.value,xn);if(Rs===null){zn===null&&(zn=$o);break}St&&zn&&Rs.alternate===null&&Ct(Gr,zn),Br=er(Rs,Br,Xn),Wn===null?An=Rs:Wn.sibling=Rs,Wn=Rs,zn=$o}if(Zn.done)return Mt(Gr,zn),ao&&Ds(Gr,Xn),An;if(zn===null){for(;!Zn.done;Xn++,Zn=Wr.next())Zn=Gn(Gr,Zn.value,xn),Zn!==null&&(Br=er(Zn,Br,Xn),Wn===null?An=Zn:Wn.sibling=Zn,Wn=Zn);return ao&&Ds(Gr,Xn),An}for(zn=kt(Gr,zn);!Zn.done;Xn++,Zn=Wr.next())Zn=io(zn,Gr,Xn,Zn.value,xn),Zn!==null&&(St&&Zn.alternate!==null&&zn.delete(Zn.key===null?Xn:Zn.key),Br=er(Zn,Br,Xn),Wn===null?An=Zn:Wn.sibling=Zn,Wn=Zn);return St&&zn.forEach(function(Ov){return Ct(Gr,Ov)}),ao&&Ds(Gr,Xn),An}function ba(Gr,Br,Wr,xn){if(typeof Wr=="object"&&Wr!==null&&Wr.type===ut&&Wr.key===null&&(Wr=Wr.props.children),typeof Wr=="object"&&Wr!==null){switch(Wr.$$typeof){case lt:e:{for(var An=Wr.key,Wn=Br;Wn!==null;){if(Wn.key===An){if(An=Wr.type,An===ut){if(Wn.tag===7){Mt(Gr,Wn.sibling),Br=Ht(Wn,Wr.props.children),Br.return=Gr,Gr=Br;break e}}else if(Wn.elementType===An||typeof An=="object"&&An!==null&&An.$$typeof===bt&&Up(An)===Wn.type){Mt(Gr,Wn.sibling),Br=Ht(Wn,Wr.props),Br.ref=Ml(Gr,Wn,Wr),Br.return=Gr,Gr=Br;break e}Mt(Gr,Wn);break}else Ct(Gr,Wn);Wn=Wn.sibling}Wr.type===ut?(Br=zs(Wr.props.children,Gr.mode,xn,Wr.key),Br.return=Gr,Gr=Br):(xn=Nu(Wr.type,Wr.key,Wr.props,null,Gr.mode,xn),xn.ref=Ml(Gr,Br,Wr),xn.return=Gr,Gr=xn)}return Er(Gr);case ct:e:{for(Wn=Wr.key;Br!==null;){if(Br.key===Wn)if(Br.tag===4&&Br.stateNode.containerInfo===Wr.containerInfo&&Br.stateNode.implementation===Wr.implementation){Mt(Gr,Br.sibling),Br=Ht(Br,Wr.children||[]),Br.return=Gr,Gr=Br;break e}else{Mt(Gr,Br);break}else Ct(Gr,Br);Br=Br.sibling}Br=wp(Wr,Gr.mode,xn),Br.return=Gr,Gr=Br}return Er(Gr);case bt:return Wn=Wr._init,ba(Gr,Br,Wn(Wr._payload),xn)}if(Bt(Wr))return In(Gr,Br,Wr,xn);if(Tt(Wr))return Mo(Gr,Br,Wr,xn);iu(Gr,Wr)}return typeof Wr=="string"&&Wr!==""||typeof Wr=="number"?(Wr=""+Wr,Br!==null&&Br.tag===6?(Mt(Gr,Br.sibling),Br=Ht(Br,Wr),Br.return=Gr,Gr=Br):(Mt(Gr,Br),Br=Tp(Wr,Gr.mode,xn),Br.return=Gr,Gr=Br),Er(Gr)):Mt(Gr,Br)}return ba}var Zs=jp(!0),Gp=jp(!1),Ll={},Qo=go(Ll),Nl=go(Ll),Qs=go(Ll);function fs(St){if(St===Ll)throw Error(at(174));return St}function Vu(St,Ct){Hn(Qs,Ct),Hn(Nl,St),Hn(Qo,Ll),St=Vt(Ct),kn(Qo),Hn(Qo,St)}function yl(){kn(Qo),kn(Nl),kn(Qs)}function zp(St){var Ct=fs(Qs.current),Mt=fs(Qo.current);Ct=Ut(Mt,St.type,Ct),Mt!==Ct&&(Hn(Nl,St),Hn(Qo,Ct))}function Wu(St){Nl.current===St&&(kn(Qo),kn(Nl))}var so=go(0);function ou(St){for(var Ct=St;Ct!==null;){if(Ct.tag===13){var Mt=Ct.memoizedState;if(Mt!==null&&(Mt=Mt.dehydrated,Mt===null||yn(Mt)||Tn(Mt)))return Ct}else if(Ct.tag===19&&Ct.memoizedProps.revealOrder!==void 0){if(Ct.flags&128)return Ct}else if(Ct.child!==null){Ct.child.return=Ct,Ct=Ct.child;continue}if(Ct===St)break;for(;Ct.sibling===null;){if(Ct.return===null||Ct.return===St)return null;Ct=Ct.return}Ct.sibling.return=Ct.return,Ct=Ct.sibling}return null}var qu=[];function Ku(){for(var St=0;St<qu.length;St++){var Ct=qu[St];pr?Ct._workInProgressVersionPrimary=null:Ct._workInProgressVersionSecondary=null}qu.length=0}var au=st.ReactCurrentDispatcher,na=st.ReactCurrentBatchConfig,_l=0,lo=null,Io=null,xo=null,su=!1,Dl=!1,Bl=0,ev=0;function Ro(){throw Error(at(321))}function Yu(St,Ct){if(Ct===null)return!1;for(var Mt=0;Mt<Ct.length&&Mt<St.length;Mt++)if(!Ho(St[Mt],Ct[Mt]))return!1;return!0}function Ju(St,Ct,Mt,kt,Ht,er){if(_l=er,lo=Ct,Ct.memoizedState=null,Ct.updateQueue=null,Ct.lanes=0,au.current=St===null||St.memoizedState===null?iv:ov,St=Mt(kt,Ht),Dl){er=0;do{if(Dl=!1,Bl=0,25<=er)throw Error(at(301));er+=1,xo=Io=null,Ct.updateQueue=null,au.current=av,St=Mt(kt,Ht)}while(Dl)}if(au.current=fu,Ct=Io!==null&&Io.next!==null,_l=0,xo=Io=lo=null,su=!1,Ct)throw Error(at(300));return St}function Xu(){var St=Bl!==0;return Bl=0,St}function bs(){var St={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xo===null?lo.memoizedState=xo=St:xo=xo.next=St,xo}function ps(){if(Io===null){var St=lo.alternate;St=St!==null?St.memoizedState:null}else St=Io.next;var Ct=xo===null?lo.memoizedState:xo.next;if(Ct!==null)xo=Ct,Io=St;else{if(St===null)throw Error(at(310));Io=St,St={memoizedState:Io.memoizedState,baseState:Io.baseState,baseQueue:Io.baseQueue,queue:Io.queue,next:null},xo===null?lo.memoizedState=xo=St:xo=xo.next=St}return xo}function ks(St,Ct){return typeof Ct=="function"?Ct(St):Ct}function lu(St){var Ct=ps(),Mt=Ct.queue;if(Mt===null)throw Error(at(311));Mt.lastRenderedReducer=St;var kt=Io,Ht=kt.baseQueue,er=Mt.pending;if(er!==null){if(Ht!==null){var Er=Ht.next;Ht.next=er.next,er.next=Er}kt.baseQueue=Ht=er,Mt.pending=null}if(Ht!==null){er=Ht.next,kt=kt.baseState;var Nr=Er=null,qr=null,pn=er;do{var En=pn.lane;if((_l&En)===En)qr!==null&&(qr=qr.next={lane:0,action:pn.action,hasEagerState:pn.hasEagerState,eagerState:pn.eagerState,next:null}),kt=pn.hasEagerState?pn.eagerState:St(kt,pn.action);else{var Gn={lane:En,action:pn.action,hasEagerState:pn.hasEagerState,eagerState:pn.eagerState,next:null};qr===null?(Nr=qr=Gn,Er=kt):qr=qr.next=Gn,lo.lanes|=En,$l|=En}pn=pn.next}while(pn!==null&&pn!==er);qr===null?Er=kt:qr.next=Nr,Ho(kt,Ct.memoizedState)||(qo=!0),Ct.memoizedState=kt,Ct.baseState=Er,Ct.baseQueue=qr,Mt.lastRenderedState=kt}if(St=Mt.interleaved,St!==null){Ht=St;do er=Ht.lane,lo.lanes|=er,$l|=er,Ht=Ht.next;while(Ht!==St)}else Ht===null&&(Mt.lanes=0);return[Ct.memoizedState,Mt.dispatch]}function cu(St){var Ct=ps(),Mt=Ct.queue;if(Mt===null)throw Error(at(311));Mt.lastRenderedReducer=St;var kt=Mt.dispatch,Ht=Mt.pending,er=Ct.memoizedState;if(Ht!==null){Mt.pending=null;var Er=Ht=Ht.next;do er=St(er,Er.action),Er=Er.next;while(Er!==Ht);Ho(er,Ct.memoizedState)||(qo=!0),Ct.memoizedState=er,Ct.baseQueue===null&&(Ct.baseState=er),Mt.lastRenderedState=er}return[er,kt]}function Hp(){}function Vp(St,Ct){var Mt=lo,kt=ps(),Ht=Ct(),er=!Ho(kt.memoizedState,Ht);if(er&&(kt.memoizedState=Ht,qo=!0),kt=kt.queue,Ul(Kp.bind(null,Mt,kt,St),[St]),kt.getSnapshot!==Ct||er||xo!==null&&xo.memoizedState.tag&1){if(Mt.flags|=2048,Fl(9,qp.bind(null,Mt,kt,Ht,Ct),void 0,null),po===null)throw Error(at(349));_l&30||Wp(Mt,Ct,Ht)}return Ht}function Wp(St,Ct,Mt){St.flags|=16384,St={getSnapshot:Ct,value:Mt},Ct=lo.updateQueue,Ct===null?(Ct={lastEffect:null,stores:null},lo.updateQueue=Ct,Ct.stores=[St]):(Mt=Ct.stores,Mt===null?Ct.stores=[St]:Mt.push(St))}function qp(St,Ct,Mt,kt){Ct.value=Mt,Ct.getSnapshot=kt,Yp(Ct)&&ga(St,1,-1)}function Kp(St,Ct,Mt){return Mt(function(){Yp(Ct)&&ga(St,1,-1)})}function Yp(St){var Ct=St.getSnapshot;St=St.value;try{var Mt=Ct();return!Ho(St,Mt)}catch{return!0}}function Zu(St){var Ct=bs();return typeof St=="function"&&(St=St()),Ct.memoizedState=Ct.baseState=St,St={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ks,lastRenderedState:St},Ct.queue=St,St=St.dispatch=nv.bind(null,lo,St),[Ct.memoizedState,St]}function Fl(St,Ct,Mt,kt){return St={tag:St,create:Ct,destroy:Mt,deps:kt,next:null},Ct=lo.updateQueue,Ct===null?(Ct={lastEffect:null,stores:null},lo.updateQueue=Ct,Ct.lastEffect=St.next=St):(Mt=Ct.lastEffect,Mt===null?Ct.lastEffect=St.next=St:(kt=Mt.next,Mt.next=St,St.next=kt,Ct.lastEffect=St)),St}function Jp(){return ps().memoizedState}function uu(St,Ct,Mt,kt){var Ht=bs();lo.flags|=St,Ht.memoizedState=Fl(1|Ct,Mt,void 0,kt===void 0?null:kt)}function du(St,Ct,Mt,kt){var Ht=ps();kt=kt===void 0?null:kt;var er=void 0;if(Io!==null){var Er=Io.memoizedState;if(er=Er.destroy,kt!==null&&Yu(kt,Er.deps)){Ht.memoizedState=Fl(Ct,Mt,er,kt);return}}lo.flags|=St,Ht.memoizedState=Fl(1|Ct,Mt,er,kt)}function Qu(St,Ct){return uu(8390656,8,St,Ct)}function Ul(St,Ct){return du(2048,8,St,Ct)}function Xp(St,Ct){return du(4,2,St,Ct)}function Zp(St,Ct){return du(4,4,St,Ct)}function Qp(St,Ct){if(typeof Ct=="function")return St=St(),Ct(St),function(){Ct(null)};if(Ct!=null)return St=St(),Ct.current=St,function(){Ct.current=null}}function _h(St,Ct,Mt){return Mt=Mt!=null?Mt.concat([St]):null,du(4,4,Qp.bind(null,Ct,St),Mt)}function _d(){}function em(St,Ct){var Mt=ps();Ct=Ct===void 0?null:Ct;var kt=Mt.memoizedState;return kt!==null&&Ct!==null&&Yu(Ct,kt[1])?kt[0]:(Mt.memoizedState=[St,Ct],St)}function tm(St,Ct){var Mt=ps();Ct=Ct===void 0?null:Ct;var kt=Mt.memoizedState;return kt!==null&&Ct!==null&&Yu(Ct,kt[1])?kt[0]:(St=St(),Mt.memoizedState=[St,Ct],St)}function tv(St,Ct){var Mt=Vn;Vn=Mt!==0&&4>Mt?Mt:4,St(!0);var kt=na.transition;na.transition={};try{St(!1),Ct()}finally{Vn=Mt,na.transition=kt}}function rm(){return ps().memoizedState}function rv(St,Ct,Mt){var kt=As(St);Mt={lane:kt,action:Mt,hasEagerState:!1,eagerState:null,next:null},nm(St)?im(Ct,Mt):(om(St,Ct,Mt),Mt=ko(),St=ga(St,kt,Mt),St!==null&&am(St,Ct,kt))}function nv(St,Ct,Mt){var kt=As(St),Ht={lane:kt,action:Mt,hasEagerState:!1,eagerState:null,next:null};if(nm(St))im(Ct,Ht);else{om(St,Ct,Ht);var er=St.alternate;if(St.lanes===0&&(er===null||er.lanes===0)&&(er=Ct.lastRenderedReducer,er!==null))try{var Er=Ct.lastRenderedState,Nr=er(Er,Mt);if(Ht.hasEagerState=!0,Ht.eagerState=Nr,Ho(Nr,Er))return}catch{}finally{}Mt=ko(),St=ga(St,kt,Mt),St!==null&&am(St,Ct,kt)}}function nm(St){var Ct=St.alternate;return St===lo||Ct!==null&&Ct===lo}function im(St,Ct){Dl=su=!0;var Mt=St.pending;Mt===null?Ct.next=Ct:(Ct.next=Mt.next,Mt.next=Ct),St.pending=Ct}function om(St,Ct,Mt){po!==null&&St.mode&1&&!(Yn&2)?(St=Ct.interleaved,St===null?(Mt.next=Mt,vo===null?vo=[Ct]:vo.push(Ct)):(Mt.next=St.next,St.next=Mt),Ct.interleaved=Mt):(St=Ct.pending,St===null?Mt.next=Mt:(Mt.next=St.next,St.next=Mt),Ct.pending=Mt)}function am(St,Ct,Mt){if(Mt&4194240){var kt=Ct.lanes;kt&=St.pendingLanes,Mt|=kt,Ct.lanes=Mt,Yo(St,Mt)}}var fu={readContext:no,useCallback:Ro,useContext:Ro,useEffect:Ro,useImperativeHandle:Ro,useInsertionEffect:Ro,useLayoutEffect:Ro,useMemo:Ro,useReducer:Ro,useRef:Ro,useState:Ro,useDebugValue:Ro,useDeferredValue:Ro,useTransition:Ro,useMutableSource:Ro,useSyncExternalStore:Ro,useId:Ro,unstable_isNewReconciler:!1},iv={readContext:no,useCallback:function(St,Ct){return bs().memoizedState=[St,Ct===void 0?null:Ct],St},useContext:no,useEffect:Qu,useImperativeHandle:function(St,Ct,Mt){return Mt=Mt!=null?Mt.concat([St]):null,uu(4194308,4,Qp.bind(null,Ct,St),Mt)},useLayoutEffect:function(St,Ct){return uu(4194308,4,St,Ct)},useInsertionEffect:function(St,Ct){return uu(4,2,St,Ct)},useMemo:function(St,Ct){var Mt=bs();return Ct=Ct===void 0?null:Ct,St=St(),Mt.memoizedState=[St,Ct],St},useReducer:function(St,Ct,Mt){var kt=bs();return Ct=Mt!==void 0?Mt(Ct):Ct,kt.memoizedState=kt.baseState=Ct,St={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:St,lastRenderedState:Ct},kt.queue=St,St=St.dispatch=rv.bind(null,lo,St),[kt.memoizedState,St]},useRef:function(St){var Ct=bs();return St={current:St},Ct.memoizedState=St},useState:Zu,useDebugValue:_d,useDeferredValue:function(St){var Ct=Zu(St),Mt=Ct[0],kt=Ct[1];return Qu(function(){var Ht=na.transition;na.transition={};try{kt(St)}finally{na.transition=Ht}},[St]),Mt},useTransition:function(){var St=Zu(!1),Ct=St[0];return St=tv.bind(null,St[1]),bs().memoizedState=St,[Ct,St]},useMutableSource:function(){},useSyncExternalStore:function(St,Ct,Mt){var kt=lo,Ht=bs();if(ao){if(Mt===void 0)throw Error(at(407));Mt=Mt()}else{if(Mt=Ct(),po===null)throw Error(at(349));_l&30||Wp(kt,Ct,Mt)}Ht.memoizedState=Mt;var er={value:Mt,getSnapshot:Ct};return Ht.queue=er,Qu(Kp.bind(null,kt,er,St),[St]),kt.flags|=2048,Fl(9,qp.bind(null,kt,er,Mt,Ct),void 0,null),Mt},useId:function(){var St=bs(),Ct=po.identifierPrefix;if(ao){var Mt=_s,kt=ys;Mt=(kt&~(1<<32-sn(kt)-1)).toString(32)+Mt,Ct=":"+Ct+"R"+Mt,Mt=Bl++,0<Mt&&(Ct+="H"+Mt.toString(32)),Ct+=":"}else Mt=ev++,Ct=":"+Ct+"r"+Mt.toString(32)+":";return St.memoizedState=Ct},unstable_isNewReconciler:!1},ov={readContext:no,useCallback:em,useContext:no,useEffect:Ul,useImperativeHandle:_h,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:tm,useReducer:lu,useRef:Jp,useState:function(){return lu(ks)},useDebugValue:_d,useDeferredValue:function(St){var Ct=lu(ks),Mt=Ct[0],kt=Ct[1];return Ul(function(){var Ht=na.transition;na.transition={};try{kt(St)}finally{na.transition=Ht}},[St]),Mt},useTransition:function(){var St=lu(ks)[0],Ct=ps().memoizedState;return[St,Ct]},useMutableSource:Hp,useSyncExternalStore:Vp,useId:rm,unstable_isNewReconciler:!1},av={readContext:no,useCallback:em,useContext:no,useEffect:Ul,useImperativeHandle:_h,useInsertionEffect:Xp,useLayoutEffect:Zp,useMemo:tm,useReducer:cu,useRef:Jp,useState:function(){return cu(ks)},useDebugValue:_d,useDeferredValue:function(St){var Ct=cu(ks),Mt=Ct[0],kt=Ct[1];return Ul(function(){var Ht=na.transition;na.transition={};try{kt(St)}finally{na.transition=Ht}},[St]),Mt},useTransition:function(){var St=cu(ks)[0],Ct=ps().memoizedState;return[St,Ct]},useMutableSource:Hp,useSyncExternalStore:Vp,useId:rm,unstable_isNewReconciler:!1};function _f(St,Ct){try{var Mt="",kt=Ct;do Mt+=Ls(kt),kt=kt.return;while(kt);var Ht=Mt}catch(er){Ht=`
Error generating stack: `+er.message+`
`+er.stack}return{value:St,source:Ct,stack:Ht}}function ep(St,Ct){try{console.error(Ct.value)}catch(Mt){setTimeout(function(){throw Mt})}}var sv=typeof WeakMap=="function"?WeakMap:Map;function sm(St,Ct,Mt){Mt=vs(-1,Mt),Mt.tag=3,Mt.payload={element:null};var kt=Ct.value;return Mt.callback=function(){Au||(Au=!0,_p=kt),ep(St,Ct)},Mt}function lm(St,Ct,Mt){Mt=vs(-1,Mt),Mt.tag=3;var kt=St.type.getDerivedStateFromError;if(typeof kt=="function"){var Ht=Ct.value;Mt.payload=function(){return kt(Ht)},Mt.callback=function(){ep(St,Ct)}}var er=St.stateNode;return er!==null&&typeof er.componentDidCatch=="function"&&(Mt.callback=function(){ep(St,Ct),typeof kt!="function"&&(Ts===null?Ts=new Set([this]):Ts.add(this));var Er=Ct.stack;this.componentDidCatch(Ct.value,{componentStack:Er!==null?Er:""})}),Mt}function cm(St,Ct,Mt){var kt=St.pingCache;if(kt===null){kt=St.pingCache=new sv;var Ht=new Set;kt.set(Ct,Ht)}else Ht=kt.get(Ct),Ht===void 0&&(Ht=new Set,kt.set(Ct,Ht));Ht.has(Mt)||(Ht.add(Mt),St=xv.bind(null,St,Ct,Mt),Ct.then(St,St))}function um(St){do{var Ct;if((Ct=St.tag===13)&&(Ct=St.memoizedState,Ct=Ct!==null?Ct.dehydrated!==null:!0),Ct)return St;St=St.return}while(St!==null);return null}function dm(St,Ct,Mt,kt,Ht){return St.mode&1?(St.flags|=65536,St.lanes=Ht,St):(St===Ct?St.flags|=65536:(St.flags|=128,Mt.flags|=131072,Mt.flags&=-52805,Mt.tag===1&&(Mt.alternate===null?Mt.tag=17:(Ct=vs(-1,1),Ct.tag=2,Cs(Mt,Ct))),Mt.lanes|=1),St)}function hs(St){St.flags|=4}function fm(St,Ct){if(St!==null&&St.child===Ct.child)return!0;if(Ct.flags&16)return!1;for(St=Ct.child;St!==null;){if(St.flags&12854||St.subtreeFlags&12854)return!1;St=St.sibling}return!0}var Gl,zl,pu,hu;if(vr)Gl=function(St,Ct){for(var Mt=Ct.child;Mt!==null;){if(Mt.tag===5||Mt.tag===6)Ft(St,Mt.stateNode);else if(Mt.tag!==4&&Mt.child!==null){Mt.child.return=Mt,Mt=Mt.child;continue}if(Mt===Ct)break;for(;Mt.sibling===null;){if(Mt.return===null||Mt.return===Ct)return;Mt=Mt.return}Mt.sibling.return=Mt.return,Mt=Mt.sibling}},zl=function(){},pu=function(St,Ct,Mt,kt,Ht){if(St=St.memoizedProps,St!==kt){var er=Ct.stateNode,Er=fs(Qo.current);Mt=Kt(er,Mt,St,kt,Ht,Er),(Ct.updateQueue=Mt)&&hs(Ct)}},hu=function(St,Ct,Mt,kt){Mt!==kt&&hs(Ct)};else if(dr){Gl=function(St,Ct,Mt,kt){for(var Ht=Ct.child;Ht!==null;){if(Ht.tag===5){var er=Ht.stateNode;Mt&&kt&&(er=Mn(er,Ht.type,Ht.memoizedProps,Ht)),Ft(St,er)}else if(Ht.tag===6)er=Ht.stateNode,Mt&&kt&&(er=Ln(er,Ht.memoizedProps,Ht)),Ft(St,er);else if(Ht.tag!==4){if(Ht.tag===22&&Ht.memoizedState!==null)er=Ht.child,er!==null&&(er.return=Ht),Gl(St,Ht,!0,!0);else if(Ht.child!==null){Ht.child.return=Ht,Ht=Ht.child;continue}}if(Ht===Ct)break;for(;Ht.sibling===null;){if(Ht.return===null||Ht.return===Ct)return;Ht=Ht.return}Ht.sibling.return=Ht.return,Ht=Ht.sibling}};var pm=function(St,Ct,Mt,kt){for(var Ht=Ct.child;Ht!==null;){if(Ht.tag===5){var er=Ht.stateNode;Mt&&kt&&(er=Mn(er,Ht.type,Ht.memoizedProps,Ht)),Dn(St,er)}else if(Ht.tag===6)er=Ht.stateNode,Mt&&kt&&(er=Ln(er,Ht.memoizedProps,Ht)),Dn(St,er);else if(Ht.tag!==4){if(Ht.tag===22&&Ht.memoizedState!==null)er=Ht.child,er!==null&&(er.return=Ht),pm(St,Ht,!0,!0);else if(Ht.child!==null){Ht.child.return=Ht,Ht=Ht.child;continue}}if(Ht===Ct)break;for(;Ht.sibling===null;){if(Ht.return===null||Ht.return===Ct)return;Ht=Ht.return}Ht.sibling.return=Ht.return,Ht=Ht.sibling}};zl=function(St,Ct){var Mt=Ct.stateNode;if(!fm(St,Ct)){St=Mt.containerInfo;var kt=On(St);pm(kt,Ct,!1,!1),Mt.pendingChildren=kt,hs(Ct),Bn(St,kt)}},pu=function(St,Ct,Mt,kt,Ht){var er=St.stateNode,Er=St.memoizedProps;if((St=fm(St,Ct))&&Er===kt)Ct.stateNode=er;else{var Nr=Ct.stateNode,qr=fs(Qo.current),pn=null;Er!==kt&&(pn=Kt(Nr,Mt,Er,kt,Ht,qr)),St&&pn===null?Ct.stateNode=er:(er=dn(er,pn,Mt,Er,kt,Ct,St,Nr),Zt(er,Mt,kt,Ht,qr)&&hs(Ct),Ct.stateNode=er,St?hs(Ct):Gl(er,Ct,!1,!1))}},hu=function(St,Ct,Mt,kt){Mt!==kt?(St=fs(Qs.current),Mt=fs(Qo.current),Ct.stateNode=rr(kt,St,Mt,Ct),hs(Ct)):Ct.stateNode=St.stateNode}}else zl=function(){},pu=function(){},hu=function(){};function Hl(St,Ct){if(!ao)switch(St.tailMode){case"hidden":Ct=St.tail;for(var Mt=null;Ct!==null;)Ct.alternate!==null&&(Mt=Ct),Ct=Ct.sibling;Mt===null?St.tail=null:Mt.sibling=null;break;case"collapsed":Mt=St.tail;for(var kt=null;Mt!==null;)Mt.alternate!==null&&(kt=Mt),Mt=Mt.sibling;kt===null?Ct||St.tail===null?St.tail=null:St.tail.sibling=null:kt.sibling=null}}function Po(St){var Ct=St.alternate!==null&&St.alternate.child===St.child,Mt=0,kt=0;if(Ct)for(var Ht=St.child;Ht!==null;)Mt|=Ht.lanes|Ht.childLanes,kt|=Ht.subtreeFlags&14680064,kt|=Ht.flags&14680064,Ht.return=St,Ht=Ht.sibling;else for(Ht=St.child;Ht!==null;)Mt|=Ht.lanes|Ht.childLanes,kt|=Ht.subtreeFlags,kt|=Ht.flags,Ht.return=St,Ht=Ht.sibling;return St.subtreeFlags|=kt,St.childLanes=Mt,Ct}function lv(St,Ct,Mt){var kt=Ct.pendingProps;switch(ju(Ct),Ct.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Po(Ct),null;case 1:return Pr(Ct.type)&&wr(),Po(Ct),null;case 3:return kt=Ct.stateNode,yl(),kn(Tr),kn(ur),Ku(),kt.pendingContext&&(kt.context=kt.pendingContext,kt.pendingContext=null),(St===null||St.child===null)&&(Pl(Ct)?hs(Ct):St===null||St.memoizedState.isDehydrated&&!(Ct.flags&256)||(Ct.flags|=1024,os!==null&&($p(os),os=null))),zl(St,Ct),Po(Ct),null;case 5:Wu(Ct),Mt=fs(Qs.current);var Ht=Ct.type;if(St!==null&&Ct.stateNode!=null)pu(St,Ct,Ht,kt,Mt),St.ref!==Ct.ref&&(Ct.flags|=512,Ct.flags|=2097152);else{if(!kt){if(Ct.stateNode===null)throw Error(at(166));return Po(Ct),null}if(St=fs(Qo.current),Pl(Ct)){if(!xr)throw Error(at(175));St=Or(Ct.stateNode,Ct.type,Ct.memoizedProps,Mt,St,Ct,!Rl),Ct.updateQueue=St,St!==null&&hs(Ct)}else{var er=Dt(Ht,kt,Mt,St,Ct);Gl(er,Ct,!1,!1),Ct.stateNode=er,Zt(er,Ht,kt,Mt,St)&&hs(Ct)}Ct.ref!==null&&(Ct.flags|=512,Ct.flags|=2097152)}return Po(Ct),null;case 6:if(St&&Ct.stateNode!=null)hu(St,Ct,St.memoizedProps,kt);else{if(typeof kt!="string"&&Ct.stateNode===null)throw Error(at(166));if(St=fs(Qs.current),Mt=fs(Qo.current),Pl(Ct)){if(!xr)throw Error(at(176));if(St=Ct.stateNode,kt=Ct.memoizedProps,(Mt=Rr(St,kt,Ct,!Rl))&&(Ht=Vo,Ht!==null))switch(er=(Ht.mode&1)!==0,Ht.tag){case 3:Eo(Ht.stateNode.containerInfo,St,kt,er);break;case 5:wo(Ht.type,Ht.memoizedProps,Ht.stateNode,St,kt,er)}Mt&&hs(Ct)}else Ct.stateNode=rr(kt,St,Mt,Ct)}return Po(Ct),null;case 13:if(kn(so),kt=Ct.memoizedState,ao&&Wo!==null&&Ct.mode&1&&!(Ct.flags&128)){for(St=Wo;St;)St=kr(St);return Xs(),Ct.flags|=98560,Ct}if(kt!==null&&kt.dehydrated!==null){if(kt=Pl(Ct),St===null){if(!kt)throw Error(at(318));if(!xr)throw Error(at(344));if(St=Ct.memoizedState,St=St!==null?St.dehydrated:null,!St)throw Error(at(317));Xr(St,Ct)}else Xs(),!(Ct.flags&128)&&(Ct.memoizedState=null),Ct.flags|=4;return Po(Ct),null}return os!==null&&($p(os),os=null),Ct.flags&128?(Ct.lanes=Mt,Ct):(kt=kt!==null,Mt=!1,St===null?Pl(Ct):Mt=St.memoizedState!==null,kt&&!Mt&&(Ct.child.flags|=8192,Ct.mode&1&&(St===null||so.current&1?yo===0&&(yo=3):Sp())),Ct.updateQueue!==null&&(Ct.flags|=4),Po(Ct),null);case 4:return yl(),zl(St,Ct),St===null&&Wt(Ct.stateNode.containerInfo),Po(Ct),null;case 10:return ds(Ct.type._context),Po(Ct),null;case 17:return Pr(Ct.type)&&wr(),Po(Ct),null;case 19:if(kn(so),Ht=Ct.memoizedState,Ht===null)return Po(Ct),null;if(kt=(Ct.flags&128)!==0,er=Ht.rendering,er===null)if(kt)Hl(Ht,!1);else{if(yo!==0||St!==null&&St.flags&128)for(St=Ct.child;St!==null;){if(er=ou(St),er!==null){for(Ct.flags|=128,Hl(Ht,!1),St=er.updateQueue,St!==null&&(Ct.updateQueue=St,Ct.flags|=4),Ct.subtreeFlags=0,St=Mt,kt=Ct.child;kt!==null;)Mt=kt,Ht=St,Mt.flags&=14680066,er=Mt.alternate,er===null?(Mt.childLanes=0,Mt.lanes=Ht,Mt.child=null,Mt.subtreeFlags=0,Mt.memoizedProps=null,Mt.memoizedState=null,Mt.updateQueue=null,Mt.dependencies=null,Mt.stateNode=null):(Mt.childLanes=er.childLanes,Mt.lanes=er.lanes,Mt.child=er.child,Mt.subtreeFlags=0,Mt.deletions=null,Mt.memoizedProps=er.memoizedProps,Mt.memoizedState=er.memoizedState,Mt.updateQueue=er.updateQueue,Mt.type=er.type,Ht=er.dependencies,Mt.dependencies=Ht===null?null:{lanes:Ht.lanes,firstContext:Ht.firstContext}),kt=kt.sibling;return Hn(so,so.current&1|2),Ct.child}St=St.sibling}Ht.tail!==null&&oo()>yp&&(Ct.flags|=128,kt=!0,Hl(Ht,!1),Ct.lanes=4194304)}else{if(!kt)if(St=ou(er),St!==null){if(Ct.flags|=128,kt=!0,St=St.updateQueue,St!==null&&(Ct.updateQueue=St,Ct.flags|=4),Hl(Ht,!0),Ht.tail===null&&Ht.tailMode==="hidden"&&!er.alternate&&!ao)return Po(Ct),null}else 2*oo()-Ht.renderingStartTime>yp&&Mt!==1073741824&&(Ct.flags|=128,kt=!0,Hl(Ht,!1),Ct.lanes=4194304);Ht.isBackwards?(er.sibling=Ct.child,Ct.child=er):(St=Ht.last,St!==null?St.sibling=er:Ct.child=er,Ht.last=er)}return Ht.tail!==null?(Ct=Ht.tail,Ht.rendering=Ct,Ht.tail=Ct.sibling,Ht.renderingStartTime=oo(),Ct.sibling=null,St=so.current,Hn(so,kt?St&1|2:St&1),Ct):(Po(Ct),null);case 22:case 23:return Ep(),kt=Ct.memoizedState!==null,St!==null&&St.memoizedState!==null!==kt&&(Ct.flags|=8192),kt&&Ct.mode&1?Ko&1073741824&&(Po(Ct),vr&&Ct.subtreeFlags&6&&(Ct.flags|=8192)):Po(Ct),null;case 24:return null;case 25:return null}throw Error(at(156,Ct.tag))}var cv=st.ReactCurrentOwner,qo=!1;function Do(St,Ct,Mt,kt){Ct.child=St===null?Gp(Ct,null,Mt,kt):Zs(Ct,St.child,Mt,kt)}function hm(St,Ct,Mt,kt,Ht){Mt=Mt.render;var er=Ct.ref;return bo(Ct,Ht),kt=Ju(St,Ct,Mt,kt,er,Ht),Mt=Xu(),St!==null&&!qo?(Ct.updateQueue=St.updateQueue,Ct.flags&=-2053,St.lanes&=~Ht,xs(St,Ct,Ht)):(ao&&Mt&&Uu(Ct),Ct.flags|=1,Do(St,Ct,kt,Ht),Ct.child)}function mm(St,Ct,Mt,kt,Ht){if(St===null){var er=Mt.type;return typeof er=="function"&&!Cp(er)&&er.defaultProps===void 0&&Mt.compare===null&&Mt.defaultProps===void 0?(Ct.tag=15,Ct.type=er,gm(St,Ct,er,kt,Ht)):(St=Nu(Mt.type,null,kt,Ct,Ct.mode,Ht),St.ref=Ct.ref,St.return=Ct,Ct.child=St)}if(er=St.child,!(St.lanes&Ht)){var Er=er.memoizedProps;if(Mt=Mt.compare,Mt=Mt!==null?Mt:Ms,Mt(Er,kt)&&St.ref===Ct.ref)return xs(St,Ct,Ht)}return Ct.flags|=1,St=Is(er,kt),St.ref=Ct.ref,St.return=Ct,Ct.child=St}function gm(St,Ct,Mt,kt,Ht){if(St!==null&&Ms(St.memoizedProps,kt)&&St.ref===Ct.ref)if(qo=!1,(St.lanes&Ht)!==0)St.flags&131072&&(qo=!0);else return Ct.lanes=St.lanes,xs(St,Ct,Ht);return tp(St,Ct,Mt,kt,Ht)}function vm(St,Ct,Mt){var kt=Ct.pendingProps,Ht=kt.children,er=St!==null?St.memoizedState:null;if(kt.mode==="hidden")if(!(Ct.mode&1))Ct.memoizedState={baseLanes:0,cachePool:null},Hn(xl,Ko),Ko|=Mt;else if(Mt&1073741824)Ct.memoizedState={baseLanes:0,cachePool:null},kt=er!==null?er.baseLanes:Mt,Hn(xl,Ko),Ko|=kt;else return St=er!==null?er.baseLanes|Mt:Mt,Ct.lanes=Ct.childLanes=1073741824,Ct.memoizedState={baseLanes:St,cachePool:null},Ct.updateQueue=null,Hn(xl,Ko),Ko|=St,null;else er!==null?(kt=er.baseLanes|Mt,Ct.memoizedState=null):kt=Mt,Hn(xl,Ko),Ko|=kt;return Do(St,Ct,Ht,Mt),Ct.child}function ym(St,Ct){var Mt=Ct.ref;(St===null&&Mt!==null||St!==null&&St.ref!==Mt)&&(Ct.flags|=512,Ct.flags|=2097152)}function tp(St,Ct,Mt,kt,Ht){var er=Pr(Mt)?_r:ur.current;return er=Ir(Ct,er),bo(Ct,Ht),Mt=Ju(St,Ct,Mt,kt,er,Ht),kt=Xu(),St!==null&&!qo?(Ct.updateQueue=St.updateQueue,Ct.flags&=-2053,St.lanes&=~Ht,xs(St,Ct,Ht)):(ao&&kt&&Uu(Ct),Ct.flags|=1,Do(St,Ct,Mt,Ht),Ct.child)}function _m(St,Ct,Mt,kt,Ht){if(Pr(Mt)){var er=!0;Qr(Ct)}else er=!1;if(bo(Ct,Ht),Ct.stateNode===null)St!==null&&(St.alternate=null,Ct.alternate=null,Ct.flags|=2),Lp(Ct,Mt,kt),Fu(Ct,Mt,kt,Ht),kt=!0;else if(St===null){var Er=Ct.stateNode,Nr=Ct.memoizedProps;Er.props=Nr;var qr=Er.context,pn=Mt.contextType;typeof pn=="object"&&pn!==null?pn=no(pn):(pn=Pr(Mt)?_r:ur.current,pn=Ir(Ct,pn));var En=Mt.getDerivedStateFromProps,Gn=typeof En=="function"||typeof Er.getSnapshotBeforeUpdate=="function";Gn||typeof Er.UNSAFE_componentWillReceiveProps!="function"&&typeof Er.componentWillReceiveProps!="function"||(Nr!==kt||qr!==pn)&&Np(Ct,Er,kt,pn),ns=!1;var Pn=Ct.memoizedState;Er.state=Pn,eu(Ct,kt,Er,Ht),qr=Ct.memoizedState,Nr!==kt||Pn!==qr||Tr.current||ns?(typeof En=="function"&&(Bu(Ct,Mt,En,kt),qr=Ct.memoizedState),(Nr=ns||Mp(Ct,Mt,Nr,kt,Pn,qr,pn))?(Gn||typeof Er.UNSAFE_componentWillMount!="function"&&typeof Er.componentWillMount!="function"||(typeof Er.componentWillMount=="function"&&Er.componentWillMount(),typeof Er.UNSAFE_componentWillMount=="function"&&Er.UNSAFE_componentWillMount()),typeof Er.componentDidMount=="function"&&(Ct.flags|=4194308)):(typeof Er.componentDidMount=="function"&&(Ct.flags|=4194308),Ct.memoizedProps=kt,Ct.memoizedState=qr),Er.props=kt,Er.state=qr,Er.context=pn,kt=Nr):(typeof Er.componentDidMount=="function"&&(Ct.flags|=4194308),kt=!1)}else{Er=Ct.stateNode,Op(St,Ct),Nr=Ct.memoizedProps,pn=Ct.type===Ct.elementType?Nr:Oo(Ct.type,Nr),Er.props=pn,Gn=Ct.pendingProps,Pn=Er.context,qr=Mt.contextType,typeof qr=="object"&&qr!==null?qr=no(qr):(qr=Pr(Mt)?_r:ur.current,qr=Ir(Ct,qr));var io=Mt.getDerivedStateFromProps;(En=typeof io=="function"||typeof Er.getSnapshotBeforeUpdate=="function")||typeof Er.UNSAFE_componentWillReceiveProps!="function"&&typeof Er.componentWillReceiveProps!="function"||(Nr!==Gn||Pn!==qr)&&Np(Ct,Er,kt,qr),ns=!1,Pn=Ct.memoizedState,Er.state=Pn,eu(Ct,kt,Er,Ht);var In=Ct.memoizedState;Nr!==Gn||Pn!==In||Tr.current||ns?(typeof io=="function"&&(Bu(Ct,Mt,io,kt),In=Ct.memoizedState),(pn=ns||Mp(Ct,Mt,pn,kt,Pn,In,qr)||!1)?(En||typeof Er.UNSAFE_componentWillUpdate!="function"&&typeof Er.componentWillUpdate!="function"||(typeof Er.componentWillUpdate=="function"&&Er.componentWillUpdate(kt,In,qr),typeof Er.UNSAFE_componentWillUpdate=="function"&&Er.UNSAFE_componentWillUpdate(kt,In,qr)),typeof Er.componentDidUpdate=="function"&&(Ct.flags|=4),typeof Er.getSnapshotBeforeUpdate=="function"&&(Ct.flags|=1024)):(typeof Er.componentDidUpdate!="function"||Nr===St.memoizedProps&&Pn===St.memoizedState||(Ct.flags|=4),typeof Er.getSnapshotBeforeUpdate!="function"||Nr===St.memoizedProps&&Pn===St.memoizedState||(Ct.flags|=1024),Ct.memoizedProps=kt,Ct.memoizedState=In),Er.props=kt,Er.state=In,Er.context=qr,kt=pn):(typeof Er.componentDidUpdate!="function"||Nr===St.memoizedProps&&Pn===St.memoizedState||(Ct.flags|=4),typeof Er.getSnapshotBeforeUpdate!="function"||Nr===St.memoizedProps&&Pn===St.memoizedState||(Ct.flags|=1024),kt=!1)}return rp(St,Ct,Mt,kt,er,Ht)}function rp(St,Ct,Mt,kt,Ht,er){ym(St,Ct);var Er=(Ct.flags&128)!==0;if(!kt&&!Er)return Ht&&cn(Ct,Mt,!1),xs(St,Ct,er);kt=Ct.stateNode,cv.current=Ct;var Nr=Er&&typeof Mt.getDerivedStateFromError!="function"?null:kt.render();return Ct.flags|=1,St!==null&&Er?(Ct.child=Zs(Ct,St.child,null,er),Ct.child=Zs(Ct,null,Nr,er)):Do(St,Ct,Nr,er),Ct.memoizedState=kt.state,Ht&&cn(Ct,Mt,!0),Ct.child}function bm(St){var Ct=St.stateNode;Ct.pendingContext?Kr(St,Ct.pendingContext,Ct.pendingContext!==Ct.context):Ct.context&&Kr(St,Ct.context,!1),Vu(St,Ct.containerInfo)}function xm(St,Ct,Mt,kt,Ht){return Xs(),Hu(Ht),Ct.flags|=256,Do(St,Ct,Mt,kt),Ct.child}var mu={dehydrated:null,treeContext:null,retryLane:0};function gu(St){return{baseLanes:St,cachePool:null}}function $m(St,Ct,Mt){var kt=Ct.pendingProps,Ht=so.current,er=!1,Er=(Ct.flags&128)!==0,Nr;if((Nr=Er)||(Nr=St!==null&&St.memoizedState===null?!1:(Ht&2)!==0),Nr?(er=!0,Ct.flags&=-129):(St===null||St.memoizedState!==null)&&(Ht|=1),Hn(so,Ht&1),St===null)return zu(Ct),St=Ct.memoizedState,St!==null&&(St=St.dehydrated,St!==null)?(Ct.mode&1?Tn(St)?Ct.lanes=8:Ct.lanes=1073741824:Ct.lanes=1,null):(Ht=kt.children,St=kt.fallback,er?(kt=Ct.mode,er=Ct.child,Ht={mode:"hidden",children:Ht},!(kt&1)&&er!==null?(er.childLanes=0,er.pendingProps=Ht):er=Du(Ht,kt,0,null),St=zs(St,kt,Mt,null),er.return=Ct,St.return=Ct,er.sibling=St,Ct.child=er,Ct.child.memoizedState=gu(Mt),Ct.memoizedState=mu,St):np(Ct,Ht));if(Ht=St.memoizedState,Ht!==null){if(Nr=Ht.dehydrated,Nr!==null){if(Er)return Ct.flags&256?(Ct.flags&=-257,vu(St,Ct,Mt,Error(at(422)))):Ct.memoizedState!==null?(Ct.child=St.child,Ct.flags|=128,null):(er=kt.fallback,Ht=Ct.mode,kt=Du({mode:"visible",children:kt.children},Ht,0,null),er=zs(er,Ht,Mt,null),er.flags|=2,kt.return=Ct,er.return=Ct,kt.sibling=er,Ct.child=kt,Ct.mode&1&&Zs(Ct,St.child,null,Mt),Ct.child.memoizedState=gu(Mt),Ct.memoizedState=mu,er);if(!(Ct.mode&1))Ct=vu(St,Ct,Mt,null);else if(Tn(Nr))Ct=vu(St,Ct,Mt,Error(at(419)));else if(kt=(Mt&St.childLanes)!==0,qo||kt){if(kt=po,kt!==null){switch(Mt&-Mt){case 4:er=2;break;case 16:er=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:er=32;break;case 536870912:er=268435456;break;default:er=0}kt=er&(kt.suspendedLanes|Mt)?0:er,kt!==0&&kt!==Ht.retryLane&&(Ht.retryLane=kt,ga(St,kt,-1))}Sp(),Ct=vu(St,Ct,Mt,Error(at(421)))}else yn(Nr)?(Ct.flags|=128,Ct.child=St.child,Ct=$v.bind(null,St),gr(Nr,Ct),Ct=null):(Mt=Ht.treeContext,xr&&(Wo=Vr(Nr),Vo=Ct,ao=!0,os=null,Rl=!1,Mt!==null&&(Xo[Zo++]=ys,Xo[Zo++]=_s,Xo[Zo++]=Ns,ys=Mt.id,_s=Mt.overflow,Ns=Ct)),Ct=np(Ct,Ct.pendingProps.children),Ct.flags|=4096);return Ct}return er?(kt=Sm(St,Ct,kt.children,kt.fallback,Mt),er=Ct.child,Ht=St.child.memoizedState,er.memoizedState=Ht===null?gu(Mt):{baseLanes:Ht.baseLanes|Mt,cachePool:null},er.childLanes=St.childLanes&~Mt,Ct.memoizedState=mu,kt):(Mt=Em(St,Ct,kt.children,Mt),Ct.memoizedState=null,Mt)}return er?(kt=Sm(St,Ct,kt.children,kt.fallback,Mt),er=Ct.child,Ht=St.child.memoizedState,er.memoizedState=Ht===null?gu(Mt):{baseLanes:Ht.baseLanes|Mt,cachePool:null},er.childLanes=St.childLanes&~Mt,Ct.memoizedState=mu,kt):(Mt=Em(St,Ct,kt.children,Mt),Ct.memoizedState=null,Mt)}function np(St,Ct){return Ct=Du({mode:"visible",children:Ct},St.mode,0,null),Ct.return=St,St.child=Ct}function Em(St,Ct,Mt,kt){var Ht=St.child;return St=Ht.sibling,Mt=Is(Ht,{mode:"visible",children:Mt}),!(Ct.mode&1)&&(Mt.lanes=kt),Mt.return=Ct,Mt.sibling=null,St!==null&&(kt=Ct.deletions,kt===null?(Ct.deletions=[St],Ct.flags|=16):kt.push(St)),Ct.child=Mt}function Sm(St,Ct,Mt,kt,Ht){var er=Ct.mode;St=St.child;var Er=St.sibling,Nr={mode:"hidden",children:Mt};return!(er&1)&&Ct.child!==St?(Mt=Ct.child,Mt.childLanes=0,Mt.pendingProps=Nr,Ct.deletions=null):(Mt=Is(St,Nr),Mt.subtreeFlags=St.subtreeFlags&14680064),Er!==null?kt=Is(Er,kt):(kt=zs(kt,er,Ht,null),kt.flags|=2),kt.return=Ct,Mt.return=Ct,Mt.sibling=kt,Ct.child=Mt,kt}function vu(St,Ct,Mt,kt){return kt!==null&&Hu(kt),Zs(Ct,St.child,null,Mt),St=np(Ct,Ct.pendingProps.children),St.flags|=2,Ct.memoizedState=null,St}function Cm(St,Ct,Mt){St.lanes|=Ct;var kt=St.alternate;kt!==null&&(kt.lanes|=Ct),fo(St.return,Ct,Mt)}function ip(St,Ct,Mt,kt,Ht){var er=St.memoizedState;er===null?St.memoizedState={isBackwards:Ct,rendering:null,renderingStartTime:0,last:kt,tail:Mt,tailMode:Ht}:(er.isBackwards=Ct,er.rendering=null,er.renderingStartTime=0,er.last=kt,er.tail=Mt,er.tailMode=Ht)}function Tm(St,Ct,Mt){var kt=Ct.pendingProps,Ht=kt.revealOrder,er=kt.tail;if(Do(St,Ct,kt.children,Mt),kt=so.current,kt&2)kt=kt&1|2,Ct.flags|=128;else{if(St!==null&&St.flags&128)e:for(St=Ct.child;St!==null;){if(St.tag===13)St.memoizedState!==null&&Cm(St,Mt,Ct);else if(St.tag===19)Cm(St,Mt,Ct);else if(St.child!==null){St.child.return=St,St=St.child;continue}if(St===Ct)break e;for(;St.sibling===null;){if(St.return===null||St.return===Ct)break e;St=St.return}St.sibling.return=St.return,St=St.sibling}kt&=1}if(Hn(so,kt),!(Ct.mode&1))Ct.memoizedState=null;else switch(Ht){case"forwards":for(Mt=Ct.child,Ht=null;Mt!==null;)St=Mt.alternate,St!==null&&ou(St)===null&&(Ht=Mt),Mt=Mt.sibling;Mt=Ht,Mt===null?(Ht=Ct.child,Ct.child=null):(Ht=Mt.sibling,Mt.sibling=null),ip(Ct,!1,Ht,Mt,er);break;case"backwards":for(Mt=null,Ht=Ct.child,Ct.child=null;Ht!==null;){if(St=Ht.alternate,St!==null&&ou(St)===null){Ct.child=Ht;break}St=Ht.sibling,Ht.sibling=Mt,Mt=Ht,Ht=St}ip(Ct,!0,Mt,null,er);break;case"together":ip(Ct,!1,null,null,void 0);break;default:Ct.memoizedState=null}return Ct.child}function xs(St,Ct,Mt){if(St!==null&&(Ct.dependencies=St.dependencies),$l|=Ct.lanes,!(Mt&Ct.childLanes))return null;if(St!==null&&Ct.child!==St.child)throw Error(at(153));if(Ct.child!==null){for(St=Ct.child,Mt=Is(St,St.pendingProps),Ct.child=Mt,Mt.return=Ct;St.sibling!==null;)St=St.sibling,Mt=Mt.sibling=Is(St,St.pendingProps),Mt.return=Ct;Mt.sibling=null}return Ct.child}function uv(St,Ct,Mt){switch(Ct.tag){case 3:bm(Ct),Xs();break;case 5:zp(Ct);break;case 1:Pr(Ct.type)&&Qr(Ct);break;case 4:Vu(Ct,Ct.stateNode.containerInfo);break;case 10:Ql(Ct,Ct.type._context,Ct.memoizedProps.value);break;case 13:var kt=Ct.memoizedState;if(kt!==null)return kt.dehydrated!==null?(Hn(so,so.current&1),Ct.flags|=128,null):Mt&Ct.child.childLanes?$m(St,Ct,Mt):(Hn(so,so.current&1),St=xs(St,Ct,Mt),St!==null?St.sibling:null);Hn(so,so.current&1);break;case 19:if(kt=(Mt&Ct.childLanes)!==0,St.flags&128){if(kt)return Tm(St,Ct,Mt);Ct.flags|=128}var Ht=Ct.memoizedState;if(Ht!==null&&(Ht.rendering=null,Ht.tail=null,Ht.lastEffect=null),Hn(so,so.current),kt)break;return null;case 22:case 23:return Ct.lanes=0,vm(St,Ct,Mt)}return xs(St,Ct,Mt)}function dv(St,Ct){switch(ju(Ct),Ct.tag){case 1:return Pr(Ct.type)&&wr(),St=Ct.flags,St&65536?(Ct.flags=St&-65537|128,Ct):null;case 3:return yl(),kn(Tr),kn(ur),Ku(),St=Ct.flags,St&65536&&!(St&128)?(Ct.flags=St&-65537|128,Ct):null;case 5:return Wu(Ct),null;case 13:if(kn(so),St=Ct.memoizedState,St!==null&&St.dehydrated!==null){if(Ct.alternate===null)throw Error(at(340));Xs()}return St=Ct.flags,St&65536?(Ct.flags=St&-65537|128,Ct):null;case 19:return kn(so),null;case 4:return yl(),null;case 10:return ds(Ct.type._context),null;case 22:case 23:return Ep(),null;case 24:return null;default:return null}}var yu=!1,Bs=!1,fv=typeof WeakSet=="function"?WeakSet:Set,bn=null;function _u(St,Ct){var Mt=St.ref;if(Mt!==null)if(typeof Mt=="function")try{Mt(null)}catch(kt){Go(St,Ct,kt)}else Mt.current=null}function ap(St,Ct,Mt){try{Mt()}catch(kt){Go(St,Ct,kt)}}var wm=!1;function pv(St,Ct){for(jt(St.containerInfo),bn=Ct;bn!==null;)if(St=bn,Ct=St.child,(St.subtreeFlags&1028)!==0&&Ct!==null)Ct.return=St,bn=Ct;else for(;bn!==null;){St=bn;try{var Mt=St.alternate;if(St.flags&1024)switch(St.tag){case 0:case 11:case 15:break;case 1:if(Mt!==null){var kt=Mt.memoizedProps,Ht=Mt.memoizedState,er=St.stateNode,Er=er.getSnapshotBeforeUpdate(St.elementType===St.type?kt:Oo(St.type,kt),Ht);er.__reactInternalSnapshotBeforeUpdate=Er}break;case 3:vr&&Yr(St.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(at(163))}}catch(Nr){Go(St,St.return,Nr)}if(Ct=St.sibling,Ct!==null){Ct.return=St.return,bn=Ct;break}bn=St.return}return Mt=wm,wm=!1,Mt}function Fs(St,Ct,Mt){var kt=Ct.updateQueue;if(kt=kt!==null?kt.lastEffect:null,kt!==null){var Ht=kt=kt.next;do{if((Ht.tag&St)===St){var er=Ht.destroy;Ht.destroy=void 0,er!==void 0&&ap(Ct,Mt,er)}Ht=Ht.next}while(Ht!==kt)}}function Vl(St,Ct){if(Ct=Ct.updateQueue,Ct=Ct!==null?Ct.lastEffect:null,Ct!==null){var Mt=Ct=Ct.next;do{if((Mt.tag&St)===St){var kt=Mt.create;Mt.destroy=kt()}Mt=Mt.next}while(Mt!==Ct)}}function sp(St){var Ct=St.ref;if(Ct!==null){var Mt=St.stateNode;switch(St.tag){case 5:St=zt(Mt);break;default:St=Mt}typeof Ct=="function"?Ct(St):Ct.current=St}}function Am(St,Ct,Mt){if(zo&&typeof zo.onCommitFiberUnmount=="function")try{zo.onCommitFiberUnmount(Es,Ct)}catch{}switch(Ct.tag){case 0:case 11:case 14:case 15:if(St=Ct.updateQueue,St!==null&&(St=St.lastEffect,St!==null)){var kt=St=St.next;do{var Ht=kt,er=Ht.destroy;Ht=Ht.tag,er!==void 0&&(Ht&2||Ht&4)&&ap(Ct,Mt,er),kt=kt.next}while(kt!==St)}break;case 1:if(_u(Ct,Mt),St=Ct.stateNode,typeof St.componentWillUnmount=="function")try{St.props=Ct.memoizedProps,St.state=Ct.memoizedState,St.componentWillUnmount()}catch(Er){Go(Ct,Mt,Er)}break;case 5:_u(Ct,Mt);break;case 4:vr?Lm(St,Ct,Mt):dr&&dr&&(Ct=Ct.stateNode.containerInfo,Mt=On(Ct),Fn(Ct,Mt))}}function Om(St,Ct,Mt){for(var kt=Ct;;)if(Am(St,kt,Mt),kt.child===null||vr&&kt.tag===4){if(kt===Ct)break;for(;kt.sibling===null;){if(kt.return===null||kt.return===Ct)return;kt=kt.return}kt.sibling.return=kt.return,kt=kt.sibling}else kt.child.return=kt,kt=kt.child}function Im(St){var Ct=St.alternate;Ct!==null&&(St.alternate=null,Im(Ct)),St.child=null,St.deletions=null,St.sibling=null,St.tag===5&&(Ct=St.stateNode,Ct!==null&&Qt(Ct)),St.stateNode=null,St.return=null,St.dependencies=null,St.memoizedProps=null,St.memoizedState=null,St.pendingProps=null,St.stateNode=null,St.updateQueue=null}function Rm(St){return St.tag===5||St.tag===3||St.tag===4}function Pm(St){e:for(;;){for(;St.sibling===null;){if(St.return===null||Rm(St.return))return null;St=St.return}for(St.sibling.return=St.return,St=St.sibling;St.tag!==5&&St.tag!==6&&St.tag!==18;){if(St.flags&2||St.child===null||St.tag===4)continue e;St.child.return=St,St=St.child}if(!(St.flags&2))return St.stateNode}}function Mm(St){if(vr){e:{for(var Ct=St.return;Ct!==null;){if(Rm(Ct))break e;Ct=Ct.return}throw Error(at(160))}var Mt=Ct;switch(Mt.tag){case 5:Ct=Mt.stateNode,Mt.flags&32&&(gn(Ct),Mt.flags&=-33),Mt=Pm(St),cp(St,Mt,Ct);break;case 3:case 4:Ct=Mt.stateNode.containerInfo,Mt=Pm(St),lp(St,Mt,Ct);break;default:throw Error(at(161))}}}function lp(St,Ct,Mt){var kt=St.tag;if(kt===5||kt===6)St=St.stateNode,Ct?zr(Mt,St,Ct):hr(Mt,St);else if(kt!==4&&(St=St.child,St!==null))for(lp(St,Ct,Mt),St=St.sibling;St!==null;)lp(St,Ct,Mt),St=St.sibling}function cp(St,Ct,Mt){var kt=St.tag;if(kt===5||kt===6)St=St.stateNode,Ct?Fr(Mt,St,Ct):yr(Mt,St);else if(kt!==4&&(St=St.child,St!==null))for(cp(St,Ct,Mt),St=St.sibling;St!==null;)cp(St,Ct,Mt),St=St.sibling}function Lm(St,Ct,Mt){for(var kt=Ct,Ht=!1,er,Er;;){if(!Ht){Ht=kt.return;e:for(;;){if(Ht===null)throw Error(at(160));switch(er=Ht.stateNode,Ht.tag){case 5:Er=!1;break e;case 3:er=er.containerInfo,Er=!0;break e;case 4:er=er.containerInfo,Er=!0;break e}Ht=Ht.return}Ht=!0}if(kt.tag===5||kt.tag===6)Om(St,kt,Mt),Er?Jr(er,kt.stateNode):jr(er,kt.stateNode);else if(kt.tag===18)Er?_n(er,kt.stateNode):Cn(er,kt.stateNode);else if(kt.tag===4){if(kt.child!==null){er=kt.stateNode.containerInfo,Er=!0,kt.child.return=kt,kt=kt.child;continue}}else if(Am(St,kt,Mt),kt.child!==null){kt.child.return=kt,kt=kt.child;continue}if(kt===Ct)break;for(;kt.sibling===null;){if(kt.return===null||kt.return===Ct)return;kt=kt.return,kt.tag===4&&(Ht=!1)}kt.sibling.return=kt.return,kt=kt.sibling}}function up(St,Ct){if(vr){switch(Ct.tag){case 0:case 11:case 14:case 15:Fs(3,Ct,Ct.return),Vl(3,Ct),Fs(5,Ct,Ct.return);return;case 1:return;case 5:var Mt=Ct.stateNode;if(Mt!=null){var kt=Ct.memoizedProps;St=St!==null?St.memoizedProps:kt;var Ht=Ct.type,er=Ct.updateQueue;Ct.updateQueue=null,er!==null&&Ar(Mt,er,Ht,St,kt,Ct)}return;case 6:if(Ct.stateNode===null)throw Error(at(162));Mt=Ct.memoizedProps,$r(Ct.stateNode,St!==null?St.memoizedProps:Mt,Mt);return;case 3:xr&&St!==null&&St.memoizedState.isDehydrated&&vn(Ct.stateNode.containerInfo);return;case 12:return;case 13:bu(Ct);return;case 19:bu(Ct);return;case 17:return}throw Error(at(163))}switch(Ct.tag){case 0:case 11:case 14:case 15:Fs(3,Ct,Ct.return),Vl(3,Ct),Fs(5,Ct,Ct.return);return;case 12:return;case 13:bu(Ct);return;case 19:bu(Ct);return;case 3:xr&&St!==null&&St.memoizedState.isDehydrated&&vn(Ct.stateNode.containerInfo);break;case 22:case 23:return}e:if(dr){switch(Ct.tag){case 1:case 5:case 6:break e;case 3:case 4:Ct=Ct.stateNode,Fn(Ct.containerInfo,Ct.pendingChildren);break e}throw Error(at(163))}}function bu(St){var Ct=St.updateQueue;if(Ct!==null){St.updateQueue=null;var Mt=St.stateNode;Mt===null&&(Mt=St.stateNode=new fv),Ct.forEach(function(kt){var Ht=Ev.bind(null,St,kt);Mt.has(kt)||(Mt.add(kt),kt.then(Ht,Ht))})}}function hv(St,Ct){for(bn=Ct;bn!==null;){Ct=bn;var Mt=Ct.deletions;if(Mt!==null)for(var kt=0;kt<Mt.length;kt++){var Ht=Mt[kt];try{var er=St;vr?Lm(er,Ht,Ct):Om(er,Ht,Ct);var Er=Ht.alternate;Er!==null&&(Er.return=null),Ht.return=null}catch(An){Go(Ht,Ct,An)}}if(Mt=Ct.child,Ct.subtreeFlags&12854&&Mt!==null)Mt.return=Ct,bn=Mt;else for(;bn!==null;){Ct=bn;try{var Nr=Ct.flags;if(Nr&32&&vr&&gn(Ct.stateNode),Nr&512){var qr=Ct.alternate;if(qr!==null){var pn=qr.ref;pn!==null&&(typeof pn=="function"?pn(null):pn.current=null)}}if(Nr&8192)switch(Ct.tag){case 13:if(Ct.memoizedState!==null){var En=Ct.alternate;(En===null||En.memoizedState===null)&&(vp=oo())}break;case 22:var Gn=Ct.memoizedState!==null,Pn=Ct.alternate,io=Pn!==null&&Pn.memoizedState!==null;if(Mt=Ct,vr){e:if(kt=Mt,Ht=Gn,er=null,vr)for(var In=kt;;){if(In.tag===5){if(er===null){er=In;var Mo=In.stateNode;Ht?mn(Mo):Dr(In.stateNode,In.memoizedProps)}}else if(In.tag===6){if(er===null){var ba=In.stateNode;Ht?Cr(ba):Hr(ba,In.memoizedProps)}}else if((In.tag!==22&&In.tag!==23||In.memoizedState===null||In===kt)&&In.child!==null){In.child.return=In,In=In.child;continue}if(In===kt)break;for(;In.sibling===null;){if(In.return===null||In.return===kt)break e;er===In&&(er=null),In=In.return}er===In&&(er=null),In.sibling.return=In.return,In=In.sibling}}if(Gn&&!io&&Mt.mode&1){bn=Mt;for(var Gr=Mt.child;Gr!==null;){for(Mt=bn=Gr;bn!==null;){kt=bn;var Br=kt.child;switch(kt.tag){case 0:case 11:case 14:case 15:Fs(4,kt,kt.return);break;case 1:_u(kt,kt.return);var Wr=kt.stateNode;if(typeof Wr.componentWillUnmount=="function"){var xn=kt.return;try{Wr.props=kt.memoizedProps,Wr.state=kt.memoizedState,Wr.componentWillUnmount()}catch(An){Go(kt,xn,An)}}break;case 5:_u(kt,kt.return);break;case 22:if(kt.memoizedState!==null){km(Mt);continue}}Br!==null?(Br.return=kt,bn=Br):km(Mt)}Gr=Gr.sibling}}}switch(Nr&4102){case 2:Mm(Ct),Ct.flags&=-3;break;case 6:Mm(Ct),Ct.flags&=-3,up(Ct.alternate,Ct);break;case 4096:Ct.flags&=-4097;break;case 4100:Ct.flags&=-4097,up(Ct.alternate,Ct);break;case 4:up(Ct.alternate,Ct)}}catch(An){Go(Ct,Ct.return,An)}if(Mt=Ct.sibling,Mt!==null){Mt.return=Ct.return,bn=Mt;break}bn=Ct.return}}}function mv(St,Ct,Mt){bn=St,Nm(St)}function Nm(St,Ct,Mt){for(var kt=(St.mode&1)!==0;bn!==null;){var Ht=bn,er=Ht.child;if(Ht.tag===22&&kt){var Er=Ht.memoizedState!==null||yu;if(!Er){var Nr=Ht.alternate,qr=Nr!==null&&Nr.memoizedState!==null||Bs;Nr=yu;var pn=Bs;if(yu=Er,(Bs=qr)&&!pn)for(bn=Ht;bn!==null;)Er=bn,qr=Er.child,Er.tag===22&&Er.memoizedState!==null?Bm(Ht):qr!==null?(qr.return=Er,bn=qr):Bm(Ht);for(;er!==null;)bn=er,Nm(er),er=er.sibling;bn=Ht,yu=Nr,Bs=pn}Dm(St)}else Ht.subtreeFlags&8772&&er!==null?(er.return=Ht,bn=er):Dm(St)}}function Dm(St){for(;bn!==null;){var Ct=bn;if(Ct.flags&8772){var Mt=Ct.alternate;try{if(Ct.flags&8772)switch(Ct.tag){case 0:case 11:case 15:Bs||Vl(5,Ct);break;case 1:var kt=Ct.stateNode;if(Ct.flags&4&&!Bs)if(Mt===null)kt.componentDidMount();else{var Ht=Ct.elementType===Ct.type?Mt.memoizedProps:Oo(Ct.type,Mt.memoizedProps);kt.componentDidUpdate(Ht,Mt.memoizedState,kt.__reactInternalSnapshotBeforeUpdate)}var er=Ct.updateQueue;er!==null&&Rp(Ct,er,kt);break;case 3:var Er=Ct.updateQueue;if(Er!==null){if(Mt=null,Ct.child!==null)switch(Ct.child.tag){case 5:Mt=zt(Ct.child.stateNode);break;case 1:Mt=Ct.child.stateNode}Rp(Ct,Er,Mt)}break;case 5:var Nr=Ct.stateNode;Mt===null&&Ct.flags&4&&Mr(Nr,Ct.type,Ct.memoizedProps,Ct);break;case 6:break;case 4:break;case 12:break;case 13:if(xr&&Ct.memoizedState===null){var qr=Ct.alternate;if(qr!==null){var pn=qr.memoizedState;if(pn!==null){var En=pn.dehydrated;En!==null&&Sn(En)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(at(163))}Bs||Ct.flags&512&&sp(Ct)}catch(Gn){Go(Ct,Ct.return,Gn)}}if(Ct===St){bn=null;break}if(Mt=Ct.sibling,Mt!==null){Mt.return=Ct.return,bn=Mt;break}bn=Ct.return}}function km(St){for(;bn!==null;){var Ct=bn;if(Ct===St){bn=null;break}var Mt=Ct.sibling;if(Mt!==null){Mt.return=Ct.return,bn=Mt;break}bn=Ct.return}}function Bm(St){for(;bn!==null;){var Ct=bn;try{switch(Ct.tag){case 0:case 11:case 15:var Mt=Ct.return;try{Vl(4,Ct)}catch(qr){Go(Ct,Mt,qr)}break;case 1:var kt=Ct.stateNode;if(typeof kt.componentDidMount=="function"){var Ht=Ct.return;try{kt.componentDidMount()}catch(qr){Go(Ct,Ht,qr)}}var er=Ct.return;try{sp(Ct)}catch(qr){Go(Ct,er,qr)}break;case 5:var Er=Ct.return;try{sp(Ct)}catch(qr){Go(Ct,Er,qr)}}}catch(qr){Go(Ct,Ct.return,qr)}if(Ct===St){bn=null;break}var Nr=Ct.sibling;if(Nr!==null){Nr.return=Ct.return,bn=Nr;break}bn=Ct.return}}var xu=0,$u=1,Eu=2,Su=3,Cu=4;if(typeof Symbol=="function"&&Symbol.for){var Wl=Symbol.for;xu=Wl("selector.component"),$u=Wl("selector.has_pseudo_class"),Eu=Wl("selector.role"),Su=Wl("selector.test_id"),Cu=Wl("selector.text")}function dp(St){var Ct=Gt(St);if(Ct!=null){if(typeof Ct.memoizedProps["data-testname"]!="string")throw Error(at(364));return Ct}if(St=lr(St),St===null)throw Error(at(362));return St.stateNode.current}function fp(St,Ct){switch(Ct.$$typeof){case xu:if(St.type===Ct.value)return!0;break;case $u:e:{Ct=Ct.value,St=[St,0];for(var Mt=0;Mt<St.length;){var kt=St[Mt++],Ht=St[Mt++],er=Ct[Ht];if(kt.tag!==5||!tr(kt)){for(;er!=null&&fp(kt,er);)Ht++,er=Ct[Ht];if(Ht===Ct.length){Ct=!0;break e}else for(kt=kt.child;kt!==null;)St.push(kt,Ht),kt=kt.sibling}}Ct=!1}return Ct;case Eu:if(St.tag===5&&or(St.stateNode,Ct.value))return!0;break;case Cu:if((St.tag===5||St.tag===6)&&(St=Xt(St),St!==null&&0<=St.indexOf(Ct.value)))return!0;break;case Su:if(St.tag===5&&(St=St.memoizedProps["data-testname"],typeof St=="string"&&St.toLowerCase()===Ct.value.toLowerCase()))return!0;break;default:throw Error(at(365))}return!1}function pp(St){switch(St.$$typeof){case xu:return"<"+(wt(St.value)||"Unknown")+">";case $u:return":has("+(pp(St)||"")+")";case Eu:return'[role="'+St.value+'"]';case Cu:return'"'+St.value+'"';case Su:return'[data-testname="'+St.value+'"]';default:throw Error(at(365))}}function Fm(St,Ct){var Mt=[];St=[St,0];for(var kt=0;kt<St.length;){var Ht=St[kt++],er=St[kt++],Er=Ct[er];if(Ht.tag!==5||!tr(Ht)){for(;Er!=null&&fp(Ht,Er);)er++,Er=Ct[er];if(er===Ct.length)Mt.push(Ht);else for(Ht=Ht.child;Ht!==null;)St.push(Ht,er),Ht=Ht.sibling}}return Mt}function hp(St,Ct){if(!cr)throw Error(at(363));St=dp(St),St=Fm(St,Ct),Ct=[],St=Array.from(St);for(var Mt=0;Mt<St.length;){var kt=St[Mt++];if(kt.tag===5)tr(kt)||Ct.push(kt.stateNode);else for(kt=kt.child;kt!==null;)St.push(kt),kt=kt.sibling}return Ct}var gv=Math.ceil,Tu=st.ReactCurrentDispatcher,mp=st.ReactCurrentOwner,co=st.ReactCurrentBatchConfig,Yn=0,po=null,ho=null,To=0,Ko=0,xl=go(0),yo=0,Kl=null,$l=0,wu=0,gp=0,Yl=null,Uo=null,vp=0,yp=1/0;function El(){yp=oo()+500}var Au=!1,_p=null,Ts=null,Ou=!1,ws=null,Iu=0,Jl=0,bp=null,Ru=-1,Pu=0;function ko(){return Yn&6?oo():Ru!==-1?Ru:Ru=oo()}function As(St){return St.mode&1?Yn&2&&To!==0?To&-To:Ps.transition!==null?(Pu===0&&(St=Kn,Kn<<=1,!(Kn&4194240)&&(Kn=64),Pu=St),Pu):(St=Vn,St!==0?St:nr()):1}function ga(St,Ct,Mt){if(50<Jl)throw Jl=0,bp=null,Error(at(185));var kt=Mu(St,Ct);return kt===null?null:($a(kt,Ct,Mt),(!(Yn&2)||kt!==po)&&(kt===po&&(!(Yn&2)&&(wu|=Ct),yo===4&&Os(kt,To)),jo(kt,Mt),Ct===1&&Yn===0&&!(St.mode&1)&&(El(),us&&Fo())),kt)}function Mu(St,Ct){St.lanes|=Ct;var Mt=St.alternate;for(Mt!==null&&(Mt.lanes|=Ct),Mt=St,St=St.return;St!==null;)St.childLanes|=Ct,Mt=St.alternate,Mt!==null&&(Mt.childLanes|=Ct),Mt=St,St=St.return;return Mt.tag===3?Mt.stateNode:null}function jo(St,Ct){var Mt=St.callbackNode;ms(St,Ct);var kt=uo(St,St===po?To:0);if(kt===0)Mt!==null&&Hs(Mt),St.callbackNode=null,St.callbackPriority=0;else if(Ct=kt&-kt,St.callbackPriority!==Ct){if(Mt!=null&&Hs(Mt),Ct===1)St.tag===0?Il(jm.bind(null,St)):Ol(jm.bind(null,St)),Jt?ar(function(){Yn===0&&Fo()}):gs($s,Fo),Mt=null;else{switch(Sl(kt)){case 1:Mt=$s;break;case 4:Mt=Zl;break;case 16:Mt=Lo;break;case 536870912:Mt=Tl;break;default:Mt=Lo}Mt=Jm(Mt,Um.bind(null,St))}St.callbackPriority=Ct,St.callbackNode=Mt}}function Um(St,Ct){if(Ru=-1,Pu=0,Yn&6)throw Error(at(327));var Mt=St.callbackNode;if(Gs()&&St.callbackNode!==Mt)return null;var kt=uo(St,St===po?To:0);if(kt===0)return null;if(kt&30||kt&St.expiredLanes||Ct)Ct=Lu(St,kt);else{Ct=kt;var Ht=Yn;Yn|=2;var er=Hm();(po!==St||To!==Ct)&&(El(),Us(St,Ct));do try{_v();break}catch(Nr){zm(St,Nr)}while(1);Ks(),Tu.current=er,Yn=Ht,ho!==null?Ct=0:(po=null,To=0,Ct=yo)}if(Ct!==0){if(Ct===2&&(Ht=xa(St),Ht!==0&&(kt=Ht,Ct=xp(St,Ht))),Ct===1)throw Mt=Kl,Us(St,0),Os(St,kt),jo(St,oo()),Mt;if(Ct===6)Os(St,kt);else{if(Ht=St.current.alternate,!(kt&30)&&!vv(Ht)&&(Ct=Lu(St,kt),Ct===2&&(er=xa(St),er!==0&&(kt=er,Ct=xp(St,er))),Ct===1))throw Mt=Kl,Us(St,0),Os(St,kt),jo(St,oo()),Mt;switch(St.finishedWork=Ht,St.finishedLanes=kt,Ct){case 0:case 1:throw Error(at(345));case 2:js(St,Uo);break;case 3:if(Os(St,kt),(kt&130023424)===kt&&(Ct=vp+500-oo(),10<Ct)){if(uo(St,0)!==0)break;if(Ht=St.suspendedLanes,(Ht&kt)!==kt){ko(),St.pingedLanes|=St.suspendedLanes&Ht;break}St.timeoutHandle=mr(js.bind(null,St,Uo),Ct);break}js(St,Uo);break;case 4:if(Os(St,kt),(kt&4194240)===kt)break;for(Ct=St.eventTimes,Ht=-1;0<kt;){var Er=31-sn(kt);er=1<<Er,Er=Ct[Er],Er>Ht&&(Ht=Er),kt&=~er}if(kt=Ht,kt=oo()-kt,kt=(120>kt?120:480>kt?480:1080>kt?1080:1920>kt?1920:3e3>kt?3e3:4320>kt?4320:1960*gv(kt/1960))-kt,10<kt){St.timeoutHandle=mr(js.bind(null,St,Uo),kt);break}js(St,Uo);break;case 5:js(St,Uo);break;default:throw Error(at(329))}}}return jo(St,oo()),St.callbackNode===Mt?Um.bind(null,St):null}function xp(St,Ct){var Mt=Yl;return St.current.memoizedState.isDehydrated&&(Us(St,Ct).flags|=256),St=Lu(St,Ct),St!==2&&(Ct=Uo,Uo=Mt,Ct!==null&&$p(Ct)),St}function $p(St){Uo===null?Uo=St:Uo.push.apply(Uo,St)}function vv(St){for(var Ct=St;;){if(Ct.flags&16384){var Mt=Ct.updateQueue;if(Mt!==null&&(Mt=Mt.stores,Mt!==null))for(var kt=0;kt<Mt.length;kt++){var Ht=Mt[kt],er=Ht.getSnapshot;Ht=Ht.value;try{if(!Ho(er(),Ht))return!1}catch{return!1}}}if(Mt=Ct.child,Ct.subtreeFlags&16384&&Mt!==null)Mt.return=Ct,Ct=Mt;else{if(Ct===St)break;for(;Ct.sibling===null;){if(Ct.return===null||Ct.return===St)return!0;Ct=Ct.return}Ct.sibling.return=Ct.return,Ct=Ct.sibling}}return!0}function Os(St,Ct){for(Ct&=~gp,Ct&=~wu,St.suspendedLanes|=Ct,St.pingedLanes&=~Ct,St=St.expirationTimes;0<Ct;){var Mt=31-sn(Ct),kt=1<<Mt;St[Mt]=-1,Ct&=~kt}}function jm(St){if(Yn&6)throw Error(at(327));Gs();var Ct=uo(St,0);if(!(Ct&1))return jo(St,oo()),null;var Mt=Lu(St,Ct);if(St.tag!==0&&Mt===2){var kt=xa(St);kt!==0&&(Ct=kt,Mt=xp(St,kt))}if(Mt===1)throw Mt=Kl,Us(St,0),Os(St,Ct),jo(St,oo()),Mt;if(Mt===6)throw Error(at(345));return St.finishedWork=St.current.alternate,St.finishedLanes=Ct,js(St,Uo),jo(St,oo()),null}function Gm(St){ws!==null&&ws.tag===0&&!(Yn&6)&&Gs();var Ct=Yn;Yn|=1;var Mt=co.transition,kt=Vn;try{if(co.transition=null,Vn=1,St)return St()}finally{Vn=kt,co.transition=Mt,Yn=Ct,!(Yn&6)&&Fo()}}function Ep(){Ko=xl.current,kn(xl)}function Us(St,Ct){St.finishedWork=null,St.finishedLanes=0;var Mt=St.timeoutHandle;if(Mt!==fr&&(St.timeoutHandle=fr,sr(Mt)),ho!==null)for(Mt=ho.return;Mt!==null;){var kt=Mt;switch(ju(kt),kt.tag){case 1:kt=kt.type.childContextTypes,kt!=null&&wr();break;case 3:yl(),kn(Tr),kn(ur),Ku();break;case 5:Wu(kt);break;case 4:yl();break;case 13:kn(so);break;case 19:kn(so);break;case 10:ds(kt.type._context);break;case 22:case 23:Ep()}Mt=Mt.return}if(po=St,ho=St=Is(St.current,null),To=Ko=Ct,yo=0,Kl=null,gp=wu=$l=0,Uo=Yl=null,vo!==null){for(Ct=0;Ct<vo.length;Ct++)if(Mt=vo[Ct],kt=Mt.interleaved,kt!==null){Mt.interleaved=null;var Ht=kt.next,er=Mt.pending;if(er!==null){var Er=er.next;er.next=Ht,kt.next=Er}Mt.pending=kt}vo=null}return St}function zm(St,Ct){do{var Mt=ho;try{if(Ks(),au.current=fu,su){for(var kt=lo.memoizedState;kt!==null;){var Ht=kt.queue;Ht!==null&&(Ht.pending=null),kt=kt.next}su=!1}if(_l=0,xo=Io=lo=null,Dl=!1,Bl=0,mp.current=null,Mt===null||Mt.return===null){yo=1,Kl=Ct,ho=null;break}e:{var er=St,Er=Mt.return,Nr=Mt,qr=Ct;if(Ct=To,Nr.flags|=32768,qr!==null&&typeof qr=="object"&&typeof qr.then=="function"){var pn=qr,En=Nr,Gn=En.tag;if(!(En.mode&1)&&(Gn===0||Gn===11||Gn===15)){var Pn=En.alternate;Pn?(En.updateQueue=Pn.updateQueue,En.memoizedState=Pn.memoizedState,En.lanes=Pn.lanes):(En.updateQueue=null,En.memoizedState=null)}var io=um(Er);if(io!==null){io.flags&=-257,dm(io,Er,Nr,er,Ct),io.mode&1&&cm(er,pn,Ct),Ct=io,qr=pn;var In=Ct.updateQueue;if(In===null){var Mo=new Set;Mo.add(qr),Ct.updateQueue=Mo}else In.add(qr);break e}else{if(!(Ct&1)){cm(er,pn,Ct),Sp();break e}qr=Error(at(426))}}else if(ao&&Nr.mode&1){var ba=um(Er);if(ba!==null){!(ba.flags&65536)&&(ba.flags|=256),dm(ba,Er,Nr,er,Ct),Hu(qr);break e}}er=qr,yo!==4&&(yo=2),Yl===null?Yl=[er]:Yl.push(er),qr=_f(qr,Nr),Nr=Er;do{switch(Nr.tag){case 3:Nr.flags|=65536,Ct&=-Ct,Nr.lanes|=Ct;var Gr=sm(Nr,qr,Ct);Ip(Nr,Gr);break e;case 1:er=qr;var Br=Nr.type,Wr=Nr.stateNode;if(!(Nr.flags&128)&&(typeof Br.getDerivedStateFromError=="function"||Wr!==null&&typeof Wr.componentDidCatch=="function"&&(Ts===null||!Ts.has(Wr)))){Nr.flags|=65536,Ct&=-Ct,Nr.lanes|=Ct;var xn=lm(Nr,er,Ct);Ip(Nr,xn);break e}}Nr=Nr.return}while(Nr!==null)}Wm(Mt)}catch(An){Ct=An,ho===Mt&&Mt!==null&&(ho=Mt=Mt.return);continue}break}while(1)}function Hm(){var St=Tu.current;return Tu.current=fu,St===null?fu:St}function Sp(){(yo===0||yo===3||yo===2)&&(yo=4),po===null||!($l&268435455)&&!(wu&268435455)||Os(po,To)}function Lu(St,Ct){var Mt=Yn;Yn|=2;var kt=Hm();po===St&&To===Ct||Us(St,Ct);do try{yv();break}catch(Ht){zm(St,Ht)}while(1);if(Ks(),Yn=Mt,Tu.current=kt,ho!==null)throw Error(at(261));return po=null,To=0,yo}function yv(){for(;ho!==null;)Vm(ho)}function _v(){for(;ho!==null&&!Cl();)Vm(ho)}function Vm(St){var Ct=Ym(St.alternate,St,Ko);St.memoizedProps=St.pendingProps,Ct===null?Wm(St):ho=Ct,mp.current=null}function Wm(St){var Ct=St;do{var Mt=Ct.alternate;if(St=Ct.return,Ct.flags&32768){if(Mt=dv(Mt,Ct),Mt!==null){Mt.flags&=32767,ho=Mt;return}if(St!==null)St.flags|=32768,St.subtreeFlags=0,St.deletions=null;else{yo=6,ho=null;return}}else if(Mt=lv(Mt,Ct,Ko),Mt!==null){ho=Mt;return}if(Ct=Ct.sibling,Ct!==null){ho=Ct;return}ho=Ct=St}while(Ct!==null);yo===0&&(yo=5)}function js(St,Ct){var Mt=Vn,kt=co.transition;try{co.transition=null,Vn=1,bv(St,Ct,Mt)}finally{co.transition=kt,Vn=Mt}return null}function bv(St,Ct,Mt){do Gs();while(ws!==null);if(Yn&6)throw Error(at(327));var kt=St.finishedWork,Ht=St.finishedLanes;if(kt===null)return null;if(St.finishedWork=null,St.finishedLanes=0,kt===St.current)throw Error(at(177));St.callbackNode=null,St.callbackPriority=0;var er=kt.lanes|kt.childLanes;if(ls(St,er),St===po&&(ho=po=null,To=0),!(kt.subtreeFlags&2064)&&!(kt.flags&2064)||Ou||(Ou=!0,Jm(Lo,function(){return Gs(),null})),er=(kt.flags&15990)!==0,kt.subtreeFlags&15990||er){er=co.transition,co.transition=null;var Er=Vn;Vn=1;var Nr=Yn;Yn|=4,mp.current=null,pv(St,kt),hv(St,kt),qt(St.containerInfo),St.current=kt,mv(kt),Xl(),Yn=Nr,Vn=Er,co.transition=er}else St.current=kt;if(Ou&&(Ou=!1,ws=St,Iu=Ht),er=St.pendingLanes,er===0&&(Ts=null),Al(kt.stateNode),jo(St,oo()),Ct!==null)for(Mt=St.onRecoverableError,kt=0;kt<Ct.length;kt++)Mt(Ct[kt]);if(Au)throw Au=!1,St=_p,_p=null,St;return Iu&1&&St.tag!==0&&Gs(),er=St.pendingLanes,er&1?St===bp?Jl++:(Jl=0,bp=St):Jl=0,Fo(),null}function Gs(){if(ws!==null){var St=Sl(Iu),Ct=co.transition,Mt=Vn;try{if(co.transition=null,Vn=16>St?16:St,ws===null)var kt=!1;else{if(St=ws,ws=null,Iu=0,Yn&6)throw Error(at(331));var Ht=Yn;for(Yn|=4,bn=St.current;bn!==null;){var er=bn,Er=er.child;if(bn.flags&16){var Nr=er.deletions;if(Nr!==null){for(var qr=0;qr<Nr.length;qr++){var pn=Nr[qr];for(bn=pn;bn!==null;){var En=bn;switch(En.tag){case 0:case 11:case 15:Fs(8,En,er)}var Gn=En.child;if(Gn!==null)Gn.return=En,bn=Gn;else for(;bn!==null;){En=bn;var Pn=En.sibling,io=En.return;if(Im(En),En===pn){bn=null;break}if(Pn!==null){Pn.return=io,bn=Pn;break}bn=io}}}var In=er.alternate;if(In!==null){var Mo=In.child;if(Mo!==null){In.child=null;do{var ba=Mo.sibling;Mo.sibling=null,Mo=ba}while(Mo!==null)}}bn=er}}if(er.subtreeFlags&2064&&Er!==null)Er.return=er,bn=Er;else e:for(;bn!==null;){if(er=bn,er.flags&2048)switch(er.tag){case 0:case 11:case 15:Fs(9,er,er.return)}var Gr=er.sibling;if(Gr!==null){Gr.return=er.return,bn=Gr;break e}bn=er.return}}var Br=St.current;for(bn=Br;bn!==null;){Er=bn;var Wr=Er.child;if(Er.subtreeFlags&2064&&Wr!==null)Wr.return=Er,bn=Wr;else e:for(Er=Br;bn!==null;){if(Nr=bn,Nr.flags&2048)try{switch(Nr.tag){case 0:case 11:case 15:Vl(9,Nr)}}catch(An){Go(Nr,Nr.return,An)}if(Nr===Er){bn=null;break e}var xn=Nr.sibling;if(xn!==null){xn.return=Nr.return,bn=xn;break e}bn=Nr.return}}if(Yn=Ht,Fo(),zo&&typeof zo.onPostCommitFiberRoot=="function")try{zo.onPostCommitFiberRoot(Es,St)}catch{}kt=!0}return kt}finally{Vn=Mt,co.transition=Ct}}return!1}function qm(St,Ct,Mt){Ct=_f(Mt,Ct),Ct=sm(St,Ct,1),Cs(St,Ct),Ct=ko(),St=Mu(St,1),St!==null&&($a(St,1,Ct),jo(St,Ct))}function Go(St,Ct,Mt){if(St.tag===3)qm(St,St,Mt);else for(;Ct!==null;){if(Ct.tag===3){qm(Ct,St,Mt);break}else if(Ct.tag===1){var kt=Ct.stateNode;if(typeof Ct.type.getDerivedStateFromError=="function"||typeof kt.componentDidCatch=="function"&&(Ts===null||!Ts.has(kt))){St=_f(Mt,St),St=lm(Ct,St,1),Cs(Ct,St),St=ko(),Ct=Mu(Ct,1),Ct!==null&&($a(Ct,1,St),jo(Ct,St));break}}Ct=Ct.return}}function xv(St,Ct,Mt){var kt=St.pingCache;kt!==null&&kt.delete(Ct),Ct=ko(),St.pingedLanes|=St.suspendedLanes&Mt,po===St&&(To&Mt)===Mt&&(yo===4||yo===3&&(To&130023424)===To&&500>oo()-vp?Us(St,0):gp|=Mt),jo(St,Ct)}function Km(St,Ct){Ct===0&&(St.mode&1?(Ct=eo,eo<<=1,!(eo&130023424)&&(eo=4194304)):Ct=1);var Mt=ko();St=Mu(St,Ct),St!==null&&($a(St,Ct,Mt),jo(St,Mt))}function $v(St){var Ct=St.memoizedState,Mt=0;Ct!==null&&(Mt=Ct.retryLane),Km(St,Mt)}function Ev(St,Ct){var Mt=0;switch(St.tag){case 13:var kt=St.stateNode,Ht=St.memoizedState;Ht!==null&&(Mt=Ht.retryLane);break;case 19:kt=St.stateNode;break;default:throw Error(at(314))}kt!==null&&kt.delete(Ct),Km(St,Mt)}var Ym;Ym=function(St,Ct,Mt){if(St!==null)if(St.memoizedProps!==Ct.pendingProps||Tr.current)qo=!0;else{if(!(St.lanes&Mt)&&!(Ct.flags&128))return qo=!1,uv(St,Ct,Mt);qo=!!(St.flags&131072)}else qo=!1,ao&&Ct.flags&1048576&&Dp(Ct,nu,Ct.index);switch(Ct.lanes=0,Ct.tag){case 2:var kt=Ct.type;St!==null&&(St.alternate=null,Ct.alternate=null,Ct.flags|=2),St=Ct.pendingProps;var Ht=Ir(Ct,ur.current);bo(Ct,Mt),Ht=Ju(null,Ct,kt,St,Ht,Mt);var er=Xu();return Ct.flags|=1,typeof Ht=="object"&&Ht!==null&&typeof Ht.render=="function"&&Ht.$$typeof===void 0?(Ct.tag=1,Ct.memoizedState=null,Ct.updateQueue=null,Pr(kt)?(er=!0,Qr(Ct)):er=!1,Ct.memoizedState=Ht.state!==null&&Ht.state!==void 0?Ht.state:null,ku(Ct),Ht.updater=tu,Ct.stateNode=Ht,Ht._reactInternals=Ct,Fu(Ct,kt,St,Mt),Ct=rp(null,Ct,kt,!0,er,Mt)):(Ct.tag=0,ao&&er&&Uu(Ct),Do(null,Ct,Ht,Mt),Ct=Ct.child),Ct;case 16:kt=Ct.elementType;e:{switch(St!==null&&(St.alternate=null,Ct.alternate=null,Ct.flags|=2),St=Ct.pendingProps,Ht=kt._init,kt=Ht(kt._payload),Ct.type=kt,Ht=Ct.tag=Cv(kt),St=Oo(kt,St),Ht){case 0:Ct=tp(null,Ct,kt,St,Mt);break e;case 1:Ct=_m(null,Ct,kt,St,Mt);break e;case 11:Ct=hm(null,Ct,kt,St,Mt);break e;case 14:Ct=mm(null,Ct,kt,Oo(kt.type,St),Mt);break e}throw Error(at(306,kt,""))}return Ct;case 0:return kt=Ct.type,Ht=Ct.pendingProps,Ht=Ct.elementType===kt?Ht:Oo(kt,Ht),tp(St,Ct,kt,Ht,Mt);case 1:return kt=Ct.type,Ht=Ct.pendingProps,Ht=Ct.elementType===kt?Ht:Oo(kt,Ht),_m(St,Ct,kt,Ht,Mt);case 3:e:{if(bm(Ct),St===null)throw Error(at(387));kt=Ct.pendingProps,er=Ct.memoizedState,Ht=er.element,Op(St,Ct),eu(Ct,kt,null,Mt);var Er=Ct.memoizedState;if(kt=Er.element,xr&&er.isDehydrated)if(er={element:kt,isDehydrated:!1,cache:Er.cache,transitions:Er.transitions},Ct.updateQueue.baseState=er,Ct.memoizedState=er,Ct.flags&256){Ht=Error(at(423)),Ct=xm(St,Ct,kt,Mt,Ht);break e}else if(kt!==Ht){Ht=Error(at(424)),Ct=xm(St,Ct,kt,Mt,Ht);break e}else for(xr&&(Wo=Lr(Ct.stateNode.containerInfo),Vo=Ct,ao=!0,os=null,Rl=!1),Mt=Gp(Ct,null,kt,Mt),Ct.child=Mt;Mt;)Mt.flags=Mt.flags&-3|4096,Mt=Mt.sibling;else{if(Xs(),kt===Ht){Ct=xs(St,Ct,Mt);break e}Do(St,Ct,kt,Mt)}Ct=Ct.child}return Ct;case 5:return zp(Ct),St===null&&zu(Ct),kt=Ct.type,Ht=Ct.pendingProps,er=St!==null?St.memoizedProps:null,Er=Ht.children,ir(kt,Ht)?Er=null:er!==null&&ir(kt,er)&&(Ct.flags|=32),ym(St,Ct),Do(St,Ct,Er,Mt),Ct.child;case 6:return St===null&&zu(Ct),null;case 13:return $m(St,Ct,Mt);case 4:return Vu(Ct,Ct.stateNode.containerInfo),kt=Ct.pendingProps,St===null?Ct.child=Zs(Ct,null,kt,Mt):Do(St,Ct,kt,Mt),Ct.child;case 11:return kt=Ct.type,Ht=Ct.pendingProps,Ht=Ct.elementType===kt?Ht:Oo(kt,Ht),hm(St,Ct,kt,Ht,Mt);case 7:return Do(St,Ct,Ct.pendingProps,Mt),Ct.child;case 8:return Do(St,Ct,Ct.pendingProps.children,Mt),Ct.child;case 12:return Do(St,Ct,Ct.pendingProps.children,Mt),Ct.child;case 10:e:{if(kt=Ct.type._context,Ht=Ct.pendingProps,er=Ct.memoizedProps,Er=Ht.value,Ql(Ct,kt,Er),er!==null)if(Ho(er.value,Er)){if(er.children===Ht.children&&!Tr.current){Ct=xs(St,Ct,Mt);break e}}else for(er=Ct.child,er!==null&&(er.return=Ct);er!==null;){var Nr=er.dependencies;if(Nr!==null){Er=er.child;for(var qr=Nr.firstContext;qr!==null;){if(qr.context===kt){if(er.tag===1){qr=vs(-1,Mt&-Mt),qr.tag=2;var pn=er.updateQueue;if(pn!==null){pn=pn.shared;var En=pn.pending;En===null?qr.next=qr:(qr.next=En.next,En.next=qr),pn.pending=qr}}er.lanes|=Mt,qr=er.alternate,qr!==null&&(qr.lanes|=Mt),fo(er.return,Mt,Ct),Nr.lanes|=Mt;break}qr=qr.next}}else if(er.tag===10)Er=er.type===Ct.type?null:er.child;else if(er.tag===18){if(Er=er.return,Er===null)throw Error(at(341));Er.lanes|=Mt,Nr=Er.alternate,Nr!==null&&(Nr.lanes|=Mt),fo(Er,Mt,Ct),Er=er.sibling}else Er=er.child;if(Er!==null)Er.return=er;else for(Er=er;Er!==null;){if(Er===Ct){Er=null;break}if(er=Er.sibling,er!==null){er.return=Er.return,Er=er;break}Er=Er.return}er=Er}Do(St,Ct,Ht.children,Mt),Ct=Ct.child}return Ct;case 9:return Ht=Ct.type,kt=Ct.pendingProps.children,bo(Ct,Mt),Ht=no(Ht),kt=kt(Ht),Ct.flags|=1,Do(St,Ct,kt,Mt),Ct.child;case 14:return kt=Ct.type,Ht=Oo(kt,Ct.pendingProps),Ht=Oo(kt.type,Ht),mm(St,Ct,kt,Ht,Mt);case 15:return gm(St,Ct,Ct.type,Ct.pendingProps,Mt);case 17:return kt=Ct.type,Ht=Ct.pendingProps,Ht=Ct.elementType===kt?Ht:Oo(kt,Ht),St!==null&&(St.alternate=null,Ct.alternate=null,Ct.flags|=2),Ct.tag=1,Pr(kt)?(St=!0,Qr(Ct)):St=!1,bo(Ct,Mt),Lp(Ct,kt,Ht),Fu(Ct,kt,Ht,Mt),rp(null,Ct,kt,!0,St,Mt);case 19:return Tm(St,Ct,Mt);case 22:return vm(St,Ct,Mt)}throw Error(at(156,Ct.tag))};function Jm(St,Ct){return gs(St,Ct)}function Sv(St,Ct,Mt,kt){this.tag=St,this.key=Mt,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=Ct,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=kt,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _a(St,Ct,Mt,kt){return new Sv(St,Ct,Mt,kt)}function Cp(St){return St=St.prototype,!(!St||!St.isReactComponent)}function Cv(St){if(typeof St=="function")return Cp(St)?1:0;if(St!=null){if(St=St.$$typeof,St===ht)return 11;if(St===yt)return 14}return 2}function Is(St,Ct){var Mt=St.alternate;return Mt===null?(Mt=_a(St.tag,Ct,St.key,St.mode),Mt.elementType=St.elementType,Mt.type=St.type,Mt.stateNode=St.stateNode,Mt.alternate=St,St.alternate=Mt):(Mt.pendingProps=Ct,Mt.type=St.type,Mt.flags=0,Mt.subtreeFlags=0,Mt.deletions=null),Mt.flags=St.flags&14680064,Mt.childLanes=St.childLanes,Mt.lanes=St.lanes,Mt.child=St.child,Mt.memoizedProps=St.memoizedProps,Mt.memoizedState=St.memoizedState,Mt.updateQueue=St.updateQueue,Ct=St.dependencies,Mt.dependencies=Ct===null?null:{lanes:Ct.lanes,firstContext:Ct.firstContext},Mt.sibling=St.sibling,Mt.index=St.index,Mt.ref=St.ref,Mt}function Nu(St,Ct,Mt,kt,Ht,er){var Er=2;if(kt=St,typeof St=="function")Cp(St)&&(Er=1);else if(typeof St=="string")Er=5;else e:switch(St){case ut:return zs(Mt.children,Ht,er,Ct);case dt:Er=8,Ht|=8;break;case ft:return St=_a(12,Mt,Ct,Ht|2),St.elementType=ft,St.lanes=er,St;case gt:return St=_a(13,Mt,Ct,Ht),St.elementType=gt,St.lanes=er,St;case vt:return St=_a(19,Mt,Ct,Ht),St.elementType=vt,St.lanes=er,St;case xt:return Du(Mt,Ht,er,Ct);default:if(typeof St=="object"&&St!==null)switch(St.$$typeof){case pt:Er=10;break e;case mt:Er=9;break e;case ht:Er=11;break e;case yt:Er=14;break e;case bt:Er=16,kt=null;break e}throw Error(at(130,St==null?St:typeof St,""))}return Ct=_a(Er,Mt,Ct,Ht),Ct.elementType=St,Ct.type=kt,Ct.lanes=er,Ct}function zs(St,Ct,Mt,kt){return St=_a(7,St,kt,Ct),St.lanes=Mt,St}function Du(St,Ct,Mt,kt){return St=_a(22,St,kt,Ct),St.elementType=xt,St.lanes=Mt,St.stateNode={},St}function Tp(St,Ct,Mt){return St=_a(6,St,null,Ct),St.lanes=Mt,St}function wp(St,Ct,Mt){return Ct=_a(4,St.children!==null?St.children:[],St.key,Ct),Ct.lanes=Mt,Ct.stateNode={containerInfo:St.containerInfo,pendingChildren:null,implementation:St.implementation},Ct}function Tv(St,Ct,Mt,kt,Ht){this.tag=Ct,this.containerInfo=St,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=fr,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ss(0),this.expirationTimes=ss(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ss(0),this.identifierPrefix=kt,this.onRecoverableError=Ht,xr&&(this.mutableSourceEagerHydrationData=null)}function Xm(St,Ct,Mt,kt,Ht,er,Er,Nr,qr){return St=new Tv(St,Ct,Mt,Nr,qr),Ct===1?(Ct=1,er===!0&&(Ct|=8)):Ct=0,er=_a(3,null,null,Ct),St.current=er,er.stateNode=St,er.memoizedState={element:kt,isDehydrated:Mt,cache:null,transitions:null},ku(er),St}function Zm(St){if(!St)return Co;St=St._reactInternals;e:{if(Rt(St)!==St||St.tag!==1)throw Error(at(170));var Ct=St;do{switch(Ct.tag){case 3:Ct=Ct.stateNode.context;break e;case 1:if(Pr(Ct.type)){Ct=Ct.stateNode.__reactInternalMemoizedMergedChildContext;break e}}Ct=Ct.return}while(Ct!==null);throw Error(at(171))}if(St.tag===1){var Mt=St.type;if(Pr(Mt))return Zr(St,Mt,Ct)}return Ct}function Qm(St){var Ct=St._reactInternals;if(Ct===void 0)throw typeof St.render=="function"?Error(at(188)):(St=Object.keys(St).join(","),Error(at(268,St)));return St=Pt(Ct),St===null?null:St.stateNode}function _g(St,Ct){if(St=St.memoizedState,St!==null&&St.dehydrated!==null){var Mt=St.retryLane;St.retryLane=Mt!==0&&Mt<Ct?Mt:Ct}}function Ap(St,Ct){_g(St,Ct),(St=St.alternate)&&_g(St,Ct)}function wv(St){return St=Pt(St),St===null?null:St.stateNode}function Av(){return null}return rt.attemptContinuousHydration=function(St){if(St.tag===13){var Ct=ko();ga(St,134217728,Ct),Ap(St,134217728)}},rt.attemptHydrationAtCurrentPriority=function(St){if(St.tag===13){var Ct=ko(),Mt=As(St);ga(St,Mt,Ct),Ap(St,Mt)}},rt.attemptSynchronousHydration=function(St){switch(St.tag){case 3:var Ct=St.stateNode;if(Ct.current.memoizedState.isDehydrated){var Mt=_i(Ct.pendingLanes);Mt!==0&&(Yo(Ct,Mt|1),jo(Ct,oo()),!(Yn&6)&&(El(),Fo()))}break;case 13:var kt=ko();Gm(function(){return ga(St,1,kt)}),Ap(St,1)}},rt.batchedUpdates=function(St,Ct){var Mt=Yn;Yn|=1;try{return St(Ct)}finally{Yn=Mt,Yn===0&&(El(),us&&Fo())}},rt.createComponentSelector=function(St){return{$$typeof:xu,value:St}},rt.createContainer=function(St,Ct,Mt,kt,Ht,er,Er){return Xm(St,Ct,!1,null,Mt,kt,Ht,er,Er)},rt.createHasPseudoClassSelector=function(St){return{$$typeof:$u,value:St}},rt.createHydrationContainer=function(St,Ct,Mt,kt,Ht,er,Er,Nr,qr){return St=Xm(Mt,kt,!0,St,Ht,er,Er,Nr,qr),St.context=Zm(null),Mt=St.current,kt=ko(),Ht=As(Mt),er=vs(kt,Ht),er.callback=Ct??null,Cs(Mt,er),St.current.lanes=Ht,$a(St,Ht,kt),jo(St,kt),St},rt.createPortal=function(St,Ct,Mt){var kt=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ct,key:kt==null?null:""+kt,children:St,containerInfo:Ct,implementation:Mt}},rt.createRoleSelector=function(St){return{$$typeof:Eu,value:St}},rt.createTestNameSelector=function(St){return{$$typeof:Su,value:St}},rt.createTextSelector=function(St){return{$$typeof:Cu,value:St}},rt.deferredUpdates=function(St){var Ct=Vn,Mt=co.transition;try{return co.transition=null,Vn=16,St()}finally{Vn=Ct,co.transition=Mt}},rt.discreteUpdates=function(St,Ct,Mt,kt,Ht){var er=Vn,Er=co.transition;try{return co.transition=null,Vn=1,St(Ct,Mt,kt,Ht)}finally{Vn=er,co.transition=Er,Yn===0&&El()}},rt.findAllNodes=hp,rt.findBoundingRects=function(St,Ct){if(!cr)throw Error(at(363));Ct=hp(St,Ct),St=[];for(var Mt=0;Mt<Ct.length;Mt++)St.push(Yt(Ct[Mt]));for(Ct=St.length-1;0<Ct;Ct--){Mt=St[Ct];for(var kt=Mt.x,Ht=kt+Mt.width,er=Mt.y,Er=er+Mt.height,Nr=Ct-1;0<=Nr;Nr--)if(Ct!==Nr){var qr=St[Nr],pn=qr.x,En=pn+qr.width,Gn=qr.y,Pn=Gn+qr.height;if(kt>=pn&&er>=Gn&&Ht<=En&&Er<=Pn){St.splice(Ct,1);break}else if(kt!==pn||Mt.width!==qr.width||Pn<er||Gn>Er){if(!(er!==Gn||Mt.height!==qr.height||En<kt||pn>Ht)){pn>kt&&(qr.width+=pn-kt,qr.x=kt),En<Ht&&(qr.width=Ht-pn),St.splice(Ct,1);break}}else{Gn>er&&(qr.height+=Gn-er,qr.y=er),Pn<Er&&(qr.height=Er-Gn),St.splice(Ct,1);break}}}return St},rt.findHostInstance=Qm,rt.findHostInstanceWithNoPortals=function(St){return St=Lt(St),St=St!==null?Ot(St):null,St===null?null:St.stateNode},rt.findHostInstanceWithWarning=function(St){return Qm(St)},rt.flushControlled=function(St){var Ct=Yn;Yn|=1;var Mt=co.transition,kt=Vn;try{co.transition=null,Vn=1,St()}finally{Vn=kt,co.transition=Mt,Yn=Ct,Yn===0&&(El(),Fo())}},rt.flushPassiveEffects=Gs,rt.flushSync=Gm,rt.focusWithin=function(St,Ct){if(!cr)throw Error(at(363));for(St=dp(St),Ct=Fm(St,Ct),Ct=Array.from(Ct),St=0;St<Ct.length;){var Mt=Ct[St++];if(!tr(Mt)){if(Mt.tag===5&&br(Mt.stateNode))return!0;for(Mt=Mt.child;Mt!==null;)Ct.push(Mt),Mt=Mt.sibling}}return!1},rt.getCurrentUpdatePriority=function(){return Vn},rt.getFindAllNodesFailureDescription=function(St,Ct){if(!cr)throw Error(at(363));var Mt=0,kt=[];St=[dp(St),0];for(var Ht=0;Ht<St.length;){var er=St[Ht++],Er=St[Ht++],Nr=Ct[Er];if((er.tag!==5||!tr(er))&&(fp(er,Nr)&&(kt.push(pp(Nr)),Er++,Er>Mt&&(Mt=Er)),Er<Ct.length))for(er=er.child;er!==null;)St.push(er,Er),er=er.sibling}if(Mt<Ct.length){for(St=[];Mt<Ct.length;Mt++)St.push(pp(Ct[Mt]));return`findAllNodes was able to match part of the selector:
  `+(kt.join(" > ")+`

No matching component was found for:
  `)+St.join(" > ")}return null},rt.getPublicRootInstance=function(St){if(St=St.current,!St.child)return null;switch(St.child.tag){case 5:return zt(St.child.stateNode);default:return St.child.stateNode}},rt.injectIntoDevTools=function(St){if(St={bundleType:St.bundleType,version:St.version,rendererPackageName:St.rendererPackageName,rendererConfig:St.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:st.ReactCurrentDispatcher,findHostInstanceByFiber:wv,findFiberByHostInstance:St.findFiberByHostInstance||Av,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")St=!1;else{var Ct=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(Ct.isDisabled||!Ct.supportsFiber)St=!0;else{try{Es=Ct.inject(St),zo=Ct}catch{}St=!!Ct.checkDCE}}return St},rt.isAlreadyRendering=function(){return!1},rt.observeVisibleRects=function(St,Ct,Mt,kt){if(!cr)throw Error(at(363));St=hp(St,Ct);var Ht=Sr(St,Mt,kt).disconnect;return{disconnect:function(){Ht()}}},rt.registerMutableSourceForHydration=function(St,Ct){var Mt=Ct._getVersion;Mt=Mt(Ct._source),St.mutableSourceEagerHydrationData==null?St.mutableSourceEagerHydrationData=[Ct,Mt]:St.mutableSourceEagerHydrationData.push(Ct,Mt)},rt.runWithPriority=function(St,Ct){var Mt=Vn;try{return Vn=St,Ct()}finally{Vn=Mt}},rt.shouldError=function(){return null},rt.shouldSuspend=function(){return!1},rt.updateContainer=function(St,Ct,Mt,kt){var Ht=Ct.current,er=ko(),Er=As(Ht);return Mt=Zm(Mt),Ct.context===null?Ct.context=Mt:Ct.pendingContext=Mt,Ct=vs(er,Er),Ct.payload={element:St},kt=kt===void 0?null:kt,kt!==null&&(Ct.callback=kt),Cs(Ht,Ct),St=ga(Ht,Er,er),St!==null&&_c(St,Ht,Er),Er},rt};(function(tt){tt.exports=reactReconciler_production_min})(reactReconciler);const Reconciler=getDefaultExportFromCjs(reactReconcilerExports);function shallowEqualArrays(tt,et,rt=(nt,it)=>nt===it){if(tt===et)return!0;if(!tt||!et)return!1;const nt=tt.length;if(et.length!==nt)return!1;for(let it=0;it<nt;it++)if(!rt(tt[it],et[it]))return!1;return!0}const globalCache=[];function query(tt,et,rt=!1,nt={}){for(const ot of globalCache)if(shallowEqualArrays(et,ot.keys,ot.equal)){if(rt)return;if(Object.prototype.hasOwnProperty.call(ot,"error"))throw ot.error;if(Object.prototype.hasOwnProperty.call(ot,"response"))return ot.response;if(!rt)throw ot.promise}const it={keys:et,equal:nt.equal,promise:tt(...et).then(ot=>it.response=ot).then(()=>{nt.lifespan&&nt.lifespan>0&&setTimeout(()=>{const ot=globalCache.indexOf(it);ot!==-1&&globalCache.splice(ot,1)},nt.lifespan)}).catch(ot=>it.error=ot)};if(globalCache.push(it),!rt)throw it.promise}const suspend=(tt,et,rt)=>query(tt,et,!1,rt),preload=(tt,et,rt)=>void query(tt,et,!0,rt),clear$4=tt=>{if(tt===void 0||tt.length===0)globalCache.splice(0,globalCache.length);else{const et=globalCache.find(rt=>shallowEqualArrays(tt,rt.keys,rt.equal));if(et){const rt=globalCache.indexOf(et);rt!==-1&&globalCache.splice(rt,1)}}};var _window$document,_window$navigator;const isOrthographicCamera=tt=>tt&&tt.isOrthographicCamera,isRef$2=tt=>tt&&tt.hasOwnProperty("current"),useIsomorphicLayoutEffect$1=typeof window<"u"&&((_window$document=window.document)!=null&&_window$document.createElement||((_window$navigator=window.navigator)==null?void 0:_window$navigator.product)==="ReactNative")?reactExports.useLayoutEffect:reactExports.useEffect;function useMutableCallback(tt){const et=reactExports.useRef(tt);return useIsomorphicLayoutEffect$1(()=>void(et.current=tt),[tt]),et}function Block$3({set:tt}){return useIsomorphicLayoutEffect$1(()=>(tt(new Promise(()=>null)),()=>tt(!1)),[tt]),null}let ErrorBoundary$2=class extends reactExports.Component{constructor(...et){super(...et),this.state={error:!1}}componentDidCatch(et){this.props.set(et)}render(){return this.state.error?null:this.props.children}};ErrorBoundary$2.getDerivedStateFromError=()=>({error:!0});const DEFAULT="__default",isDiffSet=tt=>tt&&!!tt.memoized&&!!tt.changes;function calculateDpr(tt){const et=typeof window<"u"?window.devicePixelRatio:1;return Array.isArray(tt)?Math.min(Math.max(tt[0],et),tt[1]):tt}const getRootState=tt=>{var et;return(et=tt.__r3f)==null?void 0:et.root.getState()},is$1={obj:tt=>tt===Object(tt)&&!is$1.arr(tt)&&typeof tt!="function",fun:tt=>typeof tt=="function",str:tt=>typeof tt=="string",num:tt=>typeof tt=="number",boo:tt=>typeof tt=="boolean",und:tt=>tt===void 0,arr:tt=>Array.isArray(tt),equ(tt,et,{arrays:rt="shallow",objects:nt="reference",strict:it=!0}={}){if(typeof tt!=typeof et||!!tt!=!!et)return!1;if(is$1.str(tt)||is$1.num(tt))return tt===et;const ot=is$1.obj(tt);if(ot&&nt==="reference")return tt===et;const at=is$1.arr(tt);if(at&&rt==="reference")return tt===et;if((at||ot)&&tt===et)return!0;let st;for(st in tt)if(!(st in et))return!1;for(st in it?et:tt)if(tt[st]!==et[st])return!1;if(is$1.und(st)){if(at&&tt.length===0&&et.length===0||ot&&Object.keys(tt).length===0&&Object.keys(et).length===0)return!0;if(tt!==et)return!1}return!0}};function buildGraph(tt){const et={nodes:{},materials:{}};return tt&&tt.traverse(rt=>{rt.name&&(et.nodes[rt.name]=rt),rt.material&&!et.materials[rt.material.name]&&(et.materials[rt.material.name]=rt.material)}),et}function dispose(tt){tt.dispose&&tt.type!=="Scene"&&tt.dispose();for(const et in tt)et.dispose==null||et.dispose(),delete tt[et]}function prepare(tt,et){const rt=tt;return(et!=null&&et.primitive||!rt.__r3f)&&(rt.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...et}),tt}function resolve$1(tt,et){let rt=tt;if(et.includes("-")){const nt=et.split("-"),it=nt.pop();return rt=nt.reduce((ot,at)=>ot[at],tt),{target:rt,key:it}}else return{target:rt,key:et}}const INDEX_REGEX=/-\d+$/;function attach(tt,et,rt){if(is$1.str(rt)){if(INDEX_REGEX.test(rt)){const ot=rt.replace(INDEX_REGEX,""),{target:at,key:st}=resolve$1(tt,ot);Array.isArray(at[st])||(at[st]=[])}const{target:nt,key:it}=resolve$1(tt,rt);et.__r3f.previousAttach=nt[it],nt[it]=et}else et.__r3f.previousAttach=rt(tt,et)}function detach(tt,et,rt){var nt,it;if(is$1.str(rt)){const{target:ot,key:at}=resolve$1(tt,rt),st=et.__r3f.previousAttach;st===void 0?delete ot[at]:ot[at]=st}else(nt=et.__r3f)==null||nt.previousAttach==null||nt.previousAttach(tt,et);(it=et.__r3f)==null||delete it.previousAttach}function diffProps(tt,{children:et,key:rt,ref:nt,...it},{children:ot,key:at,ref:st,...lt}={},ct=!1){var ut;const dt=(ut=tt==null?void 0:tt.__r3f)!=null?ut:{},ft=Object.entries(it),pt=[];if(ct){const ht=Object.keys(lt);for(let gt=0;gt<ht.length;gt++)it.hasOwnProperty(ht[gt])||ft.unshift([ht[gt],DEFAULT+"remove"])}ft.forEach(([ht,gt])=>{var vt;if((vt=tt.__r3f)!=null&&vt.primitive&&ht==="object"||is$1.equ(gt,lt[ht]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(ht))return pt.push([ht,gt,!0,[]]);let yt=[];ht.includes("-")&&(yt=ht.split("-")),pt.push([ht,gt,!1,yt]);for(const bt in it){const xt=it[bt];bt.startsWith(`${ht}-`)&&pt.push([bt,xt,!1,bt.split("-")])}});const mt={...it};return dt.memoizedProps&&dt.memoizedProps.args&&(mt.args=dt.memoizedProps.args),dt.memoizedProps&&dt.memoizedProps.attach&&(mt.attach=dt.memoizedProps.attach),{memoized:mt,changes:pt}}function applyProps$1(tt,et){var rt,nt,it;const ot=(rt=tt.__r3f)!=null?rt:{},at=ot.root,st=(nt=at==null||at.getState==null?void 0:at.getState())!=null?nt:{},{memoized:lt,changes:ct}=isDiffSet(et)?et:diffProps(tt,et),ut=ot.eventCount;tt.__r3f&&(tt.__r3f.memoizedProps=lt);for(let pt=0;pt<ct.length;pt++){let[mt,ht,gt,vt]=ct[pt],yt=tt,bt=yt[mt];if(vt.length&&(bt=vt.reduce((xt,$t)=>xt[$t],tt),!(bt&&bt.set))){const[xt,...$t]=vt.reverse();yt=$t.reverse().reduce((Tt,wt)=>Tt[wt],tt),mt=xt}if(ht===DEFAULT+"remove")if(bt&&bt.constructor){var dt;ht=new bt.constructor(...(dt=lt.args)!=null?dt:[])}else if(yt.constructor){var ft;const xt=new yt.constructor(...(ft=yt.__r3f.memoizedProps.args)!=null?ft:[]);ht=xt[bt],xt.dispose&&xt.dispose()}else ht=0;if(gt)ht?ot.handlers[mt]=ht:delete ot.handlers[mt],ot.eventCount=Object.keys(ot.handlers).length;else if(bt&&bt.set&&(bt.copy||bt instanceof Layers)){if(Array.isArray(ht))bt.fromArray?bt.fromArray(ht):bt.set(...ht);else if(bt.copy&&ht&&ht.constructor&&bt.constructor.name===ht.constructor.name)bt.copy(ht);else if(ht!==void 0){const xt=bt instanceof Color;!xt&&bt.setScalar?bt.setScalar(ht):bt instanceof Layers&&ht instanceof Layers?bt.mask=ht.mask:bt.set(ht),!("ColorManagement"in THREE)&&!st.linear&&xt&&bt.convertSRGBToLinear()}}else yt[mt]=ht,!st.linear&&yt[mt]instanceof Texture&&(yt[mt].encoding=sRGBEncoding);invalidateInstance(tt)}if(ot.parent&&st.internal&&tt.raycast&&ut!==ot.eventCount){const pt=st.internal.interaction.indexOf(tt);pt>-1&&st.internal.interaction.splice(pt,1),ot.eventCount&&st.internal.interaction.push(tt)}return ct.length&&(it=tt.__r3f)!=null&&it.parent&&updateInstance(tt),tt}function invalidateInstance(tt){var et,rt;const nt=(et=tt.__r3f)==null||(rt=et.root)==null||rt.getState==null?void 0:rt.getState();nt&&nt.internal.frames===0&&nt.invalidate()}function updateInstance(tt){tt.onUpdate==null||tt.onUpdate(tt)}function updateCamera(tt,et){tt.manual||(isOrthographicCamera(tt)?(tt.left=et.width/-2,tt.right=et.width/2,tt.top=et.height/2,tt.bottom=et.height/-2):tt.aspect=et.width/et.height,tt.updateProjectionMatrix(),tt.updateMatrixWorld())}function setDeep(tt,et,rt){const nt=rt.pop(),it=rt.reduce((ot,at)=>ot[at],tt);return it[nt]=et}function makeId(tt){return(tt.eventObject||tt.object).uuid+"/"+tt.index+tt.instanceId}function getEventPriority(){var tt;const et=typeof self<"u"&&self||typeof window<"u"&&window;if(!et)return constantsExports.DefaultEventPriority;switch((tt=et.event)==null?void 0:tt.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return constantsExports.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return constantsExports.ContinuousEventPriority;default:return constantsExports.DefaultEventPriority}}function releaseInternalPointerCapture(tt,et,rt,nt){const it=rt.get(et);it&&(rt.delete(et),rt.size===0&&(tt.delete(nt),it.target.releasePointerCapture(nt)))}function removeInteractivity(tt,et){const{internal:rt}=tt.getState();rt.interaction=rt.interaction.filter(nt=>nt!==et),rt.initialHits=rt.initialHits.filter(nt=>nt!==et),rt.hovered.forEach((nt,it)=>{(nt.eventObject===et||nt.object===et)&&rt.hovered.delete(it)}),rt.capturedMap.forEach((nt,it)=>{releaseInternalPointerCapture(rt.capturedMap,et,nt,it)})}function createEvents(tt){function et(lt){const{internal:ct}=tt.getState(),ut=lt.offsetX-ct.initialClick[0],dt=lt.offsetY-ct.initialClick[1];return Math.round(Math.sqrt(ut*ut+dt*dt))}function rt(lt){return lt.filter(ct=>["Move","Over","Enter","Out","Leave"].some(ut=>{var dt;return(dt=ct.__r3f)==null?void 0:dt.handlers["onPointer"+ut]}))}function nt(lt,ct){const ut=tt.getState(),dt=new Set,ft=[],pt=ct?ct(ut.internal.interaction):ut.internal.interaction;for(let vt=0;vt<pt.length;vt++){const yt=getRootState(pt[vt]);yt&&(yt.raycaster.camera=void 0)}ut.previousRoot||ut.events.compute==null||ut.events.compute(lt,ut);function mt(vt){const yt=getRootState(vt);if(!yt||!yt.events.enabled||yt.raycaster.camera===null)return[];if(yt.raycaster.camera===void 0){var bt;yt.events.compute==null||yt.events.compute(lt,yt,(bt=yt.previousRoot)==null?void 0:bt.getState()),yt.raycaster.camera===void 0&&(yt.raycaster.camera=null)}return yt.raycaster.camera?yt.raycaster.intersectObject(vt,!0):[]}let ht=pt.flatMap(mt).sort((vt,yt)=>{const bt=getRootState(vt.object),xt=getRootState(yt.object);return!bt||!xt?vt.distance-yt.distance:xt.events.priority-bt.events.priority||vt.distance-yt.distance}).filter(vt=>{const yt=makeId(vt);return dt.has(yt)?!1:(dt.add(yt),!0)});ut.events.filter&&(ht=ut.events.filter(ht,ut));for(const vt of ht){let yt=vt.object;for(;yt;){var gt;(gt=yt.__r3f)!=null&&gt.eventCount&&ft.push({...vt,eventObject:yt}),yt=yt.parent}}if("pointerId"in lt&&ut.internal.capturedMap.has(lt.pointerId))for(let vt of ut.internal.capturedMap.get(lt.pointerId).values())dt.has(makeId(vt.intersection))||ft.push(vt.intersection);return ft}function it(lt,ct,ut,dt){const ft=tt.getState();if(lt.length){const pt={stopped:!1};for(const mt of lt){const ht=getRootState(mt.object)||ft,{raycaster:gt,pointer:vt,camera:yt,internal:bt}=ht,xt=new Vector3(vt.x,vt.y,0).unproject(yt),$t=It=>{var Lt,Pt;return(Lt=(Pt=bt.capturedMap.get(It))==null?void 0:Pt.has(mt.eventObject))!=null?Lt:!1},Tt=It=>{const Lt={intersection:mt,target:ct.target};bt.capturedMap.has(It)?bt.capturedMap.get(It).set(mt.eventObject,Lt):bt.capturedMap.set(It,new Map([[mt.eventObject,Lt]])),ct.target.setPointerCapture(It)},wt=It=>{const Lt=bt.capturedMap.get(It);Lt&&releaseInternalPointerCapture(bt.capturedMap,mt.eventObject,Lt,It)};let At={};for(let It in ct){let Lt=ct[It];typeof Lt!="function"&&(At[It]=Lt)}let Rt={...mt,...At,pointer:vt,intersections:lt,stopped:pt.stopped,delta:ut,unprojectedPoint:xt,ray:gt.ray,camera:yt,stopPropagation(){const It="pointerId"in ct&&bt.capturedMap.get(ct.pointerId);if((!It||It.has(mt.eventObject))&&(Rt.stopped=pt.stopped=!0,bt.hovered.size&&Array.from(bt.hovered.values()).find(Lt=>Lt.eventObject===mt.eventObject))){const Lt=lt.slice(0,lt.indexOf(mt));ot([...Lt,mt])}},target:{hasPointerCapture:$t,setPointerCapture:Tt,releasePointerCapture:wt},currentTarget:{hasPointerCapture:$t,setPointerCapture:Tt,releasePointerCapture:wt},nativeEvent:ct};if(dt(Rt),pt.stopped===!0)break}}return lt}function ot(lt){const{internal:ct}=tt.getState();for(const ut of ct.hovered.values())if(!lt.length||!lt.find(dt=>dt.object===ut.object&&dt.index===ut.index&&dt.instanceId===ut.instanceId)){const ft=ut.eventObject.__r3f,pt=ft==null?void 0:ft.handlers;if(ct.hovered.delete(makeId(ut)),ft!=null&&ft.eventCount){const mt={...ut,intersections:lt};pt.onPointerOut==null||pt.onPointerOut(mt),pt.onPointerLeave==null||pt.onPointerLeave(mt)}}}function at(lt,ct){for(let ut=0;ut<ct.length;ut++){const dt=ct[ut].__r3f;dt==null||dt.handlers.onPointerMissed==null||dt.handlers.onPointerMissed(lt)}}function st(lt){switch(lt){case"onPointerLeave":case"onPointerCancel":return()=>ot([]);case"onLostPointerCapture":return ct=>{const{internal:ut}=tt.getState();"pointerId"in ct&&ut.capturedMap.has(ct.pointerId)&&(ut.capturedMap.delete(ct.pointerId),ot([]))}}return function(ut){const{onPointerMissed:dt,internal:ft}=tt.getState();ft.lastEvent.current=ut;const pt=lt==="onPointerMove",mt=lt==="onClick"||lt==="onContextMenu"||lt==="onDoubleClick",gt=nt(ut,pt?rt:void 0),vt=mt?et(ut):0;lt==="onPointerDown"&&(ft.initialClick=[ut.offsetX,ut.offsetY],ft.initialHits=gt.map(bt=>bt.eventObject)),mt&&!gt.length&&vt<=2&&(at(ut,ft.interaction),dt&&dt(ut)),pt&&ot(gt);function yt(bt){const xt=bt.eventObject,$t=xt.__r3f,Tt=$t==null?void 0:$t.handlers;if($t!=null&&$t.eventCount)if(pt){if(Tt.onPointerOver||Tt.onPointerEnter||Tt.onPointerOut||Tt.onPointerLeave){const wt=makeId(bt),At=ft.hovered.get(wt);At?At.stopped&&bt.stopPropagation():(ft.hovered.set(wt,bt),Tt.onPointerOver==null||Tt.onPointerOver(bt),Tt.onPointerEnter==null||Tt.onPointerEnter(bt))}Tt.onPointerMove==null||Tt.onPointerMove(bt)}else{const wt=Tt[lt];wt?(!mt||ft.initialHits.includes(xt))&&(at(ut,ft.interaction.filter(At=>!ft.initialHits.includes(At))),wt(bt)):mt&&ft.initialHits.includes(xt)&&at(ut,ft.interaction.filter(At=>!ft.initialHits.includes(At)))}}it(gt,ut,vt,yt)}}return{handlePointer:st}}let catalogue={},extend$1=tt=>void(catalogue={...catalogue,...tt});function createRenderer(tt,et){function rt(ut,{args:dt=[],attach:ft,...pt},mt){let ht=`${ut[0].toUpperCase()}${ut.slice(1)}`,gt;if(ut==="primitive"){if(pt.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const vt=pt.object;gt=prepare(vt,{type:ut,root:mt,attach:ft,primitive:!0})}else{const vt=catalogue[ht];if(!vt)throw new Error(`R3F: ${ht} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(dt))throw new Error("R3F: The args prop must be an array!");gt=prepare(new vt(...dt),{type:ut,root:mt,attach:ft,memoizedProps:{args:dt}})}return gt.__r3f.attach===void 0&&(gt instanceof BufferGeometry?gt.__r3f.attach="geometry":gt instanceof Material$2&&(gt.__r3f.attach="material")),ht!=="inject"&&applyProps$1(gt,pt),gt}function nt(ut,dt){let ft=!1;if(dt){var pt,mt;(pt=dt.__r3f)!=null&&pt.attach?attach(ut,dt,dt.__r3f.attach):dt.isObject3D&&ut.isObject3D&&(ut.add(dt),ft=!0),ft||(mt=ut.__r3f)==null||mt.objects.push(dt),dt.__r3f||prepare(dt,{}),dt.__r3f.parent=ut,updateInstance(dt),invalidateInstance(dt)}}function it(ut,dt,ft){let pt=!1;if(dt){var mt,ht;if((mt=dt.__r3f)!=null&&mt.attach)attach(ut,dt,dt.__r3f.attach);else if(dt.isObject3D&&ut.isObject3D){dt.parent=ut,dt.dispatchEvent({type:"added"});const gt=ut.children.filter(yt=>yt!==dt),vt=gt.indexOf(ft);ut.children=[...gt.slice(0,vt),dt,...gt.slice(vt)],pt=!0}pt||(ht=ut.__r3f)==null||ht.objects.push(dt),dt.__r3f||prepare(dt,{}),dt.__r3f.parent=ut,updateInstance(dt),invalidateInstance(dt)}}function ot(ut,dt,ft=!1){ut&&[...ut].forEach(pt=>at(dt,pt,ft))}function at(ut,dt,ft){if(dt){var pt,mt,ht;if(dt.__r3f&&(dt.__r3f.parent=null),(pt=ut.__r3f)!=null&&pt.objects&&(ut.__r3f.objects=ut.__r3f.objects.filter(xt=>xt!==dt)),(mt=dt.__r3f)!=null&&mt.attach)detach(ut,dt,dt.__r3f.attach);else if(dt.isObject3D&&ut.isObject3D){var gt;ut.remove(dt),(gt=dt.__r3f)!=null&&gt.root&&removeInteractivity(dt.__r3f.root,dt)}const yt=(ht=dt.__r3f)==null?void 0:ht.primitive,bt=ft===void 0?dt.dispose!==null&&!yt:ft;if(!yt){var vt;ot((vt=dt.__r3f)==null?void 0:vt.objects,dt,bt),ot(dt.children,dt,bt)}dt.__r3f&&(delete dt.__r3f.root,delete dt.__r3f.objects,delete dt.__r3f.handlers,delete dt.__r3f.memoizedProps,yt||delete dt.__r3f),bt&&dt.dispose&&dt.type!=="Scene"&&schedulerExports.unstable_scheduleCallback(schedulerExports.unstable_IdlePriority,()=>{try{dt.dispose()}catch{}}),invalidateInstance(ut)}}function st(ut,dt,ft,pt){var mt;const ht=(mt=ut.__r3f)==null?void 0:mt.parent;if(!ht)return;const gt=rt(dt,ft,ut.__r3f.root);if(ut.children){for(const vt of ut.children)vt.__r3f&&nt(gt,vt);ut.children=ut.children.filter(vt=>!vt.__r3f)}ut.__r3f.objects.forEach(vt=>nt(gt,vt)),ut.__r3f.objects=[],at(ht,ut),nt(ht,gt),gt.raycast&&gt.__r3f.eventCount&&gt.__r3f.root.getState().internal.interaction.push(gt),[pt,pt.alternate].forEach(vt=>{vt!==null&&(vt.stateNode=gt,vt.ref&&(typeof vt.ref=="function"?vt.ref(gt):vt.ref.current=gt))})}const lt=()=>console.warn("Text is not allowed in the R3F tree! This could be stray whitespace or characters.");return{reconciler:Reconciler({createInstance:rt,removeChild:at,appendChild:nt,appendInitialChild:nt,insertBefore:it,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(ut,dt)=>{if(!dt)return;const ft=ut.getState().scene;ft.__r3f&&(ft.__r3f.root=ut,nt(ft,dt))},removeChildFromContainer:(ut,dt)=>{dt&&at(ut.getState().scene,dt)},insertInContainerBefore:(ut,dt,ft)=>{if(!dt||!ft)return;const pt=ut.getState().scene;pt.__r3f&&it(pt,dt,ft)},getRootHostContext:()=>null,getChildHostContext:ut=>ut,finalizeInitialChildren(ut){var dt;const ft=(dt=ut==null?void 0:ut.__r3f)!=null?dt:{};return Boolean(ft.handlers)},prepareUpdate(ut,dt,ft,pt){if(ut.__r3f.primitive&&pt.object&&pt.object!==ut)return[!0];{const{args:mt=[],children:ht,...gt}=pt,{args:vt=[],children:yt,...bt}=ft;if(!Array.isArray(mt))throw new Error("R3F: the args prop must be an array!");if(mt.some(($t,Tt)=>$t!==vt[Tt]))return[!0];const xt=diffProps(ut,gt,bt,!0);return xt.changes.length?[!1,xt]:null}},commitUpdate(ut,[dt,ft],pt,mt,ht,gt){dt?st(ut,pt,ht,gt):applyProps$1(ut,ft)},commitMount(ut,dt,ft,pt){var mt;const ht=(mt=ut.__r3f)!=null?mt:{};ut.raycast&&ht.handlers&&ht.eventCount&&ut.__r3f.root.getState().internal.interaction.push(ut)},getPublicInstance:ut=>ut,prepareForCommit:()=>null,preparePortalMount:ut=>prepare(ut.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(ut){var dt;const{attach:ft,parent:pt}=(dt=ut.__r3f)!=null?dt:{};ft&&pt&&detach(pt,ut,ft),ut.isObject3D&&(ut.visible=!1),invalidateInstance(ut)},unhideInstance(ut,dt){var ft;const{attach:pt,parent:mt}=(ft=ut.__r3f)!=null?ft:{};pt&&mt&&attach(mt,ut,pt),(ut.isObject3D&&dt.visible==null||dt.visible)&&(ut.visible=!0),invalidateInstance(ut)},createTextInstance:lt,hideTextInstance:lt,unhideTextInstance:lt,getCurrentEventPriority:()=>et?et():constantsExports.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&is$1.fun(performance.now)?performance.now:is$1.fun(Date.now)?Date.now:()=>0,scheduleTimeout:is$1.fun(setTimeout)?setTimeout:void 0,cancelTimeout:is$1.fun(clearTimeout)?clearTimeout:void 0}),applyProps:applyProps$1}}const privateKeys=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],isRenderer=tt=>!!(tt!=null&&tt.render),context=reactExports.createContext(null),createStore$1=(tt,et)=>{const rt=create$1((st,lt)=>{const ct=new Vector3,ut=new Vector3,dt=new Vector3;function ft(vt=lt().camera,yt=ut,bt=lt().size){const{width:xt,height:$t,top:Tt,left:wt}=bt,At=xt/$t;yt instanceof Vector3?dt.copy(yt):dt.set(...yt);const Rt=vt.getWorldPosition(ct).distanceTo(dt);if(isOrthographicCamera(vt))return{width:xt/vt.zoom,height:$t/vt.zoom,top:Tt,left:wt,factor:1,distance:Rt,aspect:At};{const It=vt.fov*Math.PI/180,Lt=2*Math.tan(It/2)*Rt,Pt=Lt*(xt/$t);return{width:Pt,height:Lt,top:Tt,left:wt,factor:xt/Pt,distance:Rt,aspect:At}}}let pt;const mt=vt=>st(yt=>({performance:{...yt.performance,current:vt}})),ht=new Vector2;return{set:st,get:lt,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,invalidate:(vt=1)=>tt(lt(),vt),advance:(vt,yt)=>et(vt,yt,lt()),legacy:!1,linear:!1,flat:!1,scene:prepare(new Scene),controls:null,clock:new Clock,pointer:ht,mouse:ht,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const vt=lt();pt&&clearTimeout(pt),vt.performance.current!==vt.performance.min&&mt(vt.performance.min),pt=setTimeout(()=>mt(lt().performance.max),vt.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:ft},setEvents:vt=>st(yt=>({...yt,events:{...yt.events,...vt}})),setSize:(vt,yt,bt,xt,$t)=>{const Tt=lt().camera,wt={width:vt,height:yt,top:xt||0,left:$t||0,updateStyle:bt};st(At=>({size:wt,viewport:{...At.viewport,...ft(Tt,ut,wt)}}))},setDpr:vt=>st(yt=>{const bt=calculateDpr(vt);return{viewport:{...yt.viewport,dpr:bt,initialDpr:yt.viewport.initialDpr||bt}}}),setFrameloop:(vt="always")=>{const yt=lt().clock;yt.stop(),yt.elapsedTime=0,vt!=="never"&&(yt.start(),yt.elapsedTime=0),st(()=>({frameloop:vt}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:reactExports.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(vt,yt,bt)=>{const xt=lt().internal;return xt.priority=xt.priority+(yt>0?1:0),xt.subscribers.push({ref:vt,priority:yt,store:bt}),xt.subscribers=xt.subscribers.sort(($t,Tt)=>$t.priority-Tt.priority),()=>{const $t=lt().internal;$t!=null&&$t.subscribers&&($t.priority=$t.priority-(yt>0?1:0),$t.subscribers=$t.subscribers.filter(Tt=>Tt.ref!==vt))}}}}}),nt=rt.getState();let it=nt.size,ot=nt.viewport.dpr,at=nt.camera;return rt.subscribe(()=>{const{camera:st,size:lt,viewport:ct,gl:ut,set:dt}=rt.getState();(lt!==it||ct.dpr!==ot)&&(it=lt,ot=ct.dpr,updateCamera(st,lt),ut.setPixelRatio(ct.dpr),ut.setSize(lt.width,lt.height,lt.updateStyle)),st!==at&&(at=st,dt(ft=>({viewport:{...ft.viewport,...ft.viewport.getCurrentViewport(st)}})))}),rt.subscribe(st=>tt(st)),rt};function createSubs(tt,et){const rt={callback:tt};return et.add(rt),()=>void et.delete(rt)}let i$1,globalEffects=new Set,globalAfterEffects=new Set,globalTailEffects=new Set;const addEffect=tt=>createSubs(tt,globalEffects),addAfterEffect=tt=>createSubs(tt,globalAfterEffects);function run$4(tt,et){if(tt.size)for(const{callback:rt}of tt.values())rt(et)}function flushGlobalEffects(tt,et){switch(tt){case"before":return run$4(globalEffects,et);case"after":return run$4(globalAfterEffects,et);case"tail":return run$4(globalTailEffects,et)}}let subscribers,subscription;function render$1$1(tt,et,rt){let nt=et.clock.getDelta();for(et.frameloop==="never"&&typeof tt=="number"&&(nt=tt-et.clock.elapsedTime,et.clock.oldTime=et.clock.elapsedTime,et.clock.elapsedTime=tt),subscribers=et.internal.subscribers,i$1=0;i$1<subscribers.length;i$1++)subscription=subscribers[i$1],subscription.ref.current(subscription.store.getState(),nt,rt);return!et.internal.priority&&et.gl.render&&et.gl.render(et.scene,et.camera),et.internal.frames=Math.max(0,et.internal.frames-1),et.frameloop==="always"?1:et.internal.frames}function createLoop(tt){let et=!1,rt,nt,it;function ot(lt){nt=requestAnimationFrame(ot),et=!0,rt=0,flushGlobalEffects("before",lt);for(const ut of tt.values()){var ct;it=ut.store.getState(),it.internal.active&&(it.frameloop==="always"||it.internal.frames>0)&&!((ct=it.gl.xr)!=null&&ct.isPresenting)&&(rt+=render$1$1(lt,it))}if(flushGlobalEffects("after",lt),rt===0)return flushGlobalEffects("tail",lt),et=!1,cancelAnimationFrame(nt)}function at(lt,ct=1){var ut;if(!lt)return tt.forEach(dt=>at(dt.store.getState()),ct);(ut=lt.gl.xr)!=null&&ut.isPresenting||!lt.internal.active||lt.frameloop==="never"||(lt.internal.frames=Math.min(60,lt.internal.frames+ct),et||(et=!0,requestAnimationFrame(ot)))}function st(lt,ct=!0,ut,dt){if(ct&&flushGlobalEffects("before",lt),ut)render$1$1(lt,ut,dt);else for(const ft of tt.values())render$1$1(lt,ft.store.getState());ct&&flushGlobalEffects("after",lt)}return{loop:ot,invalidate:at,advance:st}}function useStore(){const tt=reactExports.useContext(context);if(!tt)throw new Error("R3F: Hooks can only be used within the Canvas component!");return tt}function useThree(tt=rt=>rt,et){return useStore()(tt,et)}function useFrame(tt,et=0){const rt=useStore(),nt=rt.getState().internal.subscribe,it=useMutableCallback(tt);return useIsomorphicLayoutEffect$1(()=>nt(it,et,rt),[et,nt,rt]),null}function loadingFn(tt,et){return function(rt,...nt){const it=new rt;return tt&&tt(it),Promise.all(nt.map(ot=>new Promise((at,st)=>it.load(ot,lt=>{lt.scene&&Object.assign(lt,buildGraph(lt.scene)),at(lt)},et,lt=>st(new Error(`Could not load ${ot}: ${lt.message})`))))))}}function useLoader(tt,et,rt,nt){const it=Array.isArray(et)?et:[et],ot=suspend(loadingFn(rt,nt),[tt,...it],{equal:is$1.equ});return Array.isArray(et)?ot:ot[0]}useLoader.preload=function(tt,et,rt){const nt=Array.isArray(et)?et:[et];return preload(loadingFn(rt),[tt,...nt])};useLoader.clear=function(tt,et){const rt=Array.isArray(et)?et:[et];return clear$4([tt,...rt])};const roots=new Map,{invalidate,advance:advance$1}=createLoop(roots),{reconciler,applyProps}=createRenderer(roots,getEventPriority),shallowLoose={objects:"shallow",strict:!1},createRendererInstance=(tt,et)=>{const rt=typeof tt=="function"?tt(et):tt;return isRenderer(rt)?rt:new WebGLRenderer({powerPreference:"high-performance",canvas:et,antialias:!0,alpha:!0,...tt})};function isCanvas(tt){return tt instanceof HTMLCanvasElement}function computeInitialSize(tt,et){if(et)return et;if(isCanvas(tt)&&tt.parentElement){const{width:rt,height:nt,top:it,left:ot}=tt.parentElement.getBoundingClientRect();return{width:rt,height:nt,top:it,left:ot}}return{width:0,height:0,top:0,left:0}}function createRoot(tt){const et=roots.get(tt),rt=et==null?void 0:et.fiber,nt=et==null?void 0:et.store;et&&console.warn("R3F.createRoot should only be called once!");const it=typeof reportError=="function"?reportError:console.error,ot=nt||createStore$1(invalidate,advance$1),at=rt||reconciler.createContainer(ot,constantsExports.ConcurrentRoot,null,!1,null,"",it,null);et||roots.set(tt,{fiber:at,store:ot});let st,lt=!1;return{configure(ct={}){let{gl:ut,size:dt,events:ft,onCreated:pt,shadows:mt=!1,linear:ht=!1,flat:gt=!1,legacy:vt=!1,orthographic:yt=!1,frameloop:bt="always",dpr:xt=[1,2],performance:$t,raycaster:Tt,camera:wt,onPointerMissed:At}=ct,Rt=ot.getState(),It=Rt.gl;Rt.gl||Rt.set({gl:It=createRendererInstance(ut,tt)});let Lt=Rt.raycaster;Lt||Rt.set({raycaster:Lt=new Raycaster});const{params:Pt,...Nt}=Tt||{};if(is$1.equ(Nt,Lt,shallowLoose)||applyProps(Lt,{...Nt}),is$1.equ(Pt,Lt.params,shallowLoose)||applyProps(Lt,{params:{...Lt.params,...Pt}}),!Rt.camera){const Vt=wt instanceof Camera,Ut=Vt?wt:yt?new OrthographicCamera$1(0,0,0,0,.1,1e3):new PerspectiveCamera$1(75,0,.1,1e3);Vt||(Ut.position.z=5,wt&&applyProps(Ut,wt),wt!=null&&wt.rotation||Ut.lookAt(0,0,0)),Rt.set({camera:Ut})}if(!Rt.xr){const Vt=(qt,Dt)=>{const Ft=ot.getState();Ft.frameloop!=="never"&&advance$1(qt,!0,Ft,Dt)},Ut=()=>{const qt=ot.getState();qt.gl.xr.enabled=qt.gl.xr.isPresenting,qt.gl.xr.setAnimationLoop(qt.gl.xr.isPresenting?Vt:null),qt.gl.xr.isPresenting||invalidate(qt)},jt={connect(){const qt=ot.getState().gl;qt.xr.addEventListener("sessionstart",Ut),qt.xr.addEventListener("sessionend",Ut)},disconnect(){const qt=ot.getState().gl;qt.xr.removeEventListener("sessionstart",Ut),qt.xr.removeEventListener("sessionend",Ut)}};It.xr&&jt.connect(),Rt.set({xr:jt})}if(It.shadowMap){const Vt=is$1.boo(mt);if(Vt&&It.shadowMap.enabled!==mt||!is$1.equ(mt,It.shadowMap,shallowLoose)){const Ut=It.shadowMap.enabled;It.shadowMap.enabled=!!mt,Vt?It.shadowMap.type=PCFSoftShadowMap:Object.assign(It.shadowMap,mt),Ut!==It.shadowMap.enabled&&(It.shadowMap.needsUpdate=!0)}}"ColorManagement"in THREE&&setDeep(THREE,vt,["ColorManagement","legacyMode"]);const Ot=ht?LinearEncoding:sRGBEncoding,Bt=gt?NoToneMapping:ACESFilmicToneMapping;It.outputEncoding!==Ot&&(It.outputEncoding=Ot),It.toneMapping!==Bt&&(It.toneMapping=Bt),Rt.legacy!==vt&&Rt.set(()=>({legacy:vt})),Rt.linear!==ht&&Rt.set(()=>({linear:ht})),Rt.flat!==gt&&Rt.set(()=>({flat:gt})),ut&&!is$1.fun(ut)&&!isRenderer(ut)&&!is$1.equ(ut,It,shallowLoose)&&applyProps(It,ut),ft&&!Rt.events.handlers&&Rt.set({events:ft(ot)}),xt&&Rt.viewport.dpr!==calculateDpr(xt)&&Rt.setDpr(xt);const zt=computeInitialSize(tt,dt);return is$1.equ(zt,Rt.size,shallowLoose)||Rt.setSize(zt.width,zt.height,zt.updateStyle,zt.top,zt.left),Rt.frameloop!==bt&&Rt.setFrameloop(bt),Rt.onPointerMissed||Rt.set({onPointerMissed:At}),$t&&!is$1.equ($t,Rt.performance,shallowLoose)&&Rt.set(Vt=>({performance:{...Vt.performance,...$t}})),st=pt,lt=!0,this},render(ct){return lt||this.configure(),reconciler.updateContainer(reactExports.createElement(Provider,{store:ot,children:ct,onCreated:st,rootElement:tt}),at,null,()=>{}),ot},unmount(){unmountComponentAtNode(tt)}}}function Provider({store:tt,children:et,onCreated:rt,rootElement:nt}){return useIsomorphicLayoutEffect$1(()=>{const it=tt.getState();it.set(ot=>({internal:{...ot.internal,active:!0}})),rt&&rt(it),tt.getState().events.connected||it.events.connect==null||it.events.connect(nt)},[]),reactExports.createElement(context.Provider,{value:tt},et)}function unmountComponentAtNode(tt,et){const rt=roots.get(tt),nt=rt==null?void 0:rt.fiber;if(nt){const it=rt==null?void 0:rt.store.getState();it&&(it.internal.active=!1),reconciler.updateContainer(null,nt,null,()=>{it&&setTimeout(()=>{try{var ot,at,st,lt;it.events.disconnect==null||it.events.disconnect(),(ot=it.gl)==null||(at=ot.renderLists)==null||at.dispose==null||at.dispose(),(st=it.gl)==null||st.forceContextLoss==null||st.forceContextLoss(),(lt=it.gl)!=null&&lt.xr&&it.xr.disconnect(),dispose(it),roots.delete(tt),et&&et(tt)}catch{}},500)})}}function createPortal(tt,et,rt){return reactExports.createElement(Portal,{key:et.uuid,children:tt,container:et,state:rt})}function Portal({state:tt={},children:et,container:rt}){const{events:nt,size:it,...ot}=tt,at=useStore(),[st]=reactExports.useState(()=>new Raycaster),[lt]=reactExports.useState(()=>new Vector2),ct=reactExports.useCallback((dt,ft)=>{const pt={...dt};Object.keys(dt).forEach(ht=>{(privateKeys.includes(ht)||dt[ht]!==ft[ht])&&delete pt[ht]});let mt;if(ft&&it){const ht=ft.camera;mt=dt.viewport.getCurrentViewport(ht,new Vector3,it),ht!==dt.camera&&updateCamera(ht,it)}return{...pt,scene:rt,raycaster:st,pointer:lt,mouse:lt,previousRoot:at,events:{...dt.events,...ft==null?void 0:ft.events,...nt},size:{...dt.size,...it},viewport:{...dt.viewport,...mt},...ot}},[tt]),[ut]=reactExports.useState(()=>{const dt=at.getState();return create$1((pt,mt)=>({...dt,scene:rt,raycaster:st,pointer:lt,mouse:lt,previousRoot:at,events:{...dt.events,...nt},size:{...dt.size,...it},...ot,set:pt,get:mt,setEvents:ht=>pt(gt=>({...gt,events:{...gt.events,...ht}}))}))});return reactExports.useEffect(()=>{const dt=at.subscribe(ft=>ut.setState(pt=>ct(ft,pt)));return()=>{dt(),ut.destroy()}},[]),reactExports.useEffect(()=>{ut.setState(dt=>ct(at.getState(),dt))},[ct]),reactExports.createElement(reactExports.Fragment,null,reconciler.createPortal(reactExports.createElement(context.Provider,{value:ut},et),ut,null))}reconciler.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:reactExports.version});function debounce(tt,et,rt){var nt,it,ot,at,st;et==null&&(et=100);function lt(){var ut=Date.now()-at;ut<et&&ut>=0?nt=setTimeout(lt,et-ut):(nt=null,rt||(st=tt.apply(ot,it),ot=it=null))}var ct=function(){ot=this,it=arguments,at=Date.now();var ut=rt&&!nt;return nt||(nt=setTimeout(lt,et)),ut&&(st=tt.apply(ot,it),ot=it=null),st};return ct.clear=function(){nt&&(clearTimeout(nt),nt=null)},ct.flush=function(){nt&&(st=tt.apply(ot,it),ot=it=null,clearTimeout(nt),nt=null)},ct}debounce.debounce=debounce;var debounce_1=debounce;function useMeasure(tt){let{debounce:et,scroll:rt,polyfill:nt,offsetSize:it}=tt===void 0?{debounce:0,scroll:!1,offsetSize:!1}:tt;const ot=nt||(typeof window>"u"?class{}:window.ResizeObserver);if(!ot)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[at,st]=reactExports.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),lt=reactExports.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:at}),ct=et?typeof et=="number"?et:et.scroll:null,ut=et?typeof et=="number"?et:et.resize:null,dt=reactExports.useRef(!1);reactExports.useEffect(()=>(dt.current=!0,()=>void(dt.current=!1)));const[ft,pt,mt]=reactExports.useMemo(()=>{const yt=()=>{if(!lt.current.element)return;const{left:bt,top:xt,width:$t,height:Tt,bottom:wt,right:At,x:Rt,y:It}=lt.current.element.getBoundingClientRect(),Lt={left:bt,top:xt,width:$t,height:Tt,bottom:wt,right:At,x:Rt,y:It};lt.current.element instanceof HTMLElement&&it&&(Lt.height=lt.current.element.offsetHeight,Lt.width=lt.current.element.offsetWidth),Object.freeze(Lt),dt.current&&!areBoundsEqual(lt.current.lastBounds,Lt)&&st(lt.current.lastBounds=Lt)};return[yt,ut?debounce_1(yt,ut):yt,ct?debounce_1(yt,ct):yt]},[st,it,ct,ut]);function ht(){lt.current.scrollContainers&&(lt.current.scrollContainers.forEach(yt=>yt.removeEventListener("scroll",mt,!0)),lt.current.scrollContainers=null),lt.current.resizeObserver&&(lt.current.resizeObserver.disconnect(),lt.current.resizeObserver=null)}function gt(){lt.current.element&&(lt.current.resizeObserver=new ot(mt),lt.current.resizeObserver.observe(lt.current.element),rt&&lt.current.scrollContainers&&lt.current.scrollContainers.forEach(yt=>yt.addEventListener("scroll",mt,{capture:!0,passive:!0})))}const vt=yt=>{!yt||yt===lt.current.element||(ht(),lt.current.element=yt,lt.current.scrollContainers=findScrollContainers(yt),gt())};return useOnWindowScroll(mt,Boolean(rt)),useOnWindowResize(pt),reactExports.useEffect(()=>{ht(),gt()},[rt,mt,pt]),reactExports.useEffect(()=>ht,[]),[vt,at,ft]}function useOnWindowResize(tt){reactExports.useEffect(()=>{const et=tt;return window.addEventListener("resize",et),()=>void window.removeEventListener("resize",et)},[tt])}function useOnWindowScroll(tt,et){reactExports.useEffect(()=>{if(et){const rt=tt;return window.addEventListener("scroll",rt,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",rt,!0)}},[tt,et])}function findScrollContainers(tt){const et=[];if(!tt||tt===document.body)return et;const{overflow:rt,overflowX:nt,overflowY:it}=window.getComputedStyle(tt);return[rt,nt,it].some(ot=>ot==="auto"||ot==="scroll")&&et.push(tt),[...et,...findScrollContainers(tt.parentElement)]}const keys$8=["x","y","top","bottom","left","right","width","height"],areBoundsEqual=(tt,et)=>keys$8.every(rt=>tt[rt]===et[rt]);var __defProp=Object.defineProperty,__defProps=Object.defineProperties,__getOwnPropDescs=Object.getOwnPropertyDescriptors,__getOwnPropSymbols=Object.getOwnPropertySymbols,__hasOwnProp=Object.prototype.hasOwnProperty,__propIsEnum=Object.prototype.propertyIsEnumerable,__defNormalProp=(tt,et,rt)=>et in tt?__defProp(tt,et,{enumerable:!0,configurable:!0,writable:!0,value:rt}):tt[et]=rt,__spreadValues=(tt,et)=>{for(var rt in et||(et={}))__hasOwnProp.call(et,rt)&&__defNormalProp(tt,rt,et[rt]);if(__getOwnPropSymbols)for(var rt of __getOwnPropSymbols(et))__propIsEnum.call(et,rt)&&__defNormalProp(tt,rt,et[rt]);return tt},__spreadProps=(tt,et)=>__defProps(tt,__getOwnPropDescs(et));function traverseFiber(tt,et,rt){if(!tt)return;if(rt(tt)===!0)return tt;let nt=et?tt.return:tt.child;for(;nt;){const it=traverseFiber(nt,et,rt);if(it)return it;nt=et?null:nt.sibling}}function wrapContext(tt){try{return Object.defineProperties(tt,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return tt}}const FiberContext=wrapContext(reactExports.createContext(null));class FiberProvider extends reactExports.Component{render(){return reactExports.createElement(FiberContext.Provider,{value:this._reactInternals},this.props.children)}}const{ReactCurrentOwner,ReactCurrentDispatcher}=reactExports.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;function useFiber(){const tt=reactExports.useContext(FiberContext);if(!tt)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const et=reactExports.useId();return reactExports.useMemo(()=>{var nt;return(nt=ReactCurrentOwner.current)!=null?nt:traverseFiber(tt,!1,it=>{let ot=it.memoizedState;for(;ot;){if(ot.memoizedState===et)return!0;ot=ot.next}})},[tt,et])}function useContextBridge(){var tt,et;const rt=useFiber(),[nt]=reactExports.useState(()=>new Map);nt.clear();let it=rt;for(;it;){const ot=(tt=it.type)==null?void 0:tt._context;ot&&ot!==FiberContext&&!nt.has(ot)&&nt.set(ot,(et=ReactCurrentDispatcher.current)==null?void 0:et.readContext(wrapContext(ot))),it=it.return}return reactExports.useMemo(()=>Array.from(nt.keys()).reduce((ot,at)=>st=>reactExports.createElement(ot,null,reactExports.createElement(at.Provider,__spreadProps(__spreadValues({},st),{value:nt.get(at)}))),ot=>reactExports.createElement(FiberProvider,__spreadValues({},ot))),[nt])}const DOM_EVENTS={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function createPointerEvents(tt){const{handlePointer:et}=createEvents(tt);return{priority:1,enabled:!0,compute(rt,nt,it){nt.pointer.set(rt.offsetX/nt.size.width*2-1,-(rt.offsetY/nt.size.height)*2+1),nt.raycaster.setFromCamera(nt.pointer,nt.camera)},connected:void 0,handlers:Object.keys(DOM_EVENTS).reduce((rt,nt)=>({...rt,[nt]:et(nt)}),{}),connect:rt=>{var nt;const{set:it,events:ot}=tt.getState();ot.disconnect==null||ot.disconnect(),it(at=>({events:{...at.events,connected:rt}})),Object.entries((nt=ot.handlers)!=null?nt:[]).forEach(([at,st])=>{const[lt,ct]=DOM_EVENTS[at];rt.addEventListener(lt,st,{passive:ct})})},disconnect:()=>{const{set:rt,events:nt}=tt.getState();if(nt.connected){var it;Object.entries((it=nt.handlers)!=null?it:[]).forEach(([ot,at])=>{if(nt&&nt.connected instanceof HTMLElement){const[st]=DOM_EVENTS[ot];nt.connected.removeEventListener(st,at)}}),rt(ot=>({events:{...ot.events,connected:void 0}}))}}}}const CanvasImpl=reactExports.forwardRef(function({children:et,fallback:rt,resize:nt,style:it,gl:ot,events:at=createPointerEvents,eventSource:st,eventPrefix:lt,shadows:ct,linear:ut,flat:dt,legacy:ft,orthographic:pt,frameloop:mt,dpr:ht,performance:gt,raycaster:vt,camera:yt,onPointerMissed:bt,onCreated:xt,...$t},Tt){reactExports.useMemo(()=>extend$1(THREE),[]);const wt=useContextBridge(),[At,Rt]=useMeasure({scroll:!0,debounce:{scroll:50,resize:0},...nt}),It=reactExports.useRef(null),Lt=reactExports.useRef(null),[Pt,Nt]=reactExports.useState(null);reactExports.useImperativeHandle(Tt,()=>It.current);const Ot=useMutableCallback(bt),[Bt,zt]=reactExports.useState(!1),[Vt,Ut]=reactExports.useState(!1);if(Bt)throw Bt;if(Vt)throw Vt;const jt=reactExports.useRef(null);Rt.width>0&&Rt.height>0&&Pt&&(jt.current||(jt.current=createRoot(Pt)),jt.current.configure({gl:ot,events:at,shadows:ct,linear:ut,flat:dt,legacy:ft,orthographic:pt,frameloop:mt,dpr:ht,performance:gt,raycaster:vt,camera:yt,size:Rt,onPointerMissed:(...Dt)=>Ot.current==null?void 0:Ot.current(...Dt),onCreated:Dt=>{Dt.events.connect==null||Dt.events.connect(st?isRef$2(st)?st.current:st:Lt.current),lt&&Dt.setEvents({compute:(Ft,Zt)=>{const Kt=Ft[lt+"X"],ir=Ft[lt+"Y"];Zt.pointer.set(Kt/Zt.size.width*2-1,-(ir/Zt.size.height)*2+1),Zt.raycaster.setFromCamera(Zt.pointer,Zt.camera)}}),xt==null||xt(Dt)}}),jt.current.render(reactExports.createElement(wt,null,reactExports.createElement(ErrorBoundary$2,{set:Ut},reactExports.createElement(reactExports.Suspense,{fallback:reactExports.createElement(Block$3,{set:zt})},et))))),useIsomorphicLayoutEffect$1(()=>{Nt(It.current)},[]),reactExports.useEffect(()=>{if(Pt)return()=>unmountComponentAtNode(Pt)},[Pt]);const qt=st?"none":"auto";return reactExports.createElement("div",_extends$n({ref:Lt,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:qt,...it}},$t),reactExports.createElement("div",{ref:At,style:{width:"100%",height:"100%"}},reactExports.createElement("canvas",{ref:It,style:{display:"block"}},rt)))}),Canvas$1=reactExports.forwardRef(function(et,rt){return reactExports.createElement(FiberProvider,null,reactExports.createElement(CanvasImpl,_extends$n({},et,{ref:rt})))}),{Consumer}=ReactReduxContext,ReduxForwardCanvas=React.forwardRef(({children:tt,...et},rt)=>{const nt=reactExports.useRef(null),[it,ot]=reactExports.useState("never");return reactExports.useEffect(()=>{const at=new IntersectionObserver(([{isIntersecting:st}])=>{ot(st?"always":"never")},{});return nt.current&&at.observe(nt.current),()=>at.disconnect()},[]),jsx(Consumer,{children:({store:at})=>jsx("span",{ref:rt,children:jsx(Canvas$1,{...et,ref:nt,frameloop:it,performance:{current:1,min:.1,max:.5,debounce:200},onContextMenu:st=>{st.preventDefault()},children:jsx(Provider$1,{store:at,children:tt})})})})}),settings={camera:{forwards:"w",left:"a",backwards:"s",right:"d",up:" ",down:"shift",recover:"backspace"},global:{scroll_forwards_song:"up,right",scroll_backwards_song:"down,left",snap_to_next:"command+down,ctrl+down,command+left,ctrl+left",snap_to_previous:"command+up,ctrl+up,command+right,ctrl+right",song_playing:"space",deselect_all:"escape",select_event_note_next:"tab",select_event_note_previous:"shift+tab",seek_forwards:"pageup",seek_backwards:"pagedown",skip_to_start:"home",skip_to_end:"end",delete_selected_notes:"delete,command+backspace",cut:"command+x,ctrl+x",copy:"command+c,ctrl+c",paste:"command+v,ctrl+v",prompt_jump_to_beat:"j",prompt_quick_select:"K",select_color_tool:"q",set_bookmark:"command+b,ctrl+b",undo:"command+z,ctrl+z",redo:"command+shift+z,ctrl+shift+z",download:"command+s,ctrl+s",nudgeForwards:"alt+up",nudgeBackwards:"alt+down"},notes:{select_block_1:"1",select_block_2:"2",select_block_main:"3",select_block_obstacle:"4",swap_selected_horizontal:"h",swap_selected_vertical:"v",note_direction_up:"w, num_8",note_direction_left:"a, num_4",note_direction_down:"s, num_2",note_direction_right:"d, num_6",note_direction_up_left:"w+a,a+w, num_7",note_direction_up_right:"w+d,d+w, num_9",note_direction_down_right:"s+d,d+s, num_3",note_direction_down_left:"s+a,a+s, num_1",note_direction_circle:"f, num_5",select_note_all:"ctrl+a,command+a",note_alt:"alt",note_selected_direction_up:"alt+w, alt+num_8",note_selected_direction_left:"alt+a, alt+num_4",note_selected_direction_down:"alt+s, alt+num_2",note_selected_direction_right:"alt+d, alt+num_6",note_selected_direction_circle:"alt+f, alt+num_5",note_toggle_error_checker:"shift+c,c+shift",create_group_note:"ctrl+g,command+g"},events:{zoom_out:"-",zoom_in:"=",mode_place:"a",mode_select:"s",select_event_all:"ctrl+a,command+a",lock_repeat:"z",lock_mapping:"x",effect_on:"1",effect_off:"2",effect_flash:"3",effect_fade:"4"}},{camera:CAMERA_SHORTCUT_KEY}=settings;let Controls$1=class{constructor(et,rt=[0,0,0],nt=1){wn(this,"speed");wn(this,"initialPosition");wn(this,"enabled");wn(this,"altKey");wn(this,"pitchObject");wn(this,"camera");wn(this,"yawObject");wn(this,"velocity");wn(this,"time");wn(this,"moveDirections");wn(this,"handleKeydown",et=>{if(et.altKey){this.altKey=!0;return}switch(et.key.toLowerCase()){case CAMERA_SHORTCUT_KEY.forwards:case"ArrowUp":this.enabled&&(this.moveDirections.forwards=!0);return;case CAMERA_SHORTCUT_KEY.left:case"ArrowLeft":this.enabled&&(this.moveDirections.left=!0);return;case CAMERA_SHORTCUT_KEY.backwards:case"ArrowDown":this.enabled&&(this.moveDirections.backwards=!0);return;case CAMERA_SHORTCUT_KEY.right:case"ArrowRight":this.enabled&&(this.moveDirections.right=!0);return;case CAMERA_SHORTCUT_KEY.up:this.enabled&&(this.moveDirections.up=!0);return;case CAMERA_SHORTCUT_KEY.down:this.enabled&&(this.moveDirections.down=!0);return;case CAMERA_SHORTCUT_KEY.recover:if(et.target.nodeName==="INPUT"||isMetaKeyPressed(et))return;this.moveDirections.forwards=!1,this.moveDirections.backwards=!1,this.moveDirections.left=!1,this.moveDirections.right=!1,this.moveDirections.up=!1,this.moveDirections.down=!1,this.velocity.x=0,this.velocity.y=0,this.velocity.z=0,this.yawObject.position.set(...this.initialPosition),this.yawObject.rotation.y=0,this.pitchObject.rotation.x=0;return;default:return}});wn(this,"handleKeyup",et=>{switch(this.altKey=!1,et.key.toLowerCase()){case CAMERA_SHORTCUT_KEY.forwards:case"ArrowUp":this.moveDirections.forwards=!1;break;case CAMERA_SHORTCUT_KEY.left:case"ArrowLeft":this.moveDirections.left=!1;break;case CAMERA_SHORTCUT_KEY.backwards:case"ArrowDown":this.moveDirections.backwards=!1;break;case CAMERA_SHORTCUT_KEY.right:case"ArrowRight":this.moveDirections.right=!1;break;case CAMERA_SHORTCUT_KEY.up:this.moveDirections.up=!1;return;case CAMERA_SHORTCUT_KEY.down:this.moveDirections.down=!1;return;default:return}});wn(this,"handleMouseUp",()=>{this.enabled=!1,this.moveDirections.forwards=!1,this.moveDirections.left=!1,this.moveDirections.backwards=!1,this.moveDirections.right=!1,this.moveDirections.up=!1,this.moveDirections.down=!1});wn(this,"handleMouseDown",et=>{et.buttons===2&&(this.enabled=!0),et.button===1&&et.preventDefault()});wn(this,"handleMouseMove",et=>{if(!this.enabled||this.altKey)return;const rt=et.movementX||et.mozMovementX||et.webkitMovementX||0,nt=et.movementY||et.mozMovementY||et.webkitMovementY||0;this.pitchObject.rotation.x-=nt*.004,this.yawObject.rotation.y-=rt*.004});wn(this,"getObject",()=>this.yawObject);wn(this,"removeOnMouse",()=>{window.removeEventListener("mousemove",this.handleMouseMove),window.removeEventListener("mousedown",this.handleMouseDown),window.removeEventListener("mouseup",this.handleMouseUp),window.removeEventListener("keydown",this.handleKeydown),window.removeEventListener("keyup",this.handleKeyup),window.removeEventListener("blur",this.handleBlur)});wn(this,"update",()=>{const et=performance.now(),rt=(et-this.time)/1e3;this.velocity.x-=this.velocity.x*10*rt,this.velocity.y-=this.velocity.y*10*rt,this.velocity.z-=this.velocity.z*10*rt;const it=200*this.speed*rt;if(this.moveDirections.forwards){this.velocity.z-=it;const at=this.pitchObject.rotation.x,st=Math.tan(at)*it;this.velocity.y+=st}if(this.moveDirections.backwards){this.velocity.z+=it;const at=this.pitchObject.rotation.x,st=Math.tan(at)*it;this.velocity.y-=st}this.moveDirections.left&&(this.velocity.x-=it),this.moveDirections.right&&(this.velocity.x+=it),this.moveDirections.down&&(this.velocity.y-=it),this.moveDirections.up&&(this.velocity.y+=it);const ot=this.getObject();ot.translateX(this.velocity.x*rt),ot.translateY(this.velocity.y*rt),ot.translateZ(this.velocity.z*rt),this.time=et});wn(this,"initState",()=>{this.enabled=!1,this.altKey=!1});wn(this,"handleBlur",et=>{et.preventDefault(),this.initState()});this.camera=et,this.speed=nt,this.initialPosition=rt,this.enabled=!1,this.altKey=!1,et.rotation.set(0,0,0),this.pitchObject=new Object3D,this.pitchObject.add(this.camera),this.yawObject=new Object3D,this.yawObject.position.set(...this.initialPosition),this.yawObject.add(this.pitchObject),this.velocity=new Vector3,this.moveDirections={},window.addEventListener("mousemove",this.handleMouseMove),window.addEventListener("mousedown",this.handleMouseDown),window.addEventListener("mouseup",this.handleMouseUp),window.addEventListener("keydown",this.handleKeydown),window.addEventListener("keyup",this.handleKeyup),window.addEventListener("blur",this.handleBlur),this.time=window.performance.now()}};const EdgeBars=({x:tt,y:et,width:rt=.1})=>{const nt=useAppSelector(getGraphicsLevel),it=DEPTHS[nt],ot=-NOTES_Z_OFFSET-it/2;return jsxs("mesh",{position:[tt,et,ot],rotation:[-Math.PI/2,0,0],children:[jsx("planeGeometry",{attach:"geometry",args:[rt,it]}),jsx("meshStandardMaterial",{attach:"material",color:"#FFF"})]})},Terrace=reactExports.memo(({isEdgeBars:tt})=>{const et=useAppSelector(getGraphicsLevel),rt=DEPTHS[et],nt=GRID_COL_WIDTH*(DEF_NUMBER_ROWS*-.5),it=rt/2+NOTES_Z_OFFSET-1,ot=.01,at=.1,st=nt+ot,lt=SURFACE_TERRACE_WIDTH/2-at/2;return jsxs(Fragment,{children:[jsxs("mesh",{position:[0,nt-SURFACE_TERRACE_HEIGHT/2,-it],receiveShadow:!0,children:[jsx("boxGeometry",{attach:"geometry",args:[SURFACE_TERRACE_WIDTH,SURFACE_TERRACE_HEIGHT,rt]}),jsx("meshStandardMaterial",{metalness:.5,roughness:1,attach:"material",color:"#222222"})]}),tt&&jsxs(Fragment,{children:[jsx(EdgeBars,{x:lt,y:st,width:at}),jsx(EdgeBars,{x:lt*-1,y:st,width:at})]})]})});class CGlobalShortCutKey{constructor(){wn(this,"isPressAlt");wn(this,"isPressCtrl");wn(this,"isPressShift");wn(this,"togglePressAltStatus",et=>{this.isPressAlt=et});wn(this,"togglePressCtrlStatus",et=>{this.isPressCtrl=et});wn(this,"togglePressShiftStatus",et=>{this.isPressShift=et});this.isPressAlt=!1,this.isPressCtrl=!1,this.isPressShift=!1}}const globalShortCutKeyClass=new CGlobalShortCutKey;let saveLastTotalLoaded=0;const useProgress=create$1(tt=>(DefaultLoadingManager.onStart=(et,rt,nt)=>{tt({active:!0,item:et,loaded:rt,total:nt,progress:(rt-saveLastTotalLoaded)/(nt-saveLastTotalLoaded)*100})},DefaultLoadingManager.onLoad=()=>{tt({active:!1})},DefaultLoadingManager.onError=et=>tt(rt=>({errors:[...rt.errors,et]})),DefaultLoadingManager.onProgress=(et,rt,nt)=>{rt===nt&&(saveLastTotalLoaded=nt),tt({active:!0,item:et,loaded:rt,total:nt,progress:(rt-saveLastTotalLoaded)/(nt-saveLastTotalLoaded)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0})),defaultDataInterpolation=tt=>`Loading ${tt.toFixed(2)}%`;function Loader({containerStyles:tt,innerStyles:et,barStyles:rt,dataStyles:nt,dataInterpolation:it=defaultDataInterpolation,initialState:ot=at=>at}){const{active:at,progress:st}=useProgress(),lt=reactExports.useRef(0),ct=reactExports.useRef(0),ut=reactExports.useRef(null),[dt,ft]=reactExports.useState(ot(at));reactExports.useEffect(()=>{let mt;return at!==dt&&(mt=setTimeout(()=>ft(at),300)),()=>clearTimeout(mt)},[dt,at]);const pt=reactExports.useCallback(()=>{ut.current&&(lt.current+=(st-lt.current)/2,(lt.current>.95*st||st===100)&&(lt.current=st),ut.current.innerText=it(lt.current),lt.current<st&&(ct.current=requestAnimationFrame(pt)))},[it,st]);return reactExports.useEffect(()=>(pt(),()=>cancelAnimationFrame(ct.current)),[pt]),dt?reactExports.createElement("div",{style:{...styles.container,opacity:at?1:0,...tt}},reactExports.createElement("div",null,reactExports.createElement("div",{style:{...styles.inner,...et}},reactExports.createElement("div",{style:{...styles.bar,transform:`scaleX(${st/100})`,...rt}}),reactExports.createElement("span",{ref:ut,style:{...styles.data,...nt}})))):null}const styles={container:{position:"absolute",top:0,left:0,width:"100%",height:"100%",background:"#171717",display:"flex",alignItems:"center",justifyContent:"center",transition:"opacity 300ms ease",zIndex:1e3},inner:{width:100,height:3,background:"#272727",textAlign:"center"},bar:{height:3,width:"100%",background:"white",transition:"transform 200ms",transformOrigin:"left center"},data:{display:"inline-block",position:"relative",fontVariantNumeric:"tabular-nums",marginTop:"0.8em",color:"#f0f0f0",fontSize:"0.6em",fontFamily:'-apple-system, BlinkMacSystemFont, "Inter", "Segoe UI", "Helvetica Neue", Helvetica, Arial, Roboto, Ubuntu, sans-serif, "Apple Color Emoji", "Segoe UI Emoji", "Segoe UI Symbol"',whiteSpace:"nowrap"}};function mergeRefs(tt){return function(et){tt.forEach(function(rt){typeof rt=="function"?rt(et):rt!=null&&(rt.current=et)})}}let updateQueue=makeQueue();const raf=tt=>schedule(tt,updateQueue);let writeQueue=makeQueue();raf.write=tt=>schedule(tt,writeQueue);let onStartQueue=makeQueue();raf.onStart=tt=>schedule(tt,onStartQueue);let onFrameQueue=makeQueue();raf.onFrame=tt=>schedule(tt,onFrameQueue);let onFinishQueue=makeQueue();raf.onFinish=tt=>schedule(tt,onFinishQueue);let timeouts=[];raf.setTimeout=(tt,et)=>{let rt=raf.now()+et,nt=()=>{let ot=timeouts.findIndex(at=>at.cancel==nt);~ot&&timeouts.splice(ot,1),pendingCount-=~ot?1:0},it={time:rt,handler:tt,cancel:nt};return timeouts.splice(findTimeout(rt),0,it),pendingCount+=1,start(),it};let findTimeout=tt=>~(~timeouts.findIndex(et=>et.time>tt)||~timeouts.length);raf.cancel=tt=>{onStartQueue.delete(tt),onFrameQueue.delete(tt),onFinishQueue.delete(tt),updateQueue.delete(tt),writeQueue.delete(tt)};raf.sync=tt=>{sync=!0,raf.batchedUpdates(tt),sync=!1};raf.throttle=tt=>{let et;function rt(){try{tt(...et)}finally{et=null}}function nt(...it){et=it,raf.onStart(rt)}return nt.handler=tt,nt.cancel=()=>{onStartQueue.delete(rt),et=null},nt};let nativeRaf=typeof window<"u"?window.requestAnimationFrame:()=>{};raf.use=tt=>nativeRaf=tt;raf.now=typeof performance<"u"?()=>performance.now():Date.now;raf.batchedUpdates=tt=>tt();raf.catch=console.error;raf.frameLoop="always";raf.advance=()=>{raf.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):update()};let ts=-1,pendingCount=0,sync=!1;function schedule(tt,et){sync?(et.delete(tt),tt(0)):(et.add(tt),start())}function start(){ts<0&&(ts=0,raf.frameLoop!=="demand"&&nativeRaf(loop$1))}function stop(){ts=-1}function loop$1(){~ts&&(nativeRaf(loop$1),raf.batchedUpdates(update))}function update(){let tt=ts;ts=raf.now();let et=findTimeout(ts);if(et&&(eachSafely(timeouts.splice(0,et),rt=>rt.handler()),pendingCount-=et),!pendingCount){stop();return}onStartQueue.flush(),updateQueue.flush(tt?Math.min(64,ts-tt):16.667),onFrameQueue.flush(),writeQueue.flush(),onFinishQueue.flush()}function makeQueue(){let tt=new Set,et=tt;return{add(rt){pendingCount+=et==tt&&!tt.has(rt)?1:0,tt.add(rt)},delete(rt){return pendingCount-=et==tt&&tt.has(rt)?1:0,tt.delete(rt)},flush(rt){et.size&&(tt=new Set,pendingCount-=et.size,eachSafely(et,nt=>nt(rt)&&tt.add(nt)),pendingCount+=tt.size,et=tt)}}}function eachSafely(tt,et){tt.forEach(rt=>{try{et(rt)}catch(nt){raf.catch(nt)}})}function noop$7(){}const defineHidden=(tt,et,rt)=>Object.defineProperty(tt,et,{value:rt,writable:!0,configurable:!0}),is={arr:Array.isArray,obj:tt=>!!tt&&tt.constructor.name==="Object",fun:tt=>typeof tt=="function",str:tt=>typeof tt=="string",num:tt=>typeof tt=="number",und:tt=>tt===void 0};function isEqual(tt,et){if(is.arr(tt)){if(!is.arr(et)||tt.length!==et.length)return!1;for(let rt=0;rt<tt.length;rt++)if(tt[rt]!==et[rt])return!1;return!0}return tt===et}const each$1=(tt,et)=>tt.forEach(et);function eachProp(tt,et,rt){if(is.arr(tt)){for(let nt=0;nt<tt.length;nt++)et.call(rt,tt[nt],`${nt}`);return}for(const nt in tt)tt.hasOwnProperty(nt)&&et.call(rt,tt[nt],nt)}const toArray$1=tt=>is.und(tt)?[]:is.arr(tt)?tt:[tt];function flush$4(tt,et){if(tt.size){const rt=Array.from(tt);tt.clear(),each$1(rt,et)}}const flushCalls=(tt,...et)=>flush$4(tt,rt=>rt(...et)),isSSR=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent);let createStringInterpolator$1,to,colors$1=null,skipAnimation=!1,willAdvance=noop$7;const assign$2=tt=>{tt.to&&(to=tt.to),tt.now&&(raf.now=tt.now),tt.colors!==void 0&&(colors$1=tt.colors),tt.skipAnimation!=null&&(skipAnimation=tt.skipAnimation),tt.createStringInterpolator&&(createStringInterpolator$1=tt.createStringInterpolator),tt.requestAnimationFrame&&raf.use(tt.requestAnimationFrame),tt.batchedUpdates&&(raf.batchedUpdates=tt.batchedUpdates),tt.willAdvance&&(willAdvance=tt.willAdvance),tt.frameLoop&&(raf.frameLoop=tt.frameLoop)};var globals=Object.freeze({__proto__:null,get createStringInterpolator(){return createStringInterpolator$1},get to(){return to},get colors(){return colors$1},get skipAnimation(){return skipAnimation},get willAdvance(){return willAdvance},assign:assign$2});const startQueue=new Set;let currentFrame=[],prevFrame=[],priority=0;const frameLoop={get idle(){return!startQueue.size&&!currentFrame.length},start(tt){priority>tt.priority?(startQueue.add(tt),raf.onStart(flushStartQueue)):(startSafely(tt),raf(advance))},advance,sort(tt){if(priority)raf.onFrame(()=>frameLoop.sort(tt));else{const et=currentFrame.indexOf(tt);~et&&(currentFrame.splice(et,1),startUnsafely(tt))}},clear(){currentFrame=[],startQueue.clear()}};function flushStartQueue(){startQueue.forEach(startSafely),startQueue.clear(),raf(advance)}function startSafely(tt){currentFrame.includes(tt)||startUnsafely(tt)}function startUnsafely(tt){currentFrame.splice(findIndex(currentFrame,et=>et.priority>tt.priority),0,tt)}function advance(tt){const et=prevFrame;for(let rt=0;rt<currentFrame.length;rt++){const nt=currentFrame[rt];priority=nt.priority,nt.idle||(willAdvance(nt),nt.advance(tt),nt.idle||et.push(nt))}return priority=0,prevFrame=currentFrame,prevFrame.length=0,currentFrame=et,currentFrame.length>0}function findIndex(tt,et){const rt=tt.findIndex(et);return rt<0?tt.length:rt}const clamp=(tt,et,rt)=>Math.min(Math.max(rt,tt),et),colors={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},NUMBER="[-+]?\\d*\\.?\\d+",PERCENTAGE=NUMBER+"%";function call$6(...tt){return"\\(\\s*("+tt.join(")\\s*,\\s*(")+")\\s*\\)"}const rgb=new RegExp("rgb"+call$6(NUMBER,NUMBER,NUMBER)),rgba=new RegExp("rgba"+call$6(NUMBER,NUMBER,NUMBER,NUMBER)),hsl=new RegExp("hsl"+call$6(NUMBER,PERCENTAGE,PERCENTAGE)),hsla=new RegExp("hsla"+call$6(NUMBER,PERCENTAGE,PERCENTAGE,NUMBER)),hex3=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex4=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6=/^#([0-9a-fA-F]{6})$/,hex8=/^#([0-9a-fA-F]{8})$/;function normalizeColor(tt){let et;return typeof tt=="number"?tt>>>0===tt&&tt>=0&&tt<=4294967295?tt:null:(et=hex6.exec(tt))?parseInt(et[1]+"ff",16)>>>0:colors$1&&colors$1[tt]!==void 0?colors$1[tt]:(et=rgb.exec(tt))?(parse255(et[1])<<24|parse255(et[2])<<16|parse255(et[3])<<8|255)>>>0:(et=rgba.exec(tt))?(parse255(et[1])<<24|parse255(et[2])<<16|parse255(et[3])<<8|parse1(et[4]))>>>0:(et=hex3.exec(tt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+"ff",16)>>>0:(et=hex8.exec(tt))?parseInt(et[1],16)>>>0:(et=hex4.exec(tt))?parseInt(et[1]+et[1]+et[2]+et[2]+et[3]+et[3]+et[4]+et[4],16)>>>0:(et=hsl.exec(tt))?(hslToRgb$1(parse360(et[1]),parsePercentage(et[2]),parsePercentage(et[3]))|255)>>>0:(et=hsla.exec(tt))?(hslToRgb$1(parse360(et[1]),parsePercentage(et[2]),parsePercentage(et[3]))|parse1(et[4]))>>>0:null}function hue2rgb(tt,et,rt){return rt<0&&(rt+=1),rt>1&&(rt-=1),rt<1/6?tt+(et-tt)*6*rt:rt<1/2?et:rt<2/3?tt+(et-tt)*(2/3-rt)*6:tt}function hslToRgb$1(tt,et,rt){const nt=rt<.5?rt*(1+et):rt+et-rt*et,it=2*rt-nt,ot=hue2rgb(it,nt,tt+1/3),at=hue2rgb(it,nt,tt),st=hue2rgb(it,nt,tt-1/3);return Math.round(ot*255)<<24|Math.round(at*255)<<16|Math.round(st*255)<<8}function parse255(tt){const et=parseInt(tt,10);return et<0?0:et>255?255:et}function parse360(tt){return(parseFloat(tt)%360+360)%360/360}function parse1(tt){const et=parseFloat(tt);return et<0?0:et>1?255:Math.round(et*255)}function parsePercentage(tt){const et=parseFloat(tt);return et<0?0:et>100?1:et/100}function colorToRgba(tt){let et=normalizeColor(tt);if(et===null)return tt;et=et||0;let rt=(et&4278190080)>>>24,nt=(et&16711680)>>>16,it=(et&65280)>>>8,ot=(et&255)/255;return`rgba(${rt}, ${nt}, ${it}, ${ot})`}const createInterpolator=(tt,et,rt)=>{if(is.fun(tt))return tt;if(is.arr(tt))return createInterpolator({range:tt,output:et,extrapolate:rt});if(is.str(tt.output[0]))return createStringInterpolator$1(tt);const nt=tt,it=nt.output,ot=nt.range||[0,1],at=nt.extrapolateLeft||nt.extrapolate||"extend",st=nt.extrapolateRight||nt.extrapolate||"extend",lt=nt.easing||(ct=>ct);return ct=>{const ut=findRange(ct,ot);return interpolate(ct,ot[ut],ot[ut+1],it[ut],it[ut+1],lt,at,st,nt.map)}};function interpolate(tt,et,rt,nt,it,ot,at,st,lt){let ct=lt?lt(tt):tt;if(ct<et){if(at==="identity")return ct;at==="clamp"&&(ct=et)}if(ct>rt){if(st==="identity")return ct;st==="clamp"&&(ct=rt)}return nt===it?nt:et===rt?tt<=et?nt:it:(et===-1/0?ct=-ct:rt===1/0?ct=ct-et:ct=(ct-et)/(rt-et),ct=ot(ct),nt===-1/0?ct=-ct:it===1/0?ct=ct+nt:ct=ct*(it-nt)+nt,ct)}function findRange(tt,et){for(var rt=1;rt<et.length-1&&!(et[rt]>=tt);++rt);return rt-1}const steps=(tt,et="end")=>rt=>{rt=et==="end"?Math.min(rt,.999):Math.max(rt,.001);const nt=rt*tt,it=et==="end"?Math.floor(nt):Math.ceil(nt);return clamp(0,1,it/tt)},c1=1.70158,c2=c1*1.525,c3=c1+1,c4=2*Math.PI/3,c5=2*Math.PI/4.5,bounceOut=tt=>tt<1/2.75?7.5625*tt*tt:tt<2/2.75?7.5625*(tt-=1.5/2.75)*tt+.75:tt<2.5/2.75?7.5625*(tt-=2.25/2.75)*tt+.9375:7.5625*(tt-=2.625/2.75)*tt+.984375,easings={linear:tt=>tt,easeInQuad:tt=>tt*tt,easeOutQuad:tt=>1-(1-tt)*(1-tt),easeInOutQuad:tt=>tt<.5?2*tt*tt:1-Math.pow(-2*tt+2,2)/2,easeInCubic:tt=>tt*tt*tt,easeOutCubic:tt=>1-Math.pow(1-tt,3),easeInOutCubic:tt=>tt<.5?4*tt*tt*tt:1-Math.pow(-2*tt+2,3)/2,easeInQuart:tt=>tt*tt*tt*tt,easeOutQuart:tt=>1-Math.pow(1-tt,4),easeInOutQuart:tt=>tt<.5?8*tt*tt*tt*tt:1-Math.pow(-2*tt+2,4)/2,easeInQuint:tt=>tt*tt*tt*tt*tt,easeOutQuint:tt=>1-Math.pow(1-tt,5),easeInOutQuint:tt=>tt<.5?16*tt*tt*tt*tt*tt:1-Math.pow(-2*tt+2,5)/2,easeInSine:tt=>1-Math.cos(tt*Math.PI/2),easeOutSine:tt=>Math.sin(tt*Math.PI/2),easeInOutSine:tt=>-(Math.cos(Math.PI*tt)-1)/2,easeInExpo:tt=>tt===0?0:Math.pow(2,10*tt-10),easeOutExpo:tt=>tt===1?1:1-Math.pow(2,-10*tt),easeInOutExpo:tt=>tt===0?0:tt===1?1:tt<.5?Math.pow(2,20*tt-10)/2:(2-Math.pow(2,-20*tt+10))/2,easeInCirc:tt=>1-Math.sqrt(1-Math.pow(tt,2)),easeOutCirc:tt=>Math.sqrt(1-Math.pow(tt-1,2)),easeInOutCirc:tt=>tt<.5?(1-Math.sqrt(1-Math.pow(2*tt,2)))/2:(Math.sqrt(1-Math.pow(-2*tt+2,2))+1)/2,easeInBack:tt=>c3*tt*tt*tt-c1*tt*tt,easeOutBack:tt=>1+c3*Math.pow(tt-1,3)+c1*Math.pow(tt-1,2),easeInOutBack:tt=>tt<.5?Math.pow(2*tt,2)*((c2+1)*2*tt-c2)/2:(Math.pow(2*tt-2,2)*((c2+1)*(tt*2-2)+c2)+2)/2,easeInElastic:tt=>tt===0?0:tt===1?1:-Math.pow(2,10*tt-10)*Math.sin((tt*10-10.75)*c4),easeOutElastic:tt=>tt===0?0:tt===1?1:Math.pow(2,-10*tt)*Math.sin((tt*10-.75)*c4)+1,easeInOutElastic:tt=>tt===0?0:tt===1?1:tt<.5?-(Math.pow(2,20*tt-10)*Math.sin((20*tt-11.125)*c5))/2:Math.pow(2,-20*tt+10)*Math.sin((20*tt-11.125)*c5)/2+1,easeInBounce:tt=>1-bounceOut(1-tt),easeOutBounce:bounceOut,easeInOutBounce:tt=>tt<.5?(1-bounceOut(1-2*tt))/2:(1+bounceOut(2*tt-1))/2,steps};function _extends$i(){return _extends$i=Object.assign?Object.assign.bind():function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_extends$i.apply(this,arguments)}const $get=Symbol.for("FluidValue.get"),$observers=Symbol.for("FluidValue.observers"),hasFluidValue=tt=>Boolean(tt&&tt[$get]),getFluidValue=tt=>tt&&tt[$get]?tt[$get]():tt,getFluidObservers=tt=>tt[$observers]||null;function callFluidObserver(tt,et){tt.eventObserved?tt.eventObserved(et):tt(et)}function callFluidObservers(tt,et){let rt=tt[$observers];rt&&rt.forEach(nt=>{callFluidObserver(nt,et)})}class FluidValue{constructor(et){if(this[$get]=void 0,this[$observers]=void 0,!et&&!(et=this.get))throw Error("Unknown getter");setFluidGetter(this,et)}}const setFluidGetter=(tt,et)=>setHidden(tt,$get,et);function addFluidObserver(tt,et){if(tt[$get]){let rt=tt[$observers];rt||setHidden(tt,$observers,rt=new Set),rt.has(et)||(rt.add(et),tt.observerAdded&&tt.observerAdded(rt.size,et))}return et}function removeFluidObserver(tt,et){let rt=tt[$observers];if(rt&&rt.has(et)){const nt=rt.size-1;nt?rt.delete(et):tt[$observers]=null,tt.observerRemoved&&tt.observerRemoved(nt,et)}}const setHidden=(tt,et,rt)=>Object.defineProperty(tt,et,{value:rt,writable:!0,configurable:!0}),numberRegex=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,colorRegex=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,unitRegex=new RegExp(`(${numberRegex.source})(%|[a-z]+)`,"i"),rgbaRegex=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,cssVariableRegex=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,variableToRgba=tt=>{const[et,rt]=parseCSSVariable(tt);if(!et||isSSR())return tt;const nt=window.getComputedStyle(document.documentElement).getPropertyValue(et);if(nt)return nt.trim();if(rt&&rt.startsWith("--")){const it=window.getComputedStyle(document.documentElement).getPropertyValue(rt);return it||tt}else{if(rt&&cssVariableRegex.test(rt))return variableToRgba(rt);if(rt)return rt}return tt},parseCSSVariable=tt=>{const et=cssVariableRegex.exec(tt);if(!et)return[,];const[,rt,nt]=et;return[rt,nt]};let namedColorRegex;const rgbaRound=(tt,et,rt,nt,it)=>`rgba(${Math.round(et)}, ${Math.round(rt)}, ${Math.round(nt)}, ${it})`,createStringInterpolator=tt=>{namedColorRegex||(namedColorRegex=colors$1?new RegExp(`(${Object.keys(colors$1).join("|")})(?!\\w)`,"g"):/^\b$/);const et=tt.output.map(ot=>getFluidValue(ot).replace(cssVariableRegex,variableToRgba).replace(colorRegex,colorToRgba).replace(namedColorRegex,colorToRgba)),rt=et.map(ot=>ot.match(numberRegex).map(Number)),it=rt[0].map((ot,at)=>rt.map(st=>{if(!(at in st))throw Error('The arity of each "output" value must be equal');return st[at]})).map(ot=>createInterpolator(_extends$i({},tt,{output:ot})));return ot=>{var at;const st=!unitRegex.test(et[0])&&((at=et.find(ct=>unitRegex.test(ct)))==null?void 0:at.replace(numberRegex,""));let lt=0;return et[0].replace(numberRegex,()=>`${it[lt++](ot)}${st||""}`).replace(rgbaRegex,rgbaRound)}},prefix="react-spring: ",once=tt=>{const et=tt;let rt=!1;if(typeof et!="function")throw new TypeError(`${prefix}once requires a function parameter`);return(...nt)=>{rt||(et(...nt),rt=!0)}},warnInterpolate=once(console.warn);function deprecateInterpolate(){warnInterpolate(`${prefix}The "interpolate" function is deprecated in v9 (use "to" instead)`)}const warnDirectCall=once(console.warn);function deprecateDirectCall(){warnDirectCall(`${prefix}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function isAnimatedString(tt){return is.str(tt)&&(tt[0]=="#"||/\d/.test(tt)||!isSSR()&&cssVariableRegex.test(tt)||tt in(colors$1||{}))}const useIsomorphicLayoutEffect=isSSR()?reactExports.useEffect:reactExports.useLayoutEffect,useIsMounted=()=>{const tt=reactExports.useRef(!1);return useIsomorphicLayoutEffect(()=>(tt.current=!0,()=>{tt.current=!1}),[]),tt};function useForceUpdate(){const tt=reactExports.useState()[1],et=useIsMounted();return()=>{et.current&&tt(Math.random())}}function useMemoOne(tt,et){const[rt]=reactExports.useState(()=>({inputs:et,result:tt()})),nt=reactExports.useRef(),it=nt.current;let ot=it;return ot?Boolean(et&&ot.inputs&&areInputsEqual(et,ot.inputs))||(ot={inputs:et,result:tt()}):ot=rt,reactExports.useEffect(()=>{nt.current=ot,it==rt&&(rt.inputs=rt.result=void 0)},[ot]),ot.result}function areInputsEqual(tt,et){if(tt.length!==et.length)return!1;for(let rt=0;rt<tt.length;rt++)if(tt[rt]!==et[rt])return!1;return!0}const useOnce=tt=>reactExports.useEffect(tt,emptyDeps),emptyDeps=[];function usePrev(tt){const et=reactExports.useRef();return reactExports.useEffect(()=>{et.current=tt}),et.current}const $node=Symbol.for("Animated:node"),isAnimated=tt=>!!tt&&tt[$node]===tt,getAnimated=tt=>tt&&tt[$node],setAnimated=(tt,et)=>defineHidden(tt,$node,et),getPayload=tt=>tt&&tt[$node]&&tt[$node].getPayload();class Animated{constructor(){this.payload=void 0,setAnimated(this,this)}getPayload(){return this.payload||[]}}class AnimatedValue extends Animated{constructor(et){super(),this.done=!0,this.elapsedTime=void 0,this.lastPosition=void 0,this.lastVelocity=void 0,this.v0=void 0,this.durationProgress=0,this._value=et,is.num(this._value)&&(this.lastPosition=this._value)}static create(et){return new AnimatedValue(et)}getPayload(){return[this]}getValue(){return this._value}setValue(et,rt){return is.num(et)&&(this.lastPosition=et,rt&&(et=Math.round(et/rt)*rt,this.done&&(this.lastPosition=et))),this._value===et?!1:(this._value=et,!0)}reset(){const{done:et}=this;this.done=!1,is.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,et&&(this.lastVelocity=null),this.v0=null)}}class AnimatedString extends AnimatedValue{constructor(et){super(0),this._string=null,this._toString=void 0,this._toString=createInterpolator({output:[et,et]})}static create(et){return new AnimatedString(et)}getValue(){let et=this._string;return et??(this._string=this._toString(this._value))}setValue(et){if(is.str(et)){if(et==this._string)return!1;this._string=et,this._value=1}else if(super.setValue(et))this._string=null;else return!1;return!0}reset(et){et&&(this._toString=createInterpolator({output:[this.getValue(),et]})),this._value=0,super.reset()}}const TreeContext={dependencies:null};class AnimatedObject extends Animated{constructor(et){super(),this.source=et,this.setValue(et)}getValue(et){const rt={};return eachProp(this.source,(nt,it)=>{isAnimated(nt)?rt[it]=nt.getValue(et):hasFluidValue(nt)?rt[it]=getFluidValue(nt):et||(rt[it]=nt)}),rt}setValue(et){this.source=et,this.payload=this._makePayload(et)}reset(){this.payload&&each$1(this.payload,et=>et.reset())}_makePayload(et){if(et){const rt=new Set;return eachProp(et,this._addToPayload,rt),Array.from(rt)}}_addToPayload(et){TreeContext.dependencies&&hasFluidValue(et)&&TreeContext.dependencies.add(et);const rt=getPayload(et);rt&&each$1(rt,nt=>this.add(nt))}}class AnimatedArray extends AnimatedObject{constructor(et){super(et)}static create(et){return new AnimatedArray(et)}getValue(){return this.source.map(et=>et.getValue())}setValue(et){const rt=this.getPayload();return et.length==rt.length?rt.map((nt,it)=>nt.setValue(et[it])).some(Boolean):(super.setValue(et.map(makeAnimated)),!0)}}function makeAnimated(tt){return(isAnimatedString(tt)?AnimatedString:AnimatedValue).create(tt)}function getAnimatedType(tt){const et=getAnimated(tt);return et?et.constructor:is.arr(tt)?AnimatedArray:isAnimatedString(tt)?AnimatedString:AnimatedValue}function _extends$h(){return _extends$h=Object.assign?Object.assign.bind():function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_extends$h.apply(this,arguments)}const withAnimated=(tt,et)=>{const rt=!is.fun(tt)||tt.prototype&&tt.prototype.isReactComponent;return reactExports.forwardRef((nt,it)=>{const ot=reactExports.useRef(null),at=rt&&reactExports.useCallback(mt=>{ot.current=updateRef(it,mt)},[it]),[st,lt]=getAnimatedState(nt,et),ct=useForceUpdate(),ut=()=>{const mt=ot.current;if(rt&&!mt)return;(mt?et.applyAnimatedValues(mt,st.getValue(!0)):!1)===!1&&ct()},dt=new PropsObserver(ut,lt),ft=reactExports.useRef();useIsomorphicLayoutEffect(()=>(ft.current=dt,each$1(lt,mt=>addFluidObserver(mt,dt)),()=>{ft.current&&(each$1(ft.current.deps,mt=>removeFluidObserver(mt,ft.current)),raf.cancel(ft.current.update))})),reactExports.useEffect(ut,[]),useOnce(()=>()=>{const mt=ft.current;each$1(mt.deps,ht=>removeFluidObserver(ht,mt))});const pt=et.getComponentProps(st.getValue());return reactExports.createElement(tt,_extends$h({},pt,{ref:at}))})};class PropsObserver{constructor(et,rt){this.update=et,this.deps=rt}eventObserved(et){et.type=="change"&&raf.write(this.update)}}function getAnimatedState(tt,et){const rt=new Set;return TreeContext.dependencies=rt,tt.style&&(tt=_extends$h({},tt,{style:et.createAnimatedStyle(tt.style)})),tt=new AnimatedObject(tt),TreeContext.dependencies=null,[tt,rt]}function updateRef(tt,et){return tt&&(is.fun(tt)?tt(et):tt.current=et),et}const cacheKey=Symbol.for("AnimatedComponent"),createHost=(tt,{applyAnimatedValues:et=()=>!1,createAnimatedStyle:rt=it=>new AnimatedObject(it),getComponentProps:nt=it=>it}={})=>{const it={applyAnimatedValues:et,createAnimatedStyle:rt,getComponentProps:nt},ot=at=>{const st=getDisplayName$1(at)||"Anonymous";return is.str(at)?at=ot[at]||(ot[at]=withAnimated(at,it)):at=at[cacheKey]||(at[cacheKey]=withAnimated(at,it)),at.displayName=`Animated(${st})`,at};return eachProp(tt,(at,st)=>{is.arr(tt)&&(st=getDisplayName$1(at)),ot[st]=ot(at)}),{animated:ot}},getDisplayName$1=tt=>is.str(tt)?tt:tt&&is.str(tt.displayName)?tt.displayName:is.fun(tt)&&tt.name||null;function _extends$g(){return _extends$g=Object.assign?Object.assign.bind():function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_extends$g.apply(this,arguments)}function callProp(tt,...et){return is.fun(tt)?tt(...et):tt}const matchProp=(tt,et)=>tt===!0||!!(et&&tt&&(is.fun(tt)?tt(et):toArray$1(tt).includes(et))),resolveProp=(tt,et)=>is.obj(tt)?et&&tt[et]:tt,getDefaultProp=(tt,et)=>tt.default===!0?tt[et]:tt.default?tt.default[et]:void 0,noopTransform=tt=>tt,getDefaultProps=(tt,et=noopTransform)=>{let rt=DEFAULT_PROPS;tt.default&&tt.default!==!0&&(tt=tt.default,rt=Object.keys(tt));const nt={};for(const it of rt){const ot=et(tt[it],it);is.und(ot)||(nt[it]=ot)}return nt},DEFAULT_PROPS=["config","onProps","onStart","onChange","onPause","onResume","onRest"],RESERVED_PROPS={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function getForwardProps(tt){const et={};let rt=0;if(eachProp(tt,(nt,it)=>{RESERVED_PROPS[it]||(et[it]=nt,rt++)}),rt)return et}function inferTo(tt){const et=getForwardProps(tt);if(et){const rt={to:et};return eachProp(tt,(nt,it)=>it in et||(rt[it]=nt)),rt}return _extends$g({},tt)}function computeGoal(tt){return tt=getFluidValue(tt),is.arr(tt)?tt.map(computeGoal):isAnimatedString(tt)?globals.createStringInterpolator({range:[0,1],output:[tt,tt]})(1):tt}function hasProps(tt){for(const et in tt)return!0;return!1}function isAsyncTo(tt){return is.fun(tt)||is.arr(tt)&&is.obj(tt[0])}function detachRefs(tt,et){var rt;(rt=tt.ref)==null||rt.delete(tt),et==null||et.delete(tt)}function replaceRef(tt,et){if(et&&tt.ref!==et){var rt;(rt=tt.ref)==null||rt.delete(tt),et.add(tt),tt.ref=et}}const config$5={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},defaults$5=_extends$g({},config$5.default,{mass:1,damping:1,easing:easings.linear,clamp:!1});class AnimationConfig{constructor(){this.tension=void 0,this.friction=void 0,this.frequency=void 0,this.damping=void 0,this.mass=void 0,this.velocity=0,this.restVelocity=void 0,this.precision=void 0,this.progress=void 0,this.duration=void 0,this.easing=void 0,this.clamp=void 0,this.bounce=void 0,this.decay=void 0,this.round=void 0,Object.assign(this,defaults$5)}}function mergeConfig$3(tt,et,rt){rt&&(rt=_extends$g({},rt),sanitizeConfig(rt,et),et=_extends$g({},rt,et)),sanitizeConfig(tt,et),Object.assign(tt,et);for(const at in defaults$5)tt[at]==null&&(tt[at]=defaults$5[at]);let{mass:nt,frequency:it,damping:ot}=tt;return is.und(it)||(it<.01&&(it=.01),ot<0&&(ot=0),tt.tension=Math.pow(2*Math.PI/it,2)*nt,tt.friction=4*Math.PI*ot*nt/it),tt}function sanitizeConfig(tt,et){if(!is.und(et.decay))tt.duration=void 0;else{const rt=!is.und(et.tension)||!is.und(et.friction);(rt||!is.und(et.frequency)||!is.und(et.damping)||!is.und(et.mass))&&(tt.duration=void 0,tt.decay=void 0),rt&&(tt.frequency=void 0)}}const emptyArray=[];class Animation{constructor(){this.changed=!1,this.values=emptyArray,this.toValues=null,this.fromValues=emptyArray,this.to=void 0,this.from=void 0,this.config=new AnimationConfig,this.immediate=!1}}function scheduleProps(tt,{key:et,props:rt,defaultProps:nt,state:it,actions:ot}){return new Promise((at,st)=>{var lt;let ct,ut,dt=matchProp((lt=rt.cancel)!=null?lt:nt==null?void 0:nt.cancel,et);if(dt)mt();else{is.und(rt.pause)||(it.paused=matchProp(rt.pause,et));let ht=nt==null?void 0:nt.pause;ht!==!0&&(ht=it.paused||matchProp(ht,et)),ct=callProp(rt.delay||0,et),ht?(it.resumeQueue.add(pt),ot.pause()):(ot.resume(),pt())}function ft(){it.resumeQueue.add(pt),it.timeouts.delete(ut),ut.cancel(),ct=ut.time-raf.now()}function pt(){ct>0&&!globals.skipAnimation?(it.delayed=!0,ut=raf.setTimeout(mt,ct),it.pauseQueue.add(ft),it.timeouts.add(ut)):mt()}function mt(){it.delayed&&(it.delayed=!1),it.pauseQueue.delete(ft),it.timeouts.delete(ut),tt<=(it.cancelId||0)&&(dt=!0);try{ot.start(_extends$g({},rt,{callId:tt,cancel:dt}),at)}catch(ht){st(ht)}}})}const getCombinedResult=(tt,et)=>et.length==1?et[0]:et.some(rt=>rt.cancelled)?getCancelledResult(tt.get()):et.every(rt=>rt.noop)?getNoopResult(tt.get()):getFinishedResult(tt.get(),et.every(rt=>rt.finished)),getNoopResult=tt=>({value:tt,noop:!0,finished:!0,cancelled:!1}),getFinishedResult=(tt,et,rt=!1)=>({value:tt,finished:et,cancelled:rt}),getCancelledResult=tt=>({value:tt,cancelled:!0,finished:!1});function runAsync(tt,et,rt,nt){const{callId:it,parentId:ot,onRest:at}=et,{asyncTo:st,promise:lt}=rt;return!ot&&tt===st&&!et.reset?lt:rt.promise=(async()=>{rt.asyncId=it,rt.asyncTo=tt;const ct=getDefaultProps(et,(gt,vt)=>vt==="onRest"?void 0:gt);let ut,dt;const ft=new Promise((gt,vt)=>(ut=gt,dt=vt)),pt=gt=>{const vt=it<=(rt.cancelId||0)&&getCancelledResult(nt)||it!==rt.asyncId&&getFinishedResult(nt,!1);if(vt)throw gt.result=vt,dt(gt),gt},mt=(gt,vt)=>{const yt=new BailSignal,bt=new SkipAnimationSignal;return(async()=>{if(globals.skipAnimation)throw stopAsync(rt),bt.result=getFinishedResult(nt,!1),dt(bt),bt;pt(yt);const xt=is.obj(gt)?_extends$g({},gt):_extends$g({},vt,{to:gt});xt.parentId=it,eachProp(ct,(Tt,wt)=>{is.und(xt[wt])&&(xt[wt]=Tt)});const $t=await nt.start(xt);return pt(yt),rt.paused&&await new Promise(Tt=>{rt.resumeQueue.add(Tt)}),$t})()};let ht;if(globals.skipAnimation)return stopAsync(rt),getFinishedResult(nt,!1);try{let gt;is.arr(tt)?gt=(async vt=>{for(const yt of vt)await mt(yt)})(tt):gt=Promise.resolve(tt(mt,nt.stop.bind(nt))),await Promise.all([gt.then(ut),ft]),ht=getFinishedResult(nt.get(),!0,!1)}catch(gt){if(gt instanceof BailSignal)ht=gt.result;else if(gt instanceof SkipAnimationSignal)ht=gt.result;else throw gt}finally{it==rt.asyncId&&(rt.asyncId=ot,rt.asyncTo=ot?st:void 0,rt.promise=ot?lt:void 0)}return is.fun(at)&&raf.batchedUpdates(()=>{at(ht,nt,nt.item)}),ht})()}function stopAsync(tt,et){flush$4(tt.timeouts,rt=>rt.cancel()),tt.pauseQueue.clear(),tt.resumeQueue.clear(),tt.asyncId=tt.asyncTo=tt.promise=void 0,et&&(tt.cancelId=et)}class BailSignal extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise."),this.result=void 0}}class SkipAnimationSignal extends Error{constructor(){super("SkipAnimationSignal"),this.result=void 0}}const isFrameValue=tt=>tt instanceof FrameValue;let nextId$1=1;class FrameValue extends FluidValue{constructor(...et){super(...et),this.id=nextId$1++,this.key=void 0,this._priority=0}get priority(){return this._priority}set priority(et){this._priority!=et&&(this._priority=et,this._onPriorityChange(et))}get(){const et=getAnimated(this);return et&&et.getValue()}to(...et){return globals.to(this,et)}interpolate(...et){return deprecateInterpolate(),globals.to(this,et)}toJSON(){return this.get()}observerAdded(et){et==1&&this._attach()}observerRemoved(et){et==0&&this._detach()}_attach(){}_detach(){}_onChange(et,rt=!1){callFluidObservers(this,{type:"change",parent:this,value:et,idle:rt})}_onPriorityChange(et){this.idle||frameLoop.sort(this),callFluidObservers(this,{type:"priority",parent:this,priority:et})}}const $P=Symbol.for("SpringPhase"),HAS_ANIMATED=1,IS_ANIMATING=2,IS_PAUSED=4,hasAnimated=tt=>(tt[$P]&HAS_ANIMATED)>0,isAnimating=tt=>(tt[$P]&IS_ANIMATING)>0,isPaused=tt=>(tt[$P]&IS_PAUSED)>0,setActiveBit=(tt,et)=>et?tt[$P]|=IS_ANIMATING|HAS_ANIMATED:tt[$P]&=~IS_ANIMATING,setPausedBit=(tt,et)=>et?tt[$P]|=IS_PAUSED:tt[$P]&=~IS_PAUSED;class SpringValue extends FrameValue{constructor(et,rt){if(super(),this.key=void 0,this.animation=new Animation,this.queue=void 0,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!is.und(et)||!is.und(rt)){const nt=is.obj(et)?_extends$g({},et):_extends$g({},rt,{from:et});is.und(nt.default)&&(nt.default=!0),this.start(nt)}}get idle(){return!(isAnimating(this)||this._state.asyncTo)||isPaused(this)}get goal(){return getFluidValue(this.animation.to)}get velocity(){const et=getAnimated(this);return et instanceof AnimatedValue?et.lastVelocity||0:et.getPayload().map(rt=>rt.lastVelocity||0)}get hasAnimated(){return hasAnimated(this)}get isAnimating(){return isAnimating(this)}get isPaused(){return isPaused(this)}get isDelayed(){return this._state.delayed}advance(et){let rt=!0,nt=!1;const it=this.animation;let{config:ot,toValues:at}=it;const st=getPayload(it.to);!st&&hasFluidValue(it.to)&&(at=toArray$1(getFluidValue(it.to))),it.values.forEach((ut,dt)=>{if(ut.done)return;const ft=ut.constructor==AnimatedString?1:st?st[dt].lastPosition:at[dt];let pt=it.immediate,mt=ft;if(!pt){if(mt=ut.lastPosition,ot.tension<=0){ut.done=!0;return}let ht=ut.elapsedTime+=et;const gt=it.fromValues[dt],vt=ut.v0!=null?ut.v0:ut.v0=is.arr(ot.velocity)?ot.velocity[dt]:ot.velocity;let yt;const bt=ot.precision||(gt==ft?.005:Math.min(1,Math.abs(ft-gt)*.001));if(is.und(ot.duration))if(ot.decay){const xt=ot.decay===!0?.998:ot.decay,$t=Math.exp(-(1-xt)*ht);mt=gt+vt/(1-xt)*(1-$t),pt=Math.abs(ut.lastPosition-mt)<=bt,yt=vt*$t}else{yt=ut.lastVelocity==null?vt:ut.lastVelocity;const xt=ot.restVelocity||bt/10,$t=ot.clamp?0:ot.bounce,Tt=!is.und($t),wt=gt==ft?ut.v0>0:gt<ft;let At,Rt=!1;const It=1,Lt=Math.ceil(et/It);for(let Pt=0;Pt<Lt&&(At=Math.abs(yt)>xt,!(!At&&(pt=Math.abs(ft-mt)<=bt,pt)));++Pt){Tt&&(Rt=mt==ft||mt>ft==wt,Rt&&(yt=-yt*$t,mt=ft));const Nt=-ot.tension*1e-6*(mt-ft),Ot=-ot.friction*.001*yt,Bt=(Nt+Ot)/ot.mass;yt=yt+Bt*It,mt=mt+yt*It}}else{let xt=1;ot.duration>0&&(this._memoizedDuration!==ot.duration&&(this._memoizedDuration=ot.duration,ut.durationProgress>0&&(ut.elapsedTime=ot.duration*ut.durationProgress,ht=ut.elapsedTime+=et)),xt=(ot.progress||0)+ht/this._memoizedDuration,xt=xt>1?1:xt<0?0:xt,ut.durationProgress=xt),mt=gt+ot.easing(xt)*(ft-gt),yt=(mt-ut.lastPosition)/et,pt=xt==1}ut.lastVelocity=yt,Number.isNaN(mt)&&(console.warn("Got NaN while animating:",this),pt=!0)}st&&!st[dt].done&&(pt=!1),pt?ut.done=!0:rt=!1,ut.setValue(mt,ot.round)&&(nt=!0)});const lt=getAnimated(this),ct=lt.getValue();if(rt){const ut=getFluidValue(it.to);(ct!==ut||nt)&&!ot.decay?(lt.setValue(ut),this._onChange(ut)):nt&&ot.decay&&this._onChange(ct),this._stop()}else nt&&this._onChange(ct)}set(et){return raf.batchedUpdates(()=>{this._stop(),this._focus(et),this._set(et)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if(isAnimating(this)){const{to:et,config:rt}=this.animation;raf.batchedUpdates(()=>{this._onStart(),rt.decay||this._set(et,!1),this._stop()})}return this}update(et){return(this.queue||(this.queue=[])).push(et),this}start(et,rt){let nt;return is.und(et)?(nt=this.queue||[],this.queue=[]):nt=[is.obj(et)?et:_extends$g({},rt,{to:et})],Promise.all(nt.map(it=>this._update(it))).then(it=>getCombinedResult(this,it))}stop(et){const{to:rt}=this.animation;return this._focus(this.get()),stopAsync(this._state,et&&this._lastCallId),raf.batchedUpdates(()=>this._stop(rt,et)),this}reset(){this._update({reset:!0})}eventObserved(et){et.type=="change"?this._start():et.type=="priority"&&(this.priority=et.priority+1)}_prepareNode(et){const rt=this.key||"";let{to:nt,from:it}=et;nt=is.obj(nt)?nt[rt]:nt,(nt==null||isAsyncTo(nt))&&(nt=void 0),it=is.obj(it)?it[rt]:it,it==null&&(it=void 0);const ot={to:nt,from:it};return hasAnimated(this)||(et.reverse&&([nt,it]=[it,nt]),it=getFluidValue(it),is.und(it)?getAnimated(this)||this._set(nt):this._set(it)),ot}_update(et,rt){let nt=_extends$g({},et);const{key:it,defaultProps:ot}=this;nt.default&&Object.assign(ot,getDefaultProps(nt,(lt,ct)=>/^on/.test(ct)?resolveProp(lt,it):lt)),mergeActiveFn(this,nt,"onProps"),sendEvent(this,"onProps",nt,this);const at=this._prepareNode(nt);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const st=this._state;return scheduleProps(++this._lastCallId,{key:it,props:nt,defaultProps:ot,state:st,actions:{pause:()=>{isPaused(this)||(setPausedBit(this,!0),flushCalls(st.pauseQueue),sendEvent(this,"onPause",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},resume:()=>{isPaused(this)&&(setPausedBit(this,!1),isAnimating(this)&&this._resume(),flushCalls(st.resumeQueue),sendEvent(this,"onResume",getFinishedResult(this,checkFinished(this,this.animation.to)),this))},start:this._merge.bind(this,at)}}).then(lt=>{if(nt.loop&&lt.finished&&!(rt&&lt.noop)){const ct=createLoopUpdate(nt);if(ct)return this._update(ct,!0)}return lt})}_merge(et,rt,nt){if(rt.cancel)return this.stop(!0),nt(getCancelledResult(this));const it=!is.und(et.to),ot=!is.und(et.from);if(it||ot)if(rt.callId>this._lastToId)this._lastToId=rt.callId;else return nt(getCancelledResult(this));const{key:at,defaultProps:st,animation:lt}=this,{to:ct,from:ut}=lt;let{to:dt=ct,from:ft=ut}=et;ot&&!it&&(!rt.default||is.und(dt))&&(dt=ft),rt.reverse&&([dt,ft]=[ft,dt]);const pt=!isEqual(ft,ut);pt&&(lt.from=ft),ft=getFluidValue(ft);const mt=!isEqual(dt,ct);mt&&this._focus(dt);const ht=isAsyncTo(rt.to),{config:gt}=lt,{decay:vt,velocity:yt}=gt;(it||ot)&&(gt.velocity=0),rt.config&&!ht&&mergeConfig$3(gt,callProp(rt.config,at),rt.config!==st.config?callProp(st.config,at):void 0);let bt=getAnimated(this);if(!bt||is.und(dt))return nt(getFinishedResult(this,!0));const xt=is.und(rt.reset)?ot&&!rt.default:!is.und(ft)&&matchProp(rt.reset,at),$t=xt?ft:this.get(),Tt=computeGoal(dt),wt=is.num(Tt)||is.arr(Tt)||isAnimatedString(Tt),At=!ht&&(!wt||matchProp(st.immediate||rt.immediate,at));if(mt){const Pt=getAnimatedType(dt);if(Pt!==bt.constructor)if(At)bt=this._set(Tt);else throw Error(`Cannot animate between ${bt.constructor.name} and ${Pt.name}, as the "to" prop suggests`)}const Rt=bt.constructor;let It=hasFluidValue(dt),Lt=!1;if(!It){const Pt=xt||!hasAnimated(this)&&pt;(mt||Pt)&&(Lt=isEqual(computeGoal($t),Tt),It=!Lt),(!isEqual(lt.immediate,At)&&!At||!isEqual(gt.decay,vt)||!isEqual(gt.velocity,yt))&&(It=!0)}if(Lt&&isAnimating(this)&&(lt.changed&&!xt?It=!0:It||this._stop(ct)),!ht&&((It||hasFluidValue(ct))&&(lt.values=bt.getPayload(),lt.toValues=hasFluidValue(dt)?null:Rt==AnimatedString?[1]:toArray$1(Tt)),lt.immediate!=At&&(lt.immediate=At,!At&&!xt&&this._set(ct)),It)){const{onRest:Pt}=lt;each$1(ACTIVE_EVENTS,Ot=>mergeActiveFn(this,rt,Ot));const Nt=getFinishedResult(this,checkFinished(this,ct));flushCalls(this._pendingCalls,Nt),this._pendingCalls.add(nt),lt.changed&&raf.batchedUpdates(()=>{lt.changed=!xt,Pt==null||Pt(Nt,this),xt?callProp(st.onRest,Nt):lt.onStart==null||lt.onStart(Nt,this)})}xt&&this._set($t),ht?nt(runAsync(rt.to,rt,this._state,this)):It?this._start():isAnimating(this)&&!mt?this._pendingCalls.add(nt):nt(getNoopResult($t))}_focus(et){const rt=this.animation;et!==rt.to&&(getFluidObservers(this)&&this._detach(),rt.to=et,getFluidObservers(this)&&this._attach())}_attach(){let et=0;const{to:rt}=this.animation;hasFluidValue(rt)&&(addFluidObserver(rt,this),isFrameValue(rt)&&(et=rt.priority+1)),this.priority=et}_detach(){const{to:et}=this.animation;hasFluidValue(et)&&removeFluidObserver(et,this)}_set(et,rt=!0){const nt=getFluidValue(et);if(!is.und(nt)){const it=getAnimated(this);if(!it||!isEqual(nt,it.getValue())){const ot=getAnimatedType(nt);!it||it.constructor!=ot?setAnimated(this,ot.create(nt)):it.setValue(nt),it&&raf.batchedUpdates(()=>{this._onChange(nt,rt)})}}return getAnimated(this)}_onStart(){const et=this.animation;et.changed||(et.changed=!0,sendEvent(this,"onStart",getFinishedResult(this,checkFinished(this,et.to)),this))}_onChange(et,rt){rt||(this._onStart(),callProp(this.animation.onChange,et,this)),callProp(this.defaultProps.onChange,et,this),super._onChange(et,rt)}_start(){const et=this.animation;getAnimated(this).reset(getFluidValue(et.to)),et.immediate||(et.fromValues=et.values.map(rt=>rt.lastPosition)),isAnimating(this)||(setActiveBit(this,!0),isPaused(this)||this._resume())}_resume(){globals.skipAnimation?this.finish():frameLoop.start(this)}_stop(et,rt){if(isAnimating(this)){setActiveBit(this,!1);const nt=this.animation;each$1(nt.values,ot=>{ot.done=!0}),nt.toValues&&(nt.onChange=nt.onPause=nt.onResume=void 0),callFluidObservers(this,{type:"idle",parent:this});const it=rt?getCancelledResult(this.get()):getFinishedResult(this.get(),checkFinished(this,et??nt.to));flushCalls(this._pendingCalls,it),nt.changed&&(nt.changed=!1,sendEvent(this,"onRest",it,this))}}}function checkFinished(tt,et){const rt=computeGoal(et),nt=computeGoal(tt.get());return isEqual(nt,rt)}function createLoopUpdate(tt,et=tt.loop,rt=tt.to){let nt=callProp(et);if(nt){const it=nt!==!0&&inferTo(nt),ot=(it||tt).reverse,at=!it||it.reset;return createUpdate(_extends$g({},tt,{loop:et,default:!1,pause:void 0,to:!ot||isAsyncTo(rt)?rt:void 0,from:at?tt.from:void 0,reset:at},it))}}function createUpdate(tt){const{to:et,from:rt}=tt=inferTo(tt),nt=new Set;return is.obj(et)&&findDefined(et,nt),is.obj(rt)&&findDefined(rt,nt),tt.keys=nt.size?Array.from(nt):null,tt}function declareUpdate(tt){const et=createUpdate(tt);return is.und(et.default)&&(et.default=getDefaultProps(et)),et}function findDefined(tt,et){eachProp(tt,(rt,nt)=>rt!=null&&et.add(nt))}const ACTIVE_EVENTS=["onStart","onRest","onChange","onPause","onResume"];function mergeActiveFn(tt,et,rt){tt.animation[rt]=et[rt]!==getDefaultProp(et,rt)?resolveProp(et[rt],tt.key):void 0}function sendEvent(tt,et,...rt){var nt,it,ot,at;(nt=(it=tt.animation)[et])==null||nt.call(it,...rt),(ot=(at=tt.defaultProps)[et])==null||ot.call(at,...rt)}const BATCHED_EVENTS=["onStart","onChange","onRest"];let nextId=1,Controller$1=class{constructor(et,rt){this.id=nextId++,this.springs={},this.queue=[],this.ref=void 0,this._flush=void 0,this._initialProps=void 0,this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._item=void 0,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),rt&&(this._flush=rt),et&&this.start(_extends$g({default:!0},et))}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(et=>et.idle&&!et.isDelayed&&!et.isPaused)}get item(){return this._item}set item(et){this._item=et}get(){const et={};return this.each((rt,nt)=>et[nt]=rt.get()),et}set(et){for(const rt in et){const nt=et[rt];is.und(nt)||this.springs[rt].set(nt)}}update(et){return et&&this.queue.push(createUpdate(et)),this}start(et){let{queue:rt}=this;return et?rt=toArray$1(et).map(createUpdate):this.queue=[],this._flush?this._flush(this,rt):(prepareKeys(this,rt),flushUpdateQueue(this,rt))}stop(et,rt){if(et!==!!et&&(rt=et),rt){const nt=this.springs;each$1(toArray$1(rt),it=>nt[it].stop(!!et))}else stopAsync(this._state,this._lastAsyncId),this.each(nt=>nt.stop(!!et));return this}pause(et){if(is.und(et))this.start({pause:!0});else{const rt=this.springs;each$1(toArray$1(et),nt=>rt[nt].pause())}return this}resume(et){if(is.und(et))this.start({pause:!1});else{const rt=this.springs;each$1(toArray$1(et),nt=>rt[nt].resume())}return this}each(et){eachProp(this.springs,et)}_onFrame(){const{onStart:et,onChange:rt,onRest:nt}=this._events,it=this._active.size>0,ot=this._changed.size>0;(it&&!this._started||ot&&!this._started)&&(this._started=!0,flush$4(et,([lt,ct])=>{ct.value=this.get(),lt(ct,this,this._item)}));const at=!it&&this._started,st=ot||at&&nt.size?this.get():null;ot&&rt.size&&flush$4(rt,([lt,ct])=>{ct.value=st,lt(ct,this,this._item)}),at&&(this._started=!1,flush$4(nt,([lt,ct])=>{ct.value=st,lt(ct,this,this._item)}))}eventObserved(et){if(et.type=="change")this._changed.add(et.parent),et.idle||this._active.add(et.parent);else if(et.type=="idle")this._active.delete(et.parent);else return;raf.onFrame(this._onFrame)}};function flushUpdateQueue(tt,et){return Promise.all(et.map(rt=>flushUpdate(tt,rt))).then(rt=>getCombinedResult(tt,rt))}async function flushUpdate(tt,et,rt){const{keys:nt,to:it,from:ot,loop:at,onRest:st,onResolve:lt}=et,ct=is.obj(et.default)&&et.default;at&&(et.loop=!1),it===!1&&(et.to=null),ot===!1&&(et.from=null);const ut=is.arr(it)||is.fun(it)?it:void 0;ut?(et.to=void 0,et.onRest=void 0,ct&&(ct.onRest=void 0)):each$1(BATCHED_EVENTS,ht=>{const gt=et[ht];if(is.fun(gt)){const vt=tt._events[ht];et[ht]=({finished:yt,cancelled:bt})=>{const xt=vt.get(gt);xt?(yt||(xt.finished=!1),bt&&(xt.cancelled=!0)):vt.set(gt,{value:null,finished:yt||!1,cancelled:bt||!1})},ct&&(ct[ht]=et[ht])}});const dt=tt._state;et.pause===!dt.paused?(dt.paused=et.pause,flushCalls(et.pause?dt.pauseQueue:dt.resumeQueue)):dt.paused&&(et.pause=!0);const ft=(nt||Object.keys(tt.springs)).map(ht=>tt.springs[ht].start(et)),pt=et.cancel===!0||getDefaultProp(et,"cancel")===!0;(ut||pt&&dt.asyncId)&&ft.push(scheduleProps(++tt._lastAsyncId,{props:et,state:dt,actions:{pause:noop$7,resume:noop$7,start(ht,gt){pt?(stopAsync(dt,tt._lastAsyncId),gt(getCancelledResult(tt))):(ht.onRest=st,gt(runAsync(ut,ht,dt,tt)))}}})),dt.paused&&await new Promise(ht=>{dt.resumeQueue.add(ht)});const mt=getCombinedResult(tt,await Promise.all(ft));if(at&&mt.finished&&!(rt&&mt.noop)){const ht=createLoopUpdate(et,at,it);if(ht)return prepareKeys(tt,[ht]),flushUpdate(tt,ht,!0)}return lt&&raf.batchedUpdates(()=>lt(mt,tt,tt.item)),mt}function getSprings(tt,et){const rt=_extends$g({},tt.springs);return et&&each$1(toArray$1(et),nt=>{is.und(nt.keys)&&(nt=createUpdate(nt)),is.obj(nt.to)||(nt=_extends$g({},nt,{to:void 0})),prepareSprings(rt,nt,it=>createSpring(it))}),setSprings(tt,rt),rt}function setSprings(tt,et){eachProp(et,(rt,nt)=>{tt.springs[nt]||(tt.springs[nt]=rt,addFluidObserver(rt,tt))})}function createSpring(tt,et){const rt=new SpringValue;return rt.key=tt,et&&addFluidObserver(rt,et),rt}function prepareSprings(tt,et,rt){et.keys&&each$1(et.keys,nt=>{(tt[nt]||(tt[nt]=rt(nt)))._prepareNode(et)})}function prepareKeys(tt,et){each$1(et,rt=>{prepareSprings(tt.springs,rt,nt=>createSpring(nt,tt))})}function _objectWithoutPropertiesLoose(tt,et){if(tt==null)return{};var rt={},nt=Object.keys(tt),it,ot;for(ot=0;ot<nt.length;ot++)it=nt[ot],!(et.indexOf(it)>=0)&&(rt[it]=tt[it]);return rt}const _excluded$6=["children"],SpringContext=tt=>{let{children:et}=tt,rt=_objectWithoutPropertiesLoose(tt,_excluded$6);const nt=reactExports.useContext(ctx),it=rt.pause||!!nt.pause,ot=rt.immediate||!!nt.immediate;rt=useMemoOne(()=>({pause:it,immediate:ot}),[it,ot]);const{Provider:at}=ctx;return reactExports.createElement(at,{value:rt},et)},ctx=makeContext(SpringContext,{});SpringContext.Provider=ctx.Provider;SpringContext.Consumer=ctx.Consumer;function makeContext(tt,et){return Object.assign(tt,reactExports.createContext(et)),tt.Provider._context=tt,tt.Consumer._context=tt,tt}const SpringRef=()=>{const tt=[],et=function(it){deprecateDirectCall();const ot=[];return each$1(tt,(at,st)=>{if(is.und(it))ot.push(at.start());else{const lt=rt(it,at,st);lt&&ot.push(at.start(lt))}}),ot};et.current=tt,et.add=function(nt){tt.includes(nt)||tt.push(nt)},et.delete=function(nt){const it=tt.indexOf(nt);~it&&tt.splice(it,1)},et.pause=function(){return each$1(tt,nt=>nt.pause(...arguments)),this},et.resume=function(){return each$1(tt,nt=>nt.resume(...arguments)),this},et.set=function(nt){each$1(tt,it=>it.set(nt))},et.start=function(nt){const it=[];return each$1(tt,(ot,at)=>{if(is.und(nt))it.push(ot.start());else{const st=this._getProps(nt,ot,at);st&&it.push(ot.start(st))}}),it},et.stop=function(){return each$1(tt,nt=>nt.stop(...arguments)),this},et.update=function(nt){return each$1(tt,(it,ot)=>it.update(this._getProps(nt,it,ot))),this};const rt=function(it,ot,at){return is.fun(it)?it(at,ot):it};return et._getProps=rt,et};function useSprings(tt,et,rt){const nt=is.fun(et)&&et;nt&&!rt&&(rt=[]);const it=reactExports.useMemo(()=>nt||arguments.length==3?SpringRef():void 0,[]),ot=reactExports.useRef(0),at=useForceUpdate(),st=reactExports.useMemo(()=>({ctrls:[],queue:[],flush(vt,yt){const bt=getSprings(vt,yt);return ot.current>0&&!st.queue.length&&!Object.keys(bt).some($t=>!vt.springs[$t])?flushUpdateQueue(vt,yt):new Promise($t=>{setSprings(vt,bt),st.queue.push(()=>{$t(flushUpdateQueue(vt,yt))}),at()})}}),[]),lt=reactExports.useRef([...st.ctrls]),ct=[],ut=usePrev(tt)||0;reactExports.useMemo(()=>{each$1(lt.current.slice(tt,ut),vt=>{detachRefs(vt,it),vt.stop(!0)}),lt.current.length=tt,dt(ut,tt)},[tt]),reactExports.useMemo(()=>{dt(0,Math.min(ut,tt))},rt);function dt(vt,yt){for(let bt=vt;bt<yt;bt++){const xt=lt.current[bt]||(lt.current[bt]=new Controller$1(null,st.flush)),$t=nt?nt(bt,xt):et[bt];$t&&(ct[bt]=declareUpdate($t))}}const ft=lt.current.map((vt,yt)=>getSprings(vt,ct[yt])),pt=reactExports.useContext(SpringContext),mt=usePrev(pt),ht=pt!==mt&&hasProps(pt);useIsomorphicLayoutEffect(()=>{ot.current++,st.ctrls=lt.current;const{queue:vt}=st;vt.length&&(st.queue=[],each$1(vt,yt=>yt())),each$1(lt.current,(yt,bt)=>{it==null||it.add(yt),ht&&yt.start({default:pt});const xt=ct[bt];xt&&(replaceRef(yt,xt.ref),yt.ref?yt.queue.push(xt):yt.start(xt))})}),useOnce(()=>()=>{each$1(st.ctrls,vt=>vt.stop(!0))});const gt=ft.map(vt=>_extends$g({},vt));return it?[gt,it]:gt}function useSpring(tt,et){const rt=is.fun(tt),[[nt],it]=useSprings(1,rt?tt:[tt],rt?et||[]:et);return rt||arguments.length==2?[nt,it]:nt}let TransitionPhase;(function(tt){tt.MOUNT="mount",tt.ENTER="enter",tt.UPDATE="update",tt.LEAVE="leave"})(TransitionPhase||(TransitionPhase={}));class Interpolation extends FrameValue{constructor(et,rt){super(),this.key=void 0,this.idle=!0,this.calc=void 0,this._active=new Set,this.source=et,this.calc=createInterpolator(...rt);const nt=this._get(),it=getAnimatedType(nt);setAnimated(this,it.create(nt))}advance(et){const rt=this._get(),nt=this.get();isEqual(rt,nt)||(getAnimated(this).setValue(rt),this._onChange(rt,this.idle)),!this.idle&&checkIdle(this._active)&&becomeIdle(this)}_get(){const et=is.arr(this.source)?this.source.map(getFluidValue):toArray$1(getFluidValue(this.source));return this.calc(...et)}_start(){this.idle&&!checkIdle(this._active)&&(this.idle=!1,each$1(getPayload(this),et=>{et.done=!1}),globals.skipAnimation?(raf.batchedUpdates(()=>this.advance()),becomeIdle(this)):frameLoop.start(this))}_attach(){let et=1;each$1(toArray$1(this.source),rt=>{hasFluidValue(rt)&&addFluidObserver(rt,this),isFrameValue(rt)&&(rt.idle||this._active.add(rt),et=Math.max(et,rt.priority+1))}),this.priority=et,this._start()}_detach(){each$1(toArray$1(this.source),et=>{hasFluidValue(et)&&removeFluidObserver(et,this)}),this._active.clear(),becomeIdle(this)}eventObserved(et){et.type=="change"?et.idle?this.advance():(this._active.add(et.parent),this._start()):et.type=="idle"?this._active.delete(et.parent):et.type=="priority"&&(this.priority=toArray$1(this.source).reduce((rt,nt)=>Math.max(rt,(isFrameValue(nt)?nt.priority:0)+1),0))}}function isIdle(tt){return tt.idle!==!1}function checkIdle(tt){return!tt.size||Array.from(tt).every(isIdle)}function becomeIdle(tt){tt.idle||(tt.idle=!0,each$1(getPayload(tt),et=>{et.done=!0}),callFluidObservers(tt,{type:"idle",parent:tt}))}globals.assign({createStringInterpolator,to:(tt,et)=>new Interpolation(tt,et)});const primitives=["primitive"].concat(Object.keys(THREE).filter(tt=>/^[A-Z]/.test(tt)).map(tt=>tt[0].toLowerCase()+tt.slice(1)));globals.assign({createStringInterpolator,colors,frameLoop:"demand"});addEffect(()=>{raf.advance()});const host=createHost(primitives,{applyAnimatedValues:applyProps}),animated=host.animated;let webGL2Available;function isWebGL2Available(){if(webGL2Available!==void 0)return webGL2Available;try{var tt;let et;const rt=document.createElement("canvas");return webGL2Available=!!(window.WebGL2RenderingContext&&(et=rt.getContext("webgl2"))),et&&((tt=et.getExtension("WEBGL_lose_context"))===null||tt===void 0||tt.loseContext()),webGL2Available}catch{return webGL2Available=!1}}const isCubeTexture=tt=>tt&&tt.isCubeTexture;class GroundProjectedEnv extends Mesh{constructor(et,rt){var nt,it;const ot=isCubeTexture(et),st=((nt=ot?(it=et.image[0])===null||it===void 0?void 0:it.width:et.image.width)!=null?nt:1024)/4,lt=Math.floor(Math.log2(st)),ct=Math.pow(2,lt),ut=3*Math.max(ct,16*7),dt=4*ct,ft=[ot?"#define ENVMAP_TYPE_CUBE":"",`#define CUBEUV_TEXEL_WIDTH ${1/ut}`,`#define CUBEUV_TEXEL_HEIGHT ${1/dt}`,`#define CUBEUV_MAX_MIP ${lt}.0`],pt=`
        varying vec3 vWorldPosition;
        void main() 
        {
            vec4 worldPosition = ( modelMatrix * vec4( position, 1.0 ) );
            vWorldPosition = worldPosition.xyz;
            
            gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
        }
        `,mt=ft.join(`
`)+`
        #define ENVMAP_TYPE_CUBE_UV
        varying vec3 vWorldPosition;
        uniform float radius;
        uniform float height;
        uniform float angle;
        #ifdef ENVMAP_TYPE_CUBE
            uniform samplerCube map;
        #else
            uniform sampler2D map;
        #endif
        // From: https://www.shadertoy.com/view/4tsBD7
        float diskIntersectWithBackFaceCulling( vec3 ro, vec3 rd, vec3 c, vec3 n, float r ) 
        {
            float d = dot ( rd, n );
            
            if( d > 0.0 ) { return 1e6; }
            
            vec3  o = ro - c;
            float t = - dot( n, o ) / d;
            vec3  q = o + rd * t;
            
            return ( dot( q, q ) < r * r ) ? t : 1e6;
        }
        // From: https://www.iquilezles.org/www/articles/intersectors/intersectors.htm
        float sphereIntersect( vec3 ro, vec3 rd, vec3 ce, float ra ) 
        {
            vec3 oc = ro - ce;
            float b = dot( oc, rd );
            float c = dot( oc, oc ) - ra * ra;
            float h = b * b - c;
            
            if( h < 0.0 ) { return -1.0; }
            
            h = sqrt( h );
            
            return - b + h;
        }
        vec3 project() 
        {
            vec3 p = normalize( vWorldPosition );
            vec3 camPos = cameraPosition;
            camPos.y -= height;
            float intersection = sphereIntersect( camPos, p, vec3( 0.0 ), radius );
            if( intersection > 0.0 ) {
                
                vec3 h = vec3( 0.0, - height, 0.0 );
                float intersection2 = diskIntersectWithBackFaceCulling( camPos, p, h, vec3( 0.0, 1.0, 0.0 ), radius );
                p = ( camPos + min( intersection, intersection2 ) * p ) / radius;
            } else {
                p = vec3( 0.0, 1.0, 0.0 );
            }
            return p;
        }
        #include <common>
        #include <cube_uv_reflection_fragment>
        void main() 
        {
            vec3 projectedWorldPosition = project();
            
            #ifdef ENVMAP_TYPE_CUBE
                vec3 outcolor = textureCube( map, projectedWorldPosition ).rgb;
            #else
                vec3 direction = normalize( projectedWorldPosition );
                vec2 uv = equirectUv( direction );
                vec3 outcolor = texture2D( map, uv ).rgb;
            #endif
            gl_FragColor = vec4( outcolor, 1.0 );
            #include <tonemapping_fragment>
            #include <encodings_fragment>
        }
        `,ht={map:{value:et},height:{value:(rt==null?void 0:rt.height)||15},radius:{value:(rt==null?void 0:rt.radius)||100}},gt=new IcosahedronGeometry(1,16),vt=new ShaderMaterial({uniforms:ht,fragmentShader:mt,vertexShader:pt,side:DoubleSide});super(gt,vt)}set radius(et){this.material.uniforms.radius.value=et}get radius(){return this.material.uniforms.radius.value}set height(et){this.material.uniforms.height.value=et}get height(){return this.material.uniforms.height.value}}class GLTFLoader extends Loader$1{constructor(et){super(et),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(rt){return new GLTFMaterialsClearcoatExtension(rt)}),this.register(function(rt){return new GLTFTextureBasisUExtension(rt)}),this.register(function(rt){return new GLTFTextureWebPExtension(rt)}),this.register(function(rt){return new GLTFMaterialsSheenExtension(rt)}),this.register(function(rt){return new GLTFMaterialsTransmissionExtension(rt)}),this.register(function(rt){return new GLTFMaterialsVolumeExtension(rt)}),this.register(function(rt){return new GLTFMaterialsIorExtension(rt)}),this.register(function(rt){return new GLTFMaterialsEmissiveStrengthExtension(rt)}),this.register(function(rt){return new GLTFMaterialsSpecularExtension(rt)}),this.register(function(rt){return new GLTFMaterialsIridescenceExtension(rt)}),this.register(function(rt){return new GLTFLightsExtension(rt)}),this.register(function(rt){return new GLTFMeshoptCompression(rt)})}load(et,rt,nt,it){const ot=this;let at;this.resourcePath!==""?at=this.resourcePath:this.path!==""?at=this.path:at=LoaderUtils.extractUrlBase(et),this.manager.itemStart(et);const st=function(ct){it?it(ct):console.error(ct),ot.manager.itemError(et),ot.manager.itemEnd(et)},lt=new FileLoader(this.manager);lt.setPath(this.path),lt.setResponseType("arraybuffer"),lt.setRequestHeader(this.requestHeader),lt.setWithCredentials(this.withCredentials),lt.load(et,function(ct){try{ot.parse(ct,at,function(ut){rt(ut),ot.manager.itemEnd(et)},st)}catch(ut){st(ut)}},nt,st)}setDRACOLoader(et){return this.dracoLoader=et,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(et){return this.ktx2Loader=et,this}setMeshoptDecoder(et){return this.meshoptDecoder=et,this}register(et){return this.pluginCallbacks.indexOf(et)===-1&&this.pluginCallbacks.push(et),this}unregister(et){return this.pluginCallbacks.indexOf(et)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(et),1),this}parse(et,rt,nt,it){let ot;const at={},st={};if(typeof et=="string")ot=et;else if(LoaderUtils.decodeText(new Uint8Array(et,0,4))===BINARY_EXTENSION_HEADER_MAGIC){try{at[EXTENSIONS.KHR_BINARY_GLTF]=new GLTFBinaryExtension(et)}catch(dt){it&&it(dt);return}ot=at[EXTENSIONS.KHR_BINARY_GLTF].content}else ot=LoaderUtils.decodeText(new Uint8Array(et));const lt=JSON.parse(ot);if(lt.asset===void 0||lt.asset.version[0]<2){it&&it(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const ct=new GLTFParser(lt,{path:rt||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});ct.fileLoader.setRequestHeader(this.requestHeader);for(let ut=0;ut<this.pluginCallbacks.length;ut++){const dt=this.pluginCallbacks[ut](ct);st[dt.name]=dt,at[dt.name]=!0}if(lt.extensionsUsed)for(let ut=0;ut<lt.extensionsUsed.length;++ut){const dt=lt.extensionsUsed[ut],ft=lt.extensionsRequired||[];switch(dt){case EXTENSIONS.KHR_MATERIALS_UNLIT:at[dt]=new GLTFMaterialsUnlitExtension;break;case EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:at[dt]=new GLTFMaterialsPbrSpecularGlossinessExtension;break;case EXTENSIONS.KHR_DRACO_MESH_COMPRESSION:at[dt]=new GLTFDracoMeshCompressionExtension(lt,this.dracoLoader);break;case EXTENSIONS.KHR_TEXTURE_TRANSFORM:at[dt]=new GLTFTextureTransformExtension;break;case EXTENSIONS.KHR_MESH_QUANTIZATION:at[dt]=new GLTFMeshQuantizationExtension;break;default:ft.indexOf(dt)>=0&&st[dt]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+dt+'".')}}ct.setExtensions(at),ct.setPlugins(st),ct.parse(nt,it)}parseAsync(et,rt){const nt=this;return new Promise(function(it,ot){nt.parse(et,rt,it,ot)})}}function GLTFRegistry(){let tt={};return{get:function(et){return tt[et]},add:function(et,rt){tt[et]=rt},remove:function(et){delete tt[et]},removeAll:function(){tt={}}}}const EXTENSIONS={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS:"KHR_materials_pbrSpecularGlossiness",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression"};class GLTFLightsExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const et=this.parser,rt=this.parser.json.nodes||[];for(let nt=0,it=rt.length;nt<it;nt++){const ot=rt[nt];ot.extensions&&ot.extensions[this.name]&&ot.extensions[this.name].light!==void 0&&et._addNodeRef(this.cache,ot.extensions[this.name].light)}}_loadLight(et){const rt=this.parser,nt="light:"+et;let it=rt.cache.get(nt);if(it)return it;const ot=rt.json,lt=((ot.extensions&&ot.extensions[this.name]||{}).lights||[])[et];let ct;const ut=new Color(16777215);lt.color!==void 0&&ut.fromArray(lt.color);const dt=lt.range!==void 0?lt.range:0;switch(lt.type){case"directional":ct=new DirectionalLight(ut),ct.target.position.set(0,0,-1),ct.add(ct.target);break;case"point":ct=new PointLight(ut),ct.distance=dt;break;case"spot":ct=new SpotLight(ut),ct.distance=dt,lt.spot=lt.spot||{},lt.spot.innerConeAngle=lt.spot.innerConeAngle!==void 0?lt.spot.innerConeAngle:0,lt.spot.outerConeAngle=lt.spot.outerConeAngle!==void 0?lt.spot.outerConeAngle:Math.PI/4,ct.angle=lt.spot.outerConeAngle,ct.penumbra=1-lt.spot.innerConeAngle/lt.spot.outerConeAngle,ct.target.position.set(0,0,-1),ct.add(ct.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+lt.type)}return ct.position.set(0,0,0),ct.decay=2,lt.intensity!==void 0&&(ct.intensity=lt.intensity),ct.name=rt.createUniqueName(lt.name||"light_"+et),it=Promise.resolve(ct),rt.cache.add(nt,it),it}createNodeAttachment(et){const rt=this,nt=this.parser,ot=nt.json.nodes[et],st=(ot.extensions&&ot.extensions[this.name]||{}).light;return st===void 0?null:this._loadLight(st).then(function(lt){return nt._getNodeRef(rt.cache,st,lt)})}}class GLTFMaterialsUnlitExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_UNLIT}getMaterialType(){return MeshBasicMaterial}extendParams(et,rt,nt){const it=[];et.color=new Color(1,1,1),et.opacity=1;const ot=rt.pbrMetallicRoughness;if(ot){if(Array.isArray(ot.baseColorFactor)){const at=ot.baseColorFactor;et.color.fromArray(at),et.opacity=at[3]}ot.baseColorTexture!==void 0&&it.push(nt.assignTexture(et,"map",ot.baseColorTexture,sRGBEncoding))}return Promise.all(it)}}class GLTFMaterialsEmissiveStrengthExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(et,rt){const it=this.parser.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=it.extensions[this.name].emissiveStrength;return ot!==void 0&&(rt.emissiveIntensity=ot),Promise.resolve()}}class GLTFMaterialsClearcoatExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_CLEARCOAT}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,rt){const nt=this.parser,it=nt.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=[],at=it.extensions[this.name];if(at.clearcoatFactor!==void 0&&(rt.clearcoat=at.clearcoatFactor),at.clearcoatTexture!==void 0&&ot.push(nt.assignTexture(rt,"clearcoatMap",at.clearcoatTexture)),at.clearcoatRoughnessFactor!==void 0&&(rt.clearcoatRoughness=at.clearcoatRoughnessFactor),at.clearcoatRoughnessTexture!==void 0&&ot.push(nt.assignTexture(rt,"clearcoatRoughnessMap",at.clearcoatRoughnessTexture)),at.clearcoatNormalTexture!==void 0&&(ot.push(nt.assignTexture(rt,"clearcoatNormalMap",at.clearcoatNormalTexture)),at.clearcoatNormalTexture.scale!==void 0)){const st=at.clearcoatNormalTexture.scale;rt.clearcoatNormalScale=new Vector2(st,st)}return Promise.all(ot)}}class GLTFMaterialsIridescenceExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_IRIDESCENCE}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,rt){const nt=this.parser,it=nt.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=[],at=it.extensions[this.name];return at.iridescenceFactor!==void 0&&(rt.iridescence=at.iridescenceFactor),at.iridescenceTexture!==void 0&&ot.push(nt.assignTexture(rt,"iridescenceMap",at.iridescenceTexture)),at.iridescenceIor!==void 0&&(rt.iridescenceIOR=at.iridescenceIor),rt.iridescenceThicknessRange===void 0&&(rt.iridescenceThicknessRange=[100,400]),at.iridescenceThicknessMinimum!==void 0&&(rt.iridescenceThicknessRange[0]=at.iridescenceThicknessMinimum),at.iridescenceThicknessMaximum!==void 0&&(rt.iridescenceThicknessRange[1]=at.iridescenceThicknessMaximum),at.iridescenceThicknessTexture!==void 0&&ot.push(nt.assignTexture(rt,"iridescenceThicknessMap",at.iridescenceThicknessTexture)),Promise.all(ot)}}class GLTFMaterialsSheenExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_SHEEN}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,rt){const nt=this.parser,it=nt.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=[];rt.sheenColor=new Color(0,0,0),rt.sheenRoughness=0,rt.sheen=1;const at=it.extensions[this.name];return at.sheenColorFactor!==void 0&&rt.sheenColor.fromArray(at.sheenColorFactor),at.sheenRoughnessFactor!==void 0&&(rt.sheenRoughness=at.sheenRoughnessFactor),at.sheenColorTexture!==void 0&&ot.push(nt.assignTexture(rt,"sheenColorMap",at.sheenColorTexture,sRGBEncoding)),at.sheenRoughnessTexture!==void 0&&ot.push(nt.assignTexture(rt,"sheenRoughnessMap",at.sheenRoughnessTexture)),Promise.all(ot)}}class GLTFMaterialsTransmissionExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_TRANSMISSION}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,rt){const nt=this.parser,it=nt.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=[],at=it.extensions[this.name];return at.transmissionFactor!==void 0&&(rt.transmission=at.transmissionFactor),at.transmissionTexture!==void 0&&ot.push(nt.assignTexture(rt,"transmissionMap",at.transmissionTexture)),Promise.all(ot)}}class GLTFMaterialsVolumeExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_VOLUME}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,rt){const nt=this.parser,it=nt.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=[],at=it.extensions[this.name];rt.thickness=at.thicknessFactor!==void 0?at.thicknessFactor:0,at.thicknessTexture!==void 0&&ot.push(nt.assignTexture(rt,"thicknessMap",at.thicknessTexture)),rt.attenuationDistance=at.attenuationDistance||1/0;const st=at.attenuationColor||[1,1,1];return rt.attenuationColor=new Color(st[0],st[1],st[2]),Promise.all(ot)}}class GLTFMaterialsIorExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_IOR}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,rt){const it=this.parser.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=it.extensions[this.name];return rt.ior=ot.ior!==void 0?ot.ior:1.5,Promise.resolve()}}class GLTFMaterialsSpecularExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_MATERIALS_SPECULAR}getMaterialType(et){const nt=this.parser.json.materials[et];return!nt.extensions||!nt.extensions[this.name]?null:MeshPhysicalMaterial}extendMaterialParams(et,rt){const nt=this.parser,it=nt.json.materials[et];if(!it.extensions||!it.extensions[this.name])return Promise.resolve();const ot=[],at=it.extensions[this.name];rt.specularIntensity=at.specularFactor!==void 0?at.specularFactor:1,at.specularTexture!==void 0&&ot.push(nt.assignTexture(rt,"specularIntensityMap",at.specularTexture));const st=at.specularColorFactor||[1,1,1];return rt.specularColor=new Color(st[0],st[1],st[2]),at.specularColorTexture!==void 0&&ot.push(nt.assignTexture(rt,"specularColorMap",at.specularColorTexture,sRGBEncoding)),Promise.all(ot)}}class GLTFTextureBasisUExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.KHR_TEXTURE_BASISU}loadTexture(et){const rt=this.parser,nt=rt.json,it=nt.textures[et];if(!it.extensions||!it.extensions[this.name])return null;const ot=it.extensions[this.name],at=rt.options.ktx2Loader;if(!at){if(nt.extensionsRequired&&nt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return rt.loadTextureImage(et,ot.source,at)}}class GLTFTextureWebPExtension{constructor(et){this.parser=et,this.name=EXTENSIONS.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(et){const rt=this.name,nt=this.parser,it=nt.json,ot=it.textures[et];if(!ot.extensions||!ot.extensions[rt])return null;const at=ot.extensions[rt],st=it.images[at.source];let lt=nt.textureLoader;if(st.uri){const ct=nt.options.manager.getHandler(st.uri);ct!==null&&(lt=ct)}return this.detectSupport().then(function(ct){if(ct)return nt.loadTextureImage(et,at.source,lt);if(it.extensionsRequired&&it.extensionsRequired.indexOf(rt)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return nt.loadTexture(et)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(et){const rt=new Image;rt.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",rt.onload=rt.onerror=function(){et(rt.height===1)}})),this.isSupported}}class GLTFMeshoptCompression{constructor(et){this.name=EXTENSIONS.EXT_MESHOPT_COMPRESSION,this.parser=et}loadBufferView(et){const rt=this.parser.json,nt=rt.bufferViews[et];if(nt.extensions&&nt.extensions[this.name]){const it=nt.extensions[this.name],ot=this.parser.getDependency("buffer",it.buffer),at=this.parser.options.meshoptDecoder;if(!at||!at.supported){if(rt.extensionsRequired&&rt.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return ot.then(function(st){const lt=it.byteOffset||0,ct=it.byteLength||0,ut=it.count,dt=it.byteStride,ft=new Uint8Array(st,lt,ct);return at.decodeGltfBufferAsync?at.decodeGltfBufferAsync(ut,dt,ft,it.mode,it.filter).then(function(pt){return pt.buffer}):at.ready.then(function(){const pt=new ArrayBuffer(ut*dt);return at.decodeGltfBuffer(new Uint8Array(pt),ut,dt,ft,it.mode,it.filter),pt})})}else return null}}const BINARY_EXTENSION_HEADER_MAGIC="glTF",BINARY_EXTENSION_HEADER_LENGTH=12,BINARY_EXTENSION_CHUNK_TYPES={JSON:1313821514,BIN:5130562};class GLTFBinaryExtension{constructor(et){this.name=EXTENSIONS.KHR_BINARY_GLTF,this.content=null,this.body=null;const rt=new DataView(et,0,BINARY_EXTENSION_HEADER_LENGTH);if(this.header={magic:LoaderUtils.decodeText(new Uint8Array(et.slice(0,4))),version:rt.getUint32(4,!0),length:rt.getUint32(8,!0)},this.header.magic!==BINARY_EXTENSION_HEADER_MAGIC)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const nt=this.header.length-BINARY_EXTENSION_HEADER_LENGTH,it=new DataView(et,BINARY_EXTENSION_HEADER_LENGTH);let ot=0;for(;ot<nt;){const at=it.getUint32(ot,!0);ot+=4;const st=it.getUint32(ot,!0);if(ot+=4,st===BINARY_EXTENSION_CHUNK_TYPES.JSON){const lt=new Uint8Array(et,BINARY_EXTENSION_HEADER_LENGTH+ot,at);this.content=LoaderUtils.decodeText(lt)}else if(st===BINARY_EXTENSION_CHUNK_TYPES.BIN){const lt=BINARY_EXTENSION_HEADER_LENGTH+ot;this.body=et.slice(lt,lt+at)}ot+=at}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class GLTFDracoMeshCompressionExtension{constructor(et,rt){if(!rt)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=EXTENSIONS.KHR_DRACO_MESH_COMPRESSION,this.json=et,this.dracoLoader=rt,this.dracoLoader.preload()}decodePrimitive(et,rt){const nt=this.json,it=this.dracoLoader,ot=et.extensions[this.name].bufferView,at=et.extensions[this.name].attributes,st={},lt={},ct={};for(const ut in at){const dt=ATTRIBUTES[ut]||ut.toLowerCase();st[dt]=at[ut]}for(const ut in et.attributes){const dt=ATTRIBUTES[ut]||ut.toLowerCase();if(at[ut]!==void 0){const ft=nt.accessors[et.attributes[ut]],pt=WEBGL_COMPONENT_TYPES[ft.componentType];ct[dt]=pt.name,lt[dt]=ft.normalized===!0}}return rt.getDependency("bufferView",ot).then(function(ut){return new Promise(function(dt){it.decodeDracoFile(ut,function(ft){for(const pt in ft.attributes){const mt=ft.attributes[pt],ht=lt[pt];ht!==void 0&&(mt.normalized=ht)}dt(ft)},st,ct)})})}}class GLTFTextureTransformExtension{constructor(){this.name=EXTENSIONS.KHR_TEXTURE_TRANSFORM}extendTexture(et,rt){return rt.texCoord!==void 0&&console.warn('THREE.GLTFLoader: Custom UV sets in "'+this.name+'" extension not yet supported.'),rt.offset===void 0&&rt.rotation===void 0&&rt.scale===void 0||(et=et.clone(),rt.offset!==void 0&&et.offset.fromArray(rt.offset),rt.rotation!==void 0&&(et.rotation=rt.rotation),rt.scale!==void 0&&et.repeat.fromArray(rt.scale),et.needsUpdate=!0),et}}class GLTFMeshStandardSGMaterial extends MeshStandardMaterial{constructor(et){super(),this.isGLTFSpecularGlossinessMaterial=!0;const rt=["#ifdef USE_SPECULARMAP","	uniform sampler2D specularMap;","#endif"].join(`
`),nt=["#ifdef USE_GLOSSINESSMAP","	uniform sampler2D glossinessMap;","#endif"].join(`
`),it=["vec3 specularFactor = specular;","#ifdef USE_SPECULARMAP","	vec4 texelSpecular = texture2D( specularMap, vUv );","	// reads channel RGB, compatible with a glTF Specular-Glossiness (RGBA) texture","	specularFactor *= texelSpecular.rgb;","#endif"].join(`
`),ot=["float glossinessFactor = glossiness;","#ifdef USE_GLOSSINESSMAP","	vec4 texelGlossiness = texture2D( glossinessMap, vUv );","	// reads channel A, compatible with a glTF Specular-Glossiness (RGBA) texture","	glossinessFactor *= texelGlossiness.a;","#endif"].join(`
`),at=["PhysicalMaterial material;","material.diffuseColor = diffuseColor.rgb * ( 1. - max( specularFactor.r, max( specularFactor.g, specularFactor.b ) ) );","vec3 dxy = max( abs( dFdx( geometryNormal ) ), abs( dFdy( geometryNormal ) ) );","float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );","material.roughness = max( 1.0 - glossinessFactor, 0.0525 ); // 0.0525 corresponds to the base mip of a 256 cubemap.","material.roughness += geometryRoughness;","material.roughness = min( material.roughness, 1.0 );","material.specularColor = specularFactor;"].join(`
`),st={specular:{value:new Color().setHex(16777215)},glossiness:{value:1},specularMap:{value:null},glossinessMap:{value:null}};this._extraUniforms=st,this.onBeforeCompile=function(lt){for(const ct in st)lt.uniforms[ct]=st[ct];lt.fragmentShader=lt.fragmentShader.replace("uniform float roughness;","uniform vec3 specular;").replace("uniform float metalness;","uniform float glossiness;").replace("#include <roughnessmap_pars_fragment>",rt).replace("#include <metalnessmap_pars_fragment>",nt).replace("#include <roughnessmap_fragment>",it).replace("#include <metalnessmap_fragment>",ot).replace("#include <lights_physical_fragment>",at)},Object.defineProperties(this,{specular:{get:function(){return st.specular.value},set:function(lt){st.specular.value=lt}},specularMap:{get:function(){return st.specularMap.value},set:function(lt){st.specularMap.value=lt,lt?this.defines.USE_SPECULARMAP="":delete this.defines.USE_SPECULARMAP}},glossiness:{get:function(){return st.glossiness.value},set:function(lt){st.glossiness.value=lt}},glossinessMap:{get:function(){return st.glossinessMap.value},set:function(lt){st.glossinessMap.value=lt,lt?(this.defines.USE_GLOSSINESSMAP="",this.defines.USE_UV=""):(delete this.defines.USE_GLOSSINESSMAP,delete this.defines.USE_UV)}}}),delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this.setValues(et)}copy(et){return super.copy(et),this.specularMap=et.specularMap,this.specular.copy(et.specular),this.glossinessMap=et.glossinessMap,this.glossiness=et.glossiness,delete this.metalness,delete this.roughness,delete this.metalnessMap,delete this.roughnessMap,this}}class GLTFMaterialsPbrSpecularGlossinessExtension{constructor(){this.name=EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS,this.specularGlossinessParams=["color","map","lightMap","lightMapIntensity","aoMap","aoMapIntensity","emissive","emissiveIntensity","emissiveMap","bumpMap","bumpScale","normalMap","normalMapType","displacementMap","displacementScale","displacementBias","specularMap","specular","glossinessMap","glossiness","alphaMap","envMap","envMapIntensity","refractionRatio"]}getMaterialType(){return GLTFMeshStandardSGMaterial}extendParams(et,rt,nt){const it=rt.extensions[this.name];et.color=new Color(1,1,1),et.opacity=1;const ot=[];if(Array.isArray(it.diffuseFactor)){const at=it.diffuseFactor;et.color.fromArray(at),et.opacity=at[3]}if(it.diffuseTexture!==void 0&&ot.push(nt.assignTexture(et,"map",it.diffuseTexture,sRGBEncoding)),et.emissive=new Color(0,0,0),et.glossiness=it.glossinessFactor!==void 0?it.glossinessFactor:1,et.specular=new Color(1,1,1),Array.isArray(it.specularFactor)&&et.specular.fromArray(it.specularFactor),it.specularGlossinessTexture!==void 0){const at=it.specularGlossinessTexture;ot.push(nt.assignTexture(et,"glossinessMap",at)),ot.push(nt.assignTexture(et,"specularMap",at,sRGBEncoding))}return Promise.all(ot)}createMaterial(et){const rt=new GLTFMeshStandardSGMaterial(et);return rt.fog=!0,rt.color=et.color,rt.map=et.map===void 0?null:et.map,rt.lightMap=null,rt.lightMapIntensity=1,rt.aoMap=et.aoMap===void 0?null:et.aoMap,rt.aoMapIntensity=1,rt.emissive=et.emissive,rt.emissiveIntensity=et.emissiveIntensity===void 0?1:et.emissiveIntensity,rt.emissiveMap=et.emissiveMap===void 0?null:et.emissiveMap,rt.bumpMap=et.bumpMap===void 0?null:et.bumpMap,rt.bumpScale=1,rt.normalMap=et.normalMap===void 0?null:et.normalMap,rt.normalMapType=TangentSpaceNormalMap,et.normalScale&&(rt.normalScale=et.normalScale),rt.displacementMap=null,rt.displacementScale=1,rt.displacementBias=0,rt.specularMap=et.specularMap===void 0?null:et.specularMap,rt.specular=et.specular,rt.glossinessMap=et.glossinessMap===void 0?null:et.glossinessMap,rt.glossiness=et.glossiness,rt.alphaMap=null,rt.envMap=et.envMap===void 0?null:et.envMap,rt.envMapIntensity=1,rt.refractionRatio=.98,rt}}class GLTFMeshQuantizationExtension{constructor(){this.name=EXTENSIONS.KHR_MESH_QUANTIZATION}}class GLTFCubicSplineInterpolant extends Interpolant{constructor(et,rt,nt,it){super(et,rt,nt,it)}copySampleValue_(et){const rt=this.resultBuffer,nt=this.sampleValues,it=this.valueSize,ot=et*it*3+it;for(let at=0;at!==it;at++)rt[at]=nt[ot+at];return rt}interpolate_(et,rt,nt,it){const ot=this.resultBuffer,at=this.sampleValues,st=this.valueSize,lt=st*2,ct=st*3,ut=it-rt,dt=(nt-rt)/ut,ft=dt*dt,pt=ft*dt,mt=et*ct,ht=mt-ct,gt=-2*pt+3*ft,vt=pt-ft,yt=1-gt,bt=vt-ft+dt;for(let xt=0;xt!==st;xt++){const $t=at[ht+xt+st],Tt=at[ht+xt+lt]*ut,wt=at[mt+xt+st],At=at[mt+xt]*ut;ot[xt]=yt*$t+bt*Tt+gt*wt+vt*At}return ot}}const _q=new Quaternion;class GLTFCubicSplineQuaternionInterpolant extends GLTFCubicSplineInterpolant{interpolate_(et,rt,nt,it){const ot=super.interpolate_(et,rt,nt,it);return _q.fromArray(ot).normalize().toArray(ot),ot}}const WEBGL_CONSTANTS={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},WEBGL_COMPONENT_TYPES={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},WEBGL_FILTERS={9728:NearestFilter,9729:LinearFilter,9984:NearestMipmapNearestFilter,9985:LinearMipmapNearestFilter,9986:NearestMipmapLinearFilter,9987:LinearMipmapLinearFilter},WEBGL_WRAPPINGS={33071:ClampToEdgeWrapping,33648:MirroredRepeatWrapping,10497:RepeatWrapping},WEBGL_TYPE_SIZES={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},ATTRIBUTES={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",TEXCOORD_0:"uv",TEXCOORD_1:"uv2",COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},PATH_PROPERTIES={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},INTERPOLATION={CUBICSPLINE:void 0,LINEAR:InterpolateLinear,STEP:InterpolateDiscrete},ALPHA_MODES={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function createDefaultMaterial(tt){return tt.DefaultMaterial===void 0&&(tt.DefaultMaterial=new MeshStandardMaterial({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:FrontSide})),tt.DefaultMaterial}function addUnknownExtensionsToUserData(tt,et,rt){for(const nt in rt.extensions)tt[nt]===void 0&&(et.userData.gltfExtensions=et.userData.gltfExtensions||{},et.userData.gltfExtensions[nt]=rt.extensions[nt])}function assignExtrasToUserData(tt,et){et.extras!==void 0&&(typeof et.extras=="object"?Object.assign(tt.userData,et.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+et.extras))}function addMorphTargets(tt,et,rt){let nt=!1,it=!1,ot=!1;for(let ct=0,ut=et.length;ct<ut;ct++){const dt=et[ct];if(dt.POSITION!==void 0&&(nt=!0),dt.NORMAL!==void 0&&(it=!0),dt.COLOR_0!==void 0&&(ot=!0),nt&&it&&ot)break}if(!nt&&!it&&!ot)return Promise.resolve(tt);const at=[],st=[],lt=[];for(let ct=0,ut=et.length;ct<ut;ct++){const dt=et[ct];if(nt){const ft=dt.POSITION!==void 0?rt.getDependency("accessor",dt.POSITION):tt.attributes.position;at.push(ft)}if(it){const ft=dt.NORMAL!==void 0?rt.getDependency("accessor",dt.NORMAL):tt.attributes.normal;st.push(ft)}if(ot){const ft=dt.COLOR_0!==void 0?rt.getDependency("accessor",dt.COLOR_0):tt.attributes.color;lt.push(ft)}}return Promise.all([Promise.all(at),Promise.all(st),Promise.all(lt)]).then(function(ct){const ut=ct[0],dt=ct[1],ft=ct[2];return nt&&(tt.morphAttributes.position=ut),it&&(tt.morphAttributes.normal=dt),ot&&(tt.morphAttributes.color=ft),tt.morphTargetsRelative=!0,tt})}function updateMorphTargets(tt,et){if(tt.updateMorphTargets(),et.weights!==void 0)for(let rt=0,nt=et.weights.length;rt<nt;rt++)tt.morphTargetInfluences[rt]=et.weights[rt];if(et.extras&&Array.isArray(et.extras.targetNames)){const rt=et.extras.targetNames;if(tt.morphTargetInfluences.length===rt.length){tt.morphTargetDictionary={};for(let nt=0,it=rt.length;nt<it;nt++)tt.morphTargetDictionary[rt[nt]]=nt}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function createPrimitiveKey(tt){const et=tt.extensions&&tt.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION];let rt;return et?rt="draco:"+et.bufferView+":"+et.indices+":"+createAttributesKey(et.attributes):rt=tt.indices+":"+createAttributesKey(tt.attributes)+":"+tt.mode,rt}function createAttributesKey(tt){let et="";const rt=Object.keys(tt).sort();for(let nt=0,it=rt.length;nt<it;nt++)et+=rt[nt]+":"+tt[rt[nt]]+";";return et}function getNormalizedComponentScale(tt){switch(tt){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function getImageURIMimeType(tt){return tt.search(/\.jpe?g($|\?)/i)>0||tt.search(/^data\:image\/jpeg/)===0?"image/jpeg":tt.search(/\.webp($|\?)/i)>0||tt.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}class GLTFParser{constructor(et={},rt={}){var nt,it;this.json=et,this.extensions={},this.plugins={},this.options=rt,this.cache=new GLTFRegistry,this.associations=new Map,this.primitiveCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};const ot=typeof navigator<"u"&&/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,at=typeof navigator<"u"&&((nt=navigator.userAgent)===null||nt===void 0?void 0:nt.indexOf("Firefox"))>-1,st=typeof navigator<"u"&&at?(it=navigator.userAgent)===null||it===void 0?void 0:it.match(/Firefox\/([0-9]+)\./)[1]:-1;typeof createImageBitmap>"u"||ot||at&&st<98?this.textureLoader=new TextureLoader(this.options.manager):this.textureLoader=new ImageBitmapLoader(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new FileLoader(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(et){this.extensions=et}setPlugins(et){this.plugins=et}parse(et,rt){const nt=this,it=this.json,ot=this.extensions;this.cache.removeAll(),this._invokeAll(function(at){return at._markDefs&&at._markDefs()}),Promise.all(this._invokeAll(function(at){return at.beforeRoot&&at.beforeRoot()})).then(function(){return Promise.all([nt.getDependencies("scene"),nt.getDependencies("animation"),nt.getDependencies("camera")])}).then(function(at){const st={scene:at[0][it.scene||0],scenes:at[0],animations:at[1],cameras:at[2],asset:it.asset,parser:nt,userData:{}};addUnknownExtensionsToUserData(ot,st,it),assignExtrasToUserData(st,it),Promise.all(nt._invokeAll(function(lt){return lt.afterRoot&&lt.afterRoot(st)})).then(function(){et(st)})}).catch(rt)}_markDefs(){const et=this.json.nodes||[],rt=this.json.skins||[],nt=this.json.meshes||[];for(let it=0,ot=rt.length;it<ot;it++){const at=rt[it].joints;for(let st=0,lt=at.length;st<lt;st++)et[at[st]].isBone=!0}for(let it=0,ot=et.length;it<ot;it++){const at=et[it];at.mesh!==void 0&&(this._addNodeRef(this.meshCache,at.mesh),at.skin!==void 0&&(nt[at.mesh].isSkinnedMesh=!0)),at.camera!==void 0&&this._addNodeRef(this.cameraCache,at.camera)}}_addNodeRef(et,rt){rt!==void 0&&(et.refs[rt]===void 0&&(et.refs[rt]=et.uses[rt]=0),et.refs[rt]++)}_getNodeRef(et,rt,nt){if(et.refs[rt]<=1)return nt;const it=nt.clone(),ot=(at,st)=>{const lt=this.associations.get(at);lt!=null&&this.associations.set(st,lt);for(const[ct,ut]of at.children.entries())ot(ut,st.children[ct])};return ot(nt,it),it.name+="_instance_"+et.uses[rt]++,it}_invokeOne(et){const rt=Object.values(this.plugins);rt.push(this);for(let nt=0;nt<rt.length;nt++){const it=et(rt[nt]);if(it)return it}return null}_invokeAll(et){const rt=Object.values(this.plugins);rt.unshift(this);const nt=[];for(let it=0;it<rt.length;it++){const ot=et(rt[it]);ot&&nt.push(ot)}return nt}getDependency(et,rt){const nt=et+":"+rt;let it=this.cache.get(nt);if(!it){switch(et){case"scene":it=this.loadScene(rt);break;case"node":it=this.loadNode(rt);break;case"mesh":it=this._invokeOne(function(ot){return ot.loadMesh&&ot.loadMesh(rt)});break;case"accessor":it=this.loadAccessor(rt);break;case"bufferView":it=this._invokeOne(function(ot){return ot.loadBufferView&&ot.loadBufferView(rt)});break;case"buffer":it=this.loadBuffer(rt);break;case"material":it=this._invokeOne(function(ot){return ot.loadMaterial&&ot.loadMaterial(rt)});break;case"texture":it=this._invokeOne(function(ot){return ot.loadTexture&&ot.loadTexture(rt)});break;case"skin":it=this.loadSkin(rt);break;case"animation":it=this._invokeOne(function(ot){return ot.loadAnimation&&ot.loadAnimation(rt)});break;case"camera":it=this.loadCamera(rt);break;default:throw new Error("Unknown type: "+et)}this.cache.add(nt,it)}return it}getDependencies(et){let rt=this.cache.get(et);if(!rt){const nt=this,it=this.json[et+(et==="mesh"?"es":"s")]||[];rt=Promise.all(it.map(function(ot,at){return nt.getDependency(et,at)})),this.cache.add(et,rt)}return rt}loadBuffer(et){const rt=this.json.buffers[et],nt=this.fileLoader;if(rt.type&&rt.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+rt.type+" buffer type is not supported.");if(rt.uri===void 0&&et===0)return Promise.resolve(this.extensions[EXTENSIONS.KHR_BINARY_GLTF].body);const it=this.options;return new Promise(function(ot,at){nt.load(LoaderUtils.resolveURL(rt.uri,it.path),ot,void 0,function(){at(new Error('THREE.GLTFLoader: Failed to load buffer "'+rt.uri+'".'))})})}loadBufferView(et){const rt=this.json.bufferViews[et];return this.getDependency("buffer",rt.buffer).then(function(nt){const it=rt.byteLength||0,ot=rt.byteOffset||0;return nt.slice(ot,ot+it)})}loadAccessor(et){const rt=this,nt=this.json,it=this.json.accessors[et];if(it.bufferView===void 0&&it.sparse===void 0)return Promise.resolve(null);const ot=[];return it.bufferView!==void 0?ot.push(this.getDependency("bufferView",it.bufferView)):ot.push(null),it.sparse!==void 0&&(ot.push(this.getDependency("bufferView",it.sparse.indices.bufferView)),ot.push(this.getDependency("bufferView",it.sparse.values.bufferView))),Promise.all(ot).then(function(at){const st=at[0],lt=WEBGL_TYPE_SIZES[it.type],ct=WEBGL_COMPONENT_TYPES[it.componentType],ut=ct.BYTES_PER_ELEMENT,dt=ut*lt,ft=it.byteOffset||0,pt=it.bufferView!==void 0?nt.bufferViews[it.bufferView].byteStride:void 0,mt=it.normalized===!0;let ht,gt;if(pt&&pt!==dt){const vt=Math.floor(ft/pt),yt="InterleavedBuffer:"+it.bufferView+":"+it.componentType+":"+vt+":"+it.count;let bt=rt.cache.get(yt);bt||(ht=new ct(st,vt*pt,it.count*pt/ut),bt=new InterleavedBuffer(ht,pt/ut),rt.cache.add(yt,bt)),gt=new InterleavedBufferAttribute(bt,lt,ft%pt/ut,mt)}else st===null?ht=new ct(it.count*lt):ht=new ct(st,ft,it.count*lt),gt=new BufferAttribute(ht,lt,mt);if(it.sparse!==void 0){const vt=WEBGL_TYPE_SIZES.SCALAR,yt=WEBGL_COMPONENT_TYPES[it.sparse.indices.componentType],bt=it.sparse.indices.byteOffset||0,xt=it.sparse.values.byteOffset||0,$t=new yt(at[1],bt,it.sparse.count*vt),Tt=new ct(at[2],xt,it.sparse.count*lt);st!==null&&(gt=new BufferAttribute(gt.array.slice(),gt.itemSize,gt.normalized));for(let wt=0,At=$t.length;wt<At;wt++){const Rt=$t[wt];if(gt.setX(Rt,Tt[wt*lt]),lt>=2&&gt.setY(Rt,Tt[wt*lt+1]),lt>=3&&gt.setZ(Rt,Tt[wt*lt+2]),lt>=4&&gt.setW(Rt,Tt[wt*lt+3]),lt>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return gt})}loadTexture(et){const rt=this.json,nt=this.options,ot=rt.textures[et].source,at=rt.images[ot];let st=this.textureLoader;if(at.uri){const lt=nt.manager.getHandler(at.uri);lt!==null&&(st=lt)}return this.loadTextureImage(et,ot,st)}loadTextureImage(et,rt,nt){const it=this,ot=this.json,at=ot.textures[et],st=ot.images[rt],lt=(st.uri||st.bufferView)+":"+at.sampler;if(this.textureCache[lt])return this.textureCache[lt];const ct=this.loadImageSource(rt,nt).then(function(ut){ut.flipY=!1,at.name&&(ut.name=at.name);const ft=(ot.samplers||{})[at.sampler]||{};return ut.magFilter=WEBGL_FILTERS[ft.magFilter]||LinearFilter,ut.minFilter=WEBGL_FILTERS[ft.minFilter]||LinearMipmapLinearFilter,ut.wrapS=WEBGL_WRAPPINGS[ft.wrapS]||RepeatWrapping,ut.wrapT=WEBGL_WRAPPINGS[ft.wrapT]||RepeatWrapping,it.associations.set(ut,{textures:et}),ut}).catch(function(){return null});return this.textureCache[lt]=ct,ct}loadImageSource(et,rt){const nt=this,it=this.json,ot=this.options;if(this.sourceCache[et]!==void 0)return this.sourceCache[et].then(dt=>dt.clone());const at=it.images[et],st=self.URL||self.webkitURL;let lt=at.uri||"",ct=!1;if(at.bufferView!==void 0)lt=nt.getDependency("bufferView",at.bufferView).then(function(dt){ct=!0;const ft=new Blob([dt],{type:at.mimeType});return lt=st.createObjectURL(ft),lt});else if(at.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+et+" is missing URI and bufferView");const ut=Promise.resolve(lt).then(function(dt){return new Promise(function(ft,pt){let mt=ft;rt.isImageBitmapLoader===!0&&(mt=function(ht){const gt=new Texture(ht);gt.needsUpdate=!0,ft(gt)}),rt.load(LoaderUtils.resolveURL(dt,ot.path),mt,void 0,pt)})}).then(function(dt){return ct===!0&&st.revokeObjectURL(lt),dt.userData.mimeType=at.mimeType||getImageURIMimeType(at.uri),dt}).catch(function(dt){throw console.error("THREE.GLTFLoader: Couldn't load texture",lt),dt});return this.sourceCache[et]=ut,ut}assignTexture(et,rt,nt,it){const ot=this;return this.getDependency("texture",nt.index).then(function(at){if(nt.texCoord!==void 0&&nt.texCoord!=0&&!(rt==="aoMap"&&nt.texCoord==1)&&console.warn("THREE.GLTFLoader: Custom UV set "+nt.texCoord+" for texture "+rt+" not yet supported."),ot.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]){const st=nt.extensions!==void 0?nt.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM]:void 0;if(st){const lt=ot.associations.get(at);at=ot.extensions[EXTENSIONS.KHR_TEXTURE_TRANSFORM].extendTexture(at,st),ot.associations.set(at,lt)}}return it!==void 0&&(at.encoding=it),et[rt]=at,at})}assignFinalMaterial(et){const rt=et.geometry;let nt=et.material;const it=rt.attributes.tangent===void 0,ot=rt.attributes.color!==void 0,at=rt.attributes.normal===void 0;if(et.isPoints){const st="PointsMaterial:"+nt.uuid;let lt=this.cache.get(st);lt||(lt=new PointsMaterial,Material$2.prototype.copy.call(lt,nt),lt.color.copy(nt.color),lt.map=nt.map,lt.sizeAttenuation=!1,this.cache.add(st,lt)),nt=lt}else if(et.isLine){const st="LineBasicMaterial:"+nt.uuid;let lt=this.cache.get(st);lt||(lt=new LineBasicMaterial,Material$2.prototype.copy.call(lt,nt),lt.color.copy(nt.color),this.cache.add(st,lt)),nt=lt}if(it||ot||at){let st="ClonedMaterial:"+nt.uuid+":";nt.isGLTFSpecularGlossinessMaterial&&(st+="specular-glossiness:"),it&&(st+="derivative-tangents:"),ot&&(st+="vertex-colors:"),at&&(st+="flat-shading:");let lt=this.cache.get(st);lt||(lt=nt.clone(),ot&&(lt.vertexColors=!0),at&&(lt.flatShading=!0),it&&(lt.normalScale&&(lt.normalScale.y*=-1),lt.clearcoatNormalScale&&(lt.clearcoatNormalScale.y*=-1)),this.cache.add(st,lt),this.associations.set(lt,this.associations.get(nt))),nt=lt}nt.aoMap&&rt.attributes.uv2===void 0&&rt.attributes.uv!==void 0&&rt.setAttribute("uv2",rt.attributes.uv),et.material=nt}getMaterialType(){return MeshStandardMaterial}loadMaterial(et){const rt=this,nt=this.json,it=this.extensions,ot=nt.materials[et];let at;const st={},lt=ot.extensions||{},ct=[];if(lt[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS]){const dt=it[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS];at=dt.getMaterialType(),ct.push(dt.extendParams(st,ot,rt))}else if(lt[EXTENSIONS.KHR_MATERIALS_UNLIT]){const dt=it[EXTENSIONS.KHR_MATERIALS_UNLIT];at=dt.getMaterialType(),ct.push(dt.extendParams(st,ot,rt))}else{const dt=ot.pbrMetallicRoughness||{};if(st.color=new Color(1,1,1),st.opacity=1,Array.isArray(dt.baseColorFactor)){const ft=dt.baseColorFactor;st.color.fromArray(ft),st.opacity=ft[3]}dt.baseColorTexture!==void 0&&ct.push(rt.assignTexture(st,"map",dt.baseColorTexture,sRGBEncoding)),st.metalness=dt.metallicFactor!==void 0?dt.metallicFactor:1,st.roughness=dt.roughnessFactor!==void 0?dt.roughnessFactor:1,dt.metallicRoughnessTexture!==void 0&&(ct.push(rt.assignTexture(st,"metalnessMap",dt.metallicRoughnessTexture)),ct.push(rt.assignTexture(st,"roughnessMap",dt.metallicRoughnessTexture))),at=this._invokeOne(function(ft){return ft.getMaterialType&&ft.getMaterialType(et)}),ct.push(Promise.all(this._invokeAll(function(ft){return ft.extendMaterialParams&&ft.extendMaterialParams(et,st)})))}ot.doubleSided===!0&&(st.side=DoubleSide);const ut=ot.alphaMode||ALPHA_MODES.OPAQUE;if(ut===ALPHA_MODES.BLEND?(st.transparent=!0,st.depthWrite=!1):(st.transparent=!1,ut===ALPHA_MODES.MASK&&(st.alphaTest=ot.alphaCutoff!==void 0?ot.alphaCutoff:.5)),ot.normalTexture!==void 0&&at!==MeshBasicMaterial&&(ct.push(rt.assignTexture(st,"normalMap",ot.normalTexture)),st.normalScale=new Vector2(1,1),ot.normalTexture.scale!==void 0)){const dt=ot.normalTexture.scale;st.normalScale.set(dt,dt)}return ot.occlusionTexture!==void 0&&at!==MeshBasicMaterial&&(ct.push(rt.assignTexture(st,"aoMap",ot.occlusionTexture)),ot.occlusionTexture.strength!==void 0&&(st.aoMapIntensity=ot.occlusionTexture.strength)),ot.emissiveFactor!==void 0&&at!==MeshBasicMaterial&&(st.emissive=new Color().fromArray(ot.emissiveFactor)),ot.emissiveTexture!==void 0&&at!==MeshBasicMaterial&&ct.push(rt.assignTexture(st,"emissiveMap",ot.emissiveTexture,sRGBEncoding)),Promise.all(ct).then(function(){let dt;return at===GLTFMeshStandardSGMaterial?dt=it[EXTENSIONS.KHR_MATERIALS_PBR_SPECULAR_GLOSSINESS].createMaterial(st):dt=new at(st),ot.name&&(dt.name=ot.name),assignExtrasToUserData(dt,ot),rt.associations.set(dt,{materials:et}),ot.extensions&&addUnknownExtensionsToUserData(it,dt,ot),dt})}createUniqueName(et){const rt=PropertyBinding.sanitizeNodeName(et||"");let nt=rt;for(let it=1;this.nodeNamesUsed[nt];++it)nt=rt+"_"+it;return this.nodeNamesUsed[nt]=!0,nt}loadGeometries(et){const rt=this,nt=this.extensions,it=this.primitiveCache;function ot(st){return nt[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(st,rt).then(function(lt){return addPrimitiveAttributes(lt,st,rt)})}const at=[];for(let st=0,lt=et.length;st<lt;st++){const ct=et[st],ut=createPrimitiveKey(ct),dt=it[ut];if(dt)at.push(dt.promise);else{let ft;ct.extensions&&ct.extensions[EXTENSIONS.KHR_DRACO_MESH_COMPRESSION]?ft=ot(ct):ft=addPrimitiveAttributes(new BufferGeometry,ct,rt),it[ut]={primitive:ct,promise:ft},at.push(ft)}}return Promise.all(at)}loadMesh(et){const rt=this,nt=this.json,it=this.extensions,ot=nt.meshes[et],at=ot.primitives,st=[];for(let lt=0,ct=at.length;lt<ct;lt++){const ut=at[lt].material===void 0?createDefaultMaterial(this.cache):this.getDependency("material",at[lt].material);st.push(ut)}return st.push(rt.loadGeometries(at)),Promise.all(st).then(function(lt){const ct=lt.slice(0,lt.length-1),ut=lt[lt.length-1],dt=[];for(let pt=0,mt=ut.length;pt<mt;pt++){const ht=ut[pt],gt=at[pt];let vt;const yt=ct[pt];if(gt.mode===WEBGL_CONSTANTS.TRIANGLES||gt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP||gt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN||gt.mode===void 0)vt=ot.isSkinnedMesh===!0?new SkinnedMesh(ht,yt):new Mesh(ht,yt),vt.isSkinnedMesh===!0&&!vt.geometry.attributes.skinWeight.normalized&&vt.normalizeSkinWeights(),gt.mode===WEBGL_CONSTANTS.TRIANGLE_STRIP?vt.geometry=toTrianglesDrawMode(vt.geometry,TriangleStripDrawMode):gt.mode===WEBGL_CONSTANTS.TRIANGLE_FAN&&(vt.geometry=toTrianglesDrawMode(vt.geometry,TriangleFanDrawMode));else if(gt.mode===WEBGL_CONSTANTS.LINES)vt=new LineSegments(ht,yt);else if(gt.mode===WEBGL_CONSTANTS.LINE_STRIP)vt=new Line(ht,yt);else if(gt.mode===WEBGL_CONSTANTS.LINE_LOOP)vt=new LineLoop(ht,yt);else if(gt.mode===WEBGL_CONSTANTS.POINTS)vt=new Points(ht,yt);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+gt.mode);Object.keys(vt.geometry.morphAttributes).length>0&&updateMorphTargets(vt,ot),vt.name=rt.createUniqueName(ot.name||"mesh_"+et),assignExtrasToUserData(vt,ot),gt.extensions&&addUnknownExtensionsToUserData(it,vt,gt),rt.assignFinalMaterial(vt),dt.push(vt)}for(let pt=0,mt=dt.length;pt<mt;pt++)rt.associations.set(dt[pt],{meshes:et,primitives:pt});if(dt.length===1)return dt[0];const ft=new Group$2;rt.associations.set(ft,{meshes:et});for(let pt=0,mt=dt.length;pt<mt;pt++)ft.add(dt[pt]);return ft})}loadCamera(et){let rt;const nt=this.json.cameras[et],it=nt[nt.type];if(!it){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return nt.type==="perspective"?rt=new PerspectiveCamera$1(MathUtils.radToDeg(it.yfov),it.aspectRatio||1,it.znear||1,it.zfar||2e6):nt.type==="orthographic"&&(rt=new OrthographicCamera$1(-it.xmag,it.xmag,it.ymag,-it.ymag,it.znear,it.zfar)),nt.name&&(rt.name=this.createUniqueName(nt.name)),assignExtrasToUserData(rt,nt),Promise.resolve(rt)}loadSkin(et){const rt=this.json.skins[et],nt={joints:rt.joints};return rt.inverseBindMatrices===void 0?Promise.resolve(nt):this.getDependency("accessor",rt.inverseBindMatrices).then(function(it){return nt.inverseBindMatrices=it,nt})}loadAnimation(et){const nt=this.json.animations[et],it=[],ot=[],at=[],st=[],lt=[];for(let ct=0,ut=nt.channels.length;ct<ut;ct++){const dt=nt.channels[ct],ft=nt.samplers[dt.sampler],pt=dt.target,mt=pt.node,ht=nt.parameters!==void 0?nt.parameters[ft.input]:ft.input,gt=nt.parameters!==void 0?nt.parameters[ft.output]:ft.output;it.push(this.getDependency("node",mt)),ot.push(this.getDependency("accessor",ht)),at.push(this.getDependency("accessor",gt)),st.push(ft),lt.push(pt)}return Promise.all([Promise.all(it),Promise.all(ot),Promise.all(at),Promise.all(st),Promise.all(lt)]).then(function(ct){const ut=ct[0],dt=ct[1],ft=ct[2],pt=ct[3],mt=ct[4],ht=[];for(let vt=0,yt=ut.length;vt<yt;vt++){const bt=ut[vt],xt=dt[vt],$t=ft[vt],Tt=pt[vt],wt=mt[vt];if(bt===void 0)continue;bt.updateMatrix();let At;switch(PATH_PROPERTIES[wt.path]){case PATH_PROPERTIES.weights:At=NumberKeyframeTrack;break;case PATH_PROPERTIES.rotation:At=QuaternionKeyframeTrack;break;case PATH_PROPERTIES.position:case PATH_PROPERTIES.scale:default:At=VectorKeyframeTrack;break}const Rt=bt.name?bt.name:bt.uuid,It=Tt.interpolation!==void 0?INTERPOLATION[Tt.interpolation]:InterpolateLinear,Lt=[];PATH_PROPERTIES[wt.path]===PATH_PROPERTIES.weights?bt.traverse(function(Nt){Nt.morphTargetInfluences&&Lt.push(Nt.name?Nt.name:Nt.uuid)}):Lt.push(Rt);let Pt=$t.array;if($t.normalized){const Nt=getNormalizedComponentScale(Pt.constructor),Ot=new Float32Array(Pt.length);for(let Bt=0,zt=Pt.length;Bt<zt;Bt++)Ot[Bt]=Pt[Bt]*Nt;Pt=Ot}for(let Nt=0,Ot=Lt.length;Nt<Ot;Nt++){const Bt=new At(Lt[Nt]+"."+PATH_PROPERTIES[wt.path],xt.array,Pt,It);Tt.interpolation==="CUBICSPLINE"&&(Bt.createInterpolant=function(Vt){const Ut=this instanceof QuaternionKeyframeTrack?GLTFCubicSplineQuaternionInterpolant:GLTFCubicSplineInterpolant;return new Ut(this.times,this.values,this.getValueSize()/3,Vt)},Bt.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0),ht.push(Bt)}}const gt=nt.name?nt.name:"animation_"+et;return new AnimationClip(gt,void 0,ht)})}createNodeMesh(et){const rt=this.json,nt=this,it=rt.nodes[et];return it.mesh===void 0?null:nt.getDependency("mesh",it.mesh).then(function(ot){const at=nt._getNodeRef(nt.meshCache,it.mesh,ot);return it.weights!==void 0&&at.traverse(function(st){if(st.isMesh)for(let lt=0,ct=it.weights.length;lt<ct;lt++)st.morphTargetInfluences[lt]=it.weights[lt]}),at})}loadNode(et){const rt=this.json,nt=this.extensions,it=this,ot=rt.nodes[et],at=ot.name?it.createUniqueName(ot.name):"";return function(){const st=[],lt=it._invokeOne(function(ct){return ct.createNodeMesh&&ct.createNodeMesh(et)});return lt&&st.push(lt),ot.camera!==void 0&&st.push(it.getDependency("camera",ot.camera).then(function(ct){return it._getNodeRef(it.cameraCache,ot.camera,ct)})),it._invokeAll(function(ct){return ct.createNodeAttachment&&ct.createNodeAttachment(et)}).forEach(function(ct){st.push(ct)}),Promise.all(st)}().then(function(st){let lt;if(ot.isBone===!0?lt=new Bone:st.length>1?lt=new Group$2:st.length===1?lt=st[0]:lt=new Object3D,lt!==st[0])for(let ct=0,ut=st.length;ct<ut;ct++)lt.add(st[ct]);if(ot.name&&(lt.userData.name=ot.name,lt.name=at),assignExtrasToUserData(lt,ot),ot.extensions&&addUnknownExtensionsToUserData(nt,lt,ot),ot.matrix!==void 0){const ct=new Matrix4;ct.fromArray(ot.matrix),lt.applyMatrix4(ct)}else ot.translation!==void 0&&lt.position.fromArray(ot.translation),ot.rotation!==void 0&&lt.quaternion.fromArray(ot.rotation),ot.scale!==void 0&&lt.scale.fromArray(ot.scale);return it.associations.has(lt)||it.associations.set(lt,{}),it.associations.get(lt).nodes=et,lt})}loadScene(et){const rt=this.json,nt=this.extensions,it=this.json.scenes[et],ot=this,at=new Group$2;it.name&&(at.name=ot.createUniqueName(it.name)),assignExtrasToUserData(at,it),it.extensions&&addUnknownExtensionsToUserData(nt,at,it);const st=it.nodes||[],lt=[];for(let ct=0,ut=st.length;ct<ut;ct++)lt.push(buildNodeHierarchy(st[ct],at,rt,ot));return Promise.all(lt).then(function(){const ct=ut=>{const dt=new Map;for(const[ft,pt]of ot.associations)(ft instanceof Material$2||ft instanceof Texture)&&dt.set(ft,pt);return ut.traverse(ft=>{const pt=ot.associations.get(ft);pt!=null&&dt.set(ft,pt)}),dt};return ot.associations=ct(at),at})}}function buildNodeHierarchy(tt,et,rt,nt){const it=rt.nodes[tt];return nt.getDependency("node",tt).then(function(ot){if(it.skin===void 0)return ot;let at;return nt.getDependency("skin",it.skin).then(function(st){at=st;const lt=[];for(let ct=0,ut=at.joints.length;ct<ut;ct++)lt.push(nt.getDependency("node",at.joints[ct]));return Promise.all(lt)}).then(function(st){return ot.traverse(function(lt){if(!lt.isMesh)return;const ct=[],ut=[];for(let dt=0,ft=st.length;dt<ft;dt++){const pt=st[dt];if(pt){ct.push(pt);const mt=new Matrix4;at.inverseBindMatrices!==void 0&&mt.fromArray(at.inverseBindMatrices.array,dt*16),ut.push(mt)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',at.joints[dt])}lt.bind(new Skeleton(ct,ut),lt.matrixWorld)}),ot})}).then(function(ot){et.add(ot);const at=[];if(it.children){const st=it.children;for(let lt=0,ct=st.length;lt<ct;lt++){const ut=st[lt];at.push(buildNodeHierarchy(ut,ot,rt,nt))}}return Promise.all(at)})}function computeBounds(tt,et,rt){const nt=et.attributes,it=new Box3;if(nt.POSITION!==void 0){const st=rt.json.accessors[nt.POSITION],lt=st.min,ct=st.max;if(lt!==void 0&&ct!==void 0){if(it.set(new Vector3(lt[0],lt[1],lt[2]),new Vector3(ct[0],ct[1],ct[2])),st.normalized){const ut=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[st.componentType]);it.min.multiplyScalar(ut),it.max.multiplyScalar(ut)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const ot=et.targets;if(ot!==void 0){const st=new Vector3,lt=new Vector3;for(let ct=0,ut=ot.length;ct<ut;ct++){const dt=ot[ct];if(dt.POSITION!==void 0){const ft=rt.json.accessors[dt.POSITION],pt=ft.min,mt=ft.max;if(pt!==void 0&&mt!==void 0){if(lt.setX(Math.max(Math.abs(pt[0]),Math.abs(mt[0]))),lt.setY(Math.max(Math.abs(pt[1]),Math.abs(mt[1]))),lt.setZ(Math.max(Math.abs(pt[2]),Math.abs(mt[2]))),ft.normalized){const ht=getNormalizedComponentScale(WEBGL_COMPONENT_TYPES[ft.componentType]);lt.multiplyScalar(ht)}st.max(lt)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}it.expandByVector(st)}tt.boundingBox=it;const at=new Sphere;it.getCenter(at.center),at.radius=it.min.distanceTo(it.max)/2,tt.boundingSphere=at}function addPrimitiveAttributes(tt,et,rt){const nt=et.attributes,it=[];function ot(at,st){return rt.getDependency("accessor",at).then(function(lt){tt.setAttribute(st,lt)})}for(const at in nt){const st=ATTRIBUTES[at]||at.toLowerCase();st in tt.attributes||it.push(ot(nt[at],st))}if(et.indices!==void 0&&!tt.index){const at=rt.getDependency("accessor",et.indices).then(function(st){tt.setIndex(st)});it.push(at)}return assignExtrasToUserData(tt,et),computeBounds(tt,et,rt),Promise.all(it).then(function(){return et.targets!==void 0?addMorphTargets(tt,et.targets,rt):tt})}function toTrianglesDrawMode(tt,et){let rt=tt.getIndex();if(rt===null){const at=[],st=tt.getAttribute("position");if(st!==void 0){for(let lt=0;lt<st.count;lt++)at.push(lt);tt.setIndex(at),rt=tt.getIndex()}else return console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),tt}const nt=rt.count-2,it=[];if(et===TriangleFanDrawMode)for(let at=1;at<=nt;at++)it.push(rt.getX(0)),it.push(rt.getX(at)),it.push(rt.getX(at+1));else for(let at=0;at<nt;at++)at%2===0?(it.push(rt.getX(at)),it.push(rt.getX(at+1)),it.push(rt.getX(at+2))):(it.push(rt.getX(at+2)),it.push(rt.getX(at+1)),it.push(rt.getX(at)));it.length/3!==nt&&console.error("THREE.GLTFLoader.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const ot=tt.clone();return ot.setIndex(it),ot}class TextGeometry extends ExtrudeGeometry{constructor(et,rt={}){const{bevelEnabled:nt=!1,bevelSize:it=8,bevelThickness:ot=10,font:at,height:st=50,size:lt=100,lineHeight:ct=1,letterSpacing:ut=0,...dt}=rt;if(at===void 0)super();else{const ft=at.generateShapes(et,lt,{lineHeight:ct,letterSpacing:ut});super(ft,{...dt,bevelEnabled:nt,bevelSize:it,bevelThickness:ot,depth:st})}this.type="TextGeometry"}}class FontLoader extends Loader$1{constructor(et){super(et)}load(et,rt,nt,it){const ot=new FileLoader(this.manager);ot.setPath(this.path),ot.setRequestHeader(this.requestHeader),ot.setWithCredentials(this.withCredentials),ot.load(et,at=>{if(typeof at!="string")throw new Error("unsupported data type");const st=JSON.parse(at),lt=this.parse(st);rt&&rt(lt)},nt,it)}parse(et){return new Font(et)}}class Font{constructor(et){_defineProperty$5(this,"data",void 0),this.data=et}generateShapes(et,rt=100,nt){const it=[],ot={letterSpacing:0,lineHeight:1,...nt},at=createPaths(et,rt,this.data,ot);for(let st=0,lt=at.length;st<lt;st++)Array.prototype.push.apply(it,at[st].toShapes(!1));return it}}_defineProperty$5(Font,"isFont",void 0);_defineProperty$5(Font,"type",void 0);function createPaths(tt,et,rt,nt){const it=Array.from(tt),ot=et/rt.resolution,at=(rt.boundingBox.yMax-rt.boundingBox.yMin+rt.underlineThickness)*ot,st=[];let lt=0,ct=0;for(let ut=0;ut<it.length;ut++){const dt=it[ut];if(dt===`
`)lt=0,ct-=at*nt.lineHeight;else{const ft=createPath(dt,ot,lt,ct,rt);ft&&(lt+=ft.offsetX+nt.letterSpacing,st.push(ft.path))}}return st}function createPath(tt,et,rt,nt,it){const ot=it.glyphs[tt]||it.glyphs["?"];if(!ot){console.error('THREE.Font: character "'+tt+'" does not exists in font family '+it.familyName+".");return}const at=new ShapePath;let st,lt,ct,ut,dt,ft,pt,mt;if(ot.o){const ht=ot._cachedOutline||(ot._cachedOutline=ot.o.split(" "));for(let gt=0,vt=ht.length;gt<vt;)switch(ht[gt++]){case"m":st=parseInt(ht[gt++])*et+rt,lt=parseInt(ht[gt++])*et+nt,at.moveTo(st,lt);break;case"l":st=parseInt(ht[gt++])*et+rt,lt=parseInt(ht[gt++])*et+nt,at.lineTo(st,lt);break;case"q":ct=parseInt(ht[gt++])*et+rt,ut=parseInt(ht[gt++])*et+nt,dt=parseInt(ht[gt++])*et+rt,ft=parseInt(ht[gt++])*et+nt,at.quadraticCurveTo(dt,ft,ct,ut);break;case"b":ct=parseInt(ht[gt++])*et+rt,ut=parseInt(ht[gt++])*et+nt,dt=parseInt(ht[gt++])*et+rt,ft=parseInt(ht[gt++])*et+nt,pt=parseInt(ht[gt++])*et+rt,mt=parseInt(ht[gt++])*et+nt,at.bezierCurveTo(dt,ft,pt,mt,ct,ut);break}}return{offsetX:ot.ha*et,path:at}}function arrayMap$2(tt,et){for(var rt=-1,nt=tt==null?0:tt.length,it=Array(nt);++rt<nt;)it[rt]=et(tt[rt],rt,tt);return it}var _arrayMap=arrayMap$2,Stack$1=_Stack,baseIsEqual$1=_baseIsEqual,COMPARE_PARTIAL_FLAG$1=1,COMPARE_UNORDERED_FLAG$1=2;function baseIsMatch$1(tt,et,rt,nt){var it=rt.length,ot=it,at=!nt;if(tt==null)return!ot;for(tt=Object(tt);it--;){var st=rt[it];if(at&&st[2]?st[1]!==tt[st[0]]:!(st[0]in tt))return!1}for(;++it<ot;){st=rt[it];var lt=st[0],ct=tt[lt],ut=st[1];if(at&&st[2]){if(ct===void 0&&!(lt in tt))return!1}else{var dt=new Stack$1;if(nt)var ft=nt(ct,ut,lt,tt,et,dt);if(!(ft===void 0?baseIsEqual$1(ut,ct,COMPARE_PARTIAL_FLAG$1|COMPARE_UNORDERED_FLAG$1,nt,dt):ft))return!1}}return!0}var _baseIsMatch=baseIsMatch$1,isObject$c=isObject_1;function isStrictComparable$2(tt){return tt===tt&&!isObject$c(tt)}var _isStrictComparable=isStrictComparable$2,isStrictComparable$1=_isStrictComparable,keys$7=keys_1;function getMatchData$1(tt){for(var et=keys$7(tt),rt=et.length;rt--;){var nt=et[rt],it=tt[nt];et[rt]=[nt,it,isStrictComparable$1(it)]}return et}var _getMatchData=getMatchData$1;function matchesStrictComparable$2(tt,et){return function(rt){return rt==null?!1:rt[tt]===et&&(et!==void 0||tt in Object(rt))}}var _matchesStrictComparable=matchesStrictComparable$2,baseIsMatch=_baseIsMatch,getMatchData=_getMatchData,matchesStrictComparable$1=_matchesStrictComparable;function baseMatches$1(tt){var et=getMatchData(tt);return et.length==1&&et[0][2]?matchesStrictComparable$1(et[0][0],et[0][1]):function(rt){return rt===tt||baseIsMatch(rt,tt,et)}}var _baseMatches=baseMatches$1,isArray$e=isArray_1,isSymbol$6=isSymbol_1,reIsDeepProp=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,reIsPlainProp=/^\w*$/;function isKey$4(tt,et){if(isArray$e(tt))return!1;var rt=typeof tt;return rt=="number"||rt=="symbol"||rt=="boolean"||tt==null||isSymbol$6(tt)?!0:reIsPlainProp.test(tt)||!reIsDeepProp.test(tt)||et!=null&&tt in Object(et)}var _isKey=isKey$4,MapCache=_MapCache,FUNC_ERROR_TEXT="Expected a function";function memoize$1(tt,et){if(typeof tt!="function"||et!=null&&typeof et!="function")throw new TypeError(FUNC_ERROR_TEXT);var rt=function(){var nt=arguments,it=et?et.apply(this,nt):nt[0],ot=rt.cache;if(ot.has(it))return ot.get(it);var at=tt.apply(this,nt);return rt.cache=ot.set(it,at)||ot,at};return rt.cache=new(memoize$1.Cache||MapCache),rt}memoize$1.Cache=MapCache;var memoize_1=memoize$1,memoize=memoize_1,MAX_MEMOIZE_SIZE=500;function memoizeCapped$1(tt){var et=memoize(tt,function(nt){return rt.size===MAX_MEMOIZE_SIZE&&rt.clear(),nt}),rt=et.cache;return et}var _memoizeCapped=memoizeCapped$1,memoizeCapped=_memoizeCapped,rePropName=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,reEscapeChar=/\\(\\)?/g,stringToPath$2=memoizeCapped(function(tt){var et=[];return tt.charCodeAt(0)===46&&et.push(""),tt.replace(rePropName,function(rt,nt,it,ot){et.push(it?ot.replace(reEscapeChar,"$1"):nt||rt)}),et}),_stringToPath=stringToPath$2,Symbol$3=_Symbol,arrayMap$1=_arrayMap,isArray$d=isArray_1,isSymbol$5=isSymbol_1,INFINITY$1=1/0,symbolProto$1=Symbol$3?Symbol$3.prototype:void 0,symbolToString=symbolProto$1?symbolProto$1.toString:void 0;function baseToString$1(tt){if(typeof tt=="string")return tt;if(isArray$d(tt))return arrayMap$1(tt,baseToString$1)+"";if(isSymbol$5(tt))return symbolToString?symbolToString.call(tt):"";var et=tt+"";return et=="0"&&1/tt==-INFINITY$1?"-0":et}var _baseToString=baseToString$1,baseToString=_baseToString;function toString$8(tt){return tt==null?"":baseToString(tt)}var toString_1$4=toString$8,isArray$c=isArray_1,isKey$3=_isKey,stringToPath$1=_stringToPath,toString$7=toString_1$4;function castPath$2(tt,et){return isArray$c(tt)?tt:isKey$3(tt,et)?[tt]:stringToPath$1(toString$7(tt))}var _castPath=castPath$2,isSymbol$4=isSymbol_1,INFINITY=1/0;function toKey$4(tt){if(typeof tt=="string"||isSymbol$4(tt))return tt;var et=tt+"";return et=="0"&&1/tt==-INFINITY?"-0":et}var _toKey=toKey$4,castPath$1=_castPath,toKey$3=_toKey;function baseGet$3(tt,et){et=castPath$1(et,tt);for(var rt=0,nt=et.length;tt!=null&&rt<nt;)tt=tt[toKey$3(et[rt++])];return rt&&rt==nt?tt:void 0}var _baseGet=baseGet$3,baseGet$2=_baseGet;function get$8(tt,et,rt){var nt=tt==null?void 0:baseGet$2(tt,et);return nt===void 0?rt:nt}var get_1=get$8;function baseHasIn$1(tt,et){return tt!=null&&et in Object(tt)}var _baseHasIn=baseHasIn$1,castPath=_castPath,isArguments=isArguments_1,isArray$b=isArray_1,isIndex=_isIndex,isLength=isLength_1,toKey$2=_toKey;function hasPath$1(tt,et,rt){et=castPath(et,tt);for(var nt=-1,it=et.length,ot=!1;++nt<it;){var at=toKey$2(et[nt]);if(!(ot=tt!=null&&rt(tt,at)))break;tt=tt[at]}return ot||++nt!=it?ot:(it=tt==null?0:tt.length,!!it&&isLength(it)&&isIndex(at,it)&&(isArray$b(tt)||isArguments(tt)))}var _hasPath=hasPath$1,baseHasIn=_baseHasIn,hasPath=_hasPath;function hasIn$1(tt,et){return tt!=null&&hasPath(tt,et,baseHasIn)}var hasIn_1=hasIn$1,baseIsEqual=_baseIsEqual,get$7=get_1,hasIn=hasIn_1,isKey$2=_isKey,isStrictComparable=_isStrictComparable,matchesStrictComparable=_matchesStrictComparable,toKey$1=_toKey,COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2;function baseMatchesProperty$1(tt,et){return isKey$2(tt)&&isStrictComparable(et)?matchesStrictComparable(toKey$1(tt),et):function(rt){var nt=get$7(rt,tt);return nt===void 0&&nt===et?hasIn(rt,tt):baseIsEqual(et,nt,COMPARE_PARTIAL_FLAG|COMPARE_UNORDERED_FLAG)}}var _baseMatchesProperty=baseMatchesProperty$1;function identity$2(tt){return tt}var identity_1=identity$2;function baseProperty$1(tt){return function(et){return et==null?void 0:et[tt]}}var _baseProperty=baseProperty$1,baseGet$1=_baseGet;function basePropertyDeep$1(tt){return function(et){return baseGet$1(et,tt)}}var _basePropertyDeep=basePropertyDeep$1,baseProperty=_baseProperty,basePropertyDeep=_basePropertyDeep,isKey$1=_isKey,toKey=_toKey;function property$1(tt){return isKey$1(tt)?baseProperty(toKey(tt)):basePropertyDeep(tt)}var property_1=property$1,baseMatches=_baseMatches,baseMatchesProperty=_baseMatchesProperty,identity$1=identity_1,isArray$a=isArray_1,property=property_1;function baseIteratee$1(tt){return typeof tt=="function"?tt:tt==null?identity$1:typeof tt=="object"?isArray$a(tt)?baseMatchesProperty(tt[0],tt[1]):baseMatches(tt):property(tt)}var _baseIteratee=baseIteratee$1;function createBaseFor$1(tt){return function(et,rt,nt){for(var it=-1,ot=Object(et),at=nt(et),st=at.length;st--;){var lt=at[tt?st:++it];if(rt(ot[lt],lt,ot)===!1)break}return et}}var _createBaseFor=createBaseFor$1,createBaseFor=_createBaseFor,baseFor$1=createBaseFor(),_baseFor=baseFor$1,baseFor=_baseFor,keys$6=keys_1;function baseForOwn$2(tt,et){return tt&&baseFor(tt,et,keys$6)}var _baseForOwn=baseForOwn$2,isArrayLike$2=isArrayLike_1;function createBaseEach$1(tt,et){return function(rt,nt){if(rt==null)return rt;if(!isArrayLike$2(rt))return tt(rt,nt);for(var it=rt.length,ot=et?it:-1,at=Object(rt);(et?ot--:++ot<it)&&nt(at[ot],ot,at)!==!1;);return rt}}var _createBaseEach=createBaseEach$1,baseForOwn$1=_baseForOwn,createBaseEach=_createBaseEach,baseEach$1=createBaseEach(baseForOwn$1),_baseEach=baseEach$1,baseEach=_baseEach,isArrayLike$1=isArrayLike_1;function baseMap$1(tt,et){var rt=-1,nt=isArrayLike$1(tt)?Array(tt.length):[];return baseEach(tt,function(it,ot,at){nt[++rt]=et(it,ot,at)}),nt}var _baseMap=baseMap$1,arrayMap=_arrayMap,baseIteratee=_baseIteratee,baseMap=_baseMap,isArray$9=isArray_1;function map(tt,et){var rt=isArray$9(tt)?arrayMap:baseMap;return rt(tt,baseIteratee(et))}var map_1=map;function arrayEach$1(tt,et){for(var rt=-1,nt=tt==null?0:tt.length;++rt<nt&&et(tt[rt],rt,tt)!==!1;);return tt}var _arrayEach=arrayEach$1,identity=identity_1;function castFunction$1(tt){return typeof tt=="function"?tt:identity}var _castFunction=castFunction$1,getNative=_getNative,defineProperty$6=function(){try{var tt=getNative(Object,"defineProperty");return tt({},"",{}),tt}catch{}}(),_defineProperty$1=defineProperty$6,defineProperty$5=_defineProperty$1;function baseAssignValue$2(tt,et,rt){et=="__proto__"&&defineProperty$5?defineProperty$5(tt,et,{configurable:!0,enumerable:!0,value:rt,writable:!0}):tt[et]=rt}var _baseAssignValue=baseAssignValue$2,baseAssignValue$1=_baseAssignValue,eq=eq_1,objectProto$3=Object.prototype,hasOwnProperty$7=objectProto$3.hasOwnProperty;function assignValue$2(tt,et,rt){var nt=tt[et];(!(hasOwnProperty$7.call(tt,et)&&eq(nt,rt))||rt===void 0&&!(et in tt))&&baseAssignValue$1(tt,et,rt)}var _assignValue=assignValue$2,assignValue$1=_assignValue,baseAssignValue=_baseAssignValue;function copyObject$4(tt,et,rt,nt){var it=!rt;rt||(rt={});for(var ot=-1,at=et.length;++ot<at;){var st=et[ot],lt=nt?nt(rt[st],tt[st],st,rt,tt):void 0;lt===void 0&&(lt=tt[st]),it?baseAssignValue(rt,st,lt):assignValue$1(rt,st,lt)}return rt}var _copyObject=copyObject$4,copyObject$3=_copyObject,keys$5=keys_1;function baseAssign$1(tt,et){return tt&&copyObject$3(et,keys$5(et),tt)}var _baseAssign=baseAssign$1;function nativeKeysIn$1(tt){var et=[];if(tt!=null)for(var rt in Object(tt))et.push(rt);return et}var _nativeKeysIn=nativeKeysIn$1,isObject$b=isObject_1,isPrototype$1=_isPrototype,nativeKeysIn=_nativeKeysIn,objectProto$2=Object.prototype,hasOwnProperty$6=objectProto$2.hasOwnProperty;function baseKeysIn$1(tt){if(!isObject$b(tt))return nativeKeysIn(tt);var et=isPrototype$1(tt),rt=[];for(var nt in tt)nt=="constructor"&&(et||!hasOwnProperty$6.call(tt,nt))||rt.push(nt);return rt}var _baseKeysIn=baseKeysIn$1,arrayLikeKeys=_arrayLikeKeys,baseKeysIn=_baseKeysIn,isArrayLike=isArrayLike_1;function keysIn$3(tt){return isArrayLike(tt)?arrayLikeKeys(tt,!0):baseKeysIn(tt)}var keysIn_1=keysIn$3,copyObject$2=_copyObject,keysIn$2=keysIn_1;function baseAssignIn$1(tt,et){return tt&&copyObject$2(et,keysIn$2(et),tt)}var _baseAssignIn=baseAssignIn$1,_cloneBufferExports={},_cloneBuffer={get exports(){return _cloneBufferExports},set exports(tt){_cloneBufferExports=tt}};(function(tt,et){var rt=_root,nt=et&&!et.nodeType&&et,it=nt&&!0&&tt&&!tt.nodeType&&tt,ot=it&&it.exports===nt,at=ot?rt.Buffer:void 0,st=at?at.allocUnsafe:void 0;function lt(ct,ut){if(ut)return ct.slice();var dt=ct.length,ft=st?st(dt):new ct.constructor(dt);return ct.copy(ft),ft}tt.exports=lt})(_cloneBuffer,_cloneBufferExports);function copyArray$1(tt,et){var rt=-1,nt=tt.length;for(et||(et=Array(nt));++rt<nt;)et[rt]=tt[rt];return et}var _copyArray=copyArray$1,copyObject$1=_copyObject,getSymbols$1=_getSymbols;function copySymbols$1(tt,et){return copyObject$1(tt,getSymbols$1(tt),et)}var _copySymbols=copySymbols$1,overArg=_overArg,getPrototype$3=overArg(Object.getPrototypeOf,Object),_getPrototype=getPrototype$3,arrayPush=_arrayPush,getPrototype$2=_getPrototype,getSymbols=_getSymbols,stubArray=stubArray_1,nativeGetSymbols=Object.getOwnPropertySymbols,getSymbolsIn$2=nativeGetSymbols?function(tt){for(var et=[];tt;)arrayPush(et,getSymbols(tt)),tt=getPrototype$2(tt);return et}:stubArray,_getSymbolsIn=getSymbolsIn$2,copyObject=_copyObject,getSymbolsIn$1=_getSymbolsIn;function copySymbolsIn$1(tt,et){return copyObject(tt,getSymbolsIn$1(tt),et)}var _copySymbolsIn=copySymbolsIn$1,baseGetAllKeys=_baseGetAllKeys,getSymbolsIn=_getSymbolsIn,keysIn$1=keysIn_1;function getAllKeysIn$1(tt){return baseGetAllKeys(tt,keysIn$1,getSymbolsIn)}var _getAllKeysIn=getAllKeysIn$1,objectProto$1=Object.prototype,hasOwnProperty$5=objectProto$1.hasOwnProperty;function initCloneArray$1(tt){var et=tt.length,rt=new tt.constructor(et);return et&&typeof tt[0]=="string"&&hasOwnProperty$5.call(tt,"index")&&(rt.index=tt.index,rt.input=tt.input),rt}var _initCloneArray=initCloneArray$1,Uint8Array$1=_Uint8Array;function cloneArrayBuffer$3(tt){var et=new tt.constructor(tt.byteLength);return new Uint8Array$1(et).set(new Uint8Array$1(tt)),et}var _cloneArrayBuffer=cloneArrayBuffer$3,cloneArrayBuffer$2=_cloneArrayBuffer;function cloneDataView$1(tt,et){var rt=et?cloneArrayBuffer$2(tt.buffer):tt.buffer;return new tt.constructor(rt,tt.byteOffset,tt.byteLength)}var _cloneDataView=cloneDataView$1,reFlags=/\w*$/;function cloneRegExp$1(tt){var et=new tt.constructor(tt.source,reFlags.exec(tt));return et.lastIndex=tt.lastIndex,et}var _cloneRegExp=cloneRegExp$1,Symbol$2=_Symbol,symbolProto=Symbol$2?Symbol$2.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function cloneSymbol$1(tt){return symbolValueOf?Object(symbolValueOf.call(tt)):{}}var _cloneSymbol=cloneSymbol$1,cloneArrayBuffer$1=_cloneArrayBuffer;function cloneTypedArray$1(tt,et){var rt=et?cloneArrayBuffer$1(tt.buffer):tt.buffer;return new tt.constructor(rt,tt.byteOffset,tt.length)}var _cloneTypedArray=cloneTypedArray$1,cloneArrayBuffer=_cloneArrayBuffer,cloneDataView=_cloneDataView,cloneRegExp=_cloneRegExp,cloneSymbol=_cloneSymbol,cloneTypedArray=_cloneTypedArray,boolTag$1="[object Boolean]",dateTag$1="[object Date]",mapTag$2="[object Map]",numberTag$1="[object Number]",regexpTag$1="[object RegExp]",setTag$2="[object Set]",stringTag$2="[object String]",symbolTag$1="[object Symbol]",arrayBufferTag$1="[object ArrayBuffer]",dataViewTag$1="[object DataView]",float32Tag$1="[object Float32Array]",float64Tag$1="[object Float64Array]",int8Tag$1="[object Int8Array]",int16Tag$1="[object Int16Array]",int32Tag$1="[object Int32Array]",uint8Tag$1="[object Uint8Array]",uint8ClampedTag$1="[object Uint8ClampedArray]",uint16Tag$1="[object Uint16Array]",uint32Tag$1="[object Uint32Array]";function initCloneByTag$1(tt,et,rt){var nt=tt.constructor;switch(et){case arrayBufferTag$1:return cloneArrayBuffer(tt);case boolTag$1:case dateTag$1:return new nt(+tt);case dataViewTag$1:return cloneDataView(tt,rt);case float32Tag$1:case float64Tag$1:case int8Tag$1:case int16Tag$1:case int32Tag$1:case uint8Tag$1:case uint8ClampedTag$1:case uint16Tag$1:case uint32Tag$1:return cloneTypedArray(tt,rt);case mapTag$2:return new nt;case numberTag$1:case stringTag$2:return new nt(tt);case regexpTag$1:return cloneRegExp(tt);case setTag$2:return new nt;case symbolTag$1:return cloneSymbol(tt)}}var _initCloneByTag=initCloneByTag$1,isObject$a=isObject_1,objectCreate$4=Object.create,baseCreate$1=function(){function tt(){}return function(et){if(!isObject$a(et))return{};if(objectCreate$4)return objectCreate$4(et);tt.prototype=et;var rt=new tt;return tt.prototype=void 0,rt}}(),_baseCreate=baseCreate$1,baseCreate=_baseCreate,getPrototype$1=_getPrototype,isPrototype=_isPrototype;function initCloneObject$1(tt){return typeof tt.constructor=="function"&&!isPrototype(tt)?baseCreate(getPrototype$1(tt)):{}}var _initCloneObject=initCloneObject$1,getTag$2=_getTag,isObjectLike$3=isObjectLike_1,mapTag$1="[object Map]";function baseIsMap$1(tt){return isObjectLike$3(tt)&&getTag$2(tt)==mapTag$1}var _baseIsMap=baseIsMap$1,baseIsMap=_baseIsMap,baseUnary$1=_baseUnary,nodeUtil$1=_nodeUtilExports,nodeIsMap=nodeUtil$1&&nodeUtil$1.isMap,isMap$1=nodeIsMap?baseUnary$1(nodeIsMap):baseIsMap,isMap_1=isMap$1,getTag$1=_getTag,isObjectLike$2=isObjectLike_1,setTag$1="[object Set]";function baseIsSet$1(tt){return isObjectLike$2(tt)&&getTag$1(tt)==setTag$1}var _baseIsSet=baseIsSet$1,baseIsSet=_baseIsSet,baseUnary=_baseUnary,nodeUtil=_nodeUtilExports,nodeIsSet=nodeUtil&&nodeUtil.isSet,isSet$1=nodeIsSet?baseUnary(nodeIsSet):baseIsSet,isSet_1=isSet$1,Stack=_Stack,arrayEach=_arrayEach,assignValue=_assignValue,baseAssign=_baseAssign,baseAssignIn=_baseAssignIn,cloneBuffer=_cloneBufferExports,copyArray=_copyArray,copySymbols=_copySymbols,copySymbolsIn=_copySymbolsIn,getAllKeys=_getAllKeys,getAllKeysIn=_getAllKeysIn,getTag=_getTag,initCloneArray=_initCloneArray,initCloneByTag=_initCloneByTag,initCloneObject=_initCloneObject,isArray$8=isArray_1,isBuffer$1=isBufferExports,isMap=isMap_1,isObject$9=isObject_1,isSet=isSet_1,keys$4=keys_1,keysIn=keysIn_1,CLONE_DEEP_FLAG$1=1,CLONE_FLAT_FLAG=2,CLONE_SYMBOLS_FLAG$1=4,argsTag="[object Arguments]",arrayTag="[object Array]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",objectTag$1="[object Object]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag$1="[object String]",symbolTag="[object Symbol]",weakMapTag="[object WeakMap]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",float32Tag="[object Float32Array]",float64Tag="[object Float64Array]",int8Tag="[object Int8Array]",int16Tag="[object Int16Array]",int32Tag="[object Int32Array]",uint8Tag="[object Uint8Array]",uint8ClampedTag="[object Uint8ClampedArray]",uint16Tag="[object Uint16Array]",uint32Tag="[object Uint32Array]",cloneableTags={};cloneableTags[argsTag]=cloneableTags[arrayTag]=cloneableTags[arrayBufferTag]=cloneableTags[dataViewTag]=cloneableTags[boolTag]=cloneableTags[dateTag]=cloneableTags[float32Tag]=cloneableTags[float64Tag]=cloneableTags[int8Tag]=cloneableTags[int16Tag]=cloneableTags[int32Tag]=cloneableTags[mapTag]=cloneableTags[numberTag]=cloneableTags[objectTag$1]=cloneableTags[regexpTag]=cloneableTags[setTag]=cloneableTags[stringTag$1]=cloneableTags[symbolTag]=cloneableTags[uint8Tag]=cloneableTags[uint8ClampedTag]=cloneableTags[uint16Tag]=cloneableTags[uint32Tag]=!0;cloneableTags[errorTag]=cloneableTags[funcTag]=cloneableTags[weakMapTag]=!1;function baseClone$1(tt,et,rt,nt,it,ot){var at,st=et&CLONE_DEEP_FLAG$1,lt=et&CLONE_FLAT_FLAG,ct=et&CLONE_SYMBOLS_FLAG$1;if(rt&&(at=it?rt(tt,nt,it,ot):rt(tt)),at!==void 0)return at;if(!isObject$9(tt))return tt;var ut=isArray$8(tt);if(ut){if(at=initCloneArray(tt),!st)return copyArray(tt,at)}else{var dt=getTag(tt),ft=dt==funcTag||dt==genTag;if(isBuffer$1(tt))return cloneBuffer(tt,st);if(dt==objectTag$1||dt==argsTag||ft&&!it){if(at=lt||ft?{}:initCloneObject(tt),!st)return lt?copySymbolsIn(tt,baseAssignIn(at,tt)):copySymbols(tt,baseAssign(at,tt))}else{if(!cloneableTags[dt])return it?tt:{};at=initCloneByTag(tt,dt,st)}}ot||(ot=new Stack);var pt=ot.get(tt);if(pt)return pt;ot.set(tt,at),isSet(tt)?tt.forEach(function(gt){at.add(baseClone$1(gt,et,rt,gt,tt,ot))}):isMap(tt)&&tt.forEach(function(gt,vt){at.set(vt,baseClone$1(gt,et,rt,vt,tt,ot))});var mt=ct?lt?getAllKeysIn:getAllKeys:lt?keysIn:keys$4,ht=ut?void 0:mt(tt);return arrayEach(ht||tt,function(gt,vt){ht&&(vt=gt,gt=tt[vt]),assignValue(at,vt,baseClone$1(gt,et,rt,vt,tt,ot))}),at}var _baseClone=baseClone$1,baseGetTag$1=_baseGetTag,isArray$7=isArray_1,isObjectLike$1=isObjectLike_1,stringTag="[object String]";function isString$8(tt){return typeof tt=="string"||!isArray$7(tt)&&isObjectLike$1(tt)&&baseGetTag$1(tt)==stringTag}var isString_1=isString$8;class RGBELoader extends DataTextureLoader{constructor(et){super(et),this.type=HalfFloatType}parse(et){const st=function(bt,xt){switch(bt){case 1:console.error("THREE.RGBELoader Read Error: "+(xt||""));break;case 2:console.error("THREE.RGBELoader Write Error: "+(xt||""));break;case 3:console.error("THREE.RGBELoader Bad File Format: "+(xt||""));break;default:case 4:console.error("THREE.RGBELoader: Error: "+(xt||""))}return-1},dt=`
`,ft=function(bt,xt,$t){xt=xt||1024;let wt=bt.pos,At=-1,Rt=0,It="",Lt=String.fromCharCode.apply(null,new Uint16Array(bt.subarray(wt,wt+128)));for(;0>(At=Lt.indexOf(dt))&&Rt<xt&&wt<bt.byteLength;)It+=Lt,Rt+=Lt.length,wt+=128,Lt+=String.fromCharCode.apply(null,new Uint16Array(bt.subarray(wt,wt+128)));return-1<At?($t!==!1&&(bt.pos+=Rt+At+1),It+Lt.slice(0,At)):!1},pt=function(bt){const xt=/^#\?(\S+)/,$t=/^\s*GAMMA\s*=\s*(\d+(\.\d+)?)\s*$/,Tt=/^\s*EXPOSURE\s*=\s*(\d+(\.\d+)?)\s*$/,wt=/^\s*FORMAT=(\S+)\s*$/,At=/^\s*\-Y\s+(\d+)\s+\+X\s+(\d+)\s*$/,Rt={valid:0,string:"",comments:"",programtype:"RGBE",format:"",gamma:1,exposure:1,width:0,height:0};let It,Lt;if(bt.pos>=bt.byteLength||!(It=ft(bt)))return st(1,"no header found");if(!(Lt=It.match(xt)))return st(3,"bad initial token");for(Rt.valid|=1,Rt.programtype=Lt[1],Rt.string+=It+`
`;It=ft(bt),It!==!1;){if(Rt.string+=It+`
`,It.charAt(0)==="#"){Rt.comments+=It+`
`;continue}if((Lt=It.match($t))&&(Rt.gamma=parseFloat(Lt[1])),(Lt=It.match(Tt))&&(Rt.exposure=parseFloat(Lt[1])),(Lt=It.match(wt))&&(Rt.valid|=2,Rt.format=Lt[1]),(Lt=It.match(At))&&(Rt.valid|=4,Rt.height=parseInt(Lt[1],10),Rt.width=parseInt(Lt[2],10)),Rt.valid&2&&Rt.valid&4)break}return Rt.valid&2?Rt.valid&4?Rt:st(3,"missing image size specifier"):st(3,"missing format specifier")},mt=function(bt,xt,$t){const Tt=xt;if(Tt<8||Tt>32767||bt[0]!==2||bt[1]!==2||bt[2]&128)return new Uint8Array(bt);if(Tt!==(bt[2]<<8|bt[3]))return st(3,"wrong scanline width");const wt=new Uint8Array(4*xt*$t);if(!wt.length)return st(4,"unable to allocate buffer space");let At=0,Rt=0;const It=4*Tt,Lt=new Uint8Array(4),Pt=new Uint8Array(It);let Nt=$t;for(;Nt>0&&Rt<bt.byteLength;){if(Rt+4>bt.byteLength)return st(1);if(Lt[0]=bt[Rt++],Lt[1]=bt[Rt++],Lt[2]=bt[Rt++],Lt[3]=bt[Rt++],Lt[0]!=2||Lt[1]!=2||(Lt[2]<<8|Lt[3])!=Tt)return st(3,"bad rgbe scanline format");let Ot=0,Bt;for(;Ot<It&&Rt<bt.byteLength;){Bt=bt[Rt++];const Vt=Bt>128;if(Vt&&(Bt-=128),Bt===0||Ot+Bt>It)return st(3,"bad scanline data");if(Vt){const Ut=bt[Rt++];for(let jt=0;jt<Bt;jt++)Pt[Ot++]=Ut}else Pt.set(bt.subarray(Rt,Rt+Bt),Ot),Ot+=Bt,Rt+=Bt}const zt=Tt;for(let Vt=0;Vt<zt;Vt++){let Ut=0;wt[At]=Pt[Vt+Ut],Ut+=Tt,wt[At+1]=Pt[Vt+Ut],Ut+=Tt,wt[At+2]=Pt[Vt+Ut],Ut+=Tt,wt[At+3]=Pt[Vt+Ut],At+=4}Nt--}return wt},ht=function(bt,xt,$t,Tt){const wt=bt[xt+3],At=Math.pow(2,wt-128)/255;$t[Tt+0]=bt[xt+0]*At,$t[Tt+1]=bt[xt+1]*At,$t[Tt+2]=bt[xt+2]*At,$t[Tt+3]=1},gt=function(bt,xt,$t,Tt){const wt=bt[xt+3],At=Math.pow(2,wt-128)/255;$t[Tt+0]=DataUtils.toHalfFloat(Math.min(bt[xt+0]*At,65504)),$t[Tt+1]=DataUtils.toHalfFloat(Math.min(bt[xt+1]*At,65504)),$t[Tt+2]=DataUtils.toHalfFloat(Math.min(bt[xt+2]*At,65504)),$t[Tt+3]=DataUtils.toHalfFloat(1)},vt=new Uint8Array(et);vt.pos=0;const yt=pt(vt);if(yt!==-1){const bt=yt.width,xt=yt.height,$t=mt(vt.subarray(vt.pos),bt,xt);if($t!==-1){let Tt,wt,At;switch(this.type){case FloatType:At=$t.length/4;const Rt=new Float32Array(At*4);for(let Lt=0;Lt<At;Lt++)ht($t,Lt*4,Rt,Lt*4);Tt=Rt,wt=FloatType;break;case HalfFloatType:At=$t.length/4;const It=new Uint16Array(At*4);for(let Lt=0;Lt<At;Lt++)gt($t,Lt*4,It,Lt*4);Tt=It,wt=HalfFloatType;break;default:console.error("THREE.RGBELoader: unsupported type: ",this.type);break}return{width:bt,height:xt,data:Tt,header:yt.string,gamma:yt.gamma,exposure:yt.exposure,type:wt}}}return null}setDataType(et){return this.type=et,this}load(et,rt,nt,it){function ot(at,st){switch(at.type){case FloatType:case HalfFloatType:at.encoding=LinearEncoding,at.minFilter=LinearFilter,at.magFilter=LinearFilter,at.generateMipmaps=!1,at.flipY=!0;break}rt&&rt(at,st)}return super.load(et,ot,nt,it)}}const _taskCache=new WeakMap;class DRACOLoader extends Loader$1{constructor(et){super(et),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(et){return this.decoderPath=et,this}setDecoderConfig(et){return this.decoderConfig=et,this}setWorkerLimit(et){return this.workerLimit=et,this}load(et,rt,nt,it){const ot=new FileLoader(this.manager);ot.setPath(this.path),ot.setResponseType("arraybuffer"),ot.setRequestHeader(this.requestHeader),ot.setWithCredentials(this.withCredentials),ot.load(et,at=>{const st={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(at,st).then(rt).catch(it)},nt,it)}decodeDracoFile(et,rt,nt,it){const ot={attributeIDs:nt||this.defaultAttributeIDs,attributeTypes:it||this.defaultAttributeTypes,useUniqueIDs:!!nt};this.decodeGeometry(et,ot).then(rt)}decodeGeometry(et,rt){for(const lt in rt.attributeTypes){const ct=rt.attributeTypes[lt];ct.BYTES_PER_ELEMENT!==void 0&&(rt.attributeTypes[lt]=ct.name)}const nt=JSON.stringify(rt);if(_taskCache.has(et)){const lt=_taskCache.get(et);if(lt.key===nt)return lt.promise;if(et.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let it;const ot=this.workerNextTaskID++,at=et.byteLength,st=this._getWorker(ot,at).then(lt=>(it=lt,new Promise((ct,ut)=>{it._callbacks[ot]={resolve:ct,reject:ut},it.postMessage({type:"decode",id:ot,taskConfig:rt,buffer:et},[et])}))).then(lt=>this._createGeometry(lt.geometry));return st.catch(()=>!0).then(()=>{it&&ot&&this._releaseTask(it,ot)}),_taskCache.set(et,{key:nt,promise:st}),st}_createGeometry(et){const rt=new BufferGeometry;et.index&&rt.setIndex(new BufferAttribute(et.index.array,1));for(let nt=0;nt<et.attributes.length;nt++){const it=et.attributes[nt],ot=it.name,at=it.array,st=it.itemSize;rt.setAttribute(ot,new BufferAttribute(at,st))}return rt}_loadLibrary(et,rt){const nt=new FileLoader(this.manager);return nt.setPath(this.decoderPath),nt.setResponseType(rt),nt.setWithCredentials(this.withCredentials),new Promise((it,ot)=>{nt.load(et,it,void 0,ot)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const et=typeof WebAssembly!="object"||this.decoderConfig.type==="js",rt=[];return et?rt.push(this._loadLibrary("draco_decoder.js","text")):(rt.push(this._loadLibrary("draco_wasm_wrapper.js","text")),rt.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(rt).then(nt=>{const it=nt[0];et||(this.decoderConfig.wasmBinary=nt[1]);const ot=DRACOWorker.toString(),at=["/* draco decoder */",it,"","/* worker */",ot.substring(ot.indexOf("{")+1,ot.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([at]))}),this.decoderPending}_getWorker(et,rt){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const it=new Worker(this.workerSourceURL);it._callbacks={},it._taskCosts={},it._taskLoad=0,it.postMessage({type:"init",decoderConfig:this.decoderConfig}),it.onmessage=function(ot){const at=ot.data;switch(at.type){case"decode":it._callbacks[at.id].resolve(at);break;case"error":it._callbacks[at.id].reject(at);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+at.type+'"')}},this.workerPool.push(it)}else this.workerPool.sort(function(it,ot){return it._taskLoad>ot._taskLoad?-1:1});const nt=this.workerPool[this.workerPool.length-1];return nt._taskCosts[et]=rt,nt._taskLoad+=rt,nt})}_releaseTask(et,rt){et._taskLoad-=et._taskCosts[rt],delete et._callbacks[rt],delete et._taskCosts[rt]}debug(){this.workerPool.map(et=>et._taskLoad)}dispose(){for(let et=0;et<this.workerPool.length;++et)this.workerPool[et].terminate();return this.workerPool.length=0,this}}function DRACOWorker(){let tt,et;onmessage=function(at){const st=at.data;switch(st.type){case"init":tt=st.decoderConfig,et=new Promise(function(ut){tt.onModuleLoaded=function(dt){ut({draco:dt})},DracoDecoderModule(tt)});break;case"decode":const lt=st.buffer,ct=st.taskConfig;et.then(ut=>{const dt=ut.draco,ft=new dt.Decoder,pt=new dt.DecoderBuffer;pt.Init(new Int8Array(lt),lt.byteLength);try{const mt=rt(dt,ft,pt,ct),ht=mt.attributes.map(gt=>gt.array.buffer);mt.index&&ht.push(mt.index.array.buffer),self.postMessage({type:"decode",id:st.id,geometry:mt},ht)}catch(mt){console.error(mt),self.postMessage({type:"error",id:st.id,error:mt.message})}finally{dt.destroy(pt),dt.destroy(ft)}});break}};function rt(at,st,lt,ct){const ut=ct.attributeIDs,dt=ct.attributeTypes;let ft,pt;const mt=st.GetEncodedGeometryType(lt);if(mt===at.TRIANGULAR_MESH)ft=new at.Mesh,pt=st.DecodeBufferToMesh(lt,ft);else if(mt===at.POINT_CLOUD)ft=new at.PointCloud,pt=st.DecodeBufferToPointCloud(lt,ft);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!pt.ok()||ft.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+pt.error_msg());const ht={index:null,attributes:[]};for(const gt in ut){const vt=self[dt[gt]];let yt,bt;if(ct.useUniqueIDs)bt=ut[gt],yt=st.GetAttributeByUniqueId(ft,bt);else{if(bt=st.GetAttributeId(ft,at[ut[gt]]),bt===-1)continue;yt=st.GetAttribute(ft,bt)}ht.attributes.push(it(at,st,ft,gt,vt,yt))}return mt===at.TRIANGULAR_MESH&&(ht.index=nt(at,st,ft)),at.destroy(ft),ht}function nt(at,st,lt){const ut=lt.num_faces()*3,dt=ut*4,ft=at._malloc(dt);st.GetTrianglesUInt32Array(lt,dt,ft);const pt=new Uint32Array(at.HEAPF32.buffer,ft,ut).slice();return at._free(ft),{array:pt,itemSize:1}}function it(at,st,lt,ct,ut,dt){const ft=dt.num_components(),mt=lt.num_points()*ft,ht=mt*ut.BYTES_PER_ELEMENT,gt=ot(at,ut),vt=at._malloc(ht);st.GetAttributeDataArrayForAllPoints(lt,dt,gt,ht,vt);const yt=new ut(at.HEAPF32.buffer,vt,mt).slice();return at._free(vt),{name:ct,array:yt,itemSize:ft}}function ot(at,st){switch(st){case Float32Array:return at.DT_FLOAT32;case Int8Array:return at.DT_INT8;case Int16Array:return at.DT_INT16;case Int32Array:return at.DT_INT32;case Uint8Array:return at.DT_UINT8;case Uint16Array:return at.DT_UINT16;case Uint32Array:return at.DT_UINT32}}}let generated;const MeshoptDecoder=()=>{if(generated)return generated;const tt="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",et="B9h9z9tFBBBFiI9gBB9gLaaaaaFa9gEaaaB9gFaFaEMcBBFBFFGGGEILF9wFFFLEFBFKNFaFCx/aFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBG8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBIy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBKi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBOn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBNI9z9iqlBVc+N9IcIBTEM9+FLa8jUUUUBCTlRBCBRFEXCBRGCBREEXABCNJAGJAECUaAFAGrCFZHIy86BBAEAIJREAGCFJHGCN9HQBMAFCx+YUUBJAE86BBAFCEWCxkUUBJAB8pEN83EBAFCFJHFCUG9HQBMMk8lLbaE97F9+FaL978jUUUUBCU/KBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAG/8cBBCUoBAG9uC/wgBZHKCUGAKCUG9JyRNAECFJRKCBRVGXEXAVAF9PQFANAFAVlAVANJAF9JyRcGXGXAG9FQBAcCbJHIC9wZHMCE9sRSAMCFWRQAICIrCEJCGrRfCBRbEXAKRTCBRtGXEXGXAOATlAf9PQBCBRKSLMALCU/CBJAtAM9sJRmATAfJRKCBREGXAMCoB9JQBAOAKlC/gB9JQBCBRIEXAmAIJREGXGXGXGXGXATAICKrJ2BBHYCEZfIBFGEBMAECBDtDMIBSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIBAKCTJRKMGXGXGXGXGXAYCGrCEZfIBFGEBMAECBDtDMITSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMITAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMITAKCTJRKMGXGXGXGXGXAYCIrCEZfIBFGEBMAECBDtDMIASEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIAAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAEAKDBBBDMIAAKCTJRKMGXGXGXGXGXAYCKrfIBFGEBMAECBDtDMI8wSEMAEAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCIJAeDeBJAYCx+YUUBJ2BBJRKSGMAEAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHYCEWCxkUUBJDBEBAYCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHYCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMI8wAKCNJAeDeBJAYCx+YUUBJ2BBJRKSFMAEAKDBBBDMI8wAKCTJRKMAICoBJREAICUFJAM9LQFAERIAOAKlC/fB9LQBMMGXAEAM9PQBAECErRIEXGXAOAKlCi9PQBCBRKSOMAmAEJRYGXGXGXGXGXATAECKrJ2BBAICKZrCEZfIBFGEBMAYCBDtDMIBSEMAYAKDBBIAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnHPCGD+MFAPDQBTFtGmEYIPLdKeOnC0+G+MiDtD9OHdCEDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCIJAeDeBJAiCx+YUUBJ2BBJRKSGMAYAKDBBNAKDBBBHPCID+MFAPDQBTFtGmEYIPLdKeOnC+P+e+8/4BDtD9OHdCbDbD8jHPAPDQBFGENVcMILKOSQfbHeD8dBh+BsxoxoUwN0AeD8dFhxoUwkwk+gUa0sHnhTkAnsHnhNkAnsHn7CgFZHiCEWCxkUUBJDBEBAiCx+YUUBJDBBBHeAeDQBBBBBBBBBBBBBBBBAnhAk7CgFZHiCEWCxkUUBJDBEBD9uDQBFGEILKOTtmYPdenDfAdAPD9SDMIBAKCNJAeDeBJAiCx+YUUBJ2BBJRKSFMAYAKDBBBDMIBAKCTJRKMAICGJRIAECTJHEAM9JQBMMGXAK9FQBAKRTAtCFJHtCI6QGSFMMCBRKSEMGXAM9FQBALCUGJAbJREALAbJDBGBReCBRYEXAEALCU/CBJAYJHIDBIBHdCFD9tAdCFDbHPD9OD9hD9RHdAIAMJDBIBH8ZCFD9tA8ZAPD9OD9hD9RH8ZDQBTFtGmEYIPLdKeOnHpAIAQJDBIBHyCFD9tAyAPD9OD9hD9RHyAIASJDBIBH8cCFD9tA8cAPD9OD9hD9RH8cDQBTFtGmEYIPLdKeOnH8dDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGEAeD9uHeDyBjGBAEAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeApA8dDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNiV8ZcpMyS8cQ8df8eb8fHdAyA8cDQNiV8ZcpMyS8cQ8df8eb8fH8ZDQBFTtGEmYILPdKOenHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJHIAeAdA8ZDQNVi8ZcMpySQ8c8dfb8e8fHPAPDQBFGEBFGEBFGEBFGED9uHeDyBjGBAIAGJHIAeAPAPDQILKOILKOILKOILKOD9uHeDyBjGBAIAGJHIAeAPAPDQNVcMNVcMNVcMNVcMD9uHeDyBjGBAIAGJHIAeAPAPDQSQfbSQfbSQfbSQfbD9uHeDyBjGBAIAGJREAYCTJHYAM9JQBMMAbCIJHbAG9JQBMMABAVAG9sJALCUGJAcAG9s/8cBBALALCUGJAcCaJAG9sJAG/8cBBMAcCBAKyAVJRVAKQBMC9+RKSFMCBC99AOAKlAGCAAGCA9Ly6yRKMALCU/KBJ8kUUUUBAKMNBT+BUUUBM+KmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUF/8MBALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM/dLEK97FaF97GXGXAGCI9HQBAF9FQFCBRGEXABABDBBBHECiD+rFCiD+sFD/6FHIAECND+rFCiD+sFD/6FAID/gFAECTD+rFCiD+sFD/6FHLD/gFD/kFD/lFHKCBDtD+2FHOAICUUUU94DtHND9OD9RD/kFHI9DBB/+hDYAIAID/mFAKAKD/mFALAOALAND9OD9RD/kFHIAID/mFD/kFD/kFD/jFD/nFHLD/mF9DBBX9LDYHOD/kFCgFDtD9OAECUUU94DtD9OD9QAIALD/mFAOD/kFCND+rFCU/+EDtD9OD9QAKALD/mFAOD/kFCTD+rFCUU/8ODtD9OD9QDMBBABCTJRBAGCIJHGAF9JQBSGMMAF9FQBCBRGEXABCTJHVAVDBBBHECBDtHOCUU98D8cFCUU98D8cEHND9OABDBBBHKAEDQILKOSQfbPden8c8d8e8fCggFDtD9OD/6FAKAEDQBFGENVcMTtmYi8ZpyHECTD+sFD/6FHID/gFAECTD+rFCTD+sFD/6FHLD/gFD/kFD/lFHE9DB/+g6DYALAEAOD+2FHOALCUUUU94DtHcD9OD9RD/kFHLALD/mFAEAED/mFAIAOAIAcD9OD9RD/kFHEAED/mFD/kFD/kFD/jFD/nFHID/mF9DBBX9LDYHOD/kFCTD+rFALAID/mFAOD/kFCggEDtD9OD9QHLAEAID/mFAOD/kFCaDbCBDnGCBDnECBDnKCBDnOCBDncCBDnMCBDnfCBDnbD9OHEDQNVi8ZcMpySQ8c8dfb8e8fD9QDMBBABAKAND9OALAEDQBFTtGEmYILPdKOenD9QDMBBABCAJRBAGCIJHGAF9JQBMMM/hEIGaF97FaL978jUUUUBCTlREGXAF9FQBCBRIEXAEABDBBBHLABCTJHKDBBBHODQILKOSQfbPden8c8d8e8fHNCTD+sFHVCID+rFDMIBAB9DBBU8/DY9D/zI818/DYAVCEDtD9QD/6FD/nFHVALAODQBFGENVcMTtmYi8ZpyHLCTD+rFCTD+sFD/6FD/mFHOAOD/mFAVALCTD+sFD/6FD/mFHcAcD/mFAVANCTD+rFCTD+sFD/6FD/mFHNAND/mFD/kFD/kFD/lFCBDtD+4FD/jF9DB/+g6DYHVD/mF9DBBX9LDYHLD/kFCggEDtHMD9OAcAVD/mFALD/kFCTD+rFD9QHcANAVD/mFALD/kFCTD+rFAOAVD/mFALD/kFAMD9OD9QHVDQBFTtGEmYILPdKOenHLD8dBAEDBIBDyB+t+J83EBABCNJALD8dFAEDBIBDyF+t+J83EBAKAcAVDQNVi8ZcMpySQ8c8dfb8e8fHVD8dBAEDBIBDyG+t+J83EBABCiJAVD8dFAEDBIBDyE+t+J83EBABCAJRBAICIJHIAF9JQBMMM9jFF97GXAGCGrAF9sHG9FQBCBRFEXABABDBBBHECND+rFCND+sFD/6FAECiD+sFCnD+rFCUUU/8EDtD+uFD/mFDMBBABCTJRBAFCIJHFAG9JQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEMMMFBCUNMIT9tBB",rt=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),nt=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let it=tt;WebAssembly.validate(rt)&&(it=et);let ot;const at=WebAssembly.instantiate(st(it),{}).then(dt=>{ot=dt.instance,ot.exports.__wasm_call_ctors()});function st(dt){const ft=new Uint8Array(dt.length);for(let mt=0;mt<dt.length;++mt){const ht=dt.charCodeAt(mt);ft[mt]=ht>96?ht-71:ht>64?ht-65:ht>47?ht+4:ht>46?63:62}let pt=0;for(let mt=0;mt<dt.length;++mt)ft[pt++]=ft[mt]<60?nt[ft[mt]]:(ft[mt]-60)*64+ft[++mt];return ft.buffer.slice(0,pt)}function lt(dt,ft,pt,mt,ht,gt){const vt=ot.exports.sbrk,yt=pt+3&-4,bt=vt(yt*mt),xt=vt(ht.length),$t=new Uint8Array(ot.exports.memory.buffer);$t.set(ht,xt);const Tt=dt(bt,pt,mt,xt,ht.length);if(Tt===0&&gt&&gt(bt,yt,mt),ft.set($t.subarray(bt,bt+pt*mt)),vt(bt-vt(0)),Tt!==0)throw new Error(`Malformed buffer data: ${Tt}`)}const ct={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},ut={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return generated={ready:at,supported:!0,decodeVertexBuffer(dt,ft,pt,mt,ht){lt(ot.exports.meshopt_decodeVertexBuffer,dt,ft,pt,mt,ot.exports[ct[ht]])},decodeIndexBuffer(dt,ft,pt,mt){lt(ot.exports.meshopt_decodeIndexBuffer,dt,ft,pt,mt)},decodeIndexSequence(dt,ft,pt,mt){lt(ot.exports.meshopt_decodeIndexSequence,dt,ft,pt,mt)},decodeGltfBuffer(dt,ft,pt,mt,ht,gt){lt(ot.exports[ut[ht]],dt,ft,pt,mt,ot.exports[ct[gt]])}},generated};function workerBootstrap(){var tt=Object.create(null);function et(it,ot){var at=it.id,st=it.name,lt=it.dependencies;lt===void 0&&(lt=[]);var ct=it.init;ct===void 0&&(ct=function(){});var ut=it.getTransferables;if(ut===void 0&&(ut=null),!tt[at])try{lt=lt.map(function(ft){return ft&&ft.isWorkerModule&&(et(ft,function(pt){if(pt instanceof Error)throw pt}),ft=tt[ft.id].value),ft}),ct=nt("<"+st+">.init",ct),ut&&(ut=nt("<"+st+">.getTransferables",ut));var dt=null;typeof ct=="function"?dt=ct.apply(void 0,lt):console.error("worker module init function failed to rehydrate"),tt[at]={id:at,value:dt,getTransferables:ut},ot(dt)}catch(ft){ft&&ft.noLog||console.error(ft),ot(ft)}}function rt(it,ot){var at,st=it.id,lt=it.args;(!tt[st]||typeof tt[st].value!="function")&&ot(new Error("Worker module "+st+": not found or its 'init' did not return a function"));try{var ct=(at=tt[st]).value.apply(at,lt);ct&&typeof ct.then=="function"?ct.then(ut,function(dt){return ot(dt instanceof Error?dt:new Error(""+dt))}):ut(ct)}catch(dt){ot(dt)}function ut(dt){try{var ft=tt[st].getTransferables&&tt[st].getTransferables(dt);(!ft||!Array.isArray(ft)||!ft.length)&&(ft=void 0),ot(dt,ft)}catch(pt){console.error(pt),ot(pt)}}}function nt(it,ot){var at=void 0;self.troikaDefine=function(lt){return at=lt};var st=URL.createObjectURL(new Blob(["/** "+it.replace(/\*/g,"")+` **/

troikaDefine(
`+ot+`
)`],{type:"application/javascript"}));try{importScripts(st)}catch(lt){console.error(lt)}return URL.revokeObjectURL(st),delete self.troikaDefine,at}self.addEventListener("message",function(it){var ot=it.data,at=ot.messageId,st=ot.action,lt=ot.data;try{st==="registerModule"&&et(lt,function(ct){ct instanceof Error?postMessage({messageId:at,success:!1,error:ct.message}):postMessage({messageId:at,success:!0,result:{isCallable:typeof ct=="function"}})}),st==="callModule"&&rt(lt,function(ct,ut){ct instanceof Error?postMessage({messageId:at,success:!1,error:ct.message}):postMessage({messageId:at,success:!0,result:ct},ut||void 0)})}catch(ct){postMessage({messageId:at,success:!1,error:ct.stack})}})}function defineMainThreadModule(tt){var et=function(){for(var rt=[],nt=arguments.length;nt--;)rt[nt]=arguments[nt];return et._getInitResult().then(function(it){if(typeof it=="function")return it.apply(void 0,rt);throw new Error("Worker module function was called but `init` did not return a callable function")})};return et._getInitResult=function(){var rt=tt.dependencies,nt=tt.init;rt=Array.isArray(rt)?rt.map(function(ot){return ot&&ot._getInitResult?ot._getInitResult():ot}):[];var it=Promise.all(rt).then(function(ot){return nt.apply(null,ot)});return et._getInitResult=function(){return it},it},et}var supportsWorkers=function(){var tt=!1;if(typeof window<"u"&&typeof window.document<"u")try{var et=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));et.terminate(),tt=!0}catch(rt){typeof process<"u",""+rt.message}return supportsWorkers=function(){return tt},tt},_workerModuleId=0,_messageId=0,_allowInitAsString=!1,workers=Object.create(null),registeredModules=Object.create(null),openRequests=Object.create(null);function defineWorkerModule(tt){if((!tt||typeof tt.init!="function")&&!_allowInitAsString)throw new Error("requires `options.init` function");var et=tt.dependencies,rt=tt.init,nt=tt.getTransferables,it=tt.workerId;if(!supportsWorkers())return defineMainThreadModule(tt);it==null&&(it="#default");var ot="workerModule"+ ++_workerModuleId,at=tt.name||ot,st=null;et=et&&et.map(function(ct){return typeof ct=="function"&&!ct.workerModuleData&&(_allowInitAsString=!0,ct=defineWorkerModule({workerId:it,name:"<"+at+"> function dependency: "+ct.name,init:`function(){return (
`+stringifyFunction(ct)+`
)}`}),_allowInitAsString=!1),ct&&ct.workerModuleData&&(ct=ct.workerModuleData),ct});function lt(){for(var ct=[],ut=arguments.length;ut--;)ct[ut]=arguments[ut];if(!st){st=callWorker(it,"registerModule",lt.workerModuleData);var dt=function(){st=null,registeredModules[it].delete(dt)};(registeredModules[it]||(registeredModules[it]=new Set)).add(dt)}return st.then(function(ft){var pt=ft.isCallable;if(pt)return callWorker(it,"callModule",{id:ot,args:ct});throw new Error("Worker module function was called but `init` did not return a callable function")})}return lt.workerModuleData={isWorkerModule:!0,id:ot,name:at,dependencies:et,init:stringifyFunction(rt),getTransferables:nt&&stringifyFunction(nt)},lt}function terminateWorker(tt){registeredModules[tt]&&registeredModules[tt].forEach(function(et){et()}),workers[tt]&&(workers[tt].terminate(),delete workers[tt])}function stringifyFunction(tt){var et=tt.toString();return!/^function/.test(et)&&/^\w+\s*\(/.test(et)&&(et="function "+et),et}function getWorker(tt){var et=workers[tt];if(!et){var rt=stringifyFunction(workerBootstrap);et=workers[tt]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+tt.replace(/\*/g,"")+` **/

;(`+rt+")()"],{type:"application/javascript"}))),et.onmessage=function(nt){var it=nt.data,ot=it.messageId,at=openRequests[ot];if(!at)throw new Error("WorkerModule response with empty or unknown messageId");delete openRequests[ot],at(it)}}return et}function callWorker(tt,et,rt){return new Promise(function(nt,it){var ot=++_messageId;openRequests[ot]=function(at){at.success?nt(at.result):it(new Error("Error in worker "+et+" call: "+at.error))},getWorker(tt).postMessage({messageId:ot,action:et,data:rt})})}function SDFGenerator(){var tt=function(et){function rt(jt,qt,Dt,Ft,Zt,Kt,ir,rr){var mr=1-ir;rr.x=mr*mr*jt+2*mr*ir*Dt+ir*ir*Zt,rr.y=mr*mr*qt+2*mr*ir*Ft+ir*ir*Kt}function nt(jt,qt,Dt,Ft,Zt,Kt,ir,rr,mr,sr){var fr=1-mr;sr.x=fr*fr*fr*jt+3*fr*fr*mr*Dt+3*fr*mr*mr*Zt+mr*mr*mr*ir,sr.y=fr*fr*fr*qt+3*fr*fr*mr*Ft+3*fr*mr*mr*Kt+mr*mr*mr*rr}function it(jt,qt){for(var Dt=/([MLQCZ])([^MLQCZ]*)/g,Ft,Zt,Kt,ir,rr;Ft=Dt.exec(jt);){var mr=Ft[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(sr){return parseFloat(sr)});switch(Ft[1]){case"M":ir=Zt=mr[0],rr=Kt=mr[1];break;case"L":(mr[0]!==ir||mr[1]!==rr)&&qt("L",ir,rr,ir=mr[0],rr=mr[1]);break;case"Q":{qt("Q",ir,rr,ir=mr[2],rr=mr[3],mr[0],mr[1]);break}case"C":{qt("C",ir,rr,ir=mr[4],rr=mr[5],mr[0],mr[1],mr[2],mr[3]);break}case"Z":(ir!==Zt||rr!==Kt)&&qt("L",ir,rr,Zt,Kt);break}}}function ot(jt,qt,Dt){Dt===void 0&&(Dt=16);var Ft={x:0,y:0};it(jt,function(Zt,Kt,ir,rr,mr,sr,fr,pr,vr){switch(Zt){case"L":qt(Kt,ir,rr,mr);break;case"Q":{for(var dr=Kt,xr=ir,Gt=1;Gt<Dt;Gt++)rt(Kt,ir,sr,fr,rr,mr,Gt/(Dt-1),Ft),qt(dr,xr,Ft.x,Ft.y),dr=Ft.x,xr=Ft.y;break}case"C":{for(var Wt=Kt,nr=ir,Qt=1;Qt<Dt;Qt++)nt(Kt,ir,sr,fr,pr,vr,rr,mr,Qt/(Dt-1),Ft),qt(Wt,nr,Ft.x,Ft.y),Wt=Ft.x,nr=Ft.y;break}}})}var at="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",st="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",lt=new WeakMap,ct={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function ut(jt,qt){var Dt=jt.getContext?jt.getContext("webgl",ct):jt,Ft=lt.get(Dt);if(!Ft){let Wt=function(lr){var Yt=Kt[lr];if(!Yt&&(Yt=Kt[lr]=Dt.getExtension(lr),!Yt))throw new Error(lr+" not supported");return Yt},nr=function(lr,Yt){var Xt=Dt.createShader(Yt);return Dt.shaderSource(Xt,lr),Dt.compileShader(Xt),Xt},Qt=function(lr,Yt,Xt,tr){if(!ir[lr]){var or={},br={},Sr=Dt.createProgram();Dt.attachShader(Sr,nr(Yt,Dt.VERTEX_SHADER)),Dt.attachShader(Sr,nr(Xt,Dt.FRAGMENT_SHADER)),Dt.linkProgram(Sr),ir[lr]={program:Sr,transaction:function(hr){Dt.useProgram(Sr),hr({setUniform:function(Mr,Ar){for(var Fr=[],zr=arguments.length-2;zr-- >0;)Fr[zr]=arguments[zr+2];var jr=br[Ar]||(br[Ar]=Dt.getUniformLocation(Sr,Ar));Dt["uniform"+Mr].apply(Dt,[jr].concat(Fr))},setAttribute:function(Mr,Ar,Fr,zr,jr){var Jr=or[Mr];Jr||(Jr=or[Mr]={buf:Dt.createBuffer(),loc:Dt.getAttribLocation(Sr,Mr),data:null}),Dt.bindBuffer(Dt.ARRAY_BUFFER,Jr.buf),Dt.vertexAttribPointer(Jr.loc,Ar,Dt.FLOAT,!1,0,0),Dt.enableVertexAttribArray(Jr.loc),Zt?Dt.vertexAttribDivisor(Jr.loc,zr):Wt("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Jr.loc,zr),jr!==Jr.data&&(Dt.bufferData(Dt.ARRAY_BUFFER,jr,Fr),Jr.data=jr)}})}}}ir[lr].transaction(tr)},Jt=function(lr,Yt){mr++;try{Dt.activeTexture(Dt.TEXTURE0+mr);var Xt=rr[lr];Xt||(Xt=rr[lr]=Dt.createTexture(),Dt.bindTexture(Dt.TEXTURE_2D,Xt),Dt.texParameteri(Dt.TEXTURE_2D,Dt.TEXTURE_MIN_FILTER,Dt.NEAREST),Dt.texParameteri(Dt.TEXTURE_2D,Dt.TEXTURE_MAG_FILTER,Dt.NEAREST)),Dt.bindTexture(Dt.TEXTURE_2D,Xt),Yt(Xt,mr)}finally{mr--}},ar=function(lr,Yt,Xt){var tr=Dt.createFramebuffer();sr.push(tr),Dt.bindFramebuffer(Dt.FRAMEBUFFER,tr),Dt.activeTexture(Dt.TEXTURE0+Yt),Dt.bindTexture(Dt.TEXTURE_2D,lr),Dt.framebufferTexture2D(Dt.FRAMEBUFFER,Dt.COLOR_ATTACHMENT0,Dt.TEXTURE_2D,lr,0);try{Xt(tr)}finally{Dt.deleteFramebuffer(tr),Dt.bindFramebuffer(Dt.FRAMEBUFFER,sr[--sr.length-1]||null)}},cr=function(){Kt={},ir={},rr={},mr=-1,sr.length=0};var fr=Wt,pr=nr,vr=Qt,dr=Jt,xr=ar,Gt=cr,Zt=typeof WebGL2RenderingContext<"u"&&Dt instanceof WebGL2RenderingContext,Kt={},ir={},rr={},mr=-1,sr=[];Dt.canvas.addEventListener("webglcontextlost",function(lr){cr(),lr.preventDefault()},!1),lt.set(Dt,Ft={gl:Dt,isWebGL2:Zt,getExtension:Wt,withProgram:Qt,withTexture:Jt,withTextureFramebuffer:ar,handleContextLoss:cr})}qt(Ft)}function dt(jt,qt,Dt,Ft,Zt,Kt,ir,rr){ir===void 0&&(ir=15),rr===void 0&&(rr=null),ut(jt,function(mr){var sr=mr.gl,fr=mr.withProgram,pr=mr.withTexture;pr("copy",function(vr,dr){sr.texImage2D(sr.TEXTURE_2D,0,sr.RGBA,Zt,Kt,0,sr.RGBA,sr.UNSIGNED_BYTE,qt),fr("copy",at,st,function(xr){var Gt=xr.setUniform,Wt=xr.setAttribute;Wt("aUV",2,sr.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Gt("1i","image",dr),sr.bindFramebuffer(sr.FRAMEBUFFER,rr||null),sr.disable(sr.BLEND),sr.colorMask(ir&8,ir&4,ir&2,ir&1),sr.viewport(Dt,Ft,Zt,Kt),sr.scissor(Dt,Ft,Zt,Kt),sr.drawArrays(sr.TRIANGLES,0,3)})})})}function ft(jt,qt,Dt){var Ft=jt.width,Zt=jt.height;ut(jt,function(Kt){var ir=Kt.gl,rr=new Uint8Array(Ft*Zt*4);ir.readPixels(0,0,Ft,Zt,ir.RGBA,ir.UNSIGNED_BYTE,rr),jt.width=qt,jt.height=Dt,dt(ir,rr,0,0,Ft,Zt)})}var pt=Object.freeze({__proto__:null,withWebGLContext:ut,renderImageData:dt,resizeWebGLCanvasWithoutClearing:ft});function mt(jt,qt,Dt,Ft,Zt,Kt){Kt===void 0&&(Kt=1);var ir=new Uint8Array(jt*qt),rr=Ft[2]-Ft[0],mr=Ft[3]-Ft[1],sr=[];ot(Dt,function(Wt,nr,Qt,Jt){sr.push({x1:Wt,y1:nr,x2:Qt,y2:Jt,minX:Math.min(Wt,Qt),minY:Math.min(nr,Jt),maxX:Math.max(Wt,Qt),maxY:Math.max(nr,Jt)})}),sr.sort(function(Wt,nr){return Wt.maxX-nr.maxX});for(var fr=0;fr<jt;fr++)for(var pr=0;pr<qt;pr++){var vr=xr(Ft[0]+rr*(fr+.5)/jt,Ft[1]+mr*(pr+.5)/qt),dr=Math.pow(1-Math.abs(vr)/Zt,Kt)/2;vr<0&&(dr=1-dr),dr=Math.max(0,Math.min(255,Math.round(dr*255))),ir[pr*jt+fr]=dr}return ir;function xr(Wt,nr){for(var Qt=1/0,Jt=1/0,ar=sr.length;ar--;){var cr=sr[ar];if(cr.maxX+Jt<=Wt)break;if(Wt+Jt>cr.minX&&nr-Jt<cr.maxY&&nr+Jt>cr.minY){var lr=vt(Wt,nr,cr.x1,cr.y1,cr.x2,cr.y2);lr<Qt&&(Qt=lr,Jt=Math.sqrt(Qt))}}return Gt(Wt,nr)&&(Jt=-Jt),Jt}function Gt(Wt,nr){for(var Qt=0,Jt=sr.length;Jt--;){var ar=sr[Jt];if(ar.maxX<=Wt)break;var cr=ar.y1>nr!=ar.y2>nr&&Wt<(ar.x2-ar.x1)*(nr-ar.y1)/(ar.y2-ar.y1)+ar.x1;cr&&(Qt+=ar.y1<ar.y2?1:-1)}return Qt!==0}}function ht(jt,qt,Dt,Ft,Zt,Kt,ir,rr,mr,sr){Kt===void 0&&(Kt=1),rr===void 0&&(rr=0),mr===void 0&&(mr=0),sr===void 0&&(sr=0),gt(jt,qt,Dt,Ft,Zt,Kt,ir,null,rr,mr,sr)}function gt(jt,qt,Dt,Ft,Zt,Kt,ir,rr,mr,sr,fr){Kt===void 0&&(Kt=1),mr===void 0&&(mr=0),sr===void 0&&(sr=0),fr===void 0&&(fr=0);for(var pr=mt(jt,qt,Dt,Ft,Zt,Kt),vr=new Uint8Array(pr.length*4),dr=0;dr<pr.length;dr++)vr[dr*4+fr]=pr[dr];dt(ir,vr,mr,sr,jt,qt,1<<3-fr,rr)}function vt(jt,qt,Dt,Ft,Zt,Kt){var ir=Zt-Dt,rr=Kt-Ft,mr=ir*ir+rr*rr,sr=mr?Math.max(0,Math.min(1,((jt-Dt)*ir+(qt-Ft)*rr)/mr)):0,fr=jt-(Dt+sr*ir),pr=qt-(Ft+sr*rr);return fr*fr+pr*pr}var yt=Object.freeze({__proto__:null,generate:mt,generateIntoCanvas:ht,generateIntoFramebuffer:gt}),bt="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",xt="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",$t="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",Tt=new Float32Array([0,0,2,0,0,2]),wt=null,At=!1,Rt={},It=new WeakMap;function Lt(jt){if(!At&&!Bt(jt))throw new Error("WebGL generation not supported")}function Pt(jt,qt,Dt,Ft,Zt,Kt,ir){if(Kt===void 0&&(Kt=1),ir===void 0&&(ir=null),!ir&&(ir=wt,!ir)){var rr=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!rr)throw new Error("OffscreenCanvas or DOM canvas not supported");ir=wt=rr.getContext("webgl",{depth:!1})}Lt(ir);var mr=new Uint8Array(jt*qt*4);ut(ir,function(vr){var dr=vr.gl,xr=vr.withTexture,Gt=vr.withTextureFramebuffer;xr("readable",function(Wt,nr){dr.texImage2D(dr.TEXTURE_2D,0,dr.RGBA,jt,qt,0,dr.RGBA,dr.UNSIGNED_BYTE,null),Gt(Wt,nr,function(Qt){Ot(jt,qt,Dt,Ft,Zt,Kt,dr,Qt,0,0,0),dr.readPixels(0,0,jt,qt,dr.RGBA,dr.UNSIGNED_BYTE,mr)})})});for(var sr=new Uint8Array(jt*qt),fr=0,pr=0;fr<mr.length;fr+=4)sr[pr++]=mr[fr];return sr}function Nt(jt,qt,Dt,Ft,Zt,Kt,ir,rr,mr,sr){Kt===void 0&&(Kt=1),rr===void 0&&(rr=0),mr===void 0&&(mr=0),sr===void 0&&(sr=0),Ot(jt,qt,Dt,Ft,Zt,Kt,ir,null,rr,mr,sr)}function Ot(jt,qt,Dt,Ft,Zt,Kt,ir,rr,mr,sr,fr){Kt===void 0&&(Kt=1),mr===void 0&&(mr=0),sr===void 0&&(sr=0),fr===void 0&&(fr=0),Lt(ir);var pr=[];ot(Dt,function(vr,dr,xr,Gt){pr.push(vr,dr,xr,Gt)}),pr=new Float32Array(pr),ut(ir,function(vr){var dr=vr.gl,xr=vr.isWebGL2,Gt=vr.getExtension,Wt=vr.withProgram,nr=vr.withTexture,Qt=vr.withTextureFramebuffer,Jt=vr.handleContextLoss;if(nr("rawDistances",function(ar,cr){(jt!==ar._lastWidth||qt!==ar._lastHeight)&&dr.texImage2D(dr.TEXTURE_2D,0,dr.RGBA,ar._lastWidth=jt,ar._lastHeight=qt,0,dr.RGBA,dr.UNSIGNED_BYTE,null),Wt("main",bt,xt,function(lr){var Yt=lr.setAttribute,Xt=lr.setUniform,tr=!xr&&Gt("ANGLE_instanced_arrays"),or=!xr&&Gt("EXT_blend_minmax");Yt("aUV",2,dr.STATIC_DRAW,0,Tt),Yt("aLineSegment",4,dr.DYNAMIC_DRAW,1,pr),Xt.apply(void 0,["4f","uGlyphBounds"].concat(Ft)),Xt("1f","uMaxDistance",Zt),Xt("1f","uExponent",Kt),Qt(ar,cr,function(br){dr.enable(dr.BLEND),dr.colorMask(!0,!0,!0,!0),dr.viewport(0,0,jt,qt),dr.scissor(0,0,jt,qt),dr.blendFunc(dr.ONE,dr.ONE),dr.blendEquationSeparate(dr.FUNC_ADD,xr?dr.MAX:or.MAX_EXT),dr.clear(dr.COLOR_BUFFER_BIT),xr?dr.drawArraysInstanced(dr.TRIANGLES,0,3,pr.length/4):tr.drawArraysInstancedANGLE(dr.TRIANGLES,0,3,pr.length/4)})}),Wt("post",at,$t,function(lr){lr.setAttribute("aUV",2,dr.STATIC_DRAW,0,Tt),lr.setUniform("1i","tex",cr),dr.bindFramebuffer(dr.FRAMEBUFFER,rr),dr.disable(dr.BLEND),dr.colorMask(fr===0,fr===1,fr===2,fr===3),dr.viewport(mr,sr,jt,qt),dr.scissor(mr,sr,jt,qt),dr.drawArrays(dr.TRIANGLES,0,3)})}),dr.isContextLost())throw Jt(),new Error("webgl context lost")})}function Bt(jt){var qt=!jt||jt===wt?Rt:jt.canvas||jt,Dt=It.get(qt);if(Dt===void 0){At=!0;var Ft=null;try{var Zt=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],Kt=Pt(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,jt);Dt=Kt&&Zt.length===Kt.length&&Kt.every(function(ir,rr){return ir===Zt[rr]}),Dt||(Ft="bad trial run results",console.info(Zt,Kt))}catch(ir){Dt=!1,Ft=ir.message}Ft&&console.warn("WebGL SDF generation not supported:",Ft),At=!1,It.set(qt,Dt)}return Dt}var zt=Object.freeze({__proto__:null,generate:Pt,generateIntoCanvas:Nt,generateIntoFramebuffer:Ot,isSupported:Bt});function Vt(jt,qt,Dt,Ft,Zt,Kt){Zt===void 0&&(Zt=Math.max(Ft[2]-Ft[0],Ft[3]-Ft[1])/2),Kt===void 0&&(Kt=1);try{return Pt.apply(zt,arguments)}catch(ir){return console.info("WebGL SDF generation failed, falling back to JS",ir),mt.apply(yt,arguments)}}function Ut(jt,qt,Dt,Ft,Zt,Kt,ir,rr,mr,sr){Zt===void 0&&(Zt=Math.max(Ft[2]-Ft[0],Ft[3]-Ft[1])/2),Kt===void 0&&(Kt=1),rr===void 0&&(rr=0),mr===void 0&&(mr=0),sr===void 0&&(sr=0);try{return Nt.apply(zt,arguments)}catch(fr){return console.info("WebGL SDF generation failed, falling back to JS",fr),ht.apply(yt,arguments)}}return et.forEachPathCommand=it,et.generate=Vt,et.generateIntoCanvas=Ut,et.javascript=yt,et.pathToLineSegments=ot,et.webgl=zt,et.webglUtils=pt,Object.defineProperty(et,"__esModule",{value:!0}),et}({});return tt}function bidiFactory(){var tt=function(et){var rt={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},nt={},it={};nt.L=1,it[1]="L",Object.keys(rt).forEach(function(Jt,ar){nt[Jt]=1<<ar+1,it[nt[Jt]]=Jt}),Object.freeze(nt);var ot=nt.LRI|nt.RLI|nt.FSI,at=nt.L|nt.R|nt.AL,st=nt.B|nt.S|nt.WS|nt.ON|nt.FSI|nt.LRI|nt.RLI|nt.PDI,lt=nt.BN|nt.RLE|nt.LRE|nt.RLO|nt.LRO|nt.PDF,ct=nt.S|nt.WS|nt.B|ot|nt.PDI|lt,ut=null;function dt(){if(!ut){ut=new Map;var Jt=function(cr){if(rt.hasOwnProperty(cr)){var lr=0;rt[cr].split(",").forEach(function(Yt){var Xt=Yt.split("+"),tr=Xt[0],or=Xt[1];tr=parseInt(tr,36),or=or?parseInt(or,36):0,ut.set(lr+=tr,nt[cr]);for(var br=0;br<or;br++)ut.set(++lr,nt[cr])})}};for(var ar in rt)Jt(ar)}}function ft(Jt){return dt(),ut.get(Jt.codePointAt(0))||nt.L}function pt(Jt){return it[ft(Jt)]}var mt={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function ht(Jt,ar){var cr=36,lr=0,Yt=new Map,Xt=ar&&new Map,tr;return Jt.split(",").forEach(function or(br){if(br.indexOf("+")!==-1)for(var Sr=+br;Sr--;)or(tr);else{tr=br;var yr=br.split(">"),hr=yr[0],$r=yr[1];hr=String.fromCodePoint(lr+=parseInt(hr,cr)),$r=String.fromCodePoint(lr+=parseInt($r,cr)),Yt.set(hr,$r),ar&&Xt.set($r,hr)}}),{map:Yt,reverseMap:Xt}}var gt,vt,yt;function bt(){if(!gt){var Jt=ht(mt.pairs,!0),ar=Jt.map,cr=Jt.reverseMap;gt=ar,vt=cr,yt=ht(mt.canonical,!1).map}}function xt(Jt){return bt(),gt.get(Jt)||null}function $t(Jt){return bt(),vt.get(Jt)||null}function Tt(Jt){return bt(),yt.get(Jt)||null}var wt=nt.L,At=nt.R,Rt=nt.EN,It=nt.ES,Lt=nt.ET,Pt=nt.AN,Nt=nt.CS,Ot=nt.B,Bt=nt.S,zt=nt.ON,Vt=nt.BN,Ut=nt.NSM,jt=nt.AL,qt=nt.LRO,Dt=nt.RLO,Ft=nt.LRE,Zt=nt.RLE,Kt=nt.PDF,ir=nt.LRI,rr=nt.RLI,mr=nt.FSI,sr=nt.PDI;function fr(Jt,ar){for(var cr=125,lr=new Uint32Array(Jt.length),Yt=0;Yt<Jt.length;Yt++)lr[Yt]=ft(Jt[Yt]);var Xt=new Map;function tr(fo,bo){var no=lr[fo];lr[fo]=bo,Xt.set(no,Xt.get(no)-1),no&st&&Xt.set(st,Xt.get(st)-1),Xt.set(bo,(Xt.get(bo)||0)+1),bo&st&&Xt.set(st,(Xt.get(st)||0)+1)}for(var or=new Uint8Array(Jt.length),br=new Map,Sr=[],yr=null,hr=0;hr<Jt.length;hr++)yr||Sr.push(yr={start:hr,end:Jt.length-1,level:ar==="rtl"?1:ar==="ltr"?0:Ks(hr,!1)}),lr[hr]&Ot&&(yr.end=hr,yr=null);for(var $r=Zt|Ft|Dt|qt|ot|sr|Kt|Ot,Mr=function(fo){return fo+(fo&1?1:2)},Ar=function(fo){return fo+(fo&1?2:1)},Fr=0;Fr<Sr.length;Fr++){yr=Sr[Fr];var zr=[{_level:yr.level,_override:0,_isolate:0}],jr=void 0,Jr=0,gn=0,mn=0;Xt.clear();for(var Cr=yr.start;Cr<=yr.end;Cr++){var Dr=lr[Cr];if(jr=zr[zr.length-1],Xt.set(Dr,(Xt.get(Dr)||0)+1),Dr&st&&Xt.set(st,(Xt.get(st)||0)+1),Dr&$r)if(Dr&(Zt|Ft)){or[Cr]=jr._level;var Hr=(Dr===Zt?Ar:Mr)(jr._level);Hr<=cr&&!Jr&&!gn?zr.push({_level:Hr,_override:0,_isolate:0}):Jr||gn++}else if(Dr&(Dt|qt)){or[Cr]=jr._level;var Yr=(Dr===Dt?Ar:Mr)(jr._level);Yr<=cr&&!Jr&&!gn?zr.push({_level:Yr,_override:Dr&Dt?At:wt,_isolate:0}):Jr||gn++}else if(Dr&ot){Dr&mr&&(Dr=Ks(Cr+1,!0)===1?rr:ir),or[Cr]=jr._level,jr._override&&tr(Cr,jr._override);var dn=(Dr===rr?Ar:Mr)(jr._level);dn<=cr&&Jr===0&&gn===0?(mn++,zr.push({_level:dn,_override:0,_isolate:1,_isolInitIndex:Cr})):Jr++}else if(Dr&sr){if(Jr>0)Jr--;else if(mn>0){for(gn=0;!zr[zr.length-1]._isolate;)zr.pop();var On=zr[zr.length-1]._isolInitIndex;On!=null&&(br.set(On,Cr),br.set(Cr,On)),zr.pop(),mn--}jr=zr[zr.length-1],or[Cr]=jr._level,jr._override&&tr(Cr,jr._override)}else Dr&Kt?(Jr===0&&(gn>0?gn--:!jr._isolate&&zr.length>1&&(zr.pop(),jr=zr[zr.length-1])),or[Cr]=jr._level):Dr&Ot&&(or[Cr]=yr.level);else or[Cr]=jr._level,jr._override&&Dr!==Vt&&tr(Cr,jr._override)}for(var Dn=[],Bn=null,Fn=yr.start;Fn<=yr.end;Fn++){var Mn=lr[Fn];if(!(Mn&lt)){var Ln=or[Fn],Rn=Mn&ot,Qn=Mn===sr;Bn&&Ln===Bn._level?(Bn._end=Fn,Bn._endsWithIsolInit=Rn):Dn.push(Bn={_start:Fn,_end:Fn,_level:Ln,_startsWithPDI:Qn,_endsWithIsolInit:Rn})}}for(var Un=[],yn=0;yn<Dn.length;yn++){var Tn=Dn[yn];if(!Tn._startsWithPDI||Tn._startsWithPDI&&!br.has(Tn._start)){for(var gr=[Bn=Tn],kr=void 0;Bn&&Bn._endsWithIsolInit&&(kr=br.get(Bn._end))!=null;)for(var Ur=yn+1;Ur<Dn.length;Ur++)if(Dn[Ur]._start===kr){gr.push(Bn=Dn[Ur]);break}for(var Lr=[],Vr=0;Vr<gr.length;Vr++)for(var Or=gr[Vr],Rr=Or._start;Rr<=Or._end;Rr++)Lr.push(Rr);for(var Xr=or[Lr[0]],ln=yr.level,vn=Lr[0]-1;vn>=0;vn--)if(!(lr[vn]&lt)){ln=or[vn];break}var Sn=Lr[Lr.length-1],Cn=or[Sn],_n=yr.level;if(!(lr[Sn]&ot)){for(var qn=Sn+1;qn<=yr.end;qn++)if(!(lr[qn]&lt)){_n=or[qn];break}}Un.push({_seqIndices:Lr,_sosType:Math.max(ln,Xr)%2?At:wt,_eosType:Math.max(_n,Cn)%2?At:wt})}}for(var Eo=0;Eo<Un.length;Eo++){var wo=Un[Eo],hn=wo._seqIndices,Nn=wo._sosType,Ao=wo._eosType;if(Xt.get(Ut))for(var ro=0;ro<hn.length;ro++){var So=hn[ro];if(lr[So]&Ut){for(var Bo=Nn,mo=ro-1;mo>=0;mo--)if(!(lr[hn[mo]]&lt)){Bo=lr[hn[mo]];break}tr(So,Bo&(ot|sr)?zt:Bo)}}if(Xt.get(Rt))for(var go=0;go<hn.length;go++){var kn=hn[go];if(lr[kn]&Rt)for(var Hn=go-1;Hn>=-1;Hn--){var Co=Hn===-1?Nn:lr[hn[Hn]];if(Co&at){Co===jt&&tr(kn,Pt);break}}}if(Xt.get(jt))for(var ur=0;ur<hn.length;ur++){var Tr=hn[ur];lr[Tr]&jt&&tr(Tr,At)}if(Xt.get(It)||Xt.get(Nt))for(var _r=1;_r<hn.length-1;_r++){var Ir=hn[_r];if(lr[Ir]&(It|Nt)){for(var Pr=0,wr=0,Kr=_r-1;Kr>=0&&(Pr=lr[hn[Kr]],!!(Pr&lt));Kr--);for(var Zr=_r+1;Zr<hn.length&&(wr=lr[hn[Zr]],!!(wr&lt));Zr++);Pr===wr&&(lr[Ir]===It?Pr===Rt:Pr&(Rt|Pt))&&tr(Ir,Pr)}}if(Xt.get(Rt))for(var Qr=0;Qr<hn.length;Qr++){var cn=hn[Qr];if(lr[cn]&Rt){for(var sn=Qr-1;sn>=0&&lr[hn[sn]]&(Lt|lt);sn--)tr(hn[sn],Rt);for(var $n=Qr+1;$n<hn.length&&lr[hn[$n]]&(Lt|lt);$n++)tr(hn[$n],Rt)}}if(Xt.get(Lt)||Xt.get(It)||Xt.get(Nt))for(var jn=0;jn<hn.length;jn++){var Jn=hn[jn];if(lr[Jn]&(Lt|It|Nt)){tr(Jn,zt);for(var Kn=jn-1;Kn>=0&&lr[hn[Kn]]&lt;Kn--)tr(hn[Kn],zt);for(var eo=jn+1;eo<hn.length&&lr[hn[eo]]&lt;eo++)tr(hn[eo],zt)}}if(Xt.get(Rt))for(var _i=0,uo=Nn;_i<hn.length;_i++){var as=hn[_i],ms=lr[as];ms&Rt?uo===wt&&tr(as,wt):ms&at&&(uo=ms)}if(Xt.get(st)){var xa=At|Rt|Pt,ss=xa|wt,$a=[];{for(var ls=[],Yo=0;Yo<hn.length;Yo++)if(lr[hn[Yo]]&st){var Vn=Jt[hn[Yo]],Sl=void 0;if(xt(Vn)!==null)if(ls.length<63)ls.push({char:Vn,seqIndex:Yo});else break;else if((Sl=$t(Vn))!==null)for(var gs=ls.length-1;gs>=0;gs--){var Hs=ls[gs].char;if(Hs===Sl||Hs===$t(Tt(Vn))||xt(Tt(Hs))===Vn){$a.push([ls[gs].seqIndex,Yo]),ls.length=gs;break}}}$a.sort(function(fo,bo){return fo[0]-bo[0]})}for(var Cl=0;Cl<$a.length;Cl++){for(var Xl=$a[Cl],oo=Xl[0],$s=Xl[1],Zl=!1,Lo=0,Tl=oo+1;Tl<$s;Tl++){var Es=hn[Tl];if(lr[Es]&ss){Zl=!0;var zo=lr[Es]&xa?At:wt;if(zo===ds(Es)){Lo=zo;break}}}if(Zl&&!Lo){Lo=Nn;for(var Al=oo-1;Al>=0;Al--){var Vs=hn[Al];if(lr[Vs]&ss){var Ho=lr[Vs]&xa?At:wt;Ho!==ds(Vs)?Lo=Ho:Lo=ds(Vs);break}}}if(Lo){if(lr[hn[oo]]=lr[hn[$s]]=Lo,Lo!==ds(hn[oo])){for(var No=oo+1;No<hn.length;No++)if(!(lr[hn[No]]&lt)){ft(Jt[hn[No]])&Ut&&(lr[hn[No]]=Lo);break}}if(Lo!==ds(hn[$s])){for(var us=$s+1;us<hn.length;us++)if(!(lr[hn[us]]&lt)){ft(Jt[hn[us]])&Ut&&(lr[hn[us]]=Lo);break}}}}for(var Jo=0;Jo<hn.length;Jo++)if(lr[hn[Jo]]&st){for(var Ol=Jo,Il=Jo,Fo=Nn,Ps=Jo-1;Ps>=0;Ps--)if(lr[hn[Ps]]&lt)Ol=Ps;else{Fo=lr[hn[Ps]]&xa?At:wt;break}for(var Ms=Ao,Ls=Jo+1;Ls<hn.length;Ls++)if(lr[hn[Ls]]&(st|lt))Il=Ls;else{Ms=lr[hn[Ls]]&xa?At:wt;break}for(var Oo=Ol;Oo<=Il;Oo++)lr[hn[Oo]]=Fo===Ms?Fo:ds(hn[Oo]);Jo=Il}}}for(var _o=yr.start;_o<=yr.end;_o++){var Ws=or[_o],rs=lr[_o];if(Ws&1?rs&(wt|Rt|Pt)&&or[_o]++:rs&At?or[_o]++:rs&(Pt|Rt)&&(or[_o]+=2),rs&lt&&(or[_o]=_o===0?yr.level:or[_o-1]),_o===yr.end||ft(Jt[_o])&(Bt|Ot))for(var Ss=_o;Ss>=0&&ft(Jt[Ss])&ct;Ss--)or[Ss]=yr.level}}return{levels:or,paragraphs:Sr};function Ks(fo,bo){for(var no=fo;no<Jt.length;no++){var vo=lr[no];if(vo&(At|jt))return 1;if(vo&(Ot|wt)||bo&&vo===sr)return 0;if(vo&ot){var ns=Ql(no);no=ns===-1?Jt.length:ns}}return 0}function Ql(fo){for(var bo=1,no=fo+1;no<Jt.length;no++){var vo=lr[no];if(vo&Ot)break;if(vo&sr){if(--bo===0)return no}else vo&ot&&bo++}return-1}function ds(fo){return or[fo]&1?At:wt}}var pr="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",vr;function dr(){if(!vr){var Jt=ht(pr,!0),ar=Jt.map,cr=Jt.reverseMap;cr.forEach(function(lr,Yt){ar.set(Yt,lr)}),vr=ar}}function xr(Jt){return dr(),vr.get(Jt)||null}function Gt(Jt,ar,cr,lr){var Yt=Jt.length;cr=Math.max(0,cr==null?0:+cr),lr=Math.min(Yt-1,lr==null?Yt-1:+lr);for(var Xt=new Map,tr=cr;tr<=lr;tr++)if(ar[tr]&1){var or=xr(Jt[tr]);or!==null&&Xt.set(tr,or)}return Xt}function Wt(Jt,ar,cr,lr){var Yt=Jt.length;cr=Math.max(0,cr==null?0:+cr),lr=Math.min(Yt-1,lr==null?Yt-1:+lr);var Xt=[];return ar.paragraphs.forEach(function(tr){var or=Math.max(cr,tr.start),br=Math.min(lr,tr.end);if(or<br){for(var Sr=ar.levels.slice(or,br+1),yr=br;yr>=or&&ft(Jt[yr])&ct;yr--)Sr[yr]=tr.level;for(var hr=tr.level,$r=1/0,Mr=0;Mr<Sr.length;Mr++){var Ar=Sr[Mr];Ar>hr&&(hr=Ar),Ar<$r&&($r=Ar|1)}for(var Fr=hr;Fr>=$r;Fr--)for(var zr=0;zr<Sr.length;zr++)if(Sr[zr]>=Fr){for(var jr=zr;zr+1<Sr.length&&Sr[zr+1]>=Fr;)zr++;zr>jr&&Xt.push([jr+cr,zr+cr])}}}),Xt}function nr(Jt,ar,cr,lr){var Yt=Qt(Jt,ar,cr,lr),Xt=[].concat(Jt);return Yt.forEach(function(tr,or){Xt[or]=(ar.levels[tr]&1?xr(Jt[tr]):null)||Jt[tr]}),Xt.join("")}function Qt(Jt,ar,cr,lr){for(var Yt=Wt(Jt,ar,cr,lr),Xt=[],tr=0;tr<Jt.length;tr++)Xt[tr]=tr;return Yt.forEach(function(or){for(var br=or[0],Sr=or[1],yr=Xt.slice(br,Sr+1),hr=yr.length;hr--;)Xt[Sr-hr]=yr[hr]}),Xt}return et.closingToOpeningBracket=$t,et.getBidiCharType=ft,et.getBidiCharTypeName=pt,et.getCanonicalBracket=Tt,et.getEmbeddingLevels=fr,et.getMirroredCharacter=xr,et.getMirroredCharactersMap=Gt,et.getReorderSegments=Wt,et.getReorderedIndices=Qt,et.getReorderedString=nr,et.openingToClosingBracket=xt,Object.defineProperty(et,"__esModule",{value:!0}),et}({});return tt}const voidMainRegExp=/\bvoid\s+main\s*\(\s*\)\s*{/g;function expandShaderIncludes(tt){const et=/^[ \t]*#include +<([\w\d./]+)>/gm;function rt(nt,it){let ot=ShaderChunk[it];return ot?expandShaderIncludes(ot):nt}return tt.replace(et,rt)}const _lut=[];for(let tt=0;tt<256;tt++)_lut[tt]=(tt<16?"0":"")+tt.toString(16);function generateUUID(){const tt=Math.random()*4294967295|0,et=Math.random()*4294967295|0,rt=Math.random()*4294967295|0,nt=Math.random()*4294967295|0;return(_lut[tt&255]+_lut[tt>>8&255]+_lut[tt>>16&255]+_lut[tt>>24&255]+"-"+_lut[et&255]+_lut[et>>8&255]+"-"+_lut[et>>16&15|64]+_lut[et>>24&255]+"-"+_lut[rt&63|128]+_lut[rt>>8&255]+"-"+_lut[rt>>16&255]+_lut[rt>>24&255]+_lut[nt&255]+_lut[nt>>8&255]+_lut[nt>>16&255]+_lut[nt>>24&255]).toUpperCase()}const assign$1=Object.assign||function(){let tt=arguments[0];for(let et=1,rt=arguments.length;et<rt;et++){let nt=arguments[et];if(nt)for(let it in nt)nt.hasOwnProperty(it)&&(tt[it]=nt[it])}return tt},epoch=Date.now(),CONSTRUCTOR_CACHE=new WeakMap,SHADER_UPGRADE_CACHE=new Map;let materialInstanceId=1e10;function createDerivedMaterial(tt,et){const rt=getKeyForOptions(et);let nt=CONSTRUCTOR_CACHE.get(tt);if(nt||CONSTRUCTOR_CACHE.set(tt,nt=Object.create(null)),nt[rt])return new nt[rt];const it=`_onBeforeCompile${rt}`,ot=function(ct){tt.onBeforeCompile.call(this,ct);const ut=this.customProgramCacheKey()+"|"+ct.vertexShader+"|"+ct.fragmentShader;let dt=SHADER_UPGRADE_CACHE[ut];if(!dt){const ft=upgradeShaders(ct,et,rt);dt=SHADER_UPGRADE_CACHE[ut]=ft}ct.vertexShader=dt.vertexShader,ct.fragmentShader=dt.fragmentShader,assign$1(ct.uniforms,this.uniforms),et.timeUniform&&(ct.uniforms[et.timeUniform]={get value(){return Date.now()-epoch}}),this[it]&&this[it](ct)},at=function(){return st(et.chained?tt:tt.clone())},st=function(ct){const ut=Object.create(ct,lt);return Object.defineProperty(ut,"baseMaterial",{value:tt}),Object.defineProperty(ut,"id",{value:materialInstanceId++}),ut.uuid=generateUUID(),ut.uniforms=assign$1({},ct.uniforms,et.uniforms),ut.defines=assign$1({},ct.defines,et.defines),ut.defines[`TROIKA_DERIVED_MATERIAL_${rt}`]="",ut.extensions=assign$1({},ct.extensions,et.extensions),ut._listeners=void 0,ut},lt={constructor:{value:at},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return tt.customProgramCacheKey()+"|"+rt}},onBeforeCompile:{get(){return ot},set(ct){this[it]=ct}},copy:{writable:!0,configurable:!0,value:function(ct){return tt.copy.call(this,ct),!tt.isShaderMaterial&&!tt.isDerivedMaterial&&(assign$1(this.extensions,ct.extensions),assign$1(this.defines,ct.defines),assign$1(this.uniforms,UniformsUtils.clone(ct.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const ct=new tt.constructor;return st(ct).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let ct=this._depthMaterial;return ct||(ct=this._depthMaterial=createDerivedMaterial(tt.isDerivedMaterial?tt.getDepthMaterial():new MeshDepthMaterial({depthPacking:RGBADepthPacking}),et),ct.defines.IS_DEPTH_MATERIAL="",ct.uniforms=this.uniforms),ct}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let ct=this._distanceMaterial;return ct||(ct=this._distanceMaterial=createDerivedMaterial(tt.isDerivedMaterial?tt.getDistanceMaterial():new MeshDistanceMaterial,et),ct.defines.IS_DISTANCE_MATERIAL="",ct.uniforms=this.uniforms),ct}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:ct,_distanceMaterial:ut}=this;ct&&ct.dispose(),ut&&ut.dispose(),tt.dispose.call(this)}}};return nt[rt]=at,new at}function upgradeShaders({vertexShader:tt,fragmentShader:et},rt,nt){let{vertexDefs:it,vertexMainIntro:ot,vertexMainOutro:at,vertexTransform:st,fragmentDefs:lt,fragmentMainIntro:ct,fragmentMainOutro:ut,fragmentColorTransform:dt,customRewriter:ft,timeUniform:pt}=rt;if(it=it||"",ot=ot||"",at=at||"",lt=lt||"",ct=ct||"",ut=ut||"",(st||ft)&&(tt=expandShaderIncludes(tt)),(dt||ft)&&(et=et.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),et=expandShaderIncludes(et)),ft){let mt=ft({vertexShader:tt,fragmentShader:et});tt=mt.vertexShader,et=mt.fragmentShader}if(dt){let mt=[];et=et.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,ht=>(mt.push(ht),"")),ut=`${dt}
${mt.join(`
`)}
${ut}`}if(pt){const mt=`
uniform float ${pt};
`;it=mt+it,lt=mt+lt}return st&&(tt=`vec3 troika_position_${nt};
vec3 troika_normal_${nt};
vec2 troika_uv_${nt};
${tt}
`,it=`${it}
void troikaVertexTransform${nt}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${st}
}
`,ot=`
troika_position_${nt} = vec3(position);
troika_normal_${nt} = vec3(normal);
troika_uv_${nt} = vec2(uv);
troikaVertexTransform${nt}(troika_position_${nt}, troika_normal_${nt}, troika_uv_${nt});
${ot}
`,tt=tt.replace(/\b(position|normal|uv)\b/g,(mt,ht,gt,vt)=>/\battribute\s+vec[23]\s+$/.test(vt.substr(0,gt))?ht:`troika_${ht}_${nt}`)),tt=injectIntoShaderCode(tt,nt,it,ot,at),et=injectIntoShaderCode(et,nt,lt,ct,ut),{vertexShader:tt,fragmentShader:et}}function injectIntoShaderCode(tt,et,rt,nt,it){return(nt||it||rt)&&(tt=tt.replace(voidMainRegExp,`
${rt}
void troikaOrigMain${et}() {`),tt+=`
void main() {
  ${nt}
  troikaOrigMain${et}();
  ${it}
}`),tt}function optionsJsonReplacer(tt,et){return tt==="uniforms"?void 0:typeof et=="function"?et.toString():et}let _idCtr=0;const optionsHashesToIds=new Map;function getKeyForOptions(tt){const et=JSON.stringify(tt,optionsJsonReplacer);let rt=optionsHashesToIds.get(et);return rt==null&&optionsHashesToIds.set(et,rt=++_idCtr),rt}function createTypesetter(tt,et,rt){const{defaultFontURL:nt}=rt,it=Object.create(null),ot=1/0,at=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,st="[^\\S\\u00A0]",lt=new RegExp(`${st}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function ct(yt,bt){function xt(){const $t=Tt=>{console.error(`Failure loading font ${yt}${yt===nt?"":"; trying fallback"}`,Tt),yt!==nt&&(yt=nt,xt())};try{const Tt=new XMLHttpRequest;Tt.open("get",yt,!0),Tt.responseType="arraybuffer",Tt.onload=function(){if(Tt.status>=400)$t(new Error(Tt.statusText));else if(Tt.status>0)try{const wt=tt(Tt.response);bt(wt)}catch(wt){$t(wt)}},Tt.onerror=$t,Tt.send()}catch(Tt){$t(Tt)}}xt()}function ut(yt,bt){yt||(yt=nt);let xt=it[yt];xt?xt.pending?xt.pending.push(bt):bt(xt):(it[yt]={pending:[bt]},ct(yt,$t=>{let Tt=it[yt].pending;it[yt]=$t,Tt.forEach(wt=>wt($t))}))}function dt({text:yt="",font:bt=nt,sdfGlyphSize:xt=64,fontSize:$t=1,letterSpacing:Tt=0,lineHeight:wt="normal",maxWidth:At=ot,direction:Rt,textAlign:It="left",textIndent:Lt=0,whiteSpace:Pt="normal",overflowWrap:Nt="normal",anchorX:Ot=0,anchorY:Bt=0,includeCaretPositions:zt=!1,chunkedBoundsSize:Vt=8192,colorRanges:Ut=null},jt,qt=!1){const Dt=ht(),Ft={fontLoad:0,typesetting:0};yt.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),yt=yt.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),$t=+$t,Tt=+Tt,At=+At,wt=wt||"normal",Lt=+Lt,ut(bt,Zt=>{const Kt=isFinite(At);let ir=null,rr=null,mr=null,sr=null,fr=null,pr=null,vr=null,dr=0,xr=0,Gt=Pt!=="nowrap";const{ascender:Wt,descender:nr,unitsPerEm:Qt,lineGap:Jt,capHeight:ar,xHeight:cr}=Zt;Ft.fontLoad=ht()-Dt;const lr=ht(),Yt=$t/Qt;wt==="normal"&&(wt=(Wt-nr+Jt)/Qt),wt=wt*$t;const Xt=(wt-(Wt-nr)*Yt)/2,tr=-(Wt*Yt+Xt),or=Math.min(wt,(Wt-nr)*Yt),br=(Wt+nr)/2*Yt-or/2;let Sr=Lt,yr=new gt;const hr=[yr];Zt.forEachGlyph(yt,$t,Tt,(Ar,Fr,zr)=>{const jr=yt.charAt(zr),Jr=Ar.advanceWidth*Yt,gn=yr.count;let mn;if("isEmpty"in Ar||(Ar.isWhitespace=!!jr&&new RegExp(st).test(jr),Ar.canBreakAfter=!!jr&&lt.test(jr),Ar.isEmpty=Ar.xMin===Ar.xMax||Ar.yMin===Ar.yMax||at.test(jr)),!Ar.isWhitespace&&!Ar.isEmpty&&xr++,Gt&&Kt&&!Ar.isWhitespace&&Fr+Jr+Sr>At&&gn){if(yr.glyphAt(gn-1).glyphObj.canBreakAfter)mn=new gt,Sr=-Fr;else for(let Dr=gn;Dr--;)if(Dr===0&&Nt==="break-word"){mn=new gt,Sr=-Fr;break}else if(yr.glyphAt(Dr).glyphObj.canBreakAfter){mn=yr.splitAt(Dr+1);const Hr=mn.glyphAt(0).x;Sr-=Hr;for(let Yr=mn.count;Yr--;)mn.glyphAt(Yr).x-=Hr;break}mn&&(yr.isSoftWrapped=!0,yr=mn,hr.push(yr),dr=At)}let Cr=yr.glyphAt(yr.count);Cr.glyphObj=Ar,Cr.x=Fr+Sr,Cr.width=Jr,Cr.charIndex=zr,jr===`
`&&(yr=new gt,hr.push(yr),Sr=-(Fr+Jr+Tt*$t)+Lt)}),hr.forEach(Ar=>{for(let Fr=Ar.count;Fr--;){let{glyphObj:zr,x:jr,width:Jr}=Ar.glyphAt(Fr);if(!zr.isWhitespace){Ar.width=jr+Jr,Ar.width>dr&&(dr=Ar.width);return}}});let $r=0,Mr=0;if(Ot&&(typeof Ot=="number"?$r=-Ot:typeof Ot=="string"&&($r=-dr*(Ot==="left"?0:Ot==="center"?.5:Ot==="right"?1:pt(Ot)))),Bt){if(typeof Bt=="number")Mr=-Bt;else if(typeof Bt=="string"){let Ar=hr.length*wt;Mr=Bt==="top"?0:Bt==="top-baseline"?-tr:Bt==="top-cap"?-tr-ar*Yt:Bt==="top-ex"?-tr-cr*Yt:Bt==="middle"?Ar/2:Bt==="bottom"?Ar:Bt==="bottom-baseline"?Ar-Xt+nr*Yt:pt(Bt)*Ar}}if(!qt){const Ar=et.getEmbeddingLevels(yt,Rt);ir=new Uint16Array(xr),rr=new Float32Array(xr*2),mr={},pr=[ot,ot,-ot,-ot],vr=[];let Fr=tr;zt&&(fr=new Float32Array(yt.length*3)),Ut&&(sr=new Uint8Array(xr*3));let zr=0,jr=-1,Jr=-1,gn,mn;if(hr.forEach((Cr,Dr)=>{let{count:Hr,width:Yr}=Cr;if(Hr>0){let dn=0;for(let Ln=Hr;Ln--&&Cr.glyphAt(Ln).glyphObj.isWhitespace;)dn++;let On=0,Dn=0;if(It==="center")On=(dr-Yr)/2;else if(It==="right")On=dr-Yr;else if(It==="justify"&&Cr.isSoftWrapped){let Ln=0;for(let Rn=Hr-dn;Rn--;)Cr.glyphAt(Rn).glyphObj.isWhitespace&&Ln++;Dn=(dr-Yr)/Ln}if(Dn||On){let Ln=0;for(let Rn=0;Rn<Hr;Rn++){let Qn=Cr.glyphAt(Rn);const Un=Qn.glyphObj;Qn.x+=On+Ln,Dn!==0&&Un.isWhitespace&&Rn<Hr-dn&&(Ln+=Dn,Qn.width+=Dn)}}const Bn=et.getReorderSegments(yt,Ar,Cr.glyphAt(0).charIndex,Cr.glyphAt(Cr.count-1).charIndex);for(let Ln=0;Ln<Bn.length;Ln++){const[Rn,Qn]=Bn[Ln];let Un=1/0,yn=-1/0;for(let Tn=0;Tn<Hr;Tn++)if(Cr.glyphAt(Tn).charIndex>=Rn){let gr=Tn,kr=Tn;for(;kr<Hr;kr++){let Ur=Cr.glyphAt(kr);if(Ur.charIndex>Qn)break;kr<Hr-dn&&(Un=Math.min(Un,Ur.x),yn=Math.max(yn,Ur.x+Ur.width))}for(let Ur=gr;Ur<kr;Ur++){const Lr=Cr.glyphAt(Ur);Lr.x=yn-(Lr.x+Lr.width-Un)}break}}let Fn;const Mn=Ln=>Fn=Ln;for(let Ln=0;Ln<Hr;Ln++){let Rn=Cr.glyphAt(Ln);Fn=Rn.glyphObj;const Qn=Fn.index,Un=Ar.levels[Rn.charIndex]&1;if(Un){const yn=et.getMirroredCharacter(yt[Rn.charIndex]);yn&&Zt.forEachGlyph(yn,0,0,Mn)}if(zt){const{charIndex:yn}=Rn,Tn=Rn.x+$r,gr=Rn.x+Rn.width+$r;fr[yn*3]=Un?gr:Tn,fr[yn*3+1]=Un?Tn:gr,fr[yn*3+2]=Fr+br+Mr;const kr=yn-jr;kr>1&&mt(fr,jr,kr),jr=yn}if(Ut){const{charIndex:yn}=Rn;for(;yn>Jr;)Jr++,Ut.hasOwnProperty(Jr)&&(mn=Ut[Jr])}if(!Fn.isWhitespace&&!Fn.isEmpty){const yn=zr++;mr[Qn]||(mr[Qn]={path:Fn.path,pathBounds:[Fn.xMin,Fn.yMin,Fn.xMax,Fn.yMax]});const Tn=Rn.x+$r,gr=Fr+Mr;rr[yn*2]=Tn,rr[yn*2+1]=gr;const kr=Tn+Fn.xMin*Yt,Ur=gr+Fn.yMin*Yt,Lr=Tn+Fn.xMax*Yt,Vr=gr+Fn.yMax*Yt;kr<pr[0]&&(pr[0]=kr),Ur<pr[1]&&(pr[1]=Ur),Lr>pr[2]&&(pr[2]=Lr),Vr>pr[3]&&(pr[3]=Vr),yn%Vt===0&&(gn={start:yn,end:yn,rect:[ot,ot,-ot,-ot]},vr.push(gn)),gn.end++;const Or=gn.rect;if(kr<Or[0]&&(Or[0]=kr),Ur<Or[1]&&(Or[1]=Ur),Lr>Or[2]&&(Or[2]=Lr),Vr>Or[3]&&(Or[3]=Vr),ir[yn]=Qn,Ut){const Rr=yn*3;sr[Rr]=mn>>16&255,sr[Rr+1]=mn>>8&255,sr[Rr+2]=mn&255}}}}Fr-=wt}),fr){const Cr=yt.length-jr;Cr>1&&mt(fr,jr,Cr)}}Ft.typesetting=ht()-lr,jt({glyphIds:ir,glyphPositions:rr,glyphData:mr,caretPositions:fr,caretHeight:or,glyphColors:sr,chunkedBounds:vr,fontSize:$t,unitsPerEm:Qt,ascender:Wt*Yt,descender:nr*Yt,capHeight:ar*Yt,xHeight:cr*Yt,lineHeight:wt,topBaseline:tr,blockBounds:[$r,Mr-hr.length*wt,$r+dr,Mr],visibleBounds:pr,timings:Ft})})}function ft(yt,bt){dt(yt,xt=>{const[$t,Tt,wt,At]=xt.blockBounds;bt({width:wt-$t,height:At-Tt})},{metricsOnly:!0})}function pt(yt){let bt=yt.match(/^([\d.]+)%$/),xt=bt?parseFloat(bt[1]):NaN;return isNaN(xt)?0:xt/100}function mt(yt,bt,xt){const $t=yt[bt*3],Tt=yt[bt*3+1],wt=yt[bt*3+2],At=(Tt-$t)/xt;for(let Rt=0;Rt<xt;Rt++){const It=(bt+Rt)*3;yt[It]=$t+At*Rt,yt[It+1]=$t+At*(Rt+1),yt[It+2]=wt}}function ht(){return(self.performance||Date).now()}function gt(){this.data=[]}const vt=["glyphObj","x","width","charIndex"];return gt.prototype={width:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/vt.length)},glyphAt(yt){let bt=gt.flyweight;return bt.data=this.data,bt.index=yt,bt},splitAt(yt){let bt=new gt;return bt.data=this.data.splice(yt*vt.length),bt}},gt.flyweight=vt.reduce((yt,bt,xt,$t)=>(Object.defineProperty(yt,bt,{get(){return this.data[this.index*vt.length+xt]},set(Tt){this.data[this.index*vt.length+xt]=Tt}}),yt),{data:null,index:0}),{typeset:dt,measure:ft,loadFont:ut}}const now=()=>(self.performance||Date).now(),mainThreadGenerator=SDFGenerator();let warned;function generateSDF(tt,et,rt,nt,it,ot,at,st,lt,ct,ut=!0){return ut?generateSDF_GL(tt,et,rt,nt,it,ot,at,st,lt,ct).then(null,dt=>(warned||(console.warn("WebGL SDF generation failed, falling back to JS",dt),warned=!0),generateSDF_JS_Worker(tt,et,rt,nt,it,ot,at,st,lt,ct))):generateSDF_JS_Worker(tt,et,rt,nt,it,ot,at,st,lt,ct)}const queue$5=[],chunkTimeBudget=5;let timer$2=0;function nextChunk(){const tt=now();for(;queue$5.length&&now()-tt<chunkTimeBudget;)queue$5.shift()();timer$2=queue$5.length?setTimeout(nextChunk,0):0}const generateSDF_GL=(...tt)=>new Promise((et,rt)=>{queue$5.push(()=>{const nt=now();try{mainThreadGenerator.webgl.generateIntoCanvas(...tt),et({timing:now()-nt})}catch(it){rt(it)}}),timer$2||(timer$2=setTimeout(nextChunk,0))}),threadCount=4,idleTimeout=2e3,threads={};let callNum=0;function generateSDF_JS_Worker(tt,et,rt,nt,it,ot,at,st,lt,ct){const ut="TroikaTextSDFGenerator_JS_"+callNum++%threadCount;let dt=threads[ut];return dt||(dt=threads[ut]={workerModule:defineWorkerModule({name:ut,workerId:ut,dependencies:[SDFGenerator,now],init(ft,pt){const mt=ft().javascript.generate;return function(...ht){const gt=pt();return{textureData:mt(...ht),timing:pt()-gt}}},getTransferables(ft){return[ft.textureData.buffer]}}),requests:0,idleTimer:null}),dt.requests++,clearTimeout(dt.idleTimer),dt.workerModule(tt,et,rt,nt,it,ot).then(({textureData:ft,timing:pt})=>{const mt=now(),ht=new Uint8Array(ft.length*4);for(let gt=0;gt<ft.length;gt++)ht[gt*4+ct]=ft[gt];return mainThreadGenerator.webglUtils.renderImageData(at,ht,st,lt,tt,et,1<<3-ct),pt+=now()-mt,--dt.requests===0&&(dt.idleTimer=setTimeout(()=>{terminateWorker(ut)},idleTimeout)),{timing:pt}})}function warmUpSDFCanvas(tt){tt._warm||(mainThreadGenerator.webgl.isSupported(tt),tt._warm=!0)}const resizeWebGLCanvasWithoutClearing=mainThreadGenerator.webglUtils.resizeWebGLCanvasWithoutClearing;/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function typrFactory(){return typeof window>"u"&&(self.window=self),function(tt){var et={parse:function(it){var ot=et._bin,at=new Uint8Array(it);if(ot.readASCII(at,0,4)=="ttcf"){var st=4;ot.readUshort(at,st),st+=2,ot.readUshort(at,st),st+=2;var lt=ot.readUint(at,st);st+=4;for(var ct=[],ut=0;ut<lt;ut++){var dt=ot.readUint(at,st);st+=4,ct.push(et._readFont(at,dt))}return ct}return[et._readFont(at,0)]},_readFont:function(it,ot){var at=et._bin,st=ot;at.readFixed(it,ot),ot+=4;var lt=at.readUshort(it,ot);ot+=2,at.readUshort(it,ot),ot+=2,at.readUshort(it,ot),ot+=2,at.readUshort(it,ot),ot+=2;for(var ct=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GPOS","GSUB","SVG "],ut={_data:it,_offset:st},dt={},ft=0;ft<lt;ft++){var pt=at.readASCII(it,ot,4);ot+=4,at.readUint(it,ot),ot+=4;var mt=at.readUint(it,ot);ot+=4;var ht=at.readUint(it,ot);ot+=4,dt[pt]={offset:mt,length:ht}}for(ft=0;ft<ct.length;ft++){var gt=ct[ft];dt[gt]&&(ut[gt.trim()]=et[gt.trim()].parse(it,dt[gt].offset,dt[gt].length,ut))}return ut},_tabOffset:function(it,ot,at){for(var st=et._bin,lt=st.readUshort(it,at+4),ct=at+12,ut=0;ut<lt;ut++){var dt=st.readASCII(it,ct,4);ct+=4,st.readUint(it,ct),ct+=4;var ft=st.readUint(it,ct);if(ct+=4,st.readUint(it,ct),ct+=4,dt==ot)return ft}return 0}};et._bin={readFixed:function(it,ot){return(it[ot]<<8|it[ot+1])+(it[ot+2]<<8|it[ot+3])/65540},readF2dot14:function(it,ot){return et._bin.readShort(it,ot)/16384},readInt:function(it,ot){return et._bin._view(it).getInt32(ot)},readInt8:function(it,ot){return et._bin._view(it).getInt8(ot)},readShort:function(it,ot){return et._bin._view(it).getInt16(ot)},readUshort:function(it,ot){return et._bin._view(it).getUint16(ot)},readUshorts:function(it,ot,at){for(var st=[],lt=0;lt<at;lt++)st.push(et._bin.readUshort(it,ot+2*lt));return st},readUint:function(it,ot){return et._bin._view(it).getUint32(ot)},readUint64:function(it,ot){return 4294967296*et._bin.readUint(it,ot)+et._bin.readUint(it,ot+4)},readASCII:function(it,ot,at){for(var st="",lt=0;lt<at;lt++)st+=String.fromCharCode(it[ot+lt]);return st},readUnicode:function(it,ot,at){for(var st="",lt=0;lt<at;lt++){var ct=it[ot++]<<8|it[ot++];st+=String.fromCharCode(ct)}return st},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(it,ot,at){var st=et._bin._tdec;return st&&ot==0&&at==it.length?st.decode(it):et._bin.readASCII(it,ot,at)},readBytes:function(it,ot,at){for(var st=[],lt=0;lt<at;lt++)st.push(it[ot+lt]);return st},readASCIIArray:function(it,ot,at){for(var st=[],lt=0;lt<at;lt++)st.push(String.fromCharCode(it[ot+lt]));return st},_view:function(it){return it._dataView||(it._dataView=it.buffer?new DataView(it.buffer,it.byteOffset,it.byteLength):new DataView(new Uint8Array(it).buffer))}},et._lctf={},et._lctf.parse=function(it,ot,at,st,lt){var ct=et._bin,ut={},dt=ot;ct.readFixed(it,ot),ot+=4;var ft=ct.readUshort(it,ot);ot+=2;var pt=ct.readUshort(it,ot);ot+=2;var mt=ct.readUshort(it,ot);return ot+=2,ut.scriptList=et._lctf.readScriptList(it,dt+ft),ut.featureList=et._lctf.readFeatureList(it,dt+pt),ut.lookupList=et._lctf.readLookupList(it,dt+mt,lt),ut},et._lctf.readLookupList=function(it,ot,at){var st=et._bin,lt=ot,ct=[],ut=st.readUshort(it,ot);ot+=2;for(var dt=0;dt<ut;dt++){var ft=st.readUshort(it,ot);ot+=2;var pt=et._lctf.readLookupTable(it,lt+ft,at);ct.push(pt)}return ct},et._lctf.readLookupTable=function(it,ot,at){var st=et._bin,lt=ot,ct={tabs:[]};ct.ltype=st.readUshort(it,ot),ot+=2,ct.flag=st.readUshort(it,ot),ot+=2;var ut=st.readUshort(it,ot);ot+=2;for(var dt=ct.ltype,ft=0;ft<ut;ft++){var pt=st.readUshort(it,ot);ot+=2;var mt=at(it,dt,lt+pt,ct);ct.tabs.push(mt)}return ct},et._lctf.numOfOnes=function(it){for(var ot=0,at=0;at<32;at++)it>>>at&1&&ot++;return ot},et._lctf.readClassDef=function(it,ot){var at=et._bin,st=[],lt=at.readUshort(it,ot);if(ot+=2,lt==1){var ct=at.readUshort(it,ot);ot+=2;var ut=at.readUshort(it,ot);ot+=2;for(var dt=0;dt<ut;dt++)st.push(ct+dt),st.push(ct+dt),st.push(at.readUshort(it,ot)),ot+=2}if(lt==2){var ft=at.readUshort(it,ot);for(ot+=2,dt=0;dt<ft;dt++)st.push(at.readUshort(it,ot)),ot+=2,st.push(at.readUshort(it,ot)),ot+=2,st.push(at.readUshort(it,ot)),ot+=2}return st},et._lctf.getInterval=function(it,ot){for(var at=0;at<it.length;at+=3){var st=it[at],lt=it[at+1];if(it[at+2],st<=ot&&ot<=lt)return at}return-1},et._lctf.readCoverage=function(it,ot){var at=et._bin,st={};st.fmt=at.readUshort(it,ot),ot+=2;var lt=at.readUshort(it,ot);return ot+=2,st.fmt==1&&(st.tab=at.readUshorts(it,ot,lt)),st.fmt==2&&(st.tab=at.readUshorts(it,ot,3*lt)),st},et._lctf.coverageIndex=function(it,ot){var at=it.tab;if(it.fmt==1)return at.indexOf(ot);if(it.fmt==2){var st=et._lctf.getInterval(at,ot);if(st!=-1)return at[st+2]+(ot-at[st])}return-1},et._lctf.readFeatureList=function(it,ot){var at=et._bin,st=ot,lt=[],ct=at.readUshort(it,ot);ot+=2;for(var ut=0;ut<ct;ut++){var dt=at.readASCII(it,ot,4);ot+=4;var ft=at.readUshort(it,ot);ot+=2;var pt=et._lctf.readFeatureTable(it,st+ft);pt.tag=dt.trim(),lt.push(pt)}return lt},et._lctf.readFeatureTable=function(it,ot){var at=et._bin,st=ot,lt={},ct=at.readUshort(it,ot);ot+=2,ct>0&&(lt.featureParams=st+ct);var ut=at.readUshort(it,ot);ot+=2,lt.tab=[];for(var dt=0;dt<ut;dt++)lt.tab.push(at.readUshort(it,ot+2*dt));return lt},et._lctf.readScriptList=function(it,ot){var at=et._bin,st=ot,lt={},ct=at.readUshort(it,ot);ot+=2;for(var ut=0;ut<ct;ut++){var dt=at.readASCII(it,ot,4);ot+=4;var ft=at.readUshort(it,ot);ot+=2,lt[dt.trim()]=et._lctf.readScriptTable(it,st+ft)}return lt},et._lctf.readScriptTable=function(it,ot){var at=et._bin,st=ot,lt={},ct=at.readUshort(it,ot);ot+=2,lt.default=et._lctf.readLangSysTable(it,st+ct);var ut=at.readUshort(it,ot);ot+=2;for(var dt=0;dt<ut;dt++){var ft=at.readASCII(it,ot,4);ot+=4;var pt=at.readUshort(it,ot);ot+=2,lt[ft.trim()]=et._lctf.readLangSysTable(it,st+pt)}return lt},et._lctf.readLangSysTable=function(it,ot){var at=et._bin,st={};at.readUshort(it,ot),ot+=2,st.reqFeature=at.readUshort(it,ot),ot+=2;var lt=at.readUshort(it,ot);return ot+=2,st.features=at.readUshorts(it,ot,lt),st},et.CFF={},et.CFF.parse=function(it,ot,at){var st=et._bin;(it=new Uint8Array(it.buffer,ot,at))[ot=0],it[++ot],it[++ot],it[++ot],ot++;var lt=[];ot=et.CFF.readIndex(it,ot,lt);for(var ct=[],ut=0;ut<lt.length-1;ut++)ct.push(st.readASCII(it,ot+lt[ut],lt[ut+1]-lt[ut]));ot+=lt[lt.length-1];var dt=[];ot=et.CFF.readIndex(it,ot,dt);var ft=[];for(ut=0;ut<dt.length-1;ut++)ft.push(et.CFF.readDict(it,ot+dt[ut],ot+dt[ut+1]));ot+=dt[dt.length-1];var pt=ft[0],mt=[];ot=et.CFF.readIndex(it,ot,mt);var ht=[];for(ut=0;ut<mt.length-1;ut++)ht.push(st.readASCII(it,ot+mt[ut],mt[ut+1]-mt[ut]));if(ot+=mt[mt.length-1],et.CFF.readSubrs(it,ot,pt),pt.CharStrings){ot=pt.CharStrings,mt=[],ot=et.CFF.readIndex(it,ot,mt);var gt=[];for(ut=0;ut<mt.length-1;ut++)gt.push(st.readBytes(it,ot+mt[ut],mt[ut+1]-mt[ut]));pt.CharStrings=gt}if(pt.ROS){ot=pt.FDArray;var vt=[];for(ot=et.CFF.readIndex(it,ot,vt),pt.FDArray=[],ut=0;ut<vt.length-1;ut++){var yt=et.CFF.readDict(it,ot+vt[ut],ot+vt[ut+1]);et.CFF._readFDict(it,yt,ht),pt.FDArray.push(yt)}ot+=vt[vt.length-1],ot=pt.FDSelect,pt.FDSelect=[];var bt=it[ot];if(ot++,bt!=3)throw bt;var xt=st.readUshort(it,ot);for(ot+=2,ut=0;ut<xt+1;ut++)pt.FDSelect.push(st.readUshort(it,ot),it[ot+2]),ot+=3}return pt.Encoding&&(pt.Encoding=et.CFF.readEncoding(it,pt.Encoding,pt.CharStrings.length)),pt.charset&&(pt.charset=et.CFF.readCharset(it,pt.charset,pt.CharStrings.length)),et.CFF._readFDict(it,pt,ht),pt},et.CFF._readFDict=function(it,ot,at){var st;for(var lt in ot.Private&&(st=ot.Private[1],ot.Private=et.CFF.readDict(it,st,st+ot.Private[0]),ot.Private.Subrs&&et.CFF.readSubrs(it,st+ot.Private.Subrs,ot.Private)),ot)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(lt)!=-1&&(ot[lt]=at[ot[lt]-426+35])},et.CFF.readSubrs=function(it,ot,at){var st=et._bin,lt=[];ot=et.CFF.readIndex(it,ot,lt);var ct,ut=lt.length;ct=ut<1240?107:ut<33900?1131:32768,at.Bias=ct,at.Subrs=[];for(var dt=0;dt<lt.length-1;dt++)at.Subrs.push(st.readBytes(it,ot+lt[dt],lt[dt+1]-lt[dt]))},et.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],et.CFF.glyphByUnicode=function(it,ot){for(var at=0;at<it.charset.length;at++)if(it.charset[at]==ot)return at;return-1},et.CFF.glyphBySE=function(it,ot){return ot<0||ot>255?-1:et.CFF.glyphByUnicode(it,et.CFF.tableSE[ot])},et.CFF.readEncoding=function(it,ot,at){et._bin;var st=[".notdef"],lt=it[ot];if(ot++,lt!=0)throw"error: unknown encoding format: "+lt;var ct=it[ot];ot++;for(var ut=0;ut<ct;ut++)st.push(it[ot+ut]);return st},et.CFF.readCharset=function(it,ot,at){var st=et._bin,lt=[".notdef"],ct=it[ot];if(ot++,ct==0)for(var ut=0;ut<at;ut++){var dt=st.readUshort(it,ot);ot+=2,lt.push(dt)}else{if(ct!=1&&ct!=2)throw"error: format: "+ct;for(;lt.length<at;){dt=st.readUshort(it,ot),ot+=2;var ft=0;for(ct==1?(ft=it[ot],ot++):(ft=st.readUshort(it,ot),ot+=2),ut=0;ut<=ft;ut++)lt.push(dt),dt++}}return lt},et.CFF.readIndex=function(it,ot,at){var st=et._bin,lt=st.readUshort(it,ot)+1,ct=it[ot+=2];if(ot++,ct==1)for(var ut=0;ut<lt;ut++)at.push(it[ot+ut]);else if(ct==2)for(ut=0;ut<lt;ut++)at.push(st.readUshort(it,ot+2*ut));else if(ct==3)for(ut=0;ut<lt;ut++)at.push(16777215&st.readUint(it,ot+3*ut-1));else if(lt!=1)throw"unsupported offset size: "+ct+", count: "+lt;return(ot+=lt*ct)-1},et.CFF.getCharString=function(it,ot,at){var st=et._bin,lt=it[ot],ct=it[ot+1];it[ot+2],it[ot+3],it[ot+4];var ut=1,dt=null,ft=null;lt<=20&&(dt=lt,ut=1),lt==12&&(dt=100*lt+ct,ut=2),21<=lt&&lt<=27&&(dt=lt,ut=1),lt==28&&(ft=st.readShort(it,ot+1),ut=3),29<=lt&&lt<=31&&(dt=lt,ut=1),32<=lt&&lt<=246&&(ft=lt-139,ut=1),247<=lt&&lt<=250&&(ft=256*(lt-247)+ct+108,ut=2),251<=lt&&lt<=254&&(ft=256*-(lt-251)-ct-108,ut=2),lt==255&&(ft=st.readInt(it,ot+1)/65535,ut=5),at.val=ft??"o"+dt,at.size=ut},et.CFF.readCharString=function(it,ot,at){for(var st=ot+at,lt=et._bin,ct=[];ot<st;){var ut=it[ot],dt=it[ot+1];it[ot+2],it[ot+3],it[ot+4];var ft=1,pt=null,mt=null;ut<=20&&(pt=ut,ft=1),ut==12&&(pt=100*ut+dt,ft=2),ut!=19&&ut!=20||(pt=ut,ft=2),21<=ut&&ut<=27&&(pt=ut,ft=1),ut==28&&(mt=lt.readShort(it,ot+1),ft=3),29<=ut&&ut<=31&&(pt=ut,ft=1),32<=ut&&ut<=246&&(mt=ut-139,ft=1),247<=ut&&ut<=250&&(mt=256*(ut-247)+dt+108,ft=2),251<=ut&&ut<=254&&(mt=256*-(ut-251)-dt-108,ft=2),ut==255&&(mt=lt.readInt(it,ot+1)/65535,ft=5),ct.push(mt??"o"+pt),ot+=ft}return ct},et.CFF.readDict=function(it,ot,at){for(var st=et._bin,lt={},ct=[];ot<at;){var ut=it[ot],dt=it[ot+1];it[ot+2],it[ot+3],it[ot+4];var ft=1,pt=null,mt=null;if(ut==28&&(mt=st.readShort(it,ot+1),ft=3),ut==29&&(mt=st.readInt(it,ot+1),ft=5),32<=ut&&ut<=246&&(mt=ut-139,ft=1),247<=ut&&ut<=250&&(mt=256*(ut-247)+dt+108,ft=2),251<=ut&&ut<=254&&(mt=256*-(ut-251)-dt-108,ft=2),ut==255)throw mt=st.readInt(it,ot+1)/65535,ft=5,"unknown number";if(ut==30){var ht=[];for(ft=1;;){var gt=it[ot+ft];ft++;var vt=gt>>4,yt=15&gt;if(vt!=15&&ht.push(vt),yt!=15&&ht.push(yt),yt==15)break}for(var bt="",xt=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],$t=0;$t<ht.length;$t++)bt+=xt[ht[$t]];mt=parseFloat(bt)}ut<=21&&(pt=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][ut],ft=1,ut==12&&(pt=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][dt],ft=2)),pt!=null?(lt[pt]=ct.length==1?ct[0]:ct,ct=[]):ct.push(mt),ot+=ft}return lt},et.cmap={},et.cmap.parse=function(it,ot,at){it=new Uint8Array(it.buffer,ot,at),ot=0;var st=et._bin,lt={};st.readUshort(it,ot),ot+=2;var ct=st.readUshort(it,ot);ot+=2;var ut=[];lt.tables=[];for(var dt=0;dt<ct;dt++){var ft=st.readUshort(it,ot);ot+=2;var pt=st.readUshort(it,ot);ot+=2;var mt=st.readUint(it,ot);ot+=4;var ht="p"+ft+"e"+pt,gt=ut.indexOf(mt);if(gt==-1){var vt;gt=lt.tables.length,ut.push(mt);var yt=st.readUshort(it,mt);yt==0?vt=et.cmap.parse0(it,mt):yt==4?vt=et.cmap.parse4(it,mt):yt==6?vt=et.cmap.parse6(it,mt):yt==12?vt=et.cmap.parse12(it,mt):console.debug("unknown format: "+yt,ft,pt,mt),lt.tables.push(vt)}if(lt[ht]!=null)throw"multiple tables for one platform+encoding";lt[ht]=gt}return lt},et.cmap.parse0=function(it,ot){var at=et._bin,st={};st.format=at.readUshort(it,ot),ot+=2;var lt=at.readUshort(it,ot);ot+=2,at.readUshort(it,ot),ot+=2,st.map=[];for(var ct=0;ct<lt-6;ct++)st.map.push(it[ot+ct]);return st},et.cmap.parse4=function(it,ot){var at=et._bin,st=ot,lt={};lt.format=at.readUshort(it,ot),ot+=2;var ct=at.readUshort(it,ot);ot+=2,at.readUshort(it,ot),ot+=2;var ut=at.readUshort(it,ot);ot+=2;var dt=ut/2;lt.searchRange=at.readUshort(it,ot),ot+=2,lt.entrySelector=at.readUshort(it,ot),ot+=2,lt.rangeShift=at.readUshort(it,ot),ot+=2,lt.endCount=at.readUshorts(it,ot,dt),ot+=2*dt,ot+=2,lt.startCount=at.readUshorts(it,ot,dt),ot+=2*dt,lt.idDelta=[];for(var ft=0;ft<dt;ft++)lt.idDelta.push(at.readShort(it,ot)),ot+=2;for(lt.idRangeOffset=at.readUshorts(it,ot,dt),ot+=2*dt,lt.glyphIdArray=[];ot<st+ct;)lt.glyphIdArray.push(at.readUshort(it,ot)),ot+=2;return lt},et.cmap.parse6=function(it,ot){var at=et._bin,st={};st.format=at.readUshort(it,ot),ot+=2,at.readUshort(it,ot),ot+=2,at.readUshort(it,ot),ot+=2,st.firstCode=at.readUshort(it,ot),ot+=2;var lt=at.readUshort(it,ot);ot+=2,st.glyphIdArray=[];for(var ct=0;ct<lt;ct++)st.glyphIdArray.push(at.readUshort(it,ot)),ot+=2;return st},et.cmap.parse12=function(it,ot){var at=et._bin,st={};st.format=at.readUshort(it,ot),ot+=2,ot+=2,at.readUint(it,ot),ot+=4,at.readUint(it,ot),ot+=4;var lt=at.readUint(it,ot);ot+=4,st.groups=[];for(var ct=0;ct<lt;ct++){var ut=ot+12*ct,dt=at.readUint(it,ut+0),ft=at.readUint(it,ut+4),pt=at.readUint(it,ut+8);st.groups.push([dt,ft,pt])}return st},et.glyf={},et.glyf.parse=function(it,ot,at,st){for(var lt=[],ct=0;ct<st.maxp.numGlyphs;ct++)lt.push(null);return lt},et.glyf._parseGlyf=function(it,ot){var at=et._bin,st=it._data,lt=et._tabOffset(st,"glyf",it._offset)+it.loca[ot];if(it.loca[ot]==it.loca[ot+1])return null;var ct={};if(ct.noc=at.readShort(st,lt),lt+=2,ct.xMin=at.readShort(st,lt),lt+=2,ct.yMin=at.readShort(st,lt),lt+=2,ct.xMax=at.readShort(st,lt),lt+=2,ct.yMax=at.readShort(st,lt),lt+=2,ct.xMin>=ct.xMax||ct.yMin>=ct.yMax)return null;if(ct.noc>0){ct.endPts=[];for(var ut=0;ut<ct.noc;ut++)ct.endPts.push(at.readUshort(st,lt)),lt+=2;var dt=at.readUshort(st,lt);if(lt+=2,st.length-lt<dt)return null;ct.instructions=at.readBytes(st,lt,dt),lt+=dt;var ft=ct.endPts[ct.noc-1]+1;for(ct.flags=[],ut=0;ut<ft;ut++){var pt=st[lt];if(lt++,ct.flags.push(pt),(8&pt)!=0){var mt=st[lt];lt++;for(var ht=0;ht<mt;ht++)ct.flags.push(pt),ut++}}for(ct.xs=[],ut=0;ut<ft;ut++){var gt=(2&ct.flags[ut])!=0,vt=(16&ct.flags[ut])!=0;gt?(ct.xs.push(vt?st[lt]:-st[lt]),lt++):vt?ct.xs.push(0):(ct.xs.push(at.readShort(st,lt)),lt+=2)}for(ct.ys=[],ut=0;ut<ft;ut++)gt=(4&ct.flags[ut])!=0,vt=(32&ct.flags[ut])!=0,gt?(ct.ys.push(vt?st[lt]:-st[lt]),lt++):vt?ct.ys.push(0):(ct.ys.push(at.readShort(st,lt)),lt+=2);var yt=0,bt=0;for(ut=0;ut<ft;ut++)yt+=ct.xs[ut],bt+=ct.ys[ut],ct.xs[ut]=yt,ct.ys[ut]=bt}else{var xt;ct.parts=[];do{xt=at.readUshort(st,lt),lt+=2;var $t={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(ct.parts.push($t),$t.glyphIndex=at.readUshort(st,lt),lt+=2,1&xt){var Tt=at.readShort(st,lt);lt+=2;var wt=at.readShort(st,lt);lt+=2}else Tt=at.readInt8(st,lt),lt++,wt=at.readInt8(st,lt),lt++;2&xt?($t.m.tx=Tt,$t.m.ty=wt):($t.p1=Tt,$t.p2=wt),8&xt?($t.m.a=$t.m.d=at.readF2dot14(st,lt),lt+=2):64&xt?($t.m.a=at.readF2dot14(st,lt),lt+=2,$t.m.d=at.readF2dot14(st,lt),lt+=2):128&xt&&($t.m.a=at.readF2dot14(st,lt),lt+=2,$t.m.b=at.readF2dot14(st,lt),lt+=2,$t.m.c=at.readF2dot14(st,lt),lt+=2,$t.m.d=at.readF2dot14(st,lt),lt+=2)}while(32&xt);if(256&xt){var At=at.readUshort(st,lt);for(lt+=2,ct.instr=[],ut=0;ut<At;ut++)ct.instr.push(st[lt]),lt++}}return ct},et.GPOS={},et.GPOS.parse=function(it,ot,at,st){return et._lctf.parse(it,ot,at,st,et.GPOS.subt)},et.GPOS.subt=function(it,ot,at,st){var lt=et._bin,ct=at,ut={};if(ut.fmt=lt.readUshort(it,at),at+=2,ot==1||ot==2||ot==3||ot==7||ot==8&&ut.fmt<=2){var dt=lt.readUshort(it,at);at+=2,ut.coverage=et._lctf.readCoverage(it,dt+ct)}if(ot==1&&ut.fmt==1){var ft=lt.readUshort(it,at);at+=2;var pt=et._lctf.numOfOnes(ft);ft!=0&&(ut.pos=et.GPOS.readValueRecord(it,at,ft))}else if(ot==2&&ut.fmt>=1&&ut.fmt<=2){ft=lt.readUshort(it,at),at+=2;var mt=lt.readUshort(it,at);at+=2,pt=et._lctf.numOfOnes(ft);var ht=et._lctf.numOfOnes(mt);if(ut.fmt==1){ut.pairsets=[];var gt=lt.readUshort(it,at);at+=2;for(var vt=0;vt<gt;vt++){var yt=ct+lt.readUshort(it,at);at+=2;var bt=lt.readUshort(it,yt);yt+=2;for(var xt=[],$t=0;$t<bt;$t++){var Tt=lt.readUshort(it,yt);yt+=2,ft!=0&&(Pt=et.GPOS.readValueRecord(it,yt,ft),yt+=2*pt),mt!=0&&(Nt=et.GPOS.readValueRecord(it,yt,mt),yt+=2*ht),xt.push({gid2:Tt,val1:Pt,val2:Nt})}ut.pairsets.push(xt)}}if(ut.fmt==2){var wt=lt.readUshort(it,at);at+=2;var At=lt.readUshort(it,at);at+=2;var Rt=lt.readUshort(it,at);at+=2;var It=lt.readUshort(it,at);for(at+=2,ut.classDef1=et._lctf.readClassDef(it,ct+wt),ut.classDef2=et._lctf.readClassDef(it,ct+At),ut.matrix=[],vt=0;vt<Rt;vt++){var Lt=[];for($t=0;$t<It;$t++){var Pt=null,Nt=null;ft!=0&&(Pt=et.GPOS.readValueRecord(it,at,ft),at+=2*pt),mt!=0&&(Nt=et.GPOS.readValueRecord(it,at,mt),at+=2*ht),Lt.push({val1:Pt,val2:Nt})}ut.matrix.push(Lt)}}}else{if(ot==9&&ut.fmt==1){var Ot=lt.readUshort(it,at);at+=2;var Bt=lt.readUint(it,at);if(at+=4,st.ltype==9)st.ltype=Ot;else if(st.ltype!=Ot)throw"invalid extension substitution";return et.GPOS.subt(it,st.ltype,ct+Bt)}console.debug("unsupported GPOS table LookupType",ot,"format",ut.fmt)}return ut},et.GPOS.readValueRecord=function(it,ot,at){var st=et._bin,lt=[];return lt.push(1&at?st.readShort(it,ot):0),ot+=1&at?2:0,lt.push(2&at?st.readShort(it,ot):0),ot+=2&at?2:0,lt.push(4&at?st.readShort(it,ot):0),ot+=4&at?2:0,lt.push(8&at?st.readShort(it,ot):0),ot+=8&at?2:0,lt},et.GSUB={},et.GSUB.parse=function(it,ot,at,st){return et._lctf.parse(it,ot,at,st,et.GSUB.subt)},et.GSUB.subt=function(it,ot,at,st){var lt=et._bin,ct=at,ut={};if(ut.fmt=lt.readUshort(it,at),at+=2,ot!=1&&ot!=4&&ot!=5&&ot!=6)return null;if(ot==1||ot==4||ot==5&&ut.fmt<=2||ot==6&&ut.fmt<=2){var dt=lt.readUshort(it,at);at+=2,ut.coverage=et._lctf.readCoverage(it,ct+dt)}if(ot==1&&ut.fmt>=1&&ut.fmt<=2){if(ut.fmt==1)ut.delta=lt.readShort(it,at),at+=2;else if(ut.fmt==2){var ft=lt.readUshort(it,at);at+=2,ut.newg=lt.readUshorts(it,at,ft),at+=2*ut.newg.length}}else if(ot==4){ut.vals=[],ft=lt.readUshort(it,at),at+=2;for(var pt=0;pt<ft;pt++){var mt=lt.readUshort(it,at);at+=2,ut.vals.push(et.GSUB.readLigatureSet(it,ct+mt))}}else if(ot==5&&ut.fmt==2){if(ut.fmt==2){var ht=lt.readUshort(it,at);at+=2,ut.cDef=et._lctf.readClassDef(it,ct+ht),ut.scset=[];var gt=lt.readUshort(it,at);for(at+=2,pt=0;pt<gt;pt++){var vt=lt.readUshort(it,at);at+=2,ut.scset.push(vt==0?null:et.GSUB.readSubClassSet(it,ct+vt))}}}else if(ot==6&&ut.fmt==3){if(ut.fmt==3){for(pt=0;pt<3;pt++){ft=lt.readUshort(it,at),at+=2;for(var yt=[],bt=0;bt<ft;bt++)yt.push(et._lctf.readCoverage(it,ct+lt.readUshort(it,at+2*bt)));at+=2*ft,pt==0&&(ut.backCvg=yt),pt==1&&(ut.inptCvg=yt),pt==2&&(ut.ahedCvg=yt)}ft=lt.readUshort(it,at),at+=2,ut.lookupRec=et.GSUB.readSubstLookupRecords(it,at,ft)}}else{if(ot==7&&ut.fmt==1){var xt=lt.readUshort(it,at);at+=2;var $t=lt.readUint(it,at);if(at+=4,st.ltype==9)st.ltype=xt;else if(st.ltype!=xt)throw"invalid extension substitution";return et.GSUB.subt(it,st.ltype,ct+$t)}console.debug("unsupported GSUB table LookupType",ot,"format",ut.fmt)}return ut},et.GSUB.readSubClassSet=function(it,ot){var at=et._bin.readUshort,st=ot,lt=[],ct=at(it,ot);ot+=2;for(var ut=0;ut<ct;ut++){var dt=at(it,ot);ot+=2,lt.push(et.GSUB.readSubClassRule(it,st+dt))}return lt},et.GSUB.readSubClassRule=function(it,ot){var at=et._bin.readUshort,st={},lt=at(it,ot),ct=at(it,ot+=2);ot+=2,st.input=[];for(var ut=0;ut<lt-1;ut++)st.input.push(at(it,ot)),ot+=2;return st.substLookupRecords=et.GSUB.readSubstLookupRecords(it,ot,ct),st},et.GSUB.readSubstLookupRecords=function(it,ot,at){for(var st=et._bin.readUshort,lt=[],ct=0;ct<at;ct++)lt.push(st(it,ot),st(it,ot+2)),ot+=4;return lt},et.GSUB.readChainSubClassSet=function(it,ot){var at=et._bin,st=ot,lt=[],ct=at.readUshort(it,ot);ot+=2;for(var ut=0;ut<ct;ut++){var dt=at.readUshort(it,ot);ot+=2,lt.push(et.GSUB.readChainSubClassRule(it,st+dt))}return lt},et.GSUB.readChainSubClassRule=function(it,ot){for(var at=et._bin,st={},lt=["backtrack","input","lookahead"],ct=0;ct<lt.length;ct++){var ut=at.readUshort(it,ot);ot+=2,ct==1&&ut--,st[lt[ct]]=at.readUshorts(it,ot,ut),ot+=2*st[lt[ct]].length}return ut=at.readUshort(it,ot),ot+=2,st.subst=at.readUshorts(it,ot,2*ut),ot+=2*st.subst.length,st},et.GSUB.readLigatureSet=function(it,ot){var at=et._bin,st=ot,lt=[],ct=at.readUshort(it,ot);ot+=2;for(var ut=0;ut<ct;ut++){var dt=at.readUshort(it,ot);ot+=2,lt.push(et.GSUB.readLigature(it,st+dt))}return lt},et.GSUB.readLigature=function(it,ot){var at=et._bin,st={chain:[]};st.nglyph=at.readUshort(it,ot),ot+=2;var lt=at.readUshort(it,ot);ot+=2;for(var ct=0;ct<lt-1;ct++)st.chain.push(at.readUshort(it,ot)),ot+=2;return st},et.head={},et.head.parse=function(it,ot,at){var st=et._bin,lt={};return st.readFixed(it,ot),ot+=4,lt.fontRevision=st.readFixed(it,ot),ot+=4,st.readUint(it,ot),ot+=4,st.readUint(it,ot),ot+=4,lt.flags=st.readUshort(it,ot),ot+=2,lt.unitsPerEm=st.readUshort(it,ot),ot+=2,lt.created=st.readUint64(it,ot),ot+=8,lt.modified=st.readUint64(it,ot),ot+=8,lt.xMin=st.readShort(it,ot),ot+=2,lt.yMin=st.readShort(it,ot),ot+=2,lt.xMax=st.readShort(it,ot),ot+=2,lt.yMax=st.readShort(it,ot),ot+=2,lt.macStyle=st.readUshort(it,ot),ot+=2,lt.lowestRecPPEM=st.readUshort(it,ot),ot+=2,lt.fontDirectionHint=st.readShort(it,ot),ot+=2,lt.indexToLocFormat=st.readShort(it,ot),ot+=2,lt.glyphDataFormat=st.readShort(it,ot),ot+=2,lt},et.hhea={},et.hhea.parse=function(it,ot,at){var st=et._bin,lt={};return st.readFixed(it,ot),ot+=4,lt.ascender=st.readShort(it,ot),ot+=2,lt.descender=st.readShort(it,ot),ot+=2,lt.lineGap=st.readShort(it,ot),ot+=2,lt.advanceWidthMax=st.readUshort(it,ot),ot+=2,lt.minLeftSideBearing=st.readShort(it,ot),ot+=2,lt.minRightSideBearing=st.readShort(it,ot),ot+=2,lt.xMaxExtent=st.readShort(it,ot),ot+=2,lt.caretSlopeRise=st.readShort(it,ot),ot+=2,lt.caretSlopeRun=st.readShort(it,ot),ot+=2,lt.caretOffset=st.readShort(it,ot),ot+=2,ot+=8,lt.metricDataFormat=st.readShort(it,ot),ot+=2,lt.numberOfHMetrics=st.readUshort(it,ot),ot+=2,lt},et.hmtx={},et.hmtx.parse=function(it,ot,at,st){for(var lt=et._bin,ct={aWidth:[],lsBearing:[]},ut=0,dt=0,ft=0;ft<st.maxp.numGlyphs;ft++)ft<st.hhea.numberOfHMetrics&&(ut=lt.readUshort(it,ot),ot+=2,dt=lt.readShort(it,ot),ot+=2),ct.aWidth.push(ut),ct.lsBearing.push(dt);return ct},et.kern={},et.kern.parse=function(it,ot,at,st){var lt=et._bin,ct=lt.readUshort(it,ot);if(ot+=2,ct==1)return et.kern.parseV1(it,ot-2,at,st);var ut=lt.readUshort(it,ot);ot+=2;for(var dt={glyph1:[],rval:[]},ft=0;ft<ut;ft++){ot+=2,at=lt.readUshort(it,ot),ot+=2;var pt=lt.readUshort(it,ot);ot+=2;var mt=pt>>>8;if((mt&=15)!=0)throw"unknown kern table format: "+mt;ot=et.kern.readFormat0(it,ot,dt)}return dt},et.kern.parseV1=function(it,ot,at,st){var lt=et._bin;lt.readFixed(it,ot),ot+=4;var ct=lt.readUint(it,ot);ot+=4;for(var ut={glyph1:[],rval:[]},dt=0;dt<ct;dt++){lt.readUint(it,ot),ot+=4;var ft=lt.readUshort(it,ot);ot+=2,lt.readUshort(it,ot),ot+=2;var pt=ft>>>8;if((pt&=15)!=0)throw"unknown kern table format: "+pt;ot=et.kern.readFormat0(it,ot,ut)}return ut},et.kern.readFormat0=function(it,ot,at){var st=et._bin,lt=-1,ct=st.readUshort(it,ot);ot+=2,st.readUshort(it,ot),ot+=2,st.readUshort(it,ot),ot+=2,st.readUshort(it,ot),ot+=2;for(var ut=0;ut<ct;ut++){var dt=st.readUshort(it,ot);ot+=2;var ft=st.readUshort(it,ot);ot+=2;var pt=st.readShort(it,ot);ot+=2,dt!=lt&&(at.glyph1.push(dt),at.rval.push({glyph2:[],vals:[]}));var mt=at.rval[at.rval.length-1];mt.glyph2.push(ft),mt.vals.push(pt),lt=dt}return ot},et.loca={},et.loca.parse=function(it,ot,at,st){var lt=et._bin,ct=[],ut=st.head.indexToLocFormat,dt=st.maxp.numGlyphs+1;if(ut==0)for(var ft=0;ft<dt;ft++)ct.push(lt.readUshort(it,ot+(ft<<1))<<1);if(ut==1)for(ft=0;ft<dt;ft++)ct.push(lt.readUint(it,ot+(ft<<2)));return ct},et.maxp={},et.maxp.parse=function(it,ot,at){var st=et._bin,lt={},ct=st.readUint(it,ot);return ot+=4,lt.numGlyphs=st.readUshort(it,ot),ot+=2,ct==65536&&(lt.maxPoints=st.readUshort(it,ot),ot+=2,lt.maxContours=st.readUshort(it,ot),ot+=2,lt.maxCompositePoints=st.readUshort(it,ot),ot+=2,lt.maxCompositeContours=st.readUshort(it,ot),ot+=2,lt.maxZones=st.readUshort(it,ot),ot+=2,lt.maxTwilightPoints=st.readUshort(it,ot),ot+=2,lt.maxStorage=st.readUshort(it,ot),ot+=2,lt.maxFunctionDefs=st.readUshort(it,ot),ot+=2,lt.maxInstructionDefs=st.readUshort(it,ot),ot+=2,lt.maxStackElements=st.readUshort(it,ot),ot+=2,lt.maxSizeOfInstructions=st.readUshort(it,ot),ot+=2,lt.maxComponentElements=st.readUshort(it,ot),ot+=2,lt.maxComponentDepth=st.readUshort(it,ot),ot+=2),lt},et.name={},et.name.parse=function(it,ot,at){var st=et._bin,lt={};st.readUshort(it,ot),ot+=2;var ct=st.readUshort(it,ot);ot+=2,st.readUshort(it,ot);for(var ut,dt=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],ft=ot+=2,pt=0;pt<ct;pt++){var mt=st.readUshort(it,ot);ot+=2;var ht=st.readUshort(it,ot);ot+=2;var gt=st.readUshort(it,ot);ot+=2;var vt=st.readUshort(it,ot);ot+=2;var yt=st.readUshort(it,ot);ot+=2;var bt=st.readUshort(it,ot);ot+=2;var xt,$t=dt[vt],Tt=ft+12*ct+bt;if(mt==0)xt=st.readUnicode(it,Tt,yt/2);else if(mt==3&&ht==0)xt=st.readUnicode(it,Tt,yt/2);else if(ht==0)xt=st.readASCII(it,Tt,yt);else if(ht==1)xt=st.readUnicode(it,Tt,yt/2);else if(ht==3)xt=st.readUnicode(it,Tt,yt/2);else{if(mt!=1)throw"unknown encoding "+ht+", platformID: "+mt;xt=st.readASCII(it,Tt,yt),console.debug("reading unknown MAC encoding "+ht+" as ASCII")}var wt="p"+mt+","+gt.toString(16);lt[wt]==null&&(lt[wt]={}),lt[wt][$t!==void 0?$t:vt]=xt,lt[wt]._lang=gt}for(var At in lt)if(lt[At].postScriptName!=null&&lt[At]._lang==1033)return lt[At];for(var At in lt)if(lt[At].postScriptName!=null&&lt[At]._lang==0)return lt[At];for(var At in lt)if(lt[At].postScriptName!=null&&lt[At]._lang==3084)return lt[At];for(var At in lt)if(lt[At].postScriptName!=null)return lt[At];for(var At in lt){ut=At;break}return console.debug("returning name table with languageID "+lt[ut]._lang),lt[ut]},et["OS/2"]={},et["OS/2"].parse=function(it,ot,at){var st=et._bin.readUshort(it,ot);ot+=2;var lt={};if(st==0)et["OS/2"].version0(it,ot,lt);else if(st==1)et["OS/2"].version1(it,ot,lt);else if(st==2||st==3||st==4)et["OS/2"].version2(it,ot,lt);else{if(st!=5)throw"unknown OS/2 table version: "+st;et["OS/2"].version5(it,ot,lt)}return lt},et["OS/2"].version0=function(it,ot,at){var st=et._bin;return at.xAvgCharWidth=st.readShort(it,ot),ot+=2,at.usWeightClass=st.readUshort(it,ot),ot+=2,at.usWidthClass=st.readUshort(it,ot),ot+=2,at.fsType=st.readUshort(it,ot),ot+=2,at.ySubscriptXSize=st.readShort(it,ot),ot+=2,at.ySubscriptYSize=st.readShort(it,ot),ot+=2,at.ySubscriptXOffset=st.readShort(it,ot),ot+=2,at.ySubscriptYOffset=st.readShort(it,ot),ot+=2,at.ySuperscriptXSize=st.readShort(it,ot),ot+=2,at.ySuperscriptYSize=st.readShort(it,ot),ot+=2,at.ySuperscriptXOffset=st.readShort(it,ot),ot+=2,at.ySuperscriptYOffset=st.readShort(it,ot),ot+=2,at.yStrikeoutSize=st.readShort(it,ot),ot+=2,at.yStrikeoutPosition=st.readShort(it,ot),ot+=2,at.sFamilyClass=st.readShort(it,ot),ot+=2,at.panose=st.readBytes(it,ot,10),ot+=10,at.ulUnicodeRange1=st.readUint(it,ot),ot+=4,at.ulUnicodeRange2=st.readUint(it,ot),ot+=4,at.ulUnicodeRange3=st.readUint(it,ot),ot+=4,at.ulUnicodeRange4=st.readUint(it,ot),ot+=4,at.achVendID=[st.readInt8(it,ot),st.readInt8(it,ot+1),st.readInt8(it,ot+2),st.readInt8(it,ot+3)],ot+=4,at.fsSelection=st.readUshort(it,ot),ot+=2,at.usFirstCharIndex=st.readUshort(it,ot),ot+=2,at.usLastCharIndex=st.readUshort(it,ot),ot+=2,at.sTypoAscender=st.readShort(it,ot),ot+=2,at.sTypoDescender=st.readShort(it,ot),ot+=2,at.sTypoLineGap=st.readShort(it,ot),ot+=2,at.usWinAscent=st.readUshort(it,ot),ot+=2,at.usWinDescent=st.readUshort(it,ot),ot+=2},et["OS/2"].version1=function(it,ot,at){var st=et._bin;return ot=et["OS/2"].version0(it,ot,at),at.ulCodePageRange1=st.readUint(it,ot),ot+=4,at.ulCodePageRange2=st.readUint(it,ot),ot+=4},et["OS/2"].version2=function(it,ot,at){var st=et._bin;return ot=et["OS/2"].version1(it,ot,at),at.sxHeight=st.readShort(it,ot),ot+=2,at.sCapHeight=st.readShort(it,ot),ot+=2,at.usDefault=st.readUshort(it,ot),ot+=2,at.usBreak=st.readUshort(it,ot),ot+=2,at.usMaxContext=st.readUshort(it,ot),ot+=2},et["OS/2"].version5=function(it,ot,at){var st=et._bin;return ot=et["OS/2"].version2(it,ot,at),at.usLowerOpticalPointSize=st.readUshort(it,ot),ot+=2,at.usUpperOpticalPointSize=st.readUshort(it,ot),ot+=2},et.post={},et.post.parse=function(it,ot,at){var st=et._bin,lt={};return lt.version=st.readFixed(it,ot),ot+=4,lt.italicAngle=st.readFixed(it,ot),ot+=4,lt.underlinePosition=st.readShort(it,ot),ot+=2,lt.underlineThickness=st.readShort(it,ot),ot+=2,lt},et==null&&(et={}),et.U==null&&(et.U={}),et.U.codeToGlyph=function(it,ot){var at=it.cmap,st=-1;if(at.p0e4!=null?st=at.p0e4:at.p3e1!=null?st=at.p3e1:at.p1e0!=null?st=at.p1e0:at.p0e3!=null&&(st=at.p0e3),st==-1)throw"no familiar platform and encoding!";var lt=at.tables[st];if(lt.format==0)return ot>=lt.map.length?0:lt.map[ot];if(lt.format==4){for(var ct=-1,ut=0;ut<lt.endCount.length;ut++)if(ot<=lt.endCount[ut]){ct=ut;break}return ct==-1||lt.startCount[ct]>ot?0:65535&(lt.idRangeOffset[ct]!=0?lt.glyphIdArray[ot-lt.startCount[ct]+(lt.idRangeOffset[ct]>>1)-(lt.idRangeOffset.length-ct)]:ot+lt.idDelta[ct])}if(lt.format==12){if(ot>lt.groups[lt.groups.length-1][1])return 0;for(ut=0;ut<lt.groups.length;ut++){var dt=lt.groups[ut];if(dt[0]<=ot&&ot<=dt[1])return dt[2]+(ot-dt[0])}return 0}throw"unknown cmap table format "+lt.format},et.U.glyphToPath=function(it,ot){var at={cmds:[],crds:[]};if(it.SVG&&it.SVG.entries[ot]){var st=it.SVG.entries[ot];return st==null?at:(typeof st=="string"&&(st=et.SVG.toPath(st),it.SVG.entries[ot]=st),st)}if(it.CFF){var lt={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:it.CFF.Private?it.CFF.Private.defaultWidthX:0,open:!1},ct=it.CFF,ut=it.CFF.Private;if(ct.ROS){for(var dt=0;ct.FDSelect[dt+2]<=ot;)dt+=2;ut=ct.FDArray[ct.FDSelect[dt+1]].Private}et.U._drawCFF(it.CFF.CharStrings[ot],lt,ct,ut,at)}else it.glyf&&et.U._drawGlyf(ot,it,at);return at},et.U._drawGlyf=function(it,ot,at){var st=ot.glyf[it];st==null&&(st=ot.glyf[it]=et.glyf._parseGlyf(ot,it)),st!=null&&(st.noc>-1?et.U._simpleGlyph(st,at):et.U._compoGlyph(st,ot,at))},et.U._simpleGlyph=function(it,ot){for(var at=0;at<it.noc;at++){for(var st=at==0?0:it.endPts[at-1]+1,lt=it.endPts[at],ct=st;ct<=lt;ct++){var ut=ct==st?lt:ct-1,dt=ct==lt?st:ct+1,ft=1&it.flags[ct],pt=1&it.flags[ut],mt=1&it.flags[dt],ht=it.xs[ct],gt=it.ys[ct];if(ct==st)if(ft){if(!pt){et.U.P.moveTo(ot,ht,gt);continue}et.U.P.moveTo(ot,it.xs[ut],it.ys[ut])}else pt?et.U.P.moveTo(ot,it.xs[ut],it.ys[ut]):et.U.P.moveTo(ot,(it.xs[ut]+ht)/2,(it.ys[ut]+gt)/2);ft?pt&&et.U.P.lineTo(ot,ht,gt):mt?et.U.P.qcurveTo(ot,ht,gt,it.xs[dt],it.ys[dt]):et.U.P.qcurveTo(ot,ht,gt,(ht+it.xs[dt])/2,(gt+it.ys[dt])/2)}et.U.P.closePath(ot)}},et.U._compoGlyph=function(it,ot,at){for(var st=0;st<it.parts.length;st++){var lt={cmds:[],crds:[]},ct=it.parts[st];et.U._drawGlyf(ct.glyphIndex,ot,lt);for(var ut=ct.m,dt=0;dt<lt.crds.length;dt+=2){var ft=lt.crds[dt],pt=lt.crds[dt+1];at.crds.push(ft*ut.a+pt*ut.b+ut.tx),at.crds.push(ft*ut.c+pt*ut.d+ut.ty)}for(dt=0;dt<lt.cmds.length;dt++)at.cmds.push(lt.cmds[dt])}},et.U._getGlyphClass=function(it,ot){var at=et._lctf.getInterval(ot,it);return at==-1?0:ot[at+2]},et.U.getPairAdjustment=function(it,ot,at){var st=!1;if(it.GPOS)for(var lt=it.GPOS,ct=lt.lookupList,ut=lt.featureList,dt=[],ft=0;ft<ut.length;ft++){var pt=ut[ft];if(pt.tag=="kern"){st=!0;for(var mt=0;mt<pt.tab.length;mt++)if(!dt[pt.tab[mt]]){dt[pt.tab[mt]]=!0;for(var ht=ct[pt.tab[mt]],gt=0;gt<ht.tabs.length;gt++)if(ht.tabs[gt]!=null){var vt,yt=ht.tabs[gt];if((!yt.coverage||(vt=et._lctf.coverageIndex(yt.coverage,ot))!=-1)&&ht.ltype!=1){if(ht.ltype==2){var bt=null;if(yt.fmt==1){var xt=yt.pairsets[vt];for(ft=0;ft<xt.length;ft++)xt[ft].gid2==at&&(bt=xt[ft])}else if(yt.fmt==2){var $t=et.U._getGlyphClass(ot,yt.classDef1),Tt=et.U._getGlyphClass(at,yt.classDef2);bt=yt.matrix[$t][Tt]}if(bt){var wt=0;return bt.val1&&bt.val1[2]&&(wt+=bt.val1[2]),bt.val2&&bt.val2[0]&&(wt+=bt.val2[0]),wt}}}}}}}if(it.kern&&!st){var At=it.kern.glyph1.indexOf(ot);if(At!=-1){var Rt=it.kern.rval[At].glyph2.indexOf(at);if(Rt!=-1)return it.kern.rval[At].vals[Rt]}}return 0},et.U._applySubs=function(it,ot,at,st){for(var lt=it.length-ot-1,ct=0;ct<at.tabs.length;ct++)if(at.tabs[ct]!=null){var ut,dt=at.tabs[ct];if(!dt.coverage||(ut=et._lctf.coverageIndex(dt.coverage,it[ot]))!=-1){if(at.ltype==1)it[ot],dt.fmt==1?it[ot]=it[ot]+dt.delta:it[ot]=dt.newg[ut];else if(at.ltype==4)for(var ft=dt.vals[ut],pt=0;pt<ft.length;pt++){var mt=ft[pt],ht=mt.chain.length;if(!(ht>lt)){for(var gt=!0,vt=0,yt=0;yt<ht;yt++){for(;it[ot+vt+(1+yt)]==-1;)vt++;mt.chain[yt]!=it[ot+vt+(1+yt)]&&(gt=!1)}if(gt){for(it[ot]=mt.nglyph,yt=0;yt<ht+vt;yt++)it[ot+yt+1]=-1;break}}}else if(at.ltype==5&&dt.fmt==2)for(var bt=et._lctf.getInterval(dt.cDef,it[ot]),xt=dt.cDef[bt+2],$t=dt.scset[xt],Tt=0;Tt<$t.length;Tt++){var wt=$t[Tt],At=wt.input;if(!(At.length>lt)){for(gt=!0,yt=0;yt<At.length;yt++){var Rt=et._lctf.getInterval(dt.cDef,it[ot+1+yt]);if(bt==-1&&dt.cDef[Rt+2]!=At[yt]){gt=!1;break}}if(gt){var It=wt.substLookupRecords;for(pt=0;pt<It.length;pt+=2)It[pt],It[pt+1]}}}else if(at.ltype==6&&dt.fmt==3){if(!et.U._glsCovered(it,dt.backCvg,ot-dt.backCvg.length)||!et.U._glsCovered(it,dt.inptCvg,ot)||!et.U._glsCovered(it,dt.ahedCvg,ot+dt.inptCvg.length))continue;var Lt=dt.lookupRec;for(Tt=0;Tt<Lt.length;Tt+=2){bt=Lt[Tt];var Pt=st[Lt[Tt+1]];et.U._applySubs(it,ot+bt,Pt,st)}}}}},et.U._glsCovered=function(it,ot,at){for(var st=0;st<ot.length;st++)if(et._lctf.coverageIndex(ot[st],it[at+st])==-1)return!1;return!0},et.U.glyphsToPath=function(it,ot,at){for(var st={cmds:[],crds:[]},lt=0,ct=0;ct<ot.length;ct++){var ut=ot[ct];if(ut!=-1){for(var dt=ct<ot.length-1&&ot[ct+1]!=-1?ot[ct+1]:0,ft=et.U.glyphToPath(it,ut),pt=0;pt<ft.crds.length;pt+=2)st.crds.push(ft.crds[pt]+lt),st.crds.push(ft.crds[pt+1]);for(at&&st.cmds.push(at),pt=0;pt<ft.cmds.length;pt++)st.cmds.push(ft.cmds[pt]);at&&st.cmds.push("X"),lt+=it.hmtx.aWidth[ut],ct<ot.length-1&&(lt+=et.U.getPairAdjustment(it,ut,dt))}}return st},et.U.P={},et.U.P.moveTo=function(it,ot,at){it.cmds.push("M"),it.crds.push(ot,at)},et.U.P.lineTo=function(it,ot,at){it.cmds.push("L"),it.crds.push(ot,at)},et.U.P.curveTo=function(it,ot,at,st,lt,ct,ut){it.cmds.push("C"),it.crds.push(ot,at,st,lt,ct,ut)},et.U.P.qcurveTo=function(it,ot,at,st,lt){it.cmds.push("Q"),it.crds.push(ot,at,st,lt)},et.U.P.closePath=function(it){it.cmds.push("Z")},et.U._drawCFF=function(it,ot,at,st,lt){for(var ct=ot.stack,ut=ot.nStems,dt=ot.haveWidth,ft=ot.width,pt=ot.open,mt=0,ht=ot.x,gt=ot.y,vt=0,yt=0,bt=0,xt=0,$t=0,Tt=0,wt=0,At=0,Rt=0,It=0,Lt={val:0,size:0};mt<it.length;){et.CFF.getCharString(it,mt,Lt);var Pt=Lt.val;if(mt+=Lt.size,Pt=="o1"||Pt=="o18")ct.length%2!=0&&!dt&&(ft=ct.shift()+st.nominalWidthX),ut+=ct.length>>1,ct.length=0,dt=!0;else if(Pt=="o3"||Pt=="o23")ct.length%2!=0&&!dt&&(ft=ct.shift()+st.nominalWidthX),ut+=ct.length>>1,ct.length=0,dt=!0;else if(Pt=="o4")ct.length>1&&!dt&&(ft=ct.shift()+st.nominalWidthX,dt=!0),pt&&et.U.P.closePath(lt),gt+=ct.pop(),et.U.P.moveTo(lt,ht,gt),pt=!0;else if(Pt=="o5")for(;ct.length>0;)ht+=ct.shift(),gt+=ct.shift(),et.U.P.lineTo(lt,ht,gt);else if(Pt=="o6"||Pt=="o7")for(var Nt=ct.length,Ot=Pt=="o6",Bt=0;Bt<Nt;Bt++){var zt=ct.shift();Ot?ht+=zt:gt+=zt,Ot=!Ot,et.U.P.lineTo(lt,ht,gt)}else if(Pt=="o8"||Pt=="o24"){Nt=ct.length;for(var Vt=0;Vt+6<=Nt;)vt=ht+ct.shift(),yt=gt+ct.shift(),bt=vt+ct.shift(),xt=yt+ct.shift(),ht=bt+ct.shift(),gt=xt+ct.shift(),et.U.P.curveTo(lt,vt,yt,bt,xt,ht,gt),Vt+=6;Pt=="o24"&&(ht+=ct.shift(),gt+=ct.shift(),et.U.P.lineTo(lt,ht,gt))}else{if(Pt=="o11")break;if(Pt=="o1234"||Pt=="o1235"||Pt=="o1236"||Pt=="o1237")Pt=="o1234"&&(yt=gt,bt=(vt=ht+ct.shift())+ct.shift(),It=xt=yt+ct.shift(),Tt=xt,At=gt,ht=(wt=($t=(Rt=bt+ct.shift())+ct.shift())+ct.shift())+ct.shift(),et.U.P.curveTo(lt,vt,yt,bt,xt,Rt,It),et.U.P.curveTo(lt,$t,Tt,wt,At,ht,gt)),Pt=="o1235"&&(vt=ht+ct.shift(),yt=gt+ct.shift(),bt=vt+ct.shift(),xt=yt+ct.shift(),Rt=bt+ct.shift(),It=xt+ct.shift(),$t=Rt+ct.shift(),Tt=It+ct.shift(),wt=$t+ct.shift(),At=Tt+ct.shift(),ht=wt+ct.shift(),gt=At+ct.shift(),ct.shift(),et.U.P.curveTo(lt,vt,yt,bt,xt,Rt,It),et.U.P.curveTo(lt,$t,Tt,wt,At,ht,gt)),Pt=="o1236"&&(vt=ht+ct.shift(),yt=gt+ct.shift(),bt=vt+ct.shift(),It=xt=yt+ct.shift(),Tt=xt,wt=($t=(Rt=bt+ct.shift())+ct.shift())+ct.shift(),At=Tt+ct.shift(),ht=wt+ct.shift(),et.U.P.curveTo(lt,vt,yt,bt,xt,Rt,It),et.U.P.curveTo(lt,$t,Tt,wt,At,ht,gt)),Pt=="o1237"&&(vt=ht+ct.shift(),yt=gt+ct.shift(),bt=vt+ct.shift(),xt=yt+ct.shift(),Rt=bt+ct.shift(),It=xt+ct.shift(),$t=Rt+ct.shift(),Tt=It+ct.shift(),wt=$t+ct.shift(),At=Tt+ct.shift(),Math.abs(wt-ht)>Math.abs(At-gt)?ht=wt+ct.shift():gt=At+ct.shift(),et.U.P.curveTo(lt,vt,yt,bt,xt,Rt,It),et.U.P.curveTo(lt,$t,Tt,wt,At,ht,gt));else if(Pt=="o14"){if(ct.length>0&&!dt&&(ft=ct.shift()+at.nominalWidthX,dt=!0),ct.length==4){var Ut=ct.shift(),jt=ct.shift(),qt=ct.shift(),Dt=ct.shift(),Ft=et.CFF.glyphBySE(at,qt),Zt=et.CFF.glyphBySE(at,Dt);et.U._drawCFF(at.CharStrings[Ft],ot,at,st,lt),ot.x=Ut,ot.y=jt,et.U._drawCFF(at.CharStrings[Zt],ot,at,st,lt)}pt&&(et.U.P.closePath(lt),pt=!1)}else if(Pt=="o19"||Pt=="o20")ct.length%2!=0&&!dt&&(ft=ct.shift()+st.nominalWidthX),ut+=ct.length>>1,ct.length=0,dt=!0,mt+=ut+7>>3;else if(Pt=="o21")ct.length>2&&!dt&&(ft=ct.shift()+st.nominalWidthX,dt=!0),gt+=ct.pop(),ht+=ct.pop(),pt&&et.U.P.closePath(lt),et.U.P.moveTo(lt,ht,gt),pt=!0;else if(Pt=="o22")ct.length>1&&!dt&&(ft=ct.shift()+st.nominalWidthX,dt=!0),ht+=ct.pop(),pt&&et.U.P.closePath(lt),et.U.P.moveTo(lt,ht,gt),pt=!0;else if(Pt=="o25"){for(;ct.length>6;)ht+=ct.shift(),gt+=ct.shift(),et.U.P.lineTo(lt,ht,gt);vt=ht+ct.shift(),yt=gt+ct.shift(),bt=vt+ct.shift(),xt=yt+ct.shift(),ht=bt+ct.shift(),gt=xt+ct.shift(),et.U.P.curveTo(lt,vt,yt,bt,xt,ht,gt)}else if(Pt=="o26")for(ct.length%2&&(ht+=ct.shift());ct.length>0;)vt=ht,yt=gt+ct.shift(),ht=bt=vt+ct.shift(),gt=(xt=yt+ct.shift())+ct.shift(),et.U.P.curveTo(lt,vt,yt,bt,xt,ht,gt);else if(Pt=="o27")for(ct.length%2&&(gt+=ct.shift());ct.length>0;)yt=gt,bt=(vt=ht+ct.shift())+ct.shift(),xt=yt+ct.shift(),ht=bt+ct.shift(),gt=xt,et.U.P.curveTo(lt,vt,yt,bt,xt,ht,gt);else if(Pt=="o10"||Pt=="o29"){var Kt=Pt=="o10"?st:at;if(ct.length==0)console.debug("error: empty stack");else{var ir=ct.pop(),rr=Kt.Subrs[ir+Kt.Bias];ot.x=ht,ot.y=gt,ot.nStems=ut,ot.haveWidth=dt,ot.width=ft,ot.open=pt,et.U._drawCFF(rr,ot,at,st,lt),ht=ot.x,gt=ot.y,ut=ot.nStems,dt=ot.haveWidth,ft=ot.width,pt=ot.open}}else if(Pt=="o30"||Pt=="o31"){var mr=ct.length,sr=(Vt=0,Pt=="o31");for(Vt+=mr-(Nt=-3&mr);Vt<Nt;)sr?(yt=gt,bt=(vt=ht+ct.shift())+ct.shift(),gt=(xt=yt+ct.shift())+ct.shift(),Nt-Vt==5?(ht=bt+ct.shift(),Vt++):ht=bt,sr=!1):(vt=ht,yt=gt+ct.shift(),bt=vt+ct.shift(),xt=yt+ct.shift(),ht=bt+ct.shift(),Nt-Vt==5?(gt=xt+ct.shift(),Vt++):gt=xt,sr=!0),et.U.P.curveTo(lt,vt,yt,bt,xt,ht,gt),Vt+=4}else{if((Pt+"").charAt(0)=="o")throw console.debug("Unknown operation: "+Pt,it),Pt;ct.push(Pt)}}}ot.x=ht,ot.y=gt,ot.nStems=ut,ot.haveWidth=dt,ot.width=ft,ot.open=pt};var rt=et,nt={Typr:rt};return tt.Typr=rt,tt.default=nt,Object.defineProperty(tt,"__esModule",{value:!0}),tt}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function woff2otfFactory(){return function(tt){var et=Uint8Array,rt=Uint16Array,nt=Uint32Array,it=new et([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),ot=new et([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),at=new et([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),st=function(Pt,Nt){for(var Ot=new rt(31),Bt=0;Bt<31;++Bt)Ot[Bt]=Nt+=1<<Pt[Bt-1];var zt=new nt(Ot[30]);for(Bt=1;Bt<30;++Bt)for(var Vt=Ot[Bt];Vt<Ot[Bt+1];++Vt)zt[Vt]=Vt-Ot[Bt]<<5|Bt;return[Ot,zt]},lt=st(it,2),ct=lt[0],ut=lt[1];ct[28]=258,ut[258]=28;for(var dt=st(ot,0)[0],ft=new rt(32768),pt=0;pt<32768;++pt){var mt=(43690&pt)>>>1|(21845&pt)<<1;mt=(61680&(mt=(52428&mt)>>>2|(13107&mt)<<2))>>>4|(3855&mt)<<4,ft[pt]=((65280&mt)>>>8|(255&mt)<<8)>>>1}var ht=function(Pt,Nt,Ot){for(var Bt=Pt.length,zt=0,Vt=new rt(Nt);zt<Bt;++zt)++Vt[Pt[zt]-1];var Ut,jt=new rt(Nt);for(zt=0;zt<Nt;++zt)jt[zt]=jt[zt-1]+Vt[zt-1]<<1;if(Ot){Ut=new rt(1<<Nt);var qt=15-Nt;for(zt=0;zt<Bt;++zt)if(Pt[zt])for(var Dt=zt<<4|Pt[zt],Ft=Nt-Pt[zt],Zt=jt[Pt[zt]-1]++<<Ft,Kt=Zt|(1<<Ft)-1;Zt<=Kt;++Zt)Ut[ft[Zt]>>>qt]=Dt}else for(Ut=new rt(Bt),zt=0;zt<Bt;++zt)Pt[zt]&&(Ut[zt]=ft[jt[Pt[zt]-1]++]>>>15-Pt[zt]);return Ut},gt=new et(288);for(pt=0;pt<144;++pt)gt[pt]=8;for(pt=144;pt<256;++pt)gt[pt]=9;for(pt=256;pt<280;++pt)gt[pt]=7;for(pt=280;pt<288;++pt)gt[pt]=8;var vt=new et(32);for(pt=0;pt<32;++pt)vt[pt]=5;var yt=ht(gt,9,1),bt=ht(vt,5,1),xt=function(Pt){for(var Nt=Pt[0],Ot=1;Ot<Pt.length;++Ot)Pt[Ot]>Nt&&(Nt=Pt[Ot]);return Nt},$t=function(Pt,Nt,Ot){var Bt=Nt/8|0;return(Pt[Bt]|Pt[Bt+1]<<8)>>(7&Nt)&Ot},Tt=function(Pt,Nt){var Ot=Nt/8|0;return(Pt[Ot]|Pt[Ot+1]<<8|Pt[Ot+2]<<16)>>(7&Nt)},wt=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],At=function(Pt,Nt,Ot){var Bt=new Error(Nt||wt[Pt]);if(Bt.code=Pt,Error.captureStackTrace&&Error.captureStackTrace(Bt,At),!Ot)throw Bt;return Bt},Rt=function(Pt,Nt,Ot){var Bt=Pt.length;if(!Bt||Ot&&!Ot.l&&Bt<5)return Nt||new et(0);var zt=!Nt||Ot,Vt=!Ot||Ot.i;Ot||(Ot={}),Nt||(Nt=new et(3*Bt));var Ut,jt=function(jr){var Jr=Nt.length;if(jr>Jr){var gn=new et(Math.max(2*Jr,jr));gn.set(Nt),Nt=gn}},qt=Ot.f||0,Dt=Ot.p||0,Ft=Ot.b||0,Zt=Ot.l,Kt=Ot.d,ir=Ot.m,rr=Ot.n,mr=8*Bt;do{if(!Zt){Ot.f=qt=$t(Pt,Dt,1);var sr=$t(Pt,Dt+1,3);if(Dt+=3,!sr){var fr=Pt[(cr=((Ut=Dt)/8|0)+(7&Ut&&1)+4)-4]|Pt[cr-3]<<8,pr=cr+fr;if(pr>Bt){Vt&&At(0);break}zt&&jt(Ft+fr),Nt.set(Pt.subarray(cr,pr),Ft),Ot.b=Ft+=fr,Ot.p=Dt=8*pr;continue}if(sr==1)Zt=yt,Kt=bt,ir=9,rr=5;else if(sr==2){var vr=$t(Pt,Dt,31)+257,dr=$t(Pt,Dt+10,15)+4,xr=vr+$t(Pt,Dt+5,31)+1;Dt+=14;for(var Gt=new et(xr),Wt=new et(19),nr=0;nr<dr;++nr)Wt[at[nr]]=$t(Pt,Dt+3*nr,7);Dt+=3*dr;var Qt=xt(Wt),Jt=(1<<Qt)-1,ar=ht(Wt,Qt,1);for(nr=0;nr<xr;){var cr,lr=ar[$t(Pt,Dt,Jt)];if(Dt+=15&lr,(cr=lr>>>4)<16)Gt[nr++]=cr;else{var Yt=0,Xt=0;for(cr==16?(Xt=3+$t(Pt,Dt,3),Dt+=2,Yt=Gt[nr-1]):cr==17?(Xt=3+$t(Pt,Dt,7),Dt+=3):cr==18&&(Xt=11+$t(Pt,Dt,127),Dt+=7);Xt--;)Gt[nr++]=Yt}}var tr=Gt.subarray(0,vr),or=Gt.subarray(vr);ir=xt(tr),rr=xt(or),Zt=ht(tr,ir,1),Kt=ht(or,rr,1)}else At(1);if(Dt>mr){Vt&&At(0);break}}zt&&jt(Ft+131072);for(var br=(1<<ir)-1,Sr=(1<<rr)-1,yr=Dt;;yr=Dt){var hr=(Yt=Zt[Tt(Pt,Dt)&br])>>>4;if((Dt+=15&Yt)>mr){Vt&&At(0);break}if(Yt||At(2),hr<256)Nt[Ft++]=hr;else{if(hr==256){yr=Dt,Zt=null;break}var $r=hr-254;if(hr>264){var Mr=it[nr=hr-257];$r=$t(Pt,Dt,(1<<Mr)-1)+ct[nr],Dt+=Mr}var Ar=Kt[Tt(Pt,Dt)&Sr],Fr=Ar>>>4;if(Ar||At(3),Dt+=15&Ar,or=dt[Fr],Fr>3&&(Mr=ot[Fr],or+=Tt(Pt,Dt)&(1<<Mr)-1,Dt+=Mr),Dt>mr){Vt&&At(0);break}zt&&jt(Ft+131072);for(var zr=Ft+$r;Ft<zr;Ft+=4)Nt[Ft]=Nt[Ft-or],Nt[Ft+1]=Nt[Ft+1-or],Nt[Ft+2]=Nt[Ft+2-or],Nt[Ft+3]=Nt[Ft+3-or];Ft=zr}}Ot.l=Zt,Ot.p=yr,Ot.b=Ft,Zt&&(qt=1,Ot.m=ir,Ot.d=Kt,Ot.n=rr)}while(!qt);return Ft==Nt.length?Nt:function(jr,Jr,gn){(Jr==null||Jr<0)&&(Jr=0),(gn==null||gn>jr.length)&&(gn=jr.length);var mn=new(jr instanceof rt?rt:jr instanceof nt?nt:et)(gn-Jr);return mn.set(jr.subarray(Jr,gn)),mn}(Nt,0,Ft)},It=new et(0),Lt=typeof TextDecoder<"u"&&new TextDecoder;try{Lt.decode(It,{stream:!0})}catch{}return tt.convert_streams=function(Pt){var Nt=new DataView(Pt),Ot=0;function Bt(){var vr=Nt.getUint16(Ot);return Ot+=2,vr}function zt(){var vr=Nt.getUint32(Ot);return Ot+=4,vr}function Vt(vr){fr.setUint16(pr,vr),pr+=2}function Ut(vr){fr.setUint32(pr,vr),pr+=4}for(var jt={signature:zt(),flavor:zt(),length:zt(),numTables:Bt(),reserved:Bt(),totalSfntSize:zt(),majorVersion:Bt(),minorVersion:Bt(),metaOffset:zt(),metaLength:zt(),metaOrigLength:zt(),privOffset:zt(),privLength:zt()},qt=0;Math.pow(2,qt)<=jt.numTables;)qt++;qt--;for(var Dt=16*Math.pow(2,qt),Ft=16*jt.numTables-Dt,Zt=12,Kt=[],ir=0;ir<jt.numTables;ir++)Kt.push({tag:zt(),offset:zt(),compLength:zt(),origLength:zt(),origChecksum:zt()}),Zt+=16;var rr,mr=new Uint8Array(12+16*Kt.length+Kt.reduce(function(vr,dr){return vr+dr.origLength+4},0)),sr=mr.buffer,fr=new DataView(sr),pr=0;return Ut(jt.flavor),Vt(jt.numTables),Vt(Dt),Vt(qt),Vt(Ft),Kt.forEach(function(vr){Ut(vr.tag),Ut(vr.origChecksum),Ut(Zt),Ut(vr.origLength),vr.outOffset=Zt,(Zt+=vr.origLength)%4!=0&&(Zt+=4-Zt%4)}),Kt.forEach(function(vr){var dr,xr=Pt.slice(vr.offset,vr.offset+vr.compLength);if(vr.compLength!=vr.origLength){var Gt=new Uint8Array(vr.origLength);dr=new Uint8Array(xr,2),Rt(dr,Gt)}else Gt=new Uint8Array(xr);mr.set(Gt,vr.outOffset);var Wt=0;(Zt=vr.outOffset+vr.origLength)%4!=0&&(Wt=4-Zt%4),mr.set(new Uint8Array(Wt).buffer,vr.outOffset+vr.origLength),rr=Zt+Wt}),sr.slice(0,rr)},Object.defineProperty(tt,"__esModule",{value:!0}),tt}({}).convert_streams}function parserFactory(tt,et){const rt={M:2,L:2,Q:4,C:6,Z:0},nt={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},it=1,ot=2,at=4,st=8,lt=16,ct=32;let ut;function dt($t){if(!ut){const Tt={R:ot,L:it,D:at,C:lt,U:ct,T:st};ut=new Map;for(let wt in nt){let At=0;nt[wt].split(",").forEach(Rt=>{let[It,Lt]=Rt.split("+");It=parseInt(It,36),Lt=Lt?parseInt(Lt,36):0,ut.set(At+=It,Tt[wt]);for(let Pt=Lt;Pt--;)ut.set(++At,Tt[wt])})}}return ut.get($t)||ct}const ft=1,pt=2,mt=3,ht=4,gt=[null,"isol","init","fina","medi"];function vt($t){const Tt=new Uint8Array($t.length);let wt=ct,At=ft,Rt=-1;for(let It=0;It<$t.length;It++){const Lt=$t.codePointAt(It);let Pt=dt(Lt)|0,Nt=ft;Pt&st||(wt&(it|at|lt)?Pt&(ot|at|lt)?(Nt=mt,(At===ft||At===mt)&&Tt[Rt]++):Pt&(it|ct)&&(At===pt||At===ht)&&Tt[Rt]--:wt&(ot|ct)&&(At===pt||At===ht)&&Tt[Rt]--,At=Tt[It]=Nt,wt=Pt,Rt=It,Lt>65535&&It++)}return Tt}function yt($t,Tt){const wt=[];for(let Rt=0;Rt<Tt.length;Rt++){const It=Tt.codePointAt(Rt);It>65535&&Rt++,wt.push(tt.U.codeToGlyph($t,It))}const At=$t.GSUB;if(At){const{lookupList:Rt,featureList:It}=At;let Lt;const Pt=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws)$/,Nt=[];It.forEach(Ot=>{if(Pt.test(Ot.tag))for(let Bt=0;Bt<Ot.tab.length;Bt++){if(Nt[Ot.tab[Bt]])continue;Nt[Ot.tab[Bt]]=!0;const zt=Rt[Ot.tab[Bt]],Vt=/^(isol|init|fina|medi)$/.test(Ot.tag);Vt&&!Lt&&(Lt=vt(Tt));for(let Ut=0;Ut<wt.length;Ut++)(!Lt||!Vt||gt[Lt[Ut]]===Ot.tag)&&tt.U._applySubs(wt,Ut,zt,Rt)}})}return wt}function bt(...$t){for(let Tt=0;Tt<$t.length;Tt++)if(typeof $t[Tt]=="number")return $t[Tt]}function xt($t){const Tt=Object.create(null),wt=$t["OS/2"],At=$t.hhea,Rt=$t.head.unitsPerEm,It=bt(wt&&wt.sTypoAscender,At&&At.ascender,Rt),Lt={unitsPerEm:Rt,ascender:It,descender:bt(wt&&wt.sTypoDescender,At&&At.descender,0),capHeight:bt(wt&&wt.sCapHeight,It),xHeight:bt(wt&&wt.sxHeight,It),lineGap:bt(wt&&wt.sTypoLineGap,At&&At.lineGap),forEachGlyph(Pt,Nt,Ot,Bt){let zt=0;const Vt=1/Lt.unitsPerEm*Nt,Ut=yt($t,Pt);let jt=0,qt=-1;return Ut.forEach((Dt,Ft)=>{if(Dt!==-1){let Zt=Tt[Dt];if(!Zt){const{cmds:Kt,crds:ir}=tt.U.glyphToPath($t,Dt);let rr="",mr=0;for(let dr=0,xr=Kt.length;dr<xr;dr++){const Gt=rt[Kt[dr]];rr+=Kt[dr];for(let Wt=1;Wt<=Gt;Wt++)rr+=(Wt>1?",":"")+ir[mr++]}let sr,fr,pr,vr;if(ir.length){sr=fr=1/0,pr=vr=-1/0;for(let dr=0,xr=ir.length;dr<xr;dr+=2){let Gt=ir[dr],Wt=ir[dr+1];Gt<sr&&(sr=Gt),Wt<fr&&(fr=Wt),Gt>pr&&(pr=Gt),Wt>vr&&(vr=Wt)}}else sr=pr=fr=vr=0;Zt=Tt[Dt]={index:Dt,advanceWidth:$t.hmtx.aWidth[Dt],xMin:sr,yMin:fr,xMax:pr,yMax:vr,path:rr,pathCommandCount:Kt.length}}qt!==-1&&(zt+=tt.U.getPairAdjustment($t,qt,Dt)*Vt),Bt.call(null,Zt,zt,jt),Zt.advanceWidth&&(zt+=Zt.advanceWidth*Vt),Ot&&(zt+=Ot*Nt),qt=Dt}jt+=Pt.codePointAt(jt)>65535?2:1}),zt}};return Lt}return function(Tt){const wt=new Uint8Array(Tt,0,4),At=tt._bin.readASCII(wt,0,4);if(At==="wOFF")Tt=et(Tt);else if(At==="wOF2")throw new Error("woff2 fonts not supported");return xt(tt.parse(Tt)[0])}}const workerModule=defineWorkerModule({name:"Typr Font Parser",dependencies:[typrFactory,woff2otfFactory,parserFactory],init(tt,et,rt){const nt=tt(),it=et();return rt(nt,it)}}),CONFIG={defaultFontURL:"https://fonts.gstatic.com/s/roboto/v18/KFOmCnqEu92Fr1Mu4mxM.woff",sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},tempColor=new Color;function now$1(){return(self.performance||Date).now()}const atlases=Object.create(null);function getTextRenderInfo(tt,et){tt=assign({},tt);const rt=now$1();if(tt.font=toAbsoluteURL(tt.font||CONFIG.defaultFontURL),tt.text=""+tt.text,tt.sdfGlyphSize=tt.sdfGlyphSize||CONFIG.sdfGlyphSize,tt.colorRanges!=null){let dt={};for(let ft in tt.colorRanges)if(tt.colorRanges.hasOwnProperty(ft)){let pt=tt.colorRanges[ft];typeof pt!="number"&&(pt=tempColor.set(pt).getHex()),dt[ft]=pt}tt.colorRanges=dt}Object.freeze(tt);const{textureWidth:nt,sdfExponent:it}=CONFIG,{sdfGlyphSize:ot}=tt,at=nt/ot*4;let st=atlases[ot];if(!st){const dt=document.createElement("canvas");dt.width=nt,dt.height=ot*256/at,st=atlases[ot]={glyphCount:0,sdfGlyphSize:ot,sdfCanvas:dt,sdfTexture:new Texture(dt,void 0,void 0,void 0,LinearFilter,LinearFilter),contextLost:!1,glyphsByFont:new Map},st.sdfTexture.generateMipmaps=!1,initContextLossHandling(st)}const{sdfTexture:lt,sdfCanvas:ct}=st;let ut=st.glyphsByFont.get(tt.font);ut||st.glyphsByFont.set(tt.font,ut=new Map),typesetInWorker(tt).then(dt=>{const{glyphIds:ft,glyphPositions:pt,fontSize:mt,unitsPerEm:ht,timings:gt}=dt,vt=[],yt=new Float32Array(ft.length*4),bt=mt/ht;let xt=0,$t=0;const Tt=now$1();ft.forEach((Lt,Pt)=>{let Nt=ut.get(Lt);if(!Nt){const{path:Vt,pathBounds:Ut}=dt.glyphData[Lt],jt=Math.max(Ut[2]-Ut[0],Ut[3]-Ut[1])/ot*(CONFIG.sdfMargin*ot+.5),qt=st.glyphCount++,Dt=[Ut[0]-jt,Ut[1]-jt,Ut[2]+jt,Ut[3]+jt];ut.set(Lt,Nt={path:Vt,atlasIndex:qt,sdfViewBox:Dt}),vt.push(Nt)}const{sdfViewBox:Ot}=Nt,Bt=pt[$t++],zt=pt[$t++];yt[xt++]=Bt+Ot[0]*bt,yt[xt++]=zt+Ot[1]*bt,yt[xt++]=Bt+Ot[2]*bt,yt[xt++]=zt+Ot[3]*bt,ft[Pt]=Nt.atlasIndex}),gt.quads=(gt.quads||0)+(now$1()-Tt);const wt=now$1();gt.sdf={};const At=ct.height,Rt=Math.ceil(st.glyphCount/at),It=Math.pow(2,Math.ceil(Math.log2(Rt*ot)));It>At&&(console.info(`Increasing SDF texture size ${At}->${It}`),resizeWebGLCanvasWithoutClearing(ct,nt,It),lt.dispose()),Promise.all(vt.map(Lt=>generateGlyphSDF(Lt,st,tt.gpuAccelerateSDF).then(({timing:Pt})=>{gt.sdf[Lt.atlasIndex]=Pt}))).then(()=>{vt.length&&!st.contextLost&&(safariPre15Workaround(st),lt.needsUpdate=!0),gt.sdfTotal=now$1()-wt,gt.total=now$1()-rt,et(Object.freeze({parameters:tt,sdfTexture:lt,sdfGlyphSize:ot,sdfExponent:it,glyphBounds:yt,glyphAtlasIndices:ft,glyphColors:dt.glyphColors,caretPositions:dt.caretPositions,caretHeight:dt.caretHeight,chunkedBounds:dt.chunkedBounds,ascender:dt.ascender,descender:dt.descender,lineHeight:dt.lineHeight,capHeight:dt.capHeight,xHeight:dt.xHeight,topBaseline:dt.topBaseline,blockBounds:dt.blockBounds,visibleBounds:dt.visibleBounds,timings:dt.timings}))})}),Promise.resolve().then(()=>{st.contextLost||warmUpSDFCanvas(ct)})}function generateGlyphSDF({path:tt,atlasIndex:et,sdfViewBox:rt},{sdfGlyphSize:nt,sdfCanvas:it,contextLost:ot},at){if(ot)return Promise.resolve({timing:-1});const{textureWidth:st,sdfExponent:lt}=CONFIG,ct=Math.max(rt[2]-rt[0],rt[3]-rt[1]),ut=Math.floor(et/4),dt=ut%(st/nt)*nt,ft=Math.floor(ut/(st/nt))*nt,pt=et%4;return generateSDF(nt,nt,tt,rt,ct,lt,it,dt,ft,pt,at)}function initContextLossHandling(tt){const et=tt.sdfCanvas;et.addEventListener("webglcontextlost",rt=>{rt.preventDefault(),tt.contextLost=!0}),et.addEventListener("webglcontextrestored",rt=>{tt.contextLost=!1;const nt=[];tt.glyphsByFont.forEach(it=>{it.forEach(ot=>{nt.push(generateGlyphSDF(ot,tt,!0))})}),Promise.all(nt).then(()=>{safariPre15Workaround(tt),tt.sdfTexture.needsUpdate=!0})})}function preloadFont({font:tt,characters:et,sdfGlyphSize:rt},nt){let it=Array.isArray(et)?et.join(`
`):""+et;getTextRenderInfo({font:tt,sdfGlyphSize:rt,text:it},nt)}function assign(tt,et){for(let rt in et)et.hasOwnProperty(rt)&&(tt[rt]=et[rt]);return tt}let linkEl;function toAbsoluteURL(tt){return linkEl||(linkEl=typeof document>"u"?{}:document.createElement("a")),linkEl.href=tt,linkEl.href}function safariPre15Workaround(tt){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:et,sdfTexture:rt}=tt,{width:nt,height:it}=et,ot=tt.sdfCanvas.getContext("webgl");let at=rt.image.data;(!at||at.length!==nt*it*4)&&(at=new Uint8Array(nt*it*4),rt.image={width:nt,height:it,data:at},rt.flipY=!1,rt.isDataTexture=!0),ot.readPixels(0,0,nt,it,ot.RGBA,ot.UNSIGNED_BYTE,at)}}const typesetterWorkerModule=defineWorkerModule({name:"Typesetter",dependencies:[CONFIG,workerModule,createTypesetter,bidiFactory],init(tt,et,rt,nt){const{defaultFontURL:it}=tt;return rt(et,nt(),{defaultFontURL:it})}}),typesetInWorker=defineWorkerModule({name:"Typesetter",dependencies:[typesetterWorkerModule],init(tt){return function(et){return new Promise(rt=>{tt.typeset(et,rt)})}},getTransferables(tt){const et=[tt.glyphPositions.buffer,tt.glyphIds.buffer];return tt.caretPositions&&et.push(tt.caretPositions.buffer),tt.glyphColors&&et.push(tt.glyphColors.buffer),et}}),templateGeometries={};function getTemplateGeometry(tt){let et=templateGeometries[tt];if(!et){const rt=new PlaneGeometry(1,1,tt,tt),nt=rt.clone(),it=rt.attributes,ot=nt.attributes,at=new BufferGeometry,st=it.uv.count;for(let lt=0;lt<st;lt++)ot.position.array[lt*3]*=-1,ot.normal.array[lt*3+2]*=-1;["position","normal","uv"].forEach(lt=>{at.setAttribute(lt,new Float32BufferAttribute([...it[lt].array,...ot[lt].array],it[lt].itemSize))}),at.setIndex([...rt.index.array,...nt.index.array.map(lt=>lt+st)]),at.translate(.5,.5,0),et=templateGeometries[tt]=at}return et}const glyphBoundsAttrName="aTroikaGlyphBounds",glyphIndexAttrName="aTroikaGlyphIndex",glyphColorAttrName="aTroikaGlyphColor";class GlyphsGeometry extends InstancedBufferGeometry{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new Sphere,this.boundingBox=new Box3}computeBoundingSphere(){}computeBoundingBox(){}setSide(et){const rt=this.getIndex().count;this.setDrawRange(et===BackSide?rt/2:0,et===DoubleSide?rt:rt/2)}set detail(et){if(et!==this._detail){this._detail=et,(typeof et!="number"||et<1)&&(et=1);let rt=getTemplateGeometry(et);["position","normal","uv"].forEach(nt=>{this.attributes[nt]=rt.attributes[nt].clone()}),this.setIndex(rt.getIndex().clone())}}get detail(){return this._detail}set curveRadius(et){et!==this._curveRadius&&(this._curveRadius=et,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(et,rt,nt,it,ot){updateBufferAttr(this,glyphBoundsAttrName,et,4),updateBufferAttr(this,glyphIndexAttrName,rt,1),updateBufferAttr(this,glyphColorAttrName,ot,3),this._blockBounds=nt,this._chunkedBounds=it,this.instanceCount=rt.length,this._updateBounds()}_updateBounds(){const et=this._blockBounds;if(et){const{curveRadius:rt,boundingBox:nt}=this;if(rt){const{PI:it,floor:ot,min:at,max:st,sin:lt,cos:ct}=Math,ut=it/2,dt=it*2,ft=Math.abs(rt),pt=et[0]/ft,mt=et[2]/ft,ht=ot((pt+ut)/dt)!==ot((mt+ut)/dt)?-ft:at(lt(pt)*ft,lt(mt)*ft),gt=ot((pt-ut)/dt)!==ot((mt-ut)/dt)?ft:st(lt(pt)*ft,lt(mt)*ft),vt=ot((pt+it)/dt)!==ot((mt+it)/dt)?ft*2:st(ft-ct(pt)*ft,ft-ct(mt)*ft);nt.min.set(ht,et[1],rt<0?-vt:0),nt.max.set(gt,et[3],rt<0?0:vt)}else nt.min.set(et[0],et[1],0),nt.max.set(et[2],et[3],0);nt.getBoundingSphere(this.boundingSphere)}}applyClipRect(et){let rt=this.getAttribute(glyphIndexAttrName).count,nt=this._chunkedBounds;if(nt)for(let it=nt.length;it--;){rt=nt[it].end;let ot=nt[it].rect;if(ot[1]<et.w&&ot[3]>et.y&&ot[0]<et.z&&ot[2]>et.x)break}this.instanceCount=rt}}function updateBufferAttr(tt,et,rt,nt){const it=tt.getAttribute(et);rt?it&&it.array.length===rt.length?(it.array.set(rt),it.needsUpdate=!0):(tt.setAttribute(et,new InstancedBufferAttribute(rt,nt)),delete tt._maxInstanceCount,tt.dispose()):it&&tt.deleteAttribute(et)}const VERTEX_DEFS=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,VERTEX_TRANSFORM=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,FRAGMENT_DEFS=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,FRAGMENT_TRANSFORM=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function createTextDerivedMaterial(tt){const et=createDerivedMaterial(tt,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Vector2},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new Vector4(0,0,0,0)},uTroikaClipRect:{value:new Vector4(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Vector2},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new Color},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Matrix3},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:VERTEX_DEFS,vertexTransform:VERTEX_TRANSFORM,fragmentDefs:FRAGMENT_DEFS,fragmentColorTransform:FRAGMENT_TRANSFORM,customRewriter({vertexShader:rt,fragmentShader:nt}){let it=/\buniform\s+vec3\s+diffuse\b/;return it.test(nt)&&(nt=nt.replace(it,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),it.test(rt)||(rt=rt.replace(voidMainRegExp,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:rt,fragmentShader:nt}}});return et.transparent=!0,Object.defineProperties(et,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),et}const defaultMaterial=new MeshBasicMaterial({color:16777215,side:DoubleSide,transparent:!0}),defaultStrokeColor=8421504,tempMat4=new Matrix4,tempVec3a=new Vector3,tempVec3b=new Vector3,tempArray=[],origin=new Vector3,defaultOrient="+x+y";function first(tt){return Array.isArray(tt)?tt[0]:tt}let getFlatRaycastMesh=()=>{const tt=new Mesh(new PlaneGeometry(1,1),defaultMaterial);return getFlatRaycastMesh=()=>tt,tt},getCurvedRaycastMesh=()=>{const tt=new Mesh(new PlaneGeometry(1,1,32,1),defaultMaterial);return getCurvedRaycastMesh=()=>tt,tt};const syncStartEvent={type:"syncstart"},syncCompleteEvent={type:"synccomplete"},SYNCABLE_PROPS=["font","fontSize","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],COPYABLE_PROPS=SYNCABLE_PROPS.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let Text$1=class extends Mesh{constructor(){const et=new GlyphsGeometry;super(et,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.fontSize=.1,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=defaultStrokeColor,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=defaultOrient,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(et){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(et):(this._isSyncing=!0,this.dispatchEvent(syncStartEvent),getTextRenderInfo({text:this.text,font:this.font,fontSize:this.fontSize||.1,letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF},rt=>{this._isSyncing=!1,this._textRenderInfo=rt,this.geometry.updateGlyphs(rt.glyphBounds,rt.glyphAtlasIndices,rt.blockBounds,rt.chunkedBounds,rt.glyphColors);const nt=this._queuedSyncs;nt&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{nt.forEach(it=>it&&it())})),this.dispatchEvent(syncCompleteEvent),et&&et()})))}onBeforeRender(et,rt,nt,it,ot,at){this.sync(),ot.isTroikaTextMaterial&&this._prepareForRender(ot),ot._hadOwnSide=ot.hasOwnProperty("side"),this.geometry.setSide(ot._actualSide=ot.side),ot.side=FrontSide}onAfterRender(et,rt,nt,it,ot,at){ot._hadOwnSide?ot.side=ot._actualSide:delete ot.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let et=this._derivedMaterial;const rt=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=defaultMaterial.clone());if((!et||et.baseMaterial!==rt)&&(et=this._derivedMaterial=createTextDerivedMaterial(rt),rt.addEventListener("dispose",function nt(){rt.removeEventListener("dispose",nt),et.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let nt=et._outlineMtl;return nt||(nt=et._outlineMtl=Object.create(et,{id:{value:et.id+.1}}),nt.isTextOutlineMaterial=!0,nt.depthWrite=!1,nt.map=null,et.addEventListener("dispose",function it(){et.removeEventListener("dispose",it),nt.dispose()})),[nt,et]}else return et}set material(et){et&&et.isTroikaTextMaterial?(this._derivedMaterial=et,this._baseMaterial=et.baseMaterial):this._baseMaterial=et}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(et){this.geometry.detail=et}get curveRadius(){return this.geometry.curveRadius}set curveRadius(et){this.geometry.curveRadius=et}get customDepthMaterial(){return first(this.material).getDepthMaterial()}get customDistanceMaterial(){return first(this.material).getDistanceMaterial()}_prepareForRender(et){const rt=et.isTextOutlineMaterial,nt=et.uniforms,it=this.textRenderInfo;if(it){const{sdfTexture:st,blockBounds:lt}=it;nt.uTroikaSDFTexture.value=st,nt.uTroikaSDFTextureSize.value.set(st.image.width,st.image.height),nt.uTroikaSDFGlyphSize.value=it.sdfGlyphSize,nt.uTroikaSDFExponent.value=it.sdfExponent,nt.uTroikaTotalBounds.value.fromArray(lt),nt.uTroikaUseGlyphColors.value=!rt&&!!it.glyphColors;let ct=0,ut=0,dt=0,ft,pt,mt,ht=0,gt=0;if(rt){let{outlineWidth:yt,outlineOffsetX:bt,outlineOffsetY:xt,outlineBlur:$t,outlineOpacity:Tt}=this;ct=this._parsePercent(yt)||0,ut=Math.max(0,this._parsePercent($t)||0),ft=Tt,ht=this._parsePercent(bt)||0,gt=this._parsePercent(xt)||0}else dt=Math.max(0,this._parsePercent(this.strokeWidth)||0),dt&&(mt=this.strokeColor,nt.uTroikaStrokeColor.value.set(mt??defaultStrokeColor),pt=this.strokeOpacity,pt==null&&(pt=1)),ft=this.fillOpacity;nt.uTroikaDistanceOffset.value=ct,nt.uTroikaPositionOffset.value.set(ht,gt),nt.uTroikaBlurRadius.value=ut,nt.uTroikaStrokeWidth.value=dt,nt.uTroikaStrokeOpacity.value=pt,nt.uTroikaFillOpacity.value=ft??1,nt.uTroikaCurveRadius.value=this.curveRadius||0;let vt=this.clipRect;if(vt&&Array.isArray(vt)&&vt.length===4)nt.uTroikaClipRect.value.fromArray(vt);else{const yt=(this.fontSize||.1)*100;nt.uTroikaClipRect.value.set(lt[0]-yt,lt[1]-yt,lt[2]+yt,lt[3]+yt)}this.geometry.applyClipRect(nt.uTroikaClipRect.value)}nt.uTroikaSDFDebug.value=!!this.debugSDF,et.polygonOffset=!!this.depthOffset,et.polygonOffsetFactor=et.polygonOffsetUnits=this.depthOffset||0;const ot=rt?this.outlineColor||0:this.color;if(ot==null)delete et.color;else{const st=et.hasOwnProperty("color")?et.color:et.color=new Color;(ot!==st._input||typeof ot=="object")&&st.set(st._input=ot)}let at=this.orientation||defaultOrient;if(at!==et._orientation){let st=nt.uTroikaOrient.value;at=at.replace(/[^-+xyz]/g,"");let lt=at!==defaultOrient&&at.match(/^([-+])([xyz])([-+])([xyz])$/);if(lt){let[,ct,ut,dt,ft]=lt;tempVec3a.set(0,0,0)[ut]=ct==="-"?1:-1,tempVec3b.set(0,0,0)[ft]=dt==="-"?-1:1,tempMat4.lookAt(origin,tempVec3a.cross(tempVec3b),tempVec3b),st.setFromMatrix4(tempMat4)}else st.identity();et._orientation=at}}_parsePercent(et){if(typeof et=="string"){let rt=et.match(/^(-?[\d.]+)%$/),nt=rt?parseFloat(rt[1]):NaN;et=(isNaN(nt)?0:nt/100)*this.fontSize}return et}localPositionToTextCoords(et,rt=new Vector2){rt.copy(et);const nt=this.curveRadius;return nt&&(rt.x=Math.atan2(et.x,Math.abs(nt)-Math.abs(et.z))*Math.abs(nt)),rt}worldPositionToTextCoords(et,rt=new Vector2){return tempVec3a.copy(et),this.localPositionToTextCoords(this.worldToLocal(tempVec3a),rt)}raycast(et,rt){const{textRenderInfo:nt,curveRadius:it}=this;if(nt){const ot=nt.blockBounds,at=it?getCurvedRaycastMesh():getFlatRaycastMesh(),st=at.geometry,{position:lt,uv:ct}=st.attributes;for(let ut=0;ut<ct.count;ut++){let dt=ot[0]+ct.getX(ut)*(ot[2]-ot[0]);const ft=ot[1]+ct.getY(ut)*(ot[3]-ot[1]);let pt=0;it&&(pt=it-Math.cos(dt/it)*it,dt=Math.sin(dt/it)*it),lt.setXYZ(ut,dt,ft,pt)}st.boundingSphere=this.geometry.boundingSphere,st.boundingBox=this.geometry.boundingBox,at.matrixWorld=this.matrixWorld,at.material.side=this.material.side,tempArray.length=0,at.raycast(et,tempArray);for(let ut=0;ut<tempArray.length;ut++)tempArray[ut].object=this,rt.push(tempArray[ut])}}copy(et){const rt=this.geometry;return super.copy(et),this.geometry=rt,COPYABLE_PROPS.forEach(nt=>{this[nt]=et[nt]}),this}clone(){return new this.constructor().copy(this)}};SYNCABLE_PROPS.forEach(tt=>{const et="_private_"+tt;Object.defineProperty(Text$1.prototype,tt,{get(){return this[et]},set(rt){rt!==this[et]&&(this[et]=rt,this._needsSync=!0)}})});const Text=reactExports.forwardRef(({anchorX:tt="center",anchorY:et="middle",font:rt,children:nt,characters:it,onSync:ot,...at},st)=>{const lt=useThree(({invalidate:ft})=>ft),[ct]=reactExports.useState(()=>new Text$1),[ut,dt]=reactExports.useMemo(()=>{const ft=[];let pt="";return reactExports.Children.forEach(nt,mt=>{typeof mt=="string"||typeof mt=="number"?pt+=mt:ft.push(mt)}),[ft,pt]},[nt]);return suspend(()=>new Promise(ft=>preloadFont({font:rt,characters:it},ft)),["troika-text",rt,it]),reactExports.useLayoutEffect(()=>void ct.sync(()=>{lt(),ot&&ot(ct)})),reactExports.useEffect(()=>()=>ct.dispose(),[ct]),reactExports.createElement("primitive",_extends$n({object:ct,ref:st,font:rt,text:dt,anchorX:tt,anchorY:et},at),ut)}),types=["string","number"],getTextFromChildren=tt=>{let et="";const rt=[];return reactExports.Children.forEach(tt,nt=>{types.includes(typeof nt)?et+=nt+"":rt.push(nt)}),[et,...rt]},Text3D=reactExports.forwardRef(({font:tt,letterSpacing:et=0,lineHeight:rt=1,size:nt=1,height:it=.2,bevelThickness:ot=.1,bevelSize:at=.01,bevelEnabled:st=!1,bevelOffset:lt=0,bevelSegments:ct=4,curveSegments:ut=8,children:dt,...ft},pt)=>{reactExports.useMemo(()=>extend$1({RenamedTextGeometry:TextGeometry}),[]);const mt=suspend(async()=>{let bt=typeof tt=="string"?await(await fetch(tt)).json():tt;return new FontLoader().parse(bt)},[tt]),ht=reactExports.useMemo(()=>({font:mt,size:nt,height:it,bevelThickness:ot,bevelSize:at,bevelEnabled:st,bevelSegments:ct,bevelOffset:lt,curveSegments:ut,letterSpacing:et,lineHeight:rt}),[mt,nt,it,ot,at,st,ct,lt,ut,et,rt]),[gt,...vt]=reactExports.useMemo(()=>getTextFromChildren(dt),[dt]),yt=reactExports.useMemo(()=>[gt,ht],[gt,ht]);return reactExports.createElement("mesh",_extends$n({},ft,{ref:pt}),reactExports.createElement("renamedTextGeometry",{args:yt}),vt)});let dracoLoader=null;function extensions(tt,et,rt){return nt=>{rt&&rt(nt),tt&&(dracoLoader||(dracoLoader=new DRACOLoader),dracoLoader.setDecoderPath(typeof tt=="string"?tt:"https://www.gstatic.com/draco/versioned/decoders/1.4.3/"),nt.setDRACOLoader(dracoLoader)),et&&nt.setMeshoptDecoder(typeof MeshoptDecoder=="function"?MeshoptDecoder():MeshoptDecoder)}}function useGLTF(tt,et=!0,rt=!0,nt){return useLoader(GLTFLoader,tt,extensions(et,rt,nt))}useGLTF.preload=(tt,et=!0,rt=!0,nt)=>useLoader.preload(GLTFLoader,tt,extensions(et,rt,nt));useGLTF.clear=tt=>useLoader.clear(GLTFLoader,tt);function useFBO(tt,et,rt){const{gl:nt,size:it,viewport:ot}=useThree(),at=typeof tt=="number"?tt:it.width*ot.dpr,st=typeof et=="number"?et:it.height*ot.dpr,lt=(typeof tt=="number"?rt:tt)||{},{samples:ct,...ut}=lt,dt=reactExports.useMemo(()=>{let ft;return ft=new WebGLRenderTarget(at,st,{minFilter:LinearFilter,magFilter:LinearFilter,encoding:nt.outputEncoding,type:HalfFloatType,...ut}),ft.samples=ct,ft},[]);return reactExports.useLayoutEffect(()=>{dt.setSize(at,st),ct&&(dt.samples=ct)},[ct,dt,at,st]),reactExports.useEffect(()=>()=>dt.dispose(),[]),dt}const isFunction$4=tt=>typeof tt=="function",OrthographicCamera=reactExports.forwardRef(({envMap:tt,resolution:et=256,frames:rt=1/0,children:nt,makeDefault:it,...ot},at)=>{const st=useThree(({set:gt})=>gt),lt=useThree(({camera:gt})=>gt),ct=useThree(({size:gt})=>gt),ut=reactExports.useRef(null),dt=reactExports.useRef(null),ft=useFBO(et);reactExports.useLayoutEffect(()=>{ot.manual||ut.current.updateProjectionMatrix()},[ct,ot]),reactExports.useLayoutEffect(()=>{ut.current.updateProjectionMatrix()}),reactExports.useLayoutEffect(()=>{if(it){const gt=lt;return st(()=>({camera:ut.current})),()=>st(()=>({camera:gt}))}},[ut,it,st]);let pt=0,mt=null;const ht=isFunction$4(nt);return useFrame(gt=>{ht&&(rt===1/0||pt<rt)&&(dt.current.visible=!1,gt.gl.setRenderTarget(ft),mt=gt.scene.background,tt&&(gt.scene.background=tt),gt.gl.render(gt.scene,ut.current),gt.scene.background=mt,gt.gl.setRenderTarget(null),dt.current.visible=!0,pt++)}),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("orthographicCamera",_extends$n({left:ct.width/-2,right:ct.width/2,top:ct.height/2,bottom:ct.height/-2,ref:mergeRefs([ut,at])},ot),!ht&&nt),reactExports.createElement("group",{ref:dt},ht&&nt(ft.texture)))}),isFunction$3=tt=>typeof tt=="function",PerspectiveCamera=reactExports.forwardRef(({envMap:tt,resolution:et=256,frames:rt=1/0,makeDefault:nt,children:it,...ot},at)=>{const st=useThree(({set:gt})=>gt),lt=useThree(({camera:gt})=>gt),ct=useThree(({size:gt})=>gt),ut=reactExports.useRef(null),dt=reactExports.useRef(null),ft=useFBO(et);reactExports.useLayoutEffect(()=>{ot.manual||(ut.current.aspect=ct.width/ct.height)},[ct,ot]),reactExports.useLayoutEffect(()=>{ut.current.updateProjectionMatrix()});let pt=0,mt=null;const ht=isFunction$3(it);return useFrame(gt=>{ht&&(rt===1/0||pt<rt)&&(dt.current.visible=!1,gt.gl.setRenderTarget(ft),mt=gt.scene.background,tt&&(gt.scene.background=tt),gt.gl.render(gt.scene,ut.current),gt.scene.background=mt,gt.gl.setRenderTarget(null),dt.current.visible=!0,pt++)}),reactExports.useLayoutEffect(()=>{if(nt){const gt=lt;return st(()=>({camera:ut.current})),()=>st(()=>({camera:gt}))}},[ut,nt,st]),reactExports.createElement(reactExports.Fragment,null,reactExports.createElement("perspectiveCamera",_extends$n({ref:mergeRefs([ut,at])},ot),!ht&&it),reactExports.createElement("group",{ref:dt},ht&&it(ft.texture)))});var stats_minExports={},stats_min={get exports(){return stats_minExports},set exports(tt){stats_minExports=tt}};(function(tt,et){(function(rt,nt){tt.exports=nt()})(commonjsGlobal$4,function(){var rt=function(){function nt(pt){return at.appendChild(pt.dom),pt}function it(pt){for(var mt=0;mt<at.children.length;mt++)at.children[mt].style.display=mt===pt?"block":"none";ot=pt}var ot=0,at=document.createElement("div");at.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",at.addEventListener("click",function(pt){pt.preventDefault(),it(++ot%at.children.length)},!1);var st=(performance||Date).now(),lt=st,ct=0,ut=nt(new rt.Panel("FPS","#0ff","#002")),dt=nt(new rt.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var ft=nt(new rt.Panel("MB","#f08","#201"));return it(0),{REVISION:16,dom:at,addPanel:nt,showPanel:it,begin:function(){st=(performance||Date).now()},end:function(){ct++;var pt=(performance||Date).now();if(dt.update(pt-st,200),pt>lt+1e3&&(ut.update(1e3*ct/(pt-lt),100),lt=pt,ct=0,ft)){var mt=performance.memory;ft.update(mt.usedJSHeapSize/1048576,mt.jsHeapSizeLimit/1048576)}return pt},update:function(){st=this.end()},domElement:at,setMode:it}};return rt.Panel=function(nt,it,ot){var at=1/0,st=0,lt=Math.round,ct=lt(window.devicePixelRatio||1),ut=80*ct,dt=48*ct,ft=3*ct,pt=2*ct,mt=3*ct,ht=15*ct,gt=74*ct,vt=30*ct,yt=document.createElement("canvas");yt.width=ut,yt.height=dt,yt.style.cssText="width:80px;height:48px";var bt=yt.getContext("2d");return bt.font="bold "+9*ct+"px Helvetica,Arial,sans-serif",bt.textBaseline="top",bt.fillStyle=ot,bt.fillRect(0,0,ut,dt),bt.fillStyle=it,bt.fillText(nt,ft,pt),bt.fillRect(mt,ht,gt,vt),bt.fillStyle=ot,bt.globalAlpha=.9,bt.fillRect(mt,ht,gt,vt),{dom:yt,update:function(xt,$t){at=Math.min(at,xt),st=Math.max(st,xt),bt.fillStyle=ot,bt.globalAlpha=1,bt.fillRect(0,0,ut,ht),bt.fillStyle=it,bt.fillText(lt(xt)+" "+nt+" ("+lt(at)+"-"+lt(st)+")",ft,pt),bt.drawImage(yt,mt+ct,ht,gt-ct,vt,mt,ht,gt-ct,vt),bt.fillRect(mt+gt-ct,ht,ct,vt),bt.fillStyle=ot,bt.globalAlpha=.9,bt.fillRect(mt+gt-ct,ht,ct,lt((1-xt/$t)*vt))}}},rt})})(stats_min);const StatsImpl=stats_minExports;function create(tt){const et=tt+"Geometry";return reactExports.forwardRef(({args:rt,children:nt,...it},ot)=>reactExports.createElement("mesh",_extends$n({ref:ot},it),reactExports.createElement(et,{attach:"geometry",args:rt}),nt))}const Circle$2=create("circle"),Plane=create("plane"),Torus=create("torus"),presetsObj={sunset:"venice/venice_sunset_1k.hdr",dawn:"kiara/kiara_1_dawn_1k.hdr",night:"dikhololo/dikhololo_night_1k.hdr",warehouse:"empty-wharehouse/empty_warehouse_01_1k.hdr",forest:"forrest-slope/forest_slope_1k.hdr",apartment:"lebombo/lebombo_1k.hdr",studio:"studio-small-3/studio_small_03_1k.hdr",city:"potsdamer-platz/potsdamer_platz_1k.hdr",park:"rooitou/rooitou_park_1k.hdr",lobby:"st-fagans/st_fagans_interior_1k.hdr"},CUBEMAP_ROOT="https://market-assets.fra1.cdn.digitaloceanspaces.com/market-assets/hdris/",isRef$1=tt=>tt.current&&tt.current.isScene,resolveScene=tt=>isRef$1(tt)?tt.current:tt;function setEnvProps(tt,et,rt,nt,it=0){const ot=resolveScene(et||rt),at=ot.background,st=ot.environment,lt=ot.backgroundBlurriness||0;return tt!=="only"&&(ot.environment=nt),tt&&(ot.background=nt),tt&&ot.backgroundBlurriness!==void 0&&(ot.backgroundBlurriness=it),()=>{tt!=="only"&&(ot.environment=st),tt&&(ot.background=at),tt&&ot.backgroundBlurriness!==void 0&&(ot.backgroundBlurriness=lt)}}function EnvironmentMap({scene:tt,background:et=!1,blur:rt,map:nt}){const it=useThree(ot=>ot.scene);return reactExports.useLayoutEffect(()=>{if(nt)return setEnvProps(et,tt,it,nt,rt)},[it,tt,nt,et,rt]),null}function useEnvironment({files:tt=["/px.png","/nx.png","/py.png","/ny.png","/pz.png","/nz.png"],path:et="",preset:rt=void 0,encoding:nt=void 0,extensions:it}){if(rt){if(!(rt in presetsObj))throw new Error("Preset must be one of: "+Object.keys(presetsObj).join(", "));tt=presetsObj[rt],et=CUBEMAP_ROOT}const ot=Array.isArray(tt),st=useLoader(ot?CubeTextureLoader:RGBELoader,ot?[tt]:tt,ct=>{ct.setPath(et),it&&it(ct)}),lt=ot?st[0]:st;return lt.mapping=ot?CubeReflectionMapping:EquirectangularReflectionMapping,lt.encoding=nt??ot?sRGBEncoding:LinearEncoding,lt}function EnvironmentCube({background:tt=!1,scene:et,blur:rt,...nt}){const it=useEnvironment(nt),ot=useThree(at=>at.scene);return reactExports.useLayoutEffect(()=>setEnvProps(tt,et,ot,it,rt),[it,tt,et,ot,rt]),null}function EnvironmentPortal({children:tt,near:et=1,far:rt=1e3,resolution:nt=256,frames:it=1,map:ot,background:at=!1,blur:st,scene:lt,files:ct,path:ut,preset:dt=void 0,extensions:ft}){const pt=useThree(bt=>bt.gl),mt=useThree(bt=>bt.scene),ht=reactExports.useRef(null),[gt]=reactExports.useState(()=>new Scene),vt=reactExports.useMemo(()=>{const bt=new WebGLCubeRenderTarget(nt);return bt.texture.type=HalfFloatType,bt},[nt]);reactExports.useLayoutEffect(()=>(it===1&&ht.current.update(pt,gt),setEnvProps(at,lt,mt,vt.texture,st)),[tt,gt,vt.texture,lt,mt,at,it,pt]);let yt=1;return useFrame(()=>{(it===1/0||yt<it)&&(ht.current.update(pt,gt),yt++)}),reactExports.createElement(reactExports.Fragment,null,createPortal(reactExports.createElement(reactExports.Fragment,null,tt,reactExports.createElement("cubeCamera",{ref:ht,args:[et,rt,vt]}),ct||dt?reactExports.createElement(EnvironmentCube,{background:!0,files:ct,preset:dt,path:ut,extensions:ft}):ot?reactExports.createElement(EnvironmentMap,{background:!0,map:ot,extensions:ft}):null),gt))}function EnvironmentGround(tt){var et,rt,nt,it;const ot=useEnvironment(tt),at=tt.map||ot;reactExports.useMemo(()=>extend$1({GroundProjectedEnvImpl:GroundProjectedEnv}),[]);const st=reactExports.useMemo(()=>[at],[at]),lt=(et=tt.ground)==null?void 0:et.height,ct=(rt=tt.ground)==null?void 0:rt.radius,ut=(nt=(it=tt.ground)==null?void 0:it.scale)!==null&&nt!==void 0?nt:1e3;return reactExports.createElement(reactExports.Fragment,null,reactExports.createElement(EnvironmentMap,_extends$n({},tt,{map:at})),reactExports.createElement("groundProjectedEnvImpl",{args:st,scale:ut,height:lt,radius:ct}))}function Environment(tt){return tt.ground?reactExports.createElement(EnvironmentGround,tt):tt.map?reactExports.createElement(EnvironmentMap,tt):tt.children?reactExports.createElement(EnvironmentPortal,tt):reactExports.createElement(EnvironmentCube,tt)}const url$d="/assets/note_mine-408565f3.glb",MineObj=()=>{const{nodes:tt}=useGLTF(url$d),et=tt.Icosphere_Icosphere001.geometry;return jsx("primitive",{object:et,attach:"geometry"})};useGLTF.preload(url$d);const MineNote=reactExports.memo(({x:tt,y:et,z:rt,id:nt,time:it,lineLayer:ot,lineIndex:at,color:st,size:lt=1,isTransparent:ct,isSelected:ut,isCheckerror:dt=!1,isMouseDownAndMoveBlock:ft,handleClick:pt,handleStartSelecting:mt,handleMouseOver:ht,handleMouseDown:gt=()=>{},handleMouseUp:vt=()=>{},handleMouseLeave:yt=()=>{},handleMouseEnter:bt=()=>{}})=>{const xt=[tt,et,rt],$t=lt*.5,{getMaterialParams:Tt}=useNote({id:nt,time:it,lineLayer:ot,lineIndex:at,ringNoteType:null}),{emissiveColor:wt,emissiveIntensityOpactity:At,opacity:Rt,metalness:It,roughness:Lt}=Tt(dt,ut,ct);return jsx("group",{children:jsxs("mesh",{dataId:nt,castShadow:!0,position:xt,scale:[$t,$t,$t],onClick:Pt=>{Pt.stopPropagation()},onPointerDown:Pt=>{Pt.stopPropagation();const Nt=Pt.button===0?"left":"right";Nt==="left"&&gt();let Ot;Pt.button===0?Ot=ut?"deselect":"select":Pt.button===1?Ot=null:Pt.button,mt(Ot),pt(Nt,it,ot,at)},onPointerOver:Pt=>{ft||Pt.stopPropagation(),ht(it,ot,at)},onPointerUp:vt,onPointerLeave:yt,onPointerEnter:bt,children:[jsx(reactExports.Suspense,{children:jsx(MineObj,{})}),jsx("meshStandardMaterial",{attach:"material",metalness:It,roughness:Lt,color:st,transparent:ct,emissive:wt,emissiveIntensity:At,opacity:Rt})]})})}),noteBlockCircleURL="/assets/note_block_circle-14a4d4e9.glb",noteBlockDirectionURL="/assets/note_block_direction-d6b1bfa7.glb",BlockObj=()=>{const{nodes:tt}=useGLTF(noteBlockDirectionURL);if(!tt)return null;const{geometry:et}=tt.Cube003;return jsx("primitive",{rotation:[-Math.PI/2,0,0],object:et})};useGLTF.preload(noteBlockDirectionURL);const BlockObjCenter=()=>{const{nodes:tt}=useGLTF(noteBlockCircleURL);if(!tt)return null;const{geometry:et}=tt.Cube001;return jsx("primitive",{object:et,attach:"geometry"})},getRotationForDirection=tt=>{if(tt>=1e3){const et=180-(tt+270)%360;return convertDegreesToRadians(et)}switch(tt){case NOTE_ARROW.UP:return Math.PI;case NOTE_ARROW.DOWN:return 0;case NOTE_ARROW.LEFT:return Math.PI*-.5;case NOTE_ARROW.RIGHT:return Math.PI*.5;case NOTE_ARROW.UP_LEFT:return Math.PI*-.75;case NOTE_ARROW.UP_RIGHT:return Math.PI*.75;case NOTE_ARROW.DOWN_LEFT:return Math.PI*-.25;case NOTE_ARROW.DOWN_RIGHT:return Math.PI*.25;case NOTE_ARROW.CIRCLE:return 0;default:throw new Error("Unrecognized direction: "+tt)}},BlockNote=reactExports.memo(({x:tt,y:et,z:rt,id:nt,time:it,lineLayer:ot,lineIndex:at,direction:st,size:lt=1,color:ct=16711680,isMouseDownAndMoveBlock:ut,isTransparent:dt,isSelected:ft,isCheckerror:pt=!1,selectionMode:mt,handleClick:ht,handleStartSelecting:gt,handleMouseOver:vt,handleMouseDown:yt=()=>{},handleMouseUp:bt=()=>{},handleMouseLeave:xt=()=>{},handleMouseEnter:$t=()=>{}})=>{const Tt=[tt,et,rt],wt=lt*.5;if(isUnDef(st))return null;const At=[Math.PI/2,getRotationForDirection(st),0],Rt=[0,0,getRotationForDirection(st)],It=Dt=>{Dt.stopPropagation()},{onPointerDown:Lt,onPointerOver:Pt,getMaterialParams:Nt}=useNote({id:nt,time:it,lineLayer:ot,lineIndex:at,ringNoteType:null}),{emissiveColor:Ot,emissiveIntensityOpactity:Bt,opacity:zt,metalness:Vt,roughness:Ut}=Nt(pt,ft,dt),jt=Dt=>{Lt(Dt,yt,ft,gt,ht)},qt=Dt=>{Pt(Dt,mt,ut,vt)};return jsxs("group",{children:[jsxs("mesh",{dataId:nt,castShadow:!0,position:Tt,scale:[wt,wt,wt],rotation:At,onClick:It,onPointerDown:jt,onPointerOver:qt,onPointerUp:bt,onPointerLeave:xt,onPointerEnter:$t,children:[st===NOTE_ARROW.CIRCLE?jsx(reactExports.Suspense,{fallback:null,children:jsx(BlockObjCenter,{})}):jsx(reactExports.Suspense,{fallback:null,children:jsx(BlockObj,{})}),jsx("meshStandardMaterial",{attach:"material",metalness:Vt,roughness:Ut,color:ct,transparent:dt,emissive:Ot,emissiveIntensity:Bt,opacity:zt})]}),jsxs("mesh",{position:[Tt[0],Tt[1],Tt[2]+lt*.2],rotation:Rt,onClick:It,onPointerDown:jt,onPointerOver:qt,children:[jsx("planeGeometry",{attach:"geometry",args:[lt*.8,lt*.8]}),jsx("meshLambertMaterial",{attach:"material",emissive:16777215,transparent:dt,opacity:zt})]})]})}),url$c="/assets/shortNote-2832c0e7.glb";function ModalNote({color:tt,emissiveColor:et,emissiveIntensityOpactity:rt,isTransparent:nt,opacity:it,...ot}){var ut,dt;const{nodes:at,materials:st}=useGLTF(url$c),{boundingBox:lt}=at.w60z62.geometry;if(!lt)return null;const ct=reactExports.useMemo(()=>{var ft,pt;return FOOTER_NOTE_SIZE/(((ft=lt==null?void 0:lt.max)==null?void 0:ft.x)-((pt=lt==null?void 0:lt.min)==null?void 0:pt.x))},[(ut=lt==null?void 0:lt.max)==null?void 0:ut.x,(dt=lt==null?void 0:lt.min)==null?void 0:dt.x]);return jsx("group",{...ot,dispose:null,children:jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:at.w60z62.geometry,material:st.lambert5,rotation:[Math.PI/2,0,0],scale:[ct,ct/2,ct],children:jsx("meshStandardMaterial",{metalness:ot.metalness,roughness:ot.roughness,color:tt,emissive:et,emissiveIntensity:rt,opacity:it,transparent:nt})})})}useGLTF.preload(url$c);const FootNoteNumber=({lineIndex:tt,position1:et,position2:rt})=>{const nt=useGetCoordinateNumber(tt);return jsxs(Fragment,{children:[jsx(Text,{position:et,fontSize:.25,letterSpacing:-.05,children:nt}),jsx(Text,{rotation:[-1.6,0,0],position:rt,fontSize:1,letterSpacing:-.05,lineHeight:1,children:nt})]})},FootNoteNumber$1=reactExports.memo(FootNoteNumber),ShortNote=({x:tt,y:et,z:rt,id:nt,time:it,lineLayer:ot,lineIndex:at,ringNoteType:st,color:lt=16711680,isMouseDownAndMoveBlock:ct,isTransparent:ut,isSelected:dt,isCheckerror:ft=!1,selectionMode:pt,handleClick:mt,handleStartSelecting:ht,handleMouseOver:gt,handleMouseDown:vt=()=>{},handleMouseUp:yt=()=>{},handleMouseLeave:bt=()=>{},handleMouseEnter:xt=()=>{}})=>{const{getMaterialParams:$t,onPointerOver:Tt,onPointerDown:wt}=useNote({id:nt,time:it,lineLayer:ot,lineIndex:at,ringNoteType:st}),{emissiveColor:At,emissiveIntensityOpactity:Rt,opacity:It,metalness:Lt,roughness:Pt}=$t(ft,dt,ut),Nt=Bt=>{wt(Bt,vt,dt,ht,mt)},Ot=Bt=>{Tt(Bt,pt,ct,gt)};return jsx(reactExports.Suspense,{fallback:null,children:jsxs("group",{position:[tt,et,rt-.2],children:[jsx(FootNoteNumber$1,{lineIndex:at,position1:[0,-.05,.45],position2:[0,.09,-.5]}),jsx(ModalNote,{dataId:nt,metalness:Lt,roughness:Pt,color:lt,isTransparent:ut,a:!0,emissiveColor:At,emissiveIntensityOpactity:Rt,opacity:It,onPointerDown:Nt,onPointerOver:Ot,onPointerUp:yt,onPointerLeave:bt,onPointerEnter:xt})]})})},ShortNote$1=reactExports.memo(ShortNote),getDimensionsForLongNote=(tt,et)=>{let rt=FOOTER_NOTE_SIZE-.2,nt=.14,it=tt*et;return it===0&&(it=.01),{width:rt,height:nt,depth:it}},useDuration=()=>{const tt=useAppDispatch(),et=useAppSelector(getSelectedNoteTool),rt=useAppSelector(getSelectedSong),{run:nt}=useThrottleFn(st=>{const lt=durationNoteFeature.getResizeCreatedObstacle(st);if(!lt)return;const{obstacle:ct,newDuration:ut}=lt;tt(resizeCreatedObstacles({obstacle:ct,newDuration:ut}))},{wait:100}),{run:it}=useThrottleFn(st=>{var ct;const lt=durationNoteFeature.getResizeLongNote(st);lt&&tt(resizeLongNote({id:(ct=durationNoteFeature.creatingDurationNote)==null?void 0:ct.id,newDuration:lt}))},{wait:100});return{handleResizeObstacle:nt,handleResizeLongNote:it,resizeLongNoteOrObstacleAction:st=>{st=st||editorFeature.getCursorPositionInBeats(rt==null?void 0:rt.offset,rt==null?void 0:rt.bpm),isSelectedToolObstacleType(et)?nt(st):it(st)},stopDurationNoteAction:()=>{isSelectedToolObstacleType(et)?tt(stopCreatedObstacles()):tt(stopCreatedLongNote())}}},TAIL_OFFSET_Z=.3,HEAD_OFFSET_Z=.2,LongNote=({x:tt,y:et,z:rt,id:nt,color:it,beatDepth:ot,isSelected:at,duration:st,time:lt,tentative:ct,isCheckerror:ut,isTransparent:dt,lineLayer:ft,lineIndex:pt,ringNoteType:mt,handleClick:ht,selectionMode:gt,handleStartSelecting:vt,handleMouseOver:yt,isMouseDownAndMoveBlock:bt,handleMouseDown:xt=()=>{},handleMouseUp:$t=()=>{},handleMouseLeave:Tt=()=>{},handleMouseEnter:wt=()=>{}})=>{const At=useAppSelector(getSnapTo),Rt=useAppDispatch(),It=getDimensionsForLongNote(st,ot),{onPointerDown:Lt,onPointerOver:Pt,getMaterialParams:Nt}=useNote({id:nt,time:lt,lineLayer:ft,lineIndex:pt,ringNoteType:mt}),{stopDurationNoteAction:Ot}=useDuration(),Bt=sr=>{if(sr.stopPropagation(),durationNoteFeature.creatingDurationNote){Ot();return}Lt(sr,xt,at,vt,ht)},zt=sr=>{Pt(sr,gt,bt,yt)},{emissiveColor:Vt,emissiveIntensityOpactity:Ut,metalness:jt,roughness:qt}=Nt(ut,at,dt),Dt=ct?.15:.5,Ft=React.useMemo(()=>{const sr=new BoxGeometry(It.width,It.height,It.depth),fr=new MeshStandardMaterial({color:it,transparent:!0,opacity:Dt,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1,side:DoubleSide,emissive:Vt,emissiveIntensity:Ut});return new Mesh(sr,fr)},[it,It.depth,It.height,It.width,at,Dt]),[Zt,Kt,ir]=reactExports.useMemo(()=>{const sr=rt-It.depth/2+.05,fr=[tt,et,sr],pr=[fr[0],fr[1],rt+st*ot*-1+TAIL_OFFSET_Z],vr=[fr[0],fr[1],rt-HEAD_OFFSET_Z];return[fr,vr,pr]},[tt,et,rt,It.depth]),{run:rr}=useThrottleFn(sr=>{const fr=getResizeDuration(sr.deltaY,At,st,EDITOR_DURATION.MIN_LONG_NOTE);fr!==null&&Rt(resizeLongNote({id:nt,newDuration:fr}))},{wait:100});return jsxs("group",{dataId:nt,onPointerDown:Bt,onPointerOver:zt,onPointerUp:sr=>{sr.stopPropagation()},onPointerLeave:Tt,onPointerEnter:wt,onWheel:sr=>{sr.stopPropagation(),globalShortCutKeyClass.isPressAlt&&rr(sr)},children:[jsx(reactExports.Suspense,{fallback:null,children:jsx(FootNoteNumber$1,{lineIndex:pt,position1:[Kt[0],Kt[1]-.05,Kt[2]+.45],position2:[Kt[0],Kt[1]+.09,Kt[2]-.5]})}),jsx(ModalNote,{position:Kt,color:it,metalness:jt,roughness:qt,emissiveColor:Vt,opacity:Dt,emissiveIntensityOpactity:Ut,isTransparent:dt}),jsx("primitive",{onPointerDown:sr=>{globalShortCutKeyClass.isPressAlt&&sr.stopPropagation()},object:Ft,position:[Zt[0],Zt[1]-.05,Zt[2]]})]})},LongNote$1=reactExports.memo(LongNote),url$b="data:model/gltf-binary;base64,Z2xURgIAAACEBwAA+AQAAEpTT057ImFzc2V0Ijp7ImdlbmVyYXRvciI6Iktocm9ub3MgZ2xURiBCbGVuZGVyIEkvTyB2MS42LjE2IiwidmVyc2lvbiI6IjIuMCJ9LCJzY2VuZSI6MCwic2NlbmVzIjpbeyJuYW1lIjoiU2NlbmUiLCJub2RlcyI6WzBdfV0sIm5vZGVzIjpbeyJtZXNoIjowLCJuYW1lIjoiamlhbnRvdTAxIiwicm90YXRpb24iOlswLjcwNzEwNjgyODY4OTU3NTIsMCwwLDAuNzA3MTA2NzA5NDgwMjg1Nl0sInNjYWxlIjpbMC4wMDk5OTk5OTk3NzY0ODI1ODIsMC4wMDk5OTk5OTk3NzY0ODI1ODIsMC4wMDk5OTk5OTk3NzY0ODI1ODJdfV0sIm1hdGVyaWFscyI6W3siZG91YmxlU2lkZWQiOnRydWUsIm5hbWUiOiJsYW1iZXJ0MTQiLCJwYnJNZXRhbGxpY1JvdWdobmVzcyI6eyJiYXNlQ29sb3JGYWN0b3IiOlswLjQ2MjU5OTk5Mjc1MjA3NTIsMC4xNzQ2MDAwMDUxNDk4NDEzLDAuMDA2MDAwMDAwMDUyMTU0MDY0LDFdLCJtZXRhbGxpY0ZhY3RvciI6MCwicm91Z2huZXNzRmFjdG9yIjowLjU1Mjc4NjQwOTg1NDg4ODl9fV0sIm1lc2hlcyI6W3sibmFtZSI6Ilx1N2Y1MVx1NjgzYyIsInByaW1pdGl2ZXMiOlt7ImF0dHJpYnV0ZXMiOnsiUE9TSVRJT04iOjAsIk5PUk1BTCI6MSwiVEVYQ09PUkRfMCI6Mn0sImluZGljZXMiOjMsIm1hdGVyaWFsIjowfV19XSwiYWNjZXNzb3JzIjpbeyJidWZmZXJWaWV3IjowLCJjb21wb25lbnRUeXBlIjo1MTI2LCJjb3VudCI6MTgsIm1heCI6WzEwLjMyMDI1OTA5NDIzODI4MSwzMC42NjI0ODg5MzczNzc5Myw0LjA2NzQ4MTk5NDYyODkwNl0sIm1pbiI6Wy0xMC4zMjAyNTkwOTQyMzgyODEsMjUuNDQ4NDcxMDY5MzM1OTM4LC00LjA2NzQ4MjQ3MTQ2NjA2NDVdLCJ0eXBlIjoiVkVDMyJ9LHsiYnVmZmVyVmlldyI6MSwiY29tcG9uZW50VHlwZSI6NTEyNiwiY291bnQiOjE4LCJ0eXBlIjoiVkVDMyJ9LHsiYnVmZmVyVmlldyI6MiwiY29tcG9uZW50VHlwZSI6NTEyNiwiY291bnQiOjE4LCJ0eXBlIjoiVkVDMiJ9LHsiYnVmZmVyVmlldyI6MywiY29tcG9uZW50VHlwZSI6NTEyMywiY291bnQiOjI0LCJ0eXBlIjoiU0NBTEFSIn1dLCJidWZmZXJWaWV3cyI6W3siYnVmZmVyIjowLCJieXRlTGVuZ3RoIjoyMTYsImJ5dGVPZmZzZXQiOjB9LHsiYnVmZmVyIjowLCJieXRlTGVuZ3RoIjoyMTYsImJ5dGVPZmZzZXQiOjIxNn0seyJidWZmZXIiOjAsImJ5dGVMZW5ndGgiOjE0NCwiYnl0ZU9mZnNldCI6NDMyfSx7ImJ1ZmZlciI6MCwiYnl0ZUxlbmd0aCI6NDgsImJ5dGVPZmZzZXQiOjU3Nn1dLCJidWZmZXJzIjpbeyJieXRlTGVuZ3RoIjo2MjR9XX0gICBwAgAAQklOAMgfJcHHTPVB0CiCQMgfJcHHTPVB0CiCQMgfJcHHTPVB0CiCQMgfJUHHTPVB0CiCQMgfJUHHTPVB0CiCQMgfJUHHTPVB0CiCQAAAAADHTPVB0SiCwAAAAADHTPVB0SiCwAAAAADHTPVB0SiCwAAAAAB4lstB0SiCwAAAAAB4lstB0SiCwAAAAAB4lstB0SiCwMgfJcF4lstB0CiCQMgfJcF4lstB0CiCQMgfJcF4lstB0CiCQMgfJUF4lstB0CiCQMgfJUF4lstB0CiCQMgfJUF4lstB0CiCQEJ6Hr8AAAAApgxJvwAAAAAAAAAAAACAPwAAAAD//38/AAAAgAAAAAAAAAAAAACAPwAAAAD//38/AAAAgEJ6Hj8AAAAApgxJv0J6Hr8AAAAApgxJvwAAAAD//38/AAAAgEJ6Hj8AAAAApgxJv0J6Hr8AAAAApgxJvwAAAAAAAIC/AAAAgEJ6Hj8AAAAApgxJv0J6Hr8AAAAApgxJvwAAAAAAAIC/AAAAgAAAAAAAAAAAAACAPwAAAAAAAIC/AAAAgAAAAAAAAAAAAACAP0J6Hj8AAAAApgxJvwAAwD4AAIA/AADAPgAAAAAAAMA+AACAPwAAID8AAAAAAAAgPwAAgD8AACA/AACAPwAAAD8AAEA/AAAAPwAAQD8AAAA/AABAPwAAAD4AAEA/AAAAPwAAAD8AAGA/AABAPwAAAD4AAIA/AADAPgAAgD4AAMA+AACAPgAAID8AAIA+AAAgPwAAgD4AAGA/AACAPwIABAAHAAoADwANAA4AEAADAA4AAwABAAUAEQALAAUACwAIAAwAAAAGAAwABgAJAA==";function Model$5({emissiveColor:tt,emissiveIntensityOpactity:et,isTransparent:rt,rotationY:nt,opacity:it,...ot}){const at=reactExports.useRef(),{nodes:st,materials:lt}=useGLTF(url$b);return jsxs("group",{ref:at,...ot,dispose:null,children:[jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:st.jiantou01.geometry,material:lt["lambert1.003"],rotation:[Math.PI/2,nt,0],scale:.02}),jsx("meshStandardMaterial",{metalness:ot.metalness,roughness:ot.roughness,color:"#ffffff",emissive:tt,emissiveIntensity:et,opacity:it,transparent:rt})]})}useGLTF.preload(url$b);const url$a="/assets/noteRing01-ed799488.glb";function RingModel1$1({color:tt,scale:et,emissiveColor:rt,emissiveIntensityOpactity:nt,isTransparent:it,opacity:ot,...at}){const st=reactExports.useRef(),{nodes:lt,materials:ct}=useGLTF(url$a);return jsx("group",{ref:st,...at,dispose:null,children:jsx("mesh",{geometry:lt.noteRing01.geometry,material:ct.lambert8,rotation:[Math.PI/2,0,0],scale:et,children:jsx("meshStandardMaterial",{metalness:at.metalness,roughness:at.roughness,color:tt,emissive:rt,emissiveIntensity:nt,opacity:ot,transparent:it})})})}useGLTF.preload(url$a);const url$9="/assets/noteRing02-2f4aa9f6.glb";function RingModel2({color:tt,scale:et,emissiveColor:rt,emissiveIntensityOpactity:nt,isTransparent:it,...ot}){const at=reactExports.useRef(),{nodes:st,materials:lt}=useGLTF(url$9);return jsx("group",{ref:at,...ot,dispose:null,children:jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:st.noteRing02.geometry,material:lt.lambert8,rotation:[Math.PI/2,0,0],scale:et,children:jsx("meshStandardMaterial",{metalness:ot.metalness,roughness:ot.roughness,color:tt,emissive:rt,emissiveIntensity:nt,opacity:it?.25:1,transparent:it})})})}useGLTF.preload(url$9);const url$8="/assets/noteRing10-6f7db309.glb";function RingModel1({color:tt,scale:et,emissiveColor:rt,emissiveIntensityOpactity:nt,isTransparent:it,...ot}){const at=reactExports.useRef(),{nodes:st,materials:lt}=useGLTF(url$8);return jsx("group",{ref:at,...ot,dispose:null,children:jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:st.noteRing10.geometry,material:lt.lambert8,rotation:[Math.PI/2,0,0],scale:et,children:jsx("meshStandardMaterial",{metalness:ot.metalness,roughness:ot.roughness,color:tt,emissive:rt,emissiveIntensity:nt,opacity:it?.25:1,transparent:it})})})}useGLTF.preload(url$8);const ROW_AND_COL_RING=[{position:ROW_AND_COL_RING_CELL[RING_NUM.ONE],value:RING_NUM.ONE,Ring:RingModel1$1,scale:SCALE},{position:ROW_AND_COL_RING_CELL[RING_NUM.TWO],value:RING_NUM.TWO,Ring:RingModel2,scale:SCALE},{position:ROW_AND_COL_RING_CELL[RING_NUM.THREE],value:RING_NUM.THREE,Ring:RingModel2,scale:SCALE_ARR_1},{position:ROW_AND_COL_RING_CELL[RING_NUM.FOUR],value:RING_NUM.FOUR,Ring:RingModel1$1,scale:SCALE_ARR_1},{position:ROW_AND_COL_RING_CELL[RING_NUM.FIVE],value:RING_NUM.FIVE,Ring:RingModel1,scale:SCALE_ARR_1},{position:ROW_AND_COL_RING_CELL[RING_NUM.SIX],value:RING_NUM.SIX,Ring:RingModel1$1,scale:SCALE_ARR_2},{position:ROW_AND_COL_RING_CELL[RING_NUM.SEVEN],value:RING_NUM.SEVEN,Ring:RingModel2,scale:SCALE_ARR_2},{position:ROW_AND_COL_RING_CELL[RING_NUM.EIGHT],value:RING_NUM.EIGHT,Ring:RingModel2,scale:SCALE_ARR_3},{position:ROW_AND_COL_RING_CELL[RING_NUM.NINE],value:RING_NUM.NINE,Ring:RingModel1$1,scale:SCALE_ARR_3},{position:ROW_AND_COL_RING_CELL[RING_NUM.TEN],value:RING_NUM.TEN,Ring:RingModel1,scale:SCALE}],getDirectionInfo=(tt,et)=>{const rt=RING_DIRECTION_OUTSIDE.find(it=>tt===it.value),nt=RING_DIRECTION_INSIDE.find(it=>tt===it.value);return et===NOTE_ARROW.CIRCLE?null:rt.directionArr.includes(et)?rt:nt};/**
 * postprocessing v6.29.3 build Sun Jan 01 2023
 * https://github.com/pmndrs/postprocessing
 * Copyright 2015-2023 Raoul van Rüschen
 * @license Zlib
 */var adaptive_luminance_default=`#include <packing>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
uniform lowp sampler2D luminanceBuffer0;uniform lowp sampler2D luminanceBuffer1;uniform float minLuminance;uniform float deltaTime;uniform float tau;varying vec2 vUv;void main(){float l0=unpackRGBAToFloat(texture2D(luminanceBuffer0,vUv));
#if __VERSION__ < 300
float l1=texture2DLodEXT(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;
#else
float l1=textureLod(luminanceBuffer1,vUv,MIP_LEVEL_1X1).r;
#endif
l0=max(minLuminance,l0);l1=max(minLuminance,l1);float adaptedLum=l0+(l1-l0)*(1.0-exp(-deltaTime*tau));gl_FragColor=(adaptedLum==1.0)?vec4(1.0):packFloatToRGBA(adaptedLum);}`,common_default="varying vec2 vUv;void main(){vUv=position.xy*0.5+0.5;gl_Position=vec4(position.xy,1.0,1.0);}",AdaptiveLuminanceMaterial=class extends ShaderMaterial{constructor(){super({name:"AdaptiveLuminanceMaterial",defines:{THREE_REVISION:REVISION.replace(/\D+/g,""),MIP_LEVEL_1X1:"0.0"},uniforms:{luminanceBuffer0:new Uniform(null),luminanceBuffer1:new Uniform(null),minLuminance:new Uniform(.01),deltaTime:new Uniform(0),tau:new Uniform(1)},extensions:{shaderTextureLOD:!0},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:adaptive_luminance_default,vertexShader:common_default}),this.toneMapped=!1}set luminanceBuffer0(tt){this.uniforms.luminanceBuffer0.value=tt}setLuminanceBuffer0(tt){this.uniforms.luminanceBuffer0.value=tt}set luminanceBuffer1(tt){this.uniforms.luminanceBuffer1.value=tt}setLuminanceBuffer1(tt){this.uniforms.luminanceBuffer1.value=tt}set mipLevel1x1(tt){this.defines.MIP_LEVEL_1X1=tt.toFixed(1),this.needsUpdate=!0}setMipLevel1x1(tt){this.mipLevel1x1=tt}set deltaTime(tt){this.uniforms.deltaTime.value=tt}setDeltaTime(tt){this.uniforms.deltaTime.value=tt}get minLuminance(){return this.uniforms.minLuminance.value}set minLuminance(tt){this.uniforms.minLuminance.value=tt}getMinLuminance(){return this.uniforms.minLuminance.value}setMinLuminance(tt){this.uniforms.minLuminance.value=tt}get adaptationRate(){return this.uniforms.tau.value}set adaptationRate(tt){this.uniforms.tau.value=tt}getAdaptationRate(){return this.uniforms.tau.value}setAdaptationRate(tt){this.uniforms.tau.value=tt}};function getTextureDecoding(tt,et){let rt="texel";if(tt!==null){const nt=Number.parseInt(REVISION);if(!(et&&nt>=133&&nt!==135&&tt.format===RGBAFormat&&tt.type===UnsignedByteType&&tt.encoding===sRGBEncoding))switch(tt.encoding){case sRGBEncoding:rt="sRGBToLinear(texel)";break;case LinearEncoding:rt="texel";break;default:throw new Error(`Unsupported encoding: ${tt.encoding}`)}}return rt}var BlendFunction={SKIP:9,SET:30,ADD:0,ALPHA:1,AVERAGE:2,COLOR:3,COLOR_BURN:4,COLOR_DODGE:5,DARKEN:6,DIFFERENCE:7,DIVIDE:8,DST:9,EXCLUSION:10,HARD_LIGHT:11,HARD_MIX:12,HUE:13,INVERT:14,INVERT_RGB:15,LIGHTEN:16,LINEAR_BURN:17,LINEAR_DODGE:18,LINEAR_LIGHT:19,LUMINOSITY:20,MULTIPLY:21,NEGATION:22,NORMAL:23,OVERLAY:24,PIN_LIGHT:25,REFLECT:26,SATURATION:27,SCREEN:28,SOFT_LIGHT:29,SRC:30,SUBTRACT:31,VIVID_LIGHT:32},EffectAttribute={NONE:0,DEPTH:1,CONVOLUTION:2},EffectShaderSection={FRAGMENT_HEAD:"FRAGMENT_HEAD",FRAGMENT_MAIN_UV:"FRAGMENT_MAIN_UV",FRAGMENT_MAIN_IMAGE:"FRAGMENT_MAIN_IMAGE",VERTEX_HEAD:"VERTEX_HEAD",VERTEX_MAIN_SUPPORT:"VERTEX_MAIN_SUPPORT"},KernelSize={VERY_SMALL:0,SMALL:1,MEDIUM:2,LARGE:3,VERY_LARGE:4,HUGE:5},ToneMappingMode={REINHARD:0,REINHARD2:1,REINHARD2_ADAPTIVE:2,OPTIMIZED_CINEON:3,ACES_FILMIC:4},VignetteTechnique={DEFAULT:0,ESKIL:1},convolution_kawase_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec4 sum=texture2D(inputBuffer,vUv0);sum+=texture2D(inputBuffer,vUv1);sum+=texture2D(inputBuffer,vUv2);sum+=texture2D(inputBuffer,vUv3);gl_FragColor=sum*0.25;
#include <encodings_fragment>
}`,convolution_kawase_default2="uniform vec4 texelSize;uniform float kernel;uniform float scale;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vec2 dUv=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;vUv0=vec2(uv.x-dUv.x,uv.y+dUv.y);vUv1=vec2(uv.x+dUv.x,uv.y+dUv.y);vUv2=vec2(uv.x+dUv.x,uv.y-dUv.y);vUv3=vec2(uv.x-dUv.x,uv.y-dUv.y);gl_Position=vec4(position.xy,1.0,1.0);}",kernelPresets=[new Float32Array([0,0]),new Float32Array([0,1,1]),new Float32Array([0,1,1,2]),new Float32Array([0,1,2,2,3]),new Float32Array([0,1,2,3,4,4,5]),new Float32Array([0,1,2,3,4,5,7,8,9,10])],KawaseBlurMaterial=class extends ShaderMaterial{constructor(tt=new Vector4){super({name:"KawaseBlurMaterial",uniforms:{inputBuffer:new Uniform(null),texelSize:new Uniform(new Vector4),scale:new Uniform(1),kernel:new Uniform(0)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:convolution_kawase_default,vertexShader:convolution_kawase_default2}),this.toneMapped=!1,this.setTexelSize(tt.x,tt.y),this.kernelSize=KernelSize.MEDIUM}set inputBuffer(tt){this.uniforms.inputBuffer.value=tt}setInputBuffer(tt){this.inputBuffer=tt}get kernelSequence(){return kernelPresets[this.kernelSize]}get scale(){return this.uniforms.scale.value}set scale(tt){this.uniforms.scale.value=tt}getScale(){return this.uniforms.scale.value}setScale(tt){this.uniforms.scale.value=tt}getKernel(){return null}get kernel(){return this.uniforms.kernel.value}set kernel(tt){this.uniforms.kernel.value=tt}setKernel(tt){this.kernel=tt}setTexelSize(tt,et){this.uniforms.texelSize.value.set(tt,et,tt*.5,et*.5)}setSize(tt,et){const rt=1/tt,nt=1/et;this.uniforms.texelSize.value.set(rt,nt,rt*.5,nt*.5)}},copy_default=`#include <common>
#include <dithering_pars_fragment>
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform float opacity;varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);gl_FragColor=opacity*texel;
#include <encodings_fragment>
#include <dithering_fragment>
}`,CopyMaterial=class extends ShaderMaterial{constructor(){super({name:"CopyMaterial",uniforms:{inputBuffer:new Uniform(null),opacity:new Uniform(1)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:copy_default,vertexShader:common_default}),this.toneMapped=!1}set inputBuffer(tt){this.uniforms.inputBuffer.value=tt}setInputBuffer(tt){this.uniforms.inputBuffer.value=tt}getOpacity(tt){return this.uniforms.opacity.value}setOpacity(tt){this.uniforms.opacity.value=tt}},depth_comparison_default=`#include <packing>
#include <clipping_planes_pars_fragment>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform float cameraNear;uniform float cameraFar;varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <clipping_planes_fragment>
vec2 projTexCoord=(vProjTexCoord.xy/vProjTexCoord.w)*0.5+0.5;projTexCoord=clamp(projTexCoord,0.002,0.998);
#if DEPTH_PACKING == 3201
float fragCoordZ=unpackRGBAToDepth(texture2D(depthBuffer,projTexCoord));
#else
float fragCoordZ=texture2D(depthBuffer,projTexCoord).r;
#endif
#ifdef PERSPECTIVE_CAMERA
float viewZ=perspectiveDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#else
float viewZ=orthographicDepthToViewZ(fragCoordZ,cameraNear,cameraFar);
#endif
float depthTest=(-vViewZ>-viewZ)?1.0:0.0;gl_FragColor.rg=vec2(0.0,depthTest);}`,depth_comparison_default2=`#include <common>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
varying float vViewZ;varying vec4 vProjTexCoord;void main(){
#include <skinbase_vertex>
#include <begin_vertex>
#include <morphtarget_vertex>
#include <skinning_vertex>
#include <project_vertex>
vViewZ=mvPosition.z;vProjTexCoord=gl_Position;
#include <clipping_planes_vertex>
}`,DepthComparisonMaterial=class extends ShaderMaterial{constructor(tt=null,et){super({name:"DepthComparisonMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Uniform(null),cameraNear:new Uniform(.3),cameraFar:new Uniform(1e3)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:depth_comparison_default,vertexShader:depth_comparison_default2}),this.toneMapped=!1,this.depthBuffer=tt,this.depthPacking=RGBADepthPacking,this.copyCameraSettings(et)}set depthBuffer(tt){this.uniforms.depthBuffer.value=tt}set depthPacking(tt){this.defines.DEPTH_PACKING=tt.toFixed(0),this.needsUpdate=!0}setDepthBuffer(tt,et=RGBADepthPacking){this.depthBuffer=tt,this.depthPacking=et}adoptCameraSettings(tt){this.copyCameraSettings(tt)}copyCameraSettings(tt){tt&&(this.uniforms.cameraNear.value=tt.near,this.uniforms.cameraFar.value=tt.far,tt instanceof PerspectiveCamera$1?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}},depth_downsampling_default=`#include <packing>
#ifdef GL_FRAGMENT_PRECISION_HIGH
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
#ifdef DOWNSAMPLE_NORMALS
uniform lowp sampler2D normalBuffer;
#endif
varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}int findBestDepth(const in float samples[4]){float c=(samples[0]+samples[1]+samples[2]+samples[3])*0.25;float distances[]=float[4](abs(c-samples[0]),abs(c-samples[1]),abs(c-samples[2]),abs(c-samples[3]));float maxDistance=max(max(distances[0],distances[1]),max(distances[2],distances[3]));int remaining[3];int rejected[3];int i,j,k;for(i=0,j=0,k=0;i<4;++i){if(distances[i]<maxDistance){remaining[j++]=i;}else{rejected[k++]=i;}}for(;j<3;++j){remaining[j]=rejected[--k];}vec3 s=vec3(samples[remaining[0]],samples[remaining[1]],samples[remaining[2]]);c=(s.x+s.y+s.z)/3.0;distances[0]=abs(c-s.x);distances[1]=abs(c-s.y);distances[2]=abs(c-s.z);float minDistance=min(distances[0],min(distances[1],distances[2]));for(i=0;i<3;++i){if(distances[i]==minDistance){break;}}return remaining[i];}void main(){float d[]=float[4](readDepth(vUv0),readDepth(vUv1),readDepth(vUv2),readDepth(vUv3));int index=findBestDepth(d);
#ifdef DOWNSAMPLE_NORMALS
vec3 n[]=vec3[4](texture2D(normalBuffer,vUv0).rgb,texture2D(normalBuffer,vUv1).rgb,texture2D(normalBuffer,vUv2).rgb,texture2D(normalBuffer,vUv3).rgb);
#else
vec3 n[]=vec3[4](vec3(0.0),vec3(0.0),vec3(0.0),vec3(0.0));
#endif
gl_FragColor=vec4(n[index],d[index]);}`,depth_downsampling_default2="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=uv;vUv1=vec2(uv.x,uv.y+texelSize.y);vUv2=vec2(uv.x+texelSize.x,uv.y);vUv3=uv+texelSize;gl_Position=vec4(position.xy,1.0,1.0);}",DepthDownsamplingMaterial=class extends ShaderMaterial{constructor(){super({name:"DepthDownsamplingMaterial",defines:{DEPTH_PACKING:"0"},uniforms:{depthBuffer:new Uniform(null),normalBuffer:new Uniform(null),texelSize:new Uniform(new Vector2)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:depth_downsampling_default,vertexShader:depth_downsampling_default2}),this.toneMapped=!1}set depthBuffer(tt){this.uniforms.depthBuffer.value=tt}set depthPacking(tt){this.defines.DEPTH_PACKING=tt.toFixed(0),this.needsUpdate=!0}setDepthBuffer(tt,et=BasicDepthPacking){this.depthBuffer=tt,this.depthPacking=et}set normalBuffer(tt){this.uniforms.normalBuffer.value=tt,tt!==null?this.defines.DOWNSAMPLE_NORMALS="1":delete this.defines.DOWNSAMPLE_NORMALS,this.needsUpdate=!0}setNormalBuffer(tt){this.normalBuffer=tt}setTexelSize(tt,et){this.uniforms.texelSize.value.set(tt,et)}setSize(tt,et){this.uniforms.texelSize.value.set(1/tt,1/et)}},convolution_downsampling_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#define WEIGHT_INNER 0.125
#define WEIGHT_OUTER 0.0555555
varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;float clampToBorder(const in vec2 uv){return float(uv.s>=0.0&&uv.s<=1.0&&uv.t>=0.0&&uv.t<=1.0);}void main(){vec4 c=vec4(0.0);vec4 w=WEIGHT_INNER*vec4(clampToBorder(vUv00),clampToBorder(vUv01),clampToBorder(vUv02),clampToBorder(vUv03));c+=w.x*texture2D(inputBuffer,vUv00);c+=w.y*texture2D(inputBuffer,vUv01);c+=w.z*texture2D(inputBuffer,vUv02);c+=w.w*texture2D(inputBuffer,vUv03);w=WEIGHT_OUTER*vec4(clampToBorder(vUv04),clampToBorder(vUv05),clampToBorder(vUv06),clampToBorder(vUv07));c+=w.x*texture2D(inputBuffer,vUv04);c+=w.y*texture2D(inputBuffer,vUv05);c+=w.z*texture2D(inputBuffer,vUv06);c+=w.w*texture2D(inputBuffer,vUv07);w=WEIGHT_OUTER*vec4(clampToBorder(vUv08),clampToBorder(vUv09),clampToBorder(vUv10),clampToBorder(vUv11));c+=w.x*texture2D(inputBuffer,vUv08);c+=w.y*texture2D(inputBuffer,vUv09);c+=w.z*texture2D(inputBuffer,vUv10);c+=w.w*texture2D(inputBuffer,vUv11);c+=WEIGHT_OUTER*texture2D(inputBuffer,vUv);gl_FragColor=c;
#include <encodings_fragment>
}`,convolution_downsampling_default2="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv00;varying vec2 vUv01;varying vec2 vUv02;varying vec2 vUv03;varying vec2 vUv04;varying vec2 vUv05;varying vec2 vUv06;varying vec2 vUv07;varying vec2 vUv08;varying vec2 vUv09;varying vec2 vUv10;varying vec2 vUv11;void main(){vUv=position.xy*0.5+0.5;vUv00=vUv+texelSize*vec2(-1.0,1.0);vUv01=vUv+texelSize*vec2(1.0,1.0);vUv02=vUv+texelSize*vec2(-1.0,-1.0);vUv03=vUv+texelSize*vec2(1.0,-1.0);vUv04=vUv+texelSize*vec2(-2.0,2.0);vUv05=vUv+texelSize*vec2(0.0,2.0);vUv06=vUv+texelSize*vec2(2.0,2.0);vUv07=vUv+texelSize*vec2(-2.0,0.0);vUv08=vUv+texelSize*vec2(2.0,0.0);vUv09=vUv+texelSize*vec2(-2.0,-2.0);vUv10=vUv+texelSize*vec2(0.0,-2.0);vUv11=vUv+texelSize*vec2(2.0,-2.0);gl_Position=vec4(position.xy,1.0,1.0);}",DownsamplingMaterial=class extends ShaderMaterial{constructor(){super({name:"DownsamplingMaterial",uniforms:{inputBuffer:new Uniform(null),texelSize:new Uniform(new Vector2)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:convolution_downsampling_default,vertexShader:convolution_downsampling_default2}),this.toneMapped=!1}set inputBuffer(tt){this.uniforms.inputBuffer.value=tt}setSize(tt,et){this.uniforms.texelSize.value.set(1/tt,1/et)}},effect_default=`#include <common>
#include <packing>
#include <dithering_pars_fragment>
#define packFloatToRGBA(v) packDepthToRGBA(v)
#define unpackRGBAToFloat(v) unpackRGBAToDepth(v)
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#if DEPTH_PACKING == 3201
uniform lowp sampler2D depthBuffer;
#elif defined(GL_FRAGMENT_PRECISION_HIGH)
uniform highp sampler2D depthBuffer;
#else
uniform mediump sampler2D depthBuffer;
#endif
uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#if THREE_REVISION >= 137
vec4 sRGBToLinear(const in vec4 value){return vec4(mix(pow(value.rgb*0.9478672986+vec3(0.0521327014),vec3(2.4)),value.rgb*0.0773993808,vec3(lessThanEqual(value.rgb,vec3(0.04045)))),value.a);}
#endif
float readDepth(const in vec2 uv){
#if DEPTH_PACKING == 3201
return unpackRGBAToDepth(texture2D(depthBuffer,uv));
#else
return texture2D(depthBuffer,uv).r;
#endif
}float getViewZ(const in float depth){
#ifdef PERSPECTIVE_CAMERA
return perspectiveDepthToViewZ(depth,cameraNear,cameraFar);
#else
return orthographicDepthToViewZ(depth,cameraNear,cameraFar);
#endif
}vec3 RGBToHCV(const in vec3 RGB){vec4 P=mix(vec4(RGB.bg,-1.0,2.0/3.0),vec4(RGB.gb,0.0,-1.0/3.0),step(RGB.b,RGB.g));vec4 Q=mix(vec4(P.xyw,RGB.r),vec4(RGB.r,P.yzx),step(P.x,RGB.r));float C=Q.x-min(Q.w,Q.y);float H=abs((Q.w-Q.y)/(6.0*C+EPSILON)+Q.z);return vec3(H,C,Q.x);}vec3 RGBToHSL(const in vec3 RGB){vec3 HCV=RGBToHCV(RGB);float L=HCV.z-HCV.y*0.5;float S=HCV.y/(1.0-abs(L*2.0-1.0)+EPSILON);return vec3(HCV.x,S,L);}vec3 HueToRGB(const in float H){float R=abs(H*6.0-3.0)-1.0;float G=2.0-abs(H*6.0-2.0);float B=2.0-abs(H*6.0-4.0);return clamp(vec3(R,G,B),0.0,1.0);}vec3 HSLToRGB(const in vec3 HSL){vec3 RGB=HueToRGB(HSL.x);float C=(1.0-abs(2.0*HSL.z-1.0))*HSL.y;return(RGB-0.5)*C+HSL.z;}FRAGMENT_HEADvoid main(){FRAGMENT_MAIN_UVvec4 color0=texture2D(inputBuffer,UV);vec4 color1=vec4(0.0);FRAGMENT_MAIN_IMAGEgl_FragColor=color0;
#ifdef ENCODE_OUTPUT
#include <encodings_fragment>
#endif
#include <dithering_fragment>
}`,effect_default2="uniform vec2 resolution;uniform vec2 texelSize;uniform float cameraNear;uniform float cameraFar;uniform float aspect;uniform float time;varying vec2 vUv;VERTEX_HEADvoid main(){vUv=position.xy*0.5+0.5;VERTEX_MAIN_SUPPORTgl_Position=vec4(position.xy,1.0,1.0);}",EffectMaterial=class extends ShaderMaterial{constructor(tt,et,rt,nt,it=!1){super({name:"EffectMaterial",defines:{THREE_REVISION:REVISION.replace(/\D+/g,""),DEPTH_PACKING:"0",ENCODE_OUTPUT:"1"},uniforms:{inputBuffer:new Uniform(null),depthBuffer:new Uniform(null),resolution:new Uniform(new Vector2),texelSize:new Uniform(new Vector2),cameraNear:new Uniform(.3),cameraFar:new Uniform(1e3),aspect:new Uniform(1),time:new Uniform(0)},blending:NoBlending,depthWrite:!1,depthTest:!1,dithering:it}),this.toneMapped=!1,tt&&this.setShaderParts(tt),et&&this.setDefines(et),rt&&this.setUniforms(rt),this.copyCameraSettings(nt)}set inputBuffer(tt){this.uniforms.inputBuffer.value=tt}setInputBuffer(tt){this.uniforms.inputBuffer.value=tt}get depthBuffer(){return this.uniforms.depthBuffer.value}set depthBuffer(tt){this.uniforms.depthBuffer.value=tt}get depthPacking(){return Number(this.defines.DEPTH_PACKING)}set depthPacking(tt){this.defines.DEPTH_PACKING=tt.toFixed(0),this.needsUpdate=!0}setDepthBuffer(tt,et=BasicDepthPacking){this.depthBuffer=tt,this.depthPacking=et}setShaderData(tt){this.setShaderParts(tt.shaderParts),this.setDefines(tt.defines),this.setUniforms(tt.uniforms),this.setExtensions(tt.extensions)}setShaderParts(tt){var et,rt,nt,it,ot;return this.fragmentShader=effect_default.replace(EffectShaderSection.FRAGMENT_HEAD,(et=tt.get(EffectShaderSection.FRAGMENT_HEAD))!=null?et:"").replace(EffectShaderSection.FRAGMENT_MAIN_UV,(rt=tt.get(EffectShaderSection.FRAGMENT_MAIN_UV))!=null?rt:"").replace(EffectShaderSection.FRAGMENT_MAIN_IMAGE,(nt=tt.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE))!=null?nt:""),this.vertexShader=effect_default2.replace(EffectShaderSection.VERTEX_HEAD,(it=tt.get(EffectShaderSection.VERTEX_HEAD))!=null?it:"").replace(EffectShaderSection.VERTEX_MAIN_SUPPORT,(ot=tt.get(EffectShaderSection.VERTEX_MAIN_SUPPORT))!=null?ot:""),this.needsUpdate=!0,this}setDefines(tt){for(const et of tt.entries())this.defines[et[0]]=et[1];return this.needsUpdate=!0,this}setUniforms(tt){for(const et of tt.entries())this.uniforms[et[0]]=et[1];return this}setExtensions(tt){this.extensions={};for(const et of tt)this.extensions[et]=!0;return this}get encodeOutput(){return this.defines.ENCODE_OUTPUT!==void 0}set encodeOutput(tt){this.encodeOutput!==tt&&(tt?this.defines.ENCODE_OUTPUT="1":delete this.defines.ENCODE_OUTPUT,this.needsUpdate=!0)}isOutputEncodingEnabled(tt){return this.encodeOutput}setOutputEncodingEnabled(tt){this.encodeOutput=tt}get time(){return this.uniforms.time.value}set time(tt){this.uniforms.time.value=tt}setDeltaTime(tt){this.uniforms.time.value+=tt}adoptCameraSettings(tt){this.copyCameraSettings(tt)}copyCameraSettings(tt){tt&&(this.uniforms.cameraNear.value=tt.near,this.uniforms.cameraFar.value=tt.far,tt instanceof PerspectiveCamera$1?this.defines.PERSPECTIVE_CAMERA="1":delete this.defines.PERSPECTIVE_CAMERA,this.needsUpdate=!0)}setSize(tt,et){const rt=this.uniforms;rt.resolution.value.set(tt,et),rt.texelSize.value.set(1/tt,1/et),rt.aspect.value=tt/et}static get Section(){return EffectShaderSection}},luminance_default=`#include <common>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
#ifdef RANGE
uniform vec2 range;
#elif defined(THRESHOLD)
uniform float threshold;uniform float smoothing;
#endif
varying vec2 vUv;void main(){vec4 texel=texture2D(inputBuffer,vUv);float l=luminance(texel.rgb);
#ifdef RANGE
float low=step(range.x,l);float high=step(l,range.y);l*=low*high;
#elif defined(THRESHOLD)
l=smoothstep(threshold,threshold+smoothing,l);
#endif
#ifdef COLOR
gl_FragColor=vec4(texel.rgb*l,l);
#else
gl_FragColor=vec4(l);
#endif
}`,LuminanceMaterial=class extends ShaderMaterial{constructor(tt=!1,et=null){super({name:"LuminanceMaterial",defines:{THREE_REVISION:REVISION.replace(/\D+/g,"")},uniforms:{inputBuffer:new Uniform(null),threshold:new Uniform(0),smoothing:new Uniform(1),range:new Uniform(null)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:luminance_default,vertexShader:common_default}),this.toneMapped=!1,this.colorOutput=tt,this.luminanceRange=et}set inputBuffer(tt){this.uniforms.inputBuffer.value=tt}setInputBuffer(tt){this.uniforms.inputBuffer.value=tt}get threshold(){return this.uniforms.threshold.value}set threshold(tt){this.smoothing>0||tt>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.threshold.value=tt}getThreshold(){return this.threshold}setThreshold(tt){this.threshold=tt}get smoothing(){return this.uniforms.smoothing.value}set smoothing(tt){this.threshold>0||tt>0?this.defines.THRESHOLD="1":delete this.defines.THRESHOLD,this.uniforms.smoothing.value=tt}getSmoothingFactor(){return this.smoothing}setSmoothingFactor(tt){this.smoothing=tt}get useThreshold(){return this.threshold>0||this.smoothing>0}set useThreshold(tt){}get colorOutput(){return this.defines.COLOR!==void 0}set colorOutput(tt){tt?this.defines.COLOR="1":delete this.defines.COLOR,this.needsUpdate=!0}isColorOutputEnabled(tt){return this.colorOutput}setColorOutputEnabled(tt){this.colorOutput=tt}get useRange(){return this.luminanceRange!==null}set useRange(tt){this.luminanceRange=null}get luminanceRange(){return this.uniforms.range.value}set luminanceRange(tt){tt!==null?this.defines.RANGE="1":delete this.defines.RANGE,this.uniforms.range.value=tt,this.needsUpdate=!0}getLuminanceRange(){return this.luminanceRange}setLuminanceRange(tt){this.luminanceRange=tt}},outline_default="uniform lowp sampler2D inputBuffer;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 c0=texture2D(inputBuffer,vUv0).rg;vec2 c1=texture2D(inputBuffer,vUv1).rg;vec2 c2=texture2D(inputBuffer,vUv2).rg;vec2 c3=texture2D(inputBuffer,vUv3).rg;float d0=(c0.x-c1.x)*0.5;float d1=(c2.x-c3.x)*0.5;float d=length(vec2(d0,d1));float a0=min(c0.y,c1.y);float a1=min(c2.y,c3.y);float visibilityFactor=min(a0,a1);gl_FragColor.rg=(1.0-visibilityFactor>0.001)?vec2(d,0.0):vec2(0.0,d);}",outline_default2="uniform vec2 texelSize;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;void main(){vec2 uv=position.xy*0.5+0.5;vUv0=vec2(uv.x+texelSize.x,uv.y);vUv1=vec2(uv.x-texelSize.x,uv.y);vUv2=vec2(uv.x,uv.y+texelSize.y);vUv3=vec2(uv.x,uv.y-texelSize.y);gl_Position=vec4(position.xy,1.0,1.0);}",OutlineMaterial=class extends ShaderMaterial{constructor(tt=new Vector2){super({name:"OutlineMaterial",uniforms:{inputBuffer:new Uniform(null),texelSize:new Uniform(new Vector2)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:outline_default,vertexShader:outline_default2}),this.toneMapped=!1,this.uniforms.texelSize.value.set(tt.x,tt.y),this.uniforms.maskTexture=this.uniforms.inputBuffer}set inputBuffer(tt){this.uniforms.inputBuffer.value=tt}setInputBuffer(tt){this.uniforms.inputBuffer.value=tt}setTexelSize(tt,et){this.uniforms.texelSize.value.set(tt,et)}setSize(tt,et){this.uniforms.texelSize.value.set(1/tt,1/et)}},convolution_tilt_shift_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;
#else
uniform lowp sampler2D inputBuffer;
#endif
uniform vec4 maskParams;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;float linearGradientMask(const in float x){return smoothstep(maskParams.x,maskParams.y,x)-smoothstep(maskParams.w,maskParams.z,x);}void main(){vec2 dUv=vOffset*(1.0-linearGradientMask(vUv2.y));vec4 sum=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y+dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x+dUv.x,vUv.y-dUv.y));sum+=texture2D(inputBuffer,vec2(vUv.x-dUv.x,vUv.y-dUv.y));gl_FragColor=sum*0.25;
#include <encodings_fragment>
}`,convolution_tilt_shift_default2="uniform vec4 texelSize;uniform float kernel;uniform float scale;uniform float aspect;uniform vec2 rotation;varying vec2 vUv;varying vec2 vUv2;varying vec2 vOffset;void main(){vec2 uv=position.xy*0.5+0.5;vUv=uv;vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));vOffset=(texelSize.xy*vec2(kernel)+texelSize.zw)*scale;gl_Position=vec4(position.xy,1.0,1.0);}",TiltShiftBlurMaterial=class extends KawaseBlurMaterial{constructor({kernelSize:tt=KernelSize.MEDIUM,offset:et=0,rotation:rt=0,focusArea:nt=.4,feather:it=.3}={}){super(),this.fragmentShader=convolution_tilt_shift_default,this.vertexShader=convolution_tilt_shift_default2,this.kernelSize=tt,this.uniforms.aspect=new Uniform(1),this.uniforms.rotation=new Uniform(new Vector2),this.uniforms.maskParams=new Uniform(new Vector4),this._offset=et,this._focusArea=nt,this._feather=it,this.rotation=rt,this.updateParams()}updateParams(){const tt=this.uniforms.maskParams.value,et=Math.max(this.focusArea,0),rt=Math.max(et-this.feather,0);tt.set(this.offset-et,this.offset-rt,this.offset+et,this.offset+rt)}get rotation(){return Math.acos(this.uniforms.rotation.value.x)}set rotation(tt){this.uniforms.rotation.value.set(Math.cos(tt),Math.sin(tt))}get offset(){return this._offset}set offset(tt){this._offset=tt,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(tt){this._focusArea=tt,this.updateParams()}get feather(){return this._feather}set feather(tt){this._feather=tt,this.updateParams()}setSize(tt,et){super.setSize(tt,et),this.uniforms.aspect.value=tt/et}},convolution_upsampling_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D inputBuffer;uniform mediump sampler2D supportBuffer;
#else
uniform lowp sampler2D inputBuffer;uniform lowp sampler2D supportBuffer;
#endif
uniform float radius;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vec4 c=vec4(0.0);c+=texture2D(inputBuffer,vUv0)*0.0625;c+=texture2D(inputBuffer,vUv1)*0.125;c+=texture2D(inputBuffer,vUv2)*0.0625;c+=texture2D(inputBuffer,vUv3)*0.125;c+=texture2D(inputBuffer,vUv)*0.25;c+=texture2D(inputBuffer,vUv4)*0.125;c+=texture2D(inputBuffer,vUv5)*0.0625;c+=texture2D(inputBuffer,vUv6)*0.125;c+=texture2D(inputBuffer,vUv7)*0.0625;vec4 baseColor=texture2D(supportBuffer,vUv);gl_FragColor=mix(baseColor,c,radius);
#include <encodings_fragment>
}`,convolution_upsampling_default2="uniform vec2 texelSize;varying vec2 vUv;varying vec2 vUv0;varying vec2 vUv1;varying vec2 vUv2;varying vec2 vUv3;varying vec2 vUv4;varying vec2 vUv5;varying vec2 vUv6;varying vec2 vUv7;void main(){vUv=position.xy*0.5+0.5;vUv0=vUv+texelSize*vec2(-1.0,1.0);vUv1=vUv+texelSize*vec2(0.0,1.0);vUv2=vUv+texelSize*vec2(1.0,1.0);vUv3=vUv+texelSize*vec2(-1.0,0.0);vUv4=vUv+texelSize*vec2(1.0,0.0);vUv5=vUv+texelSize*vec2(-1.0,-1.0);vUv6=vUv+texelSize*vec2(0.0,-1.0);vUv7=vUv+texelSize*vec2(1.0,-1.0);gl_Position=vec4(position.xy,1.0,1.0);}",UpsamplingMaterial=class extends ShaderMaterial{constructor(){super({name:"UpsamplingMaterial",uniforms:{inputBuffer:new Uniform(null),supportBuffer:new Uniform(null),texelSize:new Uniform(new Vector2),radius:new Uniform(.85)},blending:NoBlending,depthWrite:!1,depthTest:!1,fragmentShader:convolution_upsampling_default,vertexShader:convolution_upsampling_default2}),this.toneMapped=!1}set inputBuffer(tt){this.uniforms.inputBuffer.value=tt}set supportBuffer(tt){this.uniforms.supportBuffer.value=tt}get radius(){return this.uniforms.radius.value}set radius(tt){this.uniforms.radius.value=tt}setSize(tt,et){this.uniforms.texelSize.value.set(1/tt,1/et)}},dummyCamera=new Camera,geometry=null;function getFullscreenTriangle(){if(geometry===null){const tt=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),et=new Float32Array([0,0,2,0,0,2]);geometry=new BufferGeometry,geometry.setAttribute!==void 0?(geometry.setAttribute("position",new BufferAttribute(tt,3)),geometry.setAttribute("uv",new BufferAttribute(et,2))):(geometry.addAttribute("position",new BufferAttribute(tt,3)),geometry.addAttribute("uv",new BufferAttribute(et,2)))}return geometry}var Pass=class{constructor(tt="Pass",et=new Scene,rt=dummyCamera){this.name=tt,this.renderer=null,this.scene=et,this.camera=rt,this.screen=null,this.rtt=!0,this.needsSwap=!0,this.needsDepthTexture=!1,this.enabled=!0}get renderToScreen(){return!this.rtt}set renderToScreen(tt){if(this.rtt===tt){const et=this.fullscreenMaterial;et!==null&&(et.needsUpdate=!0),this.rtt=!tt}}set mainScene(tt){}set mainCamera(tt){}setRenderer(tt){this.renderer=tt}isEnabled(){return this.enabled}setEnabled(tt){this.enabled=tt}get fullscreenMaterial(){return this.screen!==null?this.screen.material:null}set fullscreenMaterial(tt){let et=this.screen;et!==null?et.material=tt:(et=new Mesh(getFullscreenTriangle(),tt),et.frustumCulled=!1,this.scene===null&&(this.scene=new Scene),this.scene.add(et),this.screen=et)}getFullscreenMaterial(){return this.fullscreenMaterial}setFullscreenMaterial(tt){this.fullscreenMaterial=tt}getDepthTexture(){return null}setDepthTexture(tt,et=BasicDepthPacking){}render(tt,et,rt,nt,it){throw new Error("Render method not implemented!")}setSize(tt,et){}initialize(tt,et,rt){}dispose(){for(const tt of Object.keys(this)){const et=this[tt];(et instanceof WebGLRenderTarget||et instanceof Material$2||et instanceof Texture||et instanceof Pass)&&this[tt].dispose()}}},CopyPass=class extends Pass{constructor(tt,et=!0){super("CopyPass"),this.fullscreenMaterial=new CopyMaterial,this.needsSwap=!1,this.renderTarget=tt,tt===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:LinearFilter,magFilter:LinearFilter,stencilBuffer:!1,depthBuffer:!1}),this.renderTarget.texture.name="CopyPass.Target"),this.autoResize=et}get resize(){return this.autoResize}set resize(tt){this.autoResize=tt}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}setAutoResizeEnabled(tt){this.autoResize=tt}render(tt,et,rt,nt,it){this.fullscreenMaterial.inputBuffer=et.texture,tt.setRenderTarget(this.renderToScreen?null:this.renderTarget),tt.render(this.scene,this.camera)}setSize(tt,et){this.autoResize&&this.renderTarget.setSize(tt,et)}initialize(tt,et,rt){rt!==void 0&&(this.renderTarget.texture.type=rt,rt!==UnsignedByteType?this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1":tt.outputEncoding===sRGBEncoding&&(this.renderTarget.texture.encoding=sRGBEncoding))}},AdaptiveLuminancePass=class extends Pass{constructor(tt,{minLuminance:et=.01,adaptationRate:rt=1}={}){super("AdaptiveLuminancePass"),this.fullscreenMaterial=new AdaptiveLuminanceMaterial,this.needsSwap=!1,this.renderTargetPrevious=new WebGLRenderTarget(1,1,{minFilter:NearestFilter,magFilter:NearestFilter,depthBuffer:!1}),this.renderTargetPrevious.texture.name="Luminance.Previous";const nt=this.fullscreenMaterial;nt.luminanceBuffer0=this.renderTargetPrevious.texture,nt.luminanceBuffer1=tt,nt.minLuminance=et,nt.adaptationRate=rt,this.renderTargetAdapted=this.renderTargetPrevious.clone(),this.renderTargetAdapted.texture.name="Luminance.Adapted",this.copyPass=new CopyPass(this.renderTargetPrevious,!1)}get texture(){return this.renderTargetAdapted.texture}getTexture(){return this.renderTargetAdapted.texture}set mipLevel1x1(tt){this.fullscreenMaterial.mipLevel1x1=tt}get adaptationRate(){return this.fullscreenMaterial.adaptationRate}set adaptationRate(tt){this.fullscreenMaterial.adaptationRate=tt}render(tt,et,rt,nt,it){this.fullscreenMaterial.deltaTime=nt,tt.setRenderTarget(this.renderToScreen?null:this.renderTargetAdapted),tt.render(this.scene,this.camera),this.copyPass.render(tt,this.renderTargetAdapted)}},ClearMaskPass=class extends Pass{constructor(){super("ClearMaskPass",null,null),this.needsSwap=!1}render(tt,et,rt,nt,it){const ot=tt.state.buffers.stencil;ot.setLocked(!1),ot.setTest(!1)}},color$1=new Color,ClearPass=class extends Pass{constructor(tt=!0,et=!0,rt=!1){super("ClearPass",null,null),this.needsSwap=!1,this.color=tt,this.depth=et,this.stencil=rt,this.overrideClearColor=null,this.overrideClearAlpha=-1}setClearFlags(tt,et,rt){this.color=tt,this.depth=et,this.stencil=rt}getOverrideClearColor(){return this.overrideClearColor}setOverrideClearColor(tt){this.overrideClearColor=tt}getOverrideClearAlpha(){return this.overrideClearAlpha}setOverrideClearAlpha(tt){this.overrideClearAlpha=tt}render(tt,et,rt,nt,it){const ot=this.overrideClearColor,at=this.overrideClearAlpha,st=tt.getClearAlpha(),lt=ot!==null,ct=at>=0;lt?(tt.getClearColor(color$1),tt.setClearColor(ot,ct?at:st)):ct&&tt.setClearAlpha(at),tt.setRenderTarget(this.renderToScreen?null:et),tt.clear(this.color,this.depth,this.stencil),lt?tt.setClearColor(color$1,st):ct&&tt.setClearAlpha(st)}},AUTO_SIZE=-1,Resolution=class extends EventDispatcher{constructor(tt,et=AUTO_SIZE,rt=AUTO_SIZE,nt=1){super(),this.resizable=tt,this.baseSize=new Vector2(1,1),this.preferredSize=new Vector2(et,rt),this.target=this.preferredSize,this.s=nt,this.effectiveSize=new Vector2,this.addEventListener("change",()=>this.updateEffectiveSize()),this.updateEffectiveSize()}updateEffectiveSize(){const tt=this.baseSize,et=this.preferredSize,rt=this.effectiveSize,nt=this.scale;et.width!==AUTO_SIZE?rt.width=et.width:et.height!==AUTO_SIZE?rt.width=Math.round(et.height*(tt.width/Math.max(tt.height,1))):rt.width=Math.round(tt.width*nt),et.height!==AUTO_SIZE?rt.height=et.height:et.width!==AUTO_SIZE?rt.height=Math.round(et.width/Math.max(tt.width/Math.max(tt.height,1),1)):rt.height=Math.round(tt.height*nt)}get width(){return this.effectiveSize.width}set width(tt){this.preferredWidth=tt}get height(){return this.effectiveSize.height}set height(tt){this.preferredHeight=tt}getWidth(){return this.width}getHeight(){return this.height}get scale(){return this.s}set scale(tt){this.s!==tt&&(this.s=tt,this.preferredSize.setScalar(AUTO_SIZE),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getScale(){return this.scale}setScale(tt){this.scale=tt}get baseWidth(){return this.baseSize.width}set baseWidth(tt){this.baseSize.width!==tt&&(this.baseSize.width=tt,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseWidth(){return this.baseWidth}setBaseWidth(tt){this.baseWidth=tt}get baseHeight(){return this.baseSize.height}set baseHeight(tt){this.baseSize.height!==tt&&(this.baseSize.height=tt,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getBaseHeight(){return this.baseHeight}setBaseHeight(tt){this.baseHeight=tt}setBaseSize(tt,et){(this.baseSize.width!==tt||this.baseSize.height!==et)&&(this.baseSize.set(tt,et),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}get preferredWidth(){return this.preferredSize.width}set preferredWidth(tt){this.preferredSize.width!==tt&&(this.preferredSize.width=tt,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredWidth(){return this.preferredWidth}setPreferredWidth(tt){this.preferredWidth=tt}get preferredHeight(){return this.preferredSize.height}set preferredHeight(tt){this.preferredSize.height!==tt&&(this.preferredSize.height=tt,this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}getPreferredHeight(){return this.preferredHeight}setPreferredHeight(tt){this.preferredHeight=tt}setPreferredSize(tt,et){(this.preferredSize.width!==tt||this.preferredSize.height!==et)&&(this.preferredSize.set(tt,et),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height))}copy(tt){this.s=tt.scale,this.baseSize.set(tt.baseWidth,tt.baseHeight),this.preferredSize.set(tt.preferredWidth,tt.preferredHeight),this.dispatchEvent({type:"change"}),this.resizable.setSize(this.baseSize.width,this.baseSize.height)}static get AUTO_SIZE(){return AUTO_SIZE}},workaroundEnabled=!1,OverrideMaterialManager=class{constructor(tt=null){this.originalMaterials=new Map,this.material=null,this.materials=null,this.materialsBackSide=null,this.materialsDoubleSide=null,this.materialsFlatShaded=null,this.materialsFlatShadedBackSide=null,this.materialsFlatShadedDoubleSide=null,this.setMaterial(tt),this.meshCount=0,this.replaceMaterial=et=>{if(et.isMesh){let rt;if(et.material.flatShading)switch(et.material.side){case DoubleSide:rt=this.materialsFlatShadedDoubleSide;break;case BackSide:rt=this.materialsFlatShadedBackSide;break;default:rt=this.materialsFlatShaded;break}else switch(et.material.side){case DoubleSide:rt=this.materialsDoubleSide;break;case BackSide:rt=this.materialsBackSide;break;default:rt=this.materials;break}this.originalMaterials.set(et,et.material),et.isSkinnedMesh?et.material=rt[2]:et.isInstancedMesh?et.material=rt[1]:et.material=rt[0],++this.meshCount}}}setMaterial(tt){if(this.disposeMaterials(),this.material=tt,tt!==null){const et=this.materials=[tt.clone(),tt.clone(),tt.clone()];for(const rt of et)rt.uniforms=Object.assign({},tt.uniforms),rt.side=FrontSide;et[2].skinning=!0,this.materialsBackSide=et.map(rt=>{const nt=rt.clone();return nt.uniforms=Object.assign({},tt.uniforms),nt.side=BackSide,nt}),this.materialsDoubleSide=et.map(rt=>{const nt=rt.clone();return nt.uniforms=Object.assign({},tt.uniforms),nt.side=DoubleSide,nt}),this.materialsFlatShaded=et.map(rt=>{const nt=rt.clone();return nt.uniforms=Object.assign({},tt.uniforms),nt.flatShading=!0,nt}),this.materialsFlatShadedBackSide=et.map(rt=>{const nt=rt.clone();return nt.uniforms=Object.assign({},tt.uniforms),nt.flatShading=!0,nt.side=BackSide,nt}),this.materialsFlatShadedDoubleSide=et.map(rt=>{const nt=rt.clone();return nt.uniforms=Object.assign({},tt.uniforms),nt.flatShading=!0,nt.side=DoubleSide,nt})}}render(tt,et,rt){const nt=tt.shadowMap.enabled;if(tt.shadowMap.enabled=!1,workaroundEnabled){const it=this.originalMaterials;this.meshCount=0,et.traverse(this.replaceMaterial),tt.render(et,rt);for(const ot of it)ot[0].material=ot[1];this.meshCount!==it.size&&it.clear()}else{const it=et.overrideMaterial;et.overrideMaterial=this.material,tt.render(et,rt),et.overrideMaterial=it}tt.shadowMap.enabled=nt}disposeMaterials(){if(this.material!==null){const tt=this.materials.concat(this.materialsBackSide).concat(this.materialsDoubleSide).concat(this.materialsFlatShaded).concat(this.materialsFlatShadedBackSide).concat(this.materialsFlatShadedDoubleSide);for(const et of tt)et.dispose()}}dispose(){this.originalMaterials.clear(),this.disposeMaterials()}static get workaroundEnabled(){return workaroundEnabled}static set workaroundEnabled(tt){workaroundEnabled=tt}},RenderPass=class extends Pass{constructor(tt,et,rt=null){super("RenderPass",tt,et),this.needsSwap=!1,this.clearPass=new ClearPass,this.overrideMaterialManager=rt===null?null:new OverrideMaterialManager(rt),this.ignoreBackground=!1,this.skipShadowMapUpdate=!1,this.selection=null}set mainScene(tt){this.scene=tt}set mainCamera(tt){this.camera=tt}get renderToScreen(){return super.renderToScreen}set renderToScreen(tt){super.renderToScreen=tt,this.clearPass.renderToScreen=tt}get overrideMaterial(){const tt=this.overrideMaterialManager;return tt!==null?tt.material:null}set overrideMaterial(tt){const et=this.overrideMaterialManager;tt!==null?et!==null?et.setMaterial(tt):this.overrideMaterialManager=new OverrideMaterialManager(tt):et!==null&&(et.dispose(),this.overrideMaterialManager=null)}getOverrideMaterial(){return this.overrideMaterial}setOverrideMaterial(tt){this.overrideMaterial=tt}get clear(){return this.clearPass.enabled}set clear(tt){this.clearPass.enabled=tt}getSelection(){return this.selection}setSelection(tt){this.selection=tt}isBackgroundDisabled(){return this.ignoreBackground}setBackgroundDisabled(tt){this.ignoreBackground=tt}isShadowMapDisabled(){return this.skipShadowMapUpdate}setShadowMapDisabled(tt){this.skipShadowMapUpdate=tt}getClearPass(){return this.clearPass}render(tt,et,rt,nt,it){const ot=this.scene,at=this.camera,st=this.selection,lt=at.layers.mask,ct=ot.background,ut=tt.shadowMap.autoUpdate,dt=this.renderToScreen?null:et;st!==null&&at.layers.set(st.getLayer()),this.skipShadowMapUpdate&&(tt.shadowMap.autoUpdate=!1),(this.ignoreBackground||this.clearPass.overrideClearColor!==null)&&(ot.background=null),this.clearPass.enabled&&this.clearPass.render(tt,et),tt.setRenderTarget(dt),this.overrideMaterialManager!==null?this.overrideMaterialManager.render(tt,ot,at):tt.render(ot,at),at.layers.mask=lt,ot.background=ct,tt.shadowMap.autoUpdate=ut}},DepthPass=class extends Pass{constructor(tt,et,{renderTarget:rt,resolutionScale:nt=1,width:it=Resolution.AUTO_SIZE,height:ot=Resolution.AUTO_SIZE,resolutionX:at=it,resolutionY:st=ot}={}){super("DepthPass"),this.needsSwap=!1,this.renderPass=new RenderPass(tt,et,new MeshDepthMaterial({depthPacking:RGBADepthPacking}));const lt=this.renderPass;lt.skipShadowMapUpdate=!0,lt.ignoreBackground=!0;const ct=lt.getClearPass();ct.overrideClearColor=new Color(16777215),ct.overrideClearAlpha=1,this.renderTarget=rt,this.renderTarget===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:NearestFilter,magFilter:NearestFilter}),this.renderTarget.texture.name="DepthPass.Target");const ut=this.resolution=new Resolution(this,at,st,nt);ut.addEventListener("change",dt=>this.setSize(ut.baseWidth,ut.baseHeight))}set mainScene(tt){this.renderPass.mainScene=tt}set mainCamera(tt){this.renderPass.mainCamera=tt}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(tt){this.resolution.scale=tt}render(tt,et,rt,nt,it){const ot=this.renderToScreen?null:this.renderTarget;this.renderPass.render(tt,ot)}setSize(tt,et){const rt=this.resolution;rt.setBaseSize(tt,et),this.renderTarget.setSize(rt.width,rt.height)}},DepthDownsamplingPass=class extends Pass{constructor({normalBuffer:tt=null,resolutionScale:et=.5,width:rt=Resolution.AUTO_SIZE,height:nt=Resolution.AUTO_SIZE,resolutionX:it=rt,resolutionY:ot=nt}={}){super("DepthDownsamplingPass");const at=new DepthDownsamplingMaterial;at.normalBuffer=tt,this.fullscreenMaterial=at,this.needsDepthTexture=!0,this.needsSwap=!1,this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:NearestFilter,magFilter:NearestFilter,depthBuffer:!1,type:FloatType}),this.renderTarget.texture.name="DepthDownsamplingPass.Target",this.renderTarget.texture.generateMipmaps=!1;const st=this.resolution=new Resolution(this,it,ot,et);st.addEventListener("change",lt=>this.setSize(st.baseWidth,st.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}setDepthTexture(tt,et=BasicDepthPacking){this.fullscreenMaterial.depthBuffer=tt,this.fullscreenMaterial.depthPacking=et}render(tt,et,rt,nt,it){tt.setRenderTarget(this.renderToScreen?null:this.renderTarget),tt.render(this.scene,this.camera)}setSize(tt,et){const rt=this.resolution;rt.setBaseSize(tt,et),this.renderTarget.setSize(rt.width,rt.height),this.fullscreenMaterial.setSize(tt,et)}initialize(tt,et,rt){const nt=tt.getContext();if(!(nt.getExtension("EXT_color_buffer_float")||nt.getExtension("EXT_color_buffer_half_float")))throw new Error("Rendering to float texture is not supported.")}};function prefixSubstrings(tt,et,rt){for(const nt of et){const it="$1"+tt+nt.charAt(0).toUpperCase()+nt.slice(1),ot=new RegExp("([^\\.])(\\b"+nt+"\\b)","g");for(const at of rt.entries())at[1]!==null&&rt.set(at[0],at[1].replace(ot,it))}}function integrateEffect(tt,et,rt){var nt,it,ot,at,st;let lt=et.getFragmentShader(),ct=et.getVertexShader();const ut=lt!==void 0&&/mainImage/.test(lt),dt=lt!==void 0&&/mainUv/.test(lt);if(rt.attributes|=et.getAttributes(),lt===void 0)throw new Error(`Missing fragment shader (${et.name})`);if(dt&&rt.attributes&EffectAttribute.CONVOLUTION)throw new Error(`Effects that transform UVs are incompatible with convolution effects (${et.name})`);if(!ut&&!dt)throw new Error(`Could not find mainImage or mainUv function (${et.name})`);{const ft=/\w+\s+(\w+)\([\w\s,]*\)\s*{/g,pt=rt.shaderParts;let mt=(nt=pt.get(EffectShaderSection.FRAGMENT_HEAD))!=null?nt:"",ht=(it=pt.get(EffectShaderSection.FRAGMENT_MAIN_UV))!=null?it:"",gt=(ot=pt.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE))!=null?ot:"",vt=(at=pt.get(EffectShaderSection.VERTEX_HEAD))!=null?at:"",yt=(st=pt.get(EffectShaderSection.VERTEX_MAIN_SUPPORT))!=null?st:"";const bt=new Set,xt=new Set;if(dt&&(ht+=`	${tt}MainUv(UV);
`,rt.uvTransformation=!0),ct!==null&&/mainSupport/.test(ct)){const wt=/mainSupport *\([\w\s]*?uv\s*?\)/.test(ct);yt+=`	${tt}MainSupport(`,yt+=wt?`vUv);
`:`);
`;for(const At of ct.matchAll(/(?:varying\s+\w+\s+([\S\s]*?);)/g))for(const Rt of At[1].split(/\s*,\s*/))rt.varyings.add(Rt),bt.add(Rt),xt.add(Rt);for(const At of ct.matchAll(ft))xt.add(At[1])}for(const wt of lt.matchAll(ft))xt.add(wt[1]);for(const wt of et.defines.keys())xt.add(wt.replace(/\([\w\s,]*\)/g,""));for(const wt of et.uniforms.keys())xt.add(wt);xt.delete("while"),xt.delete("for"),xt.delete("if"),et.uniforms.forEach((wt,At)=>rt.uniforms.set(tt+At.charAt(0).toUpperCase()+At.slice(1),wt)),et.defines.forEach((wt,At)=>rt.defines.set(tt+At.charAt(0).toUpperCase()+At.slice(1),wt));const $t=new Map([["fragment",lt],["vertex",ct]]);prefixSubstrings(tt,xt,rt.defines),prefixSubstrings(tt,xt,$t),lt=$t.get("fragment"),ct=$t.get("vertex");const Tt=et.blendMode;if(rt.blendModes.set(Tt.blendFunction,Tt),ut){et.inputColorSpace!==null&&et.inputColorSpace!==rt.colorSpace&&(gt+=et.inputColorSpace===sRGBEncoding?`color0 = LinearTosRGB(color0);
	`:`color0 = sRGBToLinear(color0);
	`),et.outputColorSpace!==null?rt.colorSpace=et.outputColorSpace:et.inputColorSpace!==null&&(rt.colorSpace=et.inputColorSpace);const wt=/MainImage *\([\w\s,]*?depth[\w\s,]*?\)/;gt+=`${tt}MainImage(color0, UV, `,rt.attributes&EffectAttribute.DEPTH&&wt.test(lt)&&(gt+="depth, ",rt.readDepth=!0),gt+=`color1);
	`;const At=tt+"BlendOpacity";rt.uniforms.set(At,Tt.opacity),gt+=`color0 = blend${Tt.blendFunction}(color0, color1, ${At});

	`,mt+=`uniform float ${At};

`}if(mt+=lt+`
`,ct!==null&&(vt+=ct+`
`),pt.set(EffectShaderSection.FRAGMENT_HEAD,mt),pt.set(EffectShaderSection.FRAGMENT_MAIN_UV,ht),pt.set(EffectShaderSection.FRAGMENT_MAIN_IMAGE,gt),pt.set(EffectShaderSection.VERTEX_HEAD,vt),pt.set(EffectShaderSection.VERTEX_MAIN_SUPPORT,yt),et.extensions!==null)for(const wt of et.extensions)rt.extensions.add(wt)}}var EffectPass=class extends Pass{constructor(tt,...et){super("EffectPass"),this.fullscreenMaterial=new EffectMaterial(null,null,null,tt),this.listener=rt=>this.handleEvent(rt),this.effects=[],this.setEffects(et),this.skipRendering=!1,this.minTime=1,this.maxTime=Number.POSITIVE_INFINITY,this.timeScale=1}set mainScene(tt){for(const et of this.effects)et.mainScene=tt}set mainCamera(tt){this.fullscreenMaterial.copyCameraSettings(tt);for(const et of this.effects)et.mainCamera=tt}get encodeOutput(){return this.fullscreenMaterial.encodeOutput}set encodeOutput(tt){this.fullscreenMaterial.encodeOutput=tt}get dithering(){return this.fullscreenMaterial.dithering}set dithering(tt){const et=this.fullscreenMaterial;et.dithering=tt,et.needsUpdate=!0}setEffects(tt){for(const et of this.effects)et.removeEventListener("change",this.listener);this.effects=tt.sort((et,rt)=>rt.attributes-et.attributes);for(const et of this.effects)et.addEventListener("change",this.listener)}updateMaterial(){const tt=new EffectShaderData;let et=0;for(const at of this.effects)if(at.blendMode.blendFunction===BlendFunction.DST)tt.attributes|=at.getAttributes()&EffectAttribute.DEPTH;else{if(tt.attributes&at.getAttributes()&EffectAttribute.CONVOLUTION)throw new Error(`Convolution effects cannot be merged (${at.name})`);integrateEffect("e"+et++,at,tt)}let rt=tt.shaderParts.get(EffectShaderSection.FRAGMENT_HEAD),nt=tt.shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_IMAGE),it=tt.shaderParts.get(EffectShaderSection.FRAGMENT_MAIN_UV);const ot=/\bblend\b/g;for(const at of tt.blendModes.values())rt+=at.getShaderCode().replace(ot,`blend${at.blendFunction}`)+`
`;tt.attributes&EffectAttribute.DEPTH?(tt.readDepth&&(nt=`float depth = readDepth(UV);

	`+nt),this.needsDepthTexture=this.getDepthTexture()===null):this.needsDepthTexture=!1,tt.colorSpace===sRGBEncoding&&(nt+=`color0 = sRGBToLinear(color0);
	`),tt.uvTransformation?(it=`vec2 transformedUv = vUv;
`+it,tt.defines.set("UV","transformedUv")):tt.defines.set("UV","vUv"),tt.shaderParts.set(EffectShaderSection.FRAGMENT_HEAD,rt),tt.shaderParts.set(EffectShaderSection.FRAGMENT_MAIN_IMAGE,nt),tt.shaderParts.set(EffectShaderSection.FRAGMENT_MAIN_UV,it),tt.shaderParts.forEach((at,st,lt)=>lt.set(st,at==null?void 0:at.trim().replace(/^#/,`
#`))),this.skipRendering=et===0,this.needsSwap=!this.skipRendering,this.fullscreenMaterial.setShaderData(tt)}recompile(){this.updateMaterial()}getDepthTexture(){return this.fullscreenMaterial.depthBuffer}setDepthTexture(tt,et=BasicDepthPacking){this.fullscreenMaterial.depthBuffer=tt,this.fullscreenMaterial.depthPacking=et;for(const rt of this.effects)rt.setDepthTexture(tt,et)}render(tt,et,rt,nt,it){for(const ot of this.effects)ot.update(tt,et,nt);if(!this.skipRendering||this.renderToScreen){const ot=this.fullscreenMaterial;ot.inputBuffer=et.texture,ot.time+=nt*this.timeScale,tt.setRenderTarget(this.renderToScreen?null:rt),tt.render(this.scene,this.camera)}}setSize(tt,et){this.fullscreenMaterial.setSize(tt,et);for(const rt of this.effects)rt.setSize(tt,et)}initialize(tt,et,rt){this.renderer=tt;for(const nt of this.effects)nt.initialize(tt,et,rt);this.updateMaterial(),rt!==void 0&&rt!==UnsignedByteType&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}dispose(){super.dispose();for(const tt of this.effects)tt.removeEventListener("change",this.listener),tt.dispose()}handleEvent(tt){switch(tt.type){case"change":this.recompile();break}}},KawaseBlurPass=class extends Pass{constructor({kernelSize:tt=KernelSize.MEDIUM,resolutionScale:et=.5,width:rt=Resolution.AUTO_SIZE,height:nt=Resolution.AUTO_SIZE,resolutionX:it=rt,resolutionY:ot=nt}={}){super("KawaseBlurPass"),this.renderTargetA=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTargetA.texture.name="Blur.Target.A",this.renderTargetB=this.renderTargetA.clone(),this.renderTargetB.texture.name="Blur.Target.B";const at=this.resolution=new Resolution(this,it,ot,et);at.addEventListener("change",st=>this.setSize(at.baseWidth,at.baseHeight)),this._blurMaterial=new KawaseBlurMaterial,this._blurMaterial.kernelSize=tt,this.copyMaterial=new CopyMaterial}getResolution(){return this.resolution}get blurMaterial(){return this._blurMaterial}set blurMaterial(tt){this._blurMaterial=tt}get dithering(){return this.copyMaterial.dithering}set dithering(tt){this.copyMaterial.dithering=tt}get kernelSize(){return this.blurMaterial.kernelSize}set kernelSize(tt){this.blurMaterial.kernelSize=tt}get width(){return this.resolution.width}set width(tt){this.resolution.preferredWidth=tt}get height(){return this.resolution.height}set height(tt){this.resolution.preferredHeight=tt}get scale(){return this.blurMaterial.scale}set scale(tt){this.blurMaterial.scale=tt}getScale(){return this.blurMaterial.scale}setScale(tt){this.blurMaterial.scale=tt}getKernelSize(){return this.kernelSize}setKernelSize(tt){this.kernelSize=tt}getResolutionScale(){return this.resolution.scale}setResolutionScale(tt){this.resolution.scale=tt}render(tt,et,rt,nt,it){const ot=this.scene,at=this.camera,st=this.renderTargetA,lt=this.renderTargetB,ct=this.blurMaterial,ut=ct.kernelSequence;let dt=et;this.fullscreenMaterial=ct;for(let ft=0,pt=ut.length;ft<pt;++ft){const mt=ft&1?lt:st;ct.kernel=ut[ft],ct.inputBuffer=dt.texture,tt.setRenderTarget(mt),tt.render(ot,at),dt=mt}this.fullscreenMaterial=this.copyMaterial,this.copyMaterial.inputBuffer=dt.texture,tt.setRenderTarget(this.renderToScreen?null:rt),tt.render(ot,at)}setSize(tt,et){const rt=this.resolution;rt.setBaseSize(tt,et);const nt=rt.width,it=rt.height;this.renderTargetA.setSize(nt,it),this.renderTargetB.setSize(nt,it),this.blurMaterial.setSize(tt,et)}initialize(tt,et,rt){rt!==void 0&&(this.renderTargetA.texture.type=rt,this.renderTargetB.texture.type=rt,rt!==UnsignedByteType?(this.blurMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.copyMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1"):tt.outputEncoding===sRGBEncoding&&(this.renderTargetA.texture.encoding=sRGBEncoding,this.renderTargetB.texture.encoding=sRGBEncoding))}static get AUTO_SIZE(){return Resolution.AUTO_SIZE}},LuminancePass=class extends Pass{constructor({renderTarget:tt,luminanceRange:et,colorOutput:rt,resolutionScale:nt=1,width:it=Resolution.AUTO_SIZE,height:ot=Resolution.AUTO_SIZE,resolutionX:at=it,resolutionY:st=ot}={}){super("LuminancePass"),this.fullscreenMaterial=new LuminanceMaterial(rt,et),this.needsSwap=!1,this.renderTarget=tt,this.renderTarget===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="LuminancePass.Target");const lt=this.resolution=new Resolution(this,at,st,nt);lt.addEventListener("change",ct=>this.setSize(lt.baseWidth,lt.baseHeight))}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}render(tt,et,rt,nt,it){const ot=this.fullscreenMaterial;ot.inputBuffer=et.texture,tt.setRenderTarget(this.renderToScreen?null:this.renderTarget),tt.render(this.scene,this.camera)}setSize(tt,et){const rt=this.resolution;rt.setBaseSize(tt,et),this.renderTarget.setSize(rt.width,rt.height)}initialize(tt,et,rt){rt!==void 0&&rt!==UnsignedByteType&&(this.renderTarget.texture.type=rt,this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},MaskPass=class extends Pass{constructor(tt,et){super("MaskPass",tt,et),this.needsSwap=!1,this.clearPass=new ClearPass(!1,!1,!0),this.inverse=!1}set mainScene(tt){this.scene=tt}set mainCamera(tt){this.camera=tt}get inverted(){return this.inverse}set inverted(tt){this.inverse=tt}get clear(){return this.clearPass.enabled}set clear(tt){this.clearPass.enabled=tt}getClearPass(){return this.clearPass}isInverted(){return this.inverted}setInverted(tt){this.inverted=tt}render(tt,et,rt,nt,it){const ot=tt.getContext(),at=tt.state.buffers,st=this.scene,lt=this.camera,ct=this.clearPass,ut=this.inverted?0:1,dt=1-ut;at.color.setMask(!1),at.depth.setMask(!1),at.color.setLocked(!0),at.depth.setLocked(!0),at.stencil.setTest(!0),at.stencil.setOp(ot.REPLACE,ot.REPLACE,ot.REPLACE),at.stencil.setFunc(ot.ALWAYS,ut,4294967295),at.stencil.setClear(dt),at.stencil.setLocked(!0),this.clearPass.enabled&&(this.renderToScreen?ct.render(tt,null):(ct.render(tt,et),ct.render(tt,rt))),this.renderToScreen?(tt.setRenderTarget(null),tt.render(st,lt)):(tt.setRenderTarget(et),tt.render(st,lt),tt.setRenderTarget(rt),tt.render(st,lt)),at.color.setLocked(!1),at.depth.setLocked(!1),at.stencil.setLocked(!1),at.stencil.setFunc(ot.EQUAL,1,4294967295),at.stencil.setOp(ot.KEEP,ot.KEEP,ot.KEEP),at.stencil.setLocked(!0)}},MipmapBlurPass=class extends Pass{constructor(){super("MipmapBlurPass"),this.needsSwap=!1,this.renderTarget=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Upsampling.Mipmap0",this.downsamplingMipmaps=[],this.upsamplingMipmaps=[],this.downsamplingMaterial=new DownsamplingMaterial,this.upsamplingMaterial=new UpsamplingMaterial,this.resolution=new Vector2}get texture(){return this.renderTarget.texture}get levels(){return this.downsamplingMipmaps.length}set levels(tt){if(this.levels!==tt){const et=this.renderTarget;this.dispose(),this.downsamplingMipmaps=[],this.upsamplingMipmaps=[];for(let rt=0;rt<tt;++rt){const nt=et.clone();nt.texture.name="Downsampling.Mipmap"+rt,this.downsamplingMipmaps.push(nt)}this.upsamplingMipmaps.push(et);for(let rt=1,nt=tt-1;rt<nt;++rt){const it=et.clone();it.texture.name="Upsampling.Mipmap"+rt,this.upsamplingMipmaps.push(it)}this.setSize(this.resolution.x,this.resolution.y)}}get radius(){return this.upsamplingMaterial.radius}set radius(tt){this.upsamplingMaterial.radius=tt}render(tt,et,rt,nt,it){const{scene:ot,camera:at}=this,{downsamplingMaterial:st,upsamplingMaterial:lt}=this,{downsamplingMipmaps:ct,upsamplingMipmaps:ut}=this;let dt=et;this.fullscreenMaterial=st;for(let ft=0,pt=ct.length;ft<pt;++ft){const mt=ct[ft];st.setSize(dt.width,dt.height),st.inputBuffer=dt.texture,tt.setRenderTarget(mt),tt.render(ot,at),dt=mt}this.fullscreenMaterial=lt;for(let ft=ut.length-1;ft>=0;--ft){const pt=ut[ft];lt.setSize(dt.width,dt.height),lt.inputBuffer=dt.texture,lt.supportBuffer=ct[ft].texture,tt.setRenderTarget(pt),tt.render(ot,at),dt=pt}}setSize(tt,et){const rt=this.resolution;rt.set(tt,et);let nt=rt.width,it=rt.height;for(let ot=0,at=this.downsamplingMipmaps.length;ot<at;++ot)nt=Math.round(nt*.5),it=Math.round(it*.5),this.downsamplingMipmaps[ot].setSize(nt,it),ot<this.upsamplingMipmaps.length&&this.upsamplingMipmaps[ot].setSize(nt,it)}initialize(tt,et,rt){if(rt!==void 0){const nt=this.downsamplingMipmaps.concat(this.upsamplingMipmaps);for(const it of nt)it.texture.type=rt;if(rt!==UnsignedByteType)this.downsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1",this.upsamplingMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1";else if(tt.outputEncoding===sRGBEncoding)for(const it of nt)it.texture.encoding=sRGBEncoding}}dispose(){super.dispose();for(const tt of this.downsamplingMipmaps.concat(this.upsamplingMipmaps))tt.dispose()}},NormalPass=class extends Pass{constructor(tt,et,{renderTarget:rt,resolutionScale:nt=1,width:it=Resolution.AUTO_SIZE,height:ot=Resolution.AUTO_SIZE,resolutionX:at=it,resolutionY:st=ot}={}){super("NormalPass"),this.needsSwap=!1,this.renderPass=new RenderPass(tt,et,new MeshNormalMaterial);const lt=this.renderPass;lt.ignoreBackground=!0,lt.skipShadowMapUpdate=!0;const ct=lt.getClearPass();ct.overrideClearColor=new Color(7829503),ct.overrideClearAlpha=1,this.renderTarget=rt,this.renderTarget===void 0&&(this.renderTarget=new WebGLRenderTarget(1,1,{minFilter:NearestFilter,magFilter:NearestFilter}),this.renderTarget.texture.name="NormalPass.Target");const ut=this.resolution=new Resolution(this,at,st,nt);ut.addEventListener("change",dt=>this.setSize(ut.baseWidth,ut.baseHeight))}set mainScene(tt){this.renderPass.mainScene=tt}set mainCamera(tt){this.renderPass.mainCamera=tt}get texture(){return this.renderTarget.texture}getTexture(){return this.renderTarget.texture}getResolution(){return this.resolution}getResolutionScale(){return this.resolution.scale}setResolutionScale(tt){this.resolution.scale=tt}render(tt,et,rt,nt,it){const ot=this.renderToScreen?null:this.renderTarget;this.renderPass.render(tt,ot,ot)}setSize(tt,et){const rt=this.resolution;rt.setBaseSize(tt,et),this.renderTarget.setSize(rt.width,rt.height)}},ShaderPass=class extends Pass{constructor(tt,et="inputBuffer"){super("ShaderPass"),this.fullscreenMaterial=tt,this.input=et}setInput(tt){this.input=tt}render(tt,et,rt,nt,it){const ot=this.fullscreenMaterial.uniforms;et!==null&&ot!==void 0&&ot[this.input]!==void 0&&(ot[this.input].value=et.texture),tt.setRenderTarget(this.renderToScreen?null:rt),tt.render(this.scene,this.camera)}initialize(tt,et,rt){rt!==void 0&&rt!==UnsignedByteType&&(this.fullscreenMaterial.defines.FRAMEBUFFER_PRECISION_HIGH="1")}},TiltShiftBlurPass=class extends KawaseBlurPass{constructor({offset:tt=0,rotation:et=0,focusArea:rt=.4,feather:nt=.3,kernelSize:it=KernelSize.MEDIUM,resolutionScale:ot=.5,resolutionX:at=Resolution.AUTO_SIZE,resolutionY:st=Resolution.AUTO_SIZE}={}){super({kernelSize:it,resolutionScale:ot,resolutionX:at,resolutionY:st}),this.blurMaterial=new TiltShiftBlurMaterial({kernelSize:it,offset:tt,rotation:et,focusArea:rt,feather:nt})}},MILLISECONDS_TO_SECONDS=1/1e3,SECONDS_TO_MILLISECONDS=1e3,Timer=class{constructor(){this.previousTime=0,this.currentTime=0,this._delta=0,this._elapsed=0,this._fixedDelta=1e3/60,this.timescale=1,this.useFixedDelta=!1,this._autoReset=!1}get autoReset(){return this._autoReset}set autoReset(tt){typeof document<"u"&&document.hidden!==void 0&&(tt?document.addEventListener("visibilitychange",this):document.removeEventListener("visibilitychange",this),this._autoReset=tt)}get delta(){return this._delta*MILLISECONDS_TO_SECONDS}get fixedDelta(){return this._fixedDelta*MILLISECONDS_TO_SECONDS}set fixedDelta(tt){this._fixedDelta=tt*SECONDS_TO_MILLISECONDS}get elapsed(){return this._elapsed*MILLISECONDS_TO_SECONDS}update(tt){this.useFixedDelta?this._delta=this.fixedDelta:(this.previousTime=this.currentTime,this.currentTime=tt!==void 0?tt:performance.now(),this._delta=this.currentTime-this.previousTime),this._delta*=this.timescale,this._elapsed+=this._delta}reset(){this._delta=0,this._elapsed=0,this.currentTime=performance.now()}handleEvent(tt){document.hidden||(this.currentTime=performance.now())}dispose(){this.autoReset=!1}},EffectComposer$1=class{constructor(et=null,{depthBuffer:rt=!0,stencilBuffer:nt=!1,multisampling:it=0,frameBufferType:ot}={}){this.renderer=null,this.inputBuffer=this.createBuffer(rt,nt,ot,it),this.outputBuffer=this.inputBuffer.clone(),this.copyPass=new CopyPass,this.depthTexture=null,this.passes=[],this.timer=new Timer,this.autoRenderToScreen=!0,this.setRenderer(et)}get multisampling(){return this.inputBuffer.samples||0}set multisampling(et){const rt=this.inputBuffer,nt=this.multisampling;nt>0&&et>0?(this.inputBuffer.samples=et,this.outputBuffer.samples=et,this.inputBuffer.dispose(),this.outputBuffer.dispose()):nt!==et&&(this.inputBuffer.dispose(),this.outputBuffer.dispose(),this.inputBuffer=this.createBuffer(rt.depthBuffer,rt.stencilBuffer,rt.texture.type,et),this.inputBuffer.depthTexture=this.depthTexture,this.outputBuffer=this.inputBuffer.clone())}getTimer(){return this.timer}getRenderer(){return this.renderer}setRenderer(et){if(this.renderer=et,et!==null){const rt=et.getSize(new Vector2),nt=et.getContext().getContextAttributes().alpha,it=this.inputBuffer.texture.type;it===UnsignedByteType&&et.outputEncoding===sRGBEncoding&&(this.inputBuffer.texture.encoding=sRGBEncoding,this.outputBuffer.texture.encoding=sRGBEncoding,this.inputBuffer.dispose(),this.outputBuffer.dispose()),et.autoClear=!1,this.setSize(rt.width,rt.height);for(const ot of this.passes)ot.initialize(et,nt,it)}}replaceRenderer(et,rt=!0){const nt=this.renderer,it=nt.domElement.parentNode;return this.setRenderer(et),rt&&it!==null&&(it.removeChild(nt.domElement),it.appendChild(et.domElement)),nt}createDepthTexture(){const et=this.depthTexture=new DepthTexture;return this.inputBuffer.depthTexture=et,this.inputBuffer.dispose(),this.inputBuffer.stencilBuffer?(et.format=DepthStencilFormat,et.type=UnsignedInt248Type):et.type=UnsignedIntType,et}deleteDepthTexture(){if(this.depthTexture!==null){this.depthTexture.dispose(),this.depthTexture=null,this.inputBuffer.depthTexture=null,this.inputBuffer.dispose();for(const et of this.passes)et.setDepthTexture(null)}}createBuffer(et,rt,nt,it){const ot=this.renderer,at=ot===null?new Vector2:ot.getDrawingBufferSize(new Vector2),st={minFilter:LinearFilter,magFilter:LinearFilter,stencilBuffer:rt,depthBuffer:et,type:nt};let lt;return it>0?(lt=Number(REVISION.replace(/\D+/g,""))<138?new WebGLMultisampleRenderTarget(at.width,at.height,st):new WebGLRenderTarget(at.width,at.height,st),lt.ignoreDepthForMultisampleCopy=!1,lt.samples=it):lt=new WebGLRenderTarget(at.width,at.height,st),nt===UnsignedByteType&&ot!==null&&ot.outputEncoding===sRGBEncoding&&(lt.texture.encoding=sRGBEncoding),lt.texture.name="EffectComposer.Buffer",lt.texture.generateMipmaps=!1,lt}setMainScene(et){for(const rt of this.passes)rt.mainScene=et}setMainCamera(et){for(const rt of this.passes)rt.mainCamera=et}addPass(et,rt){const nt=this.passes,it=this.renderer,ot=it.getDrawingBufferSize(new Vector2),at=it.getContext().getContextAttributes().alpha,st=this.inputBuffer.texture.type;if(et.setRenderer(it),et.setSize(ot.width,ot.height),et.initialize(it,at,st),this.autoRenderToScreen&&(nt.length>0&&(nt[nt.length-1].renderToScreen=!1),et.renderToScreen&&(this.autoRenderToScreen=!1)),rt!==void 0?nt.splice(rt,0,et):nt.push(et),this.autoRenderToScreen&&(nt[nt.length-1].renderToScreen=!0),et.needsDepthTexture||this.depthTexture!==null)if(this.depthTexture===null){const lt=this.createDepthTexture();for(et of nt)et.setDepthTexture(lt)}else et.setDepthTexture(this.depthTexture)}removePass(et){const rt=this.passes,nt=rt.indexOf(et);if(nt!==-1&&rt.splice(nt,1).length>0){if(this.depthTexture!==null){const at=(lt,ct)=>lt||ct.needsDepthTexture;rt.reduce(at,!1)||(et.getDepthTexture()===this.depthTexture&&et.setDepthTexture(null),this.deleteDepthTexture())}this.autoRenderToScreen&&nt===rt.length&&(et.renderToScreen=!1,rt.length>0&&(rt[rt.length-1].renderToScreen=!0))}}removeAllPasses(){const et=this.passes;this.deleteDepthTexture(),et.length>0&&(this.autoRenderToScreen&&(et[et.length-1].renderToScreen=!1),this.passes=[])}render(et){const rt=this.renderer,nt=this.copyPass;let it=this.inputBuffer,ot=this.outputBuffer,at=!1,st,lt,ct;et===void 0&&(this.timer.update(),et=this.timer.delta);for(const ut of this.passes)ut.enabled&&(ut.render(rt,it,ot,et,at),ut.needsSwap&&(at&&(nt.renderToScreen=ut.renderToScreen,st=rt.getContext(),lt=rt.state.buffers.stencil,lt.setFunc(st.NOTEQUAL,1,4294967295),nt.render(rt,it,ot,et,at),lt.setFunc(st.EQUAL,1,4294967295)),ct=it,it=ot,ot=ct),ut instanceof MaskPass?at=!0:ut instanceof ClearMaskPass&&(at=!1))}setSize(et,rt,nt){const it=this.renderer,ot=it.getSize(new Vector2);(et===void 0||rt===void 0)&&(et=ot.width,rt=ot.height),(ot.width!==et||ot.height!==rt)&&it.setSize(et,rt,nt);const at=it.getDrawingBufferSize(new Vector2);this.inputBuffer.setSize(at.width,at.height),this.outputBuffer.setSize(at.width,at.height);for(const st of this.passes)st.setSize(at.width,at.height)}reset(){const et=this.timer.autoReset;this.dispose(),this.autoRenderToScreen=!0,this.timer.autoReset=et}dispose(){for(const et of this.passes)et.dispose();this.passes=[],this.inputBuffer!==null&&this.inputBuffer.dispose(),this.outputBuffer!==null&&this.outputBuffer.dispose(),this.deleteDepthTexture(),this.copyPass.dispose(),this.timer.dispose()}},EffectShaderData=class{constructor(){this.shaderParts=new Map([[EffectShaderSection.FRAGMENT_HEAD,null],[EffectShaderSection.FRAGMENT_MAIN_UV,null],[EffectShaderSection.FRAGMENT_MAIN_IMAGE,null],[EffectShaderSection.VERTEX_HEAD,null],[EffectShaderSection.VERTEX_MAIN_SUPPORT,null]]),this.defines=new Map,this.uniforms=new Map,this.blendModes=new Map,this.extensions=new Set,this.attributes=EffectAttribute.NONE,this.varyings=new Set,this.uvTransformation=!1,this.readDepth=!1,this.colorSpace=LinearEncoding}},Selection$1=class extends Set{constructor(et,rt=10){super(),this.l=rt,this.exclusive=!1,et!==void 0&&this.set(et)}get layer(){return this.l}set layer(et){const rt=this.l;for(const nt of this)nt.layers.disable(rt),nt.layers.enable(et);this.l=et}getLayer(){return this.layer}setLayer(et){this.layer=et}isExclusive(){return this.exclusive}setExclusive(et){this.exclusive=et}clear(){const et=this.layer;for(const rt of this)rt.layers.disable(et);return super.clear()}set(et){this.clear();for(const rt of et)this.add(rt);return this}indexOf(et){return this.has(et)?0:-1}add(et){return this.exclusive?et.layers.set(this.layer):et.layers.enable(this.layer),super.add(et)}delete(et){return this.has(et)&&et.layers.disable(this.layer),super.delete(et)}toggle(et){let rt;return this.has(et)?(this.delete(et),rt=!1):(this.add(et),rt=!0),rt}setVisible(et){for(const rt of this)et?rt.layers.enable(0):rt.layers.disable(0);return this}},add_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y,opacity);}",alpha_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,min(y.a,opacity));}",average_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y)*0.5,opacity);}",color_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.rg,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",color_burn_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(step(0.0,y)*(1.0-min(vec4(1.0),(1.0-x)/y)),vec4(1.0),step(1.0,x));return mix(x,z,opacity);}",color_dodge_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=step(0.0,x)*mix(min(vec4(1.0),x/max(1.0-y,1e-9)),vec4(1.0),step(1.0,y));return mix(x,z,opacity);}",darken_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x,y),opacity);}",difference_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,abs(x-y),opacity);}",divide_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x/max(y,1e-12),opacity);}",exclusion_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,(x+y-2.0*x*y),opacity);}",hard_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 a=min(x,1.0),b=min(y,1.0);vec4 z=mix(2.0*a*b,1.0-2.0*(1.0-a)*(1.0-b),step(0.5,y));return mix(x,z,opacity);}",hard_mix_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,step(1.0,x+y),opacity);}",hue_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(yHSL.r,xHSL.gb));return vec4(mix(x.rgb,z,opacity),y.a);}",invert_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-y,opacity);}",invert_rgb_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y*(1.0-x),opacity);}",lighten_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x,y),opacity);}",linear_burn_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(y+x-1.0,0.0,1.0),opacity);}",linear_dodge_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,min(x+y,1.0),opacity);}",linear_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,clamp(2.0*y+x-1.0,0.0,1.0),opacity);}",luminosity_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.rg,yHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",multiply_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x*y,opacity);}",negation_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,1.0-abs(1.0-x-y),opacity);}",normal_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,y,opacity);}",overlay_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(2.0*y*x,1.0-2.0*(1.0-y)*(1.0-x),step(0.5,x));return mix(x,z,opacity);}",pin_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 z=mix(mix(y2,x,step(0.5*x,y)),max(vec4(0.0),y2-1.0),step(x,(y2-1.0)));return mix(x,z,opacity);}",reflect_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(min(x*x/max(1.0-y,1e-12),1.0),y,step(1.0,y));return mix(x,z,opacity);}",saturation_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec3 xHSL=RGBToHSL(x.rgb);vec3 yHSL=RGBToHSL(y.rgb);vec3 z=HSLToRGB(vec3(xHSL.r,yHSL.g,xHSL.b));return vec4(mix(x.rgb,z,opacity),y.a);}",screen_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,x+y-min(x*y,1.0),opacity);}",soft_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 y2=2.0*y;vec4 w=step(0.5,y);vec4 z=mix(x-(1.0-y2)*x*(1.0-x),mix(x+(y2-1.0)*(sqrt(x)-x),x+(y2-1.0)*x*((16.0*x-12.0)*x+3.0),w*(1.0-step(0.25,x))),w);return mix(x,z,opacity);}",src_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return y;}",subtract_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){return mix(x,max(x+y-1.0,0.0),opacity);}",vivid_light_default="vec4 blend(const in vec4 x,const in vec4 y,const in float opacity){vec4 z=mix(max(1.0-min((1.0-x)/(2.0*y),1.0),0.0),min(x/(2.0*(1.0-y)),1.0),step(0.5,y));return mix(x,z,opacity);}",blendFunctions=new Map([[BlendFunction.ADD,add_default],[BlendFunction.ALPHA,alpha_default],[BlendFunction.AVERAGE,average_default],[BlendFunction.COLOR,color_default],[BlendFunction.COLOR_BURN,color_burn_default],[BlendFunction.COLOR_DODGE,color_dodge_default],[BlendFunction.DARKEN,darken_default],[BlendFunction.DIFFERENCE,difference_default],[BlendFunction.DIVIDE,divide_default],[BlendFunction.DST,null],[BlendFunction.EXCLUSION,exclusion_default],[BlendFunction.HARD_LIGHT,hard_light_default],[BlendFunction.HARD_MIX,hard_mix_default],[BlendFunction.HUE,hue_default],[BlendFunction.INVERT,invert_default],[BlendFunction.INVERT_RGB,invert_rgb_default],[BlendFunction.LIGHTEN,lighten_default],[BlendFunction.LINEAR_BURN,linear_burn_default],[BlendFunction.LINEAR_DODGE,linear_dodge_default],[BlendFunction.LINEAR_LIGHT,linear_light_default],[BlendFunction.LUMINOSITY,luminosity_default],[BlendFunction.MULTIPLY,multiply_default],[BlendFunction.NEGATION,negation_default],[BlendFunction.NORMAL,normal_default],[BlendFunction.OVERLAY,overlay_default],[BlendFunction.PIN_LIGHT,pin_light_default],[BlendFunction.REFLECT,reflect_default],[BlendFunction.SATURATION,saturation_default],[BlendFunction.SCREEN,screen_default],[BlendFunction.SOFT_LIGHT,soft_light_default],[BlendFunction.SRC,src_default],[BlendFunction.SUBTRACT,subtract_default],[BlendFunction.VIVID_LIGHT,vivid_light_default]]),BlendMode=class extends EventDispatcher{constructor(tt,et=1){super(),this._blendFunction=tt,this.opacity=new Uniform(et)}getOpacity(){return this.opacity.value}setOpacity(tt){this.opacity.value=tt}get blendFunction(){return this._blendFunction}set blendFunction(tt){this._blendFunction=tt,this.dispatchEvent({type:"change"})}getBlendFunction(){return this.blendFunction}setBlendFunction(tt){this.blendFunction=tt}getShaderCode(){return blendFunctions.get(this.blendFunction)}},Effect=class extends EventDispatcher{constructor(tt,et,{attributes:rt=EffectAttribute.NONE,blendFunction:nt=BlendFunction.NORMAL,defines:it=new Map,uniforms:ot=new Map,extensions:at=null,vertexShader:st=null}={}){super(),this.name=tt,this.renderer=null,this.attributes=rt,this.fragmentShader=et,this.vertexShader=st,this.defines=it,this.uniforms=ot,this.extensions=at,this.blendMode=new BlendMode(nt),this.blendMode.addEventListener("change",lt=>this.setChanged()),this._inputColorSpace=LinearEncoding,this._outputColorSpace=null}get inputColorSpace(){return this._inputColorSpace}set inputColorSpace(tt){this._inputColorSpace=tt,this.setChanged()}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(tt){this._outputColorSpace=tt,this.setChanged()}set mainScene(tt){}set mainCamera(tt){}getName(){return this.name}setRenderer(tt){this.renderer=tt}getDefines(){return this.defines}getUniforms(){return this.uniforms}getExtensions(){return this.extensions}getBlendMode(){return this.blendMode}getAttributes(){return this.attributes}setAttributes(tt){this.attributes=tt,this.setChanged()}getFragmentShader(){return this.fragmentShader}setFragmentShader(tt){this.fragmentShader=tt,this.setChanged()}getVertexShader(){return this.vertexShader}setVertexShader(tt){this.vertexShader=tt,this.setChanged()}setChanged(){this.dispatchEvent({type:"change"})}setDepthTexture(tt,et=BasicDepthPacking){}update(tt,et,rt){}setSize(tt,et){}initialize(tt,et,rt){}dispose(){for(const tt of Object.keys(this)){const et=this[tt];(et instanceof WebGLRenderTarget||et instanceof Material$2||et instanceof Texture||et instanceof Pass)&&this[tt].dispose()}}},bloom_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform float intensity;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=texture2D(map,uv)*intensity;}`,BloomEffect=class extends Effect{constructor({blendFunction:tt=BlendFunction.SCREEN,luminanceThreshold:et=.9,luminanceSmoothing:rt=.025,mipmapBlur:nt=!1,intensity:it=1,radius:ot=.85,levels:at=8,kernelSize:st=KernelSize.LARGE,resolutionScale:lt=.5,width:ct=Resolution.AUTO_SIZE,height:ut=Resolution.AUTO_SIZE,resolutionX:dt=ct,resolutionY:ft=ut}={}){super("BloomEffect",bloom_default,{blendFunction:tt,uniforms:new Map([["map",new Uniform(null)],["intensity",new Uniform(it)]])}),this.renderTarget=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="Bloom.Target",this.blurPass=new KawaseBlurPass({kernelSize:st}),this.luminancePass=new LuminancePass({colorOutput:!0}),this.luminanceMaterial.threshold=et,this.luminanceMaterial.smoothing=rt,this.mipmapBlurPass=new MipmapBlurPass,this.mipmapBlurPass.enabled=nt,this.mipmapBlurPass.radius=ot,this.mipmapBlurPass.levels=at,this.uniforms.get("map").value=nt?this.mipmapBlurPass.texture:this.renderTarget.texture;const pt=this.resolution=new Resolution(this,dt,ft,lt);pt.addEventListener("change",mt=>this.setSize(pt.baseWidth,pt.baseHeight))}get texture(){return this.mipmapBlurPass.enabled?this.mipmapBlurPass.texture:this.renderTarget.texture}getTexture(){return this.texture}getResolution(){return this.resolution}getBlurPass(){return this.blurPass}getLuminancePass(){return this.luminancePass}get luminanceMaterial(){return this.luminancePass.fullscreenMaterial}getLuminanceMaterial(){return this.luminancePass.fullscreenMaterial}get width(){return this.resolution.width}set width(tt){this.resolution.preferredWidth=tt}get height(){return this.resolution.height}set height(tt){this.resolution.preferredHeight=tt}get dithering(){return this.blurPass.dithering}set dithering(tt){this.blurPass.dithering=tt}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(tt){this.blurPass.kernelSize=tt}get distinction(){return console.warn(this.name,"distinction was removed"),1}set distinction(tt){console.warn(this.name,"distinction was removed")}get intensity(){return this.uniforms.get("intensity").value}set intensity(tt){this.uniforms.get("intensity").value=tt}getIntensity(){return this.intensity}setIntensity(tt){this.intensity=tt}getResolutionScale(){return this.resolution.scale}setResolutionScale(tt){this.resolution.scale=tt}update(tt,et,rt){const nt=this.renderTarget,it=this.luminancePass;it.enabled?(it.render(tt,et),this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(tt,it.renderTarget):this.blurPass.render(tt,it.renderTarget,nt)):this.mipmapBlurPass.enabled?this.mipmapBlurPass.render(tt,et):this.blurPass.render(tt,et,nt)}setSize(tt,et){const rt=this.resolution;rt.setBaseSize(tt,et),this.renderTarget.setSize(rt.width,rt.height),this.blurPass.resolution.copy(rt),this.luminancePass.setSize(tt,et),this.mipmapBlurPass.setSize(tt,et)}initialize(tt,et,rt){this.blurPass.initialize(tt,et,rt),this.luminancePass.initialize(tt,et,rt),this.mipmapBlurPass.initialize(tt,et,rt),rt!==void 0&&(this.renderTarget.texture.type=rt,tt.outputEncoding===sRGBEncoding&&(this.renderTarget.texture.encoding=sRGBEncoding))}},brightness_contrast_default="uniform float brightness;uniform float contrast;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=inputColor.rgb+vec3(brightness-0.5);if(contrast>0.0){color/=vec3(1.0-contrast);}else{color*=vec3(1.0+contrast);}outputColor=vec4(color+vec3(0.5),inputColor.a);}",BrightnessContrastEffect=class extends Effect{constructor({blendFunction:tt=BlendFunction.SRC,brightness:et=0,contrast:rt=0}={}){super("BrightnessContrastEffect",brightness_contrast_default,{blendFunction:tt,uniforms:new Map([["brightness",new Uniform(et)],["contrast",new Uniform(rt)]])}),this.inputColorSpace=sRGBEncoding}get brightness(){return this.uniforms.get("brightness").value}set brightness(tt){this.uniforms.get("brightness").value=tt}getBrightness(tt){return this.brightness}setBrightness(tt){this.brightness=tt}get contrast(){return this.uniforms.get("contrast").value}set contrast(tt){this.uniforms.get("contrast").value=tt}getContrast(tt){return this.contrast}setContrast(tt){this.contrast=tt}},color_depth_default="uniform float factor;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){outputColor=vec4(floor(inputColor.rgb*factor+0.5)/factor,inputColor.a);}",ColorDepthEffect=class extends Effect{constructor({blendFunction:tt,bits:et=16}={}){super("ColorDepthEffect",color_depth_default,{blendFunction:tt,uniforms:new Map([["factor",new Uniform(1)]])}),this.bits=0,this.bitDepth=et}get bitDepth(){return this.bits}set bitDepth(tt){this.bits=tt,this.uniforms.get("factor").value=Math.pow(2,tt/3)}getBitDepth(){return this.bitDepth}setBitDepth(tt){this.bitDepth=tt}},depth_default=`void mainImage(const in vec4 inputColor,const in vec2 uv,const in float depth,out vec4 outputColor){
#ifdef INVERTED
vec3 color=vec3(1.0-depth);
#else
vec3 color=vec3(depth);
#endif
outputColor=vec4(color,inputColor.a);}`,DepthEffect=class extends Effect{constructor({blendFunction:tt=BlendFunction.SRC,inverted:et=!1}={}){super("DepthEffect",depth_default,{blendFunction:tt,attributes:EffectAttribute.DEPTH}),this.inverted=et}get inverted(){return this.defines.has("INVERTED")}set inverted(tt){this.inverted!==tt&&(tt?this.defines.set("INVERTED","1"):this.defines.delete("INVERTED"),this.setChanged())}isInverted(){return this.inverted}setInverted(tt){this.inverted=tt}},dot_screen_default="uniform vec2 angle;uniform float scale;float pattern(const in vec2 uv){vec2 point=scale*vec2(dot(angle.yx,vec2(uv.x,-uv.y)),dot(angle,uv));return(sin(point.x)*sin(point.y))*4.0;}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(inputColor.rgb*10.0-5.0+pattern(uv*resolution));outputColor=vec4(color,inputColor.a);}",DotScreenEffect=class extends Effect{constructor({blendFunction:tt,angle:et=Math.PI*.5,scale:rt=1}={}){super("DotScreenEffect",dot_screen_default,{blendFunction:tt,uniforms:new Map([["angle",new Uniform(new Vector2)],["scale",new Uniform(rt)]])}),this.angle=et}get angle(){return Math.acos(this.uniforms.get("angle").value.y)}set angle(tt){this.uniforms.get("angle").value.set(Math.sin(tt),Math.cos(tt))}getAngle(){return this.angle}setAngle(tt){this.angle=tt}get scale(){return this.uniforms.get("scale").value}set scale(tt){this.uniforms.get("scale").value=tt}};new Vector3;new Matrix4;var hue_saturation_default="uniform vec3 hue;uniform float saturation;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,hue.xyz),dot(inputColor.rgb,hue.zxy),dot(inputColor.rgb,hue.yzx));float average=(color.r+color.g+color.b)/3.0;vec3 diff=average-color;if(saturation>0.0){color+=diff*(1.0-1.0/(1.001-saturation));}else{color+=diff*-saturation;}outputColor=vec4(min(color,1.0),inputColor.a);}",HueSaturationEffect=class extends Effect{constructor({blendFunction:tt=BlendFunction.SRC,hue:et=0,saturation:rt=0}={}){super("HueSaturationEffect",hue_saturation_default,{blendFunction:tt,uniforms:new Map([["hue",new Uniform(new Vector3)],["saturation",new Uniform(rt)]])}),this.hue=et}get saturation(){return this.uniforms.get("saturation").value}set saturation(tt){this.uniforms.get("saturation").value=tt}getSaturation(){return this.saturation}setSaturation(tt){this.saturation=tt}get hue(){const tt=this.uniforms.get("hue").value;return Math.acos((tt.x*3-1)/2)}set hue(tt){const et=Math.sin(tt),rt=Math.cos(tt);this.uniforms.get("hue").value.set((2*rt+1)/3,(-Math.sqrt(3)*et-rt+1)/3,(Math.sqrt(3)*et-rt+1)/3)}getHue(){return this.hue}setHue(tt){this.hue=tt}};new Color;var noise_default=`void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 noise=vec3(rand(uv*time));
#ifdef PREMULTIPLY
outputColor=vec4(min(inputColor.rgb*noise,vec3(1.0)),inputColor.a);
#else
outputColor=vec4(noise,inputColor.a);
#endif
}`,NoiseEffect=class extends Effect{constructor({blendFunction:tt=BlendFunction.SCREEN,premultiply:et=!1}={}){super("NoiseEffect",noise_default,{blendFunction:tt}),this.premultiply=et}get premultiply(){return this.defines.has("PREMULTIPLY")}set premultiply(tt){this.premultiply!==tt&&(tt?this.defines.set("PREMULTIPLY","1"):this.defines.delete("PREMULTIPLY"),this.setChanged())}isPremultiplied(){return this.premultiply}setPremultiplied(tt){this.premultiply=tt}},outline_default3=`uniform lowp sampler2D edgeTexture;uniform lowp sampler2D maskTexture;uniform vec3 visibleEdgeColor;uniform vec3 hiddenEdgeColor;uniform float pulse;uniform float edgeStrength;
#ifdef USE_PATTERN
uniform lowp sampler2D patternTexture;varying vec2 vUvPattern;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec2 edge=texture2D(edgeTexture,uv).rg;vec2 mask=texture2D(maskTexture,uv).rg;
#ifndef X_RAY
edge.y=0.0;
#endif
edge*=(edgeStrength*mask.x*pulse);vec3 color=edge.x*visibleEdgeColor+edge.y*hiddenEdgeColor;float visibilityFactor=0.0;
#ifdef USE_PATTERN
vec4 patternColor=texelToLinear(texture2D(patternTexture,vUvPattern));
#ifdef X_RAY
float hiddenFactor=0.5;
#else
float hiddenFactor=0.0;
#endif
visibilityFactor=(1.0-mask.y>0.0)?1.0:hiddenFactor;visibilityFactor*=(1.0-mask.x)*patternColor.a;color+=visibilityFactor*patternColor.rgb;
#endif
float alpha=max(max(edge.x,edge.y),visibilityFactor);
#ifdef ALPHA
outputColor=vec4(color,alpha);
#else
outputColor=vec4(color,max(alpha,inputColor.a));
#endif
}`,outline_default4="uniform float patternScale;varying vec2 vUvPattern;void mainSupport(const in vec2 uv){vUvPattern=uv*vec2(aspect,1.0)*patternScale;}",OutlineEffect=class extends Effect{constructor(tt,et,{blendFunction:rt=BlendFunction.SCREEN,patternTexture:nt=null,patternScale:it=1,edgeStrength:ot=1,pulseSpeed:at=0,visibleEdgeColor:st=16777215,hiddenEdgeColor:lt=2230538,kernelSize:ct=KernelSize.VERY_SMALL,blur:ut=!1,xRay:dt=!0,multisampling:ft=0,resolutionScale:pt=.5,width:mt=Resolution.AUTO_SIZE,height:ht=Resolution.AUTO_SIZE,resolutionX:gt=mt,resolutionY:vt=ht}={}){super("OutlineEffect",outline_default3,{uniforms:new Map([["maskTexture",new Uniform(null)],["edgeTexture",new Uniform(null)],["edgeStrength",new Uniform(ot)],["visibleEdgeColor",new Uniform(new Color(st))],["hiddenEdgeColor",new Uniform(new Color(lt))],["pulse",new Uniform(1)],["patternScale",new Uniform(it)],["patternTexture",new Uniform(null)]])}),this.blendMode.addEventListener("change",$t=>{this.blendMode.getBlendFunction()===BlendFunction.ALPHA?this.defines.set("ALPHA","1"):this.defines.delete("ALPHA"),this.setChanged()}),this.blendMode.setBlendFunction(rt),this.patternTexture=nt,this.xRay=dt,this.scene=tt,this.camera=et,this.renderTargetMask=new WebGLRenderTarget(1,1),this.renderTargetMask.samples=ft,this.renderTargetMask.texture.name="Outline.Mask",this.uniforms.get("maskTexture").value=this.renderTargetMask.texture,this.renderTargetOutline=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTargetOutline.texture.name="Outline.Edges",this.uniforms.get("edgeTexture").value=this.renderTargetOutline.texture,this.clearPass=new ClearPass,this.clearPass.overrideClearColor=new Color(0),this.clearPass.overrideClearAlpha=1,this.depthPass=new DepthPass(tt,et),this.maskPass=new RenderPass(tt,et,new DepthComparisonMaterial(this.depthPass.texture,et));const yt=this.maskPass.clearPass;yt.overrideClearColor=new Color(16777215),yt.overrideClearAlpha=1,this.blurPass=new KawaseBlurPass({resolutionScale:pt,resolutionX:gt,resolutionY:vt,kernelSize:ct}),this.blurPass.enabled=ut;const bt=this.blurPass.resolution;bt.addEventListener("change",$t=>this.setSize(bt.baseWidth,bt.baseHeight)),this.outlinePass=new ShaderPass(new OutlineMaterial);const xt=this.outlinePass.fullscreenMaterial;xt.inputBuffer=this.renderTargetMask.texture,this.time=0,this.active=!1,this.selection=new Selection$1,this.selection.layer=10,this.pulseSpeed=at}set mainScene(tt){this.scene=tt,this.depthPass.mainScene=tt,this.maskPass.mainScene=tt}set mainCamera(tt){this.camera=tt,this.depthPass.mainCamera=tt,this.maskPass.mainCamera=tt,this.maskPass.overrideMaterial.copyCameraSettings(tt)}get resolution(){return this.blurPass.resolution}getResolution(){return this.blurPass.getResolution()}get multisampling(){return this.renderTargetMask.samples}set multisampling(tt){this.renderTargetMask.samples=tt,this.renderTargetMask.dispose()}get patternScale(){return this.uniforms.get("patternScale").value}set patternScale(tt){this.uniforms.get("patternScale").value=tt}get edgeStrength(){return this.uniforms.get("edgeStrength").value}set edgeStrength(tt){this.uniforms.get("edgeStrength").value=tt}get visibleEdgeColor(){return this.uniforms.get("visibleEdgeColor").value}set visibleEdgeColor(tt){this.uniforms.get("visibleEdgeColor").value=tt}get hiddenEdgeColor(){return this.uniforms.get("hiddenEdgeColor").value}set hiddenEdgeColor(tt){this.uniforms.get("hiddenEdgeColor").value=tt}getBlurPass(){return this.blurPass}getSelection(){return this.selection}getPulseSpeed(){return this.pulseSpeed}setPulseSpeed(tt){this.pulseSpeed=tt}get width(){return this.resolution.width}set width(tt){this.resolution.preferredWidth=tt}get height(){return this.resolution.height}set height(tt){this.resolution.preferredHeight=tt}get selectionLayer(){return this.selection.layer}set selectionLayer(tt){this.selection.layer=tt}get dithering(){return this.blurPass.dithering}set dithering(tt){this.blurPass.dithering=tt}get kernelSize(){return this.blurPass.kernelSize}set kernelSize(tt){this.blurPass.kernelSize=tt}get blur(){return this.blurPass.enabled}set blur(tt){this.blurPass.enabled=tt}get xRay(){return this.defines.has("X_RAY")}set xRay(tt){this.xRay!==tt&&(tt?this.defines.set("X_RAY","1"):this.defines.delete("X_RAY"),this.setChanged())}isXRayEnabled(){return this.xRay}setXRayEnabled(tt){this.xRay=tt}get patternTexture(){return this.uniforms.get("patternTexture").value}set patternTexture(tt){if(tt!==null?(tt.wrapS=tt.wrapT=RepeatWrapping,this.defines.set("USE_PATTERN","1"),this.setVertexShader(outline_default4)):(this.defines.delete("USE_PATTERN"),this.setVertexShader(null)),this.renderer!==null){const et=getTextureDecoding(tt,this.renderer.capabilities.isWebGL2);this.defines.set("texelToLinear(texel)",et)}this.uniforms.get("patternTexture").value=tt,this.setChanged()}setPatternTexture(tt){this.patternTexture=tt}getResolutionScale(){return this.resolution.scale}setResolutionScale(tt){this.resolution.scale=tt}setSelection(tt){return this.selection.set(tt),this}clearSelection(){return this.selection.clear(),this}selectObject(tt){return this.selection.add(tt),this}deselectObject(tt){return this.selection.delete(tt),this}update(tt,et,rt){const nt=this.scene,it=this.camera,ot=this.selection,st=this.uniforms.get("pulse"),lt=nt.background,ct=it.layers.mask;ot.size>0?(nt.background=null,st.value=1,this.pulseSpeed>0&&(st.value=Math.cos(this.time*this.pulseSpeed*10)*.375+.625),this.active=!0,this.time+=rt,ot.setVisible(!1),this.depthPass.render(tt),ot.setVisible(!0),it.layers.set(ot.layer),this.maskPass.render(tt,this.renderTargetMask),it.layers.mask=ct,nt.background=lt,this.outlinePass.render(tt,null,this.renderTargetOutline),this.blurPass.enabled&&this.blurPass.render(tt,this.renderTargetOutline,this.renderTargetOutline)):this.active&&(this.clearPass.render(tt,this.renderTargetOutline),this.active=!1)}setSize(tt,et){this.blurPass.setSize(tt,et),this.renderTargetMask.setSize(tt,et);const rt=this.resolution;rt.setBaseSize(tt,et);const nt=rt.width,it=rt.height;this.depthPass.setSize(nt,it),this.renderTargetOutline.setSize(nt,it),this.outlinePass.fullscreenMaterial.setSize(nt,it)}initialize(tt,et,rt){const nt=this.patternTexture,it=getTextureDecoding(nt,tt.capabilities.isWebGL2);this.defines.set("texelToLinear(texel)",it),this.blurPass.initialize(tt,et,UnsignedByteType),rt!==void 0&&(this.depthPass.initialize(tt,et,rt),this.maskPass.initialize(tt,et,rt),this.outlinePass.initialize(tt,et,rt))}},scanlines_default=`uniform float count;
#ifdef SCROLL
uniform float scrollSpeed;
#endif
void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float y=uv.y;
#ifdef SCROLL
y+=time*scrollSpeed;
#endif
vec2 sl=vec2(sin(y*count),cos(y*count));outputColor=vec4(sl.xyx,inputColor.a);}`,ScanlineEffect=class extends Effect{constructor({blendFunction:tt=BlendFunction.OVERLAY,density:et=1.25,scrollSpeed:rt=0}={}){super("ScanlineEffect",scanlines_default,{blendFunction:tt,uniforms:new Map([["count",new Uniform(0)],["scrollSpeed",new Uniform(0)]])}),this.resolution=new Vector2,this.d=et,this.scrollSpeed=rt}get density(){return this.d}set density(tt){this.d=tt,this.setSize(this.resolution.width,this.resolution.height)}getDensity(){return this.density}setDensity(tt){this.density=tt}get scrollSpeed(){return this.uniforms.get("scrollSpeed").value}set scrollSpeed(tt){this.uniforms.get("scrollSpeed").value=tt,tt===0?this.defines.delete("SCROLL")&&this.setChanged():this.defines.has("SCROLL")||(this.defines.set("SCROLL","1"),this.setChanged())}setSize(tt,et){this.resolution.set(tt,et),this.uniforms.get("count").value=Math.round(et*this.density)}},shock_wave_default="uniform bool active;uniform vec2 center;uniform float waveSize;uniform float radius;uniform float maxRadius;uniform float amplitude;varying float vSize;void mainUv(inout vec2 uv){if(active){vec2 aspectCorrection=vec2(aspect,1.0);vec2 difference=uv*aspectCorrection-center*aspectCorrection;float distance=sqrt(dot(difference,difference))*vSize;if(distance>radius){if(distance<radius+waveSize){float angle=(distance-radius)*PI2/waveSize;float cosSin=(1.0-cos(angle))*0.5;float extent=maxRadius+waveSize;float decay=max(extent-distance*distance,0.0)/extent;uv-=((cosSin*amplitude*difference)/distance)*decay;}}}}",shock_wave_default2="uniform float size;uniform float cameraDistance;varying float vSize;void mainSupport(){vSize=(0.1*cameraDistance)/size;}",HALF_PI=Math.PI*.5,v2=new Vector3,ab=new Vector3,ShockWaveEffect=class extends Effect{constructor(tt,et=new Vector3,{speed:rt=2,maxRadius:nt=1,waveSize:it=.2,amplitude:ot=.05}={}){super("ShockWaveEffect",shock_wave_default,{vertexShader:shock_wave_default2,uniforms:new Map([["active",new Uniform(!1)],["center",new Uniform(new Vector2(.5,.5))],["cameraDistance",new Uniform(1)],["size",new Uniform(1)],["radius",new Uniform(-it)],["maxRadius",new Uniform(nt)],["waveSize",new Uniform(it)],["amplitude",new Uniform(ot)]])}),this.position=et,this.speed=rt,this.camera=tt,this.screenPosition=this.uniforms.get("center").value,this.time=0,this.active=!1}set mainCamera(tt){this.camera=tt}get amplitude(){return this.uniforms.get("amplitude").value}set amplitude(tt){this.uniforms.get("amplitude").value=tt}get waveSize(){return this.uniforms.get("waveSize").value}set waveSize(tt){this.uniforms.get("waveSize").value=tt}get maxRadius(){return this.uniforms.get("maxRadius").value}set maxRadius(tt){this.uniforms.get("maxRadius").value=tt}get epicenter(){return this.position}set epicenter(tt){this.position=tt}getPosition(){return this.position}setPosition(tt){this.position=tt}getSpeed(){return this.speed}setSpeed(tt){this.speed=tt}explode(){this.time=0,this.active=!0,this.uniforms.get("active").value=!0}update(tt,et,rt){const nt=this.position,it=this.camera,ot=this.uniforms,at=ot.get("active");if(this.active){const st=ot.get("waveSize").value;it.getWorldDirection(v2),ab.copy(it.position).sub(nt),at.value=v2.angleTo(ab)>HALF_PI,at.value&&(ot.get("cameraDistance").value=it.position.distanceTo(nt),v2.copy(nt).project(it),this.screenPosition.set((v2.x+1)*.5,(v2.y+1)*.5)),this.time+=rt*this.speed;const lt=this.time-st;ot.get("radius").value=lt,lt>=(ot.get("maxRadius").value+st)*2&&(this.active=!1,at.value=!1)}}},sepia_default="uniform vec3 weightsR;uniform vec3 weightsG;uniform vec3 weightsB;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){vec3 color=vec3(dot(inputColor.rgb,weightsR),dot(inputColor.rgb,weightsG),dot(inputColor.rgb,weightsB));outputColor=vec4(color,inputColor.a);}",SepiaEffect=class extends Effect{constructor({blendFunction:tt,intensity:et=1}={}){super("SepiaEffect",sepia_default,{blendFunction:tt,uniforms:new Map([["weightsR",new Uniform(new Vector3(.393,.769,.189))],["weightsG",new Uniform(new Vector3(.349,.686,.168))],["weightsB",new Uniform(new Vector3(.272,.534,.131))]])})}get intensity(){return this.blendMode.opacity.value}set intensity(tt){this.blendMode.opacity.value=tt}getIntensity(){return this.intensity}setIntensity(tt){this.intensity=tt}get weightsR(){return this.uniforms.get("weightsR").value}get weightsG(){return this.uniforms.get("weightsG").value}get weightsB(){return this.uniforms.get("weightsB").value}},tilt_shift_default=`#ifdef FRAMEBUFFER_PRECISION_HIGH
uniform mediump sampler2D map;
#else
uniform lowp sampler2D map;
#endif
uniform vec2 maskParams;varying vec2 vUv2;float linearGradientMask(const in float x){return step(maskParams.x,x)-step(maskParams.y,x);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){float mask=linearGradientMask(vUv2.y);vec4 texel=texture2D(map,uv);outputColor=mix(texel,inputColor,mask);}`,tilt_shift_default2="uniform vec2 rotation;varying vec2 vUv2;void mainSupport(const in vec2 uv){vUv2=(uv-0.5)*2.0*vec2(aspect,1.0);vUv2=vec2(dot(rotation,vUv2),dot(rotation,vec2(vUv2.y,-vUv2.x)));}",TiltShiftEffect=class extends Effect{constructor({blendFunction:tt,offset:et=0,rotation:rt=0,focusArea:nt=.4,feather:it=.3,kernelSize:ot=KernelSize.MEDIUM,resolutionScale:at=.5,resolutionX:st=Resolution.AUTO_SIZE,resolutionY:lt=Resolution.AUTO_SIZE}={}){super("TiltShiftEffect",tilt_shift_default,{vertexShader:tilt_shift_default2,blendFunction:tt,uniforms:new Map([["rotation",new Uniform(new Vector2)],["maskParams",new Uniform(new Vector2)],["map",new Uniform(null)]])}),this._offset=et,this._focusArea=nt,this._feather=it,this.renderTarget=new WebGLRenderTarget(1,1,{depthBuffer:!1}),this.renderTarget.texture.name="TiltShift.Target",this.uniforms.get("map").value=this.renderTarget.texture,this.blurPass=new TiltShiftBlurPass({kernelSize:ot,resolutionScale:at,resolutionX:st,resolutionY:lt,offset:et,rotation:rt,focusArea:nt,feather:it});const ct=this.resolution=new Resolution(this,st,lt,at);ct.addEventListener("change",ut=>this.setSize(ct.baseWidth,ct.baseHeight)),this.rotation=rt,this.updateParams()}updateParams(){const tt=this.uniforms.get("maskParams").value,et=Math.max(this.focusArea-this.feather,0);tt.set(this.offset-et,this.offset+et)}get rotation(){return Math.acos(this.uniforms.get("rotation").value.x)}set rotation(tt){this.uniforms.get("rotation").value.set(Math.cos(tt),Math.sin(tt)),this.blurPass.blurMaterial.rotation=tt}get offset(){return this._offset}set offset(tt){this._offset=tt,this.blurPass.blurMaterial.offset=tt,this.updateParams()}get focusArea(){return this._focusArea}set focusArea(tt){this._focusArea=tt,this.blurPass.blurMaterial.focusArea=tt,this.updateParams()}get feather(){return this._feather}set feather(tt){this._feather=tt,this.blurPass.blurMaterial.feather=tt,this.updateParams()}get bias(){return 0}set bias(tt){}update(tt,et,rt){this.blurPass.render(tt,et,this.renderTarget)}setSize(tt,et){const rt=this.resolution;rt.setBaseSize(tt,et),this.renderTarget.setSize(rt.width,rt.height),this.blurPass.resolution.copy(rt)}initialize(tt,et,rt){this.blurPass.initialize(tt,et,rt),rt!==void 0&&(this.renderTarget.texture.type=rt,tt.outputEncoding===sRGBEncoding&&(this.renderTarget.texture.encoding=sRGBEncoding))}},tone_mapping_default=`#include <tonemapping_pars_fragment>
#if THREE_REVISION < 143
#define luminance(v) linearToRelativeLuminance(v)
#endif
uniform lowp sampler2D luminanceBuffer;uniform float whitePoint;uniform float middleGrey;
#if TONE_MAPPING_MODE != 2
uniform float averageLuminance;
#endif
vec3 Reinhard2ToneMapping(vec3 color){color*=toneMappingExposure;float l=luminance(color);
#if TONE_MAPPING_MODE == 2
float lumAvg=unpackRGBAToFloat(texture2D(luminanceBuffer,vec2(0.5)));
#else
float lumAvg=averageLuminance;
#endif
float lumScaled=(l*middleGrey)/max(lumAvg,1e-6);float lumCompressed=lumScaled*(1.0+lumScaled/(whitePoint*whitePoint));lumCompressed/=(1.0+lumScaled);return clamp(lumCompressed*color,0.0,1.0);}void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){
#if TONE_MAPPING_MODE == 1 || TONE_MAPPING_MODE == 2
outputColor=vec4(Reinhard2ToneMapping(inputColor.rgb),inputColor.a);
#else
outputColor=vec4(toneMapping(inputColor.rgb),inputColor.a);
#endif
}`,ToneMappingEffect=class extends Effect{constructor({blendFunction:tt=BlendFunction.SRC,adaptive:et=!0,mode:rt=et?ToneMappingMode.REINHARD2_ADAPTIVE:ToneMappingMode.REINHARD2,resolution:nt=256,maxLuminance:it=16,whitePoint:ot=it,middleGrey:at=.6,minLuminance:st=.01,averageLuminance:lt=1,adaptationRate:ct=1}={}){super("ToneMappingEffect",tone_mapping_default,{blendFunction:tt,uniforms:new Map([["luminanceBuffer",new Uniform(null)],["maxLuminance",new Uniform(it)],["whitePoint",new Uniform(ot)],["middleGrey",new Uniform(at)],["averageLuminance",new Uniform(lt)]])}),this.renderTargetLuminance=new WebGLRenderTarget(1,1,{minFilter:LinearMipmapLinearFilter,depthBuffer:!1}),this.renderTargetLuminance.texture.generateMipmaps=!0,this.renderTargetLuminance.texture.name="Luminance",this.luminancePass=new LuminancePass({renderTarget:this.renderTargetLuminance}),this.adaptiveLuminancePass=new AdaptiveLuminancePass(this.luminancePass.texture,{minLuminance:st,adaptationRate:ct}),this.uniforms.get("luminanceBuffer").value=this.adaptiveLuminancePass.texture,this.resolution=nt,this.mode=rt}get mode(){return Number(this.defines.get("TONE_MAPPING_MODE"))}set mode(tt){if(this.mode!==tt){switch(this.defines.clear(),this.defines.set("TONE_MAPPING_MODE",tt.toFixed(0)),tt){case ToneMappingMode.REINHARD:this.defines.set("toneMapping(texel)","ReinhardToneMapping(texel)");break;case ToneMappingMode.OPTIMIZED_CINEON:this.defines.set("toneMapping(texel)","OptimizedCineonToneMapping(texel)");break;case ToneMappingMode.ACES_FILMIC:this.defines.set("toneMapping(texel)","ACESFilmicToneMapping(texel)");break;default:this.defines.set("toneMapping(texel)","texel");break}this.adaptiveLuminancePass.enabled=tt===ToneMappingMode.REINHARD2_ADAPTIVE,this.setChanged()}}getMode(){return this.mode}setMode(tt){this.mode=tt}get whitePoint(){return this.uniforms.get("whitePoint").value}set whitePoint(tt){this.uniforms.get("whitePoint").value=tt}get middleGrey(){return this.uniforms.get("middleGrey").value}set middleGrey(tt){this.uniforms.get("middleGrey").value=tt}get averageLuminance(){return this.uniforms.get("averageLuminance").value}set averageLuminance(tt){this.uniforms.get("averageLuminance").value=tt}get adaptiveLuminanceMaterial(){return this.adaptiveLuminancePass.fullscreenMaterial}getAdaptiveLuminanceMaterial(){return this.adaptiveLuminanceMaterial}get resolution(){return this.luminancePass.resolution.width}set resolution(tt){const et=Math.max(0,Math.ceil(Math.log2(tt))),rt=Math.pow(2,et);this.luminancePass.resolution.setPreferredSize(rt,rt),this.adaptiveLuminanceMaterial.mipLevel1x1=et}getResolution(){return this.resolution}setResolution(tt){this.resolution=tt}get adaptive(){return this.mode===ToneMappingMode.REINHARD2_ADAPTIVE}set adaptive(tt){this.mode=tt?ToneMappingMode.REINHARD2_ADAPTIVE:ToneMappingMode.REINHARD2}get adaptationRate(){return this.adaptiveLuminanceMaterial.adaptationRate}set adaptationRate(tt){this.adaptiveLuminanceMaterial.adaptationRate=tt}get distinction(){return console.warn(this.name,"distinction was removed."),1}set distinction(tt){console.warn(this.name,"distinction was removed.")}update(tt,et,rt){this.adaptiveLuminancePass.enabled&&(this.luminancePass.render(tt,et),this.adaptiveLuminancePass.render(tt,null,null,rt))}initialize(tt,et,rt){this.adaptiveLuminancePass.initialize(tt,et,rt)}},vignette_default=`uniform float offset;uniform float darkness;void mainImage(const in vec4 inputColor,const in vec2 uv,out vec4 outputColor){const vec2 center=vec2(0.5);vec3 color=inputColor.rgb;
#if VIGNETTE_TECHNIQUE == 0
float d=distance(uv,center);color*=smoothstep(0.8,offset*0.799,d*(darkness+offset));
#else
vec2 coord=(uv-center)*vec2(offset);color=mix(color,vec3(1.0-darkness),dot(coord,coord));
#endif
outputColor=vec4(color,inputColor.a);}`,VignetteEffect=class extends Effect{constructor({blendFunction:tt,technique:et=VignetteTechnique.DEFAULT,eskil:rt=!1,offset:nt=.5,darkness:it=.5}={}){super("VignetteEffect",vignette_default,{blendFunction:tt,defines:new Map([["VIGNETTE_TECHNIQUE",et.toFixed(0)]]),uniforms:new Map([["offset",new Uniform(nt)],["darkness",new Uniform(it)]])})}get technique(){return Number(this.defines.get("VIGNETTE_TECHNIQUE"))}set technique(tt){this.technique!==tt&&(this.defines.set("VIGNETTE_TECHNIQUE",tt.toFixed(0)),this.setChanged())}get eskil(){return this.technique===VignetteTechnique.ESKIL}set eskil(tt){this.technique=tt?VignetteTechnique.ESKIL:VignetteTechnique.DEFAULT}getTechnique(){return this.technique}setTechnique(tt){this.technique=tt}get offset(){return this.uniforms.get("offset").value}set offset(tt){this.uniforms.get("offset").value=tt}getOffset(){return this.offset}setOffset(tt){this.offset=tt}get darkness(){return this.uniforms.get("darkness").value}set darkness(tt){this.uniforms.get("darkness").value=tt}getDarkness(){return this.darkness}setDarkness(tt){this.darkness=tt}};const isRef=tt=>!!tt.current,resolveRef=tt=>isRef(tt)?tt.current:tt,wrapEffect=function(tt,et){return et===void 0&&(et=BlendFunction.NORMAL),reactExports.forwardRef(function(nt,it){let{blendFunction:ot,opacity:at,...st}=nt;const lt=useThree(ut=>ut.invalidate),ct=reactExports.useMemo(()=>new tt(st),[st]);return reactExports.useLayoutEffect(()=>{ct.blendMode.blendFunction=!ot&&ot!==0?et:ot,at!==void 0&&(ct.blendMode.opacity.value=at),lt()},[ot,ct.blendMode,at]),React.createElement("primitive",{ref:it,object:ct,dispose:null})})},Bloom=wrapEffect(BloomEffect,BlendFunction.ADD);wrapEffect(BrightnessContrastEffect);wrapEffect(ColorDepthEffect);wrapEffect(DepthEffect);const EffectComposerContext=reactExports.createContext(null),EffectComposer=React.memo(reactExports.forwardRef((tt,et)=>{let{children:rt,camera:nt,scene:it,resolutionScale:ot,enabled:at=!0,renderPriority:st=1,autoClear:lt=!0,depthBuffer:ct,disableNormalPass:ut,stencilBuffer:dt,multisampling:ft=8,frameBufferType:pt=HalfFloatType}=tt;const{gl:mt,scene:ht,camera:gt,size:vt}=useThree();it=it||ht,nt=nt||gt;const[yt,bt,xt]=reactExports.useMemo(()=>{const wt=isWebGL2Available(),At=new EffectComposer$1(mt,{depthBuffer:ct,stencilBuffer:dt,multisampling:ft>0&&wt?ft:0,frameBufferType:pt});At.addPass(new RenderPass(it,nt));let Rt=null,It=null;return ut||(It=new NormalPass(it,nt),It.enabled=!1,At.addPass(It),ot!==void 0&&wt&&(Rt=new DepthDownsamplingPass({normalBuffer:It.texture,resolutionScale:ot}),Rt.enabled=!1,At.addPass(Rt))),[At,It,Rt]},[nt,mt,ct,dt,ft,pt,it,ut,ot]);reactExports.useEffect(()=>yt==null?void 0:yt.setSize(vt.width,vt.height),[yt,vt]),useFrame((wt,At)=>{at&&(mt.autoClear=lt,yt.render(At))},at?st:0);const $t=reactExports.useRef(null);reactExports.useLayoutEffect(()=>{let wt;return $t.current&&$t.current.__r3f&&yt&&(wt=new EffectPass(nt,...$t.current.__r3f.objects),wt.renderToScreen=!0,yt.addPass(wt),bt&&(bt.enabled=!0),xt&&(xt.enabled=!0)),()=>{wt&&(yt==null||yt.removePass(wt)),bt&&(bt.enabled=!1),xt&&(xt.enabled=!1)}},[yt,rt,nt,bt,xt]);const Tt=reactExports.useMemo(()=>({composer:yt,normalPass:bt,downSamplingPass:xt,resolutionScale:ot,camera:nt,scene:it}),[yt,bt,xt,ot,nt,it]);return reactExports.useImperativeHandle(et,()=>yt,[yt]),React.createElement(EffectComposerContext.Provider,{value:Tt},React.createElement("group",{ref:$t},rt))}));wrapEffect(DotScreenEffect);wrapEffect(HueSaturationEffect);wrapEffect(NoiseEffect,BlendFunction.COLOR_DODGE);const selectionContext=reactExports.createContext(null);function Selection(tt){let{children:et,enabled:rt=!0}=tt;const[nt,it]=reactExports.useState([]),ot=reactExports.useMemo(()=>({selected:nt,select:it,enabled:rt}),[nt,it,rt]);return React.createElement(selectionContext.Provider,{value:ot},et)}function Select(tt){let{enabled:et=!1,children:rt,...nt}=tt;const it=reactExports.useRef(null),ot=reactExports.useContext(selectionContext);return reactExports.useEffect(()=>{if(ot&&et){let at=!1;const st=[];if(it.current.traverse(lt=>{lt.type==="Mesh"&&st.push(lt),ot.selected.indexOf(lt)===-1&&(at=!0)}),at)return ot.select(lt=>[...lt,...st]),()=>{ot.select(lt=>lt.filter(ct=>!st.includes(ct)))}}},[et,rt]),React.createElement("group",_extends$n({ref:it},nt),rt)}const Outline=reactExports.forwardRef(function(et,rt){let{selection:nt=[],selectionLayer:it=10,blendFunction:ot,patternTexture:at,edgeStrength:st,pulseSpeed:lt,visibleEdgeColor:ct,hiddenEdgeColor:ut,width:dt,height:ft,kernelSize:pt,blur:mt,xRay:ht,...gt}=et;const vt=useThree(Tt=>Tt.invalidate),{scene:yt,camera:bt}=reactExports.useContext(EffectComposerContext),xt=reactExports.useMemo(()=>new OutlineEffect(yt,bt,{blendFunction:ot,patternTexture:at,edgeStrength:st,pulseSpeed:lt,visibleEdgeColor:ct,hiddenEdgeColor:ut,width:dt,height:ft,kernelSize:pt,blur:mt,xRay:ht,...gt}),[ot,mt,bt,st,ft,ut,pt,at,lt,yt,ct,dt,ht]),$t=reactExports.useContext(selectionContext);return reactExports.useEffect(()=>{if(!$t&&nt)return xt.selection.set(Array.isArray(nt)?nt.map(resolveRef):[resolveRef(nt)]),vt(),()=>{xt.selection.clear(),vt()}},[xt,nt,$t]),reactExports.useEffect(()=>{xt.selectionLayer=it,vt()},[xt,it]),reactExports.useRef(),reactExports.useEffect(()=>{if($t&&$t.enabled){var Tt;if((Tt=$t.selected)!=null&&Tt.length)return xt.selection.set($t.selected),vt(),()=>{xt.selection.clear(),vt()}}},[$t]),React.createElement("primitive",{ref:rt,object:xt})});wrapEffect(ScanlineEffect,BlendFunction.OVERLAY);wrapEffect(SepiaEffect);wrapEffect(ToneMappingEffect);wrapEffect(VignetteEffect);wrapEffect(ShockWaveEffect);wrapEffect(TiltShiftEffect,BlendFunction.ADD);const isControlDirection$2=getEditorIsControlDirection(),NoteRing=({x:tt,y:et,z:rt,id:nt,groupId:it,time:ot,lineLayer:at,lineIndex:st,direction:lt,ringNoteType:ct,size:ut=1,color:dt=16711680,isMouseDownAndMoveBlock:ft,isTransparent:pt,isSelected:mt,isSelectGroup:ht,groupNoteType:gt,isCheckerror:vt=!1,selectionMode:yt,handleClick:bt,handleStartSelecting:xt,handleMouseOver:$t,handleMouseDown:Tt=()=>{},handleMouseUp:wt=()=>{},handleMouseLeave:At=()=>{},handleMouseEnter:Rt=()=>{}})=>{const It=[tt,et,rt],Lt=sr=>{sr.stopPropagation()},Pt=ROW_AND_COL_RING.find(sr=>sr.position[0]===at&&sr.position[1]===st);if(!Pt)return null;const{value:Nt,scale:Ot,Ring:Bt}=Pt,{onPointerDown:zt,onPointerOver:Vt,getMaterialParams:Ut}=useNote({id:nt,time:ot,lineLayer:at,lineIndex:st,ringNoteType:ct,groupId:it}),{emissiveColor:jt,emissiveIntensityOpactity:qt,opacity:Dt,metalness:Ft,roughness:Zt}=Ut(vt,mt,pt),Kt=sr=>{zt(sr,Tt,mt,xt,bt)},ir=sr=>{Vt(sr,yt,ft,$t)};let rr;lt!==NOTE_ARROW.CIRCLE&&isControlDirection$2&&(rr=getDirectionInfo(Nt,lt));const mr=reactExports.useMemo(()=>[GROUP_NOTE_TYPE.HAND,GROUP_NOTE_TYPE.FOOT].includes(gt)?getDirectionInfo(Nt,1):null,[gt,ht,at,st]);return jsxs(Fragment,{children:[jsx(Select,{enabled:ht,children:jsxs(reactExports.Suspense,{fallback:null,children:[jsx(Bt,{dataId:nt,onClick:Lt,position:It,scale:Ot,emissiveColor:jt,emissiveIntensityOpactity:qt,color:dt,isTransparent:pt,opacity:Dt,metalness:Ft,roughness:Zt,onPointerDown:Kt,onPointerOver:ir,onPointerUp:wt,onPointerLeave:At,onPointerEnter:Rt}),rr&&jsx(Model$5,{position:[rr.position[0],rr.position[1]+NOTE_FOOTER_TRANSFORM,rt-.4],rotationY:rr.rotationY,emissiveColor:jt,isTransparent:pt,emissiveIntensityOpactity:qt,opacity:Dt,metalness:Ft,roughness:Zt})]})}),mr&&jsxs("group",{position:[mr==null?void 0:mr.position[0],mr.position[1]+NOTE_FOOTER_TRANSFORM,rt+.23],children:[jsx(Torus,{visible:GROUP_NOTE_TYPE.HAND===gt,args:[.1,.01,2.1,100]}),jsx(Circle$2,{args:[.07,10]})]})]})},NoteRing$1=reactExports.memo(NoteRing),useNote=({id:tt,time:et,lineLayer:rt,lineIndex:nt,ringNoteType:it,groupId:ot})=>({onPointerDown:(ct,ut,dt,ft,pt)=>{ct.stopPropagation();const mt=ct.button===0?"left":ct.button===1?"middle":ct.button===2?"right":void 0;mt==="left"&&ut(ct);let ht;ct.button===0?ht=dt?"deselect":"select":ct.button===1?ht=null:ct.button,ht&&ft(ht),pt(mt,{time:et,lineLayer:rt,lineIndex:nt,ringNoteType:it,id:tt,groupId:ot})},onPointerOver:(ct,ut,dt,ft)=>{ut&&(dt||ct.stopPropagation(),ft(et,rt,nt,tt))},getMaterialParams:(ct,ut,dt)=>({emissiveColor:ct&&!ut?"#ffffff":"yellow",emissiveIntensityOpactity:ut||ct?.5:0,opacity:dt?.25:1,metalness:.5,roughness:.4})}),useNoteComponent=tt=>({getComponent:reactExports.useMemo(()=>({type:rt,ringNoteType:nt})=>{let it;if(tt)it=rt===3?MineNote:BlockNote;else{if(rt===3)return null;it=isRingNoteFooterType(nt)?isRingNoteFooterLongType(nt)?LongNote$1:ShortNote$1:NoteRing$1}return it},[tt])}),useGetCoordinateNumber=tt=>reactExports.useMemo(()=>{const rt=BOTTOMS_PLACEMENT_COLS/2;return tt>=rt?tt-rt+1:tt-rt},[tt]);var isff=typeof navigator<"u"?navigator.userAgent.toLowerCase().indexOf("firefox")>0:!1;function addEvent(tt,et,rt,nt){tt.addEventListener?tt.addEventListener(et,rt,nt):tt.attachEvent&&tt.attachEvent("on".concat(et),function(){rt(window.event)})}function getMods(tt,et){for(var rt=et.slice(0,et.length-1),nt=0;nt<rt.length;nt++)rt[nt]=tt[rt[nt].toLowerCase()];return rt}function getKeys$1(tt){typeof tt!="string"&&(tt=""),tt=tt.replace(/\s/g,"");for(var et=tt.split(","),rt=et.lastIndexOf("");rt>=0;)et[rt-1]+=",",et.splice(rt,1),rt=et.lastIndexOf("");return et}function compareArray(tt,et){for(var rt=tt.length>=et.length?tt:et,nt=tt.length>=et.length?et:tt,it=!0,ot=0;ot<rt.length;ot++)nt.indexOf(rt[ot])===-1&&(it=!1);return it}var _keyMap={backspace:8,tab:9,clear:12,enter:13,return:13,esc:27,escape:27,space:32,left:37,up:38,right:39,down:40,del:46,delete:46,ins:45,insert:45,home:36,end:35,pageup:33,pagedown:34,capslock:20,num_0:96,num_1:97,num_2:98,num_3:99,num_4:100,num_5:101,num_6:102,num_7:103,num_8:104,num_9:105,num_multiply:106,num_add:107,num_enter:108,num_subtract:109,num_decimal:110,num_divide:111,"⇪":20,",":188,".":190,"/":191,"`":192,"-":isff?173:189,"=":isff?61:187,";":isff?59:186,"'":222,"[":219,"]":221,"\\":220},_modifier={"⇧":16,shift:16,"⌥":18,alt:18,option:18,"⌃":17,ctrl:17,control:17,"⌘":91,cmd:91,command:91},modifierMap={16:"shiftKey",18:"altKey",17:"ctrlKey",91:"metaKey",shiftKey:16,ctrlKey:17,altKey:18,metaKey:91},_mods={16:!1,18:!1,17:!1,91:!1},_handlers={};for(var k$1=1;k$1<20;k$1++)_keyMap["f".concat(k$1)]=111+k$1;var _downKeys=[],winListendFocus=!1,_scope="all",elementHasBindEvent=[],code=function(et){return _keyMap[et.toLowerCase()]||_modifier[et.toLowerCase()]||et.toUpperCase().charCodeAt(0)};function setScope(tt){_scope=tt||"all"}function getScope(){return _scope||"all"}function getPressedKeyCodes(){return _downKeys.slice(0)}function filter(tt){var et=tt.target||tt.srcElement,rt=et.tagName,nt=!0;return(et.isContentEditable||(rt==="INPUT"||rt==="TEXTAREA"||rt==="SELECT")&&!et.readOnly)&&(nt=!1),nt}function isPressed(tt){return typeof tt=="string"&&(tt=code(tt)),_downKeys.indexOf(tt)!==-1}function deleteScope(tt,et){var rt,nt;tt||(tt=getScope());for(var it in _handlers)if(Object.prototype.hasOwnProperty.call(_handlers,it))for(rt=_handlers[it],nt=0;nt<rt.length;)rt[nt].scope===tt?rt.splice(nt,1):nt++;getScope()===tt&&setScope(et||"all")}function clearModifier(tt){var et=tt.keyCode||tt.which||tt.charCode,rt=_downKeys.indexOf(et);if(rt>=0&&_downKeys.splice(rt,1),tt.key&&tt.key.toLowerCase()==="meta"&&_downKeys.splice(0,_downKeys.length),(et===93||et===224)&&(et=91),et in _mods){_mods[et]=!1;for(var nt in _modifier)_modifier[nt]===et&&(hotkeys[nt]=!1)}}function unbind(tt){if(typeof tt>"u")Object.keys(_handlers).forEach(function(at){return delete _handlers[at]});else if(Array.isArray(tt))tt.forEach(function(at){at.key&&eachUnbind(at)});else if(typeof tt=="object")tt.key&&eachUnbind(tt);else if(typeof tt=="string"){for(var et=arguments.length,rt=new Array(et>1?et-1:0),nt=1;nt<et;nt++)rt[nt-1]=arguments[nt];var it=rt[0],ot=rt[1];typeof it=="function"&&(ot=it,it=""),eachUnbind({key:tt,scope:it,method:ot,splitKey:"+"})}}var eachUnbind=function(et){var rt=et.key,nt=et.scope,it=et.method,ot=et.splitKey,at=ot===void 0?"+":ot,st=getKeys$1(rt);st.forEach(function(lt){var ct=lt.split(at),ut=ct.length,dt=ct[ut-1],ft=dt==="*"?"*":code(dt);if(_handlers[ft]){nt||(nt=getScope());var pt=ut>1?getMods(_modifier,ct):[];_handlers[ft]=_handlers[ft].filter(function(mt){var ht=it?mt.method===it:!0;return!(ht&&mt.scope===nt&&compareArray(mt.mods,pt))})}})};function eventHandler(tt,et,rt,nt){if(et.element===nt){var it;if(et.scope===rt||et.scope==="all"){it=et.mods.length>0;for(var ot in _mods)Object.prototype.hasOwnProperty.call(_mods,ot)&&(!_mods[ot]&&et.mods.indexOf(+ot)>-1||_mods[ot]&&et.mods.indexOf(+ot)===-1)&&(it=!1);(et.mods.length===0&&!_mods[16]&&!_mods[18]&&!_mods[17]&&!_mods[91]||it||et.shortcut==="*")&&et.method(tt,et)===!1&&(tt.preventDefault?tt.preventDefault():tt.returnValue=!1,tt.stopPropagation&&tt.stopPropagation(),tt.cancelBubble&&(tt.cancelBubble=!0))}}}function dispatch(tt,et){var rt=_handlers["*"],nt=tt.keyCode||tt.which||tt.charCode;if(hotkeys.filter.call(this,tt)){if((nt===93||nt===224)&&(nt=91),_downKeys.indexOf(nt)===-1&&nt!==229&&_downKeys.push(nt),["ctrlKey","altKey","shiftKey","metaKey"].forEach(function(mt){var ht=modifierMap[mt];tt[mt]&&_downKeys.indexOf(ht)===-1?_downKeys.push(ht):!tt[mt]&&_downKeys.indexOf(ht)>-1?_downKeys.splice(_downKeys.indexOf(ht),1):mt==="metaKey"&&tt[mt]&&_downKeys.length===3&&(tt.ctrlKey||tt.shiftKey||tt.altKey||(_downKeys=_downKeys.slice(_downKeys.indexOf(ht))))}),nt in _mods){_mods[nt]=!0;for(var it in _modifier)_modifier[it]===nt&&(hotkeys[it]=!0);if(!rt)return}for(var ot in _mods)Object.prototype.hasOwnProperty.call(_mods,ot)&&(_mods[ot]=tt[modifierMap[ot]]);tt.getModifierState&&!(tt.altKey&&!tt.ctrlKey)&&tt.getModifierState("AltGraph")&&(_downKeys.indexOf(17)===-1&&_downKeys.push(17),_downKeys.indexOf(18)===-1&&_downKeys.push(18),_mods[17]=!0,_mods[18]=!0);var at=getScope();if(rt)for(var st=0;st<rt.length;st++)rt[st].scope===at&&(tt.type==="keydown"&&rt[st].keydown||tt.type==="keyup"&&rt[st].keyup)&&eventHandler(tt,rt[st],at,et);if(nt in _handlers){for(var lt=0;lt<_handlers[nt].length;lt++)if((tt.type==="keydown"&&_handlers[nt][lt].keydown||tt.type==="keyup"&&_handlers[nt][lt].keyup)&&_handlers[nt][lt].key){for(var ct=_handlers[nt][lt],ut=ct.splitKey,dt=ct.key.split(ut),ft=[],pt=0;pt<dt.length;pt++)ft.push(code(dt[pt]));ft.sort().join("")===_downKeys.sort().join("")&&eventHandler(tt,ct,at,et)}}}}function isElementBind(tt){return elementHasBindEvent.indexOf(tt)>-1}function hotkeys(tt,et,rt){_downKeys=[];var nt=getKeys$1(tt),it=[],ot="all",at=document,st=0,lt=!1,ct=!0,ut="+",dt=!1;for(rt===void 0&&typeof et=="function"&&(rt=et),Object.prototype.toString.call(et)==="[object Object]"&&(et.scope&&(ot=et.scope),et.element&&(at=et.element),et.keyup&&(lt=et.keyup),et.keydown!==void 0&&(ct=et.keydown),et.capture!==void 0&&(dt=et.capture),typeof et.splitKey=="string"&&(ut=et.splitKey)),typeof et=="string"&&(ot=et);st<nt.length;st++)tt=nt[st].split(ut),it=[],tt.length>1&&(it=getMods(_modifier,tt)),tt=tt[tt.length-1],tt=tt==="*"?"*":code(tt),tt in _handlers||(_handlers[tt]=[]),_handlers[tt].push({keyup:lt,keydown:ct,scope:ot,mods:it,shortcut:nt[st],method:rt,key:nt[st],splitKey:ut,element:at});typeof at<"u"&&!isElementBind(at)&&window&&(elementHasBindEvent.push(at),addEvent(at,"keydown",function(ft){dispatch(ft,at)},dt),winListendFocus||(winListendFocus=!0,addEvent(window,"focus",function(){_downKeys=[]},dt)),addEvent(at,"keyup",function(ft){dispatch(ft,at),clearModifier(ft)},dt))}function trigger(tt){var et=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"all";Object.keys(_handlers).forEach(function(rt){var nt=_handlers[rt].find(function(it){return it.scope===et&&it.shortcut===tt});nt&&nt.method&&nt.method()})}var _api={setScope,getScope,deleteScope,getPressedKeyCodes,isPressed,filter,trigger,unbind,keyMap:_keyMap,modifier:_modifier,modifierMap};for(var a$1 in _api)Object.prototype.hasOwnProperty.call(_api,a$1)&&(hotkeys[a$1]=_api[a$1]);if(typeof window<"u"){var _hotkeys=window.hotkeys;hotkeys.noConflict=function(tt){return tt&&window.hotkeys===hotkeys&&(window.hotkeys=_hotkeys),hotkeys},window.hotkeys=hotkeys}hotkeys.filter=function(){return!0};var tagFilter=function(et,rt){var nt=et.target,it=nt&&nt.tagName;return Boolean(it&&rt&&rt.includes(it))},isKeyboardEventTriggeredByInput=function(et){return tagFilter(et,["INPUT","TEXTAREA","SELECT"])};function useHotkeys(tt,et,rt,nt){rt instanceof Array&&(nt=rt,rt=void 0);var it=rt||{},ot=it.enableOnTags,at=it.filter,st=it.keyup,lt=it.keydown,ct=it.filterPreventDefault,ut=ct===void 0?!0:ct,dt=it.enabled,ft=dt===void 0?!0:dt,pt=it.enableOnContentEditable,mt=pt===void 0?!1:pt,ht=reactExports.useRef(null),gt=reactExports.useCallback(function(vt,yt){var bt,xt;return at&&!at(vt)?!ut:isKeyboardEventTriggeredByInput(vt)&&!tagFilter(vt,ot)||(bt=vt.target)!=null&&bt.isContentEditable&&!mt?!0:ht.current===null||document.activeElement===ht.current||(xt=ht.current)!=null&&xt.contains(document.activeElement)?(et(vt,yt),!0):!1},nt?[ht,ot,at].concat(nt):[ht,ot,at]);return reactExports.useEffect(function(){if(!ft){hotkeys.unbind(tt,gt);return}return st&&lt!==!0&&(rt.keydown=!1),hotkeys(tt,rt||{},gt),function(){return hotkeys.unbind(tt,gt)}},[gt,tt,ft]),ht}hotkeys.isPressed;const getSortAll=tt=>{let et=[],rt=[];return Array.isArray(tt)&&tt&&tt.forEach(nt=>{nt.eventObject.dataId&&(nt.eventObject.dataType?rt.push(nt.eventObject.dataId):et.push(nt.eventObject.dataId))}),[...et,...rt]},useDurationIsBeingRevised=()=>{const[tt,et]=reactExports.useState(!1),rt=reactExports.useRef();useHotkeys("*",st=>{st.key==="Alt"&&(st.preventDefault(),st.type==="keydown"?et(!0):st.type==="keyup"&&et(!1))},{keydown:!0,keyup:!0},[]);const nt=reactExports.useCallback(st=>{rt.current=st},[]),it=reactExports.useCallback(st=>tt?st===rt.current:!1,[tt]),ot=reactExports.useCallback((st,lt)=>{const{intersections:ct}=st,ut=getSortAll(ct);noteFeature.setMouseEnterNotesId(ut),noteFeature.setMouseEnterNote(lt),nt(lt.id)},[]),at=reactExports.useCallback(st=>{const lt=st.eventObject.dataId;noteFeature.filterMouseEnterNotesId(lt),noteFeature.mouseEnterNote=[],nt(void 0)},[]);return{getIsHover:it,setHoverId:nt,handleMouseEnter:ot,handleMouseLeave:at}},getPositionForBlock$1=(tt,et,rt)=>{const[nt,it]=getPositionForNote(rt,{lineLayer:tt._lineLayer,lineIndex:tt._lineIndex,ringNoteType:tt._ringNoteType}),at=tt._time*et*-1-NOTES_Z_OFFSET;return{x:nt,y:it,z:at}},SongNotes=()=>{const tt=useAppDispatch(),{currentGroupId:et}=useGroupNote(),rt=useAppSelector(getSelectedSong),nt=useAppSelector(getVisibleNotes),it=useAppSelector(getCursorPositionInBeats),ot=useAppSelector(getBeatDepth),at=useAppSelector(getSelectionMode),st=useAppSelector(getNotes),lt=-NOTES_Z_OFFSET+it*ot,{stopDurationNoteAction:ct}=useDuration(),{getIsHover:ut,handleMouseEnter:dt,handleMouseLeave:ft}=useDurationIsBeingRevised(),pt=useAppSelector(isMouseDownNote),mt=useAppSelector(getIsStandardNoteMode),{getComponent:ht}=useNoteComponent(mt);return reactExports.useEffect(()=>{const gt=()=>{window.requestAnimationFrame(()=>{tt(finishManagingNoteSelection())})};return window.addEventListener("mouseup",gt),()=>window.removeEventListener("mouseup",gt)},[at,finishManagingNoteSelection]),jsxs(Selection,{children:[jsx(EffectComposer,{multisampling:10,autoClear:!1,children:jsx(Outline,{visibleEdgeColor:"white",hiddenEdgeColor:"white",width:1e3,edgeStrength:5})}),nt.map(gt=>{const{x:vt,y:yt,z:bt}=getPositionForBlock$1(gt,ot,mt);let xt=roundAwayFloatingPointNonsense(lt+bt);const $t=ot*HIGHEST_PRECISION,Tt=xt-$t,wt=ht({type:gt._type,ringNoteType:gt._ringNoteType});if(!wt)return null;const At=(Ot,Bt)=>{if(globalShortCutKeyClass.isPressAlt)return;if(durationNoteFeature.creatingDurationNote){ct();return}const zt=findNoteByProperties(st,Bt);if(Ot==="middle"){tt(toggleNoteColor(Bt));return}else if(Ot==="right")return;zt.selected?tt(selectNote({...Bt,type:SELECTION_MODE.Deselect})):tt(selectNote({...Bt,type:SELECTION_MODE.Select}))},Rt=(Ot,Bt,zt,Vt)=>{if(globalShortCutKeyClass.isPressAlt)return;let Ut={time:Ot,lineLayer:Bt,lineIndex:zt,id:Vt};if(!at)return;const jt=findNoteByProperties(st,Ut),qt=jt.selected&&at===SELECTION_MODE.Select,Dt=!jt.selected&&at===SELECTION_MODE.Deselect;if(!(qt||Dt)){if(jt.selected){tt(selectNote({...Ut,type:SELECTION_MODE.Deselect}));return}tt(selectNote({...Ut,type:SELECTION_MODE.Select}))}},It=Ot=>{tt(startManagingNoteSelection(Ot))},Lt=Ot=>{const Bt={time:gt._time,lineLayer:gt._lineLayer,lineIndex:gt._lineIndex,positionZ:Ot.point.z};isRingNoteFooterType(gt._ringNoteType)&&(Bt.ringNoteType=gt._ringNoteType),globalShortCutKeyClass.isPressAlt&&tt(mouseDownNote({...Bt}))},Pt=ut(gt.id),Nt=et&&et===gt._groupId;return!gt.mouseDown&&jsx(wt,{x:vt,y:yt,z:bt,id:gt.id,time:gt._time,lineLayer:gt._lineLayer,lineIndex:gt._lineIndex,direction:gt._cutDirection,ringNoteType:gt._ringNoteType,tentative:gt._tentative&&(durationNoteFeature==null?void 0:durationNoteFeature.creatingDurationNote)||Pt,groupNoteType:gt._groupNoteType,groupId:gt._groupId,beatDepth:ot,isSelectGroup:Nt,duration:gt._duration,color:getColorForItem(gt._type,rt),isTransparent:Tt>-NOTES_Z_OFFSET*2,isSelected:gt.selected,isCheckerror:gt.checkError,selectionMode:at,handleClick:At,handleStartSelecting:It,handleMouseOver:Rt,handleMouseDown:Lt,handleMouseEnter:Ot=>dt(Ot,gt),handleMouseLeave:ft,isMouseDownAndMoveBlock:pt},gt.id)})]})},glyphs={0:{ha:742,x_min:64,x_max:677,o:"m 372 -20 q 144 67 223 -20 q 64 302 64 155 l 64 812 q 141 1053 64 965 q 372 1141 218 1141 q 601 1053 524 1141 q 677 812 677 964 l 677 302 q 597 68 677 156 q 372 -20 517 -20 m 302 308 q 372 186 302 186 q 441 308 441 186 l 441 805 q 440 831 441 821 q 438 859 440 841 q 432 887 437 876 q 420 910 427 899 q 400 928 413 922 q 372 934 388 934 q 348 931 359 934 q 331 920 338 928 q 318 906 323 912 q 310 886 313 899 q 306 867 307 873 q 303 844 304 860 q 302 824 302 829 q 302 805 302 820 l 302 308 z "},1:{ha:736,x_min:132,x_max:522,o:"m 289 0 l 289 893 l 132 828 l 132 1001 q 250 1062 185 1026 q 340 1124 315 1099 l 522 1124 l 522 0 l 289 0 z "},2:{ha:736,x_min:75,x_max:694,o:"m 75 0 l 75 164 l 342 578 q 368 618 349 589 q 397 663 388 648 q 421 705 406 677 q 444 752 437 732 q 458 797 452 772 q 464 846 464 823 q 441 925 464 899 q 393 945 422 945 q 377 943 386 945 q 318 901 337 938 q 300 789 300 863 l 300 734 l 75 734 l 75 793 q 92 931 75 869 q 146 1042 110 994 q 244 1116 183 1090 q 388 1142 306 1142 q 616 1064 538 1142 q 694 844 694 985 q 691 801 694 823 q 685 763 688 780 q 674 724 682 745 q 662 689 667 702 q 645 653 657 675 q 628 620 633 630 q 607 586 623 610 q 587 555 591 562 q 564 522 582 548 q 542 490 546 495 l 336 182 l 663 182 l 663 0 l 75 0 z "},3:{ha:731,x_min:65,x_max:684,o:"m 376 -20 q 229 4 290 -20 q 132 77 168 29 q 81 188 97 125 q 65 332 65 250 l 65 372 l 298 372 l 298 332 q 315 211 298 246 q 379 175 332 175 q 439 210 425 175 q 454 325 454 244 q 430 454 454 413 q 336 496 405 494 l 296 496 l 296 659 l 332 659 q 429 697 403 660 q 454 822 454 735 q 436 923 454 890 q 374 956 418 956 q 314 921 330 956 q 298 817 298 886 l 298 760 l 65 760 l 65 827 q 147 1060 65 978 q 373 1142 229 1142 q 602 1064 521 1142 q 684 837 684 985 q 645 674 684 741 q 545 591 606 607 q 684 331 684 541 q 667 189 684 251 q 615 78 650 126 q 519 5 579 31 q 376 -20 458 -20 z "},4:{ha:742,x_min:46,x_max:704,o:"m 221 427 l 388 427 l 388 897 l 221 427 m 388 0 l 388 258 l 46 258 l 46 433 l 337 1124 l 596 1124 l 596 427 l 704 427 l 704 258 l 596 258 l 596 0 l 388 0 z "},5:{ha:735,x_min:79,x_max:682,o:"m 373 -20 q 248 -3 300 -20 q 163 42 195 14 q 112 117 131 71 q 85 213 92 163 q 79 330 79 263 l 303 330 q 320 190 303 230 q 382 153 336 153 q 388 153 385 153 q 412 157 401 153 q 431 171 423 161 q 444 189 439 180 q 453 217 450 198 q 458 249 456 235 q 461 290 460 263 q 462 335 462 317 q 463 387 463 353 q 459 463 463 432 q 448 523 456 494 q 421 566 439 551 q 376 580 403 580 q 288 477 304 580 l 86 477 l 106 1124 l 633 1124 l 633 930 l 294 930 l 280 699 q 334 733 296 718 q 418 751 372 747 q 448 753 433 753 q 614 670 554 753 q 682 394 682 575 q 677 280 682 330 q 660 181 672 230 q 626 97 648 132 q 571 34 604 62 q 488 -7 537 7 q 373 -20 438 -20 z "},6:{ha:741,x_min:70,x_max:688,o:"m 384 155 q 421 167 407 155 q 443 205 435 178 q 453 263 450 231 q 455 345 455 294 q 455 389 455 373 q 453 427 454 404 q 449 461 452 449 q 441 488 446 474 q 428 510 435 503 q 408 522 420 517 q 382 527 397 527 q 336 512 357 527 q 306 479 315 498 l 306 299 q 384 155 306 155 m 380 -16 q 239 11 300 -16 q 142 89 179 39 q 88 206 106 140 q 70 354 70 272 l 70 755 q 78 881 70 825 q 107 986 86 936 q 163 1068 128 1036 q 252 1121 197 1101 q 380 1140 307 1140 q 515 1121 459 1140 q 604 1065 570 1103 q 652 975 637 1027 q 668 851 667 923 l 668 831 l 449 831 q 437 936 449 907 q 381 964 425 964 q 320 919 334 964 q 306 740 306 873 l 306 640 q 360 686 323 669 q 444 704 397 703 q 451 704 448 704 q 557 681 512 704 q 633 611 606 656 q 674 509 661 566 q 688 381 688 452 q 672 219 688 289 q 623 95 657 150 q 528 12 589 41 q 380 -16 467 -16 z "},7:{ha:696,x_min:90,x_max:621,o:"m 151 0 l 393 949 l 90 949 l 90 1124 l 621 1124 l 621 966 l 377 0 l 151 0 z "},8:{ha:736,x_min:60,x_max:675,o:"m 368 676 q 437 844 437 676 q 419 933 437 901 q 368 966 401 966 q 315 933 332 966 q 297 844 297 901 q 368 676 297 676 m 368 153 q 400 161 386 153 q 422 182 414 168 q 435 212 430 197 q 443 248 441 227 q 446 284 446 269 q 447 318 447 298 q 446 360 447 342 q 443 400 446 378 q 435 436 441 421 q 421 464 430 451 q 399 484 413 477 q 368 490 386 490 q 331 480 347 490 q 308 455 316 470 q 295 415 300 439 q 289 369 290 390 q 288 318 288 348 q 290 264 288 287 q 299 213 292 241 q 324 169 307 184 q 368 153 341 153 m 368 -18 q 223 8 284 -18 q 127 81 163 33 q 75 192 92 129 q 60 323 60 250 q 60 335 60 329 q 93 492 62 423 q 189 593 125 561 q 111 688 141 627 q 78 836 80 749 q 78 848 78 842 q 150 1059 78 983 q 368 1139 225 1139 q 585 1059 510 1139 q 655 848 656 983 q 655 836 655 842 q 623 688 653 749 q 546 593 593 627 q 642 491 609 560 q 675 335 674 422 q 675 317 675 326 q 662 191 675 247 q 610 81 646 129 q 513 8 574 33 q 368 -18 452 -18 z "},9:{ha:741,x_min:60,x_max:677,o:"m 369 597 q 439 644 414 597 l 439 825 q 436 879 439 857 q 427 924 434 902 q 404 957 419 945 q 366 968 389 968 q 310 925 323 968 q 296 779 296 882 q 297 728 296 745 q 299 685 297 711 q 306 647 301 659 q 318 621 310 635 q 338 602 326 608 q 369 597 351 597 m 366 -16 q 231 2 286 -16 q 142 59 175 21 q 94 149 109 97 q 79 274 79 201 l 79 292 l 298 292 q 311 189 298 218 q 368 159 323 159 q 426 203 414 159 q 439 384 439 248 l 439 484 q 386 437 422 454 q 302 420 350 421 q 296 420 299 420 q 189 445 235 420 q 113 518 141 471 q 73 625 85 566 q 60 755 60 684 q 76 915 60 846 q 129 1035 93 983 q 224 1113 164 1086 q 366 1140 283 1140 q 601 1045 526 1140 q 677 782 677 950 l 677 368 q 669 243 677 298 q 639 138 661 188 q 583 55 618 88 q 494 3 549 22 q 366 -16 439 -16 z "},F:{ha:602,x_min:83,x_max:570,o:"m 83 0 l 83 1124 l 570 1124 l 570 956 l 331 956 l 331 673 l 536 673 l 536 499 l 331 499 l 331 0 l 83 0 z "}},familyName="Oswald",ascender=1514,descender=-372,underlinePosition=-148,underlineThickness=61,boundingBox={yMin:-497,xMin:-127,yMax:1531,xMax:2690},resolution=1e3,original_font_information={format:0,copyright:"Copyright (c) 2010-13 by Vernon Adams",fontFamily:"Oswald",fontSubfamily:"Bold",uniqueID:"3.0;newt;Oswald Bold",fullName:"Oswald Bold",version:'3.0; ttfautohint (v0.95) -l 8 -r 50 -G 200 -x 0 -w "G" -W -c',postScriptName:"Oswald-Bold",trademark:"Oswald is a trademark of Vernon Adams",manufacturer:"Vernon Adams",designer:"Vernon Adams",description:"Copyright (c) 2010-13 by Vernon Adams",manufacturerURL:"code.newtypography.co.uk",designerURL:"code.newtypography.co.uk",licence:"Copyright (c) 2013, vernon adams (vernnobile@gmail.com),with Reserved Font Name Oswald. This Font Software is licensed under the SIL Open Font License, Version 1.1.",licenceURL:"http://scripts.sil.org/OFL"},cssFontWeight="bold",cssFontStyle="normal",oswaldGlyphs={glyphs,familyName,ascender,descender,underlinePosition,underlineThickness,boundingBox,resolution,original_font_information,cssFontWeight,cssFontStyle},BEAT="beat",SUB_BEAT="sub-beat",textPadding=.5,Y_MARGIN=.0075,getDepth=tt=>tt===BEAT?.2:.08,getColor=tt=>tt===SUB_BEAT?"#AAA":"#FFF",getOverextendBy=tt=>tt===BEAT?.3:0,Label=({markerIndex:tt,beatNum:et,step:rt,offset:nt,type:it,onPointerEnter:ot,onPointerUp:at=()=>{}})=>{const st=GRID_COL_WIDTH*(DEF_NUMBER_ROWS*-.5)+Y_MARGIN,lt=getDepth(it),ct=getColor(it),ut=getOverextendBy(it),dt=String(et),ft=SURFACE_TERRACE_WIDTH+ut,pt=ut/2,mt=[-Math.PI/2,0,0];return jsxs(Fragment,{children:[jsxs("mesh",{rotation:mt,position:[pt,st,nt],children:[jsx("planeGeometry",{attach:"geometry",args:[ft,lt]}),jsx("meshStandardMaterial",{attach:"material",color:ct})]}),jsxs("mesh",{rotation:mt,position:[pt,st,nt],onPointerUp:at,onPointerEnter:()=>{ot==null||ot(tt)},children:[jsx("planeGeometry",{attach:"geometry",args:[ft,rt]}),jsx("meshBasicMaterial",{attach:"material",color:16777215,transparent:!0,opacity:0})]}),isNumber$9(et)&&jsx(reactExports.Suspense,{fallback:null,children:jsx(Text3D,{position:[SURFACE_TERRACE_WIDTH/2+textPadding,st,nt],color:"#AAA",height:.025,size:.4,letterSpacing:-.06,curveSegments:2,font:oswaldGlyphs,children:dt})})]})},Label$1=reactExports.memo(Label),FUDGE_FACTOR=.1,BeatsBars=()=>{const{resizeLongNoteOrObstacleAction:tt,stopDurationNoteAction:et}=useDuration(),rt=useAppSelector(getSelectedSong),nt=useAppSelector(getDuration),it=useAppSelector(getCursorPositionInBeats),ot=useAppSelector(getBeatDepth),at=useAppSelector(getGraphicsLevel),st=rt?rt.bpm:null,ct=DEPTHS[at]/ot,ut=ot/4,dt=reactExports.useMemo(()=>getTotalNumOfBeats(nt,st),[nt,st]),pt=reactExports.useMemo(()=>range$1(dt*4),[dt]).filter(gt=>{const vt=gt/4;return vt>=it-FUDGE_FACTOR&&vt<it+ct+FUDGE_FACTOR}),mt=gt=>{if(!durationNoteFeature.creatingDurationNote)return;const vt=gt/4;tt(vt)},ht=()=>{durationNoteFeature.creatingDurationNote&&et()};return pt.map(gt=>{const vt=gt%4===0,yt=vt?BEAT:SUB_BEAT,bt=-NOTES_Z_OFFSET+-gt*ut,xt=vt&&gt/4;return jsx(Label$1,{markerIndex:gt,beatNum:xt,step:ut,offset:bt,type:yt,onPointerEnter:mt,onPointerUp:ht},gt)})},getPositionForObstacle=(tt,et,rt,nt)=>{let it={x:0,y:0,z:0};const ot=GRID_COL_WIDTH*1.5*-1;if(it.x=tt.lane*GRID_COL_WIDTH+ot,it.x+=tt.colspan*(GRID_COL_WIDTH/2)-GRID_COL_WIDTH/2,tt.type===NOTE_OBSTACLE.EXTENSION){let st=tt;const lt=GRID_COL_WIDTH*-1;it.y=st.rowIndex*GRID_COL_WIDTH+lt,it.y+=et.height/2-GRID_COL_WIDTH/2}else if(tt.type===NOTE_OBSTACLE.WALL||tt.type===NOTE_OBSTACLE.CEILING){const st=GRID_COL_WIDTH*1.75;it.y=st-et.height/2}const at=tt.beatStart*rt*-1-NOTES_Z_OFFSET;return it.z=at-et.depth/2+.05,[it.x,it.y+nt,it.z]},getObstacleSize=(tt,et)=>{let rt,nt=tt.colspan*GRID_COL_WIDTH,it=EDITOR_DURATION.MIN_OBSTACLE*et;return tt.type===NOTE_OBSTACLE.EXTENSION?rt=tt.rowspan*GRID_COL_WIDTH:rt=tt.type===NOTE_OBSTACLE.WALL?GRID_COL_WIDTH*3.25:GRID_COL_WIDTH*1.25,it<=0&&(it=.01),{width:nt,height:rt,depth:it}},RESIZE_THRESHOLD=30,Obs=({obs:tt,color:et,beatDepth:rt,snapTo:nt,handleDelete:it,handleResize:ot,handleClick:at,handleMouseOver:st,offsetY:lt,isHover:ct,...ut})=>{const dt=getObstacleSize(tt,rt),ft=reactExports.useMemo(()=>{const gt=new BoxGeometry(dt.width,dt.height,dt.depth),vt=new MeshStandardMaterial({color:et,transparent:!0,opacity:tt.tentative||ct?.15:.4,polygonOffset:!0,polygonOffsetFactor:1,polygonOffsetUnits:1,side:DoubleSide,emissive:"yellow",emissiveIntensity:tt.selected?.5:0});return new Mesh(gt,vt)},[et,dt.depth,dt.height,tt.tentative,dt.width,tt.selected,ct]),pt=getPositionForObstacle(tt,dt,rt,lt),[mt,ht]=reactExports.useState(!1);return useThrottleFn(gt=>{const vt=getResizeDuration(gt.deltaY,nt,tt.beatDuration,EDITOR_DURATION.MIN_OBSTACLE);vt!==null&&ot(tt.id,vt)},{wait:100}),reactExports.useEffect(()=>{const gt=()=>{mt&&ht(null)};return window.addEventListener("pointerup",gt),()=>{window.removeEventListener("pointerup",gt)}},[mt,ot]),jsx(Fragment,{children:jsx("primitive",{dataId:tt.id,dataType:"obstacle",object:ft,position:pt,onPointerUp:gt=>{!isNumber$9(mt)||Math.abs(gt.pageX-mt)>RESIZE_THRESHOLD||(gt.stopPropagation(),at(tt.id))},onPointerDown:gt=>{gt.stopPropagation(),gt.buttons===2?it(tt.id):gt.button===1?ut==null||ut.handleToggleColor(tt.id):ht(gt.pageX)},onPointerOver:st,...ut})})},SongObs=({isStandardNoteMode:tt})=>{const et=useAppSelector(getSelectedSong),rt=useAppSelector(getBeatDepth),nt=useAppSelector(getSnapTo),it=useAppSelector(getSelectionMode),ot=useAppSelector(getVisibleObstacles),at=useAppDispatch(),{getIsHover:st,handleMouseEnter:lt,handleMouseLeave:ct}=useDurationIsBeingRevised(),ut=pt=>{},dt=(pt,mt)=>{at(resizeObstacle({id:pt,newBeatDuration:mt}))},ft=pt=>{if(durationNoteFeature.creatingDurationNote){at(stopCreatedObstacles());return}pt.selected?at(deselectObstacle(pt.id)):at(selectObstacle(pt.id))};return ot.map(pt=>{const mt=pt.style?NOTE_TOOLS.OBSTACLE_2:NOTE_TOOLS.OBSTACLE_1,ht=getColorForItem(mt,et);return jsx(Obs,{obs:pt,isHover:!1,color:ht,beatDepth:rt,snapTo:nt,offsetY:getOffsetY(tt),handleDelete:ut,handleResize:dt,handleClick:()=>ft(pt),handleToggleColor:gt=>at(toggleObstacleColor(gt)),handleMouseOver:()=>{it===SELECTION_MODE.Select&&!pt.selected?!globalShortCutKeyClass.isPressAlt&&at(selectObstacle(pt.id)):it===SELECTION_MODE.Deselect&&pt.selected&&!globalShortCutKeyClass.isPressAlt&&at(deselectObstacle(pt.id))},onPointerEnter:gt=>lt(gt,pt),onPointerOut:ct},pt.id)})},SongObs$1=reactExports.memo(SongObs),getDirectionForNormal=tt=>{let nt;switch(tt>=337.5||tt<22.5?nt=0:nt=Math.floor((tt+22.5)/45),nt){case 0:return 3;case 1:return 7;case 2:return 1;case 3:return 6;case 4:return 2;case 5:return 4;case 6:return 0;case 7:return 5;default:throw new Error("Unrecognized chunk document.tsx: "+nt)}},getDirectionForMappingExtensionsMode=tt=>(tt+270)%360+1e3,getDirectionForMove=(tt,et,rt,nt)=>{const ot=et.x-tt.x,at=et.y-tt.y;if(Math.sqrt(ot**2+at**2)<25)return null;const[lt]=convertCartesianToPolar(et,tt),ct=lt*180/Math.PI;return rt===MAPPING_EXTENSIONS&&nt?getDirectionForMappingExtensionsMode(ct):getDirectionForNormal(ct)},TentativeObs=({mouseDownAt:tt,color:et,mode:rt,isStandardNoteMode:nt,...it})=>{const ot=useAppSelector(getBeatDepth),at=useAppSelector(getDefaultObstacleDuration),{numRows:st,numCols:lt,colWidth:ct,rowHeight:ut}=useAppSelector(getGridSize);let{mouseOverAt:dt}=it;dt||(dt=tt);const ft=createObstacleFromMouseEvent(rt,lt,st,ct,ut,tt,dt,at);return ft.id="tentative",ft.tentative=!0,ft.beatStart=0,jsx(Obs,{obs:ft,beatDepth:ot,offsetY:getOffsetY(nt),color:et,snapTo:1,gridRows:st,gridCols:lt,handleDelete:()=>{},handleResize:()=>{},handleClick:()=>{}})},GridBorder=({width:tt,height:et,visible:rt=!1,color:nt="#fff",isShow:it,...ot})=>it?jsxs("mesh",{...ot,children:[jsx("planeGeometry",{attach:"geometry",args:[tt,et]}),jsx("meshStandardMaterial",{attach:"material",color:nt,visible:rt})]}):null,GridBorder$1=React.memo(GridBorder),CELL_PADDING=.05,PanelCell=({rowIndex:tt,colIndex:et,numRows:rt,numCols:nt,renderRowHeight:it,renderColWidth:ot,offsetY:at=0,isHovered:st,isOffsetY:lt=!1,gridPosition:ct,cellPadding:ut=CELL_PADDING,...dt})=>{const ft=(nt*-.5+.5+et)*ot,pt=-GRID_COL_WIDTH,mt=(lt?0:tt)*it+pt,ht=ct[0]+(nt*-.5+1+et)*ot,gt=ct[1]+(tt-.5)*it+pt;return jsxs(Fragment,{children:[jsxs("mesh",{position:[ct[0]+ft,ct[1]+mt+at,ct[2]],...dt,children:[jsx("planeGeometry",{attach:"geometry",args:[ot-ut,it-ut,1,1]}),jsx("meshBasicMaterial",{attach:"material",color:16777215,transparent:!0,opacity:st?.3:.24,side:DoubleSide})]},`${tt}-${et}`),jsx(GridBorder$1,{position:[ht,ct[1]+mt+at,ct[2]],width:ut,height:it,visible:!1,isShow:nt-1!==et,onPointerEnter:vt=>{vt.stopPropagation()}}),jsx(GridBorder$1,{position:[ct[0]+ft,gt+at,ct[2]],width:ot,height:ut,visible:!1,isShow:lt?!1:!!tt,onPointerEnter:vt=>{vt.stopPropagation()}})]})},PanelCell$1=reactExports.memo(PanelCell),noop$6=()=>{},getPositionForBlock=(tt,et,rt,nt)=>{const[it,ot]=getPositionForNote(rt,{lineIndex:tt,lineLayer:et,ringNoteType:nt}),at=-NOTES_Z_OFFSET;return{x:it,y:ot,z:at}},TentativeNote=({type:tt,direction:et,rowIndex:rt,colIndex:nt,color:it,mouseOverAt:ot,mouseDownNote:at,ringNoteType:st,duration:lt})=>{var Tt;const ct=useAppDispatch(),ut=useAppSelector(isMouseDownNote),dt=useAppSelector(getBeatDepth),ft=useAppSelector(getIsStandardNoteMode),pt=at&&ot?ot.rowIndex:rt,mt=at&&ot?ot.colIndex:nt,{getComponent:ht}=useNoteComponent(ft),gt=ht({type:tt,ringNoteType:st});if(!gt)return null;const{x:vt,y:yt,z:bt}=getPositionForBlock(mt,pt,ft,st),xt=((Tt=at==null?void 0:at.mouseDown)==null?void 0:Tt._positionZ)??bt,$t=()=>{if(!at)return;const wt={time:at._time,formLineLayer:at._lineLayer,fromLineIndex:at._lineIndex,toLineLayer:pt,toLineIndex:mt};ct(mouseUpNote({...wt}))};return React.useEffect(()=>{if(!at)return;const wt=()=>{$t()};return window.addEventListener("mouseup",wt),()=>{window.removeEventListener("mouseup",wt)}},[at,ot]),reactExports.useEffect(()=>{globalShortCutKeyClass.isPressAlt||$t()},[globalShortCutKeyClass.isPressAlt]),jsx(gt,{x:vt,y:yt,z:xt,time:at==null?void 0:at._time,lineLayer:pt,lineIndex:mt,direction:et,beatDepth:dt,color:it,duration:lt,isTransparent:!1,isSelected:!1,selectionMode:null,handleClick:noop$6,handleStartSelecting:noop$6,handleMouseOver:noop$6,handleMouseUp:$t,isMouseDownAndMoveBlock:ut})},url$7="data:model/gltf-binary;base64,Z2xURgIAAAAsBgAAoAQAAEpTT057ImFzc2V0Ijp7ImdlbmVyYXRvciI6Iktocm9ub3MgZ2xURiBCbGVuZGVyIEkvTyB2MS42LjE2IiwidmVyc2lvbiI6IjIuMCJ9LCJzY2VuZSI6MCwic2NlbmVzIjpbeyJuYW1lIjoiU2NlbmUiLCJub2RlcyI6WzBdfV0sIm5vZGVzIjpbeyJtZXNoIjowLCJuYW1lIjoicmluZzAxIiwicm90YXRpb24iOlswLjcwNzEwNjgyODY4OTU3NTIsMCwwLDAuNzA3MTA2NzA5NDgwMjg1Nl0sInNjYWxlIjpbMC4wMDk5OTk5OTk3NzY0ODI1ODIsMC4wMDk5OTk5OTk3NzY0ODI1ODIsMC4wMDk5OTk5OTk3NzY0ODI1ODJdfV0sIm1hdGVyaWFscyI6W3siZG91YmxlU2lkZWQiOnRydWUsIm5hbWUiOiJsYW1iZXJ0OSIsInBick1ldGFsbGljUm91Z2huZXNzIjp7ImJhc2VDb2xvckZhY3RvciI6WzAuNSwwLjUsMC41LDFdLCJtZXRhbGxpY0ZhY3RvciI6MCwicm91Z2huZXNzRmFjdG9yIjowLjU1Mjc4NjQwOTg1NDg4ODl9fV0sIm1lc2hlcyI6W3sibmFtZSI6Ilx1N2Y1MVx1NjgzYyIsInByaW1pdGl2ZXMiOlt7ImF0dHJpYnV0ZXMiOnsiUE9TSVRJT04iOjAsIk5PUk1BTCI6MSwiVEVYQ09PUkRfMCI6Mn0sImluZGljZXMiOjMsIm1hdGVyaWFsIjowfV19XSwiYWNjZXNzb3JzIjpbeyJidWZmZXJWaWV3IjowLCJjb21wb25lbnRUeXBlIjo1MTI2LCJjb3VudCI6MTAsIm1heCI6Wy05My4xNTk0NDY3MTYzMDg2LDAsLTQ3LjIxMDc5NjM1NjIwMTE3XSwibWluIjpbLTIwMy43NTY0Njk3MjY1NjI1LDAsLTEzNC42ODYxMjY3MDg5ODQzOF0sInR5cGUiOiJWRUMzIn0seyJidWZmZXJWaWV3IjoxLCJjb21wb25lbnRUeXBlIjo1MTI2LCJjb3VudCI6MTAsInR5cGUiOiJWRUMzIn0seyJidWZmZXJWaWV3IjoyLCJjb21wb25lbnRUeXBlIjo1MTI2LCJjb3VudCI6MTAsInR5cGUiOiJWRUMyIn0seyJidWZmZXJWaWV3IjozLCJjb21wb25lbnRUeXBlIjo1MTIzLCJjb3VudCI6MjQsInR5cGUiOiJTQ0FMQVIifV0sImJ1ZmZlclZpZXdzIjpbeyJidWZmZXIiOjAsImJ5dGVMZW5ndGgiOjEyMCwiYnl0ZU9mZnNldCI6MH0seyJidWZmZXIiOjAsImJ5dGVMZW5ndGgiOjEyMCwiYnl0ZU9mZnNldCI6MTIwfSx7ImJ1ZmZlciI6MCwiYnl0ZUxlbmd0aCI6ODAsImJ5dGVPZmZzZXQiOjI0MH0seyJidWZmZXIiOjAsImJ5dGVMZW5ndGgiOjQ4LCJieXRlT2Zmc2V0IjozMjB9XSwiYnVmZmVycyI6W3siYnl0ZUxlbmd0aCI6MzY4fV19IHABAABCSU4AVDUYwwAAAADsde7C3OIuwwAAAADE2cjCQDhCwwAAAAAsxpzCKyXmwgAAAAARLKnCaD4EwwAAAADPEY3Clk8SwwAAAABxSlrCqMFLwwAAAADYTX3C6UAXwwAAAADb1zzCKEr+wgAAAACmrwbDo1G6wgAAAABWKcPCAAAAAP//fz8AAACAAAAAAAAAgD8AAACAAAAAAAAAgD8AAACAAAAAAAAAgD8AAACAAAAAAAAAgD8AAACAAAAAAAAAgD8AAACAAAAAAAAAgD8AAACAAAAAAAAAgD8AAACAAAAAAAAAgD8AAACAAAAAAAAAgD8AAACAPc3DPtBTRz2AkLk+KJqAPZgQsT4QQ6I9t1HIPjDQgT3HNr8+QI2bPYDLtz6o7rg9xuqtPsBMtD08NrY+AAHCPSzb0D4QthQ9Jx3WPmB7UD0AAAEABAAAAAQAAwABAAIABQABAAUABAACAAYABwACAAcABQADAAkACAADAAgAAAA=";function Model$4({gridPosition:tt,scale:et,color:rt,opacity:nt,side:it,...ot}){const at=reactExports.useRef(),{nodes:st,materials:lt}=useGLTF(url$7);return jsx("group",{ref:at,position:[tt[0],tt[1],tt[2]],...ot,dispose:null,children:jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:st.ring01.geometry,material:lt["lambert1.001"],rotation:[Math.PI/2,0,0],scale:et,children:jsx("meshStandardMaterial",{color:rt,transparent:!0,opacity:nt,side:it})})})}useGLTF.preload(url$7);const url$6="data:model/gltf-binary;base64,Z2xURgIAAACcCQAAKAQAAEpTT057ImFzc2V0Ijp7ImdlbmVyYXRvciI6Iktocm9ub3MgZ2xURiBCbGVuZGVyIEkvTyB2MS42LjE2IiwidmVyc2lvbiI6IjIuMCJ9LCJzY2VuZSI6MCwic2NlbmVzIjpbeyJuYW1lIjoiU2NlbmUiLCJub2RlcyI6WzBdfV0sIm5vZGVzIjpbeyJtZXNoIjowLCJuYW1lIjoicmluZzAyIiwicm90YXRpb24iOlswLjcwNzEwNjgyODY4OTU3NTIsMCwwLDAuNzA3MTA2NzA5NDgwMjg1Nl0sInNjYWxlIjpbMC4wMDk5OTk5OTk3NzY0ODI1ODIsMC4wMDk5OTk5OTk3NzY0ODI1ODIsMC4wMDk5OTk5OTk3NzY0ODI1ODJdfV0sIm1hdGVyaWFscyI6W3siZG91YmxlU2lkZWQiOnRydWUsIm5hbWUiOiJsYW1iZXJ0MTIiLCJwYnJNZXRhbGxpY1JvdWdobmVzcyI6eyJiYXNlQ29sb3JGYWN0b3IiOlswLjUsMC41LDAuNSwxXSwibWV0YWxsaWNGYWN0b3IiOjAsInJvdWdobmVzc0ZhY3RvciI6MC41NTI3ODY0MDk4NTQ4ODg5fX1dLCJtZXNoZXMiOlt7Im5hbWUiOiJcdTdmNTFcdTY4M2MiLCJwcmltaXRpdmVzIjpbeyJhdHRyaWJ1dGVzIjp7IlBPU0lUSU9OIjowLCJOT1JNQUwiOjF9LCJpbmRpY2VzIjoyLCJtYXRlcmlhbCI6MH1dfV0sImFjY2Vzc29ycyI6W3siYnVmZmVyVmlldyI6MCwiY29tcG9uZW50VHlwZSI6NTEyNiwiY291bnQiOjUwLCJtYXgiOlstMi4yMzA3MjkxMDMwODgzNzksMCwtOTkuMzkzNjUzODY5NjI4OV0sIm1pbiI6Wy0xMjIuNTQ4NzY3MDg5ODQzNzUsMCwtMTY0LjU4MzEyOTg4MjgxMjVdLCJ0eXBlIjoiVkVDMyJ9LHsiYnVmZmVyVmlldyI6MSwiY29tcG9uZW50VHlwZSI6NTEyNiwiY291bnQiOjUwLCJ0eXBlIjoiVkVDMyJ9LHsiYnVmZmVyVmlldyI6MiwiY29tcG9uZW50VHlwZSI6NTEyMywiY291bnQiOjg0LCJ0eXBlIjoiU0NBTEFSIn1dLCJidWZmZXJWaWV3cyI6W3siYnVmZmVyIjowLCJieXRlTGVuZ3RoIjo2MDAsImJ5dGVPZmZzZXQiOjB9LHsiYnVmZmVyIjowLCJieXRlTGVuZ3RoIjo2MDAsImJ5dGVPZmZzZXQiOjYwMH0seyJidWZmZXIiOjAsImJ5dGVMZW5ndGgiOjE2OCwiYnl0ZU9mZnNldCI6MTIwMH1dLCJidWZmZXJzIjpbeyJieXRlTGVuZ3RoIjoxMzY4fV19IFgFAABCSU4AdJsKwgAAAAAwuyLDdJsKwgAAAAAwuyLDdJsKwgAAAAAwuyLDoOaIwgAAAAAYshzDoOaIwgAAAAAYshzDoOaIwgAAAAAYshzDiCDJwgAAAABMzRLDiCDJwgAAAABMzRLDiCDJwgAAAABMzRLDpprUwQAAAAAmTurCpprUwQAAAAAmTurCpprUwQAAAAAmTurCzLhRwgAAAABAEuHCzLhRwgAAAABAEuHCzLhRwgAAAABAEuHCfLuZwgAAAAC0A9LCfLuZwgAAAAC0A9LCfLuZwgAAAAC0A9LCXAhBwAAAAABIlSTDXAhBwAAAAABIlSTDXAhBwAAAAABIlSTDRMQOwAAAAADOJ+3CRMQOwAAAAADOJ+3CRMQOwAAAAADOJ+3C+Bj1wgAAAADyxwjD+Bj1wgAAAADyxwjD+Bj1wgAAAADyxwjDKl2ywgAAAACNycbCKl2ywgAAAACNycbCKl2ywgAAAACNycbCdJsKwgAAAAAwuyLDdJsKwgAAAAAwuyLDoOaIwgAAAAAYshzDoOaIwgAAAAAYshzDzLhRwgAAAABAEuHCzLhRwgAAAABAEuHCpprUwQAAAAAmTurCpprUwQAAAAAmTurCiCDJwgAAAABMzRLDiCDJwgAAAABMzRLDfLuZwgAAAAC0A9LCfLuZwgAAAAC0A9LC+Bj1wgAAAADyxwjD+Bj1wgAAAADyxwjDKl2ywgAAAACNycbCKl2ywgAAAACNycbCXAhBwAAAAABIlSTDXAhBwAAAAABIlSTDRMQOwAAAAADOJ+3CRMQOwAAAAADOJ+3CAAAAAC69O7MAAACAAAAAAAAAgD8AAACA+TVtPS69O7MDkn8/AAAAAC69O7MAAACAAAAAAAAAgD8AAACA1tM3Pi69O7NY13s/AAAAAC69O7MAAACAAAAAAAAAgD8AAACAiJqTPi69O7OVIXU/E8Eyvi69O7O+EXy/AAAAAC69O7MAAACAAAAAAAAAgD8AAACAMvuRvi69O7O7X3W/AAAAAC69O7MAAACAAAAAAAAAgD8AAACArLfWvi69O7OXZmi/AAAAAC69O7MAAACAAAAAAAAAgD8AAACACfd/vy69O7PHg4c8AAAAAC69O7MAAACAAAAAAAAAgD8AAACA6vhuvS69O7NfkH+/AAAAAC69O7MAAACAAAAAAAAAgD8AAACAAAAAAC69O7MAAACAAAAAAAAAgD8AAACA5PjTPi69O7OpB2k/AAAAAC69O7MAAACAAAAAAAAAgD8AAACAMSk/Py69O7NZRiq/AAAAAC69O7MAAACAZMc3Pi69O7Pp13s/AAAAAC69O7MAAACAh5STPi69O7N9InU/IMEyvi69O7O+EXy/AAAAAC69O7MAAACAAvluvS69O7NfkH+/AAAAAC69O7MAAACAAAAAAC69O7MAAACAov7TPi69O7NaBmk/OgGSvi69O7PVXnW/AAAAAC69O7MAAACAAAAAAC69O7MAAACAGSc/Py69O7OzSCq/GMPWvi69O7PzY2i/AAAAAC69O7MAAACAAAAAAC69O7MAAACA5gNtPS69O7Mxkn8/+/Z/vy69O7Ny6Ic8AAAAAC69O7MAAACAAQAEAA4AAQAOAAsABAAHABEABAARAA4ABwAZABwABwAcABEAFwAUAAEAFwABAAsAAAAfACAAAAAgAAUADQAiACUADQAlAAkAAwAhACYAAwAmAAgAEAAoACMAEAAjAAwABgAnACoABgAqABoAGAArAC0AGAAtAB0AGwAsACkAGwApAA8AFgAwAC4AFgAuABIAEwAvAB4AEwAeAAIACgAkADEACgAxABUA";function Model$3({gridPosition:tt,scale:et,color:rt,opacity:nt,side:it,...ot}){const at=reactExports.useRef(),{nodes:st,materials:lt}=useGLTF(url$6);return jsx("group",{ref:at,position:[tt[0],tt[1],tt[2]],...ot,dispose:null,children:jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:st.ring02.geometry,material:lt["lambert1.001"],rotation:[Math.PI/2,0,0],scale:et,children:jsx("meshStandardMaterial",{color:rt,transparent:!0,opacity:nt,side:it})})})}useGLTF.preload(url$6);const url$5="data:model/gltf-binary;base64,Z2xURgIAAADIBgAApAQAAEpTT057ImFzc2V0Ijp7ImdlbmVyYXRvciI6Iktocm9ub3MgZ2xURiBCbGVuZGVyIEkvTyB2MS42LjE2IiwidmVyc2lvbiI6IjIuMCJ9LCJzY2VuZSI6MCwic2NlbmVzIjpbeyJuYW1lIjoiU2NlbmUiLCJub2RlcyI6WzBdfV0sIm5vZGVzIjpbeyJtZXNoIjowLCJuYW1lIjoicmluZzEwIiwicm90YXRpb24iOlswLjcwNzEwNjgyODY4OTU3NTIsMCwwLDAuNzA3MTA2NzA5NDgwMjg1Nl0sInNjYWxlIjpbMC4wMDk5OTk5OTk3NzY0ODI1ODIsMC4wMDk5OTk5OTk3NzY0ODI1ODIsMC4wMDk5OTk5OTk3NzY0ODI1ODJdfV0sIm1hdGVyaWFscyI6W3siZG91YmxlU2lkZWQiOnRydWUsIm5hbWUiOiJsYW1iZXJ0MTMiLCJwYnJNZXRhbGxpY1JvdWdobmVzcyI6eyJiYXNlQ29sb3JGYWN0b3IiOlswLjUsMC41LDAuNSwxXSwibWV0YWxsaWNGYWN0b3IiOjAsInJvdWdobmVzc0ZhY3RvciI6MC41NTI3ODY0MDk4NTQ4ODg5fX1dLCJtZXNoZXMiOlt7Im5hbWUiOiJcdTdmNTFcdTY4M2MiLCJwcmltaXRpdmVzIjpbeyJhdHRyaWJ1dGVzIjp7IlBPU0lUSU9OIjowLCJOT1JNQUwiOjEsIlRFWENPT1JEXzAiOjJ9LCJpbmRpY2VzIjozLCJtYXRlcmlhbCI6MH1dfV0sImFjY2Vzc29ycyI6W3siYnVmZmVyVmlldyI6MCwiY29tcG9uZW50VHlwZSI6NTEyNiwiY291bnQiOjE0LCJtYXgiOlstMTUyLjc3OTUyNTc1NjgzNTk0LDAsNjAuMDQ0NjQ3MjE2Nzk2ODc1XSwibWluIjpbLTIyMS41MTAxOTI4NzEwOTM3NSwwLC01OS44NTMyMjU3MDgwMDc4MV0sInR5cGUiOiJWRUMzIn0seyJidWZmZXJWaWV3IjoxLCJjb21wb25lbnRUeXBlIjo1MTI2LCJjb3VudCI6MTQsInR5cGUiOiJWRUMzIn0seyJidWZmZXJWaWV3IjoyLCJjb21wb25lbnRUeXBlIjo1MTI2LCJjb3VudCI6MTQsInR5cGUiOiJWRUMyIn0seyJidWZmZXJWaWV3IjozLCJjb21wb25lbnRUeXBlIjo1MTIzLCJjb3VudCI6MzYsInR5cGUiOiJTQ0FMQVIifV0sImJ1ZmZlclZpZXdzIjpbeyJidWZmZXIiOjAsImJ5dGVMZW5ndGgiOjE2OCwiYnl0ZU9mZnNldCI6MH0seyJidWZmZXIiOjAsImJ5dGVMZW5ndGgiOjE2OCwiYnl0ZU9mZnNldCI6MTY4fSx7ImJ1ZmZlciI6MCwiYnl0ZUxlbmd0aCI6MTEyLCJieXRlT2Zmc2V0IjozMzZ9LHsiYnVmZmVyIjowLCJieXRlTGVuZ3RoIjo3MiwiYnl0ZU9mZnNldCI6NDQ4fV0sImJ1ZmZlcnMiOlt7ImJ5dGVMZW5ndGgiOjUyMH1dfSAIAgAAQklOADirUsMAAAAAiKdLwnjIWsMAAAAAZDHOwZyCXcMAAAAAAIDht3jIWsMAAAAASDHOQTirUsMAAAAAeKdLQj3+HcMAAAAASG8MwpyeI8MAAAAALGqNwXB9JcMAAAAAbCe6t5yeI8MAAAAAFWqNQT3+HcMAAAAAPW8MQsCwTcMAAAAAtGlvwgccGcMAAAAAUIMvwnSVTcMAAAAAuC1wQo/HGMMAAAAA8eExQgAAAAAAAIA/AAAAgAAAAAAAAIA/AAAAgAAAAAD//38/AAAAgAAAAAAAAIA/AAAAgAAAAAAAAIA/AAAAgAAAAAAAAIA/AAAAgAAAAAD//38/AAAAgAAAAAD//38/AAAAgAAAAAD//38/AAAAgAAAAAAAAIA/AAAAgAAAAAAAAIA/AAAAgAAAAAAAAIA/AAAAgAAAAAD//38/AAAAgAAAAAD//38/AAAAgAGDqj5o0Mc9GxGmPoBV8D3h1qM+cGkNPl/ioz5cHiM+SzOmPrTAOD6bMLI+QA3ZPc90rj5AFvs9EZusPpQxDz6epKw+RDohPqeWrj5IZjM+3vasPnjCuT21GrU+wFnIPajupz6wykA+T72wPkhiPT4AAAEABgAAAAYABQABAAIABwABAAcABgACAAMACAACAAgABwADAAQACQADAAkACAAEAAwADQAEAA0ACQALAAoAAAALAAAABQA=";function Model$2({gridPosition:tt,scale:et,color:rt,opacity:nt,side:it,...ot}){const at=reactExports.useRef(),{nodes:st,materials:lt}=useGLTF(url$5);return jsx("group",{ref:at,position:[tt[0],tt[1],tt[2]],...ot,dispose:null,children:jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:st.ring10.geometry,material:lt["lambert1.001"],rotation:[Math.PI/2,0,0],scale:et,children:jsx("meshStandardMaterial",{color:rt,transparent:!0,opacity:nt,side:it})})})}useGLTF.preload(url$5);const color=16777215,RINGS=[{value:1,Ring:Model$4,scale:SCALE},{value:2,Ring:Model$3,scale:SCALE},{value:3,Ring:Model$3,scale:SCALE_ARR_1},{value:4,Ring:Model$4,scale:SCALE_ARR_1},{value:5,Ring:Model$2,scale:SCALE_ARR_1},{value:6,Ring:Model$4,scale:SCALE_ARR_2},{value:7,Ring:Model$3,scale:SCALE_ARR_2},{value:8,Ring:Model$3,scale:SCALE_ARR_3},{value:9,Ring:Model$4,scale:SCALE_ARR_3},{value:10,Ring:Model$2,scale:SCALE}],BOTTOMS_ROWS=4,BOTTOMS_COLS=BOTTOMS_PLACEMENT_COLS,ROW_HEIGHT=1,COL_WIDTH=1,bottomRenderRowHeight=ROW_HEIGHT*GRID_COL_WIDTH/2,bottomRenderColWidth=COL_WIDTH*FOOTER_CELL_WIDTH,GridPanelForEdit=({gridPosition:tt,isStandardNoteMode:et,ringPosition:rt})=>{const nt=useAppDispatch(),{enqueueSnackbar:it}=useNotice(),{resizeLongNoteOrObstacleAction:ot,stopDurationNoteAction:at}=useDuration(),st=useAppSelector(getSelectedSong),{numRows:lt,numCols:ct,colWidth:ut,rowHeight:dt}=useAppSelector(getGridSize),ft=useAppSelector(getMappingMode),pt=useAppSelector(getDefaultObstacleDuration),mt=useAppSelector(getSelectionMode),ht=useAppSelector(getSelectedNoteTool),gt=ut*GRID_COL_WIDTH,vt=dt*GRID_COL_WIDTH,[yt,bt]=React.useState(null),[xt,$t]=React.useState(null),Tt=fr=>ROW_AND_COL_RING_CELL[fr],wt=isSelectedToolObstacleType(ht),At=React.useRef(null),It=useAppSelector(getMouseDownNotes)[0];let Lt;It?Lt={direction:It==null?void 0:It._cutDirection,rowIndex:It==null?void 0:It._lineLayer,colIndex:It==null?void 0:It._lineIndex,selectedTool:It==null?void 0:It._type,ringNoteType:It==null?void 0:It._ringNoteType,duration:It==null?void 0:It._duration}:Lt=null;const[Pt,Nt]=React.useState(null),[Ot,Bt]=React.useState();React.useEffect(()=>{Bt(Lt),It&&$t({rowIndex:It==null?void 0:It._lineLayer,colIndex:It==null?void 0:It._lineIndex});let fr;const pr=dr=>{const{rowIndex:xr,colIndex:Gt,...Wt}=yt;if(ht!==NOTE_TOOLS.BLOCK_1&&ht!==NOTE_TOOLS.BLOCK_2)return;const nr={x:dr.pageX,y:dr.pageY},Qt=getDirectionForMove(Wt,nr,ft,dr.metaKey);if(isNumber$9(Qt)&&Qt!==At.current){if(At.current===Qt)return;const Jt=convertGridColumn(Gt,ct,ut),ar=convertGridRow(xr,lt,dt);nt(clearCellOfNotesAction({rowIndex:ar,colIndex:Jt})),fr={direction:Qt,rowIndex:ar,colIndex:Jt,selectedTool:ht},Bt(fr),At.current=Qt}},vr=dr=>{window.requestAnimationFrame(()=>{fr&&(nt(setBlockByDraggingAction({direction:fr.direction,rowIndex:fr.rowIndex,colIndex:fr.colIndex,selectedTool:ht})),Bt(null)),bt(null),$t(null),Nt(null),At.current=null})};return yt&&(window.addEventListener("mousemove",pr),window.addEventListener("mouseup",vr)),()=>{window.removeEventListener("mousemove",pr),window.removeEventListener("mouseup",vr)}},[yt,ht,It]);const zt=fr=>{let pr={...fr,id:buildUUID(),beatDuration:EDITOR_DURATION.MIN_OBSTACLE,style:getItemType(ht)};nt(createNewObstacleAction(pr))},Vt=()=>{if(globalShortCutKeyClass.isPressAlt||!It||xt==null)return;const fr={time:It._time,formLineLayer:It._lineLayer,fromLineIndex:It._lineIndex,toLineLayer:xt.rowIndex,toLineIndex:xt.colIndex};nt(mouseUpNote({...fr}))},Ut=fr=>{durationNoteFeature.creatingDurationNote&&ot()},jt=(fr,{rowIndex:pr,colIndex:vr})=>{if(isSelectedToolDurationType(ht)&&fr.button===0&&yt){if(fr.stopPropagation(),durationNoteFeature.creatingDurationNote){at();return}const dr={rowIndex:pr,colIndex:vr};let xr;isSelectedToolObstacleType(ht)?(xr=createObstacleFromMouseEvent(ft,ct,lt,ut,dt,yt,dr,pt),zt(xr)):qt({rowIndex:pr,colIndex:vr})}},qt=({rowIndex:fr,colIndex:pr})=>{nt(clickPlacementGridPayload({rowIndex:fr,colIndex:pr,ringNoteType:1}))},Dt=(fr,{rowIndex:pr,colIndex:vr,type:dr})=>{if(fr.stopPropagation(),mt||!yt||isSelectedToolDurationType(ht)||yt&&(yt.rowIndex!==pr||yt.colIndex!==vr))return;const xr=convertGridColumn(vr,ct,ut);let Wt={rowIndex:convertGridRow(pr,lt,dt),colIndex:xr};dr===NOTE_MODE.RING&&Object.assign(Wt,{ringNoteType:isRingToolLongNoteType(ht)?1:0}),nt(clickPlacementGridPayload(Wt))},Ft=(fr,{isHovered:pr,rowIndex:vr,colIndex:dr})=>{if(vr===3&&(wt||isToolBlockNoteType(ht))){it("请选择脚部音符");return}fr.buttons===1&&(isSelectedToolObstacleType(ht)&&pr&&Nt(null),fr.stopPropagation(),bt({rowIndex:vr,colIndex:dr,x:fr.pageX,y:fr.pageY}))},Zt=(fr,{rowIndex:pr,colIndex:vr})=>{$t({rowIndex:pr,colIndex:vr}),yt||Nt({rowIndex:pr,colIndex:vr})},Kt=(fr,{isHovered:pr})=>{Vt(),!yt&&pr&&Nt(null)},{bottomCellPosition:ir,newRingPosition:rr,newGridPosition:mr}=reactExports.useMemo(()=>{var xr;const fr=It!=null&&It.mouseDown?It.mouseDown._positionZ-.2:rt[2],pr=isRingNoteFooterType((xr=It==null?void 0:It.mouseDown)==null?void 0:xr._ringNoteType),vr=pr?fr:rt[2],dr=pr?rt[2]:fr;return{bottomCellPosition:[rt[0],rt[1]-1,vr],newRingPosition:[rt[0],rt[1],dr],newGridPosition:[tt[0],tt[1],fr]}},[It]),sr=reactExports.useMemo(()=>(et||wt)&&!It,[It,et,wt]);return jsxs(Fragment,{children:[sr?range$1(lt).map(fr=>range$1(ct).map(pr=>{const vr=!!(Pt&&Pt.rowIndex===fr&&Pt.colIndex===pr);return jsx(PanelCell$1,{rowIndex:fr,colIndex:pr,numRows:lt,numCols:ct,renderRowHeight:vt,renderColWidth:gt,offsetY:et?0:NOTE_FOOTER_TRANSFORM,isHovered:vr,gridPosition:mr,onClick:dr=>Dt(dr,{rowIndex:fr,colIndex:pr}),onPointerMove:Ut,onPointerUp:dr=>jt(dr,{rowIndex:fr,colIndex:pr}),onPointerDown:dr=>Ft(dr,{isHovered:vr,rowIndex:fr,colIndex:pr}),onPointerOver:dr=>Zt(dr,{rowIndex:fr,colIndex:pr}),onPointerOut:dr=>Kt(dr,{isHovered:vr})},`${fr}-${pr}`)})):RINGS.map(({Ring:fr,scale:pr,value:vr})=>{const[dr,xr]=Tt(vr),Gt=!!(Pt&&Pt.rowIndex===dr&&Pt.colIndex===xr);return jsx(reactExports.Suspense,{fallback:null,children:jsx(fr,{scale:pr,gridPosition:rr,color,opacity:Gt?.2:.1,side:DoubleSide,onClick:Wt=>{if(!isToolBlockNoteType(ht)){it("请选择手部音符");return}Dt(Wt,{rowIndex:dr,colIndex:xr})},onPointerMove:Ut,onPointerDown:Wt=>Ft(Wt,{isHovered:Gt,rowIndex:dr,colIndex:xr}),onPointerOver:Wt=>Zt(Wt,{rowIndex:dr,colIndex:xr}),onPointerOut:Wt=>Kt(Wt,{isHovered:Gt})})},vr)}),!et&&range$1(BOTTOMS_ROWS).map(fr=>range$1(BOTTOMS_COLS).map(pr=>{if(fr<3)return null;const vr=!!(Pt&&Pt.rowIndex===fr&&Pt.colIndex===pr);return jsx(PanelCell$1,{rowIndex:fr,colIndex:pr,numRows:BOTTOMS_ROWS,numCols:BOTTOMS_COLS,renderRowHeight:bottomRenderRowHeight,renderColWidth:bottomRenderColWidth,isHovered:vr,isOffsetY:!0,gridPosition:ir,offsetY:0,cellPadding:0,onClick:dr=>Dt(dr,{rowIndex:fr,colIndex:pr,type:NOTE_MODE.RING}),onPointerMove:Ut,onPointerUp:dr=>jt(dr,{rowIndex:fr,colIndex:pr}),onPointerDown:dr=>Ft(dr,{isHovered:vr,rowIndex:fr,colIndex:pr}),onPointerOver:dr=>Zt(dr,{rowIndex:fr,colIndex:pr}),onPointerOut:dr=>Kt(dr,{isHovered:vr})},`${fr}-${pr}`)})),Ot&&jsx(TentativeNote,{type:Ot.selectedTool,mouseOverAt:xt,mouseDownNote:It,direction:Ot.direction,rowIndex:Ot.rowIndex,colIndex:Ot.colIndex,ringNoteType:Ot.ringNoteType,duration:Ot.duration,color:getColorForItem(Ot.selectedTool,st)}),yt&&wt&&!durationNoteFeature.creatingDurationNote&&jsx(TentativeObs,{mouseDownAt:yt,mouseOverAt:xt,isStandardNoteMode:et,color:getColorForItem(ht,st),mode:ft})]})},PathwaysMove=({children:tt})=>{const et=useAppSelector(getCursorPositionInBeats),rt=useAppSelector(getBeatDepth),nt=useAppSelector(getAnimateBlockMotion),it=et*rt,ot=useSpring({zPosition:it,immediate:!nt,config:{tension:360,friction:22,mass:.4}});return jsx(animated.group,{position:ot.zPosition.to(at=>[0,0,at]),children:tt})},FogExp=({renderGraphics:tt,density:et})=>useAppSelector(getGraphicsLevel)!==tt?null:jsx("fogExp2",{attach:"fog",args:[0,et]}),frontLightTarget=new Object3D,midLightTarget=new Object3D,Light=reactExports.memo(()=>(frontLightTarget.position.set(0,0,NOTES_Z_OFFSET),midLightTarget.position.set(0,0,-20),jsxs(Fragment,{children:[jsx("primitive",{object:midLightTarget}),jsx("primitive",{object:frontLightTarget}),jsx("spotLight",{castShadow:!0,intensity:.6,position:[0,30,NOTES_Z_OFFSET],target:frontLightTarget,angle:.5,penumbra:1}),jsx("spotLight",{intensity:.25,position:[0,0,20],angle:1,penumbra:0}),jsx("spotLight",{intensity:.5,position:[50,50,NOTES_Z_OFFSET-30],target:midLightTarget,angle:1,penumbra:1}),jsx("spotLight",{intensity:.5,position:[-50,50,NOTES_Z_OFFSET-30],target:midLightTarget,angle:1,penumbra:1}),jsx("ambientLight",{intensity:.45})]}))),halfP=Math.PI/2,WSIZE=140,HSIZE=240,dev=isDevMode();function AUXCamera({position:tt=[.5,10,-6]}){var it;const[et]=useAppSelector(getMouseDownNotes),rt=isRingNoteFooterType((it=et==null?void 0:et.mouseDown)==null?void 0:it._ringNoteType),nt=React.useRef(null);return rt?jsxs(Fragment,{children:[jsx(PerspectiveCamera,{rotation:[-halfP,0,halfP],near:11.2,far:14,fov:38,position:tt,ref:nt,children:dev}),nt.current&&jsx(AUXRender,{refData:nt})]}):null}function AUXRender({refData:tt}){var lt;const[et]=useAppSelector(getMouseDownNotes),rt=useTheme(),nt=useFBO(),it=reactExports.useMemo(()=>new Scene,[]),ot=React.useRef(null),at=isRingNoteFooterType((lt=et==null?void 0:et.mouseDown)==null?void 0:lt._ringNoteType);useFrame(({gl:ct,camera:ut,scene:dt})=>{ct.autoClear=!1,ct.setRenderTarget(null),ct.render(dt,ut),ct.render(it,ot.current),ct.autoClear=!0},1),useFrame(({gl:ct,scene:ut})=>{!(tt!=null&&tt.current)||!at||(ct.setRenderTarget(nt),ct.render(ut,tt.current))},2);const st=window.innerWidth/window.innerHeight;return createPortal(jsxs(Fragment,{children:[jsx(OrthographicCamera,{ref:ot,near:1e-4,far:5}),jsxs("group",{visible:at,rotation:[0,0,halfP],"position-z":-.1,"position-x":-window.innerWidth/2+WSIZE*st/2+20,"position-y":-window.innerHeight/2+HSIZE*st/2+200,children:[jsx(Plane,{radius:1,args:[(HSIZE+1)*st,(WSIZE+1)*st,1],"position-x":0,"position-y":.1,children:jsx("meshBasicMaterial",{color:rt.palette.primary.main})}),jsx(Plane,{radius:1,args:[HSIZE*st,WSIZE*st,1],children:jsx("meshBasicMaterial",{map:nt.texture})})]})]}),it)}const GRID_POSITION=[0,0,-NOTES_Z_OFFSET],PLACEMENT_RING_POSITION=[0,NOTE_FOOTER_TRANSFORM,-NOTES_Z_OFFSET],MapVisualization=({isStandardNoteMode:tt})=>{const et=React.useRef(null);return useFrame(({scene:rt,camera:nt})=>{et.current?et.current.update():(et.current=new Controls$1(nt),rt.add(et.current.getObject()))}),reactExports.useEffect(()=>()=>{et.current&&(et.current.removeOnMouse(),et.current=null)},[]),jsxs(Fragment,{children:[jsx(Terrace,{isEdgeBars:!0}),jsx(FogExp,{renderGraphics:GRAPHICS_LEVEL.HIGH,density:.02}),jsx(Light,{}),jsxs(PathwaysMove,{children:[jsx(SongNotes,{}),jsx(BeatsBars,{}),jsx(SongObs$1,{isStandardNoteMode:tt})]}),jsx(GridPanelForEdit,{isStandardNoteMode:tt,width:GRID_COL_WIDTH*4,height:GRID_COL_WIDTH*3,gridPosition:GRID_POSITION,ringPosition:PLACEMENT_RING_POSITION}),jsx(AUXCamera,{})]})};function useOnChangeAction(tt,et){const rt=reactExports.useRef(et);et!==rt.current&&(tt==null||tt(),rt.current=et)}const TITLE_EDITOR_PROPS={sx:{textAlign:"left",width:"100%"},variant:"subtitle1"};styled$1(Box$2)`
  display: flex;
  flex-direction: column;
  align-items: center;
`;const ToolsItem=({data:tt,handleClick:et})=>jsx(Box$2,{display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:0,component:"div",children:tt.length&&tt.map(({value:rt,color:nt,Icon:it,size:ot,disabled:at,show:st,title:lt})=>st&&jsx(BaseTooltip,{title:lt,children:jsx(IconButton$1,{sx:{"&.MuiIconButton-root":{borderRadius:"10px",border:"10x solid red"}},"aria-label":rt,disabled:!at,onClick:et(rt),children:jsx(it,{color:nt,size:ot,disabled:at,type:rt})})},rt))}),ToolsItem$1=reactExports.memo(ToolsItem),BlockIcon=({color:tt,size:et=16,disabled:rt})=>jsx(Block$2,{color:tt,style:{width:et,height:et,borderRadius:et/4,opacity:rt?.3:1},children:jsx(SvgIcon$1,{sx:{width:et-et/4,height:et-et/4},viewBox:"0 -4 12 12",children:jsx("path",{d:"M0,0 L12,0 L6,4 Z",fill:"#FFF"})})}),Block$2=styled$1("div")`
  border-radius: 4px;
  background-color: ${tt=>tt.color};
`,MineIcon=({size:tt,disabled:et})=>jsxs(SvgIcon$1,{sx:{width:tt,opacity:et?.3:1},viewBox:"0 -4 50 50",fill:"none",children:[jsx("circle",{cx:"23",cy:"21",r:"24",fill:"#696969"}),jsx("path",{d:"M23 21L17 6L20 5H23H26L29.5 6L32.5 8L34.5 9.5L36 12L37.5 14.5L38.5 17L39 20V22.5L38.5 25.5L37 28.5L23 21Z",fill:"white",fillOpacity:"0.17"}),jsx("path",{d:"M38.7279 4.24264L36.0382 14.2808L28.6897 6.93237L38.7279 4.24264Z",fill:"#595959"}),jsx("path",{d:"M7.24264 4.24271L17.2808 6.93244L9.93237 14.2809L7.24264 4.24271Z",fill:"#414141"}),jsx("path",{d:"M3 33.1962L8.19615 24.1962L13.3923 33.1962L3 33.1962Z",fill:"#414141"}),jsx("path",{d:"M34.1962 41.3923L25.1962 36.1962L34.1962 31L34.1962 41.3923Z",fill:"#414141"})]}),Obstacle2=({size:tt,disabled:et})=>jsxs(SvgIcon$1,{sx:{fontSize:tt,opacity:et?.6:1},fill:"none",viewBox:"0 0 24 24",children:[jsx("rect",{x:"16.8672",y:"16.8083",width:"1.04401",height:"13.2242",transform:"rotate(90 16.8672 16.8083)",fill:"#FFA450"}),jsx("rect",{x:"20.8125",y:"19.4531",width:"1.04401",height:"4.88166",transform:"rotate(126.954 20.8125 19.4531)",fill:"#FFA450"}),jsx("path",{d:"M20.4453 19.873L17.3571 17.2996L3.7177 17.2996L6.66042 19.873L20.4453 19.873Z",fill:"#F4912B",fillOpacity:"0.33"}),jsx("rect",{x:"16.168",y:"2.88818",width:"1.04401",height:"14.4115",fill:"#FFA450"}),jsx("path",{d:"M2.94531 2.88818H17.3568V17.2997H2.94531V2.88818Z",fill:"#F4912B",fillOpacity:"0.33"}),jsx("path",{d:"M2.94531 2.88818L6.54818 5.97636V20.3878L2.94531 17.2997V2.88818Z",fill:"#F4912B",fillOpacity:"0.33"}),jsx("path",{d:"M19.6484 5.67212L17.8847 3.58409L4.33624 3.58409L6.66441 5.67212L19.6484 5.67212Z",fill:"#F4912B",fillOpacity:"0.33"}),jsx("path",{d:"M17.3594 2.88818L20.9622 5.97636V20.3878L17.3594 17.2997L17.3594 2.88818Z",fill:"#F4912B",fillOpacity:"0.33"}),jsx("rect",{x:"2.94531",y:"2.88818",width:"1.04401",height:"14.4115",fill:"#FFA450"}),jsx("rect",{x:"7.60156",y:"6.07593",width:"1.04401",height:"5.11966",transform:"rotate(128.515 7.60156 6.07593)",fill:"#FFA450"}),jsx("rect",{x:"7.15234",y:"19.9404",width:"1.04401",height:"4.84029",transform:"rotate(133.972 7.15234 19.9404)",fill:"#FFA450"}),jsx("rect",{x:"20.9961",y:"5.65942",width:"1.04401",height:"4.45043",transform:"rotate(128.515 20.9961 5.65942)",fill:"#FFA450"}),jsx("rect",{x:"17.4883",y:"2.88818",width:"1.04401",height:"14.5466",transform:"rotate(90 17.4883 2.88818)",fill:"#FFA450"}),jsx("path",{d:"M6.42578 5.97632H20.8373V20.3878H6.42578V5.97632Z",fill:"#F4912B",fillOpacity:"0.33"}),jsx("rect",{x:"6.42578",y:"5.97632",width:"1.04401",height:"14.4115",fill:"#FFA450"}),jsx("rect",{x:"20.9727",y:"5.67212",width:"1.04401",height:"14.5466",transform:"rotate(90 20.9727 5.67212)",fill:"#FFA450"}),jsx("rect",{x:"20.9727",y:"19.5923",width:"1.04401",height:"14.5466",transform:"rotate(90 20.9727 19.5923)",fill:"#FFA450"}),jsx("rect",{x:"19.9258",y:"5.97632",width:"1.04401",height:"14.4115",fill:"#FFA450"})]}),LongNote1=({size:tt,disabled:et,color:rt})=>jsxs(SvgIcon$1,{sx:{width:tt,height:tt,opacity:et?.5:1},fill:"none",viewBox:"0 0 32 32",children:[jsx("path",{d:"M11.2105 8H22.1579L29 22H3L11.2105 8Z",fill:"url(#paint0_linear_60_803)"}),jsx("rect",{x:"3",y:"22",width:"26",height:"2",fill:"url(#paint1_linear_60_803)"}),jsxs("defs",{children:[jsxs("linearGradient",{id:"paint0_linear_60_803",x1:"16",y1:"8",x2:"16",y2:"22",gradientUnits:"userSpaceOnUse",children:[jsx("stop",{stopColor:rt}),jsx("stop",{offset:"1",stopColor:rt})]}),jsxs("linearGradient",{id:"paint1_linear_60_803",x1:"16",y1:"22",x2:"16",y2:"24",gradientUnits:"userSpaceOnUse",children:[jsx("stop",{stopColor:rt}),jsx("stop",{offset:"1",stopColor:rt})]})]})]}),LongNote2=({size:tt,disabled:et,color:rt})=>jsxs(SvgIcon$1,{sx:{width:tt,height:tt,opacity:et?.5:1},fill:"none",viewBox:"0 0 32 32",children:[jsx("path",{d:"M11.2105 8H22.1579L29 22H3L11.2105 8Z",fill:"url(#paint0_linear_60_810)"}),jsx("rect",{x:"3",y:"22",width:"26",height:"2",fill:rt}),jsx("defs",{children:jsxs("linearGradient",{id:"paint0_linear_60_810",x1:"16",y1:"8",x2:"16",y2:"22",gradientUnits:"userSpaceOnUse",children:[jsx("stop",{stopColor:rt}),jsx("stop",{offset:"1",stopColor:rt})]})})]}),ShotrNote=({size:tt,disabled:et,color:rt,type:nt})=>{const it=NOTE_TOOLS.SHORT_1===nt?"url(#paint0_linear_51_565)":"url(#paint0_linear_52_929)",ot=NOTE_TOOLS.SHORT_1===nt?"paint0_linear_51_565":"paint0_linear_52_929";return jsxs(SvgIcon$1,{sx:{width:tt,height:tt,opacity:et?.5:1},fill:"none",viewBox:"0 0 32 32",children:[jsx("path",{d:"M11.2105 8H22.1579L29 22H3L11.2105 8Z",fill:it}),jsx("rect",{x:"3",y:"22",width:"26",height:"4",fill:rt}),jsx("defs",{children:jsxs("linearGradient",{id:ot,x1:"16",y1:"8",x2:"16",y2:"22",gradientUnits:"userSpaceOnUse",children:["\\",jsx("stop",{offset:"0.494792",stopColor:"white",stopOpacity:"0"}),jsx("stop",{offset:"1",stopColor:"#CDF6FF"})]})})]})},ShotrNote1=({size:tt,disabled:et,color:rt})=>jsxs(SvgIcon$1,{sx:{width:tt,height:tt,opacity:et?.5:1},fill:"none",viewBox:"0 0 32 32",children:[jsx("mask",{id:"mask0_51_505",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:"5",y:"3",width:"19",height:"28",children:jsx("path",{d:"M23.9252 6.47645L10.2677 3L5.67383 15.2917L9.3986 30.0667L23.9252 25.9694V6.47645Z",fill:"#D9D9D9"})}),jsx("g",{mask:"url(#mask0_51_505)",children:jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M60.5395 -25.3081C49.734 -25.2216 39.7341 -22.3841 31.5385 -17.6117L37.416 -11.0015C43.9649 -14.7772 51.9328 -17.0257 60.5395 -17.111V-25.3081ZM12.7817 3.03287C16.1243 -5.09882 22.4584 -12.1082 30.7153 -17.1221L36.5914 -10.5135C30.0001 -6.51003 24.9359 -0.928782 22.2405 5.54416L12.7817 3.03287ZM12.4673 3.82411C10.9574 7.75826 10.1436 11.9441 10.1436 16.2852C10.1436 20.6261 10.9574 24.8118 12.4671 28.7458L21.9245 26.2349C20.723 23.0922 20.0757 19.7504 20.0757 16.2852C20.0757 12.8199 20.7231 9.47784 21.9247 6.33503L12.4673 3.82411ZM30.7151 49.6924C22.4581 44.6784 16.124 37.6689 12.7815 29.5371L22.2403 27.0258C24.9356 33.4988 29.9998 39.0802 36.5911 43.0838L30.7151 49.6924ZM31.5383 50.1819C39.7339 54.9544 49.7339 57.7919 60.5395 57.8785V49.6815C51.9327 49.5961 43.9646 47.3475 37.4157 43.5718L31.5383 50.1819ZM85.5057 -10.5131C92.0967 -6.50952 97.1606 -0.928362 99.8559 5.54443L109.316 3.03285C105.973 -5.09882 99.6391 -12.1082 91.3822 -17.1221L85.5057 -10.5131ZM90.559 -17.6117C82.3633 -22.3841 72.3633 -25.2216 61.5576 -25.3081V-17.111C70.1643 -17.0255 78.1323 -14.7769 84.6811 -11.0011L90.559 -17.6117ZM102.021 16.2852C102.021 12.82 101.373 9.47803 100.172 6.33531L109.63 3.82409C111.14 7.75825 111.954 11.944 111.954 16.2852C111.954 20.6261 111.14 24.8118 109.63 28.7458L100.172 26.2346C101.373 23.092 102.021 19.7503 102.021 16.2852ZM99.8561 27.0255C97.1609 33.4984 92.097 39.0797 85.506 43.0833L91.3824 49.6924C99.6394 44.6784 105.973 37.6689 109.316 29.5371L99.8561 27.0255ZM61.5576 49.6815C70.1645 49.596 78.1325 47.3472 84.6814 43.5714L90.5592 50.1819C82.3635 54.9544 72.3634 57.792 61.5576 57.8785V49.6815Z",fill:rt})})]}),getStandardActionsButton=(tt,et,rt,nt)=>[{value:NOTE_TOOLS.BLOCK_1,Icon:tt?BlockIcon:ShotrNote1,color:getColorForItem(NOTE_TOOLS.BLOCK_1,rt),size:30,disabled:et!==NOTE_TOOLS.BLOCK_1,show:!0,title:nt("common.note.block",{msg:1})},{value:NOTE_TOOLS.BLOCK_2,Icon:tt?BlockIcon:ShotrNote1,color:getColorForItem(NOTE_TOOLS.BLOCK_2,rt),size:30,disabled:et!==NOTE_TOOLS.BLOCK_2,show:!0,title:nt("common.note.block",{msg:2})},{value:NOTE_TOOLS.MINE,Icon:MineIcon,color:"",size:26,disabled:et!==NOTE_TOOLS.MINE,show:tt,title:nt("common.note.mine")},{value:NOTE_TOOLS.OBSTACLE_1,Icon:Obstacle2,color:"",size:30,disabled:et!==NOTE_TOOLS.OBSTACLE_1,show:!0,title:nt("common.note.obstacle")}],getRingActionsButton=(tt,et,rt,nt)=>{const it=getStandardActionsButton(tt,et,rt,nt);return[{label:nt("common.title.handNote"),data:[it[0],it[1]]},{label:nt("common.title.footerNote"),data:[{value:NOTE_TOOLS.SHORT_1,Icon:ShotrNote,color:getColorForItem(NOTE_TOOLS.BLOCK_1,rt),size:30,disabled:et!==NOTE_TOOLS.SHORT_1,show:!tt,title:nt("common.note.short",{msg:1})},{value:NOTE_TOOLS.SHORT_2,Icon:ShotrNote,color:getColorForItem(NOTE_TOOLS.BLOCK_2,rt),size:30,disabled:et!==NOTE_TOOLS.SHORT_2,show:!tt,title:nt("common.note.short",{msg:2})},{value:NOTE_TOOLS.LONG_1,Icon:LongNote1,color:getColorForItem(NOTE_TOOLS.BLOCK_1,rt),size:30,disabled:et!==NOTE_TOOLS.LONG_1,show:!tt,title:nt("common.note.long",{msg:1})},{value:NOTE_TOOLS.LONG_2,Icon:LongNote2,color:getColorForItem(NOTE_TOOLS.BLOCK_2,rt),size:30,disabled:et!==NOTE_TOOLS.LONG_2,show:!tt,title:nt("common.note.long",{msg:2})}]},{label:nt("common.title.obstacle"),data:[it[3]]}]},NotesGrid=()=>{const tt=useAppSelector(getSelectedSong),et=useAppSelector(getSelectedNoteTool),rt=useAppDispatch(),{t:nt}=useI18n(),{enqueueSnackbar:it}=useNotice(),ot=useAppSelector(getIsStandardNoteMode),at=reactExports.useMemo(()=>getStandardActionsButton(ot,et,tt,nt),[ot,et,tt]),st=reactExports.useMemo(()=>getRingActionsButton(ot,et,tt,nt),[ot,et,tt]),lt=ct=>()=>{if(durationNoteFeature.creatingDurationNote){it(nt("common.notice.wallBeingCreated"));return}rt(selectNoteTool(ct))};return jsx(Container$6,{children:ot?jsxs(Fragment,{children:[jsx(BasicTitle,{...TITLE_EDITOR_PROPS,children:nt("common.title.items")}),jsx(ToolsItem$1,{data:at,handleClick:lt})]}):st.map(({label:ct,data:ut})=>jsxs(reactExports.Fragment,{children:[jsx(BasicTitle,{...TITLE_EDITOR_PROPS,children:ct}),jsx(ToolsItem$1,{data:ut,handleClick:lt})]},ct))})},Container$6=styled$1(Box$2)`
  display: flex;
  flex-direction: column;
  align-items: center;
`,UndoRedo=()=>{const tt=useAppDispatch(),et=useAppSelector(getCanUndo),rt=useAppSelector(getCanRedo),{t:nt}=useI18n();return jsxs(Stack$5,{spacing:4,direction:"row",sx:{mt:1},children:[jsx(BaseTooltip,{title:`(${getMetaKeyLabel()} + Z)`,children:jsx(Button$2,{size:"small",disabled:!et,onClick:()=>tt(undoNotesPayLoad()),children:nt("common.btn.undo")})}),jsx(BaseTooltip,{title:`(Shift + ${getMetaKeyLabel()} + Z)`,children:jsx(Button$2,{size:"small",disabled:!rt,onClick:()=>tt(redoNotesPayLoad()),children:nt("common.btn.redo")})})]})},useNotesLimit=()=>{const tt=useAppSelector(getHasCopiedNotes),et=useAppSelector(getNumOfBlocks),rt=useAppSelector(getNumOfObstacles),nt=useAppSelector(getCopiedData);return{isPaste:reactExports.useMemo(()=>tt&&nt?et+rt+nt.length<5e3:!1,[et,rt,nt,tt])}},PanelActions=({song:tt,handleGridConfigClick:et,shortcutDelete$:rt})=>{const{t:nt}=useI18n(),{isPaste:it}=useNotesLimit(),ot=useAppDispatch(),{promptQuickSelect:at,promptJumpToBeat:st}=usePromts(),lt=useAppSelector(getDurationInBeats),ct=useAppSelector(getIsPlaying),ut=tt&&tt.modSettings&&tt.modSettings.mappingExtensions&&tt.modSettings.mappingExtensions.isEnabled,dt=async()=>{const pt=await at(VIEW_TYPE.NOTES);pt&&ot(selectAllInRange(pt))},ft=async()=>{const pt=await st(lt);pt&&ot(jumpToBeat({beatNum:pt,pauseTrack:!0}))};return jsxs(Wrapper$8,{children:[jsx(BasicTitle,{sx:{textAlign:"left",width:"100%"},variant:"subtitle1",children:nt("common.title.action")}),jsx(UndoRedo,{}),jsx(Stack$5,{spacing:0,sx:{mt:1,width:"100%"},divider:jsx(Divider$1,{orientation:"vertical",flexItem:!0}),direction:"column",alignItems:"center",children:jsxs(HandleBeatStack,{children:[jsx(BaseTooltip,{title:nt("common.btn.tip.pastePreviouslyCopiedNotes_msg",{msg:getMetaKeyLabel()}),children:jsx(Button$2,{size:"small",variant:"outlined",disabled:!it,onClick:()=>ot(pasteSelectionPayload(VIEW_TYPE.NOTES)),children:nt("common.btn.pasteSelect")})}),jsx(BaseTooltip,{title:nt("common.btn.tip.selectEverythingOverATimePeriod"),children:jsx(Button$2,{sx:{my:1},size:"small",variant:"outlined",onClick:dt,children:nt("common.btn.quickSelect")})}),jsx(BaseTooltip,{title:nt("common.btn.tip.jumpToASpecificBeatNumber"),children:jsx(Button$2,{sx:{userSelect:"none"},size:"small",variant:"outlined",disabled:ct,onClick:ft,children:nt("common.btn.jumpToBeat")})}),jsx(BaseTooltip,{title:nt("common.btn.tip.shortcutDeleteAction"),children:jsx(Button$2,{sx:{userSelect:"none",mt:1},size:"small",variant:"outlined",onClick:()=>rt.emit("shortcutDelete"),children:nt("common.btn.quickDelete")})}),jsx(BaseTooltip,{title:nt("common.btn.showAllGroupPanel"),children:jsx(Button$2,{sx:{userSelect:"none",mt:1},size:"small",variant:"outlined",onClick:()=>rt.emit("showAllGroupPanel"),children:nt("common.btn.showAllGroupPanel")})}),ut&&jsx(BaseTooltip,{title:nt("common.btn.tip.changeTheNumberOfColumns/Rows"),children:jsx(Button$2,{size:"small",sx:{userSelect:"none",mt:1},variant:"outlined",onClick:et,children:nt("common.btn.customizegGrid")})})]})})]})},Wrapper$8=styled$1("div")`
  display: flex;
  flex-direction: column;
  align-items: center;
  width:100%;
`,HandleBeatStack=styled$1(Stack$5)`
  display:flex;
  flex-direction: column;
  width:100%;
`,SelectionCount=({num:tt,label:et,onClick:rt})=>jsx(BaseTag,{sx:{justifyContent:"space-between",pl:2},label:jsxs(Fragment,{children:["x",jsx(Typography$1,{component:"span",variant:"subtitle1",children:tt})]}),onDelete:rt}),SelectionAction=({numOfSelectedBlocks:tt,numOfSelectedMines:et,numOfSelectedObstacles:rt,notGroupedBlockNumIds:nt,currentGroupId:it,currentGroupAllBlockIds:ot,currentGroupNoteIds:at,notInGroupSelectNoteIds:st,selectHandNotes:lt,selectFootNoteIds:ct,isSeparatePlane:ut,selectGroups:dt,isCreatGroupNoteType:ft,mergeGroupNoteType:pt})=>{const mt=useAppDispatch(),{t:ht}=useI18n(),{isPaste:gt}=useNotesLimit(),vt=useAppSelector(getSnapTo),yt=useAppSelector(getIsStandardNoteMode),bt=useAppSelector(Ot=>getSelection$1(Ot,VIEW_TYPE.NOTES));let xt=[];nt.length&&xt.push({key:1,num:nt.length,label:NOTE_TOOLS_EXTRA.BLOCK,title:ht("common.note.singleNote"),ids:nt}),et&&xt.push({key:2,num:et,label:NOTE_TOOLS.MINE,title:ht("common.note.mine")}),rt&&xt.push({key:3,num:rt,label:NOTE_TOOLS_EXTRA.OBSTACLE,title:ht("common.note.obstacle")}),dt.length&&dt.forEach((Ot,Bt)=>{xt.push({key:Bt+4,num:Ot.length,label:NOTE_TOOLS_EXTRA.GROUP,title:ht("common.note.groupNotes")+(Bt+1),ids:Ot})});const $t=()=>{mt(cutSelection({view:VIEW_TYPE.NOTES,selection:bt}))},Tt=()=>{mt(copySelection({view:VIEW_TYPE.NOTES,selection:bt}))},wt=(Ot,Bt)=>{[NOTE_TOOLS_EXTRA.BLOCK,NOTE_TOOLS_EXTRA.GROUP].includes(Ot)?mt(deselectOrSelectNoteOfIds({ids:Bt,type:SELECTION_MODE.Deselect})):mt(deselectAllOfTag(Ot))},At=getMetaKeyLabel(),Rt=nt.length===0&&dt.length===1&&ot.length===at.length,It=nt.length===0&&at.length>=0&&ot.length!==at.length,[Lt,Pt]=reactExports.useMemo(()=>{if(at.length>1)return[!0,!0];{const Ot=lt.find(Ut=>Ut._groupId===it&&Ut.selected),Bt=nt.length>0||at.length!==1,zt=(Ot==null?void 0:Ot._groupNoteType)===GROUP_NOTE_TYPE.FOOT||Bt,Vt=(Ot==null?void 0:Ot._groupNoteType)===GROUP_NOTE_TYPE.HAND||Bt;return[zt,Vt]}},[at,lt,nt,at]),Nt=()=>{mt(pt?mergeGroupNote({currentGroupAllBlockIds:ot,notInGroupSelectNoteIds:st}):creatGroupNote())};return jsxs(Wrapper$7,{children:[jsx(BasicTitle,{...TITLE_EDITOR_PROPS,children:ht("common.title.selection")}),jsx(Box$2,{display:"grid",gridTemplateColumns:"repeat(2, 1)",gap:1,sx:{my:2,alignItems:"center",maxHeight:"160px",overflowY:xt.length>4?"scroll":"hidden"},children:xt.map(({label:Ot,num:Bt,title:zt,ids:Vt,key:Ut})=>jsxs(NotesTagWrapper,{children:[jsx(Typography$1,{children:zt}),jsx(SelectionCount,{num:Bt,label:Ot,onClick:()=>wt(Ot,Vt)})]},Ut))}),jsx(BasicTitle,{...TITLE_EDITOR_PROPS,children:ht("common.title.action")}),jsxs(Box$2,{display:"grid",sx:{mb:1},gridTemplateColumns:"repeat(5, 1fr)",children:[jsx(BaseTooltip,{title:ht("common.btn.tip.swapHorizontally"),children:jsx(IconButton$1,{size:"small",onClick:()=>mt(swapSelectedNotes(SWAPS.HORIZONTAL)),children:jsx(FlipTwoTone,{size:"small"})})}),yt&&jsx(BaseTooltip,{title:ht("common.btn.tip.swapVertically"),children:jsx(IconButton$1,{onClick:()=>mt(swapSelectedNotes(SWAPS.VERTICAL)),children:jsx(ImportExportTwoTone,{})})}),jsx(BaseTooltip,{title:ht("common.btn.tip.nudgeForwards_msg",{msg:At}),children:jsx(IconButton$1,{onClick:()=>mt(nudgeSelection({snapTo:vt,direction:NUDGE.FORWARDS,view:VIEW_TYPE.NOTES})),children:jsx(ArrowUpward,{})})}),jsx(BaseTooltip,{title:ht("common.btn.tip.nudgeBackwards_msg",{msg:At}),children:jsx(IconButton$1,{onClick:()=>mt(nudgeSelection({snapTo:vt,direction:NUDGE.BACKWARDS,view:VIEW_TYPE.NOTES})),children:jsx(ArrowDownward,{})})}),jsx(BaseTooltip,{title:ht("common.btn.tip.setHandGroupNote"),children:jsx(IconButton$1,{disabled:Lt,onClick:()=>mt(setHandGroupNote({id:at[0],type:GROUP_NOTE_TYPE.HAND})),children:jsx(RadioButtonCheckedIcon,{})})}),jsx(BaseTooltip,{title:ht("common.btn.tip.setTailGroupNote"),children:jsx(IconButton$1,{disabled:Pt,onClick:()=>mt(setHandGroupNote({id:at[0],type:GROUP_NOTE_TYPE.FOOT})),children:jsx(CircleIcon,{size:"small"})})})]}),jsx(BaseTooltip,{title:ht("common.btn.tip.clearSelection"),children:jsx(Button$2,{onClick:()=>mt(deselectAll(VIEW_TYPE.NOTES)),children:ht("common.btn.deselect")})}),ut&&jsx(UndoRedo,{}),jsxs(Stack$5,{spacing:4,direction:"row",my:.5,children:[jsx(BaseTooltip,{title:ht("common.btn.tip.copyAndRemoveSelection_msg",{msg:getMetaKeyLabel()}),children:jsx(Button$2,{size:"small",onClick:$t,children:ht("common.btn.cut")})}),jsx(BaseTooltip,{title:ht("common.btn.tip.copySelection_msg",{msg:getMetaKeyLabel()}),children:jsx(Button$2,{size:"small",onClick:Tt,children:ht("common.btn.copy")})})]}),jsxs(Box$2,{display:"grid",gridTemplateColumns:"repeat(1, 1fr)",gap:1,width:"100%",children:[jsx(BaseTooltip,{title:ht("common.btn.tip.pasteCopiedNotesAndObstacles_msg",{msg:getMetaKeyLabel()}),children:jsx(Button$2,{size:"small",variant:"outlined",disabled:!gt,onClick:()=>mt(pasteSelectionPayload(VIEW_TYPE.NOTES)),children:ht("common.btn.paste")})}),jsx(BaseTooltip,{title:ht("common.btn.selectGroupNote"),children:jsx(Button$2,{size:"small",variant:"outlined",disabled:!It,onClick:()=>mt(deselectOrSelectNoteOfIds({ids:ot,type:SELECTION_MODE.Select})),children:ht("common.btn.selectGroupNote")})}),jsx(BaseTooltip,{title:ht("common.btn.tip.mergeGroupNote",{msg:getMetaKeyLabel()}),children:jsx(Button$2,{size:"small",variant:"outlined",disabled:!pt&&!ft,onClick:Nt,children:ht("common.btn.mergeGroupNote")})}),jsx(BaseTooltip,{title:ht("common.btn.unpackGroupNote"),children:jsx(Button$2,{size:"small",variant:"outlined",disabled:!Rt,color:"error",onClick:()=>mt(unpackGroupNote(it)),children:ht("common.btn.unpackGroupNote")})}),jsx(BaseTooltip,{title:ht("common.btn.removeGroupNote"),children:jsx(Button$2,{size:"small",variant:"outlined",disabled:!It,color:"error",onClick:()=>mt(removeGroupNote({ids:at,groupId:it})),children:ht("common.btn.removeGroupNote")})})]})]})},Wrapper$7=styled$1("div")`
  display: flex;
  flex-direction: column;
  align-items: center;
`,NotesTagWrapper=styled$1(Box$2)`
  display: grid;
  grid-template-columns:70px 100px;
  align-items: center;
  max-height:200px
`,useGridConfigHooks=()=>{const tt=useDispatch(),{promptSaveGridPreset:et}=usePromts(),[rt,nt]=reactExports.useState("1"),it=useAppSelector(getGridSize),{numRows:ot,numCols:at,colWidth:st,rowHeight:lt}=it,ct=useAppSelector(getGridPresets),ut=Object.keys(ct).length>0;return{preset:rt,gridSize:it,showPresets:ut,gridPresets:ct,handleChange:(xt,$t)=>{$t&&nt($t)},handlePresBtnClick:xt=>$t=>{$t.buttons===0&&tt(loadGridPreset({grid:ct[xt]}))},handlePresBtnContextMenu:xt=>$t=>{$t.preventDefault(),nt(""),tt(deleteGridPreset({presetSlot:Number(xt)}))},handleChangeCol:xt=>{const $t=Number(xt.target.value);$t<0||tt(updateGrid({numCols:$t,numRows:ot,colWidth:st,rowHeight:lt}))},handleChangeRows:xt=>{const $t=Number(xt.target.value);$t<0||tt(updateGrid({numCols:at,numRows:$t,colWidth:st,rowHeight:lt}))},handleChangeColWidth:xt=>{const $t=Number(xt.target.value);$t<0||tt(updateGrid({numCols:at,numRows:ot,colWidth:$t,rowHeight:lt}))},handleChangeRowHeight:xt=>{const $t=Number(xt.target.value);$t<0||tt(updateGrid({numCols:at,numRows:ot,colWidth:st,rowHeight:$t}))},handleSaveClick:async xt=>{try{const $t=await et(ct);$t&&(tt(saveGridPreset({grid:it,presetSlot:$t})),nt($t))}catch{}},handleResetGrid:()=>{tt(resetGrid())}}},GRID_PRESET_SLOTS=["1","2","3","4"],GridPlaneConfig=({finishTweakingGrid:tt})=>{const{t:et}=useI18n(),{preset:rt,gridSize:nt,gridPresets:it,showPresets:ot,handleChange:at,handlePresBtnClick:st,handlePresBtnContextMenu:lt,handleChangeCol:ct,handleChangeRows:ut,handleChangeColWidth:dt,handleChangeRowHeight:ft,handleSaveClick:pt,handleResetGrid:mt}=useGridConfigHooks(),{numRows:ht,numCols:gt,colWidth:vt,rowHeight:yt}=nt;return jsxs(DivWrap$1,{children:[jsx(BasicTitle,{sx:{textAlign:"left",width:"100%",mb:2},variant:"subtitle1",children:et("common.title.customizeGrid")}),jsx(Typography$1,{component:"p",variant:"overline",sx:{mr:1,color:"text.secondary"},children:et("common.title.presets")}),ot&&jsx(ToggleButtonGroup$1,{color:"primary",value:rt,size:"small",exclusive:!0,sx:{width:"100%",mb:2},onChange:at,children:GRID_PRESET_SLOTS.map(bt=>jsx(ToggleButton$1,{disabled:!(it!=null&&it[bt]),sx:{width:"100%"},value:bt,selected:bt==rt,onClick:st(bt),onContextMenu:lt(bt),children:bt},bt))}),jsxs(Stack$5,{spacing:1,sx:{mb:2},children:[jsx(TextFieldNumber,{required:!0,sx:{width:"100%"},label:et("common.label.columns"),variant:"filled",type:"number",minValue:0,value:gt,onChange:ct}),jsx(TextFieldNumber,{required:!0,sx:{width:"100%"},label:et("common.label.rows"),variant:"filled",type:"number",minValue:0,value:ht,onChange:ut}),jsx(TextFieldNumber,{required:!0,sx:{width:"100%"},label:et("common.label.cellWidth"),variant:"filled",type:"number",minValue:0,value:vt,onChange:dt}),jsx(TextFieldNumber,{required:!0,sx:{width:"100%"},label:et("common.label.cellHeight"),variant:"filled",type:"number",minValue:0,value:yt,onChange:ft})]}),jsxs(Stack$5,{spacing:1,children:[jsx(Button$2,{size:"small",variant:"contained",onClick:pt,children:et("common.btn.savePreset")}),jsx(Button$2,{size:"small",variant:"contained",onClick:mt,children:et("common.btn.reset")}),jsx(Button$2,{size:"small",variant:"outlined",onClick:tt,children:et("common.btn.finishCustomizing")})]})]})},DivWrap$1=styled$1("div")(()=>({width:"184px"})),NOTE_MODES=[{value:NOTE_MODE.STANDARD,label:NOTE_MODE.STANDARD,icon:jsx(GridViewOutlinedIcon,{})},{value:NOTE_MODE.RING,label:NOTE_MODE.RING,icon:jsx(DataSaverOffOutlinedIcon,{})},{value:NOTE_MODE.RING_DANCE,label:"Ring Dance",icon:jsx(SensorOccupiedIcon,{})}],TabModes=()=>{const tt=useDialog$1(),et=useAppDispatch(),rt=useAppSelector(getNoteMode),nt=useAppSelector(getSelectedSong),it=useAppSelector(getDifficulty),{Perm:ot}=useAppSelector(getUserInfo),{navigate:at}=useRouter(),st=reactExports.useMemo(()=>NOTE_MODES.filter(ct=>isArray$o(ot)?ot.includes(ct.value):NOTE_MODE.RING===ct.value),[ot]),lt=async(ct,ut)=>{if(!nt)return;const dt=getDifficultKey(ut),ft=nt[dt];(!ft||!ft[it])&&(await tt.confirm(`请问是否创建"${ut}"模式的"${it}"谱面？`),await et(createDifficulty(it,ut))),et(selectNoteTool(NOTE_TOOLS.BLOCK_1)),at(PageEnum.EDIT_NOTES,{id:nt.id,difficulty:it,mode:ut})};return jsx(Fragment,{children:(st==null?void 0:st.length)>1&&jsx(StyledTabs,{value:rt,onChange:lt,children:st.map(ct=>jsx(Tab$2,{value:ct.value,label:ct.label,icon:ct.icon},ct.value))})})},StyledTabs=styled$1(tt=>jsx(Tabs$1,{...tt,TabIndicatorProps:{children:jsx("span",{className:"MuiTabs-indicatorSpan"})}}))(({theme:tt})=>({marginBottom:10,"& .MuiTabs-indicator":{display:"flex",justifyContent:"center",backgroundColor:"transparent"},"& .MuiTabs-indicatorSpan":{backgroundColor:tt.palette.primary.main}})),allDeleteItem=[SHORTCUT_DELETE.OBSTACLE,SHORTCUT_DELETE.HAND_NOTE,SHORTCUT_DELETE.FOOT_NOTE],ShortcutDeleteAction=({shortcutDelete$:tt})=>{const{t:et}=useI18n(),[rt,nt]=reactExports.useState(!1),{enqueueSnackbar:it}=useNotice(),ot=useAppDispatch(),at=useAppSelector(getFootNotes),st=useAppSelector(getHandNotes),lt=useAppSelector(getObstacles);tt.useSubscription(gt=>{nt(gt==="shortcutDelete")});const[ct,ut]=useCreation(()=>{const gt=!lt.length&&!st.length&&!at.length;return[[{value:SHORTCUT_DELETE.OBSTACLE,label:et("common.title.obstacle"),disabled:!lt.length},{value:SHORTCUT_DELETE.HAND_NOTE,label:et("common.title.handNote"),disabled:!st.length},{value:SHORTCUT_DELETE.FOOT_NOTE,label:et("common.title.footerNote"),disabled:!at.length},{value:SHORTCUT_DELETE.ALL,label:et("common.label.all"),disabled:gt}],gt]},[at,st,lt]),[dt,ft]=reactExports.useState(),pt=reactExports.useCallback(gt=>{const vt=gt.target.value;ft(vt)},[dt]),mt=reactExports.useCallback(()=>{dt&&(dt!==SHORTCUT_DELETE.ALL?ot(deleteNoteOrObsFormType(dt)):allDeleteItem.forEach(gt=>{ot(deleteNoteOrObsFormType(gt))}),ht(),it(et("common.notice.successOperation")))},[dt]),ht=()=>{nt(!1)};return jsx(BasicModal,{open:rt,width:400,title:et("common.btn.quickDelete"),onClose:ht,children:jsxs(Box$2,{sx:{},display:"flex",flexDirection:"column",justifyContent:"space-between",children:[jsx(BaseRadio,{labelStyle:{mt:1},sx:{my:1},row:!1,title:et("common.btn.tip.shortcutDeleteAction"),value:dt,data:ct,onChange:pt}),jsx(Button$2,{variant:"contained",onClick:mt,disabled:ut,children:et("common.btn.ok")})]})})},ShortcutDeleteAction$1=reactExports.memo(ShortcutDeleteAction);var DeleteForever={},_interopRequireDefault$l=interopRequireDefaultExports;Object.defineProperty(DeleteForever,"__esModule",{value:!0});var default_1$c=DeleteForever.default=void 0,_createSvgIcon$c=_interopRequireDefault$l(requireCreateSvgIcon()),_jsxRuntime$c=require$$2$2,_default$h=(0,_createSvgIcon$c.default)((0,_jsxRuntime$c.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zm2.46-7.12 1.41-1.41L12 12.59l2.12-2.12 1.41 1.41L13.41 14l2.12 2.12-1.41 1.41L12 15.41l-2.12 2.12-1.41-1.41L10.59 14l-2.13-2.12zM15.5 4l-1-1h-5l-1 1H5v2h14V4z"}),"DeleteForever");default_1$c=DeleteForever.default=_default$h;const useGroupNoteAction=(tt,et,rt)=>{const nt=useAppDispatch(),it=reactExports.useCallback(at=>{const st=tt.flatMap(lt=>lt._groupId===at?[lt.id]:[]);nt(deleteNotes(st))},[tt]),ot=reactExports.useCallback(at=>{if(rt===at||et)return;nt(setSelectGroupId(at));const st=tt.find(lt=>lt._groupId===at);st&&(tt.forEach(lt=>{let ct={time:lt._time,lineLayer:lt._lineLayer,lineIndex:lt._lineIndex};lt.selected===!0||!lt.selected&&lt._groupId===st._groupId&&nt(selectNote({...ct,type:SELECTION_MODE.Select}))}),nt(jumpToBeat({beatNum:st._time,pauseTrack:!0,animateJump:!0})))},[rt,et,tt]);return{onDelete:it,onClick:ot}},Group=({shortcutDelete$:tt,mediaQueryHeight:et,groupNoteIds:rt,title:nt="全部音符组",currentGroupId:it})=>{const ot=useAppSelector(getNotes),at=useAppSelector(getIsPlaying),{onClick:st,onDelete:lt}=useGroupNoteAction(ot,at,it),{t:ct}=useI18n();return jsxs(Box$2,{display:"flex",flexDirection:"column",justifyContent:"space-between",height:"100%",children:[jsxs("section",{children:[jsx(BasicTitle,{sx:{textAlign:"left",width:"100%",mb:1},variant:"subtitle1",children:nt}),jsx(Box$2,{display:"flex",flexDirection:"column",children:rt.map((ut,dt)=>jsx(BaseTag,{style:{borderRadius:5,marginBottom:8,justifyContent:"space-between",padding:"1rem 0",border:it===ut?"1px solid white":""},sxColor:"white",variant:"filled",label:`${ct("common.note.groupNotes")}${dt+1}`,onDelete:()=>lt(ut),onClick:()=>st(ut),deleteIcon:jsx(default_1$c,{sx:{"&.MuiChip-deleteIcon":{color:colors$3.red[400]}}})},ut))})]}),tt&&jsx(Button$2,{sx:{userSelect:"none",mt:1},size:"small",variant:"outlined",onClick:()=>tt.emit("hideGroupPanel"),children:ct("common.btn.closePanel")})]})},Group$1=reactExports.memo(Group),isControlDirection$1=getEditorIsControlDirection(),PanelComponent=tt=>{let et;return tt.showGridConfig?et=jsx(GridPlaneConfig,{finishTweakingGrid:()=>tt.setShowGridConfig(!1)}):et=jsxs(Stack$5,{spacing:1,divider:jsx(Divider$1,{orientation:"vertical",flexItem:!0}),direction:"column",children:[isControlDirection$1,jsx(NotesGrid,{}),jsx(PanelActions,{song:tt.song,showAllGroupPanel:tt.showAllGroupPanel,handleGridConfigClick:()=>tt.setShowGridConfig(!0),shortcutDelete$:tt.shortcutDelete$})]}),et},EditorRightPanel=()=>{const tt=useAppDispatch(),{t:et}=useI18n(),rt=useMediaQuery("(max-height:800px)"),nt=useMediaQuery(zt=>zt.breakpoints.up("xl")),it=useEventEmitter(),ot=useAppSelector(getSelectedSong),at=useAppSelector(getSelectedBlocks),st=useAppSelector(getSelectedMines),lt=useAppSelector(getSelectedObstacles),[ct,ut]=reactExports.useState(!1),dt=useAppSelector(getSelectHandNotes),ft=useAppSelector(getHandNotes),{currentGroupId:pt,selectedGroupNotesIds:mt,allGroupNotesGroupIds:ht,notGroupedBlockNumIds:gt,selectFootNoteIds:vt,currentGroupAllBlockIds:yt,currentGroupNoteIds:bt,notInGroupSelectNoteIds:xt,isCreatGroupNoteType:$t,mergeGroupNoteType:Tt}=useGroupNote(at,ft),wt=reactExports.useMemo(()=>mt.reduce((zt,Vt)=>{let Ut=[];return ft.forEach(jt=>{jt._groupId===Vt&&jt.selected&&Ut.push(jt.id)}),[...zt,Ut]},[]),[mt,ft]);let At=at.length>0||lt.length>0||st.length>0;const Rt=at.length,It=st.length,Lt=lt.length;reactExports.useEffect(()=>{dt.some(Vt=>Vt.selected&&Vt._groupId===pt)||tt(setSelectGroupId(""))},[pt,dt]);const[Pt,Nt]=reactExports.useState(!1);useOnChangeAction(()=>{Pt&&At&&Nt(!1)},Rt+It+Lt);const Ot=getEditorNoteModeSettings().length>1;it.useSubscription(zt=>{ut(zt==="showAllGroupPanel")});const Bt={currentGroupId:pt,currentGroupAllBlockIds:yt,currentGroupNoteIds:bt,notInGroupSelectNoteIds:xt,notGroupedBlockNumIds:gt,numOfSelectedBlocks:Rt,numOfSelectedMines:It,numOfSelectedObstacles:Lt,selectHandNotes:dt,selectFootNoteIds:vt,selectGroups:wt,isCreatGroupNoteType:$t,mergeGroupNoteType:Tt};return jsxs(Fragment,{children:[jsxs(Container$5,{sx:{transform:nt?"scale(1)":"scale(0.8)",transformOrigin:"top right"},onWheel:zt=>{zt.stopPropagation()},children:[At&&jsx(Card$1,{sx:{mr:1},children:jsx(CardContent,{children:jsx(SelectionAction,{...Bt,isSeparatePlane:void 0})})}),(ct||!!mt.length)&&jsx(Card$1,{sx:{mr:1,width:176},children:jsx(CardContent,{sx:{height:510,overflowY:"auto"},children:jsx(Group$1,{title:et(ct?"common.title.allGroupsNote":"common.title.selectedGroupOfNotes"),currentGroupId:pt,shortcutDelete$:ct?it:null,selectHandNotes:dt,mediaQueryHeight:rt,groupNoteIds:ct?ht:mt})})}),jsx(Card$1,{children:jsxs(CardContent,{children:[Ot&&jsx(TabModes,{}),jsx(PanelComponent,{...Bt,song:ot,shortcutDelete$:it,showGridConfig:Pt,isAnythingSelected:At,setShowGridConfig:Nt,showAllGroupPanel:ct,isSeparatePlane:nt})]})})]}),jsx(Container$5,{onWheel:zt=>{zt.stopPropagation()}}),jsx(ShortcutDeleteAction$1,{shortcutDelete$:it})]})},Container$5=styled$1("section")`
  position: absolute;
  top: 20px;
  right: 20px;
  display: flex;
`,CardContent=styled$1("div")`
  display: flex;
  padding: 10px;
  flex-direction: column;
`,StatisticTime=()=>{useAppSelector(getSelectedSong);const tt=useAppSelector(getCursorPosition),{t:et}=useI18n(),rt=getMinutesSecondsTimestamp(tt);return jsxs(Stack$5,{children:[jsx(Typography$1,{color:"text.disabled",align:"center",fontWeight:500,children:et("common.label.time")}),jsx(Typography$1,{children:rt})]})},StatisticBeat=()=>{const{t:tt}=useI18n(),et=useAppSelector(getSelectedSong),rt=useAppSelector(getIsPlaying);let nt="--";if(et){const it=useAppSelector(getCursorPositionInBeats);let ot=rt?roundToNearest(it,.5):it;nt=getFormatBeatNum(ot)}return jsxs(Stack$5,{children:[jsx(Typography$1,{color:"text.disabled",fontWeight:500,children:tt("common.label.beat")}),jsx(Typography$1,{children:nt})]})},iconFontSize="large",Navigation=({view:tt})=>{const{t:et}=useI18n(),rt=useAppDispatch(),nt=useAppSelector(getIsPlaying),it=useAppSelector(getIsLoading),ot=()=>{rt(nt?pausePlaying():startPlaying())},at=useAppSelector(getSnapTo),st=useAppSelector(getSelectedSong),lt=(st==null?void 0:st.offset)??0;return jsxs(Stack$5,{sx:{width:"100%",padding:"10px 0"},direction:"row",justifyContent:"space-between",alignItems:"center",children:[jsx(BaseSelect,{label:et("common.label.snapTo"),value:at,formSx:{width:130},onChange:ct=>rt(changeSnapTo(ct.target.value)),children:SNAPPING_THRESHOLD_VALUES.map(({value:ct,label:ut,shortcutLabel:dt})=>jsxs(MenuItem$1,{value:ct,children:[ut," ",dt&&`(${dt})`]},ct))}),jsxs("div",{children:[jsx(IconButton$1,{disabled:it,onClick:()=>rt(skipToStart(lt)),children:jsx(SkipPreviousRounded,{fontSize:iconFontSize})}),jsx(IconButton$1,{disabled:it,onClick:ct=>{rt(seekBackwards(tt))},children:jsx(FastRewindRounded,{fontSize:iconFontSize})}),jsx(IconButton$1,{disabled:it,onClick:ot,children:nt?jsx(PauseCircleFilledRounded,{fontSize:iconFontSize,color:"primary"}):jsx(PlayCircleRounded,{fontSize:iconFontSize,color:"primary"})}),jsx(IconButton$1,{disabled:it,onClick:ct=>{rt(seekForwards(tt))},children:jsx(FastForwardRounded,{fontSize:iconFontSize})}),jsx(IconButton$1,{disabled:it,onClick:()=>rt(skipToEnd()),children:jsx(SkipNextRounded,{fontSize:iconFontSize})})]}),jsxs(Stack$5,{direction:"row",spacing:3,justifyContent:"space-between",children:[jsx(StatisticTime,{}),jsx(StatisticBeat,{})]})]})},TOP_VERTICAL_FLAG=15,BOTTOM_VERTICAL=CONST_UNIT,MarksFlag=({mark:tt,offset:et,jumpAction:rt,deleteAction:nt})=>{const it={left:`${et}%`,color:tt.color.text,backgroundColor:tt.color.background};return jsxs(Fragment,{children:[jsx(VerticalBar,{style:it}),jsxs(FlagWrapper,{style:it,onMouseUp:at=>{at.preventDefault(),at.button===2?nt():rt()},onContextMenu:at=>{at.preventDefault()},onClick:void 0,children:[jsxs(BeatNumber,{children:[tt.beatNum," "]}),jsx(MarkName,{children:tt.name}),jsx(Decoration,{viewBox:"0 0 5 10",children:jsx("polygon",{fill:tt.color.background,points:"0,0 5,5 0,10"})})]})]})},VerticalBar=createStyled$1("div",{target:"e1yqgja64"})("position:absolute;z-index:2;top:",-TOP_VERTICAL_FLAG,"px;bottom:",BOTTOM_VERTICAL,"px;width:2px;transform:translateX(-1px);border-radius:2px 0 2px 2px;pointer-events:none;"),FlagWrapper=createStyled$1(UnfocusedButton,{target:"e1yqgja63"})("position:absolute;z-index:2;top:",-TOP_VERTICAL_FLAG,"px;padding-left:4px;padding-right:4px;height:20px;line-height:20px;display:flex;"),BeatNumber=createStyled$1("div",{target:"e1yqgja62"})({name:"1nu7505",styles:"font-size:11px;font-weight:bold"}),Decoration=createStyled$1("svg",{target:"e1yqgja61"})({name:"10f37gq",styles:"position:absolute;top:0;right:0;bottom:0;transform:translateX(100%);height:100%"}),MarkName=createStyled$1("div",{target:"e1yqgja60"})("margin-left:6px;font-size:11px;display:none;",FlagWrapper,":hover &{display:block;}"),Marks=()=>{const tt=useAppDispatch(),et=useAppSelector(getSortedBookmarksArray),rt=useAppSelector(getDurationInBeats),nt=useAppSelector(getOffsetInBeats);return[...et].reverse().map(it=>{const at=(it.beatNum+nt)/rt*100;return jsx(MarksFlag,{mark:it,offset:at,jumpAction:()=>tt(jumpToBeat({beatNum:it.beatNum})),deleteAction:()=>tt(deleteBookmark(it.beatNum))},it.beatNum)})},getYCoordinate=(tt,et)=>tt-(et+128)*tt/256,getNewCursorPosValue=(tt,et,rt)=>{const nt=et.current.getBoundingClientRect();return(tt.pageX-nt.left)/nt.width*rt},DragWaveform=({width:tt,height:et,data:rt,duration:nt,cursorPos:it,dragWaveformAction:ot})=>{const at=useTheme(),st=reactExports.useRef(null),lt=reactExports.useRef(null),{style:ct,...ut}=getCanvasStyleInfo(tt,et),[dt,ft]=reactExports.useState(!1),pt=reactExports.useCallback(xt=>{if(!st.current)return;const $t=getNewCursorPosValue(xt,st,nt);ot==null||ot($t)},[nt,ot]),{run:mt}=useThrottleFn(xt=>{if(!dt)return;const $t=getNewCursorPosValue(xt,st,nt);ot==null||ot($t)},{wait:30}),ht=reactExports.useCallback(mt,[nt,ot,dt]),gt=xt=>{xt.persist(),dt&&ht(xt)},vt=()=>{ft(!0)},yt=()=>{ft(!1)};reactExports.useEffect(()=>{if(!st.current||!rt)return;lt.current||(lt.current=st.current.getContext("2d"));const xt=lt.current,$t=getDevicePixelRatioValue();xt.setTransform(1,0,0,1,0,0),xt.scale($t,$t),xt.clearRect(0,0,tt,et),xt.strokeStyle=at.palette.primary.main,xt.beginPath();const Tt=rt.resample({width:tt}),wt={min:Tt.channel(0).min_array(),max:Tt.channel(0).max_array()};wt.min.forEach((At,Rt)=>{xt.lineTo(Rt,getYCoordinate(et,At)),xt.lineTo(Rt+.5,getYCoordinate(et,wt.max[Rt]))}),xt.stroke()},[tt,et,rt]);const bt=it/nt;return jsxs(Container$4,{children:[jsx(Canvas,{ref:st,onClick:pt,onMouseDown:vt,onMouseUp:yt,onMouseMove:gt,onMouseLeave:yt,style:ct,...ut}),jsx(Progress,{style:{transform:`scaleX(${1-bt})`}})]})},Container$4=styled$1("div")`
  position: relative;
`,Canvas=styled$1("canvas")`
  position: relative;
  z-index: 1;
  display: block;
`,Progress=styled$1("div")(({theme:tt})=>({position:"absolute",zIndex:2,top:0,left:0,right:0,bottom:0,background:tt.palette.background.default,opacity:.6,mixBlendMode:"darken",transformOrigin:"center right",pointerEvents:"none"})),DragWaveform$1=React.memo(DragWaveform),Waveform=({height:tt})=>{const[et,rt]=useElementBoundingRect(),nt=useAppDispatch(),it=useAppSelector(getSelectedSong),ot=useAppSelector(getIsLoading),at=useAppSelector(getGraphicsLevel),st=useAppSelector(getDuration),lt=useAppSelector(getCursorPosition),ct=useAppSelector(getWaveformData);let ut=reactExports.useMemo(()=>{let pt;switch(at){case GRAPHICS_LEVEL.LOW:pt=roundToNearest(lt,150);break;case GRAPHICS_LEVEL.MEDIUM:pt=roundToNearest(lt,75);break;case GRAPHICS_LEVEL.HIGH:pt=lt;break}return pt},[lt]);const dt=tt-CONST_UNIT*2,ft=rt!=null&&rt.width?parseInt(rt==null?void 0:rt.width):0;return jsxs(Container$3,{ref:et,children:[ot&&jsx(SectionLoading,{}),rt&&it&&jsxs(Fragment,{children:[jsx(DragWaveform$1,{width:ft,height:dt,data:ct,duration:st,cursorPos:ut,dragWaveformAction:pt=>nt(scrubWaveform(pt))}),!ot&&jsx(Marks,{})]})]})},Container$3=styled$1("div")`
  position: relative;
  width: 100%;
`,NumberIndicator=({Icon:tt,tipTitle:et,num:rt})=>jsx(BaseTooltip,{title:et,children:jsxs(Stack$5,{spacing:.4,direction:"row",alignItems:"center",children:[jsx(tt,{sx:{fontSize:16},color:"disabled"}),jsx(Typography$1,{variant:"body2",color:"text.disabled",children:rt})]})}),NotesPerSecond=()=>{const tt=useAppSelector(getNoteDensity);return jsx(NumberIndicator,{Icon:AvTimerOutlined,num:roundTo(tt),tipTitle:"Notes per second"})},StatusBar=({type:tt})=>{const et=useAppSelector(getPlayNoteTick),rt=useAppSelector(getBeatDepth),nt=useAppSelector(getPlaybackRate),it=useAppSelector(getVolume),ot=useAppSelector(getNumOfBlocks),at=useAppSelector(getNumOfMines),st=useAppSelector(getNumOfObstacles),lt=useAppSelector(getShowLightingPreview),ct=useAppSelector(getRowHeight),ut=useAppSelector(getBackgroundOpacity),dt=useAppSelector(getIsStandardNoteMode),ft=useAppSelector(getAllGroupNotesGroupIds),pt=useAppDispatch(),{t:mt}=useI18n(),ht=()=>{pt(toggleNoteTick())};return jsxs(StatusBarWrapper,{children:[jsxs(Stack$5,{direction:"row",spacing:2,children:[tt===VIEW_TYPE.NOTES&&jsxs(Fragment,{children:[jsx(NumberIndicator,{Icon:WidgetsOutlined,num:ot,tipTitle:pluralize(ot,"block")}),dt&&jsx(NumberIndicator,{Icon:PanoramaPhotosphereOutlined,num:at,tipTitle:pluralize(at,"mine")}),jsx(NumberIndicator,{Icon:BorderVerticalOutlined,num:st,tipTitle:pluralize(st,"obstacle")}),jsx(NotesPerSecond,{}),jsx(NumberIndicator,{Icon:Diversity2,num:ft.length,tipTitle:"组音符数量"})]}),tt===VIEW_TYPE.EVENTS&&jsxs(Fragment,{children:[jsx(ToggleSwitch,{OffIcon:InvertColorsOffOutlined,OnIcon:OpacityOutlined,tipTitle:mt("common.control.enablingLights"),onChange:()=>pt(toggleShowLightingPreview()),checked:lt}),jsx(BaseSlider,{LeftIcon:FormatLineSpacingOutlined,RightIcon:FormatLineSpacingOutlined,tipTitle:mt("common.control.customHeight"),value:ct,min:25,max:50,step:1,onChange:gt=>pt(setEventRowHeight(gt))}),jsx(BaseSlider,{LeftIcon:VisibilityOffOutlined,RightIcon:VisibilityOutlined,tipTitle:mt("common.control.seeThrough"),value:ut,min:.3,max:1,step:.02,onChange:gt=>pt(setEventsBackgroundOpacity(gt))})]})]}),jsxs(Stack$5,{direction:"row",spacing:2,children:[jsx(ToggleSwitch,{OffIcon:NotificationsOffOutlined,OnIcon:NotificationsOutlined,tipTitle:mt("common.control.tick"),onChange:ht,checked:et}),tt==="notes"&&jsx(BaseSlider,{LeftIcon:CloseFullscreenOutlined,value:rt,min:9,max:50,step:1,tipTitle:mt("common.control.spacingBetweenBeats"),onChange:gt=>pt(setBeatDepth(gt))}),jsx(BaseSlider,{LeftIcon:FastRewindOutlined,value:nt,min:.2,max:1.5,step:.1,tipTitle:mt("common.control.audiosSpeed"),onChange:gt=>pt(setPlaybackSpeed(gt))}),jsx(BaseSlider,{LeftIcon:VolumeDownOutlined,RightIcon:VolumeUpOutlined,value:it,min:0,max:1,tipTitle:mt("common.control.volume"),onChange:gt=>pt(setVolume(gt))})]})]})},StatusBarWrapper=styled$1("div")(({theme:tt})=>({padding:"8px 10px",display:"flex",justifyContent:"space-between",alignItems:"center",background:tt.palette.background.paper})),EditorBottomBar=({type:tt=VIEW_TYPE.NOTES})=>{let rt,nt;return tt===VIEW_TYPE.NOTES?(nt="absolute",rt={top:"auto",left:0,right:0,bottom:0,opacity:.9}):(nt="relative",rt={}),jsx(AppBar$1,{position:nt,color:"primary",sx:{overflow:"hidden",...rt},children:jsx(Toolbar$1,{sx:{"&.MuiToolbar-root":{paddingLeft:0,paddingRight:0}},children:jsxs(Stack$5,{sx:{width:"100%",height:tt!==VIEW_TYPE.PREVIEW?"180px":"auto"},children:[tt!==VIEW_TYPE.PREVIEW&&jsx(StatusBar,{type:tt}),jsxs("div",{style:{padding:"0 10px"},children:[jsx(Navigation,{view:tt}),jsx(Waveform,{height:80})]})]})})})};var AddCircle={},_interopRequireDefault$k=interopRequireDefaultExports;Object.defineProperty(AddCircle,"__esModule",{value:!0});var default_1$b=AddCircle.default=void 0,_createSvgIcon$b=_interopRequireDefault$k(requireCreateSvgIcon()),_jsxRuntime$b=require$$2$2,_default$g=(0,_createSvgIcon$b.default)((0,_jsxRuntime$b.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm5 11h-4v4h-2v-4H7v-2h4V7h2v4h4v2z"}),"AddCircle");default_1$b=AddCircle.default=_default$g;const CreateDifficultyForm=({song:tt,currentDifficulty:et,difficultyIds:rt,onCreateAction:nt})=>{const{navigate:it}=useRouter(),ot=useSelector(getNoteMode),{t:at}=useI18n(),[st,lt]=reactExports.useState(""),{getDifficultColorsType:ct,getDifficultColors:ut}=useCustomTheme(),dt=ct(),ft=ut();return jsxs(Fragment,{children:[jsxs(Typography$1,{sx:{mt:1},children:[at("common.label.selectTheDifficulty"),jsx(Link$2,{onClick:()=>it(PageEnum.EDIT_SETTING,{id:tt.id,difficulty:et,mode:ot}),children:at("common.link.songDetailsPage")}),"."]}),jsx(Stack$5,{direction:"row",justifyContent:"center",spacing:0,sx:{m:3},children:DIFFICULTIES.map(pt=>{const mt=rt.includes(pt),ht=dt[pt];return jsx(reactExports.Fragment,{children:jsx(DifficultyButton,{disabled:mt,isSelected:st===pt,color:st===pt?ht:void 0,onClick:()=>lt(pt),colorValue:ft[pt],children:pt})},pt)})}),jsx(Stack$5,{justifyContent:"center",sx:{mt:4},children:jsx(Button$2,{variant:"contained",onClick:()=>nt(st),children:at("common.btn.createBeatmap")})})]})};function DifficultySquare({song:tt,difficultyToLoad:et,handleChange:rt,mode:nt}){const{t:it}=useI18n(),{getDifficultColors:ot,getDifficultHoverColors:at}=useCustomTheme(),st=ot(),lt=at(),ct=getDifficultKey(nt);return jsx(Fragment,{children:DIFFICULTIES.map((ut,dt)=>jsx(BaseTooltip,{title:it(`common.difficulty.${ut}`),placement:"top",enterDelay:600,children:jsx("span",{style:{marginRight:"2px"},children:jsx(DifficultyRadio,{value:ut,color:st[ut],hoverColor:lt[ut],checked:et===ut,disabled:!tt[ct][ut],onChange:rt})})},dt))})}const IMG_SIZE_DEFAULT="default",SongInfoCard=({imgSize:tt=IMG_SIZE_DEFAULT,isShowDifficulty:et=!0,pageType:rt="notes"})=>{var bt;const{navigate:nt}=useRouter(),{t:it}=useI18n(),ot=useAppSelector(getSelectedSong),at=useAppSelector(getSelectedSongDifficultyIds),st=useAppSelector(getDifficulty),lt=useAppSelector(getIsPlaying),ct=useSelector(getNoteMode),ut=useAppDispatch(),[dt,ft]=reactExports.useState(!1),[pt]=useLocalStoreFile(ot.coverArtFilename),mt=tt===IMG_SIZE_DEFAULT?{height:100,width:100}:{height:50,width:50},ht=xt=>{const{value:$t}=xt.target;gt(ot.id,$t)},gt=(xt,$t)=>{lt&&ut(pausePlaying()),nt(`/edit/${rt}`,{id:xt,difficulty:$t,mode:ct})},vt=async xt=>{await ut(createDifficulty(xt,ct)),gt(ot.id,xt),ft(!1)},yt=ot&&((bt=ot.name)==null?void 0:bt.length)>20?ot.name.substring(0,20)+"...":ot==null?void 0:ot.name;return jsxs(Fragment,{children:[jsxs(CardWrapper$1,{children:[jsx(ImgCard,{url:pt,imgSize:mt}),jsxs(CardContentDiv$1,{style:{padding:et?"10px 5px 0 10px":"3px 10px 0 10px"},children:[jsxs("div",{children:[jsx(Typography$1,{style:{whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},component:"div",variant:"h6",lineHeight:1,color:"primary",children:yt}),jsx(Typography$1,{variant:"subtitle1",color:"text.secondary",component:"div",children:ot.artistName})]}),et&&jsxs(DifficultyControlsDiv,{children:[et&&jsx("div",{style:{marginRight:10},children:jsx(DifficultySquare,{difficultyToLoad:st,song:ot,handleChange:ht,mode:ct})}),rt==="notes"&&at.length<5&&jsx(IconButton$1,{onClick:()=>ft(!0),children:jsx(default_1$b,{fontSize:"small",children:"add_circle"})})]})]})]}),jsx(BasicModal,{open:dt,title:it("common.title.createNewBeatMap"),width:540,onClose:()=>ft(!1),children:jsx(CreateDifficultyForm,{onCreateAction:vt,song:ot,currentDifficulty:st,difficultyIds:at})})]})},SongInfoCard$1=reactExports.memo(SongInfoCard),CardWrapper$1=styled$1(Card$1)`
  display: flex;
  position: absolute;
  left: 90px;
  top: 20px;
  z-index: 100;
`,CardContentDiv$1=styled$1(CardContent$2)`
  padding: 10px 0 0 10px;
`,DifficultyControlsDiv=styled$1("div")`
  justify-content: space-between;
  align-items: center;
  display: flex;
  margin-top: 5px;
`,{notes:NOTES_SHORTCUT_KEY}=settings,isControlDirection=getEditorIsControlDirection(),KEY_A="KeyA",KEY_S="KeyS",KEY_W="KeyW",KEY_D="KeyD",KEY_F="KeyF",ShortcutKey$1=({isMoveCamera:tt})=>{const et=useAppDispatch(),rt=useAppSelector(getNotes),nt=useAppSelector(getObstacles),it=useAppSelector(getErrorCheckerOpen),ot=useAppSelector(getIsStandardNoteMode),at=useAppSelector(getHandNotes),st=useAppSelector(getSelectedBlocks),{currentGroupAllBlockIds:lt,notInGroupSelectNoteIds:ct,isCreatGroupNoteType:ut,mergeGroupNoteType:dt}=useGroupNote(st,at);useHotkeys(NOTES_SHORTCUT_KEY.select_block_1,()=>{et(selectNoteTool(NOTE_TOOLS.BLOCK_1))}),useHotkeys(NOTES_SHORTCUT_KEY.select_block_2,()=>{et(selectNoteTool(NOTE_TOOLS.BLOCK_2))}),useHotkeys(NOTES_SHORTCUT_KEY.select_block_main,()=>{ot&&et(selectNoteTool(NOTE_TOOLS.MINE))},[ot]),useHotkeys(NOTES_SHORTCUT_KEY.select_block_obstacle,()=>{et(selectNoteTool(NOTE_TOOLS.OBSTACLE_1))}),useHotkeys(NOTES_SHORTCUT_KEY.swap_selected_horizontal,()=>{et(swapSelectedNotes(SWAPS.HORIZONTAL))}),useHotkeys(NOTES_SHORTCUT_KEY.swap_selected_vertical,()=>{et(swapSelectedNotes(SWAPS.VERTICAL))}),useHotkeys(NOTES_SHORTCUT_KEY.note_direction_up,()=>{tt||et(ot?selectNoteDirection(NOTE_ARROW.UP):setRingDirection(RING_DIRECTION.OUTSIDE))},[tt,ot]),useHotkeys(NOTES_SHORTCUT_KEY.note_direction_left,()=>{tt||et(selectNoteDirection(NOTE_ARROW.LEFT))},[tt]),useHotkeys(NOTES_SHORTCUT_KEY.note_direction_down,()=>{tt||et(ot?selectNoteDirection(NOTE_ARROW.DOWN):setRingDirection(RING_DIRECTION.INSIDE))},[tt]),useHotkeys(NOTES_SHORTCUT_KEY.note_direction_right,()=>{tt||et(selectNoteDirection(NOTE_ARROW.RIGHT))},[tt]),useHotkeys(NOTES_SHORTCUT_KEY.note_direction_up_left,()=>{et(selectNoteDirection(NOTE_ARROW.UP_LEFT))}),useHotkeys(NOTES_SHORTCUT_KEY.note_direction_up_right,()=>{et(selectNoteDirection(NOTE_ARROW.UP_RIGHT))}),useHotkeys(NOTES_SHORTCUT_KEY.note_direction_down_right,()=>{et(selectNoteDirection(NOTE_ARROW.DOWN_RIGHT))}),useHotkeys(NOTES_SHORTCUT_KEY.note_direction_down_left,()=>{et(selectNoteDirection(NOTE_ARROW.DOWN_LEFT))}),useHotkeys(NOTES_SHORTCUT_KEY.note_direction_circle,()=>{et(ot?selectNoteDirection(NOTE_ARROW.CIRCLE):setRingDirection(RING_DIRECTION.WITHIN))},[ot]),useHotkeys(NOTES_SHORTCUT_KEY.select_note_all,mt=>{mt.preventDefault();const ht=rt.some(yt=>yt.selected),gt=nt.some(yt=>yt.selected);et(ht||gt?deselectAll(VIEW_TYPE.NOTES):selectNoteAll())},[rt,nt]);let ft=reactExports.useRef({w:!1,a:!1,s:!1,d:!1});const pt=mt=>{var gt;const{mouseEnterNote:ht}=noteFeature;ht.length&&(isRingNoteFooterType((gt=ht.at(0))==null?void 0:gt._ringNoteType)||et(setBlockDirection({note:ht[0],duration:mt})))};return useHotkeys("*",mt=>{if(!(!mt.altKey||!isControlDirection)&&(mt.preventDefault(),!!noteFeature.isMouseEnterNote()))switch(mt.code){case KEY_W:ft.current.w=!0,ft.current.a?pt(NOTE_ARROW.UP_LEFT):ft.current.d?pt(NOTE_ARROW.UP_RIGHT):pt(NOTE_ARROW.UP);break;case KEY_A:ft.current.a=!0,ft.current.w?pt(NOTE_ARROW.UP_LEFT):ft.current.s?pt(NOTE_ARROW.DOWN_LEFT):pt(NOTE_ARROW.LEFT);break;case KEY_S:ft.current.s=!0,ft.current.a?pt(NOTE_ARROW.DOWN_LEFT):ft.current.d?pt(NOTE_ARROW.DOWN_RIGHT):pt(NOTE_ARROW.DOWN);break;case KEY_D:ft.current.d=!0,ft.current.w?pt(NOTE_ARROW.UP_RIGHT):ft.current.s?pt(NOTE_ARROW.DOWN_RIGHT):pt(NOTE_ARROW.RIGHT);break;case KEY_F:pt(NOTE_ARROW.CIRCLE);break}},{keydown:!0}),useHotkeys("*",mt=>{if(!(!mt.altKey||!isControlDirection))switch(mt.code){case KEY_W:{ft.current.w=!1;break}case KEY_A:{ft.current.a=!1;break}case KEY_S:{ft.current.s=!1;break}case KEY_D:{ft.current.d=!1;break}}},{keyup:!0}),useHotkeys(NOTES_SHORTCUT_KEY.note_toggle_error_checker,mt=>{mt.preventDefault(),et(setErrorCheckerOpen(!it))},[it]),useHotkeys(NOTES_SHORTCUT_KEY.create_group_note,mt=>{mt.preventDefault(),dt&&lt&&ct?et(mergeGroupNote({currentGroupAllBlockIds:lt,notInGroupSelectNoteIds:ct})):ut&&et(creatGroupNote())},[ut,dt,lt,ct]),null},COMMAND="command",CTRL="ctrl",numArr=[1,2,3,4,5,6,7,8,9],keyboardFn=tt=>numArr.reduce((et,rt,nt)=>et+`${tt}+${rt}${nt<numArr.length-1?",":""}`,""),commandNum=keyboardFn(COMMAND),ctrlNum=keyboardFn(CTRL),{global:GLO_SHORTCUT_KEY}=settings,GlobalShortcutKey=({view:tt,isMoveCamera:et})=>{const rt=useAppDispatch(),nt=useAppSelector(getIsPlaying),it=useAppSelector(getSelectedSong),ot=useAppSelector(xt=>getSelection$1(xt,tt)),at=useAppSelector(getSortedBookmarksArray),st=useAppSelector(getSelectedNoteTool),lt=useAppSelector(getSelectedEventColor),ct=useAppSelector(getSelectedNotes),ut=useAppSelector(getSelectedObstacles),dt=useAppSelector(getIsStandardNoteMode),{isPaste:ft}=useNotesLimit(),{enqueueSnackbar:pt}=useNotice(),mt=useAppSelector(getSnapTo),{t:ht}=useI18n(),gt=useDialog$1(),{promptQuickSelect:vt,promptJumpToBeat:yt}=usePromts(),bt=useAppSelector(getDurationInBeats);return useWebBlur(xt=>{xt.preventDefault(),globalShortCutKeyClass.togglePressAltStatus(!1)}),useMouseWheel(xt=>{const $t=xt.deltaY>0?THROUGH.BACKWARDS:THROUGH.FORWARDS;if(!globalShortCutKeyClass.isPressAlt){if(globalShortCutKeyClass.isPressShift){rt(backwardsOrForwards($t));return}rt(scrollThroughSong($t))}}),useHotkeys(`${commandNum},${ctrlNum}`,xt=>{xt.preventDefault();const $t=SNAPPING_THRESHOLD_VALUES.find(Tt=>Tt.shortcutKey===Number(xt.key));rt(changeSnapTo($t?$t.value:1))}),useHotkeys(GLO_SHORTCUT_KEY.scroll_forwards_song,()=>{rt(scrollThroughSong(THROUGH.FORWARDS))}),useHotkeys(GLO_SHORTCUT_KEY.scroll_backwards_song,()=>{rt(scrollThroughSong(THROUGH.BACKWARDS))}),useHotkeys(GLO_SHORTCUT_KEY.snap_to_previous,xt=>{xt.preventDefault(),rt(snapToNextOrPrevious(SWITCH_ACTION.PREVIOUS))}),useHotkeys(GLO_SHORTCUT_KEY.snap_to_next,xt=>{xt.preventDefault(),rt(snapToNextOrPrevious(SWITCH_ACTION.NEXT))}),useHotkeys(GLO_SHORTCUT_KEY.song_playing,xt=>{xt.preventDefault(),!et&&rt(nt?pausePlaying():startPlaying())},{keyup:!0},[nt,et]),useHotkeys(GLO_SHORTCUT_KEY.deselect_all,()=>{rt(deselectAll(tt))},{keyup:!0}),useHotkeys(GLO_SHORTCUT_KEY.select_event_note_next,xt=>(xt.preventDefault(),tt===VIEW_TYPE.NOTES?rt(selectNoteNextOrPreviousTool(SWITCH_ACTION.NEXT)):rt(selectEventNextOrPreviousTool(SWITCH_ACTION.NEXT)),!1),{keyup:!0}),useHotkeys(GLO_SHORTCUT_KEY.select_event_note_previous,()=>{tt===VIEW_TYPE.NOTES?rt(selectNoteNextOrPreviousTool(SWITCH_ACTION.PREVIOUS)):rt(selectEventNextOrPreviousTool(SWITCH_ACTION.PREVIOUS))}),useHotkeys(`${GLO_SHORTCUT_KEY.nudgeForwards}, ${GLO_SHORTCUT_KEY.nudgeBackwards}`,(xt,$t)=>{switch(xt.preventDefault(),$t.key){case GLO_SHORTCUT_KEY.nudgeForwards:rt(nudgeSelection({snapTo:mt,direction:NUDGE.FORWARDS,view:tt}));break;case GLO_SHORTCUT_KEY.nudgeBackwards:rt(nudgeSelection({snapTo:mt,direction:NUDGE.BACKWARDS,view:tt}));break}},{keyup:!0},[mt]),useHotkeys(GLO_SHORTCUT_KEY.seek_forwards,()=>{rt(seekForwards(tt))}),useHotkeys(GLO_SHORTCUT_KEY.seek_backwards,()=>{rt(seekBackwards(tt))}),useHotkeys(GLO_SHORTCUT_KEY.skip_to_start,()=>{const xt=(it==null?void 0:it.offset)??0;rt(skipToStart(xt))},[it]),useHotkeys(GLO_SHORTCUT_KEY.skip_to_end,()=>{rt(skipToEnd())}),useHotkeys(GLO_SHORTCUT_KEY.delete_selected_notes,()=>{if(tt===VIEW_TYPE.NOTES)if(!isEmpty$6(ct)||!isEmpty$6(ut))rt(deleteSelectedNotes());else{if(!noteFeature.getMouseEnterNotesIdLength())return;const xt=noteFeature.mouseEnterNotesId.at(0);noteFeature.shiftMouseEnterNotesId(),rt(deleteNotes(xt))}else rt(deleteSelectedEvents());durationNoteFeature.stopDurationNote()},[ct,ut]),useHotkeys(GLO_SHORTCUT_KEY.cut,()=>{rt(cutSelection({view:tt,selection:ot}))},[ot]),useHotkeys(GLO_SHORTCUT_KEY.copy,()=>{rt(copySelection({view:tt,selection:ot}))},[ot]),useHotkeys(GLO_SHORTCUT_KEY.paste,()=>{VIEW_TYPE.NOTES===tt&&!ft||rt(pasteSelectionPayload(tt))},[ft]),useHotkeys(GLO_SHORTCUT_KEY.prompt_jump_to_beat,()=>{(async()=>{if(nt)return;const xt=await yt(bt);xt&&rt(jumpToBeat({beatNum:xt,pauseTrack:!0}))})()},{keyup:!0},[bt,nt]),useHotkeys(GLO_SHORTCUT_KEY.prompt_quick_select,()=>{(async()=>{const xt=await vt(tt);xt&&rt(selectAllInRange(xt))})()},{keyup:!0}),useHotkeys(GLO_SHORTCUT_KEY.select_color_tool,()=>{if(tt===VIEW_TYPE.NOTES){if(st===NOTE_TOOLS.OBSTACLE_1){rt(selectNoteTool(NOTE_TOOLS.BLOCK_1));return}const xt=Number(st.charAt(st.length-1));if(!isNaN(xt)&&!dt){const $t=xt===1?2:1,Tt=st.substr(0,st.length-1).toUpperCase(),wt=NOTE_TOOLS[Tt+$t];rt(selectNoteTool(wt))}else{const $t=st===NOTE_TOOLS.BLOCK_1?NOTE_TOOLS.BLOCK_2:NOTE_TOOLS.BLOCK_1;rt(selectNoteTool($t))}}else lt===EVENT_COLORS.RED?rt(selectEventColor(EVENT_COLORS.BLUE)):rt(selectEventColor(EVENT_COLORS.RED))},[st,lt,dt]),useHotkeys(GLO_SHORTCUT_KEY.set_bookmark,()=>{(async()=>{let xt="";try{if(xt=await gt.prompt(ht("common.dialog.enterANameForThisBookmark")),xt.length>10){pt("输入的字符长度需小于10个字符");return}if(/^[^a-zA-Z0-9\u4e00-\u9fa5]+$/.test(xt)){pt("输入的字符包含标点符号，请输入正确的字符。");return}}catch{return}const $t=getNewMarkColor(at);rt(createBookmarkAction({color:$t,name:xt,view:tt}))})()},[at]),useHotkeys(GLO_SHORTCUT_KEY.redo,()=>{tt===VIEW_TYPE.NOTES?rt(redoNotesPayLoad()):rt(redoEventsPayLoad())}),useHotkeys(GLO_SHORTCUT_KEY.undo,()=>{tt===VIEW_TYPE.NOTES?rt(undoNotesPayLoad()):rt(undoEventsPayLoad())}),useHotkeys(GLO_SHORTCUT_KEY.download,xt=>{xt.preventDefault()}),useHotkeys("*",xt=>{xt.key==="Alt"&&(xt.preventDefault(),xt.type==="keydown"&&globalShortCutKeyClass.togglePressAltStatus(!0),xt.type==="keyup"&&globalShortCutKeyClass.togglePressAltStatus(!1)),xt.key==="Shift"&&(xt.preventDefault(),xt.type==="keydown"&&globalShortCutKeyClass.togglePressShiftStatus(!0),xt.type==="keyup"&&globalShortCutKeyClass.togglePressShiftStatus(!1))},{keydown:!0,keyup:!0}),null},getStatePanelParams=tt=>{const{notes:et,obstacles:rt,totalNumOfBeats:nt,rows:it,bpm:ot=140}=tt,at=getBlocks(et)||[],st=getMinesFun(et)||[],lt=getSelectedBlocksFn(et),ct=getSelectedMinesFn(et),ut=getSelectedObstaclesFun(rt),dt=lt.length?lt:at,ft=ct.length?ct:st,pt=ut.length?ut:rt,mt=lt.length?getSelectedBlocksTimeDistance(at):nt,ht=floor$5(calculateNoteDensity(dt.length,mt,ot),2),gt=()=>{const xt=dt.filter(Tt=>Tt._type===0).length,$t=dt.filter(Tt=>Tt._type===1).length;return $t?floor$5(xt/$t,2):0},vt=()=>{const xt=dt.length;if(!xt)return 0;const $t=dt.filter(Tt=>Tt._lineLayer===it-1).length;return floor$5($t/xt*100)},yt=()=>{const xt=dt.length;if(!xt)return 0;const $t=dt.filter(Tt=>Tt._lineLayer!==it-1&&Tt._lineLayer!==0).length;return floor$5($t/xt*100)},bt=()=>{const xt=dt.length;if(!xt)return 0;const $t=dt.filter(Tt=>Tt._lineLayer===0).length;return floor$5($t/xt*100)};return{notesNum:dt.length,minesNum:ft.length,wallsNum:pt.length,notesPerSecond:ht,redBlueRatio:gt(),topNotes:vt(),middleNotes:yt(),bottomNotes:bt()}},Typoheight={height:"30px",lineHeight:"30px"},StatePanelStack=({label:tt,value:et,bgColor:rt})=>jsxs(Stack$5,{direction:"row",justifyContent:"space-between",sx:{backgroundColor:rt,paddingX:"10px"},children:[jsx(Typography$1,{variant:"subtitle1",component:"div",sx:{...Typoheight},children:tt}),jsx(Typography$1,{variant:"subtitle1",component:"div",sx:{...Typoheight},children:et})]}),defaultBgColor="#2196f333",StatePanel=({notes:tt,obstacles:et,totalNumOfBeats:rt,rows:nt,bpm:it,handleClose:ot,isStandardNoteMode:at,...st})=>{const{t:lt}=useI18n(),{notesNum:ct,minesNum:ut,wallsNum:dt,notesPerSecond:ft,redBlueRatio:pt,topNotes:mt,middleNotes:ht,bottomNotes:gt}=getStatePanelParams({notes:tt,obstacles:et,totalNumOfBeats:rt,rows:nt,bpm:it});return jsx(Fragment,{children:jsxs(StyledDrawer$1,{anchor:"right",variant:"persistent",open:st.open,...st,children:[jsx(StatePanelStack,{label:lt("common.label.notes"),value:ct,bgColor:defaultBgColor}),jsx(StatePanelStack,{label:lt("common.label.notesSecond"),value:ft}),at&&jsx(StatePanelStack,{label:lt("common.label.bombs"),value:ut,bgColor:defaultBgColor}),jsx(StatePanelStack,{label:lt("common.label.walls"),value:dt}),jsx(StatePanelStack,{label:lt("common.label.redBlueRatio"),value:pt,bgColor:defaultBgColor}),jsx(StatePanelStack,{label:lt("common.label.topNotes"),value:mt+"%"}),jsx(StatePanelStack,{label:lt("common.label.middleNotes"),value:ht+"%",bgColor:defaultBgColor}),jsx(StatePanelStack,{label:lt("common.label.bottomNotes"),value:gt+"%"}),jsx(Stack$5,{sx:{p:"12px",mt:"13px"},children:jsx(Button$2,{size:"small",variant:"outlined",onClick:ot,children:lt("common.btn.closePanel")})})]})})},StyledDrawer$1=styled$1(Drawer$1)(()=>({"& .MuiDrawer-paper":{width:"206px",height:"auto",right:"20px",top:"500px"}})),StatePanelMemo=reactExports.memo(StatePanel,(tt,et)=>et.open===tt.open),itemButtonSX={width:1,mb:1},ErrorCheckerPanel=tt=>{var vr;const{enqueueSnackbar:et}=useNotice(),rt=useAppDispatch(),{t:nt}=useI18n(),{numRows:it,numCols:ot}=useAppSelector(getGridSize),at=useAppSelector(getNotes),st=useAppSelector(getObstacles),lt=useAppSelector(getDuration),ct=useAppSelector(getSelectedSong),ut=useAppSelector(getDifficulty),dt=useAppSelector(getErrorCheckerOpen),ft=useAppSelector(getNoteMode),pt=useAppSelector(getIsStandardNoteMode),mt=useAppSelector(getAllGroupNotesGroupIds),[ht,gt]=reactExports.useState(errorCheckerFeature.maxTime),[vt,yt]=reactExports.useState(!1),[bt,xt]=reactExports.useState(!1),[$t,Tt]=reactExports.useState(!1),[wt,At]=reactExports.useState([]),[Rt,It]=reactExports.useState([]),Lt=ct==null?void 0:ct.bpm,Pt=reactExports.useMemo(()=>getTotalNumOfBeats(lt,Lt),[lt,Lt]),Nt=ct==null?void 0:ct.offset,Ot=getDifficultKey(ft),Bt=((vr=ct==null?void 0:ct[Ot][ut])==null?void 0:vr.noteJumpSpeed)||0,zt=reactExports.useMemo(()=>calculateHalfJumpDurationInBeats(START_HALF_JUMP_DURATION_IN_BEATS,MAX_HALF_JUMP_DISTANCE,Bt,Lt,Nt),[Lt,Nt,Bt]);reactExports.useEffect(()=>{errorCheckerFeature.setMaxTime(zt),gt(zt)},[zt]),reactExports.useEffect(()=>()=>{rt(setErrorCheckerOpen(!1))},[]);const Vt="输入格式不正确",Ut=dr=>{const xr=Number(dr.target.value);errorCheckerFeature.setMinTime(xr)},jt=dr=>{const xr=Number(dr.target.value);errorCheckerFeature.setMaxTime(xr),gt(xr)},qt=()=>{const dr=!$t;Tt(dr),dr&&(At(at),It(st))},Dt=(dr="note")=>{const xr=errorCheckerFeature.errorNotes;rt(setCheckErrorNotes()),sr(nt(`common.notice.${dr==="note"?"msg_errorFound":"msg_errorForGroup"}`,{msg:xr.length}))},Ft=()=>{fr()&&(errorCheckerFeature.checkDoubleSameDirections(at),Dt())},Zt=()=>{fr()&&(errorCheckerFeature.checkVisionNotes(at,it,ot),Dt())},Kt=()=>{fr()&&(errorCheckerFeature.checkStackedNotes(at),Dt())},ir=()=>{fr()&&(errorCheckerFeature.sameSideHasNoteAndObs(at,st,ot),Dt())},rr=()=>{fr()&&(errorCheckerFeature.checkGroupNote(at,mt),Dt("group"))},mr=()=>{rt(setErrorCheckerOpen(!1))},sr=dr=>{et(dr,{anchorOrigin:{vertical:"bottom",horizontal:"center"},autoHideDuration:2500})},fr=()=>{const dr=errorCheckerFeature.minTime,xr=errorCheckerFeature.maxTime;return dr<0?(yt(!0),!1):xr<0?(xt(!0),!1):(yt(!1),xt(!1),!0)},pr=()=>{Tt(!1)};return ut?jsxs(Fragment,{children:[jsxs(StyledDrawer,{anchor:"top",variant:"persistent",open:dt,...tt,children:[jsxs(Stack$5,{direction:"row",spacing:1,children:[jsx(TextFieldNumber,{error:vt,sx:{width:"100%"},label:nt("common.label.minTime"),variant:"filled",type:"number",minValue:0,defaultValue:errorCheckerFeature.minTime,onChange:Ut,helperText:vt?Vt:""}),jsx(TextFieldNumber,{error:bt,sx:{width:"100%"},label:nt("common.label.maxTime"),variant:"filled",type:"number",minValue:0,value:ht,onChange:jt,helperText:bt?Vt:""})]}),jsxs(Stack$5,{direction:"row",spacing:1,sx:{my:"10px"},children:[jsx(Stack$5,{sx:{flex:1},children:jsx(Button$2,{sx:{width:1,height:1},variant:"contained",onClick:qt,children:nt("common.btn.startPanel")})}),jsxs(Stack$5,{direction:"column",sx:{flex:2,ml:2},children:[pt&&jsx(Button$2,{sx:itemButtonSX,variant:"contained",onClick:Ft,children:nt("common.btn.checkSameDirections")}),pt&&jsx(Button$2,{sx:itemButtonSX,variant:"contained",onClick:Zt,children:nt("common.btn.checkVisionBlocks")}),jsx(Button$2,{sx:{...itemButtonSX,mb:pt?0:1},variant:"contained",onClick:Kt,children:nt("common.btn.checkStackedNotes")}),!pt&&jsx(Button$2,{sx:itemButtonSX,variant:"contained",onClick:rr,children:nt("common.btn.checkGroupNotes")}),!pt&&jsx(Button$2,{sx:{...itemButtonSX,mb:0},variant:"contained",onClick:ir,children:nt("common.btn.checkNoteAndObstacleOverlap")})]})]}),dt&&jsx(ControlAction,{song:ct}),jsxs(Typography$1,{variant:"body1",component:"div",sx:{textAlign:"right",mt:"0px"},onClick:mr,children:[jsx(Typography$1,{component:"span",variant:"overline",sx:{mr:1,color:"text.secondary"},children:"SHIFT+C 关闭"}),jsx(ExitToAppOutlined,{sx:{verticalAlign:"middle"}})]})]}),jsx(StatePanelMemo,{open:$t,notes:wt,obstacles:Rt,totalNumOfBeats:Pt,rows:it,bpm:Lt||0,isStandardNoteMode:pt,handleClose:pr})]}):null},ControlAction=({song:tt})=>{const{t:et}=useI18n(),rt=useAppDispatch(),nt=!errorCheckerFeature.errorNotes.length,it=()=>{const st=editorFeature.getCursorPositionInBeats(tt==null?void 0:tt.offset,tt==null?void 0:tt.bpm),lt=errorCheckerFeature.previousErrorTime(st);isNumber$9(lt)&&rt(jumpToBeat({beatNum:lt,pauseTrack:!0}))},ot=()=>{errorCheckerFeature.clearErrorNotes(),rt(clearCheckErrorNotes())},at=()=>{const st=editorFeature.getCursorPositionInBeats(tt==null?void 0:tt.offset,tt==null?void 0:tt.bpm),lt=errorCheckerFeature.nextErrorTime(st);rt(jumpToBeat({beatNum:lt,pauseTrack:!0}))};return jsxs(Stack$5,{direction:"row",justifyContent:"space-between",children:[jsx(Button$2,{disabled:nt,onClick:it,children:et("common.btn.previous")}),jsx(Button$2,{disabled:nt,color:"error",onClick:ot,children:et("common.btn.clearErrors")}),jsx(Button$2,{disabled:nt,onClick:at,children:et("common.btn.next")})]})},StyledDrawer=styled$1(Drawer$1)(()=>({"& .MuiDrawer-paper":{width:"520px",left:0,right:0,margin:"auto",padding:"10px 20px 10px",borderRadius:"4px"}})),ErrorChecker=()=>{const tt=useAppDispatch();return jsxs(Fragment,{children:[jsx(CircleStyledDiv,{children:jsx(KeyboardArrowDown,{sx:{fontSize:"56px",color:"primary.main"},onClick:()=>{tt(setErrorCheckerOpen(!0))}})}),jsx(ErrorCheckerPanel,{})]})},CircleStyledDiv=styled$1("div")(({theme:tt})=>({cursor:"pointer",position:"fixed",top:"-40px",left:0,right:0,margin:"auto",width:"70px",height:"70px",borderRadius:"50%",backgroundColor:tt.palette.background.paper,paddingTop:"21px",textAlign:"center"}));function Stats({showPanel:tt=0,className:et,parent:rt,positionStyle:nt={top:"130px",left:"190px"}}){const[it]=reactExports.useState(()=>new StatsImpl);return reactExports.useEffect(()=>{const ot=rt&&rt.current||document.body;it.showPanel(tt),it.dom.style.top=nt.top,it.dom.style.left=nt.left,ot.appendChild(it.dom),et&&it.dom.classList.add(et);const at=addEffect(()=>it.begin()),st=addAfterEffect(()=>it.end());return()=>{ot.removeChild(it.dom),at(),st()}},[rt]),null}const Notes=()=>{const tt=useAppSelector(getIsLoading),{mousedown:et}=useMouseButtonOccupancy(),rt=useAppSelector(getIsStandardNoteMode);return jsxs(Fragment,{children:[jsx(ReduxForwardCanvas,{children:jsx(MapVisualization,{isStandardNoteMode:rt})}),jsx(SongInfoCard$1,{}),jsx(EditorRightPanel,{}),jsx(EditorBottomBar,{type:VIEW_TYPE.NOTES}),jsx(ShortcutKey$1,{isMoveCamera:et}),jsx(GlobalShortcutKey,{view:VIEW_TYPE.NOTES,isMoveCamera:et}),jsx(ErrorChecker,{}),tt&&jsx(SectionLoading,{sx:{zIndex:9999}}),!getProEnvForUrl()&&jsx(Stats,{})]})},CopyEvents=({onModalClose:tt})=>{const{t:et}=useI18n(),rt=useDialog$1(),{enqueueSnackbar:nt}=useNotice(),[it,ot]=reactExports.useState([]),[at,st]=reactExports.useState([]),lt=useAppSelector(getSelectedSong)||{},ct=useAppSelector(getSelectedSong),ut=useAppSelector(getDifficulty),dt=useAppSelector(getNoteMode),{getDifficultColorsType:ft,getDifficultColors:pt}=useCustomTheme(),mt=ft(),ht=pt();reactExports.useEffect(()=>{(async()=>{let yt=[];await allNoteModeAction(getEditorNoteModeSettings(),async(bt,xt)=>{let $t=Object.keys((ct==null?void 0:ct[xt])||"").filter(Tt=>bt==dt?![lt.selectedDifficulty].includes(Tt):!0);yt.push($t)}),st(yt)})()},[lt,ct]);const gt=yt=>{let bt;it.includes(yt)?bt=it.filter(xt=>xt!=yt):bt=[...new Set([...it,yt])],ot(bt)},vt=async()=>{if(await rt.confirm(et("common.dialog.overrideOtherDifficultEventProfiles")),!!ct)try{const yt=await getBeatmap(ct.id,ut,dt);for(let bt=0;bt<it.length;bt++){const xt=it[bt],[$t,Tt]=xt.split("_"),wt=await getBeatmap(ct.id,Tt,$t);wt._events=yt._events||[];const At=getFilenameForThing(ct.id,BEAT_MAP,{difficulty:Tt,mode:$t}),Rt=JSON.stringify(wt);await saveFile(At,Rt)}nt(et("common.notice.successOperation")),tt()}catch{nt(et("common.notice.FailOperation"))}};return jsxs(Fragment,{children:[jsxs(Typography$1,{variant:"subtitle1",color:"text.secondary",component:"div",sx:{my:2},children:[dt,"-",ut,et("common.label.selectTheFollowingDifficultyToCopy")]}),at.map((yt,bt)=>{const xt=getEditorNoteModeSettings()[bt];return jsx(Stack$5,{direction:"row",alignItems:"center",sx:{mb:1},children:yt.length?jsxs(Fragment,{children:[jsxs(Typography$1,{variant:"subtitle1",color:"text.secondary",width:100,children:[xt,"："]}),jsx(Stack$5,{spacing:1,direction:"row",children:yt.map($t=>{const Tt=xt+"_"+$t;return jsx(DifficultyButton,{color:mt[$t],isSelected:it.includes(Tt),colorValue:ht[$t],onClick:()=>gt(Tt),children:$t},$t)})},bt)]}):null},bt)}),jsx(Stack$5,{justifyContent:"center",sx:{mt:4},children:jsx(Button$2,{type:"submit",variant:"contained",disabled:!it.length,onClick:vt,children:et("common.btn.ok")})})]})},REPEAT="Repeat",LOCK="Lock",FOOTER_RING_TOLERANCE=TRACK_ID_KEY.FOOT_RING_TOLERANCE,dividerStyle={mx:1,my:1},TopControls=({backgroundOpacity:tt})=>{const{t:et}=useI18n(),rt=useAppDispatch(),nt=useAppSelector(getEventSelectedEditMode),it=useAppSelector(getSelectedSong),ot=useAppSelector(getSelectedEventColor),at=useAppSelector(getIsLockedToCurrentWindow),st=useAppSelector(getEventAreLasersLocked),lt=useAppSelector(getFootRingTolerance),ct=useAppSelector(getZoomLevel),ut=useAppSelector(getSelectedEventTool),[dt,ft]=reactExports.useState(()=>[]),[pt,mt]=reactExports.useState(!1);reactExports.useEffect(()=>{const xt=[];at&&xt.push(REPEAT),st&&xt.push(LOCK),lt&&xt.push(FOOTER_RING_TOLERANCE),ft(xt)},[at,st,lt]);const ht=(xt,$t)=>{rt(selectEventColor($t))},gt=(xt,$t)=>{rt(selectEventTool($t))},vt=(xt,$t)=>{rt(selectEventEditMode($t))},yt=(xt,$t)=>{$t.includes(REPEAT)?rt(toggleEventWindowLock(!0)):rt(toggleEventWindowLock(!1)),$t.includes(LOCK)?rt(toggleAreLasersLocked(!0)):rt(toggleAreLasersLocked(!1)),$t.includes(FOOTER_RING_TOLERANCE)?(rt(toggleFootRingTolerance(!0)),[EVENT_TOOLS.FLASH,EVENT_TOOLS.FADE].includes(ut)&&rt(selectEventTool(EVENT_TOOLS.ON))):rt(toggleFootRingTolerance(!1))},bt=getColorForItem(ot===EVENT_COLORS.RED?"envColorLeft":"envColorRight",it);return jsxs("div",{children:[jsxs(Paper$1,{elevation:0,sx:{display:"flex",border:xt=>`1px solid ${xt.palette.divider}`,flexWrap:"wrap",justifyContent:"space-between",alignItems:"center",background:`hsla(222, 32%, 4%, ${tt})`},children:[jsxs("div",{style:{display:"flex"},children:[jsxs(BaseToggleButtonGroupProps,{value:nt,onChange:vt,children:[jsx(ToggleButton$1,{value:EVENT_EDIT_MODES.PLACE,children:jsx(BaseTooltip,{title:`${et("common.label.editModeclick")}（A）`,children:jsx(AddIcon,{})})}),jsx(ToggleButton$1,{value:EVENT_EDIT_MODES.SELECT,children:jsx(BaseTooltip,{title:`${et("common.label.editModeSelect")}（S）`,children:jsx(PhotoSizeSelectSmallIcon,{})})})]}),jsx(Divider$1,{flexItem:!0,orientation:"vertical",sx:dividerStyle}),jsxs(BaseToggleButtonGroupProps,{value:ot,onChange:ht,children:[jsx(ToggleButton$1,{value:EVENT_COLORS.RED,children:jsx(BaseTooltip,{title:`${et("common.label.environment1")}`,children:jsx(SquareRoundedIcon,{sx:{color:getColorForItem("envColorLeft",it)}})})}),jsx(ToggleButton$1,{value:EVENT_COLORS.BLUE,children:jsx(BaseTooltip,{title:`${et("common.label.environment2")}`,children:jsx(SquareRoundedIcon,{sx:{color:getColorForItem("envColorRight",it)}})})})]}),jsx(Divider$1,{flexItem:!0,orientation:"vertical",sx:dividerStyle}),jsxs(BaseToggleButtonGroupProps,{value:ut,onChange:gt,children:[jsx(ToggleButton$1,{value:EVENT_TOOLS.ON,children:jsx(BaseTooltip,{title:`${et("common.label.on")}（1）`,children:jsx(PanoramaVerticalSelectRoundedIcon,{sx:{color:bt}})})}),jsx(ToggleButton$1,{value:EVENT_TOOLS.OFF,children:jsx(BaseTooltip,{title:`${et("common.label.off")}（2）`,children:jsx(PanoramaVerticalRoundedIcon,{color:"disabled"})})}),jsx(ToggleButton$1,{value:EVENT_TOOLS.FLASH,disabled:lt,children:jsx(BaseTooltip,{title:`${et("common.label.flash")}（3）`,children:jsx(SignalCellular4BarRoundedIcon,{sx:{color:bt}})})}),jsx(ToggleButton$1,{value:EVENT_TOOLS.FADE,disabled:lt,children:jsx(BaseTooltip,{title:`${et("common.label.fade")}（4）`,children:jsx(SignalCellular4BarRoundedIcon,{sx:{color:bt,transform:"rotate(90deg)",transformOrigin:"center"}})})})]}),jsx(Divider$1,{flexItem:!0,orientation:"vertical",sx:dividerStyle}),jsxs(BaseToggleButtonGroupProps,{value:dt,onChange:yt,exclusive:!1,children:[jsx(ToggleButton$1,{value:REPEAT,children:jsx(BaseTooltip,{title:`${et("common.label.loopInEventWindow")} (Z)`,children:jsx(RepeatIcon,{})})}),jsx(ToggleButton$1,{value:LOCK,children:jsx(BaseTooltip,{title:`${et("common.label.copiedToCorrespondingRightLaserTrack")}（X）`,children:jsx(LockOutlinedIcon,{})})})]})]}),jsxs("div",{children:[jsx(BaseTooltip,{title:`${et("common.label.copyOtherDifficulties")}`,children:jsx(IconButton$1,{onClick:()=>mt(!0),children:jsx(CopyAllIcon,{})})}),jsx(IconButton$1,{onClick:()=>rt(setZoomOut()),disabled:ct===EVENT_ZOOM_LEVEL_MIN,children:jsx(ZoomOutIcon,{})}),jsx(IconButton$1,{onClick:()=>rt(setZoomIn()),disabled:ct===EVENT_ZOOM_LEVEL_MAX,children:jsx(ZoomInIcon,{})})]})]}),jsx(BasicModal,{open:pt,width:640,title:`${et("common.label.copyEventSpectrum")}`,onClose:()=>mt(!1),children:jsx(CopyEvents,{onModalClose:()=>mt(!1)})})]})},ControlHeader=({height:tt,beatNums:et,selectedBeat:rt})=>{const nt=useAppDispatch(),[it,ot]=reactExports.useState(!1),at=reactExports.useRef(0),st=useMemoizedFn(()=>{ot(!0),nt(scrubEventsHeader(rt)),at.current=rt}),lt=useMemoizedFn(()=>{ot(!1),at.current=0}),ct=useMemoizedFn(()=>{it&&at.current!==rt&&(nt(scrubEventsHeader(rt)),at.current=rt)});return jsx(Wrapper$6,{style:{height:tt},onPointerDown:st,onPointerUp:lt,onPointerMove:ct,children:et.map((ut,dt)=>jsx(Cell,{children:jsx(BeatNums,{style:{display:dt===0?"none":void 0},children:ut})},ut))})},Wrapper$6=styled$1("div")`
  display: flex;
  border-bottom: 1px solid ${colors$3.blueGrey[500]};
  cursor: col-resize;
`,Cell=styled$1("div")`
  flex: 1;
  position: relative;
  display: flex;
  align-items: flex-end;
`,BeatNums=styled$1("span")(()=>({display:"inline-block",transform:"translateX(-50%)",paddingBottom:8})),BgLines=({width:tt,height:et,showBeatsAmount:rt,primaryDivisions:nt})=>{const it=tt/rt,ot=useCreation(()=>range$1(rt).map(st=>st===rt-1?null:jsx("line",{x1:(st+1)*it,y1:-6,x2:(st+1)*it,y2:et,stroke:colors$3.blueGrey[500],strokeWidth:1},st)),[rt,it]),at=useCreation(()=>ot.map((st,lt)=>range$1(nt).map(ct=>{if(ct===0)return null;const ut=it/nt;return jsx("line",{x1:lt*it+ct*ut,y1:0,x2:lt*it+ct*ut,y2:et,stroke:colors$3.blueGrey[700],strokeWidth:1},ct)})),[nt,ot]);return jsxs(Svg$1,{width:tt,height:et,children:[ot,at]})},Svg$1=styled$1("svg")`
  display: block;
  overflow: visible;
`,PrefixLabel=({width:tt,height:et,isDisabledAction:rt,headerHeight:nt})=>jsxs(PrefixColumn,{className:"prefix-label",style:{width:tt},onContextMenu:it=>{it.preventDefault()},children:[jsx(TopLeftBlankCell,{style:{height:nt}}),EVENT_PATHWAY.map(({id:it,label:ot})=>jsx(TrackPrefix,{style:{height:et},isDisabled:rt==null?void 0:rt(it),children:ot},it))]}),PrefixColumn=styled$1("div")`
  width: 170px;
  min-width:170px;
  border-right: 2px solid rgba(255, 255, 255, 0.25);
`,TopLeftBlankCell=styled$1("div")`
  border-bottom: 1px solid ${colors$3.blueGrey[500]};
`,TrackPrefix=styled$1("div",{shouldForwardProp:tt=>tt!=="isDisabled"})(({isDisabled:tt})=>({display:"flex",flexDirection:"column",alignItems:"flex-end",justifyContent:"center",fontSize:"15px",fontWeight:400,color:`${colors$3.blueGrey[100]}`,padding:`0 ${CONST_UNIT}px`,borderBottom:`1px solid ${colors$3.blueGrey[400]}`,opacity:tt?.5:1,cursor:tt?"not-allowed":"auto",backgroundColor:tt?"rgba(255,255,255,0.2)":"rgba(255,255,255,0)","&:last-of-type":{borderBottom:"none"}})),getIsEventOn=tt=>tt.type===EVENT_TOOLS.ON||tt.type===EVENT_TOOLS.FLASH,getIsLightingTrack=tt=>{const et=EVENT_PATHWAY.find(rt=>rt.id===tt);if(!et)throw new Error("Unrecognized trackId: "+tt);return et.type==="blocks"},getBackgroundBoxes=(tt,et,rt,nt,it)=>{if(!getIsLightingTrack(et))return[];let at=[];const st=[...tt];if(rt){const ct={id:`initial-${nt}-${it}`,type:EVENT_TOOLS.ON,beatNum:nt,colorType:rt};if(st.unshift(ct),tt.length===0)return at.push({id:ct.id,beatNum:ct.beatNum,duration:it,colorType:ct.colorType}),at}let lt=null;if(st.forEach(ct=>{const ut=getIsEventOn(ct);if(!lt&&ut){lt={id:ct.id,beatNum:ct.beatNum,duration:void 0,colorType:ct.colorType};return}if(lt&&!ut&&(isNumber$9(ct.beatNum)&&(lt.duration=ct.beatNum-lt.beatNum),at.push(lt),lt=null),lt&&ut&&lt.colorType!==ct.colorType){isNumber$9(ct.beatNum)&&(lt.duration=ct.beatNum-lt.beatNum),at.push(lt),lt={id:ct.id,beatNum:ct.beatNum,duration:void 0,colorType:ct.colorType};return}}),lt){const ut=nt+it-lt.beatNum;lt.duration=ut,at.push(lt)}return at},getBackgroundForEvent=(tt,et)=>{const rt=getColorForItem(tt.colorType||tt.type,et);switch(tt.type){case EVENT_TOOLS.ON:case EVENT_TOOLS.OFF:case"rotate":return rt;case EVENT_TOOLS.FLASH:{const nt=Color$2(rt).lighten(.4).hsl();return`linear-gradient(90deg, ${Color$2(rt).darken(.5).hsl()}, ${nt})`}case EVENT_TOOLS.FADE:{const nt=Color$2(rt).lighten(.4).hsl();return`linear-gradient(-90deg, ${Color$2(rt).darken(.5).rgb()}, ${nt})`}default:throw new Error("Unrecognized type: "+tt.type)}},BackgroundBox=({song:tt,box:et,startBeat:rt,showBeatsAmount:nt})=>{const it=normalize$6(et.beatNum,rt,nt+rt,0,100),ot=normalize$6(et.duration,0,nt,0,100);return jsx(Wrapper$5,{className:"background-box",style:{left:it+"%",width:ot+"%",background:getColorForItem(et.colorType,tt)}})},Wrapper$5=createStyled$1("div",{target:"e18hrjnk0"})({name:"1rrtj7",styles:"height:100%;position:absolute;opacity:0.2"}),BLOCK_WIDTH=7,EventBlock=({song:tt,event:et,trackWidth:rt,startBeat:nt,showBeatsAmount:it,deleteOnHover:ot,areLasersLocked:at,selectedEditMode:st})=>{const lt=normalize$6(et.beatNum,nt,it+nt,0,rt),ct=useAppDispatch(),ut=lt-BLOCK_WIDTH/2,dt=getBackgroundForEvent(et,tt);return jsx(Wrapper$4,{className:"event-block",style:{transform:`translateX(${ut}px)`,background:dt},onClick:ft=>ft.stopPropagation(),onContextMenu:ft=>ft.preventDefault(),onPointerOver:ft=>{ot&&ct(bulkDeleteEvent({id:et.id,trackId:et.trackId,areLasersLocked:at}))},onPointerDown:ft=>{st==="select"&&ft.stopPropagation();const pt=ft.button===0?MOUSE_KEY.LEFT:ft.button===1?MOUSE_KEY.MIDDLE:ft.button===2?MOUSE_KEY.RIGHT:void 0;pt===MOUSE_KEY.LEFT?ct(selectEvent({id:et.id,trackId:et.trackId,selected:!!et.selected})):pt===MOUSE_KEY.MIDDLE?ct(switchEventColor({id:et.id,trackId:et.trackId})):pt===MOUSE_KEY.RIGHT&&ct(deleteEvent({id:et.id,trackId:et.trackId,areLasersLocked:at})),ft.buttons===2&&ct(deleteEvent({id:et.id,trackId:et.trackId,areLasersLocked:at}))},children:et.selected&&jsx(SelectedGlow,{})})},Wrapper$4=createStyled$1(UnstyledButton,{target:"e3g7u401"})("width:",BLOCK_WIDTH,"px;height:100%;position:absolute;border-radius:",BLOCK_WIDTH/2,"px;"),SelectedGlow=createStyled$1("div",{target:"e3g7u400"})("position:absolute;z-index:1;width:100%;height:100%;top:0;left:0;right:0;bottom:0;background-color:",colors$3.common.white,";border-radius:",BLOCK_WIDTH/2,"px;opacity:0.6;"),EventBlock$1=reactExports.memo(EventBlock),PathwayWrapper=styled$1("div",{shouldForwardProp:tt=>tt!=="isDisabled"&&tt!=="height"})(({isDisabled:tt,height:et})=>({height:et+"px",position:"relative",borderBottom:`1px solid ${colors$3.blueGrey[400]}`,opacity:tt?.5:1,cursor:tt?"not-allowed":"",backgroundColor:tt?"rgba(255,255,255,0.2)":"rgb(255,255,255,0)","&:last-of-type":{borderBottom:"none"}})),BlockPathWay=({width:tt,height:et,trackId:rt,cursorAtBeat:nt,areLasersLocked:it,isDisabled:ot,startBeat:at,showBeatsAmount:st})=>{const lt=useAppDispatch(),ct=useAppSelector(getSelectedSong),ut=useAppSelector(getEventSelectedEditMode),dt=useAppSelector(getSelectedEventTool),ft=useAppSelector(getSelectedEventColor),pt=useAppSelector(Tt=>{const wt=rt?makeGetEventsForTrack(rt):null;return wt?wt(Tt):null}),mt=useAppSelector(Tt=>{const wt=makeGetInitialTrackLightingColorType==null?void 0:makeGetInitialTrackLightingColorType(rt);return wt==null?void 0:wt(Tt)}),[ht,gt]=reactExports.useState(null),vt=reactExports.useCallback(()=>{gt(null)},[]);usePointerUpAction(!!ht,vt);const yt=()=>{const Tt=dt;let wt=ft;return dt===EVENT_TOOLS.OFF&&(wt=void 0),[rt,nt,Tt,wt,it]};reactExports.useEffect(()=>{ut===EVENT_EDIT_MODES.PLACE&&ht==="left"&&bt()},[ut,nt]);const bt=()=>{const[Tt,wt,At,Rt,It]=yt();lt(placeEvent({trackId:Tt,beatNum:wt,type:At,colorType:Rt,areLasersLocked:It}))},xt=Tt=>{ot||ut===EVENT_EDIT_MODES.SELECT||(Tt.buttons===1?(bt(),gt(MOUSE_KEY.LEFT)):Tt.buttons===2&&gt(MOUSE_KEY.RIGHT))},$t=getBackgroundBoxes(pt,rt,mt,at,st);return jsxs(PathwayWrapper,{className:"block-track",height:et,isDisabled:ot,onPointerDown:xt,onContextMenu:Tt=>Tt.preventDefault(),children:[$t.map(Tt=>jsx(BackgroundBox,{song:ct,box:Tt,startBeat:at,showBeatsAmount:st},Tt.id)),pt.map(Tt=>jsx(EventBlock$1,{event:Tt,song:ct,selectedEditMode:ut,trackWidth:tt,startBeat:at,showBeatsAmount:st,deleteOnHover:ut===EVENT_EDIT_MODES.PLACE&&ht===MOUSE_KEY.RIGHT,areLasersLocked:it},Tt.id))]})},BlockPathWay$1=reactExports.memo(BlockPathWay),getYForSpeed=(tt,et,rt=6)=>{const nt=tt/rt;return tt-et*nt},getPoint=tt=>tt.reduce((et,rt)=>`${et} ${rt.x},${rt.y}`,""),getPlottablePoints=(tt,{width:et,height:rt,startSpeed:nt,endSpeed:it,startBeat:ot,showBeatsAmount:at,aliquotNum:st})=>{let lt=[{x:0,y:getYForSpeed(rt,nt,st)}];return tt.forEach(ct=>{const ut=lt[lt.length-1].y,dt=normalize$6(ct.beatNum,ot,ot+at,0,et);lt.push({x:dt,y:ut},{x:dt,y:getYForSpeed(rt,ct.laserSpeed,st)})}),lt.push({x:et,y:getYForSpeed(rt,it,st)},{x:et,y:rt},{x:0,y:rt}),getPoint(lt)},SpeedTrackEvent=({event:tt,trackId:et,startBeat:rt,endBeat:nt,parentWidth:it,parentHeight:ot,areLasersLocked:at,aliquotNum:st})=>{const lt=useAppDispatch(),ct=normalize$6(tt.beatNum,rt,nt,0,it),ut=getYForSpeed(ot,tt.laserSpeed,st);return jsx("circle",{cx:ct,cy:ut,r:4,fill:tt.selected?colors$3.common.white:colors$3.green[500],style:{cursor:"pointer",opacity:tt.id==="tentative"?.5:1},onPointerDown:dt=>{dt.button===2&&lt(deleteEvent({id:tt.id,trackId:et,areLasersLocked:at}))}})},INITIAL_TENTATIVE_EVENT={id:"tentative",beatNum:null,laserSpeed:null,visible:!1},COMMON_SPEED_NUM=6,SPECIAL_SPEED_NUM=6,SpeedTrack=({trackId:tt,startBeat:et,showBeatsAmount:rt,height:nt,width:it,isDisabled:ot,cursorAtBeat:at,areLasersLocked:st})=>{const lt=useAppDispatch(),ct=makeGetEventsForTrack(tt),ut=useAppSelector(ct),dt=useAppSelector(wt=>getTrackSpeedAtBeat(wt,tt,et)),ft=useAppSelector(wt=>getTrackSpeedAtBeat(wt,tt,et+rt)),pt=useAppSelector(getEventSelectedEditMode),[mt,ht]=reactExports.useState(INITIAL_TENTATIVE_EVENT),gt=reactExports.useMemo(()=>[SPECIAL_MODEL01,SPECIAL_MODEL02].includes(tt),[tt]),vt=gt?SPECIAL_SPEED_NUM:COMMON_SPEED_NUM,yt=gt?SPECIAL_SPEED_NUM:COMMON_SPEED_NUM,bt=reactExports.useCallback(()=>{lt(setLaserSpeed({trackId:tt,beatNum:mt.beatNum,laserSpeed:mt.laserSpeed??0,areLasersLocked:st})),ht(INITIAL_TENTATIVE_EVENT)},[tt,mt,st,setLaserSpeed,vt]);usePointerUpAction(mt.visible,bt);const xt=useMousePosOverEl((wt,At)=>{const Rt=nt-At,It=Math.floor(Rt/nt*vt);It!==mt.laserSpeed&&ht({...mt,laserSpeed:It||0})},{boxDependencies:[nt,mt,vt]}),$t=wt=>{ot||wt.button!==0||pt!=="place"||ht({...mt,beatNum:at,visible:!0})},Tt=reactExports.useMemo(()=>getPlottablePoints(ut,{width:it,height:nt,startSpeed:dt,endSpeed:ft,startBeat:et,showBeatsAmount:rt,aliquotNum:yt}),[ut,it,nt,dt,ft,et,rt,yt]);return jsx(PathwayWrapper,{ref:xt,className:"track-wrapper",style:{height:nt},isDisabled:ot,onPointerDown:$t,onContextMenu:wt=>wt.preventDefault(),children:jsxs(Svg,{width:it,height:nt,children:[!ot&&jsx("g",{children:range$1(vt+1).map(wt=>jsx("line",{x1:0,y1:getYForSpeed(nt,wt,yt),x2:it,y2:getYForSpeed(nt,wt,yt),strokeWidth:1,stroke:colors$3.blueGrey[700],style:{opacity:.6}},wt))}),jsx("polyline",{points:Tt,stroke:"white",strokeWidth:"0.2",fill:colors$3.green[500],opacity:.5}),ut.map(wt=>jsx(SpeedTrackEvent,{event:wt,trackId:tt,startBeat:et,endBeat:et+rt,parentWidth:it,parentHeight:nt,areLasersLocked:st,aliquotNum:yt},wt.id)),mt.visible&&jsx(SpeedTrackEvent,{event:mt,trackId:tt,startBeat:et,endBeat:et+rt,parentWidth:it,parentHeight:nt,areLasersLocked:st,aliquotNum:yt})]})})},Svg=styled$1("svg")`
  position: relative;
  display: block;
`,PlayCursorPos=({gridWidth:tt,startBeat:et,endBeat:rt,zIndex:nt})=>{const it=useAppSelector(getCursorPositionInBeats),ot=normalize$6(it,et,rt,0,tt);return jsx(Vertical,{style:{transform:`translateX(${ot}px)`,zIndex:nt}})},Vertical=styled$1("div")(({theme:tt})=>({position:"absolute",top:0,left:"-1.5px",width:"3px",height:"100%",background:tt.palette.primary.main,borderRadius:"4px",pointerEvents:"none"})),SelectionBox=({box:tt})=>{const et=tt.right-tt.left,rt=tt.bottom-tt.top;return jsx(Box,{style:{width:et,height:rt,top:tt.top,left:tt.left}})},Box=styled$1("div")`
  position: absolute;
  z-index: 10;
  border: 2px dashed ${colors$3.common.white};
  border-radius: 5px;
  pointer-events: none;
`,convertMousePosToBeatNumber=(tt,et,rt,nt,it)=>{const ot=normalize$6(tt,0,et,0,rt.length);let at=ot;return isNumber$9(it)&&(at=roundToNearest(ot,it)),at+nt},PREFIX_WIDTH=170,HEADER_HEIGHT=32,EventControls=({contentWidth:tt})=>{const et=reactExports.useRef(null),rt=reactExports.useRef(null),[nt,it]=reactExports.useState(null),ot=useAppDispatch(),at=useAppSelector(getRowHeight),st=useAppSelector(getIsLoading),lt=useAppSelector(getSelectedEventBeat),{startBeat:ct,endBeat:ut}=useAppSelector(getStartAndEndBeat),dt=useAppSelector(getEventSelectedEditMode),ft=useAppSelector(getEventAreLasersLocked),pt=useAppSelector(getFootRingTolerance),mt=useAppSelector(getSnapTo),ht=useAppSelector(getSelectionBox),gt=ut-ct,vt=tt-PREFIX_WIDTH,yt=at*EVENT_PATHWAY.length,bt={startBeat:ct,endBeat:ut},xt=useCreation(()=>range$1(Math.floor(ct),Math.ceil(ut)),[ct,ut]);reactExports.useEffect(()=>{it(null),et.current=null,ot(clearSelectionBox())},[clearSelectionBox,dt]);const $t=reactExports.useCallback(()=>{rt.current=null,it(null),ot(commitSelection())},[commitSelection]),Tt=dt===EVENT_EDIT_MODES.SELECT&&!!nt;usePointerUpAction(Tt,$t);const wt=useMousePosOverEl((Ot,Bt)=>{const zt={x:Ot,y:Bt};et.current=zt;const Vt=convertMousePosToBeatNumber(Ot,vt,xt,ct,mt);if(dt===EVENT_EDIT_MODES.SELECT&&nt&&rt.current===MOUSE_KEY.LEFT){const Ut={top:Math.min(nt.y,zt.y),left:Math.min(nt.x,zt.x),right:Math.max(nt.x,zt.x),bottom:Math.max(nt.y,zt.y)},jt=Math.floor(Ut.top/at),qt=Math.floor(Ut.bottom/at),Dt=convertMousePosToBeatNumber(Ut.left,vt,xt,ct),Ft=convertMousePosToBeatNumber(Ut.right,vt,xt,ct);ot(drawSelectionBox({selectionBox:Ut,selectionBoxInBeats:{startTrackIndex:jt,endTrackIndex:qt,startBeat:Dt,endBeat:Ft},metadata:bt}))}Vt!==lt&&At(Vt)},{boxDependencies:[at]}),At=reactExports.useCallback(throttle$1(Ot=>{ot(moveMouseAcrossEventsGrid(Ot))},100),[]),Rt=normalize$6(lt-ct,0,xt.length,0,vt),It=Ot=>{Ot.button===0?rt.current=MOUSE_KEY.LEFT:Ot.button===2?rt.current=MOUSE_KEY.RIGHT:rt.current=MOUSE_KEY.LEFT,it(et.current)},Lt=Ot=>ft?Ot===RIGHT_LIGHT||Ot===RIGHT_LIGHT_SPEED:!1,Pt=Ot=>pt?Ot!==FOOT_RING_TOLERANCE:Ot===FOOT_RING_TOLERANCE,Nt=Ot=>Lt(Ot)||Pt(Ot);return jsxs(WrapperTool,{loading:st,children:[jsx(PrefixLabel,{width:PREFIX_WIDTH,height:at,headerHeight:HEADER_HEIGHT,isDisabledAction:Nt}),jsxs(Box$2,{component:"div",display:"flex",flexDirection:"column",flex:1,children:[jsx(ControlHeader,{height:HEADER_HEIGHT,beatNums:xt,selectedBeat:lt}),jsxs(Content,{className:"event-control-content",style:{height:yt,cursor:dt===EVENT_EDIT_MODES.SELECT?"crosshair":"pointer"},children:[jsx(BackgroundLinesW,{children:jsx(BgLines,{width:vt,height:yt,showBeatsAmount:gt,primaryDivisions:4,secondaryDivisions:0})}),jsx(Pathway,{ref:wt,onPointerDown:It,children:EVENT_PATHWAY.map(({id:Ot,type:Bt})=>jsx(Bt==="blocks"?BlockPathWay$1:SpeedTrack,{trackId:Ot,width:vt,height:at,startBeat:ct,showBeatsAmount:gt,cursorAtBeat:lt,isDisabled:Nt(Ot),areLasersLocked:ft},Ot))}),ht&&jsx(SelectionBox,{box:ht}),jsx(PlayCursorPos,{gridWidth:vt,startBeat:ct,endBeat:ut,zIndex:Z_INDEX.songPositionIndicator}),jsx(MouseCursorPosStyle,{style:{left:Rt}})]})]})]})},WrapperTool=styled$1(Toolbar$1,{shouldForwardProp:tt=>tt!=="loading"})(({loading:tt})=>({display:"flex",opacity:tt?.25:1,pointerEvents:tt?"none":"auto",userSelect:"none","&.MuiToolbar-root":{paddingLeft:0,paddingRight:0}})),Content=styled$1("section")`
  display: flex;
  position: relative;
`,BackgroundLinesW=styled$1("div")`
  position: absolute;
  z-index: ${Z_INDEX.background};
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
`,Pathway=styled$1("div")`
  position: relative;
  z-index: ${Z_INDEX.tracks};
  width: 100%;
`,MouseCursorPosStyle=styled$1("div")`
  position: absolute;
  top: 0;
  z-index: ${Z_INDEX.mouseCursor};
  width: 3px;
  height: 100%;
  background: ${colors$3.blueGrey[100]};
  border: 1px solid ${colors$3.blueGrey[900]};
  border-radius: 2px;
  pointer-events: none;
  transform: translateX(-1px);
`,Controls=()=>{const{width:tt}=useWindowSize(),et=tt,rt=useAppSelector(getBackgroundOpacity);return jsxs(Wrapper$3,{style:{background:`hsla(222, 32%, 4%, ${rt})`},children:[jsx(TopControls,{backgroundOpacity:rt}),jsx(EventControls,{contentWidth:et}),jsx(EditorBottomBar,{type:VIEW_TYPE.EVENTS})]})},Wrapper$3=styled$1("div")`
  width: 100%;
`,{events:EVENT_SHORTCUT_KEY}=settings,ShortcutKey=({isMoveCamera:tt})=>{const et=useAppDispatch(),rt=useAppSelector(getIsLockedToCurrentWindow),nt=useAppSelector(getEventAreLasersLocked),it=useAppSelector(getSelectedEvents),{startBeat:ot,endBeat:at}=useAppSelector(getStartAndEndBeat);return useHotkeys(EVENT_SHORTCUT_KEY.zoom_out,()=>{et(setZoomOut())}),useHotkeys(EVENT_SHORTCUT_KEY.zoom_in,()=>{et(setZoomIn())}),useHotkeys(EVENT_SHORTCUT_KEY.mode_place,()=>{tt||et(selectEventEditMode(EVENT_EDIT_MODES.PLACE))},[tt]),useHotkeys(EVENT_SHORTCUT_KEY.mode_select,()=>{tt||et(selectEventEditMode(EVENT_EDIT_MODES.SELECT))},[tt]),useHotkeys(EVENT_SHORTCUT_KEY.lock_repeat,()=>{et(toggleEventWindowLock(!rt))},[rt]),useHotkeys(EVENT_SHORTCUT_KEY.lock_mapping,()=>{et(toggleAreLasersLocked(!nt))},[nt]),useHotkeys(EVENT_SHORTCUT_KEY.effect_on,()=>{et(selectEventTool(EVENT_TOOLS.ON))}),useHotkeys(EVENT_SHORTCUT_KEY.effect_off,()=>{et(selectEventTool(EVENT_TOOLS.OFF))}),useHotkeys(EVENT_SHORTCUT_KEY.effect_flash,()=>{et(selectEventTool(EVENT_TOOLS.FLASH))}),useHotkeys(EVENT_SHORTCUT_KEY.effect_fade,()=>{et(selectEventTool(EVENT_TOOLS.FADE))}),useHotkeys(EVENT_SHORTCUT_KEY.select_event_all,st=>{st.preventDefault(),it.length?et(deselectAll(VIEW_TYPE.EVENTS)):et(selectEventAll({startBeat:ot,endBeat:at}))},[it,ot,at]),null},findMostRecentEventInTrack=(tt,et,rt)=>{for(let nt=tt.length-1;nt>=0;nt--){const it=tt[nt];if(it.beatNum<et+rt)return it}return null},isLiftSide=tt=>tt==="left",url$4="/assets/leftLight-509aea6f.glb",LambertMaterial=({spring:tt,color:et,...rt})=>{const nt=reactExports.useRef(null);return jsx(animated.meshLambertMaterial,{ref:nt,attach:"material",emissive:et,transparent:!0,alphaTest:.01,...tt,...rt})};function Model$1({spring:tt,color:et,...rt}){const{nodes:nt,materials:it}=useGLTF(url$4);return jsx("group",{...rt,dispose:null,children:jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:nt.VR_deng_001.geometry,material:it["yellow_01.011"],rotation:[-Math.PI,0,-Math.PI],scale:.01,children:jsx(LambertMaterial,{color:et,spring:tt,side:DoubleSide})})})}useGLTF.preload(url$4);const lightSpringConfig={tension:270,friction:120},getSpringConfigForLight=([tt,et,rt],nt)=>{switch(nt){case EVENT_TOOLS.OFF:return{to:et,immediate:!0,reset:!1,config:lightSpringConfig};case EVENT_TOOLS.ON:return{to:tt,immediate:!0,reset:!1,config:lightSpringConfig};case EVENT_TOOLS.FLASH:return{from:rt,to:tt,immediate:!1,reset:!1,config:lightSpringConfig};case EVENT_TOOLS.FADE:return{from:rt,to:et,immediate:!1,reset:!1,config:lightSpringConfig};default:throw new Error("Unrecognized status: "+nt)}},on=[EVENT_TOOLS.ON,EVENT_TOOLS.FLASH],usePreviewCommon=(tt,et,rt,nt)=>{const it=useAppSelector(getTracks),ot=useAppSelector(getCursorPositionInBeats),at=useAppSelector(getUsableProcessingDelay),st=reactExports.useMemo(()=>convertMillisecondsToBeats(at,tt==null?void 0:tt.bpm),[tt,at]),lt=reactExports.useMemo(()=>{const ht=it[et];return findMostRecentEventInTrack(ht,ot,st)},[it,ot,st,et]),ct=lt?lt.type:EVENT_TOOLS.OFF,ut=reactExports.useMemo(()=>on.includes(ct),[ct]),dt=lt?lt.id:null,ft=ct===EVENT_TOOLS.OFF?"#000000":getColorForItem(lt.colorType,tt);let pt=getSpringConfigForLight(nt,ct);useOnChangeAction(()=>{if(!rt)return;const ht=ct===EVENT_TOOLS.FLASH||ct===EVENT_TOOLS.FADE;pt.reset=ht},dt);const mt=useSpring(pt);return{color:ft,lastEventId:dt,status:ct,tracks:it,currentBeat:ot,processingDelayInBeats:st,spring:mt,visible:ut}},ON_PROPS={emissiveIntensity:.75,opacity:.75},OFF_PROPS={emissiveIntensity:0,opacity:0},BRIGHT_PROPS={emissiveIntensity:1,opacity:1},CONFIG_LIGHT=[ON_PROPS,OFF_PROPS,BRIGHT_PROPS],ON_POINT_PROPS={intensity:.1},OFF_POINT_PROPS={intensity:0},BRIGHT_POINT_PROPS={intensity:1},CONFIG_POINT_LIGHT=[ON_POINT_PROPS,OFF_POINT_PROPS,BRIGHT_POINT_PROPS],SideLight=({song:tt,isPlaying:et,graphicsLevel:rt,side:nt})=>{const it=isLiftSide(nt)?LEFT_LIGHT:RIGHT_LIGHT,{color:ot,spring:at,tracks:st,currentBeat:lt,processingDelayInBeats:ct}=usePreviewCommon(tt,it,et,CONFIG_LIGHT);useAppSelector(getCursorPosition)/1e3;const ut=isLiftSide(nt)?LEFT_LIGHT_SPEED:RIGHT_LIGHT_SPEED,dt=st[ut],ft=findMostRecentEventInTrack(dt,lt,ct);ft&&ft.laserSpeed;const pt=isLiftSide(nt)?[0,.31,0]:[0,.31,0],mt=isLiftSide(nt)?[1,1,1]:[-1,1,1];return jsx(Model$1,{scale:mt,position:pt,spring:at,color:ot})},url$3="/assets/mainLight-296bce45.glb";function Model({visible:tt,color:et,spring:rt,...nt}){const{nodes:it,materials:ot}=useGLTF(url$3);return jsx(Fragment,{children:jsxs("group",{...nt,position:[0,.31,0],dispose:null,children:[jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:it.f_light_001.geometry,material:ot["yellow_01.002"],rotation:[-Math.PI,0,-Math.PI],scale:.01,children:jsx(LambertMaterial,{color:et,spring:rt})}),jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:it.f_light_002.geometry,material:ot["yellow_01.003"],rotation:[-Math.PI,0,-Math.PI],scale:.01,children:jsx(LambertMaterial,{color:et,spring:rt})}),jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:it.f_light_004.geometry,material:ot["yellow_01.008"],rotation:[-Math.PI,0,-Math.PI],scale:.01,children:jsx(LambertMaterial,{color:et,spring:rt})}),jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:it.dimian01.geometry,material:ot["dimian1.002"],rotation:[1.57,0,-Math.PI],scale:.01,visible:tt}),jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:it.boli1.geometry,material:ot["blinn6.002"],rotation:[-Math.PI,0,-Math.PI],scale:.01,visible:tt}),jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:it.f03.geometry,material:ot["blinn5.002"],rotation:[1.57,0,-Math.PI],scale:.01,visible:tt}),jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:it.f02.geometry,material:ot["neishi.002"],rotation:[1.57,0,-Math.PI],scale:.01,visible:tt}),jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:it.f01.geometry,material:ot["blinn4.002"],rotation:[1.57,0,-Math.PI],scale:.01,visible:tt})]})})}useGLTF.preload(url$3);const trackId$3=TRACK_ID_KEY.MAIN_LIGHT,MainLight=({song:tt,isPlaying:et})=>{const rt=reactExports.useRef(null),nt=reactExports.useRef(null),{color:it,spring:ot}=usePreviewCommon(tt,trackId$3,et,CONFIG_POINT_LIGHT),{color:at,spring:st,visible:lt,currentBeat:ct}=usePreviewCommon(tt,trackId$3,et,CONFIG_LIGHT);return jsxs(Fragment,{children:[jsx(animated.pointLight,{ref:rt,position:[0,2,0],color:it,...ot}),jsx(animated.pointLight,{ref:nt,position:[0,2,-30],color:it,...ot}),jsx(Model,{visible:ct===0?!0:lt,color:at,spring:st})]})},url$2="data:model/gltf-binary;base64,Z2xURgIAAACoBwAA7AQAAEpTT057ImFzc2V0Ijp7ImdlbmVyYXRvciI6Iktocm9ub3MgZ2xURiBCbGVuZGVyIEkvTyB2MS4yLjc1IiwidmVyc2lvbiI6IjIuMCJ9LCJzY2VuZSI6MCwic2NlbmVzIjpbeyJuYW1lIjoiU2NlbmUiLCJub2RlcyI6WzBdfV0sIm5vZGVzIjpbeyJtZXNoIjowLCJuYW1lIjoiVnJfbGlnaHRfMDMiLCJzY2FsZSI6WzAuMTAwMDAwMDAxNDkwMTE2MTIsMC4xMDAwMDAwMDE0OTAxMTYxMiwwLjEwMDAwMDAwMTQ5MDExNjEyXSwidHJhbnNsYXRpb24iOlswLDAsLTkwLjQ4Mzg1NjIwMTE3MTg4XX1dLCJtYXRlcmlhbHMiOlt7ImRvdWJsZVNpZGVkIjp0cnVlLCJlbWlzc2l2ZUZhY3RvciI6WzAsMCwwXSwibmFtZSI6Ik1hdGVyaWFsLjAwMSIsInBick1ldGFsbGljUm91Z2huZXNzIjp7ImJhc2VDb2xvckZhY3RvciI6WzAuODAwMDAwMDExOTIwOTI5LDAuODAwMDAwMDExOTIwOTI5LDAuODAwMDAwMDExOTIwOTI5LDFdLCJtZXRhbGxpY0ZhY3RvciI6MCwicm91Z2huZXNzRmFjdG9yIjowLjV9fV0sIm1lc2hlcyI6W3sibmFtZSI6Ik1lc2guMDAxIiwicHJpbWl0aXZlcyI6W3siYXR0cmlidXRlcyI6eyJQT1NJVElPTiI6MCwiTk9STUFMIjoxLCJURVhDT09SRF8wIjoyfSwiaW5kaWNlcyI6MywibWF0ZXJpYWwiOjB9XX1dLCJhY2Nlc3NvcnMiOlt7ImJ1ZmZlclZpZXciOjAsImNvbXBvbmVudFR5cGUiOjUxMjYsImNvdW50IjoxOCwibWF4IjpbNDA4Ljc2MTIzMDQ2ODc1LDQ3Ni4xNzg1Mjc4MzIwMzEyNSwwLjMyNjk4MDU5MDgyMDMxMjVdLCJtaW4iOlstNDExLjMyNjM1NDk4MDQ2ODc1LDAuMjMyMDQ4MDM0NjY3OTY4NzUsLTkuOTcxODQ5MDY3MzY5NDc2ZS0wNV0sInR5cGUiOiJWRUMzIn0seyJidWZmZXJWaWV3IjoxLCJjb21wb25lbnRUeXBlIjo1MTI2LCJjb3VudCI6MTgsInR5cGUiOiJWRUMzIn0seyJidWZmZXJWaWV3IjoyLCJjb21wb25lbnRUeXBlIjo1MTI2LCJjb3VudCI6MTgsInR5cGUiOiJWRUMyIn0seyJidWZmZXJWaWV3IjozLCJjb21wb25lbnRUeXBlIjo1MTIzLCJjb3VudCI6NDgsInR5cGUiOiJTQ0FMQVIifV0sImJ1ZmZlclZpZXdzIjpbeyJidWZmZXIiOjAsImJ5dGVMZW5ndGgiOjIxNiwiYnl0ZU9mZnNldCI6MH0seyJidWZmZXIiOjAsImJ5dGVMZW5ndGgiOjIxNiwiYnl0ZU9mZnNldCI6MjE2fSx7ImJ1ZmZlciI6MCwiYnl0ZUxlbmd0aCI6MTQ0LCJieXRlT2Zmc2V0Ijo0MzJ9LHsiYnVmZmVyIjowLCJieXRlTGVuZ3RoIjo5NiwiYnl0ZU9mZnNldCI6NTc2fV0sImJ1ZmZlcnMiOlt7ImJ5dGVMZW5ndGgiOjY3Mn1dfSCgAgAAQklOAOVBwT/aFu5D9R/RuEIbkEHoxYBDEvptuNgZkEEAnm0+bC4IuNgZkMEAnm0+bC4IuEIbkMHoxYBDEvptuNhBwb/aFu5D9R/RuKWswcNggUFBAGqnPsapzcMglBhAAGqnPsCmGMIR17tDAGqnPqbZPsLpArBDAGqnPhIhP8JQWj9BAGqnPgIoGMKglBhAAGqnPmSzNEKfua9DAGqnPkTcDULDtrtDAGqnPnBhzEMg6RBAAGqnPkiNwEPYBT1BAGqnPpQpNEKYIz5BAGqnPkzcDUKA/QhAAGqnPoJZNq4pKE20//9/v+rUtTUgj8qzAACAvyHqgy+ld9OzAACAvwAAAAAijcqzAACAv3iB47TDeCW0AACAvwAAAACQFVO0AACAvwAAAAAAAAAAAACAvwAAAAAAAAAAAACAvwAAAACCeeAt//9/vwAAAACM994tAACAvwAAAAAjt3iuAACAvwAAAADksG+uAACAvwAAAAAAAAAAAACAvwAAAAC8XjgrAACAvwAAAADyqQ8xAACAvwAAAACVihMxAACAvwAAAACyRB4xAACAvwAAAACQMSAxAACAvyVJEj8AAIA/bts2PwAAgD+SJEk/AACAP7htWz4AAIA/JUmSPgAAgD+4bds+AACAPwAAQD8AAGA/AACAPwAAgD8AAAA/AAAAPwAAED8AADA/AAAUPwAAXD8AAAA/AACAPwAAQD8AAGA/AACAPwAAgD8AAAA/AAAAPwAAED8AADA/AAAUPwAAXD8AAAA/AACAPwAAAQACAAIAAwAEAAAAAgAEAAUAAAAEAAYABwAIAAgACQAGAAoACwAHAAcABgAKAAkACAALAAsACgAJAAwADQAOAA4ADwAMABAAEQANAA0ADAAQAA8ADgARABEAEAAPAA==";function BackLightModel({spring:tt,color:et,...rt}){const{nodes:nt,materials:it}=useGLTF(url$2);return jsx("group",{...rt,dispose:null,children:jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:nt.Vr_light_03.geometry,material:it["Material.001"],position:[0,9,-90.48],scale:.1,children:jsx(LambertMaterial,{color:et,spring:tt,side:DoubleSide})})})}useGLTF.preload(url$2);const trackId$2=TRACK_ID_KEY.BACK_LIGHT,BackLight=({song:tt,isPlaying:et})=>{const{color:rt,spring:nt}=usePreviewCommon(tt,trackId$2,et,CONFIG_LIGHT);return jsx(BackLightModel,{color:rt,spring:nt})};useGLTF.preload(url$2);const url$1="/assets/specialLiht01-72c20391.glb",trackId$1=TRACK_ID_KEY.SPECIAL_LIGHT01;function SpecialLight01({song:tt,isPlaying:et}){const{nodes:rt,materials:nt}=useGLTF(url$1),{color:it,spring:ot}=usePreviewCommon(tt,trackId$1,et,CONFIG_LIGHT);return jsxs("group",{dispose:null,children:[jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:rt.Vr_light_01.geometry,material:nt["03 - Default"],position:[0,0,-7.65],rotation:[-Math.PI,0,-Math.PI],scale:[.05,.06,.02],children:jsx(LambertMaterial,{side:DoubleSide,map:nt["03 - Default"].map,color:it,spring:ot})}),jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:rt.specialLiht01.geometry,material:nt.lambert4,rotation:[Math.PI/2,0,0],scale:.01,children:jsx(LambertMaterial,{side:DoubleSide,map:nt.lambert4.map,color:it,spring:ot})})]})}useGLTF.preload(url$1);const url="/assets/specialLiht02-e52ba6b5.glb",trackId=TRACK_ID_KEY.SPECIAL_LIGHT02;function SpecialLight02({song:tt,isPlaying:et}){const{nodes:rt,materials:nt}=useGLTF(url),{color:it,spring:ot,visible:at}=usePreviewCommon(tt,trackId,et,CONFIG_LIGHT);return jsxs("group",{dispose:null,children:[jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:rt.Vr_light_13.geometry,material:nt["Material.010"],position:[0,0,-9.04],rotation:[-Math.PI,0,-Math.PI],scale:.02,children:jsx(LambertMaterial,{color:it,spring:ot})}),jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:rt.Plane001.geometry,material:nt["Material.012"],position:[0,0,-57.16],rotation:[-Math.PI/2,0,0],scale:.03,visible:at}),jsx("mesh",{castShadow:!0,receiveShadow:!0,geometry:rt.Vr_Cylinder06.geometry,material:nt["Material.011"],position:[0,0,5.8],rotation:[-Math.PI,0,-Math.PI],scale:.05,visible:at})]})}useGLTF.preload(url);const EventModals=()=>{const tt=useAppSelector(getSelectedSong),et=useAppSelector(getIsPlaying),rt=useAppSelector(getGraphicsLevel),nt=rt==="high",it=React.useRef(null);useFrame(({scene:at,camera:st})=>{it.current?it.current.update():(it.current=new Controls$1(st,[0,4,0]),at.add(it.current.getObject()))}),reactExports.useEffect(()=>()=>{it.current&&(it.current.removeOnMouse(),it.current=null)},[]);const ot=jsx("group",{scale:2,children:jsxs(reactExports.Suspense,{fallback:null,children:[jsx(SideLight,{side:"left",song:tt,isPlaying:et,graphicsLevel:rt}),jsx(SideLight,{side:"right",song:tt,isPlaying:et,graphicsLevel:rt}),jsx(MainLight,{song:tt,isPlaying:et,graphicsLevel:rt}),jsx(BackLight,{song:tt,isPlaying:et,graphicsLevel:rt,isBlooming:nt}),jsx(SpecialLight01,{song:tt,isPlaying:et,graphicsLevel:rt}),jsx(SpecialLight02,{song:tt,isPlaying:et,graphicsLevel:rt})]})});return jsxs(Fragment,{children:[ot,nt&&jsx(EffectComposer,{multisampling:8,children:jsx(Bloom,{kernelSize:1,luminanceThreshold:0,luminanceSmoothing:.4,intensity:.6})})]})},Preview=({type:tt})=>{const et=useAppSelector(getShowLightingPreview),rt=useAppSelector(getIsStandardNoteMode),nt=tt===VIEW_TYPE.EVENTS,it=tt===VIEW_TYPE.PREVIEW;if(!et&&nt)return null;const ot=st=>({...createPointerEvents(st),enabled:!1}),at=nt?"night":"sunset";return jsxs(Background,{children:[jsxs(ReduxForwardCanvas,{events:ot,children:[jsx(EventModals,{}),it&&jsx(PathwaysMove,{children:jsxs("group",{position:[0,2,-NOTES_Z_OFFSET],children:[jsx(SongNotes,{}),jsx(SongObs$1,{isStandardNoteMode:rt})]})}),jsx(Environment,{preset:at})]}),jsx(Loader,{})]})},Background=createStyled$1("div",{target:"ecgnst0"})({name:"9nluzq",styles:"position:absolute;z-index:0;top:0;left:0;right:0;bottom:0;background:#000"}),Events$1=()=>{const{mousedown:tt}=useMouseButtonOccupancy(),et=useAppSelector(getIsLoading);return jsxs(Container$2,{children:[jsx(Preview,{type:VIEW_TYPE.EVENTS}),jsx(SongInfoCard$1,{pageType:"events"}),jsx(Card$1,{sx:{position:"absolute",right:20,top:20,py:.2,px:1},children:jsx(Text$2,{variant:"h6",children:"场景正在制作中，不代表最终品质"})}),jsxs(Stack$5,{direction:"column",justifyContent:"space-between",alignItems:"center",spacing:0,sx:{zIndex:10},children:[jsx(Controls,{}),jsx(GlobalShortcutKey,{view:VIEW_TYPE.EVENTS,isMoveCamera:tt}),jsx(ShortcutKey,{isMoveCamera:tt})]}),et&&jsx(SectionLoading,{sx:{zIndex:9999}})]})},Container$2=createStyled$1("div",{target:"em4jaug0"})({name:"1szuzbz",styles:"height:100%;display:flex;flex-direction:column;justify-content:flex-end"}),Events=()=>{const{mousedown:tt}=useMouseButtonOccupancy();return jsxs(Container$1,{children:[jsx(Preview,{type:VIEW_TYPE.PREVIEW}),jsxs(Stack$5,{direction:"column",justifyContent:"space-between",alignItems:"center",spacing:0,sx:{zIndex:10},children:[jsx(EditorBottomBar,{type:VIEW_TYPE.PREVIEW}),jsx(GlobalShortcutKey,{view:VIEW_TYPE.PREVIEW,isMoveCamera:tt})]})]})},Container$1=createStyled$1("div",{target:"ea7ea2g0"})({name:"1szuzbz",styles:"height:100%;display:flex;flex-direction:column;justify-content:flex-end"});var lib$1={},ColorPicker$1={},compose$1={};compose$1.__esModule=!0;compose$1.default=void 0;var compose=function(){for(var et=arguments.length,rt=new Array(et),nt=0;nt<et;nt++)rt[nt]=arguments[nt];return rt.reduce(function(it,ot){return function(){return it(ot.apply(void 0,arguments))}},function(it){return it})},_default$f=compose;compose$1.default=_default$f;var withState$1={};const require$$1$1=getAugmentedNamespace(_extends$o);var inheritsLooseExports={},inheritsLoose={get exports(){return inheritsLooseExports},set exports(tt){inheritsLooseExports=tt}},setPrototypeOfExports={},setPrototypeOf={get exports(){return setPrototypeOfExports},set exports(tt){setPrototypeOfExports=tt}},hasRequiredSetPrototypeOf;function requireSetPrototypeOf(){return hasRequiredSetPrototypeOf||(hasRequiredSetPrototypeOf=1,function(tt){function et(rt,nt){return tt.exports=et=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ot,at){return ot.__proto__=at,ot},tt.exports.__esModule=!0,tt.exports.default=tt.exports,et(rt,nt)}tt.exports=et,tt.exports.__esModule=!0,tt.exports.default=tt.exports}(setPrototypeOf)),setPrototypeOfExports}var hasRequiredInheritsLoose;function requireInheritsLoose(){return hasRequiredInheritsLoose||(hasRequiredInheritsLoose=1,function(tt){var et=requireSetPrototypeOf();function rt(nt,it){nt.prototype=Object.create(it.prototype),nt.prototype.constructor=nt,et(nt,it)}tt.exports=rt,tt.exports.__esModule=!0,tt.exports.default=tt.exports}(inheritsLoose)),inheritsLooseExports}var setDisplayName={},setStatic={},hasRequiredSetStatic;function requireSetStatic(){if(hasRequiredSetStatic)return setStatic;hasRequiredSetStatic=1,setStatic.__esModule=!0,setStatic.default=void 0;var tt=function(nt,it){return function(ot){return ot[nt]=it,ot}},et=tt;return setStatic.default=et,setStatic}var hasRequiredSetDisplayName;function requireSetDisplayName(){if(hasRequiredSetDisplayName)return setDisplayName;hasRequiredSetDisplayName=1;var tt=interopRequireDefaultExports;setDisplayName.__esModule=!0,setDisplayName.default=void 0;var et=tt(requireSetStatic()),rt=function(ot){return(0,et.default)("displayName",ot)},nt=rt;return setDisplayName.default=nt,setDisplayName}var wrapDisplayName={},getDisplayName={},hasRequiredGetDisplayName;function requireGetDisplayName(){if(hasRequiredGetDisplayName)return getDisplayName;hasRequiredGetDisplayName=1,getDisplayName.__esModule=!0,getDisplayName.default=void 0;var tt=function(nt){if(typeof nt=="string")return nt;if(nt)return nt.displayName||nt.name||"Component"},et=tt;return getDisplayName.default=et,getDisplayName}var hasRequiredWrapDisplayName;function requireWrapDisplayName(){if(hasRequiredWrapDisplayName)return wrapDisplayName;hasRequiredWrapDisplayName=1;var tt=interopRequireDefaultExports;wrapDisplayName.__esModule=!0,wrapDisplayName.default=void 0;var et=tt(requireGetDisplayName()),rt=function(ot,at){return at+"("+(0,et.default)(ot)+")"},nt=rt;return wrapDisplayName.default=nt,wrapDisplayName}var _interopRequireDefault$j=interopRequireDefaultExports;withState$1.__esModule=!0;withState$1.default=void 0;var _extends3=_interopRequireDefault$j(require$$1$1),_inheritsLoose2=_interopRequireDefault$j(requireInheritsLoose()),_react$4=reactExports;_interopRequireDefault$j(requireSetDisplayName());_interopRequireDefault$j(requireWrapDisplayName());var withState=function(et,rt,nt){return function(it){var ot=(0,_react$4.createFactory)(it),at=function(st){(0,_inheritsLoose2.default)(lt,st);function lt(){for(var ut,dt=arguments.length,ft=new Array(dt),pt=0;pt<dt;pt++)ft[pt]=arguments[pt];return ut=st.call.apply(st,[this].concat(ft))||this,ut.state={stateValue:typeof nt=="function"?nt(ut.props):nt},ut.updateStateValue=function(mt,ht){return ut.setState(function(gt){var vt=gt.stateValue;return{stateValue:typeof mt=="function"?mt(vt):mt}},ht)},ut}var ct=lt.prototype;return ct.render=function(){var dt;return ot((0,_extends3.default)({},this.props,(dt={},dt[et]=this.state.stateValue,dt[rt]=this.updateStateValue,dt)))},lt}(_react$4.Component);return at}},_default$e=withState;withState$1.default=_default$e;const require$$4=getAugmentedNamespace(TextField);var transformers={};(function(tt){Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=tt.converters=tt.DEFAULT_CONVERTER=void 0;var et="rgba_hex";tt.DEFAULT_CONVERTER=et;var rt={rgba:function(ot){return"rgba(".concat(ot.rgb.r,", ").concat(ot.rgb.g,", ").concat(ot.rgb.b,", ").concat(ot.rgb.a,")")},rgb:function(ot){return"rgb(".concat(ot.rgb.r,", ").concat(ot.rgb.g,", ").concat(ot.rgb.b,")")},hex:function(ot){return ot.hex},rgba_rgb:function(ot){return ot.rgb.a===1?rt.rgb(ot):rt.rgba(ot)},rgba_hex:function(ot){return ot.rgb.a===1?rt.hex(ot):rt.rgba(ot)}};tt.converters=rt;var nt=rt;tt.default=nt})(transformers);var PickerDialog={},lib={},flattenNames$1={},baseForOwn=_baseForOwn,castFunction=_castFunction;function forOwn(tt,et){return tt&&baseForOwn(tt,castFunction(et))}var forOwn_1=forOwn,baseGetTag=_baseGetTag,getPrototype=_getPrototype,isObjectLike=isObjectLike_1,objectTag="[object Object]",funcProto=Function.prototype,objectProto=Object.prototype,funcToString=funcProto.toString,hasOwnProperty$4=objectProto.hasOwnProperty,objectCtorString=funcToString.call(Object);function isPlainObject$3(tt){if(!isObjectLike(tt)||baseGetTag(tt)!=objectTag)return!1;var et=getPrototype(tt);if(et===null)return!0;var rt=hasOwnProperty$4.call(et,"constructor")&&et.constructor;return typeof rt=="function"&&rt instanceof rt&&funcToString.call(rt)==objectCtorString}var isPlainObject_1=isPlainObject$3;Object.defineProperty(flattenNames$1,"__esModule",{value:!0});flattenNames$1.flattenNames=void 0;var _isString2=isString_1,_isString3=_interopRequireDefault$i(_isString2),_forOwn2$2=forOwn_1,_forOwn3$2=_interopRequireDefault$i(_forOwn2$2),_isPlainObject2=isPlainObject_1,_isPlainObject3=_interopRequireDefault$i(_isPlainObject2),_map2=map_1,_map3=_interopRequireDefault$i(_map2);function _interopRequireDefault$i(tt){return tt&&tt.__esModule?tt:{default:tt}}var flattenNames=flattenNames$1.flattenNames=function tt(){var et=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],rt=[];return(0,_map3.default)(et,function(nt){Array.isArray(nt)?tt(nt).map(function(it){return rt.push(it)}):(0,_isPlainObject3.default)(nt)?(0,_forOwn3$2.default)(nt,function(it,ot){it===!0&&rt.push(ot),rt.push(ot+"-"+it)}):(0,_isString3.default)(nt)&&rt.push(nt)}),rt};flattenNames$1.default=flattenNames;var mergeClasses$1={},baseClone=_baseClone,CLONE_DEEP_FLAG=1,CLONE_SYMBOLS_FLAG=4;function cloneDeep(tt){return baseClone(tt,CLONE_DEEP_FLAG|CLONE_SYMBOLS_FLAG)}var cloneDeep_1=cloneDeep;Object.defineProperty(mergeClasses$1,"__esModule",{value:!0});mergeClasses$1.mergeClasses=void 0;var _forOwn2$1=forOwn_1,_forOwn3$1=_interopRequireDefault$h(_forOwn2$1),_cloneDeep2=cloneDeep_1,_cloneDeep3=_interopRequireDefault$h(_cloneDeep2),_extends$f=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt};function _interopRequireDefault$h(tt){return tt&&tt.__esModule?tt:{default:tt}}var mergeClasses=mergeClasses$1.mergeClasses=function(et){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],nt=et.default&&(0,_cloneDeep3.default)(et.default)||{};return rt.map(function(it){var ot=et[it];return ot&&(0,_forOwn3$1.default)(ot,function(at,st){nt[st]||(nt[st]={}),nt[st]=_extends$f({},nt[st],ot[st])}),it}),nt};mergeClasses$1.default=mergeClasses;var autoprefix$1={};Object.defineProperty(autoprefix$1,"__esModule",{value:!0});autoprefix$1.autoprefix=void 0;var _forOwn2=forOwn_1,_forOwn3=_interopRequireDefault$g(_forOwn2),_extends$e=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt};function _interopRequireDefault$g(tt){return tt&&tt.__esModule?tt:{default:tt}}var transforms={borderRadius:function(et){return{msBorderRadius:et,MozBorderRadius:et,OBorderRadius:et,WebkitBorderRadius:et,borderRadius:et}},boxShadow:function(et){return{msBoxShadow:et,MozBoxShadow:et,OBoxShadow:et,WebkitBoxShadow:et,boxShadow:et}},userSelect:function(et){return{WebkitTouchCallout:et,KhtmlUserSelect:et,MozUserSelect:et,msUserSelect:et,WebkitUserSelect:et,userSelect:et}},flex:function(et){return{WebkitBoxFlex:et,MozBoxFlex:et,WebkitFlex:et,msFlex:et,flex:et}},flexBasis:function(et){return{WebkitFlexBasis:et,flexBasis:et}},justifyContent:function(et){return{WebkitJustifyContent:et,justifyContent:et}},transition:function(et){return{msTransition:et,MozTransition:et,OTransition:et,WebkitTransition:et,transition:et}},transform:function(et){return{msTransform:et,MozTransform:et,OTransform:et,WebkitTransform:et,transform:et}},absolute:function(et){var rt=et&&et.split(" ");return{position:"absolute",top:rt&&rt[0],right:rt&&rt[1],bottom:rt&&rt[2],left:rt&&rt[3]}},extend:function(et,rt){var nt=rt[et];return nt||{extend:et}}},autoprefix=autoprefix$1.autoprefix=function(et){var rt={};return(0,_forOwn3.default)(et,function(nt,it){var ot={};(0,_forOwn3.default)(nt,function(at,st){var lt=transforms[st];lt?ot=_extends$e({},ot,lt(at)):ot[st]=at}),rt[it]=ot}),rt};autoprefix$1.default=autoprefix;var hover$1={};Object.defineProperty(hover$1,"__esModule",{value:!0});hover$1.hover=void 0;var _extends$d=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_react$3=reactExports,_react2$3=_interopRequireDefault$f(_react$3);function _interopRequireDefault$f(tt){return tt&&tt.__esModule?tt:{default:tt}}function _classCallCheck$9(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$9(tt,et){if(!tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:tt}function _inherits$9(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,et):tt.__proto__=et)}var hover=hover$1.hover=function(et){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(nt){_inherits$9(it,nt);function it(){var ot,at,st,lt;_classCallCheck$9(this,it);for(var ct=arguments.length,ut=Array(ct),dt=0;dt<ct;dt++)ut[dt]=arguments[dt];return lt=(at=(st=_possibleConstructorReturn$9(this,(ot=it.__proto__||Object.getPrototypeOf(it)).call.apply(ot,[this].concat(ut))),st),st.state={hover:!1},st.handleMouseOver=function(){return st.setState({hover:!0})},st.handleMouseOut=function(){return st.setState({hover:!1})},st.render=function(){return _react2$3.default.createElement(rt,{onMouseOver:st.handleMouseOver,onMouseOut:st.handleMouseOut},_react2$3.default.createElement(et,_extends$d({},st.props,st.state)))},at),_possibleConstructorReturn$9(st,lt)}return it}(_react2$3.default.Component)};hover$1.default=hover;var active$1={};Object.defineProperty(active$1,"__esModule",{value:!0});active$1.active=void 0;var _extends$c=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_react$2=reactExports,_react2$2=_interopRequireDefault$e(_react$2);function _interopRequireDefault$e(tt){return tt&&tt.__esModule?tt:{default:tt}}function _classCallCheck$8(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$8(tt,et){if(!tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:tt}function _inherits$8(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,et):tt.__proto__=et)}var active=active$1.active=function(et){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(nt){_inherits$8(it,nt);function it(){var ot,at,st,lt;_classCallCheck$8(this,it);for(var ct=arguments.length,ut=Array(ct),dt=0;dt<ct;dt++)ut[dt]=arguments[dt];return lt=(at=(st=_possibleConstructorReturn$8(this,(ot=it.__proto__||Object.getPrototypeOf(it)).call.apply(ot,[this].concat(ut))),st),st.state={active:!1},st.handleMouseDown=function(){return st.setState({active:!0})},st.handleMouseUp=function(){return st.setState({active:!1})},st.render=function(){return _react2$2.default.createElement(rt,{onMouseDown:st.handleMouseDown,onMouseUp:st.handleMouseUp},_react2$2.default.createElement(et,_extends$c({},st.props,st.state)))},at),_possibleConstructorReturn$8(st,lt)}return it}(_react2$2.default.Component)};active$1.default=active;var loop={};Object.defineProperty(loop,"__esModule",{value:!0});var loopable=function(et,rt){var nt={},it=function(at){var st=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;nt[at]=st};return et===0&&it("first-child"),et===rt-1&&it("last-child"),(et===0||et%2===0)&&it("even"),Math.abs(et%2)===1&&it("odd"),it("nth-child",et),nt};loop.default=loopable;Object.defineProperty(lib,"__esModule",{value:!0});lib.ReactCSS=lib.loop=lib.handleActive=handleHover=lib.handleHover=lib.hover=void 0;var _flattenNames=flattenNames$1,_flattenNames2=_interopRequireDefault$d(_flattenNames),_mergeClasses=mergeClasses$1,_mergeClasses2=_interopRequireDefault$d(_mergeClasses),_autoprefix=autoprefix$1,_autoprefix2=_interopRequireDefault$d(_autoprefix),_hover2=hover$1,_hover3=_interopRequireDefault$d(_hover2),_active=active$1,_active2=_interopRequireDefault$d(_active),_loop2=loop,_loop3=_interopRequireDefault$d(_loop2);function _interopRequireDefault$d(tt){return tt&&tt.__esModule?tt:{default:tt}}lib.hover=_hover3.default;var handleHover=lib.handleHover=_hover3.default;lib.handleActive=_active2.default;lib.loop=_loop3.default;var ReactCSS=lib.ReactCSS=function(et){for(var rt=arguments.length,nt=Array(rt>1?rt-1:0),it=1;it<rt;it++)nt[it-1]=arguments[it];var ot=(0,_flattenNames2.default)(nt),at=(0,_mergeClasses2.default)(et,ot);return(0,_autoprefix2.default)(at)},_default$d=lib.default=ReactCSS,calculateChange$2=function(et,rt,nt,it,ot){var at=ot.clientWidth,st=ot.clientHeight,lt=typeof et.pageX=="number"?et.pageX:et.touches[0].pageX,ct=typeof et.pageY=="number"?et.pageY:et.touches[0].pageY,ut=lt-(ot.getBoundingClientRect().left+window.pageXOffset),dt=ct-(ot.getBoundingClientRect().top+window.pageYOffset);if(nt==="vertical"){var ft=void 0;if(dt<0?ft=0:dt>st?ft=1:ft=Math.round(dt*100/st)/100,rt.a!==ft)return{h:rt.h,s:rt.s,l:rt.l,a:ft,source:"rgb"}}else{var pt=void 0;if(ut<0?pt=0:ut>at?pt=1:pt=Math.round(ut*100/at)/100,it!==pt)return{h:rt.h,s:rt.s,l:rt.l,a:pt,source:"rgb"}}return null},checkboardCache={},render$4=function(et,rt,nt,it){if(typeof document>"u"&&!it)return null;var ot=it?new it:document.createElement("canvas");ot.width=nt*2,ot.height=nt*2;var at=ot.getContext("2d");return at?(at.fillStyle=et,at.fillRect(0,0,ot.width,ot.height),at.fillStyle=rt,at.fillRect(0,0,nt,nt),at.translate(nt,nt),at.fillRect(0,0,nt,nt),ot.toDataURL()):null},get$6=function(et,rt,nt,it){var ot=et+"-"+rt+"-"+nt+(it?"-server":"");if(checkboardCache[ot])return checkboardCache[ot];var at=render$4(et,rt,nt,it);return checkboardCache[ot]=at,at},_extends$b=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},Checkboard=function(et){var rt=et.white,nt=et.grey,it=et.size,ot=et.renderers,at=et.borderRadius,st=et.boxShadow,lt=et.children,ct=_default$d({default:{grid:{borderRadius:at,boxShadow:st,absolute:"0px 0px 0px 0px",background:"url("+get$6(rt,nt,it,ot.canvas)+") center left"}}});return reactExports.isValidElement(lt)?React.cloneElement(lt,_extends$b({},lt.props,{style:_extends$b({},lt.props.style,ct.grid)})):React.createElement("div",{style:ct.grid})};Checkboard.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var _extends$a=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_createClass$7=function(){function tt(et,rt){for(var nt=0;nt<rt.length;nt++){var it=rt[nt];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(et,it.key,it)}}return function(et,rt,nt){return rt&&tt(et.prototype,rt),nt&&tt(et,nt),et}}();function _classCallCheck$7(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$7(tt,et){if(!tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:tt}function _inherits$7(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,et):tt.__proto__=et)}var Alpha$1=function(tt){_inherits$7(et,tt);function et(){var rt,nt,it,ot;_classCallCheck$7(this,et);for(var at=arguments.length,st=Array(at),lt=0;lt<at;lt++)st[lt]=arguments[lt];return ot=(nt=(it=_possibleConstructorReturn$7(this,(rt=et.__proto__||Object.getPrototypeOf(et)).call.apply(rt,[this].concat(st))),it),it.handleChange=function(ct){var ut=calculateChange$2(ct,it.props.hsl,it.props.direction,it.props.a,it.container);ut&&typeof it.props.onChange=="function"&&it.props.onChange(ut,ct)},it.handleMouseDown=function(ct){it.handleChange(ct),window.addEventListener("mousemove",it.handleChange),window.addEventListener("mouseup",it.handleMouseUp)},it.handleMouseUp=function(){it.unbindEventListeners()},it.unbindEventListeners=function(){window.removeEventListener("mousemove",it.handleChange),window.removeEventListener("mouseup",it.handleMouseUp)},nt),_possibleConstructorReturn$7(it,ot)}return _createClass$7(et,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var nt=this,it=this.props.rgb,ot=_default$d({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+it.r+","+it.g+","+it.b+`, 0) 0%,
           rgba(`+it.r+","+it.g+","+it.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:it.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+it.r+","+it.g+","+it.b+`, 0) 0%,
           rgba(`+it.r+","+it.g+","+it.b+", 1) 100%)"},pointer:{left:0,top:it.a*100+"%"}},overwrite:_extends$a({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return React.createElement("div",{style:ot.alpha},React.createElement("div",{style:ot.checkboard},React.createElement(Checkboard,{renderers:this.props.renderers})),React.createElement("div",{style:ot.gradient}),React.createElement("div",{style:ot.container,ref:function(st){return nt.container=st},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},React.createElement("div",{style:ot.pointer},this.props.pointer?React.createElement(this.props.pointer,this.props):React.createElement("div",{style:ot.slider}))))}}]),et}(reactExports.PureComponent||reactExports.Component),_createClass$6=function(){function tt(et,rt){for(var nt=0;nt<rt.length;nt++){var it=rt[nt];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(et,it.key,it)}}return function(et,rt,nt){return rt&&tt(et.prototype,rt),nt&&tt(et,nt),et}}();function _defineProperty(tt,et,rt){return et in tt?Object.defineProperty(tt,et,{value:rt,enumerable:!0,configurable:!0,writable:!0}):tt[et]=rt,tt}function _classCallCheck$6(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$6(tt,et){if(!tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:tt}function _inherits$6(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,et):tt.__proto__=et)}var DEFAULT_ARROW_OFFSET=1,UP_KEY_CODE=38,DOWN_KEY_CODE=40,VALID_KEY_CODES=[UP_KEY_CODE,DOWN_KEY_CODE],isValidKeyCode=function(et){return VALID_KEY_CODES.indexOf(et)>-1},getNumberValue=function(et){return Number(String(et).replace(/%/g,""))},idCounter=1,EditableInput=function(tt){_inherits$6(et,tt);function et(rt){_classCallCheck$6(this,et);var nt=_possibleConstructorReturn$6(this,(et.__proto__||Object.getPrototypeOf(et)).call(this));return nt.handleBlur=function(){nt.state.blurValue&&nt.setState({value:nt.state.blurValue,blurValue:null})},nt.handleChange=function(it){nt.setUpdatedValue(it.target.value,it)},nt.handleKeyDown=function(it){var ot=getNumberValue(it.target.value);if(!isNaN(ot)&&isValidKeyCode(it.keyCode)){var at=nt.getArrowOffset(),st=it.keyCode===UP_KEY_CODE?ot+at:ot-at;nt.setUpdatedValue(st,it)}},nt.handleDrag=function(it){if(nt.props.dragLabel){var ot=Math.round(nt.props.value+it.movementX);ot>=0&&ot<=nt.props.dragMax&&nt.props.onChange&&nt.props.onChange(nt.getValueObjectWithLabel(ot),it)}},nt.handleMouseDown=function(it){nt.props.dragLabel&&(it.preventDefault(),nt.handleDrag(it),window.addEventListener("mousemove",nt.handleDrag),window.addEventListener("mouseup",nt.handleMouseUp))},nt.handleMouseUp=function(){nt.unbindEventListeners()},nt.unbindEventListeners=function(){window.removeEventListener("mousemove",nt.handleDrag),window.removeEventListener("mouseup",nt.handleMouseUp)},nt.state={value:String(rt.value).toUpperCase(),blurValue:String(rt.value).toUpperCase()},nt.inputId="rc-editable-input-"+idCounter++,nt}return _createClass$6(et,[{key:"componentDidUpdate",value:function(nt,it){this.props.value!==this.state.value&&(nt.value!==this.props.value||it.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(nt){return _defineProperty({},this.props.label,nt)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||DEFAULT_ARROW_OFFSET}},{key:"setUpdatedValue",value:function(nt,it){var ot=this.props.label?this.getValueObjectWithLabel(nt):nt;this.props.onChange&&this.props.onChange(ot,it),this.setState({value:nt})}},{key:"render",value:function(){var nt=this,it=_default$d({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return React.createElement("div",{style:it.wrap},React.createElement("input",{id:this.inputId,style:it.input,ref:function(at){return nt.input=at},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?React.createElement("label",{htmlFor:this.inputId,style:it.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),et}(reactExports.PureComponent||reactExports.Component),calculateChange$1=function(et,rt,nt,it){var ot=it.clientWidth,at=it.clientHeight,st=typeof et.pageX=="number"?et.pageX:et.touches[0].pageX,lt=typeof et.pageY=="number"?et.pageY:et.touches[0].pageY,ct=st-(it.getBoundingClientRect().left+window.pageXOffset),ut=lt-(it.getBoundingClientRect().top+window.pageYOffset);if(rt==="vertical"){var dt=void 0;if(ut<0)dt=359;else if(ut>at)dt=0;else{var ft=-(ut*100/at)+100;dt=360*ft/100}if(nt.h!==dt)return{h:dt,s:nt.s,l:nt.l,a:nt.a,source:"hsl"}}else{var pt=void 0;if(ct<0)pt=0;else if(ct>ot)pt=359;else{var mt=ct*100/ot;pt=360*mt/100}if(nt.h!==pt)return{h:pt,s:nt.s,l:nt.l,a:nt.a,source:"hsl"}}return null},_createClass$5=function(){function tt(et,rt){for(var nt=0;nt<rt.length;nt++){var it=rt[nt];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(et,it.key,it)}}return function(et,rt,nt){return rt&&tt(et.prototype,rt),nt&&tt(et,nt),et}}();function _classCallCheck$5(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$5(tt,et){if(!tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:tt}function _inherits$5(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,et):tt.__proto__=et)}var Hue$1=function(tt){_inherits$5(et,tt);function et(){var rt,nt,it,ot;_classCallCheck$5(this,et);for(var at=arguments.length,st=Array(at),lt=0;lt<at;lt++)st[lt]=arguments[lt];return ot=(nt=(it=_possibleConstructorReturn$5(this,(rt=et.__proto__||Object.getPrototypeOf(et)).call.apply(rt,[this].concat(st))),it),it.handleChange=function(ct){var ut=calculateChange$1(ct,it.props.direction,it.props.hsl,it.container);ut&&typeof it.props.onChange=="function"&&it.props.onChange(ut,ct)},it.handleMouseDown=function(ct){it.handleChange(ct),window.addEventListener("mousemove",it.handleChange),window.addEventListener("mouseup",it.handleMouseUp)},it.handleMouseUp=function(){it.unbindEventListeners()},nt),_possibleConstructorReturn$5(it,ot)}return _createClass$5(et,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var nt=this,it=this.props.direction,ot=it===void 0?"horizontal":it,at=_default$d({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:ot==="vertical"});return React.createElement("div",{style:at.hue},React.createElement("div",{className:"hue-"+ot,style:at.container,ref:function(lt){return nt.container=lt},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},React.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),React.createElement("div",{style:at.pointer},this.props.pointer?React.createElement(this.props.pointer,this.props):React.createElement("div",{style:at.slider}))))}}]),et}(reactExports.PureComponent||reactExports.Component),Raised=function(et){var rt=et.zDepth,nt=et.radius,it=et.background,ot=et.children,at=et.styles,st=at===void 0?{}:at,lt=_default$d(merge$6({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+rt+"px "+rt*4+"px rgba(0,0,0,.24)",borderRadius:nt,background:it}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},st),{"zDepth-1":rt===1});return React.createElement("div",{style:lt.wrap},React.createElement("div",{style:lt.bg}),React.createElement("div",{style:lt.content},ot))};Raised.propTypes={background:propTypesExports.string,zDepth:propTypesExports.oneOf([0,1,2,3,4,5]),radius:propTypesExports.number,styles:propTypesExports.object};Raised.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var calculateChange=function(et,rt,nt){var it=nt.getBoundingClientRect(),ot=it.width,at=it.height,st=typeof et.pageX=="number"?et.pageX:et.touches[0].pageX,lt=typeof et.pageY=="number"?et.pageY:et.touches[0].pageY,ct=st-(nt.getBoundingClientRect().left+window.pageXOffset),ut=lt-(nt.getBoundingClientRect().top+window.pageYOffset);ct<0?ct=0:ct>ot&&(ct=ot),ut<0?ut=0:ut>at&&(ut=at);var dt=ct/ot,ft=1-ut/at;return{h:rt.h,s:dt,v:ft,a:rt.a,source:"hsv"}},_createClass$4=function(){function tt(et,rt){for(var nt=0;nt<rt.length;nt++){var it=rt[nt];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(et,it.key,it)}}return function(et,rt,nt){return rt&&tt(et.prototype,rt),nt&&tt(et,nt),et}}();function _classCallCheck$4(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$4(tt,et){if(!tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:tt}function _inherits$4(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,et):tt.__proto__=et)}var Saturation=function(tt){_inherits$4(et,tt);function et(rt){_classCallCheck$4(this,et);var nt=_possibleConstructorReturn$4(this,(et.__proto__||Object.getPrototypeOf(et)).call(this,rt));return nt.handleChange=function(it){typeof nt.props.onChange=="function"&&nt.throttle(nt.props.onChange,calculateChange(it,nt.props.hsl,nt.container),it)},nt.handleMouseDown=function(it){nt.handleChange(it);var ot=nt.getContainerRenderWindow();ot.addEventListener("mousemove",nt.handleChange),ot.addEventListener("mouseup",nt.handleMouseUp)},nt.handleMouseUp=function(){nt.unbindEventListeners()},nt.throttle=throttle$1(function(it,ot,at){it(ot,at)},50),nt}return _createClass$4(et,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var nt=this.container,it=window;!it.document.contains(nt)&&it.parent!==it;)it=it.parent;return it}},{key:"unbindEventListeners",value:function(){var nt=this.getContainerRenderWindow();nt.removeEventListener("mousemove",this.handleChange),nt.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var nt=this,it=this.props.style||{},ot=it.color,at=it.white,st=it.black,lt=it.pointer,ct=it.circle,ut=_default$d({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:ot,white:at,black:st,pointer:lt,circle:ct}},{custom:!!this.props.style});return React.createElement("div",{style:ut.color,ref:function(ft){return nt.container=ft},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},React.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),React.createElement("div",{style:ut.white,className:"saturation-white"},React.createElement("div",{style:ut.black,className:"saturation-black"}),React.createElement("div",{style:ut.pointer},this.props.pointer?React.createElement(this.props.pointer,this.props):React.createElement("div",{style:ut.circle}))))}}]),et}(reactExports.PureComponent||reactExports.Component);function _typeof(tt){return _typeof=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(et){return typeof et}:function(et){return et&&typeof Symbol=="function"&&et.constructor===Symbol&&et!==Symbol.prototype?"symbol":typeof et},_typeof(tt)}var trimLeft$1=/^\s+/,trimRight=/\s+$/;function tinycolor(tt,et){if(tt=tt||"",et=et||{},tt instanceof tinycolor)return tt;if(!(this instanceof tinycolor))return new tinycolor(tt,et);var rt=inputToRGB(tt);this._originalInput=tt,this._r=rt.r,this._g=rt.g,this._b=rt.b,this._a=rt.a,this._roundA=Math.round(100*this._a)/100,this._format=et.format||rt.format,this._gradientType=et.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=rt.ok}tinycolor.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var et=this.toRgb();return(et.r*299+et.g*587+et.b*114)/1e3},getLuminance:function(){var et=this.toRgb(),rt,nt,it,ot,at,st;return rt=et.r/255,nt=et.g/255,it=et.b/255,rt<=.03928?ot=rt/12.92:ot=Math.pow((rt+.055)/1.055,2.4),nt<=.03928?at=nt/12.92:at=Math.pow((nt+.055)/1.055,2.4),it<=.03928?st=it/12.92:st=Math.pow((it+.055)/1.055,2.4),.2126*ot+.7152*at+.0722*st},setAlpha:function(et){return this._a=boundAlpha(et),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var et=rgbToHsv(this._r,this._g,this._b);return{h:et.h*360,s:et.s,v:et.v,a:this._a}},toHsvString:function(){var et=rgbToHsv(this._r,this._g,this._b),rt=Math.round(et.h*360),nt=Math.round(et.s*100),it=Math.round(et.v*100);return this._a==1?"hsv("+rt+", "+nt+"%, "+it+"%)":"hsva("+rt+", "+nt+"%, "+it+"%, "+this._roundA+")"},toHsl:function(){var et=rgbToHsl(this._r,this._g,this._b);return{h:et.h*360,s:et.s,l:et.l,a:this._a}},toHslString:function(){var et=rgbToHsl(this._r,this._g,this._b),rt=Math.round(et.h*360),nt=Math.round(et.s*100),it=Math.round(et.l*100);return this._a==1?"hsl("+rt+", "+nt+"%, "+it+"%)":"hsla("+rt+", "+nt+"%, "+it+"%, "+this._roundA+")"},toHex:function(et){return rgbToHex(this._r,this._g,this._b,et)},toHexString:function(et){return"#"+this.toHex(et)},toHex8:function(et){return rgbaToHex(this._r,this._g,this._b,this._a,et)},toHex8String:function(et){return"#"+this.toHex8(et)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(bound01(this._r,255)*100)+"%",g:Math.round(bound01(this._g,255)*100)+"%",b:Math.round(bound01(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%)":"rgba("+Math.round(bound01(this._r,255)*100)+"%, "+Math.round(bound01(this._g,255)*100)+"%, "+Math.round(bound01(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:hexNames[rgbToHex(this._r,this._g,this._b,!0)]||!1},toFilter:function(et){var rt="#"+rgbaToArgbHex(this._r,this._g,this._b,this._a),nt=rt,it=this._gradientType?"GradientType = 1, ":"";if(et){var ot=tinycolor(et);nt="#"+rgbaToArgbHex(ot._r,ot._g,ot._b,ot._a)}return"progid:DXImageTransform.Microsoft.gradient("+it+"startColorstr="+rt+",endColorstr="+nt+")"},toString:function(et){var rt=!!et;et=et||this._format;var nt=!1,it=this._a<1&&this._a>=0,ot=!rt&&it&&(et==="hex"||et==="hex6"||et==="hex3"||et==="hex4"||et==="hex8"||et==="name");return ot?et==="name"&&this._a===0?this.toName():this.toRgbString():(et==="rgb"&&(nt=this.toRgbString()),et==="prgb"&&(nt=this.toPercentageRgbString()),(et==="hex"||et==="hex6")&&(nt=this.toHexString()),et==="hex3"&&(nt=this.toHexString(!0)),et==="hex4"&&(nt=this.toHex8String(!0)),et==="hex8"&&(nt=this.toHex8String()),et==="name"&&(nt=this.toName()),et==="hsl"&&(nt=this.toHslString()),et==="hsv"&&(nt=this.toHsvString()),nt||this.toHexString())},clone:function(){return tinycolor(this.toString())},_applyModification:function(et,rt){var nt=et.apply(null,[this].concat([].slice.call(rt)));return this._r=nt._r,this._g=nt._g,this._b=nt._b,this.setAlpha(nt._a),this},lighten:function(){return this._applyModification(_lighten,arguments)},brighten:function(){return this._applyModification(_brighten,arguments)},darken:function(){return this._applyModification(_darken,arguments)},desaturate:function(){return this._applyModification(_desaturate,arguments)},saturate:function(){return this._applyModification(_saturate,arguments)},greyscale:function(){return this._applyModification(_greyscale,arguments)},spin:function(){return this._applyModification(_spin,arguments)},_applyCombination:function(et,rt){return et.apply(null,[this].concat([].slice.call(rt)))},analogous:function(){return this._applyCombination(_analogous,arguments)},complement:function(){return this._applyCombination(_complement,arguments)},monochromatic:function(){return this._applyCombination(_monochromatic,arguments)},splitcomplement:function(){return this._applyCombination(_splitcomplement,arguments)},triad:function(){return this._applyCombination(polyad,[3])},tetrad:function(){return this._applyCombination(polyad,[4])}};tinycolor.fromRatio=function(tt,et){if(_typeof(tt)=="object"){var rt={};for(var nt in tt)tt.hasOwnProperty(nt)&&(nt==="a"?rt[nt]=tt[nt]:rt[nt]=convertToPercentage(tt[nt]));tt=rt}return tinycolor(tt,et)};function inputToRGB(tt){var et={r:0,g:0,b:0},rt=1,nt=null,it=null,ot=null,at=!1,st=!1;return typeof tt=="string"&&(tt=stringInputToObject(tt)),_typeof(tt)=="object"&&(isValidCSSUnit(tt.r)&&isValidCSSUnit(tt.g)&&isValidCSSUnit(tt.b)?(et=rgbToRgb(tt.r,tt.g,tt.b),at=!0,st=String(tt.r).substr(-1)==="%"?"prgb":"rgb"):isValidCSSUnit(tt.h)&&isValidCSSUnit(tt.s)&&isValidCSSUnit(tt.v)?(nt=convertToPercentage(tt.s),it=convertToPercentage(tt.v),et=hsvToRgb(tt.h,nt,it),at=!0,st="hsv"):isValidCSSUnit(tt.h)&&isValidCSSUnit(tt.s)&&isValidCSSUnit(tt.l)&&(nt=convertToPercentage(tt.s),ot=convertToPercentage(tt.l),et=hslToRgb(tt.h,nt,ot),at=!0,st="hsl"),tt.hasOwnProperty("a")&&(rt=tt.a)),rt=boundAlpha(rt),{ok:at,format:tt.format||st,r:Math.min(255,Math.max(et.r,0)),g:Math.min(255,Math.max(et.g,0)),b:Math.min(255,Math.max(et.b,0)),a:rt}}function rgbToRgb(tt,et,rt){return{r:bound01(tt,255)*255,g:bound01(et,255)*255,b:bound01(rt,255)*255}}function rgbToHsl(tt,et,rt){tt=bound01(tt,255),et=bound01(et,255),rt=bound01(rt,255);var nt=Math.max(tt,et,rt),it=Math.min(tt,et,rt),ot,at,st=(nt+it)/2;if(nt==it)ot=at=0;else{var lt=nt-it;switch(at=st>.5?lt/(2-nt-it):lt/(nt+it),nt){case tt:ot=(et-rt)/lt+(et<rt?6:0);break;case et:ot=(rt-tt)/lt+2;break;case rt:ot=(tt-et)/lt+4;break}ot/=6}return{h:ot,s:at,l:st}}function hslToRgb(tt,et,rt){var nt,it,ot;tt=bound01(tt,360),et=bound01(et,100),rt=bound01(rt,100);function at(ct,ut,dt){return dt<0&&(dt+=1),dt>1&&(dt-=1),dt<1/6?ct+(ut-ct)*6*dt:dt<1/2?ut:dt<2/3?ct+(ut-ct)*(2/3-dt)*6:ct}if(et===0)nt=it=ot=rt;else{var st=rt<.5?rt*(1+et):rt+et-rt*et,lt=2*rt-st;nt=at(lt,st,tt+1/3),it=at(lt,st,tt),ot=at(lt,st,tt-1/3)}return{r:nt*255,g:it*255,b:ot*255}}function rgbToHsv(tt,et,rt){tt=bound01(tt,255),et=bound01(et,255),rt=bound01(rt,255);var nt=Math.max(tt,et,rt),it=Math.min(tt,et,rt),ot,at,st=nt,lt=nt-it;if(at=nt===0?0:lt/nt,nt==it)ot=0;else{switch(nt){case tt:ot=(et-rt)/lt+(et<rt?6:0);break;case et:ot=(rt-tt)/lt+2;break;case rt:ot=(tt-et)/lt+4;break}ot/=6}return{h:ot,s:at,v:st}}function hsvToRgb(tt,et,rt){tt=bound01(tt,360)*6,et=bound01(et,100),rt=bound01(rt,100);var nt=Math.floor(tt),it=tt-nt,ot=rt*(1-et),at=rt*(1-it*et),st=rt*(1-(1-it)*et),lt=nt%6,ct=[rt,at,ot,ot,st,rt][lt],ut=[st,rt,rt,at,ot,ot][lt],dt=[ot,ot,st,rt,rt,at][lt];return{r:ct*255,g:ut*255,b:dt*255}}function rgbToHex(tt,et,rt,nt){var it=[pad2(Math.round(tt).toString(16)),pad2(Math.round(et).toString(16)),pad2(Math.round(rt).toString(16))];return nt&&it[0].charAt(0)==it[0].charAt(1)&&it[1].charAt(0)==it[1].charAt(1)&&it[2].charAt(0)==it[2].charAt(1)?it[0].charAt(0)+it[1].charAt(0)+it[2].charAt(0):it.join("")}function rgbaToHex(tt,et,rt,nt,it){var ot=[pad2(Math.round(tt).toString(16)),pad2(Math.round(et).toString(16)),pad2(Math.round(rt).toString(16)),pad2(convertDecimalToHex(nt))];return it&&ot[0].charAt(0)==ot[0].charAt(1)&&ot[1].charAt(0)==ot[1].charAt(1)&&ot[2].charAt(0)==ot[2].charAt(1)&&ot[3].charAt(0)==ot[3].charAt(1)?ot[0].charAt(0)+ot[1].charAt(0)+ot[2].charAt(0)+ot[3].charAt(0):ot.join("")}function rgbaToArgbHex(tt,et,rt,nt){var it=[pad2(convertDecimalToHex(nt)),pad2(Math.round(tt).toString(16)),pad2(Math.round(et).toString(16)),pad2(Math.round(rt).toString(16))];return it.join("")}tinycolor.equals=function(tt,et){return!tt||!et?!1:tinycolor(tt).toRgbString()==tinycolor(et).toRgbString()};tinycolor.random=function(){return tinycolor.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function _desaturate(tt,et){et=et===0?0:et||10;var rt=tinycolor(tt).toHsl();return rt.s-=et/100,rt.s=clamp01(rt.s),tinycolor(rt)}function _saturate(tt,et){et=et===0?0:et||10;var rt=tinycolor(tt).toHsl();return rt.s+=et/100,rt.s=clamp01(rt.s),tinycolor(rt)}function _greyscale(tt){return tinycolor(tt).desaturate(100)}function _lighten(tt,et){et=et===0?0:et||10;var rt=tinycolor(tt).toHsl();return rt.l+=et/100,rt.l=clamp01(rt.l),tinycolor(rt)}function _brighten(tt,et){et=et===0?0:et||10;var rt=tinycolor(tt).toRgb();return rt.r=Math.max(0,Math.min(255,rt.r-Math.round(255*-(et/100)))),rt.g=Math.max(0,Math.min(255,rt.g-Math.round(255*-(et/100)))),rt.b=Math.max(0,Math.min(255,rt.b-Math.round(255*-(et/100)))),tinycolor(rt)}function _darken(tt,et){et=et===0?0:et||10;var rt=tinycolor(tt).toHsl();return rt.l-=et/100,rt.l=clamp01(rt.l),tinycolor(rt)}function _spin(tt,et){var rt=tinycolor(tt).toHsl(),nt=(rt.h+et)%360;return rt.h=nt<0?360+nt:nt,tinycolor(rt)}function _complement(tt){var et=tinycolor(tt).toHsl();return et.h=(et.h+180)%360,tinycolor(et)}function polyad(tt,et){if(isNaN(et)||et<=0)throw new Error("Argument to polyad must be a positive number");for(var rt=tinycolor(tt).toHsl(),nt=[tinycolor(tt)],it=360/et,ot=1;ot<et;ot++)nt.push(tinycolor({h:(rt.h+ot*it)%360,s:rt.s,l:rt.l}));return nt}function _splitcomplement(tt){var et=tinycolor(tt).toHsl(),rt=et.h;return[tinycolor(tt),tinycolor({h:(rt+72)%360,s:et.s,l:et.l}),tinycolor({h:(rt+216)%360,s:et.s,l:et.l})]}function _analogous(tt,et,rt){et=et||6,rt=rt||30;var nt=tinycolor(tt).toHsl(),it=360/rt,ot=[tinycolor(tt)];for(nt.h=(nt.h-(it*et>>1)+720)%360;--et;)nt.h=(nt.h+it)%360,ot.push(tinycolor(nt));return ot}function _monochromatic(tt,et){et=et||6;for(var rt=tinycolor(tt).toHsv(),nt=rt.h,it=rt.s,ot=rt.v,at=[],st=1/et;et--;)at.push(tinycolor({h:nt,s:it,v:ot})),ot=(ot+st)%1;return at}tinycolor.mix=function(tt,et,rt){rt=rt===0?0:rt||50;var nt=tinycolor(tt).toRgb(),it=tinycolor(et).toRgb(),ot=rt/100,at={r:(it.r-nt.r)*ot+nt.r,g:(it.g-nt.g)*ot+nt.g,b:(it.b-nt.b)*ot+nt.b,a:(it.a-nt.a)*ot+nt.a};return tinycolor(at)};tinycolor.readability=function(tt,et){var rt=tinycolor(tt),nt=tinycolor(et);return(Math.max(rt.getLuminance(),nt.getLuminance())+.05)/(Math.min(rt.getLuminance(),nt.getLuminance())+.05)};tinycolor.isReadable=function(tt,et,rt){var nt=tinycolor.readability(tt,et),it,ot;switch(ot=!1,it=validateWCAG2Parms(rt),it.level+it.size){case"AAsmall":case"AAAlarge":ot=nt>=4.5;break;case"AAlarge":ot=nt>=3;break;case"AAAsmall":ot=nt>=7;break}return ot};tinycolor.mostReadable=function(tt,et,rt){var nt=null,it=0,ot,at,st,lt;rt=rt||{},at=rt.includeFallbackColors,st=rt.level,lt=rt.size;for(var ct=0;ct<et.length;ct++)ot=tinycolor.readability(tt,et[ct]),ot>it&&(it=ot,nt=tinycolor(et[ct]));return tinycolor.isReadable(tt,nt,{level:st,size:lt})||!at?nt:(rt.includeFallbackColors=!1,tinycolor.mostReadable(tt,["#fff","#000"],rt))};var names=tinycolor.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},hexNames=tinycolor.hexNames=flip(names);function flip(tt){var et={};for(var rt in tt)tt.hasOwnProperty(rt)&&(et[tt[rt]]=rt);return et}function boundAlpha(tt){return tt=parseFloat(tt),(isNaN(tt)||tt<0||tt>1)&&(tt=1),tt}function bound01(tt,et){isOnePointZero(tt)&&(tt="100%");var rt=isPercentage(tt);return tt=Math.min(et,Math.max(0,parseFloat(tt))),rt&&(tt=parseInt(tt*et,10)/100),Math.abs(tt-et)<1e-6?1:tt%et/parseFloat(et)}function clamp01(tt){return Math.min(1,Math.max(0,tt))}function parseIntFromHex(tt){return parseInt(tt,16)}function isOnePointZero(tt){return typeof tt=="string"&&tt.indexOf(".")!=-1&&parseFloat(tt)===1}function isPercentage(tt){return typeof tt=="string"&&tt.indexOf("%")!=-1}function pad2(tt){return tt.length==1?"0"+tt:""+tt}function convertToPercentage(tt){return tt<=1&&(tt=tt*100+"%"),tt}function convertDecimalToHex(tt){return Math.round(parseFloat(tt)*255).toString(16)}function convertHexToDecimal(tt){return parseIntFromHex(tt)/255}var matchers=function(){var tt="[-\\+]?\\d+%?",et="[-\\+]?\\d*\\.\\d+%?",rt="(?:"+et+")|(?:"+tt+")",nt="[\\s|\\(]+("+rt+")[,|\\s]+("+rt+")[,|\\s]+("+rt+")\\s*\\)?",it="[\\s|\\(]+("+rt+")[,|\\s]+("+rt+")[,|\\s]+("+rt+")[,|\\s]+("+rt+")\\s*\\)?";return{CSS_UNIT:new RegExp(rt),rgb:new RegExp("rgb"+nt),rgba:new RegExp("rgba"+it),hsl:new RegExp("hsl"+nt),hsla:new RegExp("hsla"+it),hsv:new RegExp("hsv"+nt),hsva:new RegExp("hsva"+it),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function isValidCSSUnit(tt){return!!matchers.CSS_UNIT.exec(tt)}function stringInputToObject(tt){tt=tt.replace(trimLeft$1,"").replace(trimRight,"").toLowerCase();var et=!1;if(names[tt])tt=names[tt],et=!0;else if(tt=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var rt;return(rt=matchers.rgb.exec(tt))?{r:rt[1],g:rt[2],b:rt[3]}:(rt=matchers.rgba.exec(tt))?{r:rt[1],g:rt[2],b:rt[3],a:rt[4]}:(rt=matchers.hsl.exec(tt))?{h:rt[1],s:rt[2],l:rt[3]}:(rt=matchers.hsla.exec(tt))?{h:rt[1],s:rt[2],l:rt[3],a:rt[4]}:(rt=matchers.hsv.exec(tt))?{h:rt[1],s:rt[2],v:rt[3]}:(rt=matchers.hsva.exec(tt))?{h:rt[1],s:rt[2],v:rt[3],a:rt[4]}:(rt=matchers.hex8.exec(tt))?{r:parseIntFromHex(rt[1]),g:parseIntFromHex(rt[2]),b:parseIntFromHex(rt[3]),a:convertHexToDecimal(rt[4]),format:et?"name":"hex8"}:(rt=matchers.hex6.exec(tt))?{r:parseIntFromHex(rt[1]),g:parseIntFromHex(rt[2]),b:parseIntFromHex(rt[3]),format:et?"name":"hex"}:(rt=matchers.hex4.exec(tt))?{r:parseIntFromHex(rt[1]+""+rt[1]),g:parseIntFromHex(rt[2]+""+rt[2]),b:parseIntFromHex(rt[3]+""+rt[3]),a:convertHexToDecimal(rt[4]+""+rt[4]),format:et?"name":"hex8"}:(rt=matchers.hex3.exec(tt))?{r:parseIntFromHex(rt[1]+""+rt[1]),g:parseIntFromHex(rt[2]+""+rt[2]),b:parseIntFromHex(rt[3]+""+rt[3]),format:et?"name":"hex"}:!1}function validateWCAG2Parms(tt){var et,rt;return tt=tt||{level:"AA",size:"small"},et=(tt.level||"AA").toUpperCase(),rt=(tt.size||"small").toLowerCase(),et!=="AA"&&et!=="AAA"&&(et="AA"),rt!=="small"&&rt!=="large"&&(rt="small"),{level:et,size:rt}}var simpleCheckForValidColor=function(et){var rt=["r","g","b","a","h","s","l","v"],nt=0,it=0;return forEach$2(rt,function(ot){if(et[ot]&&(nt+=1,isNaN(et[ot])||(it+=1),ot==="s"||ot==="l")){var at=/^\d+%$/;at.test(et[ot])&&(it+=1)}}),nt===it?et:!1},toState=function(et,rt){var nt=et.hex?tinycolor(et.hex):tinycolor(et),it=nt.toHsl(),ot=nt.toHsv(),at=nt.toRgb(),st=nt.toHex();it.s===0&&(it.h=rt||0,ot.h=rt||0);var lt=st==="000000"&&at.a===0;return{hsl:it,hex:lt?"transparent":"#"+st,rgb:at,hsv:ot,oldHue:et.h||rt||it.h,source:et.source}},isValidHex=function(et){if(et==="transparent")return!0;var rt=String(et).charAt(0)==="#"?1:0;return et.length!==4+rt&&et.length<7+rt&&tinycolor(et).isValid()},getContrastingColor=function(et){if(!et)return"#fff";var rt=toState(et);if(rt.hex==="transparent")return"rgba(0,0,0,0.4)";var nt=(rt.rgb.r*299+rt.rgb.g*587+rt.rgb.b*114)/1e3;return nt>=128?"#000":"#fff"},isvalidColorString=function(et,rt){var nt=et.replace("°","");return tinycolor(rt+" ("+nt+")")._ok},_extends$9=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_createClass$3=function(){function tt(et,rt){for(var nt=0;nt<rt.length;nt++){var it=rt[nt];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(et,it.key,it)}}return function(et,rt,nt){return rt&&tt(et.prototype,rt),nt&&tt(et,nt),et}}();function _classCallCheck$3(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$3(tt,et){if(!tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:tt}function _inherits$3(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,et):tt.__proto__=et)}var ColorWrap=function(et){var rt=function(nt){_inherits$3(it,nt);function it(ot){_classCallCheck$3(this,it);var at=_possibleConstructorReturn$3(this,(it.__proto__||Object.getPrototypeOf(it)).call(this));return at.handleChange=function(st,lt){var ct=simpleCheckForValidColor(st);if(ct){var ut=toState(st,st.h||at.state.oldHue);at.setState(ut),at.props.onChangeComplete&&at.debounce(at.props.onChangeComplete,ut,lt),at.props.onChange&&at.props.onChange(ut,lt)}},at.handleSwatchHover=function(st,lt){var ct=simpleCheckForValidColor(st);if(ct){var ut=toState(st,st.h||at.state.oldHue);at.props.onSwatchHover&&at.props.onSwatchHover(ut,lt)}},at.state=_extends$9({},toState(ot.color,0)),at.debounce=debounce$6(function(st,lt,ct){st(lt,ct)},100),at}return _createClass$3(it,[{key:"render",value:function(){var at={};return this.props.onSwatchHover&&(at.onSwatchHover=this.handleSwatchHover),React.createElement(et,_extends$9({},this.props,this.state,{onChange:this.handleChange},at))}}],[{key:"getDerivedStateFromProps",value:function(at,st){return _extends$9({},toState(at.color,st.oldHue))}}]),it}(reactExports.PureComponent||reactExports.Component);return rt.propTypes=_extends$9({},et.propTypes),rt.defaultProps=_extends$9({},et.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),rt},_extends$8=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_createClass$2=function(){function tt(et,rt){for(var nt=0;nt<rt.length;nt++){var it=rt[nt];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(et,it.key,it)}}return function(et,rt,nt){return rt&&tt(et.prototype,rt),nt&&tt(et,nt),et}}();function _classCallCheck$2(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$2(tt,et){if(!tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:tt}function _inherits$2(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,et):tt.__proto__=et)}var handleFocus=function(et){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(nt){_inherits$2(it,nt);function it(){var ot,at,st,lt;_classCallCheck$2(this,it);for(var ct=arguments.length,ut=Array(ct),dt=0;dt<ct;dt++)ut[dt]=arguments[dt];return lt=(at=(st=_possibleConstructorReturn$2(this,(ot=it.__proto__||Object.getPrototypeOf(it)).call.apply(ot,[this].concat(ut))),st),st.state={focus:!1},st.handleFocus=function(){return st.setState({focus:!0})},st.handleBlur=function(){return st.setState({focus:!1})},at),_possibleConstructorReturn$2(st,lt)}return _createClass$2(it,[{key:"render",value:function(){return React.createElement(rt,{onFocus:this.handleFocus,onBlur:this.handleBlur},React.createElement(et,_extends$8({},this.props,this.state)))}}]),it}(React.Component)},_extends$7=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},ENTER=13,Swatch=function(et){var rt=et.color,nt=et.style,it=et.onClick,ot=it===void 0?function(){}:it,at=et.onHover,st=et.title,lt=st===void 0?rt:st,ct=et.children,ut=et.focus,dt=et.focusStyle,ft=dt===void 0?{}:dt,pt=rt==="transparent",mt=_default$d({default:{swatch:_extends$7({background:rt,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},nt,ut?ft:{})}}),ht=function(xt){return ot(rt,xt)},gt=function(xt){return xt.keyCode===ENTER&&ot(rt,xt)},vt=function(xt){return at(rt,xt)},yt={};return at&&(yt.onMouseOver=vt),React.createElement("div",_extends$7({style:mt.swatch,onClick:ht,title:lt,tabIndex:0,onKeyDown:gt},yt),ct,pt&&React.createElement(Checkboard,{borderRadius:mt.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))};const Swatch$1=handleFocus(Swatch);var AlphaPointer=function(et){var rt=et.direction,nt=_default$d({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:rt==="vertical"});return React.createElement("div",{style:nt.picker})},_extends$6=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},AlphaPicker=function(et){var rt=et.rgb,nt=et.hsl,it=et.width,ot=et.height,at=et.onChange,st=et.direction,lt=et.style,ct=et.renderers,ut=et.pointer,dt=et.className,ft=dt===void 0?"":dt,pt=_default$d({default:{picker:{position:"relative",width:it,height:ot},alpha:{radius:"2px",style:lt}}});return React.createElement("div",{style:pt.picker,className:"alpha-picker "+ft},React.createElement(Alpha$1,_extends$6({},pt.alpha,{rgb:rt,hsl:nt,pointer:ut,renderers:ct,onChange:at,direction:st})))};AlphaPicker.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:AlphaPointer};const Alpha=ColorWrap(AlphaPicker);var BlockSwatches=function(et){var rt=et.colors,nt=et.onClick,it=et.onSwatchHover,ot=_default$d({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return React.createElement("div",{style:ot.swatches},map$2(rt,function(at){return React.createElement(Swatch$1,{key:at,color:at,style:ot.swatch,onClick:nt,onHover:it,focusStyle:{boxShadow:"0 0 4px "+at}})}),React.createElement("div",{style:ot.clear}))},Block=function(et){var rt=et.onChange,nt=et.onSwatchHover,it=et.hex,ot=et.colors,at=et.width,st=et.triangle,lt=et.styles,ct=lt===void 0?{}:lt,ut=et.className,dt=ut===void 0?"":ut,ft=it==="transparent",pt=function(gt,vt){isValidHex(gt)&&rt({hex:gt,source:"hex"},vt)},mt=_default$d(merge$6({default:{card:{width:at,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:it,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:getContrastingColor(it),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+it+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},ct),{"hide-triangle":st==="hide"});return React.createElement("div",{style:mt.card,className:"block-picker "+dt},React.createElement("div",{style:mt.triangle}),React.createElement("div",{style:mt.head},ft&&React.createElement(Checkboard,{borderRadius:"6px 6px 0 0"}),React.createElement("div",{style:mt.label},it)),React.createElement("div",{style:mt.body},React.createElement(BlockSwatches,{colors:ot,onClick:pt,onSwatchHover:nt}),React.createElement(EditableInput,{style:{input:mt.input},value:it,onChange:pt})))};Block.propTypes={width:propTypesExports.oneOfType([propTypesExports.string,propTypesExports.number]),colors:propTypesExports.arrayOf(propTypesExports.string),triangle:propTypesExports.oneOf(["top","hide"]),styles:propTypesExports.object};Block.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};const Block$1=ColorWrap(Block);var red={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},pink={50:"#fce4ec",100:"#f8bbd0",200:"#f48fb1",300:"#f06292",400:"#ec407a",500:"#e91e63",600:"#d81b60",700:"#c2185b",800:"#ad1457",900:"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},purple={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},deepPurple={50:"#ede7f6",100:"#d1c4e9",200:"#b39ddb",300:"#9575cd",400:"#7e57c2",500:"#673ab7",600:"#5e35b1",700:"#512da8",800:"#4527a0",900:"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},indigo={50:"#e8eaf6",100:"#c5cae9",200:"#9fa8da",300:"#7986cb",400:"#5c6bc0",500:"#3f51b5",600:"#3949ab",700:"#303f9f",800:"#283593",900:"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},blue={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},lightBlue={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},cyan={50:"#e0f7fa",100:"#b2ebf2",200:"#80deea",300:"#4dd0e1",400:"#26c6da",500:"#00bcd4",600:"#00acc1",700:"#0097a7",800:"#00838f",900:"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},teal={50:"#e0f2f1",100:"#b2dfdb",200:"#80cbc4",300:"#4db6ac",400:"#26a69a",500:"#009688",600:"#00897b",700:"#00796b",800:"#00695c",900:"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},green={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},lightGreen={50:"#f1f8e9",100:"#dcedc8",200:"#c5e1a5",300:"#aed581",400:"#9ccc65",500:"#8bc34a",600:"#7cb342",700:"#689f38",800:"#558b2f",900:"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},lime={50:"#f9fbe7",100:"#f0f4c3",200:"#e6ee9c",300:"#dce775",400:"#d4e157",500:"#cddc39",600:"#c0ca33",700:"#afb42b",800:"#9e9d24",900:"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},yellow={50:"#fffde7",100:"#fff9c4",200:"#fff59d",300:"#fff176",400:"#ffee58",500:"#ffeb3b",600:"#fdd835",700:"#fbc02d",800:"#f9a825",900:"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},amber={50:"#fff8e1",100:"#ffecb3",200:"#ffe082",300:"#ffd54f",400:"#ffca28",500:"#ffc107",600:"#ffb300",700:"#ffa000",800:"#ff8f00",900:"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},orange={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},deepOrange={50:"#fbe9e7",100:"#ffccbc",200:"#ffab91",300:"#ff8a65",400:"#ff7043",500:"#ff5722",600:"#f4511e",700:"#e64a19",800:"#d84315",900:"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},brown={50:"#efebe9",100:"#d7ccc8",200:"#bcaaa4",300:"#a1887f",400:"#8d6e63",500:"#795548",600:"#6d4c41",700:"#5d4037",800:"#4e342e",900:"#3e2723"},blueGrey={50:"#eceff1",100:"#cfd8dc",200:"#b0bec5",300:"#90a4ae",400:"#78909c",500:"#607d8b",600:"#546e7a",700:"#455a64",800:"#37474f",900:"#263238"},CircleSwatch=function(et){var rt=et.color,nt=et.onClick,it=et.onSwatchHover,ot=et.hover,at=et.active,st=et.circleSize,lt=et.circleSpacing,ct=_default$d({default:{swatch:{width:st,height:st,marginRight:lt,marginBottom:lt,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(st/2+1)+"px "+rt,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+rt}}},{hover:ot,active:at});return React.createElement("div",{style:ct.swatch},React.createElement(Swatch$1,{style:ct.Swatch,color:rt,onClick:nt,onHover:it,focusStyle:{boxShadow:ct.Swatch.boxShadow+", 0 0 5px "+rt}}))};CircleSwatch.defaultProps={circleSize:28,circleSpacing:14};const CircleSwatch$1=handleHover(CircleSwatch);var Circle=function(et){var rt=et.width,nt=et.onChange,it=et.onSwatchHover,ot=et.colors,at=et.hex,st=et.circleSize,lt=et.styles,ct=lt===void 0?{}:lt,ut=et.circleSpacing,dt=et.className,ft=dt===void 0?"":dt,pt=_default$d(merge$6({default:{card:{width:rt,display:"flex",flexWrap:"wrap",marginRight:-ut,marginBottom:-ut}}},ct)),mt=function(gt,vt){return nt({hex:gt,source:"hex"},vt)};return React.createElement("div",{style:pt.card,className:"circle-picker "+ft},map$2(ot,function(ht){return React.createElement(CircleSwatch$1,{key:ht,color:ht,onClick:mt,onSwatchHover:it,active:at===ht.toLowerCase(),circleSize:st,circleSpacing:ut})}))};Circle.propTypes={width:propTypesExports.oneOfType([propTypesExports.string,propTypesExports.number]),circleSize:propTypesExports.number,circleSpacing:propTypesExports.number,styles:propTypesExports.object};Circle.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[red[500],pink[500],purple[500],deepPurple[500],indigo[500],blue[500],lightBlue[500],cyan[500],teal[500],green[500],lightGreen[500],lime[500],yellow[500],amber[500],orange[500],deepOrange[500],brown[500],blueGrey[500]],styles:{}};const Circle$1=ColorWrap(Circle);var UnfoldMoreHorizontalIcon={};Object.defineProperty(UnfoldMoreHorizontalIcon,"__esModule",{value:!0});var _extends$5=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_react$1=reactExports,_react2$1=_interopRequireDefault$c(_react$1);function _interopRequireDefault$c(tt){return tt&&tt.__esModule?tt:{default:tt}}function _objectWithoutProperties$1(tt,et){var rt={};for(var nt in tt)et.indexOf(nt)>=0||Object.prototype.hasOwnProperty.call(tt,nt)&&(rt[nt]=tt[nt]);return rt}var DEFAULT_SIZE$7=24,_default$c=UnfoldMoreHorizontalIcon.default=function(tt){var et=tt.fill,rt=et===void 0?"currentColor":et,nt=tt.width,it=nt===void 0?DEFAULT_SIZE$7:nt,ot=tt.height,at=ot===void 0?DEFAULT_SIZE$7:ot,st=tt.style,lt=st===void 0?{}:st,ct=_objectWithoutProperties$1(tt,["fill","width","height","style"]);return _react2$1.default.createElement("svg",_extends$5({viewBox:"0 0 "+DEFAULT_SIZE$7+" "+DEFAULT_SIZE$7,style:_extends$5({fill:rt,width:it,height:at},lt)},ct),_react2$1.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))},_createClass$1=function(){function tt(et,rt){for(var nt=0;nt<rt.length;nt++){var it=rt[nt];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(et,it.key,it)}}return function(et,rt,nt){return rt&&tt(et.prototype,rt),nt&&tt(et,nt),et}}();function _classCallCheck$1(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn$1(tt,et){if(!tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:tt}function _inherits$1(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,et):tt.__proto__=et)}var ChromeFields=function(tt){_inherits$1(et,tt);function et(rt){_classCallCheck$1(this,et);var nt=_possibleConstructorReturn$1(this,(et.__proto__||Object.getPrototypeOf(et)).call(this));return nt.toggleViews=function(){nt.state.view==="hex"?nt.setState({view:"rgb"}):nt.state.view==="rgb"?nt.setState({view:"hsl"}):nt.state.view==="hsl"&&(nt.props.hsl.a===1?nt.setState({view:"hex"}):nt.setState({view:"rgb"}))},nt.handleChange=function(it,ot){it.hex?isValidHex(it.hex)&&nt.props.onChange({hex:it.hex,source:"hex"},ot):it.r||it.g||it.b?nt.props.onChange({r:it.r||nt.props.rgb.r,g:it.g||nt.props.rgb.g,b:it.b||nt.props.rgb.b,source:"rgb"},ot):it.a?(it.a<0?it.a=0:it.a>1&&(it.a=1),nt.props.onChange({h:nt.props.hsl.h,s:nt.props.hsl.s,l:nt.props.hsl.l,a:Math.round(it.a*100)/100,source:"rgb"},ot)):(it.h||it.s||it.l)&&(typeof it.s=="string"&&it.s.includes("%")&&(it.s=it.s.replace("%","")),typeof it.l=="string"&&it.l.includes("%")&&(it.l=it.l.replace("%","")),it.s==1?it.s=.01:it.l==1&&(it.l=.01),nt.props.onChange({h:it.h||nt.props.hsl.h,s:Number(isUndefined$3(it.s)?nt.props.hsl.s:it.s),l:Number(isUndefined$3(it.l)?nt.props.hsl.l:it.l),source:"hsl"},ot))},nt.showHighlight=function(it){it.currentTarget.style.background="#eee"},nt.hideHighlight=function(it){it.currentTarget.style.background="transparent"},rt.hsl.a!==1&&rt.view==="hex"?nt.state={view:"rgb"}:nt.state={view:rt.view},nt}return _createClass$1(et,[{key:"render",value:function(){var nt=this,it=_default$d({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),ot=void 0;return this.state.view==="hex"?ot=React.createElement("div",{style:it.fields,className:"flexbox-fix"},React.createElement("div",{style:it.field},React.createElement(EditableInput,{style:{input:it.input,label:it.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?ot=React.createElement("div",{style:it.fields,className:"flexbox-fix"},React.createElement("div",{style:it.field},React.createElement(EditableInput,{style:{input:it.input,label:it.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),React.createElement("div",{style:it.field},React.createElement(EditableInput,{style:{input:it.input,label:it.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),React.createElement("div",{style:it.field},React.createElement(EditableInput,{style:{input:it.input,label:it.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),React.createElement("div",{style:it.alpha},React.createElement(EditableInput,{style:{input:it.input,label:it.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(ot=React.createElement("div",{style:it.fields,className:"flexbox-fix"},React.createElement("div",{style:it.field},React.createElement(EditableInput,{style:{input:it.input,label:it.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),React.createElement("div",{style:it.field},React.createElement(EditableInput,{style:{input:it.input,label:it.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),React.createElement("div",{style:it.field},React.createElement(EditableInput,{style:{input:it.input,label:it.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),React.createElement("div",{style:it.alpha},React.createElement(EditableInput,{style:{input:it.input,label:it.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),React.createElement("div",{style:it.wrap,className:"flexbox-fix"},ot,React.createElement("div",{style:it.toggle},React.createElement("div",{style:it.icon,onClick:this.toggleViews,ref:function(st){return nt.icon=st}},React.createElement(_default$c,{style:it.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(nt,it){return nt.hsl.a!==1&&it.view==="hex"?{view:"rgb"}:null}}]),et}(React.Component);ChromeFields.defaultProps={view:"hex"};var ChromePointer=function(){var et=_default$d({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return React.createElement("div",{style:et.picker})},ChromePointerCircle=function(){var et=_default$d({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return React.createElement("div",{style:et.picker})},Chrome=function(et){var rt=et.width,nt=et.onChange,it=et.disableAlpha,ot=et.rgb,at=et.hsl,st=et.hsv,lt=et.hex,ct=et.renderers,ut=et.styles,dt=ut===void 0?{}:ut,ft=et.className,pt=ft===void 0?"":ft,mt=et.defaultView,ht=_default$d(merge$6({default:{picker:{width:rt,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+ot.r+", "+ot.g+", "+ot.b+", "+ot.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},dt),{disableAlpha:it});return React.createElement("div",{style:ht.picker,className:"chrome-picker "+pt},React.createElement("div",{style:ht.saturation},React.createElement(Saturation,{style:ht.Saturation,hsl:at,hsv:st,pointer:ChromePointerCircle,onChange:nt})),React.createElement("div",{style:ht.body},React.createElement("div",{style:ht.controls,className:"flexbox-fix"},React.createElement("div",{style:ht.color},React.createElement("div",{style:ht.swatch},React.createElement("div",{style:ht.active}),React.createElement(Checkboard,{renderers:ct}))),React.createElement("div",{style:ht.toggles},React.createElement("div",{style:ht.hue},React.createElement(Hue$1,{style:ht.Hue,hsl:at,pointer:ChromePointer,onChange:nt})),React.createElement("div",{style:ht.alpha},React.createElement(Alpha$1,{style:ht.Alpha,rgb:ot,hsl:at,pointer:ChromePointer,renderers:ct,onChange:nt})))),React.createElement(ChromeFields,{rgb:ot,hsl:at,hex:lt,view:mt,onChange:nt,disableAlpha:it})))};Chrome.propTypes={width:propTypesExports.oneOfType([propTypesExports.string,propTypesExports.number]),disableAlpha:propTypesExports.bool,styles:propTypesExports.object,defaultView:propTypesExports.oneOf(["hex","rgb","hsl"])};Chrome.defaultProps={width:225,disableAlpha:!1,styles:{}};const Chrome$1=ColorWrap(Chrome);var CompactColor=function(et){var rt=et.color,nt=et.onClick,it=nt===void 0?function(){}:nt,ot=et.onSwatchHover,at=et.active,st=_default$d({default:{color:{background:rt,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:getContrastingColor(rt),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:at,"color-#FFFFFF":rt==="#FFFFFF",transparent:rt==="transparent"});return React.createElement(Swatch$1,{style:st.color,color:rt,onClick:it,onHover:ot,focusStyle:{boxShadow:"0 0 4px "+rt}},React.createElement("div",{style:st.dot}))},CompactFields=function(et){var rt=et.hex,nt=et.rgb,it=et.onChange,ot=_default$d({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:rt},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),at=function(lt,ct){lt.r||lt.g||lt.b?it({r:lt.r||nt.r,g:lt.g||nt.g,b:lt.b||nt.b,source:"rgb"},ct):it({hex:lt.hex,source:"hex"},ct)};return React.createElement("div",{style:ot.fields,className:"flexbox-fix"},React.createElement("div",{style:ot.active}),React.createElement(EditableInput,{style:{wrap:ot.HEXwrap,input:ot.HEXinput,label:ot.HEXlabel},label:"hex",value:rt,onChange:at}),React.createElement(EditableInput,{style:{wrap:ot.RGBwrap,input:ot.RGBinput,label:ot.RGBlabel},label:"r",value:nt.r,onChange:at}),React.createElement(EditableInput,{style:{wrap:ot.RGBwrap,input:ot.RGBinput,label:ot.RGBlabel},label:"g",value:nt.g,onChange:at}),React.createElement(EditableInput,{style:{wrap:ot.RGBwrap,input:ot.RGBinput,label:ot.RGBlabel},label:"b",value:nt.b,onChange:at}))},Compact=function(et){var rt=et.onChange,nt=et.onSwatchHover,it=et.colors,ot=et.hex,at=et.rgb,st=et.styles,lt=st===void 0?{}:st,ct=et.className,ut=ct===void 0?"":ct,dt=_default$d(merge$6({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},lt)),ft=function(mt,ht){mt.hex?isValidHex(mt.hex)&&rt({hex:mt.hex,source:"hex"},ht):rt(mt,ht)};return React.createElement(Raised,{style:dt.Compact,styles:lt},React.createElement("div",{style:dt.compact,className:"compact-picker "+ut},React.createElement("div",null,map$2(it,function(pt){return React.createElement(CompactColor,{key:pt,color:pt,active:pt.toLowerCase()===ot,onClick:ft,onSwatchHover:nt})}),React.createElement("div",{style:dt.clear})),React.createElement(CompactFields,{hex:ot,rgb:at,onChange:ft})))};Compact.propTypes={colors:propTypesExports.arrayOf(propTypesExports.string),styles:propTypesExports.object};Compact.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};const Compact$1=ColorWrap(Compact);var GithubSwatch=function(et){var rt=et.hover,nt=et.color,it=et.onClick,ot=et.onSwatchHover,at={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},st=_default$d({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:at}},{hover:rt});return React.createElement("div",{style:st.swatch},React.createElement(Swatch$1,{color:nt,onClick:it,onHover:ot,focusStyle:at}))};const GithubSwatch$1=handleHover(GithubSwatch);var Github=function(et){var rt=et.width,nt=et.colors,it=et.onChange,ot=et.onSwatchHover,at=et.triangle,st=et.styles,lt=st===void 0?{}:st,ct=et.className,ut=ct===void 0?"":ct,dt=_default$d(merge$6({default:{card:{width:rt,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},lt),{"hide-triangle":at==="hide","top-left-triangle":at==="top-left","top-right-triangle":at==="top-right","bottom-left-triangle":at==="bottom-left","bottom-right-triangle":at==="bottom-right"}),ft=function(mt,ht){return it({hex:mt,source:"hex"},ht)};return React.createElement("div",{style:dt.card,className:"github-picker "+ut},React.createElement("div",{style:dt.triangleShadow}),React.createElement("div",{style:dt.triangle}),map$2(nt,function(pt){return React.createElement(GithubSwatch$1,{color:pt,key:pt,onClick:ft,onSwatchHover:ot})}))};Github.propTypes={width:propTypesExports.oneOfType([propTypesExports.string,propTypesExports.number]),colors:propTypesExports.arrayOf(propTypesExports.string),triangle:propTypesExports.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:propTypesExports.object};Github.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};const Github$1=ColorWrap(Github);var SliderPointer$1=function(et){var rt=et.direction,nt=_default$d({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:rt==="vertical"});return React.createElement("div",{style:nt.picker})},_extends$4=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},HuePicker=function(et){var rt=et.width,nt=et.height,it=et.onChange,ot=et.hsl,at=et.direction,st=et.pointer,lt=et.styles,ct=lt===void 0?{}:lt,ut=et.className,dt=ut===void 0?"":ut,ft=_default$d(merge$6({default:{picker:{position:"relative",width:rt,height:nt},hue:{radius:"2px"}}},ct)),pt=function(ht){return it({a:1,h:ht.h,l:.5,s:1})};return React.createElement("div",{style:ft.picker,className:"hue-picker "+dt},React.createElement(Hue$1,_extends$4({},ft.hue,{hsl:ot,pointer:st,onChange:pt,direction:at})))};HuePicker.propTypes={styles:propTypesExports.object};HuePicker.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:SliderPointer$1,styles:{}};const Hue=ColorWrap(HuePicker);var Material=function(et){var rt=et.onChange,nt=et.hex,it=et.rgb,ot=et.styles,at=ot===void 0?{}:ot,st=et.className,lt=st===void 0?"":st,ct=_default$d(merge$6({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+nt,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},at)),ut=function(ft,pt){ft.hex?isValidHex(ft.hex)&&rt({hex:ft.hex,source:"hex"},pt):(ft.r||ft.g||ft.b)&&rt({r:ft.r||it.r,g:ft.g||it.g,b:ft.b||it.b,source:"rgb"},pt)};return React.createElement(Raised,{styles:at},React.createElement("div",{style:ct.material,className:"material-picker "+lt},React.createElement(EditableInput,{style:{wrap:ct.HEXwrap,input:ct.HEXinput,label:ct.HEXlabel},label:"hex",value:nt,onChange:ut}),React.createElement("div",{style:ct.split,className:"flexbox-fix"},React.createElement("div",{style:ct.third},React.createElement(EditableInput,{style:{wrap:ct.RGBwrap,input:ct.RGBinput,label:ct.RGBlabel},label:"r",value:it.r,onChange:ut})),React.createElement("div",{style:ct.third},React.createElement(EditableInput,{style:{wrap:ct.RGBwrap,input:ct.RGBinput,label:ct.RGBlabel},label:"g",value:it.g,onChange:ut})),React.createElement("div",{style:ct.third},React.createElement(EditableInput,{style:{wrap:ct.RGBwrap,input:ct.RGBinput,label:ct.RGBlabel},label:"b",value:it.b,onChange:ut})))))};const Material$1=ColorWrap(Material);var PhotoshopPicker=function(et){var rt=et.onChange,nt=et.rgb,it=et.hsv,ot=et.hex,at=_default$d({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),st=function(ct,ut){ct["#"]?isValidHex(ct["#"])&&rt({hex:ct["#"],source:"hex"},ut):ct.r||ct.g||ct.b?rt({r:ct.r||nt.r,g:ct.g||nt.g,b:ct.b||nt.b,source:"rgb"},ut):(ct.h||ct.s||ct.v)&&rt({h:ct.h||it.h,s:ct.s||it.s,v:ct.v||it.v,source:"hsv"},ut)};return React.createElement("div",{style:at.fields},React.createElement(EditableInput,{style:{wrap:at.RGBwrap,input:at.RGBinput,label:at.RGBlabel},label:"h",value:Math.round(it.h),onChange:st}),React.createElement(EditableInput,{style:{wrap:at.RGBwrap,input:at.RGBinput,label:at.RGBlabel},label:"s",value:Math.round(it.s*100),onChange:st}),React.createElement(EditableInput,{style:{wrap:at.RGBwrap,input:at.RGBinput,label:at.RGBlabel},label:"v",value:Math.round(it.v*100),onChange:st}),React.createElement("div",{style:at.divider}),React.createElement(EditableInput,{style:{wrap:at.RGBwrap,input:at.RGBinput,label:at.RGBlabel},label:"r",value:nt.r,onChange:st}),React.createElement(EditableInput,{style:{wrap:at.RGBwrap,input:at.RGBinput,label:at.RGBlabel},label:"g",value:nt.g,onChange:st}),React.createElement(EditableInput,{style:{wrap:at.RGBwrap,input:at.RGBinput,label:at.RGBlabel},label:"b",value:nt.b,onChange:st}),React.createElement("div",{style:at.divider}),React.createElement(EditableInput,{style:{wrap:at.HEXwrap,input:at.HEXinput,label:at.HEXlabel},label:"#",value:ot.replace("#",""),onChange:st}),React.createElement("div",{style:at.fieldSymbols},React.createElement("div",{style:at.symbol},"°"),React.createElement("div",{style:at.symbol},"%"),React.createElement("div",{style:at.symbol},"%")))},PhotoshopPointerCircle$1=function(et){var rt=et.hsl,nt=_default$d({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":rt.l>.5});return React.createElement("div",{style:nt.picker})},PhotoshopPointerCircle=function(){var et=_default$d({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return React.createElement("div",{style:et.pointer},React.createElement("div",{style:et.left},React.createElement("div",{style:et.leftInside})),React.createElement("div",{style:et.right},React.createElement("div",{style:et.rightInside})))},PhotoshopButton=function(et){var rt=et.onClick,nt=et.label,it=et.children,ot=et.active,at=_default$d({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:ot});return React.createElement("div",{style:at.button,onClick:rt},nt||it)},PhotoshopPreviews=function(et){var rt=et.rgb,nt=et.currentColor,it=_default$d({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+rt.r+","+rt.g+", "+rt.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:nt,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return React.createElement("div",null,React.createElement("div",{style:it.label},"new"),React.createElement("div",{style:it.swatches},React.createElement("div",{style:it.new}),React.createElement("div",{style:it.current})),React.createElement("div",{style:it.label},"current"))},_createClass=function(){function tt(et,rt){for(var nt=0;nt<rt.length;nt++){var it=rt[nt];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(et,it.key,it)}}return function(et,rt,nt){return rt&&tt(et.prototype,rt),nt&&tt(et,nt),et}}();function _classCallCheck(tt,et){if(!(tt instanceof et))throw new TypeError("Cannot call a class as a function")}function _possibleConstructorReturn(tt,et){if(!tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return et&&(typeof et=="object"||typeof et=="function")?et:tt}function _inherits(tt,et){if(typeof et!="function"&&et!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof et);tt.prototype=Object.create(et&&et.prototype,{constructor:{value:tt,enumerable:!1,writable:!0,configurable:!0}}),et&&(Object.setPrototypeOf?Object.setPrototypeOf(tt,et):tt.__proto__=et)}var Photoshop=function(tt){_inherits(et,tt);function et(rt){_classCallCheck(this,et);var nt=_possibleConstructorReturn(this,(et.__proto__||Object.getPrototypeOf(et)).call(this));return nt.state={currentColor:rt.hex},nt}return _createClass(et,[{key:"render",value:function(){var nt=this.props,it=nt.styles,ot=it===void 0?{}:it,at=nt.className,st=at===void 0?"":at,lt=_default$d(merge$6({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},ot));return React.createElement("div",{style:lt.picker,className:"photoshop-picker "+st},React.createElement("div",{style:lt.head},this.props.header),React.createElement("div",{style:lt.body,className:"flexbox-fix"},React.createElement("div",{style:lt.saturation},React.createElement(Saturation,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:PhotoshopPointerCircle$1,onChange:this.props.onChange})),React.createElement("div",{style:lt.hue},React.createElement(Hue$1,{direction:"vertical",hsl:this.props.hsl,pointer:PhotoshopPointerCircle,onChange:this.props.onChange})),React.createElement("div",{style:lt.controls},React.createElement("div",{style:lt.top,className:"flexbox-fix"},React.createElement("div",{style:lt.previews},React.createElement(PhotoshopPreviews,{rgb:this.props.rgb,currentColor:this.state.currentColor})),React.createElement("div",{style:lt.actions},React.createElement(PhotoshopButton,{label:"OK",onClick:this.props.onAccept,active:!0}),React.createElement(PhotoshopButton,{label:"Cancel",onClick:this.props.onCancel}),React.createElement(PhotoshopPicker,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),et}(React.Component);Photoshop.propTypes={header:propTypesExports.string,styles:propTypesExports.object};Photoshop.defaultProps={header:"Color Picker",styles:{}};const Photoshop$1=ColorWrap(Photoshop);var SketchFields=function(et){var rt=et.onChange,nt=et.rgb,it=et.hsl,ot=et.hex,at=et.disableAlpha,st=_default$d({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:at}),lt=function(ut,dt){ut.hex?isValidHex(ut.hex)&&rt({hex:ut.hex,source:"hex"},dt):ut.r||ut.g||ut.b?rt({r:ut.r||nt.r,g:ut.g||nt.g,b:ut.b||nt.b,a:nt.a,source:"rgb"},dt):ut.a&&(ut.a<0?ut.a=0:ut.a>100&&(ut.a=100),ut.a/=100,rt({h:it.h,s:it.s,l:it.l,a:ut.a,source:"rgb"},dt))};return React.createElement("div",{style:st.fields,className:"flexbox-fix"},React.createElement("div",{style:st.double},React.createElement(EditableInput,{style:{input:st.input,label:st.label},label:"hex",value:ot.replace("#",""),onChange:lt})),React.createElement("div",{style:st.single},React.createElement(EditableInput,{style:{input:st.input,label:st.label},label:"r",value:nt.r,onChange:lt,dragLabel:"true",dragMax:"255"})),React.createElement("div",{style:st.single},React.createElement(EditableInput,{style:{input:st.input,label:st.label},label:"g",value:nt.g,onChange:lt,dragLabel:"true",dragMax:"255"})),React.createElement("div",{style:st.single},React.createElement(EditableInput,{style:{input:st.input,label:st.label},label:"b",value:nt.b,onChange:lt,dragLabel:"true",dragMax:"255"})),React.createElement("div",{style:st.alpha},React.createElement(EditableInput,{style:{input:st.input,label:st.label},label:"a",value:Math.round(nt.a*100),onChange:lt,dragLabel:"true",dragMax:"100"})))},_extends$3=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},SketchPresetColors=function(et){var rt=et.colors,nt=et.onClick,it=nt===void 0?function(){}:nt,ot=et.onSwatchHover,at=_default$d({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!rt||!rt.length}),st=function(ct,ut){it({hex:ct,source:"hex"},ut)};return React.createElement("div",{style:at.colors,className:"flexbox-fix"},rt.map(function(lt){var ct=typeof lt=="string"?{color:lt}:lt,ut=""+ct.color+(ct.title||"");return React.createElement("div",{key:ut,style:at.swatchWrap},React.createElement(Swatch$1,_extends$3({},ct,{style:at.swatch,onClick:st,onHover:ot,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+ct.color}})))}))};SketchPresetColors.propTypes={colors:propTypesExports.arrayOf(propTypesExports.oneOfType([propTypesExports.string,propTypesExports.shape({color:propTypesExports.string,title:propTypesExports.string})])).isRequired};var _extends$2=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},Sketch=function(et){var rt=et.width,nt=et.rgb,it=et.hex,ot=et.hsv,at=et.hsl,st=et.onChange,lt=et.onSwatchHover,ct=et.disableAlpha,ut=et.presetColors,dt=et.renderers,ft=et.styles,pt=ft===void 0?{}:ft,mt=et.className,ht=mt===void 0?"":mt,gt=_default$d(merge$6({default:_extends$2({picker:{width:rt,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+nt.r+","+nt.g+","+nt.b+","+nt.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},pt),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},pt),{disableAlpha:ct});return React.createElement("div",{style:gt.picker,className:"sketch-picker "+ht},React.createElement("div",{style:gt.saturation},React.createElement(Saturation,{style:gt.Saturation,hsl:at,hsv:ot,onChange:st})),React.createElement("div",{style:gt.controls,className:"flexbox-fix"},React.createElement("div",{style:gt.sliders},React.createElement("div",{style:gt.hue},React.createElement(Hue$1,{style:gt.Hue,hsl:at,onChange:st})),React.createElement("div",{style:gt.alpha},React.createElement(Alpha$1,{style:gt.Alpha,rgb:nt,hsl:at,renderers:dt,onChange:st}))),React.createElement("div",{style:gt.color},React.createElement(Checkboard,null),React.createElement("div",{style:gt.activeColor}))),React.createElement(SketchFields,{rgb:nt,hsl:at,hex:it,onChange:st,disableAlpha:ct}),React.createElement(SketchPresetColors,{colors:ut,onClick:st,onSwatchHover:lt}))};Sketch.propTypes={disableAlpha:propTypesExports.bool,width:propTypesExports.oneOfType([propTypesExports.string,propTypesExports.number]),styles:propTypesExports.object};Sketch.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};const Sketch$1=ColorWrap(Sketch);var SliderSwatch=function(et){var rt=et.hsl,nt=et.offset,it=et.onClick,ot=it===void 0?function(){}:it,at=et.active,st=et.first,lt=et.last,ct=_default$d({default:{swatch:{height:"12px",background:"hsl("+rt.h+", 50%, "+nt*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:at,first:st,last:lt}),ut=function(ft){return ot({h:rt.h,s:.5,l:nt,source:"hsl"},ft)};return React.createElement("div",{style:ct.swatch,onClick:ut})},SliderSwatches=function(et){var rt=et.onClick,nt=et.hsl,it=_default$d({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),ot=.1;return React.createElement("div",{style:it.swatches},React.createElement("div",{style:it.swatch},React.createElement(SliderSwatch,{hsl:nt,offset:".80",active:Math.abs(nt.l-.8)<ot&&Math.abs(nt.s-.5)<ot,onClick:rt,first:!0})),React.createElement("div",{style:it.swatch},React.createElement(SliderSwatch,{hsl:nt,offset:".65",active:Math.abs(nt.l-.65)<ot&&Math.abs(nt.s-.5)<ot,onClick:rt})),React.createElement("div",{style:it.swatch},React.createElement(SliderSwatch,{hsl:nt,offset:".50",active:Math.abs(nt.l-.5)<ot&&Math.abs(nt.s-.5)<ot,onClick:rt})),React.createElement("div",{style:it.swatch},React.createElement(SliderSwatch,{hsl:nt,offset:".35",active:Math.abs(nt.l-.35)<ot&&Math.abs(nt.s-.5)<ot,onClick:rt})),React.createElement("div",{style:it.swatch},React.createElement(SliderSwatch,{hsl:nt,offset:".20",active:Math.abs(nt.l-.2)<ot&&Math.abs(nt.s-.5)<ot,onClick:rt,last:!0})),React.createElement("div",{style:it.clear}))},SliderPointer=function(){var et=_default$d({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return React.createElement("div",{style:et.picker})},Slider=function(et){var rt=et.hsl,nt=et.onChange,it=et.pointer,ot=et.styles,at=ot===void 0?{}:ot,st=et.className,lt=st===void 0?"":st,ct=_default$d(merge$6({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},at));return React.createElement("div",{style:ct.wrap||{},className:"slider-picker "+lt},React.createElement("div",{style:ct.hue},React.createElement(Hue$1,{style:ct.Hue,hsl:rt,pointer:it,onChange:nt})),React.createElement("div",{style:ct.swatches},React.createElement(SliderSwatches,{hsl:rt,onClick:nt})))};Slider.propTypes={styles:propTypesExports.object};Slider.defaultProps={pointer:SliderPointer,styles:{}};const Slider$1=ColorWrap(Slider);var CheckIcon={};Object.defineProperty(CheckIcon,"__esModule",{value:!0});var _extends$1=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_react=reactExports,_react2=_interopRequireDefault$b(_react);function _interopRequireDefault$b(tt){return tt&&tt.__esModule?tt:{default:tt}}function _objectWithoutProperties(tt,et){var rt={};for(var nt in tt)et.indexOf(nt)>=0||Object.prototype.hasOwnProperty.call(tt,nt)&&(rt[nt]=tt[nt]);return rt}var DEFAULT_SIZE$6=24,_default$b=CheckIcon.default=function(tt){var et=tt.fill,rt=et===void 0?"currentColor":et,nt=tt.width,it=nt===void 0?DEFAULT_SIZE$6:nt,ot=tt.height,at=ot===void 0?DEFAULT_SIZE$6:ot,st=tt.style,lt=st===void 0?{}:st,ct=_objectWithoutProperties(tt,["fill","width","height","style"]);return _react2.default.createElement("svg",_extends$1({viewBox:"0 0 "+DEFAULT_SIZE$6+" "+DEFAULT_SIZE$6,style:_extends$1({fill:rt,width:it,height:at},lt)},ct),_react2.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))},SwatchesColor=function(et){var rt=et.color,nt=et.onClick,it=nt===void 0?function(){}:nt,ot=et.onSwatchHover,at=et.first,st=et.last,lt=et.active,ct=_default$d({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:rt,marginBottom:"1px"},check:{color:getContrastingColor(rt),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:at,last:st,active:lt,"color-#FFFFFF":rt==="#FFFFFF",transparent:rt==="transparent"});return React.createElement(Swatch$1,{color:rt,style:ct.color,onClick:it,onHover:ot,focusStyle:{boxShadow:"0 0 4px "+rt}},React.createElement("div",{style:ct.check},React.createElement(_default$b,null)))},SwatchesGroup=function(et){var rt=et.onClick,nt=et.onSwatchHover,it=et.group,ot=et.active,at=_default$d({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return React.createElement("div",{style:at.group},map$2(it,function(st,lt){return React.createElement(SwatchesColor,{key:st,color:st,active:st.toLowerCase()===ot,first:lt===0,last:lt===it.length-1,onClick:rt,onSwatchHover:nt})}))},Swatches=function(et){var rt=et.width,nt=et.height,it=et.onChange,ot=et.onSwatchHover,at=et.colors,st=et.hex,lt=et.styles,ct=lt===void 0?{}:lt,ut=et.className,dt=ut===void 0?"":ut,ft=_default$d(merge$6({default:{picker:{width:rt,height:nt},overflow:{height:nt,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},ct)),pt=function(ht,gt){return it({hex:ht,source:"hex"},gt)};return React.createElement("div",{style:ft.picker,className:"swatches-picker "+dt},React.createElement(Raised,null,React.createElement("div",{style:ft.overflow},React.createElement("div",{style:ft.body},map$2(at,function(mt){return React.createElement(SwatchesGroup,{key:mt.toString(),group:mt,active:st,onClick:pt,onSwatchHover:ot})}),React.createElement("div",{style:ft.clear})))))};Swatches.propTypes={width:propTypesExports.oneOfType([propTypesExports.string,propTypesExports.number]),height:propTypesExports.oneOfType([propTypesExports.string,propTypesExports.number]),colors:propTypesExports.arrayOf(propTypesExports.arrayOf(propTypesExports.string)),styles:propTypesExports.object};Swatches.defaultProps={width:320,height:240,colors:[[red[900],red[700],red[500],red[300],red[100]],[pink[900],pink[700],pink[500],pink[300],pink[100]],[purple[900],purple[700],purple[500],purple[300],purple[100]],[deepPurple[900],deepPurple[700],deepPurple[500],deepPurple[300],deepPurple[100]],[indigo[900],indigo[700],indigo[500],indigo[300],indigo[100]],[blue[900],blue[700],blue[500],blue[300],blue[100]],[lightBlue[900],lightBlue[700],lightBlue[500],lightBlue[300],lightBlue[100]],[cyan[900],cyan[700],cyan[500],cyan[300],cyan[100]],[teal[900],teal[700],teal[500],teal[300],teal[100]],["#194D33",green[700],green[500],green[300],green[100]],[lightGreen[900],lightGreen[700],lightGreen[500],lightGreen[300],lightGreen[100]],[lime[900],lime[700],lime[500],lime[300],lime[100]],[yellow[900],yellow[700],yellow[500],yellow[300],yellow[100]],[amber[900],amber[700],amber[500],amber[300],amber[100]],[orange[900],orange[700],orange[500],orange[300],orange[100]],[deepOrange[900],deepOrange[700],deepOrange[500],deepOrange[300],deepOrange[100]],[brown[900],brown[700],brown[500],brown[300],brown[100]],[blueGrey[900],blueGrey[700],blueGrey[500],blueGrey[300],blueGrey[100]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};const Swatches$1=ColorWrap(Swatches);var Twitter=function(et){var rt=et.onChange,nt=et.onSwatchHover,it=et.hex,ot=et.colors,at=et.width,st=et.triangle,lt=et.styles,ct=lt===void 0?{}:lt,ut=et.className,dt=ut===void 0?"":ut,ft=_default$d(merge$6({default:{card:{width:at,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},ct),{"hide-triangle":st==="hide","top-left-triangle":st==="top-left","top-right-triangle":st==="top-right"}),pt=function(ht,gt){isValidHex(ht)&&rt({hex:ht,source:"hex"},gt)};return React.createElement("div",{style:ft.card,className:"twitter-picker "+dt},React.createElement("div",{style:ft.triangleShadow}),React.createElement("div",{style:ft.triangle}),React.createElement("div",{style:ft.body},map$2(ot,function(mt,ht){return React.createElement(Swatch$1,{key:ht,color:mt,hex:mt,style:ft.swatch,onClick:pt,onHover:nt,focusStyle:{boxShadow:"0 0 4px "+mt}})}),React.createElement("div",{style:ft.hash},"#"),React.createElement(EditableInput,{label:null,style:{input:ft.input},value:it.replace("#",""),onChange:pt}),React.createElement("div",{style:ft.clear})))};Twitter.propTypes={width:propTypesExports.oneOfType([propTypesExports.string,propTypesExports.number]),triangle:propTypesExports.oneOf(["hide","top-left","top-right"]),colors:propTypesExports.arrayOf(propTypesExports.string),styles:propTypesExports.object};Twitter.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};const Twitter$1=ColorWrap(Twitter);var GooglePointerCircle=function(et){var rt=_default$d({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(et.hsl.h)+", "+Math.round(et.hsl.s*100)+"%, "+Math.round(et.hsl.l*100)+"%)"}}});return React.createElement("div",{style:rt.picker})};GooglePointerCircle.propTypes={hsl:propTypesExports.shape({h:propTypesExports.number,s:propTypesExports.number,l:propTypesExports.number,a:propTypesExports.number})};GooglePointerCircle.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var GooglePointer=function(et){var rt=_default$d({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(et.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return React.createElement("div",{style:rt.picker})};GooglePointer.propTypes={hsl:propTypesExports.shape({h:propTypesExports.number,s:propTypesExports.number,l:propTypesExports.number,a:propTypesExports.number})};GooglePointer.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var GoogleFields=function(et){var rt=et.onChange,nt=et.rgb,it=et.hsl,ot=et.hex,at=et.hsv,st=function(pt,mt){if(pt.hex)isValidHex(pt.hex)&&rt({hex:pt.hex,source:"hex"},mt);else if(pt.rgb){var ht=pt.rgb.split(",");isvalidColorString(pt.rgb,"rgb")&&rt({r:ht[0],g:ht[1],b:ht[2],a:1,source:"rgb"},mt)}else if(pt.hsv){var gt=pt.hsv.split(",");isvalidColorString(pt.hsv,"hsv")&&(gt[2]=gt[2].replace("%",""),gt[1]=gt[1].replace("%",""),gt[0]=gt[0].replace("°",""),gt[1]==1?gt[1]=.01:gt[2]==1&&(gt[2]=.01),rt({h:Number(gt[0]),s:Number(gt[1]),v:Number(gt[2]),source:"hsv"},mt))}else if(pt.hsl){var vt=pt.hsl.split(",");isvalidColorString(pt.hsl,"hsl")&&(vt[2]=vt[2].replace("%",""),vt[1]=vt[1].replace("%",""),vt[0]=vt[0].replace("°",""),dt[1]==1?dt[1]=.01:dt[2]==1&&(dt[2]=.01),rt({h:Number(vt[0]),s:Number(vt[1]),v:Number(vt[2]),source:"hsl"},mt))}},lt=_default$d({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),ct=nt.r+", "+nt.g+", "+nt.b,ut=Math.round(it.h)+"°, "+Math.round(it.s*100)+"%, "+Math.round(it.l*100)+"%",dt=Math.round(at.h)+"°, "+Math.round(at.s*100)+"%, "+Math.round(at.v*100)+"%";return React.createElement("div",{style:lt.wrap,className:"flexbox-fix"},React.createElement("div",{style:lt.fields},React.createElement("div",{style:lt.double},React.createElement(EditableInput,{style:{input:lt.input,label:lt.label},label:"hex",value:ot,onChange:st})),React.createElement("div",{style:lt.column},React.createElement("div",{style:lt.single},React.createElement(EditableInput,{style:{input:lt.input2,label:lt.label2},label:"rgb",value:ct,onChange:st})),React.createElement("div",{style:lt.single},React.createElement(EditableInput,{style:{input:lt.input2,label:lt.label2},label:"hsv",value:dt,onChange:st})),React.createElement("div",{style:lt.single},React.createElement(EditableInput,{style:{input:lt.input2,label:lt.label2},label:"hsl",value:ut,onChange:st})))))},Google=function(et){var rt=et.width,nt=et.onChange,it=et.rgb,ot=et.hsl,at=et.hsv,st=et.hex,lt=et.header,ct=et.styles,ut=ct===void 0?{}:ct,dt=et.className,ft=dt===void 0?"":dt,pt=_default$d(merge$6({default:{picker:{width:rt,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+it.r+", "+it.g+", "+it.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},ut));return React.createElement("div",{style:pt.picker,className:"google-picker "+ft},React.createElement("div",{style:pt.head},lt),React.createElement("div",{style:pt.swatch}),React.createElement("div",{style:pt.saturation},React.createElement(Saturation,{hsl:ot,hsv:at,pointer:GooglePointerCircle,onChange:nt})),React.createElement("div",{style:pt.body},React.createElement("div",{style:pt.controls,className:"flexbox-fix"},React.createElement("div",{style:pt.hue},React.createElement(Hue$1,{style:pt.Hue,hsl:ot,radius:"4px",pointer:GooglePointer,onChange:nt}))),React.createElement(GoogleFields,{rgb:it,hsl:ot,hex:st,hsv:at,onChange:nt})))};Google.propTypes={width:propTypesExports.oneOfType([propTypesExports.string,propTypesExports.number]),styles:propTypesExports.object,header:propTypesExports.string};Google.defaultProps={width:652,styles:{},header:"Color picker"};const Google$1=ColorWrap(Google),es=Object.freeze(Object.defineProperty({__proto__:null,AlphaPicker:Alpha,BlockPicker:Block$1,ChromePicker:Chrome$1,CirclePicker:Circle$1,CompactPicker:Compact$1,CustomPicker:ColorWrap,GithubPicker:Github$1,GooglePicker:Google$1,HuePicker:Hue,MaterialPicker:Material$1,PhotoshopPicker:Photoshop$1,SketchPicker:Sketch$1,SliderPicker:Slider$1,SwatchesPicker:Swatches$1,TwitterPicker:Twitter$1,default:Chrome$1},Symbol.toStringTag,{value:"Module"})),require$$2$1=getAugmentedNamespace(es);(function(tt){Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=void 0;var et=it(reactExports),rt=it(propTypesExports),nt=require$$2$1;function it(st){return st&&st.__esModule?st:{default:st}}var ot=function(lt){var ct=lt.value,ut=lt.onClick,dt=lt.onChange;return et.default.createElement("div",{style:{position:"relative"}},et.default.createElement("div",{style:{position:"absolute",zIndex:"2"}},et.default.createElement("div",{style:{position:"fixed",top:"0px",right:"0px",bottom:"0px",left:"0px"},onClick:ut}),et.default.createElement(nt.ChromePicker,{color:ct,onChange:dt})))};ot.propTypes={value:rt.default.string,onChange:rt.default.func,onClick:rt.default.func};var at=ot;tt.default=at})(PickerDialog);(function(tt){Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=tt.ColorPickerField=void 0;var et=dt(reactExports),rt=dt(propTypesExports),nt=dt(compose$1),it=dt(withState$1),ot=dt(require$$4),at=transformers,st=dt(PickerDialog),lt=["onChange","convert","name","id","hintText","placeholder","floatingLabelText","label","TextFieldProps","value","showPicker","setShowPicker","internalValue","setValue"],ct=["value","onChange"],ut=["input","meta"];function dt(xt){return xt&&xt.__esModule?xt:{default:xt}}function ft(){return ft=Object.assign||function(xt){for(var $t=1;$t<arguments.length;$t++){var Tt=arguments[$t];for(var wt in Tt)Object.prototype.hasOwnProperty.call(Tt,wt)&&(xt[wt]=Tt[wt])}return xt},ft.apply(this,arguments)}function pt(xt,$t){if(xt==null)return{};var Tt=mt(xt,$t),wt,At;if(Object.getOwnPropertySymbols){var Rt=Object.getOwnPropertySymbols(xt);for(At=0;At<Rt.length;At++)wt=Rt[At],!($t.indexOf(wt)>=0)&&Object.prototype.propertyIsEnumerable.call(xt,wt)&&(Tt[wt]=xt[wt])}return Tt}function mt(xt,$t){if(xt==null)return{};var Tt={},wt=Object.keys(xt),At,Rt;for(Rt=0;Rt<wt.length;Rt++)At=wt[Rt],!($t.indexOf(At)>=0)&&(Tt[At]=xt[At]);return Tt}var ht=function($t){var Tt=$t.onChange,wt=$t.convert,At=$t.name,Rt=$t.id,It=$t.hintText,Lt=$t.placeholder,Pt=$t.floatingLabelText,Nt=$t.label,Ot=$t.TextFieldProps,Bt=$t.value,zt=$t.showPicker,Vt=$t.setShowPicker,Ut=$t.internalValue,jt=$t.setValue,qt=pt($t,lt);return et.default.createElement(et.default.Fragment,null,et.default.createElement(ot.default,ft({name:At,id:Rt,label:Pt||Nt,placeholder:It||Lt,onClick:function(){return Vt(!0)},onChange:function(Ft){jt(Ft.target.value),Tt(Ft.target.value)},InputProps:{style:{color:Bt===void 0?Ut:Bt}}},Ot,qt)),zt&&et.default.createElement(st.default,{value:Bt===void 0?Ut:Bt,onClick:function(){Vt(!1),Tt(Bt)},onChange:function(Ft){var Zt=at.converters[wt](Ft);jt(Zt),Tt(Zt)}}))};ht.propTypes={value:rt.default.string,onChange:rt.default.func,convert:rt.default.oneOf(Object.keys(at.converters)),name:rt.default.string,id:rt.default.string,hintText:rt.default.string,placeholder:rt.default.string,label:rt.default.string,floatingLabelText:rt.default.string,TextFieldProps:rt.default.shape(ot.default.propTypes),showPicker:rt.default.bool,setShowPicker:rt.default.func,internalValue:rt.default.string,setValue:rt.default.func},ht.defaultProps={convert:at.DEFAULT_CONVERTER};var gt=(0,nt.default)((0,it.default)("showPicker","setShowPicker",!1),(0,it.default)("internalValue","setValue",function(xt){var $t=xt.defaultValue;return $t})),vt=gt(ht),yt=function($t){var Tt=$t.input,wt=Tt.value,At=Tt.onChange,Rt=pt(Tt,ct),It=$t.meta,Lt=It.touched,Pt=It.error,Nt=pt($t,ut);return et.default.createElement(vt,ft({value:wt,onChange:At,errorText:Lt&&Pt},Rt,Nt))};tt.ColorPickerField=yt,yt.propTypes={input:rt.default.object,meta:rt.default.object};var bt=vt;tt.default=bt})(ColorPicker$1);(function(tt){Object.defineProperty(tt,"__esModule",{value:!0}),tt.default=void 0;var et=rt(ColorPicker$1);function rt(it){return it&&it.__esModule?it:{default:it}}var nt=et.default;tt.default=nt})(lib$1);const ColorPicker=getDefaultExportFromCjs(lib$1),StyledColorPicker=styled$1(ColorPicker)(()=>({minWidth:0,borderRadius:"50%",marginBottom:"10px","& input":{width:"30px",height:"30px",padding:0,opacity:"0 !important"},"& fieldset":{border:0}})),CusColor=({label:tt,defaultColor:et="#fff",defaultOverDrVal:rt=0,onChange:nt,onOverDrChange:it})=>{const{t:ot}=useI18n(),[at,st]=reactExports.useState(et),[lt,ct]=reactExports.useState(rt),ut=pt=>{nt(pt),pt&&st(pt)},dt=(pt,mt)=>{ct(mt)},ft=(pt,mt)=>{it(mt)};return jsx(Fragment,{children:jsxs(Stack$5,{sx:{flex:1,m:0,alignItems:"center"},children:[jsx(StyledColorPicker,{name:"color",disabled:!0,defaultValue:at,sx:{background:at,"& .MuiOutlinedInput-root":{background:at,borderRadius:"50%",boxShadow:"0 0 12px "+at,opacity:lt}},onChange:ut}),jsx(Typography$1,{color:"text.secondary",sx:{textAlign:"center",mt:1.5},gutterBottom:!0,children:tt}),jsx(Typography$1,{color:"text.secondary",sx:{textAlign:"center",mt:1.5,fontSize:"12px"},gutterBottom:!0,children:ot("common.label.overdrive")}),jsx(Slider$3,{size:"small",max:1,min:0,step:.01,sx:{width:60,mt:1.5},value:lt,onChange:dt,onChangeCommitted:ft})]})})},AdvanedCheckbox=({children:tt,tip:et,...rt})=>jsxs(Wrapper$2,{children:[jsx(Checkbox$1,{...rt}),jsx(Typography$1,{color:"text.secondary",sx:{m:0},children:tt}),jsx(HelpTooltip,{title:et,helpSx:{width:15,ml:.8}})]}),Wrapper$2=styled$1("div")`
  display: flex;
  align-items: center;
  // justify-content: center;
  margin-top: 10px;
`,ELEMENT_IDS=[COLOR_KEY.COLOR_LEFT,COLOR_KEY.COLOR_RIGHT,COLOR_KEY.ENV_COLOR_LEFT,COLOR_KEY.ENV_COLOR_RIGHT,COLOR_KEY.OBSTACLE_COLOR],AdvancedSetting=()=>{const{t:tt}=useI18n(),et=useAppSelector(getSelectedSong),rt=useAppDispatch(),nt=useAppSelector(getSelectedSongId),it=get$a(et,"modSettings.customColors.isEnabled")||!1,[ot,at]=reactExports.useState(it);get$a(et,"modSettings.mappingExtensions.isEnabled");const st=tt("common.label.enableCustomColors");tt("common.label.enableMappingExtensions"),tt("common.label.includesLightshowDifficulty"),tt("common.label.fastWalls");const lt=tt("common.label.tip.overrideTheDefault");tt("common.label.tip.allowsYouToCustomizeSizeAndShapeOfTheGrid"),tt("common.label.tip.addsANonStandardDifficulty"),tt("common.label.tip.fastWallsExploitALoophole");const ct=tt("common.label.leftSaber"),ut=tt("common.label.rightSaber"),dt=tt("common.label.environment1"),ft=tt("common.label.environment2"),pt=tt("common.label.obstacles"),mt=tt("common.label.obstacles2"),ht=bt=>{switch(bt){case COLOR_KEY.COLOR_LEFT:return ct;case COLOR_KEY.COLOR_RIGHT:return ut;case COLOR_KEY.ENV_COLOR_LEFT:return dt;case COLOR_KEY.ENV_COLOR_RIGHT:return ft;case COLOR_KEY.OBSTACLE_COLOR:return pt;default:return mt}},gt=(bt,xt,$t)=>{switch($t){case"customColors":at(xt),rt(toggleModForSong({songId:nt,mod:$t}));break;case"mappingExtensions":rt(toggleModForSong({songId:nt,mod:$t})),pubSaveFn(store$5);break;case"enabledLightshow":case"enabledFastWalls":rt(togglePropertyForSelectedSong({songId:nt,property:$t}));break}},vt=(bt,xt)=>{!bt||!nt||rt(updateModColor({songId:nt,elementId:xt,value:bt}))},yt=(bt,xt)=>{nt&&rt(updateModOverdrive({songId:nt,elementId:xt,value:bt}))};return jsxs(Fragment,{children:[jsx(Typography$1,{variant:"h4",sx:{my:5},component:"div",gutterBottom:!0,children:tt("common.title.advancedSettings")}),jsxs(Box$2,{sx:{pb:30},component:"form",noValidate:!0,autoComplete:"off",children:[jsx(AdvanedCheckbox,{checked:it,tip:jsx(reactExports.Fragment,{children:lt}),onChange:(bt,xt)=>{gt(bt,xt,"customColors")},children:st}),ot&&jsx(Stack$5,{direction:"row",sx:{mt:3},children:ELEMENT_IDS.map(bt=>{var xt,$t;return jsx(CusColor,{label:ht(bt),defaultColor:((xt=et==null?void 0:et.modSettings)==null?void 0:xt.customColors[bt])||DEFAULT_MOD_SETTINGS.customColors[bt],defaultOverDrVal:($t=et==null?void 0:et.modSettings)==null?void 0:$t.customColors[bt+"Overdrive"],onChange:Tt=>{vt(Tt,bt)},onOverDrChange:Tt=>{yt(Tt,bt)}},bt)})})]})]})};var isCheckBoxInput=tt=>tt.type==="checkbox",isDateObject=tt=>tt instanceof Date,isNullOrUndefined=tt=>tt==null;const isObjectType=tt=>typeof tt=="object";var isObject$8=tt=>!isNullOrUndefined(tt)&&!Array.isArray(tt)&&isObjectType(tt)&&!isDateObject(tt),getEventValue=tt=>isObject$8(tt)&&tt.target?isCheckBoxInput(tt.target)?tt.target.checked:tt.target.value:tt,getNodeParentName=tt=>tt.substring(0,tt.search(/\.\d+(\.|$)/))||tt,isNameInFieldArray=(tt,et)=>tt.has(getNodeParentName(et)),compact=tt=>Array.isArray(tt)?tt.filter(Boolean):[],isUndefined$1=tt=>tt===void 0,get$5=(tt,et,rt)=>{if(!et||!isObject$8(tt))return rt;const nt=compact(et.split(/[,[\].]+?/)).reduce((it,ot)=>isNullOrUndefined(it)?it:it[ot],tt);return isUndefined$1(nt)||nt===tt?isUndefined$1(tt[et])?rt:tt[et]:nt};const EVENTS$5={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},VALIDATION_MODE={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},INPUT_VALIDATION_RULES={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},HookFormContext=React.createContext(null),useFormContext=()=>React.useContext(HookFormContext);var getProxyFormState=(tt,et,rt,nt=!0)=>{const it={defaultValues:et._defaultValues};for(const ot in tt)Object.defineProperty(it,ot,{get:()=>{const at=ot;return et._proxyFormState[at]!==VALIDATION_MODE.all&&(et._proxyFormState[at]=!nt||VALIDATION_MODE.all),rt&&(rt[at]=!0),tt[at]}});return it},isEmptyObject=tt=>isObject$8(tt)&&!Object.keys(tt).length,shouldRenderFormState=(tt,et,rt,nt)=>{rt(tt);const{name:it,...ot}=tt;return isEmptyObject(ot)||Object.keys(ot).length>=Object.keys(et).length||Object.keys(ot).find(at=>et[at]===(!nt||VALIDATION_MODE.all))},convertToArrayPayload=tt=>Array.isArray(tt)?tt:[tt],shouldSubscribeByName=(tt,et,rt)=>rt&&et?tt===et:!tt||!et||tt===et||convertToArrayPayload(tt).some(nt=>nt&&(nt.startsWith(et)||et.startsWith(nt)));function useSubscribe(tt){const et=React.useRef(tt);et.current=tt,React.useEffect(()=>{const rt=!tt.disabled&&et.current.subject.subscribe({next:et.current.next});return()=>{rt&&rt.unsubscribe()}},[tt.disabled])}function useFormState(tt){const et=useFormContext(),{control:rt=et.control,disabled:nt,name:it,exact:ot}=tt||{},[at,st]=React.useState(rt._formState),lt=React.useRef(!0),ct=React.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1}),ut=React.useRef(it);return ut.current=it,useSubscribe({disabled:nt,next:dt=>lt.current&&shouldSubscribeByName(ut.current,dt.name,ot)&&shouldRenderFormState(dt,ct.current,rt._updateFormState)&&st({...rt._formState,...dt}),subject:rt._subjects.state}),React.useEffect(()=>{lt.current=!0;const dt=rt._proxyFormState.isDirty&&rt._getDirty();return dt!==rt._formState.isDirty&&rt._subjects.state.next({isDirty:dt}),ct.current.isValid&&rt._updateValid(!0),()=>{lt.current=!1}},[rt]),getProxyFormState(at,rt,ct.current,!1)}var isString$7=tt=>typeof tt=="string",generateWatchOutput=(tt,et,rt,nt,it)=>isString$7(tt)?(nt&&et.watch.add(tt),get$5(rt,tt,it)):Array.isArray(tt)?tt.map(ot=>(nt&&et.watch.add(ot),get$5(rt,ot))):(nt&&(et.watchAll=!0),rt),isPlainObject$2=tt=>{const et=tt.constructor&&tt.constructor.prototype;return isObject$8(et)&&et.hasOwnProperty("isPrototypeOf")},isWeb=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function cloneObject(tt){let et;const rt=Array.isArray(tt);if(tt instanceof Date)et=new Date(tt);else if(tt instanceof Set)et=new Set(tt);else if(!(isWeb&&(tt instanceof Blob||tt instanceof FileList))&&(rt||isObject$8(tt)))if(et=rt?[]:{},!Array.isArray(tt)&&!isPlainObject$2(tt))et=tt;else for(const nt in tt)et[nt]=cloneObject(tt[nt]);else return tt;return et}function useWatch(tt){const et=useFormContext(),{control:rt=et.control,name:nt,defaultValue:it,disabled:ot,exact:at}=tt||{},st=React.useRef(nt);st.current=nt,useSubscribe({disabled:ot,subject:rt._subjects.watch,next:ut=>{shouldSubscribeByName(st.current,ut.name,at)&&ct(cloneObject(generateWatchOutput(st.current,rt._names,ut.values||rt._formValues,!1,it)))}});const[lt,ct]=React.useState(rt._getWatch(nt,it));return React.useEffect(()=>rt._removeUnmounted()),lt}function useController(tt){const et=useFormContext(),{name:rt,control:nt=et.control,shouldUnregister:it}=tt,ot=isNameInFieldArray(nt._names.array,rt),at=useWatch({control:nt,name:rt,defaultValue:get$5(nt._formValues,rt,get$5(nt._defaultValues,rt,tt.defaultValue)),exact:!0}),st=useFormState({control:nt,name:rt}),lt=React.useRef(nt.register(rt,{...tt.rules,value:at}));return React.useEffect(()=>{const ct=(ut,dt)=>{const ft=get$5(nt._fields,ut);ft&&(ft._f.mount=dt)};return ct(rt,!0),()=>{const ut=nt._options.shouldUnregister||it;(ot?ut&&!nt._stateFlags.action:ut)?nt.unregister(rt):ct(rt,!1)}},[rt,nt,ot,it]),{field:{name:rt,value:at,onChange:React.useCallback(ct=>lt.current.onChange({target:{value:getEventValue(ct),name:rt},type:EVENTS$5.CHANGE}),[rt]),onBlur:React.useCallback(()=>lt.current.onBlur({target:{value:get$5(nt._formValues,rt),name:rt},type:EVENTS$5.BLUR}),[rt,nt]),ref:ct=>{const ut=get$5(nt._fields,rt);ut&&ct&&(ut._f.ref={focus:()=>ct.focus(),select:()=>ct.select(),setCustomValidity:dt=>ct.setCustomValidity(dt),reportValidity:()=>ct.reportValidity()})}},formState:st,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!get$5(st.errors,rt)},isDirty:{enumerable:!0,get:()=>!!get$5(st.dirtyFields,rt)},isTouched:{enumerable:!0,get:()=>!!get$5(st.touchedFields,rt)},error:{enumerable:!0,get:()=>get$5(st.errors,rt)}})}}const Controller=tt=>tt.render(useController(tt));var appendErrors=(tt,et,rt,nt,it)=>et?{...rt[tt],types:{...rt[tt]&&rt[tt].types?rt[tt].types:{},[nt]:it||!0}}:{},isKey=tt=>/^\w*$/.test(tt),stringToPath=tt=>compact(tt.replace(/["|']|\]/g,"").split(/\.|\[/));function set$6(tt,et,rt){let nt=-1;const it=isKey(et)?[et]:stringToPath(et),ot=it.length,at=ot-1;for(;++nt<ot;){const st=it[nt];let lt=rt;if(nt!==at){const ct=tt[st];lt=isObject$8(ct)||Array.isArray(ct)?ct:isNaN(+it[nt+1])?{}:[]}tt[st]=lt,tt=tt[st]}return tt}const focusFieldBy=(tt,et,rt)=>{for(const nt of rt||Object.keys(tt)){const it=get$5(tt,nt);if(it){const{_f:ot,...at}=it;if(ot&&et(ot.name)){if(ot.ref.focus){ot.ref.focus();break}else if(ot.refs&&ot.refs[0].focus){ot.refs[0].focus();break}}else isObject$8(at)&&focusFieldBy(at,et)}}};var getValidationModes=tt=>({isOnSubmit:!tt||tt===VALIDATION_MODE.onSubmit,isOnBlur:tt===VALIDATION_MODE.onBlur,isOnChange:tt===VALIDATION_MODE.onChange,isOnAll:tt===VALIDATION_MODE.all,isOnTouch:tt===VALIDATION_MODE.onTouched}),isWatched=(tt,et,rt)=>!rt&&(et.watchAll||et.watch.has(tt)||[...et.watch].some(nt=>tt.startsWith(nt)&&/^\.\w+/.test(tt.slice(nt.length)))),updateFieldArrayRootError=(tt,et,rt)=>{const nt=compact(get$5(tt,rt));return set$6(nt,"root",et[rt]),set$6(tt,rt,nt),tt},isBoolean$5=tt=>typeof tt=="boolean",isFileInput=tt=>tt.type==="file",isFunction$2=tt=>typeof tt=="function",isHTMLElement=tt=>{if(!isWeb)return!1;const et=tt?tt.ownerDocument:0;return tt instanceof(et&&et.defaultView?et.defaultView.HTMLElement:HTMLElement)},isMessage=tt=>isString$7(tt)||React.isValidElement(tt),isRadioInput=tt=>tt.type==="radio",isRegex=tt=>tt instanceof RegExp;const defaultResult={value:!1,isValid:!1},validResult={value:!0,isValid:!0};var getCheckboxValue=tt=>{if(Array.isArray(tt)){if(tt.length>1){const et=tt.filter(rt=>rt&&rt.checked&&!rt.disabled).map(rt=>rt.value);return{value:et,isValid:!!et.length}}return tt[0].checked&&!tt[0].disabled?tt[0].attributes&&!isUndefined$1(tt[0].attributes.value)?isUndefined$1(tt[0].value)||tt[0].value===""?validResult:{value:tt[0].value,isValid:!0}:validResult:defaultResult}return defaultResult};const defaultReturn={isValid:!1,value:null};var getRadioValue=tt=>Array.isArray(tt)?tt.reduce((et,rt)=>rt&&rt.checked&&!rt.disabled?{isValid:!0,value:rt.value}:et,defaultReturn):defaultReturn;function getValidateError(tt,et,rt="validate"){if(isMessage(tt)||Array.isArray(tt)&&tt.every(isMessage)||isBoolean$5(tt)&&!tt)return{type:rt,message:isMessage(tt)?tt:"",ref:et}}var getValueAndMessage=tt=>isObject$8(tt)&&!isRegex(tt)?tt:{value:tt,message:""},validateField=async(tt,et,rt,nt,it)=>{const{ref:ot,refs:at,required:st,maxLength:lt,minLength:ct,min:ut,max:dt,pattern:ft,validate:pt,name:mt,valueAsNumber:ht,mount:gt,disabled:vt}=tt._f,yt=get$5(et,mt);if(!gt||vt)return{};const bt=at?at[0]:ot,xt=Pt=>{nt&&bt.reportValidity&&(bt.setCustomValidity(isBoolean$5(Pt)?"":Pt||""),bt.reportValidity())},$t={},Tt=isRadioInput(ot),wt=isCheckBoxInput(ot),At=Tt||wt,Rt=(ht||isFileInput(ot))&&isUndefined$1(ot.value)&&isUndefined$1(yt)||isHTMLElement(ot)&&ot.value===""||yt===""||Array.isArray(yt)&&!yt.length,It=appendErrors.bind(null,mt,rt,$t),Lt=(Pt,Nt,Ot,Bt=INPUT_VALIDATION_RULES.maxLength,zt=INPUT_VALIDATION_RULES.minLength)=>{const Vt=Pt?Nt:Ot;$t[mt]={type:Pt?Bt:zt,message:Vt,ref:ot,...It(Pt?Bt:zt,Vt)}};if(it?!Array.isArray(yt)||!yt.length:st&&(!At&&(Rt||isNullOrUndefined(yt))||isBoolean$5(yt)&&!yt||wt&&!getCheckboxValue(at).isValid||Tt&&!getRadioValue(at).isValid)){const{value:Pt,message:Nt}=isMessage(st)?{value:!!st,message:st}:getValueAndMessage(st);if(Pt&&($t[mt]={type:INPUT_VALIDATION_RULES.required,message:Nt,ref:bt,...It(INPUT_VALIDATION_RULES.required,Nt)},!rt))return xt(Nt),$t}if(!Rt&&(!isNullOrUndefined(ut)||!isNullOrUndefined(dt))){let Pt,Nt;const Ot=getValueAndMessage(dt),Bt=getValueAndMessage(ut);if(!isNullOrUndefined(yt)&&!isNaN(yt)){const zt=ot.valueAsNumber||yt&&+yt;isNullOrUndefined(Ot.value)||(Pt=zt>Ot.value),isNullOrUndefined(Bt.value)||(Nt=zt<Bt.value)}else{const zt=ot.valueAsDate||new Date(yt),Vt=qt=>new Date(new Date().toDateString()+" "+qt),Ut=ot.type=="time",jt=ot.type=="week";isString$7(Ot.value)&&yt&&(Pt=Ut?Vt(yt)>Vt(Ot.value):jt?yt>Ot.value:zt>new Date(Ot.value)),isString$7(Bt.value)&&yt&&(Nt=Ut?Vt(yt)<Vt(Bt.value):jt?yt<Bt.value:zt<new Date(Bt.value))}if((Pt||Nt)&&(Lt(!!Pt,Ot.message,Bt.message,INPUT_VALIDATION_RULES.max,INPUT_VALIDATION_RULES.min),!rt))return xt($t[mt].message),$t}if((lt||ct)&&!Rt&&(isString$7(yt)||it&&Array.isArray(yt))){const Pt=getValueAndMessage(lt),Nt=getValueAndMessage(ct),Ot=!isNullOrUndefined(Pt.value)&&yt.length>Pt.value,Bt=!isNullOrUndefined(Nt.value)&&yt.length<Nt.value;if((Ot||Bt)&&(Lt(Ot,Pt.message,Nt.message),!rt))return xt($t[mt].message),$t}if(ft&&!Rt&&isString$7(yt)){const{value:Pt,message:Nt}=getValueAndMessage(ft);if(isRegex(Pt)&&!yt.match(Pt)&&($t[mt]={type:INPUT_VALIDATION_RULES.pattern,message:Nt,ref:ot,...It(INPUT_VALIDATION_RULES.pattern,Nt)},!rt))return xt(Nt),$t}if(pt){if(isFunction$2(pt)){const Pt=await pt(yt,et),Nt=getValidateError(Pt,bt);if(Nt&&($t[mt]={...Nt,...It(INPUT_VALIDATION_RULES.validate,Nt.message)},!rt))return xt(Nt.message),$t}else if(isObject$8(pt)){let Pt={};for(const Nt in pt){if(!isEmptyObject(Pt)&&!rt)break;const Ot=getValidateError(await pt[Nt](yt,et),bt,Nt);Ot&&(Pt={...Ot,...It(Nt,Ot.message)},xt(Ot.message),rt&&($t[mt]=Pt))}if(!isEmptyObject(Pt)&&($t[mt]={ref:bt,...Pt},!rt))return $t}}return xt(!0),$t};function baseGet(tt,et){const rt=et.slice(0,-1).length;let nt=0;for(;nt<rt;)tt=isUndefined$1(tt)?nt++:tt[et[nt++]];return tt}function isEmptyArray(tt){for(const et in tt)if(!isUndefined$1(tt[et]))return!1;return!0}function unset(tt,et){const rt=Array.isArray(et)?et:isKey(et)?[et]:stringToPath(et),nt=rt.length===1?tt:baseGet(tt,rt),it=rt.length-1,ot=rt[it];return nt&&delete nt[ot],it!==0&&(isObject$8(nt)&&isEmptyObject(nt)||Array.isArray(nt)&&isEmptyArray(nt))&&unset(tt,rt.slice(0,-1)),tt}function createSubject(){let tt=[];return{get observers(){return tt},next:it=>{for(const ot of tt)ot.next(it)},subscribe:it=>(tt.push(it),{unsubscribe:()=>{tt=tt.filter(ot=>ot!==it)}}),unsubscribe:()=>{tt=[]}}}var isPrimitive=tt=>isNullOrUndefined(tt)||!isObjectType(tt);function deepEqual(tt,et){if(isPrimitive(tt)||isPrimitive(et))return tt===et;if(isDateObject(tt)&&isDateObject(et))return tt.getTime()===et.getTime();const rt=Object.keys(tt),nt=Object.keys(et);if(rt.length!==nt.length)return!1;for(const it of rt){const ot=tt[it];if(!nt.includes(it))return!1;if(it!=="ref"){const at=et[it];if(isDateObject(ot)&&isDateObject(at)||isObject$8(ot)&&isObject$8(at)||Array.isArray(ot)&&Array.isArray(at)?!deepEqual(ot,at):ot!==at)return!1}}return!0}var isMultipleSelect=tt=>tt.type==="select-multiple",isRadioOrCheckbox=tt=>isRadioInput(tt)||isCheckBoxInput(tt),live=tt=>isHTMLElement(tt)&&tt.isConnected,objectHasFunction=tt=>{for(const et in tt)if(isFunction$2(tt[et]))return!0;return!1};function markFieldsDirty(tt,et={}){const rt=Array.isArray(tt);if(isObject$8(tt)||rt)for(const nt in tt)Array.isArray(tt[nt])||isObject$8(tt[nt])&&!objectHasFunction(tt[nt])?(et[nt]=Array.isArray(tt[nt])?[]:{},markFieldsDirty(tt[nt],et[nt])):isNullOrUndefined(tt[nt])||(et[nt]=!0);return et}function getDirtyFieldsFromDefaultValues(tt,et,rt){const nt=Array.isArray(tt);if(isObject$8(tt)||nt)for(const it in tt)Array.isArray(tt[it])||isObject$8(tt[it])&&!objectHasFunction(tt[it])?isUndefined$1(et)||isPrimitive(rt[it])?rt[it]=Array.isArray(tt[it])?markFieldsDirty(tt[it],[]):{...markFieldsDirty(tt[it])}:getDirtyFieldsFromDefaultValues(tt[it],isNullOrUndefined(et)?{}:et[it],rt[it]):deepEqual(tt[it],et[it])?delete rt[it]:rt[it]=!0;return rt}var getDirtyFields=(tt,et)=>getDirtyFieldsFromDefaultValues(tt,et,markFieldsDirty(et)),getFieldValueAs=(tt,{valueAsNumber:et,valueAsDate:rt,setValueAs:nt})=>isUndefined$1(tt)?tt:et?tt===""?NaN:tt&&+tt:rt&&isString$7(tt)?new Date(tt):nt?nt(tt):tt;function getFieldValue(tt){const et=tt.ref;if(!(tt.refs?tt.refs.every(rt=>rt.disabled):et.disabled))return isFileInput(et)?et.files:isRadioInput(et)?getRadioValue(tt.refs).value:isMultipleSelect(et)?[...et.selectedOptions].map(({value:rt})=>rt):isCheckBoxInput(et)?getCheckboxValue(tt.refs).value:getFieldValueAs(isUndefined$1(et.value)?tt.ref.value:et.value,tt)}var getResolverOptions=(tt,et,rt,nt)=>{const it={};for(const ot of tt){const at=get$5(et,ot);at&&set$6(it,ot,at._f)}return{criteriaMode:rt,names:[...tt],fields:it,shouldUseNativeValidation:nt}},getRuleValue=tt=>isUndefined$1(tt)?tt:isRegex(tt)?tt.source:isObject$8(tt)?isRegex(tt.value)?tt.value.source:tt.value:tt,hasValidation=tt=>tt.mount&&(tt.required||tt.min||tt.max||tt.maxLength||tt.minLength||tt.pattern||tt.validate);function schemaErrorLookup(tt,et,rt){const nt=get$5(tt,rt);if(nt||isKey(rt))return{error:nt,name:rt};const it=rt.split(".");for(;it.length;){const ot=it.join("."),at=get$5(et,ot),st=get$5(tt,ot);if(at&&!Array.isArray(at)&&rt!==ot)return{name:rt};if(st&&st.type)return{name:ot,error:st};it.pop()}return{name:rt}}var skipValidation=(tt,et,rt,nt,it)=>it.isOnAll?!1:!rt&&it.isOnTouch?!(et||tt):(rt?nt.isOnBlur:it.isOnBlur)?!tt:(rt?nt.isOnChange:it.isOnChange)?tt:!0,unsetEmptyArray=(tt,et)=>!compact(get$5(tt,et)).length&&unset(tt,et);const defaultOptions={mode:VALIDATION_MODE.onSubmit,reValidateMode:VALIDATION_MODE.onChange,shouldFocusError:!0};function createFormControl(tt={},et){let rt={...defaultOptions,...tt};const nt=tt.resetOptions&&tt.resetOptions.keepDirtyValues;let it={submitCount:0,isDirty:!1,isLoading:!0,isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},errors:{}},ot={},at=isObject$8(rt.defaultValues)||isObject$8(rt.values)?cloneObject(rt.defaultValues||rt.values)||{}:{},st=rt.shouldUnregister?{}:cloneObject(at),lt={action:!1,mount:!1,watch:!1},ct={mount:new Set,unMount:new Set,array:new Set,watch:new Set},ut,dt=0;const ft={isDirty:!1,dirtyFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},pt={watch:createSubject(),array:createSubject(),state:createSubject()},mt=getValidationModes(rt.mode),ht=getValidationModes(rt.reValidateMode),gt=rt.criteriaMode===VALIDATION_MODE.all,vt=Wt=>nr=>{clearTimeout(dt),dt=window.setTimeout(Wt,nr)},yt=async Wt=>{if(ft.isValid||Wt){const nr=rt.resolver?isEmptyObject((await Rt()).errors):await Lt(ot,!0);nr!==it.isValid&&pt.state.next({isValid:nr})}},bt=Wt=>ft.isValidating&&pt.state.next({isValidating:Wt}),xt=(Wt,nr=[],Qt,Jt,ar=!0,cr=!0)=>{if(Jt&&Qt){if(lt.action=!0,cr&&Array.isArray(get$5(ot,Wt))){const lr=Qt(get$5(ot,Wt),Jt.argA,Jt.argB);ar&&set$6(ot,Wt,lr)}if(cr&&Array.isArray(get$5(it.errors,Wt))){const lr=Qt(get$5(it.errors,Wt),Jt.argA,Jt.argB);ar&&set$6(it.errors,Wt,lr),unsetEmptyArray(it.errors,Wt)}if(ft.touchedFields&&cr&&Array.isArray(get$5(it.touchedFields,Wt))){const lr=Qt(get$5(it.touchedFields,Wt),Jt.argA,Jt.argB);ar&&set$6(it.touchedFields,Wt,lr)}ft.dirtyFields&&(it.dirtyFields=getDirtyFields(at,st)),pt.state.next({name:Wt,isDirty:Nt(Wt,nr),dirtyFields:it.dirtyFields,errors:it.errors,isValid:it.isValid})}else set$6(st,Wt,nr)},$t=(Wt,nr)=>{set$6(it.errors,Wt,nr),pt.state.next({errors:it.errors})},Tt=(Wt,nr,Qt,Jt)=>{const ar=get$5(ot,Wt);if(ar){const cr=get$5(st,Wt,isUndefined$1(Qt)?get$5(at,Wt):Qt);isUndefined$1(cr)||Jt&&Jt.defaultChecked||nr?set$6(st,Wt,nr?cr:getFieldValue(ar._f)):zt(Wt,cr),lt.mount&&yt()}},wt=(Wt,nr,Qt,Jt,ar)=>{let cr=!1,lr=!1;const Yt={name:Wt};if(!Qt||Jt){ft.isDirty&&(lr=it.isDirty,it.isDirty=Yt.isDirty=Nt(),cr=lr!==Yt.isDirty);const Xt=deepEqual(get$5(at,Wt),nr);lr=get$5(it.dirtyFields,Wt),Xt?unset(it.dirtyFields,Wt):set$6(it.dirtyFields,Wt,!0),Yt.dirtyFields=it.dirtyFields,cr=cr||ft.dirtyFields&&lr!==!Xt}if(Qt){const Xt=get$5(it.touchedFields,Wt);Xt||(set$6(it.touchedFields,Wt,Qt),Yt.touchedFields=it.touchedFields,cr=cr||ft.touchedFields&&Xt!==Qt)}return cr&&ar&&pt.state.next(Yt),cr?Yt:{}},At=(Wt,nr,Qt,Jt)=>{const ar=get$5(it.errors,Wt),cr=ft.isValid&&isBoolean$5(nr)&&it.isValid!==nr;if(tt.delayError&&Qt?(ut=vt(()=>$t(Wt,Qt)),ut(tt.delayError)):(clearTimeout(dt),ut=null,Qt?set$6(it.errors,Wt,Qt):unset(it.errors,Wt)),(Qt?!deepEqual(ar,Qt):ar)||!isEmptyObject(Jt)||cr){const lr={...Jt,...cr&&isBoolean$5(nr)?{isValid:nr}:{},errors:it.errors,name:Wt};it={...it,...lr},pt.state.next(lr)}bt(!1)},Rt=async Wt=>await rt.resolver(st,rt.context,getResolverOptions(Wt||ct.mount,ot,rt.criteriaMode,rt.shouldUseNativeValidation)),It=async Wt=>{const{errors:nr}=await Rt();if(Wt)for(const Qt of Wt){const Jt=get$5(nr,Qt);Jt?set$6(it.errors,Qt,Jt):unset(it.errors,Qt)}else it.errors=nr;return nr},Lt=async(Wt,nr,Qt={valid:!0})=>{for(const Jt in Wt){const ar=Wt[Jt];if(ar){const{_f:cr,...lr}=ar;if(cr){const Yt=ct.array.has(cr.name),Xt=await validateField(ar,st,gt,rt.shouldUseNativeValidation,Yt);if(Xt[cr.name]&&(Qt.valid=!1,nr))break;!nr&&(get$5(Xt,cr.name)?Yt?updateFieldArrayRootError(it.errors,Xt,cr.name):set$6(it.errors,cr.name,Xt[cr.name]):unset(it.errors,cr.name))}lr&&await Lt(lr,nr,Qt)}}return Qt.valid},Pt=()=>{for(const Wt of ct.unMount){const nr=get$5(ot,Wt);nr&&(nr._f.refs?nr._f.refs.every(Qt=>!live(Qt)):!live(nr._f.ref))&&rr(Wt)}ct.unMount=new Set},Nt=(Wt,nr)=>(Wt&&nr&&set$6(st,Wt,nr),!deepEqual(Dt(),at)),Ot=(Wt,nr,Qt)=>generateWatchOutput(Wt,ct,{...lt.mount?st:isUndefined$1(nr)?at:isString$7(Wt)?{[Wt]:nr}:nr},Qt,nr),Bt=Wt=>compact(get$5(lt.mount?st:at,Wt,tt.shouldUnregister?get$5(at,Wt,[]):[])),zt=(Wt,nr,Qt={})=>{const Jt=get$5(ot,Wt);let ar=nr;if(Jt){const cr=Jt._f;cr&&(!cr.disabled&&set$6(st,Wt,getFieldValueAs(nr,cr)),ar=isHTMLElement(cr.ref)&&isNullOrUndefined(nr)?"":nr,isMultipleSelect(cr.ref)?[...cr.ref.options].forEach(lr=>lr.selected=ar.includes(lr.value)):cr.refs?isCheckBoxInput(cr.ref)?cr.refs.length>1?cr.refs.forEach(lr=>(!lr.defaultChecked||!lr.disabled)&&(lr.checked=Array.isArray(ar)?!!ar.find(Yt=>Yt===lr.value):ar===lr.value)):cr.refs[0]&&(cr.refs[0].checked=!!ar):cr.refs.forEach(lr=>lr.checked=lr.value===ar):isFileInput(cr.ref)?cr.ref.value="":(cr.ref.value=ar,cr.ref.type||pt.watch.next({name:Wt})))}(Qt.shouldDirty||Qt.shouldTouch)&&wt(Wt,ar,Qt.shouldTouch,Qt.shouldDirty,!0),Qt.shouldValidate&&qt(Wt)},Vt=(Wt,nr,Qt)=>{for(const Jt in nr){const ar=nr[Jt],cr=`${Wt}.${Jt}`,lr=get$5(ot,cr);(ct.array.has(Wt)||!isPrimitive(ar)||lr&&!lr._f)&&!isDateObject(ar)?Vt(cr,ar,Qt):zt(cr,ar,Qt)}},Ut=(Wt,nr,Qt={})=>{const Jt=get$5(ot,Wt),ar=ct.array.has(Wt),cr=cloneObject(nr);set$6(st,Wt,cr),ar?(pt.array.next({name:Wt,values:st}),(ft.isDirty||ft.dirtyFields)&&Qt.shouldDirty&&pt.state.next({name:Wt,dirtyFields:getDirtyFields(at,st),isDirty:Nt(Wt,cr)})):Jt&&!Jt._f&&!isNullOrUndefined(cr)?Vt(Wt,cr,Qt):zt(Wt,cr,Qt),isWatched(Wt,ct)&&pt.state.next({}),pt.watch.next({name:Wt}),!lt.mount&&et()},jt=async Wt=>{const nr=Wt.target;let Qt=nr.name;const Jt=get$5(ot,Qt),ar=()=>nr.type?getFieldValue(Jt._f):getEventValue(Wt);if(Jt){let cr,lr;const Yt=ar(),Xt=Wt.type===EVENTS$5.BLUR||Wt.type===EVENTS$5.FOCUS_OUT,tr=!hasValidation(Jt._f)&&!rt.resolver&&!get$5(it.errors,Qt)&&!Jt._f.deps||skipValidation(Xt,get$5(it.touchedFields,Qt),it.isSubmitted,ht,mt),or=isWatched(Qt,ct,Xt);set$6(st,Qt,Yt),Xt?(Jt._f.onBlur&&Jt._f.onBlur(Wt),ut&&ut(0)):Jt._f.onChange&&Jt._f.onChange(Wt);const br=wt(Qt,Yt,Xt,!1),Sr=!isEmptyObject(br)||or;if(!Xt&&pt.watch.next({name:Qt,type:Wt.type}),tr)return ft.isValid&&yt(),Sr&&pt.state.next({name:Qt,...or?{}:br});if(!Xt&&or&&pt.state.next({}),bt(!0),rt.resolver){const{errors:yr}=await Rt([Qt]),hr=schemaErrorLookup(it.errors,ot,Qt),$r=schemaErrorLookup(yr,ot,hr.name||Qt);cr=$r.error,Qt=$r.name,lr=isEmptyObject(yr)}else cr=(await validateField(Jt,st,gt,rt.shouldUseNativeValidation))[Qt],cr?lr=!1:ft.isValid&&(lr=await Lt(ot,!0));Jt._f.deps&&qt(Jt._f.deps),At(Qt,lr,cr,br)}},qt=async(Wt,nr={})=>{let Qt,Jt;const ar=convertToArrayPayload(Wt);if(bt(!0),rt.resolver){const cr=await It(isUndefined$1(Wt)?Wt:ar);Qt=isEmptyObject(cr),Jt=Wt?!ar.some(lr=>get$5(cr,lr)):Qt}else Wt?(Jt=(await Promise.all(ar.map(async cr=>{const lr=get$5(ot,cr);return await Lt(lr&&lr._f?{[cr]:lr}:lr)}))).every(Boolean),!(!Jt&&!it.isValid)&&yt()):Jt=Qt=await Lt(ot);return pt.state.next({...!isString$7(Wt)||ft.isValid&&Qt!==it.isValid?{}:{name:Wt},...rt.resolver||!Wt?{isValid:Qt}:{},errors:it.errors,isValidating:!1}),nr.shouldFocus&&!Jt&&focusFieldBy(ot,cr=>cr&&get$5(it.errors,cr),Wt?ar:ct.mount),Jt},Dt=Wt=>{const nr={...at,...lt.mount?st:{}};return isUndefined$1(Wt)?nr:isString$7(Wt)?get$5(nr,Wt):Wt.map(Qt=>get$5(nr,Qt))},Ft=(Wt,nr)=>({invalid:!!get$5((nr||it).errors,Wt),isDirty:!!get$5((nr||it).dirtyFields,Wt),isTouched:!!get$5((nr||it).touchedFields,Wt),error:get$5((nr||it).errors,Wt)}),Zt=Wt=>{Wt&&convertToArrayPayload(Wt).forEach(nr=>unset(it.errors,nr)),pt.state.next({errors:Wt?it.errors:{}})},Kt=(Wt,nr,Qt)=>{const Jt=(get$5(ot,Wt,{_f:{}})._f||{}).ref;set$6(it.errors,Wt,{...nr,ref:Jt}),pt.state.next({name:Wt,errors:it.errors,isValid:!1}),Qt&&Qt.shouldFocus&&Jt&&Jt.focus&&Jt.focus()},ir=(Wt,nr)=>isFunction$2(Wt)?pt.watch.subscribe({next:Qt=>Wt(Ot(void 0,nr),Qt)}):Ot(Wt,nr,!0),rr=(Wt,nr={})=>{for(const Qt of Wt?convertToArrayPayload(Wt):ct.mount)ct.mount.delete(Qt),ct.array.delete(Qt),get$5(ot,Qt)&&(nr.keepValue||(unset(ot,Qt),unset(st,Qt)),!nr.keepError&&unset(it.errors,Qt),!nr.keepDirty&&unset(it.dirtyFields,Qt),!nr.keepTouched&&unset(it.touchedFields,Qt),!rt.shouldUnregister&&!nr.keepDefaultValue&&unset(at,Qt));pt.watch.next({}),pt.state.next({...it,...nr.keepDirty?{isDirty:Nt()}:{}}),!nr.keepIsValid&&yt()},mr=(Wt,nr={})=>{let Qt=get$5(ot,Wt);const Jt=isBoolean$5(nr.disabled);return set$6(ot,Wt,{...Qt||{},_f:{...Qt&&Qt._f?Qt._f:{ref:{name:Wt}},name:Wt,mount:!0,...nr}}),ct.mount.add(Wt),Qt?Jt&&set$6(st,Wt,nr.disabled?void 0:get$5(st,Wt,getFieldValue(Qt._f))):Tt(Wt,!0,nr.value),{...Jt?{disabled:nr.disabled}:{},...rt.shouldUseNativeValidation?{required:!!nr.required,min:getRuleValue(nr.min),max:getRuleValue(nr.max),minLength:getRuleValue(nr.minLength),maxLength:getRuleValue(nr.maxLength),pattern:getRuleValue(nr.pattern)}:{},name:Wt,onChange:jt,onBlur:jt,ref:ar=>{if(ar){mr(Wt,nr),Qt=get$5(ot,Wt);const cr=isUndefined$1(ar.value)&&ar.querySelectorAll&&ar.querySelectorAll("input,select,textarea")[0]||ar,lr=isRadioOrCheckbox(cr),Yt=Qt._f.refs||[];if(lr?Yt.find(Xt=>Xt===cr):cr===Qt._f.ref)return;set$6(ot,Wt,{_f:{...Qt._f,...lr?{refs:[...Yt.filter(live),cr,...Array.isArray(get$5(at,Wt))?[{}]:[]],ref:{type:cr.type,name:Wt}}:{ref:cr}}}),Tt(Wt,!1,void 0,cr)}else Qt=get$5(ot,Wt,{}),Qt._f&&(Qt._f.mount=!1),(rt.shouldUnregister||nr.shouldUnregister)&&!(isNameInFieldArray(ct.array,Wt)&&lt.action)&&ct.unMount.add(Wt)}}},sr=()=>rt.shouldFocusError&&focusFieldBy(ot,Wt=>Wt&&get$5(it.errors,Wt),ct.mount),fr=(Wt,nr)=>async Qt=>{Qt&&(Qt.preventDefault&&Qt.preventDefault(),Qt.persist&&Qt.persist());let Jt=cloneObject(st);if(pt.state.next({isSubmitting:!0}),rt.resolver){const{errors:ar,values:cr}=await Rt();it.errors=ar,Jt=cr}else await Lt(ot);unset(it.errors,"root"),isEmptyObject(it.errors)?(pt.state.next({errors:{}}),await Wt(Jt,Qt)):(nr&&await nr({...it.errors},Qt),sr()),pt.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:isEmptyObject(it.errors),submitCount:it.submitCount+1,errors:it.errors})},pr=(Wt,nr={})=>{get$5(ot,Wt)&&(isUndefined$1(nr.defaultValue)?Ut(Wt,get$5(at,Wt)):(Ut(Wt,nr.defaultValue),set$6(at,Wt,nr.defaultValue)),nr.keepTouched||unset(it.touchedFields,Wt),nr.keepDirty||(unset(it.dirtyFields,Wt),it.isDirty=nr.defaultValue?Nt(Wt,get$5(at,Wt)):Nt()),nr.keepError||(unset(it.errors,Wt),ft.isValid&&yt()),pt.state.next({...it}))},vr=(Wt,nr={})=>{const Qt=Wt||at,Jt=cloneObject(Qt),ar=Wt&&!isEmptyObject(Wt)?Jt:at;if(nr.keepDefaultValues||(at=Qt),!nr.keepValues){if(nr.keepDirtyValues||nt)for(const cr of ct.mount)get$5(it.dirtyFields,cr)?set$6(ar,cr,get$5(st,cr)):Ut(cr,get$5(ar,cr));else{if(isWeb&&isUndefined$1(Wt))for(const cr of ct.mount){const lr=get$5(ot,cr);if(lr&&lr._f){const Yt=Array.isArray(lr._f.refs)?lr._f.refs[0]:lr._f.ref;if(isHTMLElement(Yt)){const Xt=Yt.closest("form");if(Xt){Xt.reset();break}}}}ot={}}st=tt.shouldUnregister?nr.keepDefaultValues?cloneObject(at):{}:Jt,pt.array.next({values:ar}),pt.watch.next({values:ar})}ct={mount:new Set,unMount:new Set,array:new Set,watch:new Set,watchAll:!1,focus:""},!lt.mount&&et(),lt.mount=!ft.isValid||!!nr.keepIsValid,lt.watch=!!tt.shouldUnregister,pt.state.next({submitCount:nr.keepSubmitCount?it.submitCount:0,isDirty:nr.keepDirty||nr.keepDirtyValues?it.isDirty:!!(nr.keepDefaultValues&&!deepEqual(Wt,at)),isSubmitted:nr.keepIsSubmitted?it.isSubmitted:!1,dirtyFields:nr.keepDirty||nr.keepDirtyValues?it.dirtyFields:nr.keepDefaultValues&&Wt?getDirtyFields(at,Wt):{},touchedFields:nr.keepTouched?it.touchedFields:{},errors:nr.keepErrors?it.errors:{},isSubmitting:!1,isSubmitSuccessful:!1})},dr=(Wt,nr)=>vr(isFunction$2(Wt)?Wt(st):Wt,nr),xr=(Wt,nr={})=>{const Qt=get$5(ot,Wt),Jt=Qt&&Qt._f;if(Jt){const ar=Jt.refs?Jt.refs[0]:Jt.ref;ar.focus&&(ar.focus(),nr.shouldSelect&&ar.select())}},Gt=Wt=>{it={...it,...Wt}};return isFunction$2(rt.defaultValues)&&rt.defaultValues().then(Wt=>{dr(Wt,rt.resetOptions),pt.state.next({isLoading:!1})}),{control:{register:mr,unregister:rr,getFieldState:Ft,_executeSchema:Rt,_focusError:sr,_getWatch:Ot,_getDirty:Nt,_updateValid:yt,_removeUnmounted:Pt,_updateFieldArray:xt,_getFieldArray:Bt,_reset:vr,_updateFormState:Gt,_subjects:pt,_proxyFormState:ft,get _fields(){return ot},get _formValues(){return st},get _stateFlags(){return lt},set _stateFlags(Wt){lt=Wt},get _defaultValues(){return at},get _names(){return ct},set _names(Wt){ct=Wt},get _formState(){return it},set _formState(Wt){it=Wt},get _options(){return rt},set _options(Wt){rt={...rt,...Wt}}},trigger:qt,register:mr,handleSubmit:fr,watch:ir,setValue:Ut,getValues:Dt,reset:dr,resetField:pr,clearErrors:Zt,unregister:rr,setError:Kt,setFocus:xr,getFieldState:Ft}}function useForm(tt={}){const et=React.useRef(),[rt,nt]=React.useState({isDirty:!1,isValidating:!1,isLoading:!0,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},errors:{},defaultValues:isFunction$2(tt.defaultValues)?void 0:tt.defaultValues});et.current||(et.current={...createFormControl(tt,()=>nt(ot=>({...ot}))),formState:rt});const it=et.current.control;return it._options=tt,useSubscribe({subject:it._subjects.state,next:ot=>{shouldRenderFormState(ot,it._proxyFormState,it._updateFormState,!0)&&nt({...it._formState})}}),React.useEffect(()=>{it._stateFlags.mount||(it._updateValid(),it._stateFlags.mount=!0),it._stateFlags.watch&&(it._stateFlags.watch=!1,it._subjects.state.next({})),it._removeUnmounted()}),React.useEffect(()=>{tt.values&&!deepEqual(tt.values,it._defaultValues)&&it._reset(tt.values,it._options.resetOptions)},[tt.values,it]),React.useEffect(()=>{rt.submitCount&&it._focusError()},[it,rt.submitCount]),et.current.formState=getProxyFormState(rt,it),et.current}var VolumeUp={},_interopRequireDefault$a=interopRequireDefaultExports;Object.defineProperty(VolumeUp,"__esModule",{value:!0});var default_1$a=VolumeUp.default=void 0,_createSvgIcon$a=_interopRequireDefault$a(requireCreateSvgIcon()),_jsxRuntime$a=require$$2$2,_default$a=(0,_createSvgIcon$a.default)((0,_jsxRuntime$a.jsx)("path",{d:"M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z"}),"VolumeUp");default_1$a=VolumeUp.default=_default$a;const{imageType,songType,imageSize,imageWidthHeight}=getProjectsUploadSettings(),useSongLimit=()=>{const tt=useDialog$1(),{t:et}=useI18n(),rt=imageType.map(at=>at.substring(6)),nt=songType.map(at=>at.substring(6));return{imageVerify:async at=>{if(!imageType.includes(at.type))return await tt.alert(et("common.dialog.imageLimitTypeTip_msg",{msg:rt.join(",")})),!1;if(at.size>imageSize*MB)return await tt.alert(et("common.dialog.imageLimitSizeTip_msg",{msg:projects.upload.imageSize})),!1;const lt=await new Promise((dt,ft)=>{let pt=new FileReader;pt.readAsDataURL(at),pt.onload=function(mt){var gt;let ht=new Image;ht.src=(gt=mt==null?void 0:mt.target)==null?void 0:gt.result,ht.onload=function(){dt(ht),ht.width,ht.height},ht.onerror=vt=>{ft(vt)}},pt.onerror=mt=>{ft(mt)}}),[ct,ut]=imageWidthHeight;return ct!==lt.width||ut!==lt.height?(await tt.alert(et("common.dialog.imageLimitWHTip_msg",{msg:`${ct} * ${ut}`})),!1):!0},songAudio:async({type:at,size:st,name:lt})=>projects.upload.songType.includes(at)?st>projects.upload.songSize*MB?(await tt.alert(et("common.dialog.songAudioLimitSizeTip_msg",{msg:projects.upload.songSize})),!1):isSpace(lt)?(await tt.alert(et("音乐文件名称存在空格字符，请您删除空格后导入")),!1):!0:(await tt.alert(et("common.dialog.songAudioLimitTypeTip_msg",{msg:nt.join(",")})),!1)}},useSongFromHooks=()=>({useErrors:et=>{var mt,ht,gt,vt,yt,bt,xt,$t,Tt,wt,At,Rt,It,Lt,Pt,Nt,Ot,Bt;const rt=((mt=et.name)==null?void 0:mt.type)==="required",nt=((ht=et.artistName)==null?void 0:ht.type)==="required",it=((gt=et.bpm)==null?void 0:gt.type)==="required",ot=((yt=(vt=et.bpm)==null?void 0:vt.ref)==null?void 0:yt.value)*1<=0,at=((bt=et.mapAuthorName)==null?void 0:bt.type)==="required",st=((xt=et==null?void 0:et.previewStartTime)==null?void 0:xt.type)==="required",lt=((Tt=($t=et.previewStartTime)==null?void 0:$t.ref)==null?void 0:Tt.value)*1<0,ct=((wt=et.previewDuration)==null?void 0:wt.type)==="required",ut=((Rt=(At=et.previewDuration)==null?void 0:At.ref)==null?void 0:Rt.value)*1<0,dt=((Lt=(It=et.offset)==null?void 0:It.ref)==null?void 0:Lt.value)*1<0,ft=((Nt=(Pt=et.swingAmount)==null?void 0:Pt.ref)==null?void 0:Nt.value)*1<0,pt=((Bt=(Ot=et.swingPeriod)==null?void 0:Ot.ref)==null?void 0:Bt.value)*1<0;return{isErrorsName:rt,isErrorsArtistName:nt,isErrorsBpmName:it,isErrorsBpmNameMin:ot,isErrorsMapAuthorName:at,isErrorsPreviewStartTime:st,isErrorsPreviewStartTimeMin:lt,isErrorsPreviewDuration:ct,isErrorsPreviewDurationMin:ut,isErrorsOffsetMin:dt,isErrorssSwingAmountMin:ft,isErrorsSwingPeriodMin:pt}}}),SongUpload=({height:tt,songFile:et,setSongFile:rt,handleSetSongFileAfter:nt})=>{const{t:it}=useI18n(),ot=useSongLimit(),[at,st]=reactExports.useState(null),[lt,ct]=reactExports.useState(!1);reactExports.useEffect(()=>{if(!et){st(null);return}ct(!0),getWaveformDataForAudioFile(et).then(ft=>{st(ft),ct(!1)})},[et]);const ut=(at==null?void 0:at.duration)||0,dt=async ft=>{await ot.songAudio(ft)?(rt(ft),nt==null||nt(ft)):rt(null)};return jsx(Upload,{isShowFilename:!0,file:et,iconNode:jsx(default_1$a,{}),title:it("common.label.songFile"),subTitle:it("common.label.fileTip"),height:tt,onSelectFile:dt,onClear:()=>{rt(null)},renderWhenFileSelected:()=>{if(!(!lt&&!at))return jsx(MediaWrapper,{children:lt?jsx(CircularIndeterminate,{}):jsx(DragWaveform$1,{width:600,height:tt-CONST_UNIT*2,data:at,duration:ut,cursorPos:ut})})}})},MediaWrapper=createStyled$1("div",{target:"eiha6w70"})({name:"uqf0xn",styles:"display:flex;flex-direction:column;width:100%;height:100%;justify-content:center;align-items:center"});var Image$1={},_interopRequireDefault$9=interopRequireDefaultExports;Object.defineProperty(Image$1,"__esModule",{value:!0});var default_1$9=Image$1.default=void 0,_createSvgIcon$9=_interopRequireDefault$9(requireCreateSvgIcon()),_jsxRuntime$9=require$$2$2,_default$9=(0,_createSvgIcon$9.default)((0,_jsxRuntime$9.jsx)("path",{d:"M21 19V5c0-1.1-.9-2-2-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2zM8.5 13.5l2.5 3.01L14.5 12l4.5 6H5l3.5-4.5z"}),"Image");default_1$9=Image$1.default=_default$9;const CoverArtUpload=({height:tt,coverArtFile:et,setCoverArtFile:rt})=>{const{t:nt}=useI18n(),it=useSongLimit(),[ot,at]=React.useState(!0),[st,lt]=React.useState();return React.useEffect(()=>{if(!et){lt(void 0),at(!0);return}at(!0);const ct=new FileReader;ct.onload=function(ut){lt(this.result),at(!1)},ct.readAsDataURL(et)},[et,rt,lt]),jsx(Upload,{iconNode:jsx(default_1$9,{}),file:et,title:nt("common.label.coverArt"),subTitle:nt("common.label.selectImgTip"),height:tt,onSelectFile:async ct=>{const ut=await it.imageVerify(ct);rt(ut?ct:null)},onClear:()=>rt(null),renderWhenFileSelected:()=>jsx(Container,{children:ot?jsx(CircularIndeterminate,{}):jsx(CoverArtPreview,{src:st})})})},Container=createStyled$1("div",{target:"e1qt93zd1"})({name:"uqf0xn",styles:"display:flex;flex-direction:column;width:100%;height:100%;justify-content:center;align-items:center"}),CoverArtPreview=createStyled$1("img",{target:"e1qt93zd0"})({name:"t94q0a",styles:"width:100%;height:100%;object-fit:cover;border-radius:4px"}),DifficultyTag=({selected:tt,disableds:et,onChange:rt,exclude:nt=[],...it})=>{const{getDifficultColorsType:ot,getDifficultColors:at}=useCustomTheme(),st=ot(),lt=at(),ct=st[tt],{t:ut}=useI18n(),dt=reactExports.useMemo(()=>DIFFICULTIES.filter(ft=>!nt.includes(ft)),[nt]);return jsx(Stack$5,{...it,children:dt.map(ft=>{const pt=tt===ft;return jsx(DifficultyButton,{disabled:et==null?void 0:et.includes(ft),isSelected:pt,color:pt?ct:"info",colorValue:lt[ft],onClick:()=>rt==null?void 0:rt(ft),children:ut(`common.difficulty.${ft}`)},ft)})})};var HelpOutline={},_interopRequireDefault$8=interopRequireDefaultExports;Object.defineProperty(HelpOutline,"__esModule",{value:!0});var default_1$8=HelpOutline.default=void 0,_createSvgIcon$8=_interopRequireDefault$8(requireCreateSvgIcon()),_jsxRuntime$8=require$$2$2,_default$8=(0,_createSvgIcon$8.default)((0,_jsxRuntime$8.jsx)("path",{d:"M11 18h2v-2h-2v2zm1-16C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm0-14c-2.21 0-4 1.79-4 4h2c0-1.1.9-2 2-2s2 .9 2 2c0 2-3 1.75-3 5h2c0-2.25 3-2.5 3-5 0-2.21-1.79-4-4-4z"}),"HelpOutline");default_1$8=HelpOutline.default=_default$8;const FormHelp=({title:tt})=>jsx(Adornment,{position:"end",title:tt,children:jsx(IconButton$1,{size:"small",children:jsx(default_1$8,{color:"disabled",fontSize:"small"})})}),helpData={bpm:jsx(FormHelp,{title:"编辑器AI进行计算该歌曲BPM值，如有偏差，请使用专业音频工具获取后进行调整。"}),offset:jsx(FormHelp,{title:"编辑器AI基于BPM等参数智能推算，如有偏差，请使用专业音频工具获取后进行调整。"}),swingAmount:jsx(FormHelp,{title:"游戏内使用参数，目前无需调整"}),swingPeriod:jsx(FormHelp,{title:"游戏内使用参数，目前无需调整"})},MEDIA_ROW_HEIGHT=150,inputProps={maxLength:50},BPM_MAX=500,OFFSET_MAX=1e4,GRID_COLUMN_1_5={gridColumnStart:1,gridColumnEnd:5},GRID_COLUMN_5_9={gridColumnStart:5,gridColumnEnd:9},GRID_COLUMN_1_3={gridColumnStart:1,gridColumnEnd:3},GRID_COLUMN_3_5={gridColumnStart:3,gridColumnEnd:5},GRID_COLUMN_5_7={gridColumnStart:5,gridColumnEnd:7},GRID_COLUMN_7_9={gridColumnStart:7,gridColumnEnd:9},initMode$1=getEditorInitNoteModeSetting(),SongFrom=({status:tt,handleSubmitCallBack:et,createType:rt,officialCurrentData:nt,staticOgg:it})=>{const{t:ot}=useI18n(),{navigate:at}=useRouter();let st=useLocation();const lt=useAppSelector(getSelectedSong)||{},ct=useAppDispatch();useAppSelector(getAllSongIds);const ut=useAppSelector(getSelectedSongId),dt=useAppSelector(getStickyMapAuthorName),ft=useDialog$1(),[pt,mt]=reactExports.useState(null),[ht,gt]=reactExports.useState(null),[vt,yt]=reactExports.useState(!1),[bt,xt]=reactExports.useState(!1),$t=Object.keys(ENVIRONMENT_DISPLAY_MAP).includes(lt.environment)?lt.environment:"DefaultEnvironment";reactExports.useState($t);const{verifySongNameUnique:Tt}=useSongsVerify(),{enqueueSnackbar:wt}=useNotice(),{useErrors:At}=useSongFromHooks(),Rt=tt===ESONG_STATUS.UPDATE,It=st.pathname===PageEnum.EDIT_SETTING?!(lt!=null&&lt.officialId):rt===CREATE_TYPE.CUSTOM,{reset:Lt,register:Pt,handleSubmit:Nt,control:Ot,formState:{errors:Bt},setValue:zt}=useForm(),{isErrorsName:Vt,isErrorsArtistName:Ut,isErrorsBpmName:jt,isErrorsBpmNameMin:qt,isErrorsMapAuthorName:Dt,isErrorsPreviewStartTime:Ft,isErrorsPreviewStartTimeMin:Zt,isErrorsPreviewDuration:Kt,isErrorsPreviewDurationMin:ir,isErrorsOffsetMin:rr,isErrorssSwingAmountMin:mr,isErrorsSwingPeriodMin:sr}=At(Bt),fr=ot("common.label.songName");ot("common.label.songSub");const pr=ot("common.label.artistName"),vr=ot("common.label.mapAuthorName"),dr=ot("common.label.BPMBeatsMinute"),xr=ot("common.label.offset"),Gt=ot("common.label.swingAmount"),Wt=ot("common.label.swingPeriod"),nr=ot("common.label.previewStartTime"),Qt=ot("common.label.previewDuration");ot("common.label.environment");const Jt=ot("common.validation.helper"),ar=ot("common.label.inputNumberMinTip_msg",{msg:0});useMount$1(async()=>{if(Rt){let or=await getFileForTypeName(lt.songFilename),br=await getFileForTypeName(lt.coverArtFilename);mt(or),gt(br)}}),reactExports.useEffect(()=>{!Rt&&!It&&nt?(zt("bpm",nt.bpm),zt("name",nt.song_name),zt("artistName",nt.artist)):!Rt&&It&&!nt&&Lt({name:"",bpm:NaN,artistName:""})},[Rt,It,nt]);const cr=async or=>{var yr,hr;let br={...or};const{name:Sr}=or;if(tt===ESONG_STATUS.CREATE){let $r=getSongIdFromName(),Mr,Ar,Fr;if(rt===CREATE_TYPE.CUSTOM?(Mr=ht,Ar=pt,Fr=getSongIdFromName()):(Fr=nt.id,Mr=await download_static(nt.cover),Ar=it||await officialFiles.getOfficialFile(Fr)),!Ar){await ft.alert(ot("common.dialog.selectASongFileFirst"));return}const{subName:zr,artistName:jr,bpm:Jr,offset:gn,selectedDifficulty:mn}=or;if(!Tt(Sr,ESONG_STATUS.CREATE))return;if(!mn){await ft.alert(ot("common.dialog.selectTheDifficulty"));return}yt(!0);try{let Cr,Dr,Hr;rt===CREATE_TYPE.CUSTOM?(Cr=(await beatMapFiles.saveSongFile(Fr,Ar))[0],Dr=(yr=await beatMapFiles.saveLocalCoverArtFile(Fr,Mr))==null?void 0:yr[0]):(Cr=getFilenameForThing(Fr,THING_TYPE.SONG),Dr=(hr=await officialFiles.saveLocalCoverArtFile(Fr,Mr))==null?void 0:hr[0]);try{Hr=await getSongDuration(Ar)}catch(Yr){throw wt("音乐解析失败，请尝试更换其他音乐"),Error(Yr)}ct(createNewSong({mode:initMode$1,coverArtFilename:Dr,songFilename:Cr,songDuration:Hr,songId:$r,officialId:nt?Fr:"",name:Sr,subName:zr,artistName:jr,bpm:Number(Jr),offset:Number(gn),selectedDifficulty:mn,mapAuthorName:dt,createdAt:Date.now(),lastOpenedAt:Date.now()})),et==null||et(),yt(!1),at(PageEnum.EDIT_NOTES,{id:$r,difficulty:mn,mode:initMode$1})}catch(Cr){throw yt(!1),ft.alert(ot("common.dialog.errorCreatingMap")),Error("Could not save files to local storage",Cr)}wt(ot("common.notice.createdSongSuccessfully"));return}await lr(Sr,or,br)},lr=async(or,br,Sr)=>{if(!Tt(or,ESONG_STATUS.UPDATE))return;if(!ut){ft.alert(ot("common.dialog.songFileDoesNotExis"));return}if(!ht){ft.alert(ot("common.dialog.selectASongFileBeforeSaving"));return}const{bpm:yr,offset:hr}=br;if(ht&&ht.name){const[$r]=await beatMapFiles.saveLocalCoverArtFile(ut,ht);Sr.coverArtFilename=$r}if(pt){const[$r]=await saveSongFile(ut,pt);Sr.songFilename=$r}yt(!0);try{Sr={...lt,...Sr,previewDuration:Number(Sr.previewDuration),previewStartTime:Number(Sr.previewStartTime),swingAmount:Number(Sr.swingAmount),swingPeriod:Number(Sr.swingPeriod),bpm:Number(yr),offset:Number(hr),createdAt:Date.now(),lastOpenedAt:Date.now()},ct(updateSongDetail({songId:ut,...Sr})),ct(adjustCursorPosition(Sr.offset)),ct(adjustMapAuthorname(Sr.mapAuthorName)),await saveInfoDat(ut,await createInfoContent(Sr)),pubSaveFn(store$5)}catch($r){console.error("Could not save files to local storage",$r),ft.alert(ot("common.dialog.selectASongFileBeforeSaving"))}yt(!1),wt(ot("common.notice.updateSongSuccessfully"))},Yt=or=>or?`${ar}`:"",Xt=(or,br,Sr)=>br?`${ar}`:or?`${Jt}${Sr}`:"",tr=async or=>{try{xt(!0);const br=await upload_music_for_beats({file:or}),{data:{bpm:Sr,beats:yr}}=br.data;if(!yr)return;const hr=60/Sr,$r=yr.map(zr=>zr.beat),Mr=[...new Set($r)].length,Ar=hr*Mr,Fr=round$5(yr[0].time%Ar,4)*1e3;zt("bpm",round$5(Sr,1)),zt("offset",Fr)}catch(br){console.error(br)}finally{xt(!1)}};return jsxs(Box$2,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:Nt(cr),children:[It&&jsxs(Grid$1,{sx:{py:2},container:!0,direction:"row",children:[jsx("div",{style:{flex:1},children:jsx(SongUpload,{height:MEDIA_ROW_HEIGHT,songFile:pt,setSongFile:mt,handleSetSongFileAfter:tr})}),jsx("div",{style:{flexBasis:MEDIA_ROW_HEIGHT,marginLeft:"10px"},children:jsx(CoverArtUpload,{height:MEDIA_ROW_HEIGHT,coverArtFile:ht,setCoverArtFile:gt})})]}),jsxs(FormItem,{children:[jsx(TextFieldNumber,{...Pt("name",{required:!0}),style:GRID_COLUMN_1_5,required:!0,disabled:!Rt&&!It,type:"text",error:Vt,inputProps,label:fr,defaultValue:Rt?lt.name:null,variant:"filled",helperText:Vt?`${Jt}${fr}`:""}),jsx(TextFieldNumber,{...Pt("artistName",{required:!0}),required:!0,type:"text",disabled:!Rt&&!It,style:GRID_COLUMN_5_9,error:Ut,inputProps,label:pr,defaultValue:Rt?lt.artistName:null,variant:"filled",helperText:Ut?`${Jt}${pr}`:""}),Rt&&jsxs(Fragment,{children:[jsx(TextFieldNumber,{...Pt("mapAuthorName",{required:!0}),required:!0,type:"text",style:GRID_COLUMN_1_5,error:Dt,inputProps,label:vr,defaultValue:Rt?lt.mapAuthorName:null,variant:"filled",helperText:Dt?`${Jt}${vr}`:""}),jsx(TextFieldNumber,{...Pt("swingAmount",{min:0}),style:GRID_COLUMN_5_7,type:"number",error:mr,label:Gt,defaultValue:lt.swingAmount||0,variant:"filled",helperText:Yt(mr),InputProps:{endAdornment:helpData.swingAmount}}),jsx(TextFieldNumber,{...Pt("swingPeriod",{min:0}),style:GRID_COLUMN_7_9,type:"number",error:sr,label:Wt,defaultValue:lt.swingPeriod||.5,variant:"filled",helperText:Yt(sr),InputProps:{endAdornment:helpData.swingPeriod}})]}),jsx(TextFieldNumber,{...Pt("bpm",{required:!0,validate:or=>Number(or)<BPM_MAX&&Number(or)>0}),style:Rt?GRID_COLUMN_1_3:GRID_COLUMN_1_5,required:!0,disabled:!Rt&&!It||bt,type:"number",maxValue:BPM_MAX,error:jt||qt,label:dr,defaultValue:Rt?lt.bpm:null,placeholder:"",variant:"filled",helperText:Xt(jt,qt,dr),InputProps:{endAdornment:helpData.bpm}}),jsx(TextFieldNumber,{...Pt("offset",{min:0,max:OFFSET_MAX}),style:Rt?GRID_COLUMN_3_5:GRID_COLUMN_5_9,disabled:bt,type:"number",maxValue:OFFSET_MAX,minValue:0,error:rr,label:xr,defaultValue:Rt?lt.offset:null,placeholder:"0",variant:"filled",helperText:Yt(rr),InputProps:{endAdornment:helpData.offset}}),Rt&&jsxs(Fragment,{children:[jsx(TextFieldNumber,{...Pt("previewStartTime",{required:!0,min:0}),style:GRID_COLUMN_5_7,required:!0,error:Ft||Zt,type:"number",label:nr,defaultValue:lt.previewStartTime,placeholder:"0",variant:"filled",helperText:Xt(Ft,Zt,nr)}),jsx(TextFieldNumber,{...Pt("previewDuration",{required:!0,min:0}),style:GRID_COLUMN_7_9,required:!0,error:Kt||ir,type:"number",label:Qt,defaultValue:lt.previewDuration,placeholder:"0",variant:"filled",helperText:Xt(Kt,ir,Qt)})]})]}),bt&&jsx(LinearProgress$1,{}),!Rt&&jsxs(DifficultyTagWrapper,{children:[jsx("p",{children:ot("common.label.difficulty")}),jsx(Controller,{name:"selectedDifficulty",control:Ot,render:({field:{onChange:or,value:br}})=>jsx(DifficultyTag,{direction:"row",spacing:.5,onChange:or,selected:br})})]}),jsx(BtnWrapper$1,{children:Rt?jsx(Button$2,{type:"submit",sx:{px:10},variant:"contained",disabled:vt,children:ot("common.btn.updateSongDetails")}):jsx(Button$2,{type:"submit",sx:{marginRight:"auto",marginLeft:"auto",px:10},variant:"contained",disabled:vt,children:ot("common.btn.createSong")})})]})},BtnWrapper$1=styled$1("div")`
  display: flex;
  justify-content: center;
  margin-top: 40px;
`,DifficultyTagWrapper=styled$1("div")(({theme:tt})=>({margin:"30px 12px 12px",display:"flex",justifyContent:"space-between",alignItems:"center",color:tt.palette.text.secondary,fontSize:tt.typography.body1.fontSize})),FormItem=styled$1("div")`
  display: grid;
  grid-template-columns: repeat(8, minmax(0, 1fr));
  grid-gap: 20px;
`,EditSongDetails=()=>{const{t:tt}=useI18n();return jsxs(Fragment,{children:[jsx(Typography$1,{variant:"h4",sx:{my:5},component:"div",gutterBottom:!0,children:tt("common.title.editSongDetails")}),jsx(SongFrom,{status:"update"})]})};var EMODAL_STATUS=(tt=>(tt.COPY_BEAT_MAP="copyBeatMap",tt))(EMODAL_STATUS||{});const editNoteModes$1=getEditorNoteModeSettings(),TEXT_INPUT_STYLED={marginTop:2,width:"100%"},CALORIE="calories",NOTE_JUMP_SPEED="noteJumpSpeed",RING_NOTE_JUMP_SPEED="ringNoteJumpSpeed",START_BEAT_OFFSET="startBeatOffset",RING_NOTE_START_BEAT_OFFSET="ringNoteStartBeatOffset",CALORIE_MIN=100,CALORIE_MAX=5e4,DifficultiesCard=({cardValue:tt,handleOpenModal:et,noteMode:rt})=>{var It,Lt,Pt,Nt,Ot;const{t:nt}=useI18n(),it=useDialog$1(),ot=useAppSelector(getSelectedSong)||{};useAppSelector(getDuration);const at=useAppDispatch(),{navigate:st}=useRouter(),lt=getDifficultKey(rt),{register:ct,handleSubmit:ut,watch:dt,formState:{errors:ft}}=useForm(),pt=useAppSelector(getSelectedSongId),mt=dt([NOTE_JUMP_SPEED,RING_NOTE_JUMP_SPEED,START_BEAT_OFFSET,CALORIE,RING_NOTE_START_BEAT_OFFSET]),ht=((It=ft[NOTE_JUMP_SPEED])==null?void 0:It.type)==="required",gt=((Pt=(Lt=ft[NOTE_JUMP_SPEED])==null?void 0:Lt.ref)==null?void 0:Pt.value)*1<0,vt=((Nt=ft.startBeatOffset)==null?void 0:Nt.type)==="required",yt=["required","max","min"].includes(((Ot=ft==null?void 0:ft.calories)==null?void 0:Ot.type)??""),bt=nt("common.validation.helper"),xt=nt("common.label.inputNumberMinTip_msg",{msg:0}),$t=async Bt=>{if(!pt)return;const{noteJumpSpeed:zt,startBeatOffset:Vt,ringNoteStartBeatOffset:Ut,ringNoteJumpSpeed:jt,customLabel:qt,calories:Dt}=Bt,Ft={songId:pt,mode:rt,id:tt.id,noteJumpSpeed:Number(zt),startBeatOffset:Number(Vt),calories:Number(Dt),customLabel:qt};getIsRingEditMode(rt)&&Object.assign(Ft,{ringNoteJumpSpeed:Number(jt),ringNoteStartBeatOffset:Number(Ut)}),at(saveBeatMapDifficult(Ft)),await it.alert(nt("common.notice.successOperation"))},Tt=async()=>{if(!pt)return;const Bt=tt.id;try{await it.confirm(nt("common.dialog.cannotBeUndone"))}catch{return}let zt={...ot[lt]};delete zt[Bt];let Vt=Object.keys(zt),Ut=rt;if(!Vt.length){Ut=editNoteModes$1.filter(qt=>qt!==rt)[0];const jt=getDifficultKey(Ut);Vt=Object.keys(ot[jt])}await at(deleteBeatMapDiffDispatch({songId:pt,id:Bt})),st(PageEnum.EDIT_SETTING,{id:pt,difficulty:Vt[0],mode:Ut})},wt=(Bt,zt,Vt)=>zt?`${xt}`:Bt?`${bt}${Vt}`:"",At=getCalories(tt.id,ot.songDuration),Rt=reactExports.useMemo(()=>{let Bt=[];return editNoteModes$1.forEach(zt=>{const Vt=getDifficultKey(zt),Ut=ot[Vt]||"";isEmpty$6(Ut)||Bt.push(...Object.keys(Ut))}),Bt},[ot]);return jsx(Fragment,{children:jsx(Card$1,{children:jsx(Box$2,{component:"form",noValidate:!0,autoComplete:"off",onSubmit:ut($t),children:jsxs(CardContentWrapper,{children:[jsx(BasicTitle,{...TITLE_EDITOR_PROPS,children:tt.id}),jsx(TextFieldNumber,{...ct(NOTE_JUMP_SPEED,{required:!0,min:0}),required:!0,error:ht||gt,type:"number",minValue:0,sx:TEXT_INPUT_STYLED,label:nt(`common.label.${NOTE_JUMP_SPEED}`),variant:"filled",defaultValue:tt[NOTE_JUMP_SPEED],helperText:wt(ht,gt,nt(`common.label.${NOTE_JUMP_SPEED}`))}),jsx(TextFieldNumber,{...ct(START_BEAT_OFFSET,{required:!0}),required:!0,error:vt,type:"number",sx:TEXT_INPUT_STYLED,label:nt(`common.label.${START_BEAT_OFFSET}`),variant:"filled",defaultValue:tt[START_BEAT_OFFSET],helperText:vt?bt+nt(`common.label.${START_BEAT_OFFSET}`):""}),getIsRingEditMode(rt)&&jsxs(Fragment,{children:[jsx(TextFieldNumber,{...ct(RING_NOTE_JUMP_SPEED,{required:!0,min:0}),required:!0,error:ht||gt,type:"number",minValue:0,sx:TEXT_INPUT_STYLED,label:nt(`common.label.${RING_NOTE_JUMP_SPEED}`),variant:"filled",defaultValue:tt[RING_NOTE_JUMP_SPEED],helperText:wt(ht,gt,nt(`common.label.${RING_NOTE_JUMP_SPEED}`))}),jsx(TextFieldNumber,{...ct(RING_NOTE_START_BEAT_OFFSET,{required:!0}),required:!0,error:vt,type:"number",sx:TEXT_INPUT_STYLED,label:nt(`common.label.${RING_NOTE_START_BEAT_OFFSET}`),variant:"filled",defaultValue:tt[RING_NOTE_START_BEAT_OFFSET],helperText:vt?bt+nt(`common.label.${RING_NOTE_START_BEAT_OFFSET}`):""})]}),jsx(TextFieldNumber,{...ct(CALORIE,{required:!0,min:CALORIE_MIN,max:CALORIE_MAX}),required:!0,type:"number",error:yt,minValue:CALORIE_MIN,maxValue:CALORIE_MAX,sx:TEXT_INPUT_STYLED,label:nt(`common.label.${CALORIE}`),variant:"filled",defaultValue:tt.calories||At,helperText:yt?nt(`common.label.${CALORIE}`):""}),jsxs(BtnWrapper,{children:[jsx(Button$2,{type:"submit",size:"small",variant:"outlined",disabled:!(mt[0]&&mt[1]),children:nt("common.btn.save")}),jsx(Button$2,{size:"small",variant:"outlined",onClick:()=>et(EMODAL_STATUS.COPY_BEAT_MAP,tt.id),children:nt("common.btn.copy")}),jsx(Button$2,{size:"small",variant:"outlined",color:"error",disabled:Rt.length<=1,onClick:Tt,children:nt("common.btn.delete")})]})]})})})})},CardContentWrapper=styled$1(CardContent$2)`
  display: flex;
  flex-direction: column;
`,BtnWrapper=styled$1("div")`
  margin-top: 26px;
  display: grid;
  grid-gap: 12px;
`,CopyBeatMap=({onSubmit:tt,currentCtrlDifficulty:et})=>{const{t:rt}=useI18n(),nt=useAppDispatch(),[it,ot]=reactExports.useState(),at=useAppSelector(getSelectedSongDifficultyIds),st=useAppSelector(getSelectedSongId),lt=rt("common.title.copyBeatMap"),ct=rt("common.label.copyBeatmapDesc_msg",{msg:et}),ut=ft=>{ot(ft)},dt=async()=>{!it||!et||(await nt(copyBeatMapDiffDispatch({songId:st,fromDifficultyId:et,toDifficultyId:it})),tt())};return jsxs(Fragment,{children:[jsxs(Typography$1,{variant:"h6",sx:{my:2},component:"div",gutterBottom:!0,children:[ct,":"]}),jsx(DifficultyTag,{exclude:et?[et]:[],spacing:.2,disableds:at,direction:"row",onChange:ut,selected:it}),jsx(Stack$5,{justifyContent:"center",sx:{mt:4},children:jsx(Button$2,{disabled:it?at.includes(it):!1,variant:"contained",type:"submit",onClick:dt,children:lt})})]})},EditDifficulties=()=>{const{t:tt}=useI18n(),[et,rt]=reactExports.useState(""),[nt,it]=reactExports.useState(),ot=useAppSelector(getSelectedSong),at=useAppSelector(getNoteMode),st=ot?ot[getDifficultKey(at)]:[],lt=sortDifficultyIds(Object.keys(st)),ct=(dt,ft)=>{rt(dt),it(ft)},ut=()=>{rt("")};return jsxs(Fragment,{children:[jsx(Typography$1,{variant:"h4",sx:{my:7},component:"div",gutterBottom:!0,children:tt("common.title.editDifficulties")}),jsx(Box$2,{sx:{display:"flex",flexWrap:"wrap"},children:jsx(Grid$1,{container:!0,spacing:3,children:lt.map(dt=>jsx(Grid$1,{item:!0,xs:4,children:jsx(DifficultiesCard,{cardValue:st[dt],handleOpenModal:ct,noteMode:at})},dt))})}),jsx(BasicModal,{open:Boolean(et===EMODAL_STATUS.COPY_BEAT_MAP),width:560,title:tt("common.title.copyBeatMap"),onClose:ut,children:jsx(CopyBeatMap,{currentCtrlDifficulty:nt,onSubmit:ut})})]})},Setting=()=>jsx(Fragment,{children:jsx(MostWidthContainer,{children:jsxs(Contents,{children:[jsx(EditSongDetails,{}),jsx(EditDifficulties,{}),jsx(AdvancedSetting,{})]})})}),Contents=styled$1("div")`
  width: 840px;
  padding: 0 16px;
  left: 0;
  right: 0;
  margin: auto;
`;var Save={},_interopRequireDefault$7=interopRequireDefaultExports;Object.defineProperty(Save,"__esModule",{value:!0});var default_1$7=Save.default=void 0,_createSvgIcon$7=_interopRequireDefault$7(requireCreateSvgIcon()),_jsxRuntime$7=require$$2$2,_default$7=(0,_createSvgIcon$7.default)((0,_jsxRuntime$7.jsx)("path",{d:"M17 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.1 0 2-.9 2-2V7l-4-4zm-5 16c-1.66 0-3-1.34-3-3s1.34-3 3-3 3 1.34 3 3-1.34 3-3 3zm3-10H5V5h10v4z"}),"Save");default_1$7=Save.default=_default$7;const DownLoadForm=()=>{const{t:tt}=useI18n(),et=useAppDispatch(),[rt,nt]=reactExports.useState({[VERSION$3.THREE]:!1,[VERSION$3.TWO]:!1}),[it,ot]=reactExports.useState(0),at=useAppSelector(getIsPlaying),[st,lt,ct]=useDownloadFileMap();useMount$1(()=>{at&&et(pausePlaying())});const ut=async dt=>{nt({...rt,[dt]:!0}),await st({version:dt,isEncrypt:!!it}),nt({...rt,[dt]:!1})};return jsxs(Fragment,{children:[jsx(BasicTitle,{variant:"h6",gutterBottom:!0,component:"div",children:tt("common.title.downloadMap")}),jsx(Typography$1,{variant:"caption",gutterBottom:!0,component:"div",sx:{mb:7},children:tt("common.label.downloadMapZip")}),jsxs(Button$2,{sx:{width:1,mt:1},startIcon:jsx(default_1$7,{}),variant:"contained",disabled:rt[VERSION$3.THREE],onClick:()=>ut(VERSION$3.THREE),children:[tt("common.btn.downloadMapFiles"),"-YAML"]}),rt[VERSION$3.THREE]&&jsx(SectionLoading,{})]})},Download$1=()=>{const tt=useAppDispatch(),et=useAppSelector(getIsPlaying);return useMount$1(()=>{et&&tt(pausePlaying())}),jsx(Card$1,{sx:{width:"400px",left:0,right:0,margin:"100px auto"},children:jsx(CardContent$2,{sx:{position:"relative"},children:jsx(DownLoadForm,{})})})},editRouter=[{element:jsx(Layouts,{}),children:[{path:PageEnum.EDIT_NOTES,element:jsx(Notes,{}),meta:{requiresAuth:!0,title:t$1("router.notes"),key:"editNotes",icon:tt=>jsx(EditIcon,{...tt})}},{path:PageEnum.EDIT_EVENTS,element:jsx(Events$1,{}),meta:{requiresAuth:!0,title:t$1("router.events"),key:"editEvents",icon:tt=>jsx(WbIncandescentIcon,{...tt})}},{path:PageEnum.EDIT_PREVIEW,element:jsx(Events,{}),meta:{requiresAuth:!0,title:t$1("router.preview"),icon:tt=>jsx(VisibilityIcon,{...tt}),key:"editPreview"}},{path:PageEnum.EDIT_SETTING,element:jsx(Setting,{}),meta:{requiresAuth:!0,title:t$1("router.setting"),icon:tt=>jsx(SettingsIcon,{...tt}),key:"editSetting"}},{path:PageEnum.EDIT_DOWNLOAD,element:jsx(Download$1,{}),meta:{requiresAuth:!0,title:t$1("router.download"),icon:tt=>jsx(DownloadIcon,{...tt}),key:"editDownload"}}]}],__vite_glob_0_0=Object.freeze(Object.defineProperty({__proto__:null,default:editRouter},Symbol.toStringTag,{value:"Module"})),demoFileUrl="/assets/Back_To_You-8ee64513.zip",DivWrap=styled$1("div")(({theme:tt})=>({display:"flex",alignItems:"center"})),Search$1=({value:tt,handleSearch:et,startAdornment:rt,textFieldProps:nt,...it})=>{const{t:ot}=useI18n();return jsx(Autocomplete$1,{freeSolo:!0,id:"free-solo-2-demo",disableClearable:!0,selectOnFocus:!0,sx:{mt:5,background:"initial"},renderInput:at=>jsxs(DivWrap,{children:[jsx(TextField$2,{...at,placeholder:"请输入搜索的内容",onKeyDown:st=>{st.key==="Enter"&&(st.preventDefault(),et(tt))},InputProps:{...at==null?void 0:at.InputProps,type:"search",startAdornment:rt},...nt}),jsx(Button$2,{variant:"contained",sx:{width:"260px",height:"38px",marginLeft:"20px"},onClick:()=>{et(tt)},children:ot("common.btn.search")})]}),...it})},SearchSong=({songs:tt,value:et,setValue:rt,handleSearch:nt})=>{const{t:it}=useI18n();return jsx(Search$1,{value:et,options:tt,onChange:(ot,at)=>{isString$b(at)?rt({name:at}):rt(at)},getOptionLabel:ot=>isString$b(ot)?ot:ot.name,handleSearch:nt,textFieldProps:{placeholder:it("common.label.enterMusicName"),sx:{background:"#ffffff",borderRadius:"4px",input:{color:"#000"},"& .MuiInputBase-root":{p:"0 9px"}},onChange:ot=>{const at=ot.target.value;rt({name:at})}}})},Action=({setModal:tt})=>{const{t:et}=useI18n();return useDialog$1(),useAppDispatch(),jsxs(Grid$1,{sx:{marginTop:5},container:!0,direction:"row",justifyContent:"space-between",alignItems:"center",children:[jsx(Typography$1,{sx:{marginBottom:0},variant:"h4",gutterBottom:!0,component:"div",children:et("common.title.selectEdit")}),jsxs("div",{children:[jsx(Button$2,{size:"small",onClick:()=>tt("createSong"),variant:"contained",children:et("common.btn.createSong")}),jsx(Button$2,{size:"small",variant:"outlined",sx:{mx:1.5},onClick:()=>tt("importMap"),children:et("common.btn.importMap")}),isDevMode()]})]})};var Delete={},_interopRequireDefault$6=interopRequireDefaultExports;Object.defineProperty(Delete,"__esModule",{value:!0});var default_1$6=Delete.default=void 0,_createSvgIcon$6=_interopRequireDefault$6(requireCreateSvgIcon()),_jsxRuntime$6=require$$2$2,_default$6=(0,_createSvgIcon$6.default)((0,_jsxRuntime$6.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6v12zM19 4h-3.5l-1-1h-5l-1 1H5v2h14V4z"}),"Delete");default_1$6=Delete.default=_default$6;var Download={},_interopRequireDefault$5=interopRequireDefaultExports;Object.defineProperty(Download,"__esModule",{value:!0});var default_1$5=Download.default=void 0,_createSvgIcon$5=_interopRequireDefault$5(requireCreateSvgIcon()),_jsxRuntime$5=require$$2$2,_default$5=(0,_createSvgIcon$5.default)((0,_jsxRuntime$5.jsx)("path",{d:"M5 20h14v-2H5v2zM19 9h-4V3H9v6H5l7 7 7-7z"}),"Download");default_1$5=Download.default=_default$5;const ActionMenu=({anchorEl:tt,open:et,handleClose:rt,showDeleteIcon:nt})=>{const{t:it}=useI18n();return jsxs(Menu$1,{anchorOrigin:{vertical:"bottom",horizontal:"left"},id:"basic-menu",anchorEl:tt,open:et,onClose:rt,keepMounted:!0,children:[nt&&jsxs(MenuItem$1,{onClick:()=>rt("delete"),children:[jsx(ListItemIcon$1,{children:jsx(default_1$6,{})}),it("common.btn.delete")]}),jsxs(MenuItem$1,{onClick:()=>rt("download"),children:[jsx(ListItemIcon$1,{children:jsx(default_1$5,{})}),it("common.btn.download")]})]})},IMG_WIDTH=150,initMode=getEditorInitNoteModeSetting(),editNoteModes=getEditorNoteModeSettings();function SongCard({song:tt}){const{t:et}=useI18n(),rt=useDispatch(),nt=useDialog$1(),{navigate:it}=useRouter(),[ot,at]=reactExports.useMemo(()=>{const yt=getDifficultKey(initMode);if(isEmpty$6(tt[yt])||isUnDef(tt[yt])){const bt=editNoteModes.filter($t=>$t!==initMode)[0],xt=getDifficultKey(bt);return[bt,xt]}return[initMode,yt]},[tt]),st=tt.selectedDifficulty||Object.keys(tt[at])[0],[lt,ct]=reactExports.useState(null),[ut]=useDownloadFileMap(tt.id),dt=yt=>{ct(yt.currentTarget)},ft=async()=>{try{await nt.confirm(et("common.dialog.actionCannotBeUndone"))}catch{return}rt(deleteSong({songId:tt.id}))},pt=yt=>{switch(yt){case"delete":ft();break;case"download":ut({version:VERSION$3.THREE});break}ct(null)},[mt]=useLocalStoreFile(tt.coverArtFilename),ht=async yt=>{if(!DIFFICULTIES.includes(st)){await nt.alert(et("请选择谱面加载难度"));return}it(PageEnum.EDIT_NOTES,{id:yt.id,difficulty:st,mode:ot})},gt=yt=>{!!tt[at][yt.target.value]&&rt(changeSelectedDifficulty({songId:tt.id,difficulty:yt.target.value}))},vt=tt.artistName+(tt.demo?"（Demo song）":"");return jsx(Fragment,{children:jsxs(CardW$1,{className:"gl-flex-ai-c",children:[jsx(ImgCard,{url:mt,imgSize:{width:IMG_WIDTH,height:IMG_WIDTH}}),jsxs(CardContentDiv,{children:[jsxs(ContentItem,{children:[jsxs("div",{children:[jsx(Text$2,{ellipsis:!0,component:"p",variant:"h6",lineHeight:"normal",color:"primary",children:tt.name}),jsx(Text$2,{ellipsis:!0,variant:"subtitle1",color:"text.secondary",component:"div",children:vt})]}),!tt.demo&&jsxs("div",{children:[jsx(IconButton$1,{"aria-controls":"menu-appbar","aria-haspopup":"true",onClick:dt,children:jsx(MoreVertIcon,{})}),jsx(ActionMenu,{showDeleteIcon:!tt.demo,anchorEl:lt,open:Boolean(lt),handleClose:pt})]})]}),jsxs(ContentItem,{children:[jsx("div",{style:{alignSelf:"center"},children:jsx(DifficultySquare,{difficultyToLoad:st,song:tt,handleChange:gt,mode:ot})}),jsx(Button$2,{onClick:()=>ht(tt),children:et("common.btn.loadMap")})]})]})]})})}const CardContentDiv=styled$1(CardContent$2)`
  display: flex;
  width: 100%;
  flex-direction: column;
  padding:12px 12px 12px 20px!important;
  // UGC新样式
  //padding:10px 6px 10px 10px!important;
  
  
  // UGC老样式
  height: 100%;
  justify-content: space-between;
`,ContentItem=styled$1("div")`
  display: flex;
  justify-content:space-between;
`;styled$1("section")`
  margin-top: 10px;
  align-items: end;
`;const CardW$1=styled$1(Card$1)`
  // UGC新样式
  //padding-left: 10px;
  padding-left: 0;
`,SongListWrapper=({searchSongs:tt})=>{reactExports.useState(0);const et=useAppSelector(getLoadingSong);return jsx(Fragment,{children:et?jsx(SectionLoading,{}):jsx(SongListW,{children:tt.map(rt=>jsx(SongCard,{song:rt},rt.id))})})},SongListW=styled$1("div")`
  display:grid;
  grid-template-columns: repeat(2,minmax(0,1fr));
  grid-gap: 20px;
  margin-bottom: 5rem;
`;styled$1(Box$2)`
  width: 100%;
  padding: 12px 10px;
  display: flex;
  justify-content: space-between;
  margin-bottom: 20px;
`;styled$1("div")`
  width: 200px;
`;styled$1("div")`
  flex: 1;

`;styled$1("div")`
  margin:10px 0;
  width: 660px;
`;let timer$1=0;const SongsHome=({setModal:tt})=>{const{t:et}=useI18n(),rt=useDialog$1(),nt=useAppDispatch(),it=useAppSelector(getAllSongsChronologically),ot=useAppSelector(getById),[at,st]=reactExports.useState(it),[lt,ct]=reactExports.useState(null),{verifySongNameUnique:ut}=useSongsVerify();useMount$1(async()=>{if(timer$1++,!(findKey$1(ot,"demo")||timer$1>1)){nt(startImportingSong());try{const mt=(await fetch(demoFileUrl)).blob(),ht=await ImportedBeatMapAction(mt,gt=>ut(gt,ESONG_STATUS.CREATE),rt,et);ht.demo=!0,ht.songFile&&delete ht.songFile,ht.coverArtFile&&delete ht.coverArtFile,nt(importExistingSong(ht)),nt(cancelImportingSong())}catch{nt(cancelImportingSong()),console.warn("demo import failed")}}}),reactExports.useEffect(()=>{dt(lt)},[it]);const dt=ft=>{let pt=it;ft&&(pt=it.filter(mt=>mt.name.indexOf(ft.name)>=0)),st(pt)};return jsx(Fragment,{children:jsxs(MostWidthContainer,{children:[jsx(SearchSong,{songs:it,value:lt,setValue:ct,handleSearch:dt}),jsx(Action,{setModal:tt}),jsx(Divider$1,{sx:{mb:3,mt:1}}),jsx(SongListWrapper,{searchSongs:at})]})})};var Input={},_interopRequireDefault$4=interopRequireDefaultExports;Object.defineProperty(Input,"__esModule",{value:!0});var default_1$4=Input.default=void 0,_createSvgIcon$4=_interopRequireDefault$4(requireCreateSvgIcon()),_jsxRuntime$4=require$$2$2,_default$4=(0,_createSvgIcon$4.default)((0,_jsxRuntime$4.jsx)("path",{d:"M21 3.01H3c-1.1 0-2 .9-2 2V9h2V4.99h18v14.03H3V15H1v4.01c0 1.1.9 1.98 2 1.98h18c1.1 0 2-.88 2-1.98v-14c0-1.11-.9-2-2-2zM11 16l4-4-4-4v3H1v2h10v3z"}),"Input");default_1$4=Input.default=_default$4;const ImportMap=({handleModalClose:tt,height:et})=>{const{t:rt}=useI18n(),nt=useDialog$1(),it=useAppDispatch(),ot=useAppSelector(getLoadingSong),{verifySongNameUnique:at}=useSongsVerify(),{enqueueSnackbar:st}=useNotice();return jsxs(Fragment,{children:[ot?jsx(SectionLoading,{}):"",jsx(Upload,{styleWrapper:{width:300,height:300},onSelectFile:async ct=>{it(startImportingSong());try{const ut=await ImportedBeatMapAction(ct,ft=>at(ft,ESONG_STATUS.CREATE),nt,rt),dt=omit$1(ut,["songFile","coverArtFile"]);it(importExistingSong(dt)),st(rt("common.notice.imporSongSuccessfully")),tt(),it(cancelImportingSong())}catch(ut){console.error("Could not import map:",ut),st(rt("common.notice.imporSongFail")),it(cancelImportingSong())}},iconNode:jsx(default_1$4,{}),height:et,title:rt("common.title.importMapSub"),subTitle:rt("common.title.selectZipFile")})]})};var Info={},_interopRequireDefault$3=interopRequireDefaultExports;Object.defineProperty(Info,"__esModule",{value:!0});var default_1$3=Info.default=void 0,_createSvgIcon$3=_interopRequireDefault$3(requireCreateSvgIcon()),_jsxRuntime$3=require$$2$2,_default$3=(0,_createSvgIcon$3.default)((0,_jsxRuntime$3.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm1 15h-2v-6h2v6zm0-8h-2V7h2v2z"}),"Info");default_1$3=Info.default=_default$3;const TipsInfo=({tips:tt,title:et,importUsbFile:rt})=>jsxs("div",{style:{marginLeft:20},children:[jsx(Typography$1,{variant:"subtitle1",sx:{marginTop:2},component:"div",children:et}),jsx(List$1,{children:tt.map(nt=>jsxs(ListItem$1,{sx:{px:0},children:[jsx(ListItemIcon$1,{sx:{minWidth:"30px"},children:jsx(default_1$3,{fontSize:"small",color:"primary"})}),jsx(ListItemText$1,{secondary:nt})]},nt))})]}),ImportMapForm=({handleModalClose:tt})=>{const{t:et}=useI18n(),rt=[et("common.title.impTip.tip1"),et("common.title.impTip.tip2"),et("common.title.impTip.tip3"),et("common.title.impTip.tip4")];return jsxs("div",{className:"gl-flex-ver-s-b",style:{paddingTop:40},children:[jsx(ImportMap,{handleModalClose:tt}),jsx(TipsInfo,{title:et("common.title.importUsbTip"),tips:rt,importUsbFile:et("common.title.importUsbFile")})]})},fileTool=async tt=>{const et=new JSZip;let rt="";await getFilesData(tt,async(at,st)=>{if(st.endsWith(".dat")){const lt=await at.async("string"),ct=JSON.parse(lt);ct._songName&&(rt=ct._songName);const ut=filterKeyDataFn(ct,fileObjKeyNoPrefixAction),dt=YAML$1.stringify(ut),ft=at.name.replace("dat","yaml");et.file(ft,dt,{binary:!1})}else{const lt=await at.async("blob");et.file(at.name,lt,{binary:!0})}});const nt=await et.generateAsync({type:"blob",compression:"DEFLATE",compressionOptions:{level:9}}),it=formatToDateTime(new Date),ot=`${rt}_${it}.zip`;FileSaver_minExports.saveAs(nt,ot)},getFilesData=async(tt,et)=>{let rt=await JSZip.loadAsync(tt,{createFolders:!1});const nt=Object.keys(rt.files),it=Object.values(rt.files).flatMap(ot=>ot.name&&!ot.unsafeOriginalName?[ot.name]:[]);for(const ot of nt){const at=rt.files[ot];ot.match(/^__MACOSX\//)||await(et==null?void 0:et(at,ot,rt,it))}},FileTool=({handleModalClose:tt})=>{const{t:et}=useI18n(),{enqueueSnackbar:rt}=useNotice(),nt=[et("common.title.toolTip.tip1")],[it,ot]=reactExports.useState(!1),at=async st=>{if(!st.name.match(/\.zip$/))return rt(et("common.notice.convertFileValidZip")),!1;ot(!0);try{await fileTool(st),rt(et("common.notice.convertFileSuccessfully")),ot(!1),tt(!1)}catch{rt(et("common.notice.convertFileSuccessFail")),ot(!1)}};return jsxs(Fragment,{children:[jsx(TipsInfo,{title:et("common.title.tips"),tips:nt,importUsbFile:et("common.title.importUsbFile")}),it?jsx(SectionLoading,{}):"",jsx(Upload,{onSelectFile:at,iconNode:jsx(default_1$4,{}),title:et("common.title.importMapSub"),subTitle:et("common.title.selectZipFile")})]})};function BrowserType(){const tt=navigator.userAgent.toLowerCase(),et=ft=>ft.test(tt),rt=ft=>{var pt;return(pt=tt.match(ft))==null?void 0:pt.toString().replace(/[^0-9|_.]/g,"").replace(/_/g,".")};let nt="unknow";et(/windows|win32|win64|wow32|wow64/g)?nt="windows":et(/macintosh|macintel/g)?nt="macos":et(/x11/g)?nt="linux":et(/android|adr/g)?nt="android":et(/ios|iphone|ipad|ipod|iwatch/g)&&(nt="ios");let it;nt==="windows"?et(/windows nt 5.0|windows 2000/g)?it="2000":et(/windows nt 5.1|windows xp/g)?it="xp":et(/windows nt 5.2|windows 2003/g)?it="2003":et(/windows nt 6.0|windows vista/g)?it="vista":et(/windows nt 6.1|windows 7/g)?it="7":et(/windows nt 6.2|windows 8/g)?it="8":et(/windows nt 6.3|windows 8.1/g)?it="8.1":et(/windows nt 10.0|windows 10/g)&&(it="10"):nt==="macos"?it=rt(/os x [\d._]+/g):nt==="android"?it=rt(/android [\d._]+/g):nt==="ios"&&(it=rt(/os [\d._]+/g));let ot="unknow";nt==="windows"||nt==="macos"||nt==="linux"?ot="desktop":(nt==="android"||nt==="ios"||et(/mobile/g))&&(ot="mobile");let at="unknow",st="unknow";et(/applewebkit/g)?(at="webkit",et(/edge/g)?st="edge":et(/opr/g)?st="opera":et(/chrome/g)?st="chrome":et(/safari/g)&&(st="safari")):et(/gecko/g)&&et(/firefox/g)?(at="gecko",st="firefox"):et(/presto/g)?(at="presto",st="opera"):et(/trident|compatible|msie/g)&&(at="trident",st="iexplore");let lt;at==="webkit"?lt=rt(/applewebkit\/[\d._]+/g):at==="gecko"?lt=rt(/gecko\/[\d._]+/g):at==="presto"?lt=rt(/presto\/[\d._]+/g):at==="trident"&&(lt=rt(/trident\/[\d._]+/g));let ct;st==="chrome"?ct=rt(/chrome\/[\d._]+/g):st==="safari"?ct=rt(/version\/[\d._]+/g):st==="firefox"?ct=rt(/firefox\/[\d._]+/g):st==="opera"?ct=rt(/opr\/[\d._]+/g):st==="iexplore"?ct=rt(/(msie [\d._]+)|(rv:[\d._]+)/g):st==="edge"&&(ct=rt(/edge\/[\d._]+/g));let ut="none",dt;return et(/micromessenger/g)?(ut="wechat",dt=rt(/micromessenger\/[\d._]+/g)):et(/qqbrowser/g)?(ut="qq",dt=rt(/qqbrowser\/[\d._]+/g)):et(/ucbrowser/g)?(ut="uc",dt=rt(/ucbrowser\/[\d._]+/g)):et(/qihu 360se/g)?ut="360":et(/2345explorer/g)?(ut="2345",dt=rt(/2345explorer\/[\d._]+/g)):et(/metasr/g)?ut="sougou":et(/lbbrowser/g)?ut="liebao":et(/maxthon/g)&&(ut="maxthon",dt=rt(/maxthon\/[\d._]+/g)),Object.assign({engine:at,engineVs:lt,platform:ot,supporter:st,supporterVs:ct,system:nt,systemVs:it},ut==="none"?{}:{shell:ut,shellVs:dt})}const isAvailableCarrier=()=>{const{platform:tt,supporter:et}=BrowserType();return tt==="desktop"&&et!=="safari"},Carrier=()=>{const{t:tt}=useI18n(),et=useDialog$1();return useMount$1(()=>{isAvailableCarrier()||et.alert(tt("common.notice.carrier"))}),null};var Search={},_interopRequireDefault$2=interopRequireDefaultExports;Object.defineProperty(Search,"__esModule",{value:!0});var default_1$2=Search.default=void 0,_createSvgIcon$2=_interopRequireDefault$2(requireCreateSvgIcon()),_jsxRuntime$2=require$$2$2,_default$2=(0,_createSvgIcon$2.default)((0,_jsxRuntime$2.jsx)("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"Search");default_1$2=Search.default=_default$2;const SearchStaticSong=({value:tt,onChange:et,handleSearch:rt})=>{const{t:nt}=useI18n();return jsx(Fragment,{children:jsx(Search$1,{value:tt,options:[],style:{width:"600px"},startAdornment:jsx(InputAdornment$1,{position:"start",children:jsx(default_1$2,{sx:{color:"#92969B"}})}),handleSearch:rt,textFieldProps:{placeholder:nt("common.label.enterMusicName"),sx:{borderColor:"#434951","& .MuiInputBase-root":{p:"0 9px"}},onChange:et}})})};var Add={},_interopRequireDefault$1=interopRequireDefaultExports;Object.defineProperty(Add,"__esModule",{value:!0});var default_1$1=Add.default=void 0,_createSvgIcon$1=_interopRequireDefault$1(requireCreateSvgIcon()),_jsxRuntime$1=require$$2$2,_default$1=(0,_createSvgIcon$1.default)((0,_jsxRuntime$1.jsx)("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"Add");default_1$1=Add.default=_default$1;const IMG_SIZE={width:70,height:70},IconC=({Ele:tt,...et})=>jsx(tt,{fontSize:"large",className:"gl-abs-vertical-center",...et}),SongResCard=({data:tt,openMore:et,setOpenMore:rt,isShowOpenMore:nt,currentId:it,setCurrentId:ot,handleDownload:at,loadStatus:st,handleCreateType:lt})=>{const ct=reactExports.useRef(null),[ut,dt]=reactExports.useState(-1),ft=et?"收起":"展开更多",pt=()=>{rt(!et)};return reactExports.useEffect(()=>{ct.current&&!et&&(ct.current.scrollTop=0)},[et]),jsxs("div",{children:[jsx("div",{ref:ct,style:{overflowY:et?"auto":"hidden",maxHeight:et?500:180},children:jsxs(CardWrapper,{children:[jsxs(CardW,{onClick:lt,children:[jsxs(ImgWrapper,{children:[jsx(ImgCard,{imgSize:IMG_SIZE,animation:!1}),jsx(default_1$1,{color:"disabled",fontSize:"large",className:"gl-abs-vertical-center"})]}),jsx(CardContentW,{children:jsx(Text$2,{sx:{mt:2},color:"primary.main",variant:"subtitle1",children:"其他歌曲"})})]}),tt.map((mt,ht)=>{var vt,yt;const gt=(vt=st[mt.id])==null?void 0:vt.status;return jsxs(CardW,{children:[jsxs(ImgWrapper,{onMouseEnter:()=>{dt(ht)},onMouseLeave:()=>{dt(-1)},children:[jsx(ImgCard,{style:{opacity:gt===OGG_LOAD_STATUS.SUCCESS?1:.6},url:mt.cover,imgSize:IMG_SIZE}),gt===OGG_LOAD_STATUS.IDLE&&jsx(IconC,{Ele:DownloadIcon,onClick:()=>at(mt.id)}),gt===OGG_LOAD_STATUS.ERROR&&jsx(IconC,{Ele:ErrorIcon,onClick:()=>at(mt.id)}),gt===OGG_LOAD_STATUS.LOADING&&jsxs(Fragment,{children:[jsx(IconC,{Ele:PauseIcon}),jsx(CircularProgress$1,{className:"gl-abs-vertical-center",variant:"determinate",value:(yt=st[mt.id])==null?void 0:yt.progress})]}),gt===OGG_LOAD_STATUS.SUCCESS&&ut===ht&&jsx(IconC,{Ele:RefreshIcon,onClick:()=>at(mt.id)})]}),jsxs(CardContentW,{style:{background:it===mt.id?"#fff":void 0},sx:{"&.MuiCardContent-root":{"&:hover":{background:"#3f4140"}}},onClick:()=>{mt.id&&ot(mt.id)},children:[jsx(Text$2,{ellipsis:!0,color:"primary.main",variant:"subtitle1",display:"block",gutterBottom:!0,children:mt.song_name}),jsx(Text$2,{ellipsis:!0,variant:"subtitle2",color:"#BCBCBC",children:mt.artist})]})]},mt.id||ht)})]})}),nt&&jsxs(OpenMore,{onClick:pt,className:"gl-flex-vertical-center",children:[et?jsx(KeyboardDoubleArrowUpIcon,{}):jsx(KeyboardDoubleArrowDownIcon,{}),jsx(Text$2,{children:ft})]})]})};styled$1("div")`
  
`;const CardW=styled$1(Card$1)`
  display: flex;
`,CardContentW=styled$1(CardContent$2)`
  width: 200px;
  padding: 6px 0 0 10px!important;
  margin-bottom: 0;
  cursor:pointer;
`,CardWrapper=styled$1("div")`
  display:grid;
  grid-template-columns: repeat(4,minmax(0,1fr));
  grid-gap: 20px;
  margin-bottom: 1rem;
  //margin-top: 30px;
`,ImgWrapper=styled$1("div")`
  position: relative;
  cursor:pointer;
`,OpenMore=styled$1("div")(({theme:tt})=>`
  cursor:pointer;
  margin:10px 0;
  color: ${tt.palette.primary.main};
`),SongResCard$1=reactExports.memo(SongResCard);var ArrowBackIos={},_interopRequireDefault=interopRequireDefaultExports;Object.defineProperty(ArrowBackIos,"__esModule",{value:!0});var default_1=ArrowBackIos.default=void 0,_createSvgIcon=_interopRequireDefault(requireCreateSvgIcon()),_jsxRuntime=require$$2$2,_default=(0,_createSvgIcon.default)((0,_jsxRuntime.jsx)("path",{d:"M11.67 3.87 9.9 2.1 0 12l9.9 9.9 1.77-1.77L3.54 12z"}),"ArrowBackIos");default_1=ArrowBackIos.default=_default;const getLoadStatusData=async tt=>{let et={};for(const rt of tt)et[rt.id]||(et[rt.id]={status:OGG_LOAD_STATUS.IDLE}),await officialFiles.getIterate(function(nt,it){it===getFilenameForThing(rt.id,THING_TYPE.SONG)&&(et[rt.id]={status:OGG_LOAD_STATUS.SUCCESS})});return et},DEFAULT_SIZE$5=50,NewSong=({handleClose:tt})=>{const{t:et}=useI18n(),{theme:{palette:rt}}=useCustomTheme(),[nt,it]=reactExports.useState(CREATE_TYPE.OFFICIAL),[ot,at]=reactExports.useState(""),[st,lt]=reactExports.useState(Array(7).fill({})),[ct,ut]=reactExports.useState(!1),[dt,ft]=reactExports.useState(!1),[pt,mt]=reactExports.useState(null),[ht,gt]=reactExports.useState({}),[vt,yt]=reactExports.useState(),{run:bt}=useBaseRequest(get_static_song_info_list,{debounceWait:1e3,manual:!1,defaultParams:[{size:DEFAULT_SIZE$5}],onSuccess:async Lt=>{ft(Lt.total>st.length),Array.isArray(Lt==null?void 0:Lt.data)&&(gt(await getLoadStatusData(Lt.data)),lt(Lt.data))}}),{run:xt}=useBaseRequest(download_static,{onSuccess:async(Lt,Pt)=>{const Nt=await downloadByOfficialMusic(Lt);Nt&&(yt(Nt),await officialFiles.saveSongFile(Pt[2],Nt))},onError:(Lt,Pt)=>{Pt[2]&&gt({...ht,[Pt[2]]:{status:OGG_LOAD_STATUS.ERROR}})}}),{run:$t}=useBaseRequest(get_static_song_ogg,{onSuccess:(Lt,Pt)=>{const{link:Nt}=Lt;xt(Nt,Ot=>{Ot!=null&&Ot.progress&&(Ot.progress<1?gt(Bt=>({...Bt,[Pt[0].id]:{progress:Ot.progress*100,status:OGG_LOAD_STATUS.LOADING}})):gt({...ht,[Pt[0].id]:{progress:Ot.progress*100,status:OGG_LOAD_STATUS.SUCCESS}}))},Pt[0].id)}}),Tt=Lt=>{bt({size:DEFAULT_SIZE$5,songName:Lt})},wt=Lt=>{const Pt=Lt.target.value;at(Pt)},At=reactExports.useCallback(Lt=>{$t({id:Lt})},[$t]),Rt=st.find(Lt=>Lt.id===pt)||null,It=()=>{ut(!1),it(CREATE_TYPE.CUSTOM),mt(null)};return jsxs(Fragment,{children:[nt===CREATE_TYPE.CUSTOM?jsxs(Black,{onClick:()=>it(CREATE_TYPE.OFFICIAL),className:"gl-flex-vertical-center",children:[jsxs(BlackButton,{className:"gl-flex-vertical-center",style:{color:rt.primary.main},children:[jsx(default_1,{fontSize:"small"}),jsx(Text$2,{variant:"subtitle2",children:et("返回")})]}),jsx(Text$2,{align:"center",variant:"h6",children:et("common.title.addNewSong")})]}):jsx(BasicTitle,{variant:"h6",children:et("common.title.addNewSong")}),nt===CREATE_TYPE.OFFICIAL&&jsxs(Fragment,{children:[jsx(OfficialSongWrapper,{children:jsx(SearchStaticSong,{handleSearch:Tt,value:ot,onChange:wt})}),jsx(SongResCard$1,{data:st,openMore:ct,isShowOpenMore:dt,setOpenMore:ut,currentId:pt,setCurrentId:mt,loadStatus:ht,handleDownload:At,handleCreateType:It})]}),!ct&&jsx(SongFrom,{status:"create",officialCurrentData:Rt,createType:nt,handleSubmitCallBack:tt,staticOgg:vt})]})},OfficialSongWrapper=styled$1("div")`
  display: flex;
  justify-content: center;
  margin-bottom: 30px;
`,Black=styled$1("div")`
  cursor: pointer;
  position: relative;
`,BlackButton=styled$1("div")`
  position: absolute;
  left: 0;
  top: 50%;
  transform: translateY(-50%);
`;function Home(){const[tt,et]=reactExports.useState(""),rt=useAppSelector(getUserInfo),nt=()=>{et("")},{t:it}=useI18n();return rt?jsxs(Fragment,{children:[jsx(HeaderNavBar,{}),jsx(SongsHome,{setModal:et}),jsx(BasicModal,{open:Boolean(tt==="createSong"),width:940,onClose:nt,children:jsx(NewSong,{handleClose:nt})}),jsx(BasicModal,{open:tt==="importMap",width:840,title:it("common.title.importMap"),onClose:nt,children:jsx(ImportMapForm,{handleModalClose:nt})}),jsx(BasicModal,{open:tt==="fileTool",width:840,title:it("common.btn.fileTool"),onClose:nt,children:jsx(FileTool,{handleModalClose:nt})}),jsx(FooterNavBar,{}),jsx(Carrier,{})]}):jsx(SectionLoading,{})}const homeRouter=[{element:jsx(Home,{}),path:"/",meta:{requiresAuth:!1,title:"首页",key:"editNotes"}}],__vite_glob_0_1=Object.freeze(Object.defineProperty({__proto__:null,default:homeRouter},Symbol.toStringTag,{value:"Module"}));var classnamesExports={},classnames$1={get exports(){return classnamesExports},set exports(tt){classnamesExports=tt}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(tt){(function(){var et={}.hasOwnProperty;function rt(){for(var nt=[],it=0;it<arguments.length;it++){var ot=arguments[it];if(ot){var at=typeof ot;if(at==="string"||at==="number")nt.push(ot);else if(Array.isArray(ot)){if(ot.length){var st=rt.apply(null,ot);st&&nt.push(st)}}else if(at==="object"){if(ot.toString!==Object.prototype.toString&&!ot.toString.toString().includes("[native code]")){nt.push(ot.toString());continue}for(var lt in ot)et.call(ot,lt)&&ot[lt]&&nt.push(lt)}}}return nt.join(" ")}tt.exports?(rt.default=rt,tt.exports=rt):window.classNames=rt})()})(classnames$1);const classnames=classnamesExports;var isMergeableObject=function(et){return isNonNullObject(et)&&!isSpecial$1(et)};function isNonNullObject(tt){return!!tt&&typeof tt=="object"}function isSpecial$1(tt){var et=Object.prototype.toString.call(tt);return et==="[object RegExp]"||et==="[object Date]"||isReactElement(tt)}var canUseSymbol=typeof Symbol=="function"&&Symbol.for,REACT_ELEMENT_TYPE=canUseSymbol?Symbol.for("react.element"):60103;function isReactElement(tt){return tt.$$typeof===REACT_ELEMENT_TYPE}function emptyTarget(tt){return Array.isArray(tt)?[]:{}}function cloneUnlessOtherwiseSpecified(tt,et){return et.clone!==!1&&et.isMergeableObject(tt)?deepmerge(emptyTarget(tt),tt,et):tt}function defaultArrayMerge(tt,et,rt){return tt.concat(et).map(function(nt){return cloneUnlessOtherwiseSpecified(nt,rt)})}function getMergeFunction(tt,et){if(!et.customMerge)return deepmerge;var rt=et.customMerge(tt);return typeof rt=="function"?rt:deepmerge}function getEnumerableOwnPropertySymbols(tt){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(tt).filter(function(et){return Object.propertyIsEnumerable.call(tt,et)}):[]}function getKeys(tt){return Object.keys(tt).concat(getEnumerableOwnPropertySymbols(tt))}function propertyIsOnObject(tt,et){try{return et in tt}catch{return!1}}function propertyIsUnsafe(tt,et){return propertyIsOnObject(tt,et)&&!(Object.hasOwnProperty.call(tt,et)&&Object.propertyIsEnumerable.call(tt,et))}function mergeObject(tt,et,rt){var nt={};return rt.isMergeableObject(tt)&&getKeys(tt).forEach(function(it){nt[it]=cloneUnlessOtherwiseSpecified(tt[it],rt)}),getKeys(et).forEach(function(it){propertyIsUnsafe(tt,it)||(propertyIsOnObject(tt,it)&&rt.isMergeableObject(et[it])?nt[it]=getMergeFunction(it,rt)(tt[it],et[it],rt):nt[it]=cloneUnlessOtherwiseSpecified(et[it],rt))}),nt}function deepmerge(tt,et,rt){rt=rt||{},rt.arrayMerge=rt.arrayMerge||defaultArrayMerge,rt.isMergeableObject=rt.isMergeableObject||isMergeableObject,rt.cloneUnlessOtherwiseSpecified=cloneUnlessOtherwiseSpecified;var nt=Array.isArray(et),it=Array.isArray(tt),ot=nt===it;return ot?nt?rt.arrayMerge(tt,et,rt):mergeObject(tt,et,rt):cloneUnlessOtherwiseSpecified(et,rt)}deepmerge.all=function(et,rt){if(!Array.isArray(et))throw new Error("first argument should be an array");return et.reduce(function(nt,it){return deepmerge(nt,it,rt)},{})};var deepmerge_1=deepmerge,cjs=deepmerge_1,requiresPort=function(et,rt){if(rt=rt.split(":")[0],et=+et,!et)return!1;switch(rt){case"http":case"ws":return et!==80;case"https":case"wss":return et!==443;case"ftp":return et!==21;case"gopher":return et!==70;case"file":return!1}return et!==0},querystringify$1={},has$4=Object.prototype.hasOwnProperty,undef$1;function decode(tt){try{return decodeURIComponent(tt.replace(/\+/g," "))}catch{return null}}function encode$1(tt){try{return encodeURIComponent(tt)}catch{return null}}function querystring$1(tt){for(var et=/([^=?#&]+)=?([^&]*)/g,rt={},nt;nt=et.exec(tt);){var it=decode(nt[1]),ot=decode(nt[2]);it===null||ot===null||it in rt||(rt[it]=ot)}return rt}function querystringify(tt,et){et=et||"";var rt=[],nt,it;typeof et!="string"&&(et="?");for(it in tt)if(has$4.call(tt,it)){if(nt=tt[it],!nt&&(nt===null||nt===undef$1||isNaN(nt))&&(nt=""),it=encode$1(it),nt=encode$1(nt),it===null||nt===null)continue;rt.push(it+"="+nt)}return rt.length?et+rt.join("&"):""}querystringify$1.stringify=querystringify;querystringify$1.parse=querystring$1;var required=requiresPort,qs=querystringify$1,controlOrWhitespace=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,CRHTLF=/[\n\r\t]/g,slashes=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,port$4=/:\d+$/,protocolre=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,windowsDriveLetter=/^[a-zA-Z]:/;function trimLeft(tt){return(tt||"").toString().replace(controlOrWhitespace,"")}var rules=[["#","hash"],["?","query"],function(et,rt){return isSpecial(rt.protocol)?et.replace(/\\/g,"/"):et},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],ignore$1={hash:1,query:1};function lolcation(tt){var et;typeof window<"u"?et=window:typeof commonjsGlobal$4<"u"?et=commonjsGlobal$4:typeof self<"u"?et=self:et={};var rt=et.location||{};tt=tt||rt;var nt={},it=typeof tt,ot;if(tt.protocol==="blob:")nt=new Url(unescape(tt.pathname),{});else if(it==="string"){nt=new Url(tt,{});for(ot in ignore$1)delete nt[ot]}else if(it==="object"){for(ot in tt)ot in ignore$1||(nt[ot]=tt[ot]);nt.slashes===void 0&&(nt.slashes=slashes.test(tt.href))}return nt}function isSpecial(tt){return tt==="file:"||tt==="ftp:"||tt==="http:"||tt==="https:"||tt==="ws:"||tt==="wss:"}function extractProtocol(tt,et){tt=trimLeft(tt),tt=tt.replace(CRHTLF,""),et=et||{};var rt=protocolre.exec(tt),nt=rt[1]?rt[1].toLowerCase():"",it=!!rt[2],ot=!!rt[3],at=0,st;return it?ot?(st=rt[2]+rt[3]+rt[4],at=rt[2].length+rt[3].length):(st=rt[2]+rt[4],at=rt[2].length):ot?(st=rt[3]+rt[4],at=rt[3].length):st=rt[4],nt==="file:"?at>=2&&(st=st.slice(2)):isSpecial(nt)?st=rt[4]:nt?it&&(st=st.slice(2)):at>=2&&isSpecial(et.protocol)&&(st=rt[4]),{protocol:nt,slashes:it||isSpecial(nt),slashesCount:at,rest:st}}function resolve(tt,et){if(tt==="")return et;for(var rt=(et||"/").split("/").slice(0,-1).concat(tt.split("/")),nt=rt.length,it=rt[nt-1],ot=!1,at=0;nt--;)rt[nt]==="."?rt.splice(nt,1):rt[nt]===".."?(rt.splice(nt,1),at++):at&&(nt===0&&(ot=!0),rt.splice(nt,1),at--);return ot&&rt.unshift(""),(it==="."||it==="..")&&rt.push(""),rt.join("/")}function Url(tt,et,rt){if(tt=trimLeft(tt),tt=tt.replace(CRHTLF,""),!(this instanceof Url))return new Url(tt,et,rt);var nt,it,ot,at,st,lt,ct=rules.slice(),ut=typeof et,dt=this,ft=0;for(ut!=="object"&&ut!=="string"&&(rt=et,et=null),rt&&typeof rt!="function"&&(rt=qs.parse),et=lolcation(et),it=extractProtocol(tt||"",et),nt=!it.protocol&&!it.slashes,dt.slashes=it.slashes||nt&&et.slashes,dt.protocol=it.protocol||et.protocol||"",tt=it.rest,(it.protocol==="file:"&&(it.slashesCount!==2||windowsDriveLetter.test(tt))||!it.slashes&&(it.protocol||it.slashesCount<2||!isSpecial(dt.protocol)))&&(ct[3]=[/(.*)/,"pathname"]);ft<ct.length;ft++){if(at=ct[ft],typeof at=="function"){tt=at(tt,dt);continue}ot=at[0],lt=at[1],ot!==ot?dt[lt]=tt:typeof ot=="string"?(st=ot==="@"?tt.lastIndexOf(ot):tt.indexOf(ot),~st&&(typeof at[2]=="number"?(dt[lt]=tt.slice(0,st),tt=tt.slice(st+at[2])):(dt[lt]=tt.slice(st),tt=tt.slice(0,st)))):(st=ot.exec(tt))&&(dt[lt]=st[1],tt=tt.slice(0,st.index)),dt[lt]=dt[lt]||nt&&at[3]&&et[lt]||"",at[4]&&(dt[lt]=dt[lt].toLowerCase())}rt&&(dt.query=rt(dt.query)),nt&&et.slashes&&dt.pathname.charAt(0)!=="/"&&(dt.pathname!==""||et.pathname!=="")&&(dt.pathname=resolve(dt.pathname,et.pathname)),dt.pathname.charAt(0)!=="/"&&isSpecial(dt.protocol)&&(dt.pathname="/"+dt.pathname),required(dt.port,dt.protocol)||(dt.host=dt.hostname,dt.port=""),dt.username=dt.password="",dt.auth&&(st=dt.auth.indexOf(":"),~st?(dt.username=dt.auth.slice(0,st),dt.username=encodeURIComponent(decodeURIComponent(dt.username)),dt.password=dt.auth.slice(st+1),dt.password=encodeURIComponent(decodeURIComponent(dt.password))):dt.username=encodeURIComponent(decodeURIComponent(dt.auth)),dt.auth=dt.password?dt.username+":"+dt.password:dt.username),dt.origin=dt.protocol!=="file:"&&isSpecial(dt.protocol)&&dt.host?dt.protocol+"//"+dt.host:"null",dt.href=dt.toString()}function set$5(tt,et,rt){var nt=this;switch(tt){case"query":typeof et=="string"&&et.length&&(et=(rt||qs.parse)(et)),nt[tt]=et;break;case"port":nt[tt]=et,required(et,nt.protocol)?et&&(nt.host=nt.hostname+":"+et):(nt.host=nt.hostname,nt[tt]="");break;case"hostname":nt[tt]=et,nt.port&&(et+=":"+nt.port),nt.host=et;break;case"host":nt[tt]=et,port$4.test(et)?(et=et.split(":"),nt.port=et.pop(),nt.hostname=et.join(":")):(nt.hostname=et,nt.port="");break;case"protocol":nt.protocol=et.toLowerCase(),nt.slashes=!rt;break;case"pathname":case"hash":if(et){var it=tt==="pathname"?"/":"#";nt[tt]=et.charAt(0)!==it?it+et:et}else nt[tt]=et;break;case"username":case"password":nt[tt]=encodeURIComponent(et);break;case"auth":var ot=et.indexOf(":");~ot?(nt.username=et.slice(0,ot),nt.username=encodeURIComponent(decodeURIComponent(nt.username)),nt.password=et.slice(ot+1),nt.password=encodeURIComponent(decodeURIComponent(nt.password))):nt.username=encodeURIComponent(decodeURIComponent(et))}for(var at=0;at<rules.length;at++){var st=rules[at];st[4]&&(nt[st[1]]=nt[st[1]].toLowerCase())}return nt.auth=nt.password?nt.username+":"+nt.password:nt.username,nt.origin=nt.protocol!=="file:"&&isSpecial(nt.protocol)&&nt.host?nt.protocol+"//"+nt.host:"null",nt.href=nt.toString(),nt}function toString$6(tt){(!tt||typeof tt!="function")&&(tt=qs.stringify);var et,rt=this,nt=rt.host,it=rt.protocol;it&&it.charAt(it.length-1)!==":"&&(it+=":");var ot=it+(rt.protocol&&rt.slashes||isSpecial(rt.protocol)?"//":"");return rt.username?(ot+=rt.username,rt.password&&(ot+=":"+rt.password),ot+="@"):rt.password?(ot+=":"+rt.password,ot+="@"):rt.protocol!=="file:"&&isSpecial(rt.protocol)&&!nt&&rt.pathname!=="/"&&(ot+="@"),(nt[nt.length-1]===":"||port$4.test(rt.hostname)&&!rt.port)&&(nt+=":"),ot+=nt+rt.pathname,et=typeof rt.query=="object"?tt(rt.query):rt.query,et&&(ot+=et.charAt(0)!=="?"?"?"+et:et),rt.hash&&(ot+=rt.hash),ot}Url.prototype={set:set$5,toString:toString$6};Url.extractProtocol=extractProtocol;Url.location=lolcation;Url.trimLeft=trimLeft;Url.qs=qs;var urlParse=Url,aesExports=requireAes();const AES=getDefaultExportFromCjs(aesExports);var encUtf8Exports={},encUtf8={get exports(){return encUtf8Exports},set exports(tt){encUtf8Exports=tt}};(function(tt,et){(function(rt,nt){tt.exports=nt(requireCore())})(commonjsGlobal$4,function(rt){return rt.enc.Utf8})})(encUtf8);const ENC_UTF8=encUtf8Exports;var __assign$6=function(){return(__assign$6=Object.assign||function(tt){for(var et,rt=1,nt=arguments.length;rt<nt;rt++)for(var it in et=arguments[rt])Object.prototype.hasOwnProperty.call(et,it)&&(tt[it]=et[it]);return tt}).apply(this,arguments)};function __rest(tt,et){var rt={};for(var nt in tt)Object.prototype.hasOwnProperty.call(tt,nt)&&et.indexOf(nt)<0&&(rt[nt]=tt[nt]);if(tt!=null&&typeof Object.getOwnPropertySymbols=="function"){var it=0;for(nt=Object.getOwnPropertySymbols(tt);it<nt.length;it++)et.indexOf(nt[it])<0&&(rt[nt[it]]=tt[nt[it]])}return rt}function __values(tt){var et=typeof Symbol=="function"&&tt[Symbol.iterator],rt=0;return et?et.call(tt):{next:function(){return tt&&rt>=tt.length&&(tt=void 0),{value:tt&&tt[rt++],done:!tt}}}}function __read$5(tt,et){var rt=typeof Symbol=="function"&&tt[Symbol.iterator];if(!rt)return tt;var nt,it,ot=rt.call(tt),at=[];try{for(;(et===void 0||et-- >0)&&!(nt=ot.next()).done;)at.push(nt.value)}catch(st){it={error:st}}finally{try{nt&&!nt.done&&(rt=ot.return)&&rt.call(ot)}finally{if(it)throw it.error}}return at}function __spread(){for(var tt=[],et=0;et<arguments.length;et++)tt=tt.concat(__read$5(arguments[et]));return tt}var Hook=function(){function tt(){this._hooks={},this._cache=[],this._hooksCache={}}return tt.prototype.on=function(et,rt){et&&rt&&typeof rt=="function"&&(this._hooks[et]||(this._hooks[et]=[]),this._hooks[et].push(rt))},tt.prototype.once=function(et,rt){var nt=this;et&&rt&&typeof rt=="function"&&this.on(et,function it(ot){rt(ot),nt.off(et,it)})},tt.prototype.off=function(et,rt){if(et&&this._hooks[et]&&this._hooks[et].length)if(rt){var nt=this._hooks[et].indexOf(rt);nt!==-1&&this._hooks[et].splice(nt,1)}else this._hooks[et]=[]},tt.prototype.emit=function(et,rt,nt){if(nt){if(!et)return;this._cache.indexOf(nt)!==-1?this._emit(et,rt):(this._hooksCache.hasOwnProperty(nt)||(this._hooksCache[nt]={}),this._hooksCache[nt].hasOwnProperty(et)||(this._hooksCache[nt][et]=[]),this._hooksCache[nt][et].push(rt))}else this._emit(et,rt)},tt.prototype._emit=function(et,rt){et&&this._hooks[et]&&this._hooks[et].length&&__spread(this._hooks[et]).forEach(function(nt){try{nt(rt)}catch{}})},tt.prototype.set=function(et){et&&this._cache.indexOf(et)===-1&&this._cache.push(et)},tt}(),isObject$7=function(tt){return tt!=null&&Object.prototype.toString.call(tt)=="[object Object]"},isNumber$6=function(tt){return typeof tt=="number"&&!isNaN(tt)},isString$6=function(tt){return typeof tt=="string"},isArray$6=function(tt){return Array.isArray(tt)},getIndex=(lastEventId=+Date.now()+Number((""+Math.random()).slice(2,8)),function(){return lastEventId+=1}),lastEventId,decrypto=function(tt,et,rt){if(typeof tt=="string"&&typeof et=="number"&&typeof rt=="number"){var nt,it=[];rt=rt<=25?rt:rt%25;var ot=String.fromCharCode(rt+97);nt=tt.split(ot);for(var at=0;at<nt.length;at++){var st=parseInt(nt[at],rt);st=1*st^et;var lt=String.fromCharCode(st);it.push(lt)}return it.join("")}},decodeUrl=function(tt){return decrypto(tt,64,25)},beforePageUnload=function(tt){navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)?window.addEventListener("pagehide",tt,!1):window.addEventListener("beforeunload",tt,!1)},getIframeUrl=function(){try{var tt=JSON.parse(atob(window.name));return tt||void 0}catch{return}},loadScript$5=function(tt,et,rt){var nt=document.createElement("script");nt.src=tt,nt.onerror=function(){rt(tt)},nt.onload=function(){et()},document.getElementsByTagName("head")[0].appendChild(nt)},isSupVisChange=function(){var tt=0;return["hidden","msHidden","webkitHidden"].forEach(function(et){document[et]!==void 0&&(tt=1)}),tt},selfAdjust=function(tt,et){tt===void 0&&(tt=function(){}),et===void 0&&(et=1e3);var rt,nt=Date.now()+et;return rt=window.setTimeout(function it(){var ot=Date.now()-nt;tt(),nt+=et,rt=window.setTimeout(it,Math.max(0,et-ot))},et),function(){window.clearTimeout(rt)}},stringify$4=function(tt,et,rt){et===void 0&&(et=""),rt===void 0&&(rt={});var nt=tt;(nt=nt.split("#")[0].split("?")[0])[tt.length-1]==="/"&&(nt=nt.substr(0,tt.length-1)),nt=et[0]==="/"?nt.replace(/(https?:\/\/[\w-]+(\.[\w-]+){1,}(:[0-9]{1,5})?)(\/[.\w-]+)*\/?$/,"$1"+et):nt.replace(/(https?:\/\/[\w-]+(\.[\w-]+){1,}(:[0-9]{1,5})?(\/[.\w-]+)*?)(\/[.\w-]+)?\/?$/,"$1/"+et);var it=Object.keys(rt).map(function(ot){return ot+"="+rt[ot]}).join("&");return it.length>0?nt+"?"+it:nt},parseURL=function(tt){var et=document.createElement("a");return et.href=tt,et},parseUrlQuery=function(tt){var et={};try{var rt=parseURL(tt).search;(rt=rt.slice(1)).split("&").forEach(function(nt){var it,ot,at=nt.split("=");at.length&&(it=at[0],ot=at[1]);try{et[it]=decodeURIComponent(ot===void 0?"":ot)}catch{et[it]=ot}})}catch{}return et},hashCode=function(tt){for(var et=0,rt=0,nt=(tt+="").length,it=0;it<nt;it++)((et=31*et+tt.charCodeAt(rt++))>0x7fffffffffff||et<-0x800000000000)&&(et&=0xffffffffffff);return et<0&&(et+=0x7ffffffffffff),et};function createCommonjsModule$4(tt,et){return tt(et={exports:{}},et.exports),et.exports}var js_cookie$4=createCommonjsModule$4(function(tt,et){var rt;rt=function(){function nt(){for(var ot=0,at={};ot<arguments.length;ot++){var st=arguments[ot];for(var lt in st)at[lt]=st[lt]}return at}function it(ot){return ot.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}return function ot(at){function st(){}function lt(ut,dt,ft){if(typeof document<"u"){typeof(ft=nt({path:"/"},st.defaults,ft)).expires=="number"&&(ft.expires=new Date(1*new Date+864e5*ft.expires)),ft.expires=ft.expires?ft.expires.toUTCString():"";try{var pt=JSON.stringify(dt);/^[\{\[]/.test(pt)&&(dt=pt)}catch{}dt=at.write?at.write(dt,ut):encodeURIComponent(String(dt)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),ut=encodeURIComponent(String(ut)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var mt="";for(var ht in ft)ft[ht]&&(mt+="; "+ht,ft[ht]!==!0&&(mt+="="+ft[ht].split(";")[0]));return document.cookie=ut+"="+dt+mt}}function ct(ut,dt){if(typeof document<"u"){for(var ft={},pt=document.cookie?document.cookie.split("; "):[],mt=0;mt<pt.length;mt++){var ht=pt[mt].split("="),gt=ht.slice(1).join("=");dt||gt.charAt(0)!=='"'||(gt=gt.slice(1,-1));try{var vt=it(ht[0]);if(gt=(at.read||at)(gt,vt)||it(gt),dt)try{gt=JSON.parse(gt)}catch{}if(ft[vt]=gt,ut===vt)break}catch{}}return ut?ft[ut]:ft}}return st.set=lt,st.get=function(ut){return ct(ut,!1)},st.getJSON=function(ut){return ct(ut,!0)},st.remove=function(ut,dt){lt(ut,"",nt(dt,{expires:-1}))},st.defaults={},st.withConverter=ot,st}(function(){})},tt.exports=rt()}),Memory=function(){function tt(){this.cache={}}return tt.prototype.setItem=function(et,rt){this.cache[et]=rt},tt.prototype.getItem=function(et){return this.cache[et]},tt.prototype.removeItem=function(et){this.cache[et]=void 0},tt.prototype.getCookie=function(et){this.getItem(et)},tt.prototype.setCookie=function(et,rt){this.setItem(et,rt)},tt}();function isSupportLS(){try{return localStorage.setItem("_ranger-test-key","hi"),localStorage.getItem("_ranger-test-key"),localStorage.removeItem("_ranger-test-key"),!0}catch{return!1}}function isSupportSession(){try{return sessionStorage.setItem("_ranger-test-key","hi"),sessionStorage.getItem("_ranger-test-key"),sessionStorage.removeItem("_ranger-test-key"),!0}catch{return!1}}var local={getItem:function(tt){try{var et=localStorage.getItem(tt),rt=et;try{et&&typeof et=="string"&&(rt=JSON.parse(et))}catch{}return rt||{}}catch{}return{}},setItem:function(tt,et){try{var rt=typeof et=="string"?et:JSON.stringify(et);localStorage.setItem(tt,rt)}catch{}},removeItem:function(tt){try{localStorage.removeItem(tt)}catch{}},getCookie:function(tt,et){try{return js_cookie$4.get(tt,{domain:et||document.domain})}catch{return""}},setCookie:function(tt,et,rt,nt){try{var it=nt||document.domain,ot=+new Date+rt;js_cookie$4.set(tt,et,{expires:new Date(ot),path:"/",domain:it})}catch{}},isSupportLS:isSupportLS()},session={getItem:function(tt){try{var et=sessionStorage.getItem(tt),rt=et;try{et&&typeof et=="string"&&(rt=JSON.parse(et))}catch{}return rt||{}}catch{}return{}},setItem:function(tt,et){try{var rt=typeof et=="string"?et:JSON.stringify(et);sessionStorage.setItem(tt,rt)}catch{}},removeItem:function(tt){try{sessionStorage.removeItem(tt)}catch{}},getCookie:function(tt){this.getItem(tt)},setCookie:function(tt,et){this.setItem(tt,et)},isSupportSession:isSupportSession()},Storage=function(){function tt(et,rt){this._storage=rt&&rt==="session"?session:!et&&local.isSupportLS?local:new Memory}return tt.prototype.getItem=function(et){return this._storage.getItem(et)},tt.prototype.setItem=function(et,rt){this._storage.setItem(et,rt)},tt.prototype.getCookie=function(et,rt){return this._storage.getCookie(et,rt)},tt.prototype.setCookie=function(et,rt,nt,it){this._storage.setCookie(et,rt,nt,it)},tt.prototype.removeItem=function(et){this._storage.removeItem(et)},tt}(),UTM=function(tt,et,rt,nt){var it=new Storage(!1),ot=new Storage(!1,"session"),at=tt?"_tea_utm_cache_"+tt:"_tea_utm_cache",st=tt?"_$utm_from_url_"+tt:"_$utm_from_url",lt={},ct=["tr_shareuser","tr_admaster","tr_param1","tr_param2","tr_param3","tr_param4","$utm_from_url"],ut={ad_id:Number(et.ad_id)||void 0,campaign_id:Number(et.campaign_id)||void 0,creative_id:Number(et.creative_id)||void 0,utm_source:et.utm_source,utm_medium:et.utm_medium,utm_campaign:et.utm_campaign,utm_term:et.utm_term,utm_content:et.utm_content,tr_shareuser:et.tr_shareuser,tr_admaster:et.tr_admaster,tr_param1:et.tr_param1,tr_param2:et.tr_param2,tr_param3:et.tr_param3,tr_param4:et.tr_param4};try{var dt=!1;for(var ft in ut)ut[ft]&&(ct.indexOf(ft)!==-1?(lt.hasOwnProperty("tracer_data")||(lt.tracer_data={}),lt.tracer_data[ft]=ut[ft]):lt[ft]=ut[ft],dt=!0);if(dt)ot.setItem(st,"1"),it.setCookie(at,JSON.stringify(lt),nt,rt);else{var pt=it.getCookie(at,rt);pt&&(lt=JSON.parse(pt))}ot.getItem(st)&&(lt.hasOwnProperty("tracer_data")||(lt.tracer_data={}),lt.tracer_data.$utm_from_url=1)}catch{return ut}return lt},Client=function(){function tt(et,rt,nt){this.appid=et,this.domain=rt,this.userAgent=window.navigator.userAgent,this.appVersion=window.navigator.appVersion,this.cookie_expire=nt}return tt.prototype.init=function(){var et=window.navigator.userAgent,rt=window.navigator.language,nt=document.referrer,it=nt?parseURL(nt).hostname:"",ot=parseUrlQuery(window.location.href),at=/Mobile|htc|mini|Android|iP(ad|od|hone)/.test(this.appVersion)?"wap":"web";this.utm=UTM(this.appid,ot,this.domain,this.cookie_expire);var st=this.browser(),lt=this.os();return{browser:st.browser,browser_version:st.browser_version,platform:at,os_name:lt.os_name,os_version:lt.os_version,userAgent:et,screen_width:window.screen&&window.screen.width,screen_height:window.screen&&window.screen.height,device_model:this.getDeviceModel(lt.os_name),language:rt,referrer:nt,referrer_host:it,utm:this.utm,latest_data:this.last(nt,it)}},tt.prototype.last=function(et,rt){var nt="",it="",ot="",at=location.hostname,st=!1;if(et&&rt&&at!==rt){nt=et,it=rt,st=!0;var lt=parseUrlQuery(et);lt.keyword&&(ot=lt.keyword)}return{$latest_referrer:nt,$latest_referrer_host:it,$latest_search_keyword:ot,isLast:st}},tt.prototype.browser=function(){var et,rt,nt="",it=""+parseFloat(this.appVersion),ot=this.userAgent;return ot.indexOf("Edge")!==-1||ot.indexOf("Edg")!==-1?(nt="Microsoft Edge",ot.indexOf("Edge")!==-1?(et=ot.indexOf("Edge"),it=ot.substring(et+5)):(et=ot.indexOf("Edg"),it=ot.substring(et+4))):(et=ot.indexOf("MSIE"))!==-1?(nt="Microsoft Internet Explorer",it=ot.substring(et+5)):(et=ot.indexOf("Lark"))!==-1?(nt="Lark",it=ot.substring(et+5,et+11)):(et=ot.indexOf("MetaSr"))!==-1?(nt="sougoubrowser",it=ot.substring(et+7,et+10)):ot.indexOf("MQQBrowser")!==-1||ot.indexOf("QQBrowser")!==-1?(nt="qqbrowser",ot.indexOf("MQQBrowser")!==-1?(et=ot.indexOf("MQQBrowser"),it=ot.substring(et+11,et+15)):ot.indexOf("QQBrowser")!==-1&&(et=ot.indexOf("QQBrowser"),it=ot.substring(et+10,et+17))):ot.indexOf("Chrome")!==-1?(et=ot.indexOf("MicroMessenger"))!==-1?(nt="weixin",it=ot.substring(et+15,et+20)):(et=ot.indexOf("360"))!==-1?(nt="360browser",it=ot.substring(ot.indexOf("Chrome")+7)):ot.indexOf("baidubrowser")!==-1||ot.indexOf("BIDUBrowser")!==-1?(ot.indexOf("baidubrowser")!==-1?(et=ot.indexOf("baidubrowser"),it=ot.substring(et+13,et+16)):ot.indexOf("BIDUBrowser")!==-1&&(et=ot.indexOf("BIDUBrowser"),it=ot.substring(et+12,et+15)),nt="baidubrowser"):(et=ot.indexOf("xiaomi"))!==-1?ot.indexOf("openlanguagexiaomi")!==-1?(nt="openlanguage xiaomi",it=ot.substring(et+7,et+13)):(nt="xiaomi",it=ot.substring(et-7,et-1)):(et=ot.indexOf("TTWebView"))!==-1?(nt="TTWebView",it=ot.substring(et+10,et+23)):((et=ot.indexOf("Chrome"))!==-1||(et=ot.indexOf("Chrome"))!==-1)&&(nt="Chrome",it=ot.substring(et+7)):ot.indexOf("Safari")!==-1?(et=ot.indexOf("QQ"))!==-1?(nt="qqbrowser",it=ot.substring(et+10,et+16)):(et=ot.indexOf("Safari"))!==-1&&(nt="Safari",it=ot.substring(et+7),(et=ot.indexOf("Version"))!==-1&&(it=ot.substring(et+8))):(et=ot.indexOf("Firefox"))!==-1?(nt="Firefox",it=ot.substring(et+8)):(et=ot.indexOf("MicroMessenger"))!==-1?(nt="weixin",it=ot.substring(et+15,et+20)):(et=ot.indexOf("QQ"))!==-1&&(nt="qqbrowser",it=ot.substring(et+3,et+8)),(rt=it.indexOf(";"))!==-1&&(it=it.substring(0,rt)),(rt=it.indexOf(" "))!==-1&&(it=it.substring(0,rt)),(rt=it.indexOf(")"))!==-1&&(it=it.substring(0,rt)),{browser:nt,browser_version:it}},tt.prototype.os=function(){for(var et="",rt="",nt=[{s:"Windows 10",r:/(Windows 10.0|Windows NT 10.0|Windows NT 10.1)/},{s:"Windows 8.1",r:/(Windows 8.1|Windows NT 6.3)/},{s:"Windows 8",r:/(Windows 8|Windows NT 6.2)/},{s:"Windows 7",r:/(Windows 7|Windows NT 6.1)/},{s:"Android",r:/Android/},{s:"Sun OS",r:/SunOS/},{s:"Linux",r:/(Linux|X11)/},{s:"iOS",r:/(iPhone|iPad|iPod)/},{s:"Mac OS X",r:/Mac OS X/},{s:"Mac OS",r:/(MacPPC|MacIntel|Mac_PowerPC|Macintosh)/}],it=0;it<nt.length;it++){var ot=nt[it];if(ot.r.test(this.userAgent)){(et=ot.s)==="Mac OS X"&&this.isNewIpad()&&(et="iOS");break}}var at=function(ut,dt){var ft=ut.exec(dt);return ft&&ft[1]?ft[1]:""},st=function(ut,dt){var ft=RegExp("(?:^|[^A-Z0-9-_]|[^A-Z0-9-]_|sprd-)(?:"+ut+")","i").exec(dt);return ft?ft.slice(1)[0]:""};/Windows/.test(et)&&(rt=at(/Windows (.*)/,et),et="windows");var lt,ct;switch(et){case"Mac OS X":rt=st("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent),et="mac";break;case"Android":lt=this.userAgent,(ct=at(/Android ([\.\_\d]+)/,lt))||(ct=at(/Android\/([\.\_\d]+)/,lt)),rt=ct,et="android";break;case"iOS":rt=this.isNewIpad()?st("Mac[ +]OS[ +]X(?:[ /](?:Version )?(\\d+(?:[_\\.]\\d+)+))?",this.userAgent):(rt=/OS (\d+)_(\d+)_?(\d+)?/.exec(this.appVersion))?rt[1]+"."+rt[2]+"."+(0|rt[3]):"",et="ios"}return{os_name:et,os_version:rt}},tt.prototype.getDeviceModel=function(et){var rt="";try{if(et==="android")navigator.userAgent.split(";").forEach(function(ot){ot.indexOf("Build/")>-1&&(rt=ot.slice(0,ot.indexOf("Build/")))});else if(et==="ios"||et==="mac"||et==="windows")if(this.isNewIpad())rt="iPad";else{var nt=navigator.userAgent.replace("Mozilla/5.0 (",""),it=nt.indexOf(";");rt=nt.slice(0,it)}}catch{return rt.trim()}return rt.trim()},tt.prototype.isNewIpad=function(){return this.userAgent!==void 0&&navigator.platform==="MacIntel"&&typeof navigator.maxTouchPoints=="number"&&navigator.maxTouchPoints>1},tt}(),LOG;LOG={cn:"1fz22z22z1nz21z4mz4bz4bz1kz1az21z4az28z1gz1hz1gz1cz18z1nz1gz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz21z1ez18z1jz1gz49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz1kz18z1jz1gz24z18z49z1kz1az21z4az19z27z22z1cz1mz24z1cz20z21z1cz18z4az1az1mz1k"};var LOG_URL=LOG,SDK_VERSION$5="5.0.23_3",VISUAL_EDITOR_RANGERS="https://lf-cdn-tos.bytescm.com/obj/static/log-sdk/collect/visual-editor-rangers.js",VISUAL_AB_CORE="https://lf-cdn-tos.bytescm.com/obj/static/log-sdk/collect/visual-ab-core.js",VISUAL_AB_LOADER="https://lf-cdn-tos.bytescm.com/obj/static/log-sdk/collect/visual-ab-loader.js",HOT_PIC_URL="https://lf-cdn-tos.bytescm.com/obj/static/log-sdk/collect/heatmap-core",VISUAL_URL_INSPECTOR="https://lf3-data.volccdn.com/obj/data-static/log-sdk/collect/tester-event-inspector",undef=void 0,date=new Date,timeZoneMin=date.getTimezoneOffset(),timezone=parseInt(""+-timeZoneMin/60,10),tz_offset=60*timeZoneMin,WEBID_URL="/webid",TOB_URL="/tobid",REPORT_URL="/list",COOKIE_EXPIRE=6048e5,ConfigManager=function(){function tt(et){this.is_first_time=!0,this.configPersist=!1,this.initConfig=et;var rt=new Client(et.app_id,et.cookie_domain||"",et.cookie_expire||COOKIE_EXPIRE).init(),nt="__tea_cache_first_"+et.app_id;this.configKey="__tea_cache_config_"+et.app_id,this.sessionStorage=new Storage(!1,"session"),this.localStorage=new Storage(!1,"local"),et.configPersist&&(this.configPersist=!0,this.storage=et.configPersist===1?this.sessionStorage:this.localStorage),this.localStorage.getItem(nt)?this.is_first_time=!1:(this.is_first_time=!0,this.localStorage.setItem(nt,"1")),this.envInfo={user:{user_unique_id:undef,user_type:undef,user_id:undef,user_is_auth:undef,user_is_login:undef,device_id:undef,web_id:undef,ip_addr_id:undef},header:{app_id:undef,app_name:undef,app_install_id:undef,install_id:undef,app_package:undef,app_channel:undef,app_version:undef,os_name:rt.os_name,os_version:rt.os_version,device_model:rt.device_model,ab_client:undef,traffic_type:undef,client_ip:undef,device_brand:undef,os_api:undef,access:undef,language:rt.language,region:undef,app_language:undef,app_region:undef,ab_version:undef,creative_id:rt.utm.creative_id,ad_id:rt.utm.ad_id,campaign_id:rt.utm.campaign_id,log_type:undef,rnd:undef,platform:rt.platform,sdk_version:SDK_VERSION$5,sdk_lib:"js",province:undef,city:undef,timezone,tz_offset,tz_name:undef,sim_region:undef,carrier:undef,resolution:rt.screen_width+"x"+rt.screen_height,browser:rt.browser,browser_version:rt.browser_version,referrer:rt.referrer,referrer_host:rt.referrer_host,width:rt.screen_width,height:rt.screen_height,screen_width:rt.screen_width,screen_height:rt.screen_height,utm_term:rt.utm.utm_term,utm_content:rt.utm.utm_content,utm_source:rt.utm.utm_source,utm_medium:rt.utm.utm_medium,utm_campaign:rt.utm.utm_campaign,tracer_data:JSON.stringify(rt.utm.tracer_data),custom:{},wechat_unionid:undef,wechat_openid:undef}},this.ab_version="",this.evtParams={},this.reportErrorCallback=function(){},this.initDomain()}return tt.prototype.initDomain=function(){var et=this.initConfig.channel_domain;if(et)this.domain=et;else{var rt=this.initConfig.channel;this.domain=decodeUrl(LOG_URL[rt])}},tt.prototype.setDomain=function(et){this.domain=et},tt.prototype.getDomain=function(){return this.domain},tt.prototype.setAbVersion=function(et){this.ab_version=et},tt.prototype.getAbVersion=function(){return this.ab_version},tt.prototype.getUrl=function(et){var rt="";switch(et){case"event":rt=this.initConfig.report_url||REPORT_URL;break;case"webid":rt=WEBID_URL;break;case"tobid":rt=TOB_URL}var nt="";return this.initConfig.caller&&(nt="?sdk_version="+SDK_VERSION$5+"&sdk_name=web&app_id="+this.initConfig.app_id+"&caller="+this.initConfig.caller),""+this.getDomain()+rt+nt},tt.prototype.set=function(et){var rt=this;Object.keys(et).forEach(function(nt){if(et[nt]!==void 0&&et[nt]!==null||rt.delete(nt),nt==="evtParams")rt.evtParams=__assign$6({},rt.evtParams||{},et.evtParams||{});else if(nt==="_staging_flag")rt.evtParams=__assign$6({},rt.evtParams||{},{_staging_flag:et._staging_flag});else if(nt==="reportErrorCallback"&&typeof et[nt]=="function")rt.reportErrorCallback=et[nt];else{var it="",ot="";if(nt.indexOf(".")>-1){var at=nt.split(".");it=at[0],ot=at[1]}it?it==="user"||it==="header"?rt.envInfo[it][ot]=et[nt]:rt.envInfo.header.custom[ot]=et[nt]:rt.envInfo.user.hasOwnProperty(nt)?["user_type","ip_addr_id"].indexOf(nt)>-1?rt.envInfo.user[nt]=et[nt]?Number(et[nt]):et[nt]:["user_id","web_id","user_unique_id"].indexOf(nt)>-1?rt.envInfo.user[nt]=et[nt]?String(et[nt]):et[nt]:["user_is_auth","user_is_login"].indexOf(nt)>-1?rt.envInfo.user[nt]=Boolean(et[nt]):nt==="device_id"&&(rt.envInfo.user[nt]=et[nt]):rt.envInfo.header.hasOwnProperty(nt)?rt.envInfo.header[nt]=et[nt]:rt.envInfo.header.custom[nt]=et[nt]}})},tt.prototype.get=function(et){try{return et?et==="evtParams"?this.evtParams:et==="reportErrorCallback"?this[et]:this.envInfo.user.hasOwnProperty(et)?this.envInfo.user[et]:this.envInfo.header.hasOwnProperty(et)?this.envInfo.header[et]:JSON.parse(JSON.stringify(this.envInfo[et])):JSON.parse(JSON.stringify(this.envInfo))}catch{}},tt.prototype.setStore=function(et){try{if(!this.configPersist)return;var rt=this.storage.getItem(this.configKey)||{};if(rt&&Object.keys(et).length){var nt=Object.assign(et,rt);this.storage.setItem(this.configKey,nt)}}catch{}},tt.prototype.getStore=function(){try{if(!this.configPersist)return null;var et=this.storage.getItem(this.configKey);return et&&Object.keys(et).length?et:null}catch{return null}},tt.prototype.delete=function(et){try{if(!this.configPersist)return;var rt=this.storage.getItem(this.configKey);rt&&rt.hasOwnProperty(et)&&(delete rt[et],this.storage.setItem(this.configKey,rt))}catch{}},tt}(),Logger$4=function(){function tt(et,rt){this.isLog=rt||!1,this.name=et||""}return tt.prototype.info=function(et){this.isLog&&""+this.name+et},tt.prototype.warn=function(et){this.isLog&&console.warn("["+this.name+"] "+et)},tt.prototype.error=function(et){this.isLog&&console.error("["+this.name+"] "+et)},tt.prototype.throw=function(et){throw this.error(this.name),new Error(et)},tt}(),Types;(function(tt){tt.Init="init",tt.Config="config",tt.Start="start",tt.Ready="ready",tt.TokenComplete="token-complete",tt.TokenStorage="token-storage",tt.TokenFetch="token-fetch",tt.TokenError="token-error",tt.ConfigUuid="config-uuid",tt.ConfigWebId="config-webid",tt.ConfigDomain="config-domain",tt.CustomWebId="custom-webid",tt.TokenChange="token-change",tt.TokenReset="token-reset",tt.ConfigTransform="config-transform",tt.EnvTransform="env-transform",tt.SessionReset="session-reset",tt.SessionResetTime="session-reset-time",tt.Event="event",tt.Events="events",tt.EventNow="event-now",tt.CleanEvents="clean-events",tt.BeconEvent="becon-event",tt.SubmitBefore="submit-before",tt.SubmitScuess="submit-scuess",tt.SubmitAfter="submit-after",tt.SubmitError="submit-error",tt.SubmitVerify="submit-verify",tt.Stay="stay",tt.ResetStay="reset-stay",tt.StayReady="stay-ready",tt.SetStay="set-stay",tt.RouteChange="route-change",tt.RouteReady="route-ready",tt.Ab="ab",tt.AbVar="ab-var",tt.AbAllVars="ab-all-vars",tt.AbConfig="ab-config",tt.AbExternalVersion="ab-external-version",tt.AbVersionChangeOn="ab-version-change-on",tt.AbVersionChangeOff="ab-version-change-off",tt.AbOpenLayer="ab-open-layer",tt.AbCloseLayer="ab-close-layer",tt.AbReady="ab-ready",tt.AbComplete="ab-complete",tt.Profile="profile",tt.ProfileSet="profile-set",tt.ProfileSetOnce="profile-set-once",tt.ProfileUnset="profile-unset",tt.ProfileIncrement="profile-increment",tt.ProfileAppend="profile-append",tt.ProfileClear="profile-clear",tt.Autotrack="autotrack",tt.AutotrackReady="autotrack-ready",tt.CepReady="cep-ready",tt.TracerReady="tracer-ready"})(Types||(Types={}));var Types$1=Types,AppBridge=function(){function tt(rt){this.native=rt}var et=tt.prototype;return et.bridgeInject=function(){try{return!!this.native&&!!AppLogBridge}catch{return!1}},et.bridgeReady=function(){var rt=this;return new Promise(function(nt,it){try{rt.bridgeInject()?AppLogBridge.hasStarted(function(ot){""+ot,ot?nt(!0):it(!1)}):it(!1)}catch(ot){""+JSON.stringify(ot.stack),it(!1)}})},et.setConfig=function(rt){var nt=this;try{Object.keys(rt).forEach(function(it){it==="user_unique_id"?nt.setUserUniqueId(rt[it]):config[it]?nt.addHeaderInfo(it,rt[it]):nt.removeHeaderInfo(it)})}catch{console.error("setConfig error")}},et.setUserUniqueId=function(rt){try{AppLogBridge.setUserUniqueId(rt)}catch{console.error("setUserUniqueId error")}},et.addHeaderInfo=function(rt,nt){try{AppLogBridge.addHeaderInfo(rt,nt)}catch{console.error("addHeaderInfo error")}},et.setHeaderInfo=function(rt){try{AppLogBridge.setHeaderInfo(JSON.stringify(rt))}catch{console.error("setHeaderInfo error")}},et.removeHeaderInfo=function(rt){try{AppLogBridge.removeHeaderInfo(rt)}catch{console.error("removeHeaderInfo error")}},et.reportPv=function(rt){this.onEventV3("predefine_pageview",rt)},et.onEventV3=function(rt,nt){try{AppLogBridge.onEventV3(rt,nt)}catch{console.error("onEventV3 error")}},et.profileSet=function(rt){try{AppLogBridge.profileSet(rt)}catch{console.error("profileSet error")}},et.profileSetOnce=function(rt){try{AppLogBridge.profileSetOnce(rt)}catch{console.error("profileSetOnce error")}},et.profileIncrement=function(rt){try{AppLogBridge.profileIncrement(rt)}catch{console.error("profileIncrement error")}},et.profileUnset=function(rt){try{AppLogBridge.profileUnset(rt)}catch{console.error("profileUnset error")}},et.profileAppend=function(rt){try{AppLogBridge.profileAppend(rt)}catch{console.error("profileAppend error")}},tt}(),ERROR={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001,TIMEOUT:5005};function fetch$1(tt,et,rt,nt,it,ot,at,st){try{var lt=new XMLHttpRequest,ct=st||"POST";lt.open(ct,""+tt,!0),lt.setRequestHeader("Content-Type","application/json; charset=utf-8"),at&&lt.setRequestHeader("X-MCS-AppKey",""+at),nt&&(lt.withCredentials=!0),lt.onload=function(){if(it){var ut=null;if(lt.responseText){try{ut=JSON.parse(lt.responseText)}catch{ut={}}it(ut,et)}}},rt&&(lt.timeout=rt,lt.ontimeout=function(){ot&&ot(et,ERROR.TIMEOUT)}),lt.onerror=function(){lt.abort(),ot&&ot(et,ERROR.XHR_ON)},lt.send(JSON.stringify(et))}catch{}}var GIF_URL="/gif",ERROR$1={NO_URL:4001,IMG_ON:4e3,IMG_CATCH:4002,BEACON_FALSE:4003,XHR_ON:500,RESPONSE:5001,TIMEOUT:5005},isSupportBeacon=function(){return!(!window.navigator||!window.navigator.sendBeacon)},encodePayload=function(tt){var et="";for(var rt in tt)tt.hasOwnProperty(rt)&&tt[rt]!==void 0&&(et+="&"+rt+"="+encodeURIComponent(JSON.stringify(tt[rt])));return et=et[0]==="&"?et.slice(1):et},sendByImg=function(tt,et,rt,nt){try{var it=tt.match(/\/v\d\//),ot="";ot=it?it[0]:tt.indexOf("/v1/")!==-1?"/v1/":"/v2/";var at=tt.split(ot)[0];if(!at)return void nt(tt,et,ERROR$1.NO_URL);et.forEach(function(st){var lt=encodePayload(st),ct=new Image(1,1);ct.onload=function(){ct=null,rt&&rt()},ct.onerror=function(){ct=null,nt&&nt(tt,et,ERROR$1.IMG_ON)},ct.src=""+at+GIF_URL+"?"+lt})}catch(st){nt&&nt(tt,et,ERROR$1.IMG_CATCH,st.message)}},request$1=function(tt,et,rt,nt,it,ot,at){var st=window.navigator.userAgent;if(window.navigator.appName.indexOf("Microsoft Internet Explorer")===-1||st.indexOf("MSIE 8.0")===-1&&st.indexOf("MSIE 9.0")===-1){if(at)return isSupportBeacon()?void(window.navigator.sendBeacon(tt,JSON.stringify(et))?it():ot(tt,et,ERROR$1.BEACON_FALSE)):void sendByImg(tt,et,it,ot)}else sendByImg(tt,et,it,ot);fetch$1(tt,et,rt,nt,it,ot)},Event$1=function(){function tt(){this.eventLimit=50,this.enable_ttwebid=!1,this.eventCache=[],this.beconEventCache=[]}return tt.prototype.apply=function(et,rt){var nt=this;this.collect=et,this.config=rt,this.configManager=et.configManager,this.cacheStorgae=new Storage(!0),this.localStorage=new Storage(!1),this.maxReport=rt.max_report||10,this.reportTime=rt.reportTime||30,this.timeout=rt.timeout||1e5,this.enable_ttwebid=rt.enable_ttwebid,this.reportUrl=this.configManager.getUrl("event"),this.eventKey="__tea_cache_events_"+this.configManager.get("app_id"),this.beconKey="__tea_cache_events_becon_"+this.configManager.get("app_id"),this.abKey="__tea_sdk_ab_version_"+this.configManager.get("app_id"),this.collect.on(Types$1.Ready,function(){nt.reportAll(!1)}),this.collect.on(Types$1.ConfigDomain,function(){nt.reportUrl=nt.configManager.getUrl("event")}),this.collect.on(Types$1.Event,function(it){nt.event(it)}),this.collect.on(Types$1.BeconEvent,function(it){nt.beconEvent(it)}),this.collect.on(Types$1.CleanEvents,function(){nt.reportAll(!1)}),this.linster()},tt.prototype.linster=function(){var et=this;window.addEventListener("unload",function(){et.reportAll(!0)},!1),beforePageUnload(function(){et.reportAll(!0)}),document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&et.reportAll(!0)},!1)},tt.prototype.reportAll=function(et){this.report(et),this.reportBecon()},tt.prototype.event=function(et){var rt=this;try{var nt=__spread(et,this.cacheStorgae.getItem(this.eventKey)||[]);if(this.cacheStorgae.setItem(this.eventKey,nt),this.reportTimeout&&clearTimeout(this.reportTimeout),nt.length>=this.maxReport)this.report(!1);else{var it=this.reportTime;this.reportTimeout=setTimeout(function(){rt.report(!1),rt.reportTimeout=null},it)}}catch{}},tt.prototype.beconEvent=function(et){var rt=__spread(et,this.cacheStorgae.getItem(this.beconKey)||[]);this.cacheStorgae.setItem(this.beconKey,rt),this.collect.destroyInstance||this.collect.tokenManager.getReady()&&this.collect.sdkReady&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(rt)),!0))},tt.prototype.reportBecon=function(){var et=this.cacheStorgae.getItem(this.beconKey)||[];et&&et.length&&(this.cacheStorgae.removeItem(this.beconKey),this.send(this.split(this.merge(et)),!0))},tt.prototype.report=function(et){if(!this.collect.destroyInstance&&this.collect.tokenManager.getReady()&&this.collect.sdkReady){var rt=this.cacheStorgae.getItem(this.eventKey)||[];rt.length&&(this.cacheStorgae.removeItem(this.eventKey),this.sliceEvent(rt,et))}},tt.prototype.sliceEvent=function(et,rt){if(et.length>this.eventLimit)for(var nt=0;nt<et.length;nt+=this.eventLimit){var it;it=et.slice(nt,nt+this.eventLimit);var ot=this.split(this.merge(it));this.send(ot,rt)}else ot=this.split(this.merge(et)),this.send(ot,rt)},tt.prototype.merge=function(et){var rt=this,nt=this.configManager.get(),it=nt.header,ot=nt.user;it.custom=JSON.stringify(it.custom);var at=this.configManager.get("evtParams"),st=et.map(function(ut){Object.keys(at).length&&(ut.params=__assign$6({},at,ut.params));var dt=rt.localStorage.getItem(rt.abKey);return dt&&dt.uuid&&dt.uuid===ot.user_unique_id&&rt.configManager.getAbVersion()&&(ut.ab_sdk_version=rt.configManager.getAbVersion()),ut.session_id=rt.collect.sessionManager.getSessionId(),ut.params=JSON.stringify(ut.params),ut}),lt=JSON.parse(JSON.stringify({events:st,user:ot,header:it}));lt.local_time=Math.floor(Date.now()/1e3),lt.user_unique_type=this.config.enable_ttwebid?this.config.user_unique_type:void 0;var ct=[];return ct.push(lt),ct},tt.prototype.split=function(et){return et=et.map(function(rt){var nt=[];return nt.push(rt),nt})},tt.prototype.send=function(et,rt){var nt=this;et.length&&et.forEach(function(it){try{var ot=JSON.parse(JSON.stringify(it));nt.config.filter&&((ot=nt.config.filter(ot))||console.warn("filter must return data !!")),nt.collect.eventFilter&&ot&&((ot=nt.collect.eventFilter(ot))||console.warn("filterEvent api must return data !!"));var at=ot||it;nt.collect.emit(Types$1.SubmitBefore,at),nt.collect.emit(Types$1.SubmitVerify,at),request$1(nt.reportUrl,at,nt.timeout,nt.enable_ttwebid,function(st,lt){st&&st.e!==0?nt.collect.emit(Types$1.SubmitError,{type:"f_data",eventData:lt,errorCode:st.e,response:st}):nt.collect.emit(Types$1.SubmitScuess,{eventData:lt,res:st})},function(st,lt){nt.configManager.get("reportErrorCallback")(st,lt),nt.collect.emit(Types$1.SubmitError,{type:"f_net",eventData:st,errorCode:lt})},rt),nt.collect.emit(Types$1.SubmitAfter,at)}catch(st){console.warn("something error, "+JSON.stringify(st.stack))}})},tt}(),b$1=function tt(et){return et?(et^16*Math.random()>>et/4).toString(10):([1e7]+-1e3+-4e3+-8e3+-1e11).replace(/[018]/g,tt)},localWebId=function(){return b$1().replace(/-/g,"").slice(0,19)},Token=function(){function tt(){this.cacheToken={},this.enableCookie=!1,this.enable_ttwebid=!1,this.enableCustomWebid=!1}return tt.prototype.apply=function(et,rt){var nt=this;this.collect=et,this.config=rt,this.configManager=this.collect.configManager,this.storage=new Storage(!1),this.tokenKey="__tea_cache_tokens_"+rt.app_id,this.enable_ttwebid=rt.enable_ttwebid,this.enableCustomWebid=rt.enable_custom_webid,this.collect.on(Types$1.ConfigUuid,function(it){nt.setUuid(it)}),this.collect.on(Types$1.ConfigWebId,function(it){nt.setWebId(it)}),this.enableCookie=rt.cross_subdomain,this.expiresTime=rt.cookie_expire||6048e5,this.cookieDomain=rt.cookie_domain||"",this.checkStorage()},tt.prototype.checkStorage=function(){var et=this;if(this.enableCookie){var rt=this.storage.getCookie(this.tokenKey,this.cookieDomain);this.cacheToken=rt&&typeof rt=="string"?JSON.parse(rt):{}}else this.cacheToken=this.storage.getItem(this.tokenKey)||{};this.tokenType=this.cacheToken&&this.cacheToken._type_?this.cacheToken._type_:"default",this.tokenType!=="custom"||this.enableCustomWebid?this.enableCustomWebid?this.collect.on(Types$1.CustomWebId,function(){et.tokenReady=!0,et.collect.emit(Types$1.TokenComplete)}):this.checkEnv()||(this.enable_ttwebid?this.completeTtWid(this.cacheToken):this.check()):this.remoteWebid()},tt.prototype.check=function(){this.cacheToken&&this.cacheToken.web_id?this.complete(this.cacheToken):this.config.disable_webid?this.complete({web_id:localWebId(),user_unique_id:this.configManager.get("user_unique_id")||localWebId()}):this.remoteWebid()},tt.prototype.checkEnv=function(){if(window.navigator.userAgent.indexOf("miniProgram")!==-1){var et=parseUrlQuery(window.location.href);if(et&&et.Web_ID){var rt=this.configManager.get("user_unique_id");return this.complete({web_id:""+et.Web_ID,env_uuid:rt}),!0}return!1}return!1},tt.prototype.remoteWebid=function(){var et=this;fetch$1(this.configManager.getUrl("webid"),{app_key:this.config.app_key,app_id:this.config.app_id,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer,user_unique_id:""},3e3,!1,function(rt){rt&&rt.e===0?et.complete({web_id:et.configManager.get("web_id")||rt.web_id,user_unique_id:et.configManager.get("user_unique_id")||rt.web_id}):(et.collect.emit(Types$1.TokenError),console.warn("[]appid: "+et.config.app_id+" webid error, init error~"))},function(){et.collect.emit(Types$1.TokenError),console.warn("[]appid: "+et.config.app_id+", get webid error, init error~")})},tt.prototype.complete=function(et){var rt=et.web_id,nt=et.user_unique_id;et.timestamp=Date.now(),this.collect.configManager.set({web_id:rt,user_unique_id:nt}),this.setStorage(et),this.tokenReady=!0,this.collect.emit(Types$1.TokenComplete)},tt.prototype.completeTtWid=function(et){var rt=et.user_unique_id||"",nt=this.configManager.get("user_unique_id");(nt||rt)&&this.configManager.set({user_unique_id:nt||rt}),this.setStorage(et),this.tokenReady=!0,this.collect.emit(Types$1.TokenComplete)},tt.prototype.setUuid=function(et){if(et){var rt=String(et),nt=this.configManager.get("user_unique_id"),it=this.cacheToken&&this.cacheToken.user_unique_id;if(rt===nt&&rt===it)return;this.configManager.set({user_unique_id:rt}),this.cacheToken?this.cacheToken.user_unique_id=rt:(this.cacheToken={},this.cacheToken.user_unique_id=rt),this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken),this.collect.emit(Types$1.TokenChange,"uuid"),this.collect.emit(Types$1.SessionReset)}else this.clearUuid()},tt.prototype.clearUuid=function(){this.config.enable_ttwebid||this.configManager.get("web_id")&&(this.configManager.set({user_unique_id:this.configManager.get("web_id")}),this.cacheToken&&this.cacheToken.web_id&&(this.cacheToken.user_unique_id=this.cacheToken.web_id,this.cacheToken.timestamp=Date.now(),this.setStorage(this.cacheToken)),this.collect.emit(Types$1.TokenReset))},tt.prototype.setWebId=function(et){if(et&&!this.config.enable_ttwebid){this.cacheToken&&this.cacheToken.web_id?this.cacheToken.web_id!==et&&(this.cacheToken.user_unique_id=this.cacheToken.web_id===this.cacheToken.user_unique_id?et:this.cacheToken.user_unique_id,this.cacheToken.web_id=et):(this.cacheToken={},this.cacheToken.web_id=et,this.cacheToken.user_unique_id=et),this.cacheToken.timestamp=Date.now();var rt=this.configManager.get("web_id"),nt=this.configManager.get("user_unique_id");nt&&nt!==rt||(this.configManager.set({user_unique_id:et}),this.collect.emit(Types$1.TokenChange,"uuid")),rt!==et&&(this.configManager.set({web_id:et}),this.collect.emit(Types$1.TokenChange,"webid")),this.setStorage(this.cacheToken)}},tt.prototype.setStorage=function(et){et._type_=this.enableCustomWebid?"custom":"default",delete et["diss".split("").reverse().join("")],this.enableCookie||this.enable_ttwebid?this.storage.setCookie(this.tokenKey,et,this.expiresTime,this.cookieDomain):this.storage.setItem(this.tokenKey,et),this.cacheToken=et},tt.prototype.getReady=function(){return this.tokenReady},tt.prototype.getTobId=function(){var et=this,rt=this.configManager.getUrl("tobid");return new Promise(function(nt){fetch$1(rt,{app_id:et.config.app_id,user_unique_id:et.configManager.get("user_unique_id"),web_id:et.configManager.get("web_id")},3e4,et.enable_ttwebid,function(it){it&&it.e===0?nt(it.tobid):nt("")},function(){nt("")})})},tt}(),sessionId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(tt){var et=16*Math.random()|0;return(tt==="x"?et:3&et|8).toString(16)})},Session=function(){function tt(){}return tt.prototype.apply=function(et,rt){var nt=this;this.collect=et,this.storage=new Storage(!1,"session"),this.sessionKey="__tea_session_id_"+rt.app_id,this.expireTime=rt.expireTime||18e5,this.disableSession=rt.disable_session,this.disableSession||(this.setSessionId(),this.collect.on(Types$1.SessionReset,function(){nt.resetSessionId()}),this.collect.on(Types$1.SessionResetTime,function(){nt.updateSessionIdTime()}))},tt.prototype.updateSessionIdTime=function(){var et=this.storage.getItem(this.sessionKey);if(et&&et.sessionId){var rt=et.timestamp;Date.now()-rt>this.expireTime?et={sessionId:sessionId(),timestamp:Date.now()}:et.timestamp=Date.now(),this.storage.setItem(this.sessionKey,et),this.resetExpTime()}},tt.prototype.setSessionId=function(){var et=this,rt=this.storage.getItem(this.sessionKey);rt&&rt.sessionId?rt.timestamp=Date.now():rt={sessionId:sessionId(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,rt),this.sessionExp=setInterval(function(){et.checkEXp()},this.expireTime)},tt.prototype.getSessionId=function(){var et=this.storage.getItem(this.sessionKey);return this.disableSession?"":et&&et.sessionId?et.sessionId:""},tt.prototype.resetExpTime=function(){var et=this;this.sessionExp&&(clearInterval(this.sessionExp),this.sessionExp=setInterval(function(){et.checkEXp()},this.expireTime))},tt.prototype.resetSessionId=function(){var et={sessionId:sessionId(),timestamp:Date.now()};this.storage.setItem(this.sessionKey,et)},tt.prototype.checkEXp=function(){var et=this.storage.getItem(this.sessionKey);et&&et.sessionId&&Date.now()-et.timestamp+30>=this.expireTime&&(et={sessionId:sessionId(),timestamp:Date.now()},this.storage.setItem(this.sessionKey,et))},tt}(),AutoBase=function(tt){var et=tt.app_id,rt=tt.channel,nt=tt.onTokenReady,it=LOG_URL[rt]+"/webid",ot=new Storage(!1),at="__tea_cache_tokens_"+et,st=ot.getItem(at);st&&st.web_id?nt(st.web_id):request$1(it,{app_key:"",app_id:et,url:location.href,user_agent:window.navigator.userAgent,referer:document.referrer},3e3,!1,function(lt){if(lt&&lt.e===0){nt(lt.web_id);var ct={web_id:lt.web_id,user_unique_id:lt.web_id,timestamp:Date.now()};ot.setItem(at,ct)}else nt("")},function(){nt("")},!0)},pluginExtendList={autotrack:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/autotrack.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/autotrack.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/autotrack.js"},object:"LogAutoTrack"},ab:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/ab.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/ab.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/ab.js"},object:"LogAb"},stay:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/stay.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/stay.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/stay.js"},object:"LogStay"},route:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/route.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/route.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/route.js"},object:"LogRoute"},cep:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/cep.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/cep.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/cep.js"},object:"LogCep"},tracer:{src:{cn:"https://lf3-cdn-tos.bytescm.com/obj/static/log-sdk/collect/5.0/plugin/tracer.js",sg:"https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/log-sdk/collect/5.0/plugin/tracer.js",va:"https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/log-sdk/collect/5.0/plugin/tracer.js"},object:"LogTracer"}},sdk_type="base";sdk_type="full";var Collector=function(){function tt(et){this.disableAutoPageView=!1,this.bridgeReport=!1,this.staging=!1,this.pluginInstances=[],this.sended=!1,this.started=!1,this.destroyInstance=!1,this.sdkReady=!1,this.adapters={},this.name=et,this.hook=new Hook,this.logger=new Logger$4(et),this.remotePlugin=new Map,this.Types=Types$1,this.adapters.fetch=fetch$1,this.adapters.storage=Storage}return tt.usePlugin=function(et,rt,nt){if(rt){for(var it=!1,ot=0,at=tt.plugins.length;ot<at;ot++)if(tt.plugins[ot].name===rt){tt.plugins[ot].plugin=et,tt.plugins[ot].options=nt||{},it=!0;break}it||tt.plugins.push({name:rt,plugin:et,options:nt})}else tt.plugins.push({plugin:et})},tt.prototype.usePlugin=function(et,rt,nt){et&&(sdk_type==="full"&&pluginExtendList.hasOwnProperty(et)?console.info("your sdk version has "+et+" already ~"):rt?typeof rt=="string"?this.remotePlugin.get(et)||this.remotePlugin.set(et,{src:rt,call:nt}):this.remotePlugin.get(et)||this.remotePlugin.set(et,{instance:rt}):this.remotePlugin.get(et)||this.remotePlugin.set(et,"sdk"))},tt.prototype.init=function(et){var rt=this;this.inited||(et&&isObject$7(et)?et.app_id&&isNumber$6(et.app_id)?!et.app_key||isString$6(et.app_key)?(et.channel_domain||["cn","sg","va"].indexOf(et.channel)!==-1||(console.warn("channel must be `cn`, `sg`,`va` !!!"),et.channel="cn"),this.appBridge=new AppBridge(et.Native),this.bridgeReport=this.appBridge.bridgeInject(),this.configManager=new ConfigManager(et),this.initConfig=et,this.bridgeReport||(this.configManager.set({app_id:et.app_id}),this.eventManager=new Event$1,this.tokenManager=new Token,this.sessionManager=new Session,Promise.all([new Promise(function(nt){rt.once(Types$1.TokenComplete,function(){nt(!0)})}),new Promise(function(nt){rt.once(Types$1.Start,function(){nt(!0)})})]).then(function(){try{tt.plugins.reduce(function(nt,it){var ot=it.plugin,at=it.options,st=Object.assign(rt.initConfig,at),lt=new ot;return lt.apply(rt,st),nt.push(lt),nt},rt.pluginInstances)}catch(nt){""+nt.message}rt.sdkReady=!0,rt.emit(Types$1.Ready),console.info("["+rt.name+"] appid: "+et.app_id+", userInfo:"+JSON.stringify(rt.configManager.get("user"))),console.info("["+rt.name+"] appid: "+et.app_id+", sdk is ready, version is "+SDK_VERSION$5+", you can report now !!!");try{(window.opener||window.parent).postMessage("[tea-sdk]ready","*")}catch{}et.disable_auto_pv||rt.pageView(),rt.on(Types$1.TokenChange,function(nt){nt==="webid"&&rt.pageView(),console.info("["+rt.name+"] appid: "+et.app_id+" token change, new userInfo:"+JSON.stringify(rt.configManager.get("user")))}),rt.on(Types$1.TokenReset,function(){console.info("["+rt.name+"] appid: "+et.app_id+" token reset, new userInfo:"+JSON.stringify(rt.configManager.get("user")))}),rt.on(Types$1.RouteChange,function(nt){nt.init||et.disable_route_report||rt.pageView()})}),this.tokenManager.apply(this,et),this.eventManager.apply(this,et),this.sessionManager.apply(this,et),this.emit(Types$1.Init)),this.inited=!0):console.warn("app_key param is error, must be string, please check!"):console.warn("app_id param is error, must be number, please check!"):console.warn("init params error,please check"))},tt.prototype.config=function(et){if(this.inited)if(et&&isObject$7(et))if(this.bridgeReport)this.appBridge.setConfig(et);else{et._staging_flag&&et._staging_flag===1&&(this.staging=!0),et.disable_auto_pv&&(this.disableAutoPageView=!0,delete et.disable_auto_pv);var rt=__assign$6({},et);if(this.initConfig&&this.initConfig.configPersist){var nt=this.configManager.getStore();nt&&(rt=Object.assign(nt,et)),this.configManager.setStore(et)}rt.web_id,rt.user_unique_id;var it=__rest(rt,["web_id","user_unique_id"]);rt.hasOwnProperty("web_id")&&this.emit(Types$1.ConfigWebId,rt.web_id),rt.hasOwnProperty("user_unique_id")&&this.emit(Types$1.ConfigUuid,rt.user_unique_id),this.configManager.set(it)}else this.logger.warn("config params is error, please check");else this.logger.warn("config must be use after function init")},tt.prototype.setDomain=function(et){this.configManager&&this.configManager.setDomain(et),this.emit(Types$1.ConfigDomain)},tt.prototype.getConfig=function(et){return this.configManager.get(et)},tt.prototype.send=function(){this.start()},tt.prototype.start=function(){this.inited&&!this.sended&&(this.sended=!0,this.emit(Types$1.Start))},tt.prototype.event=function(et,rt){var nt=this;try{if(this.initConfig&&this.initConfig.disable_track_event)return;var it=[];Array.isArray(et)?et.forEach(function(ot){it.push(nt.processEvent(ot[0],ot[1]||{}))}):it.push(this.processEvent(et,rt)),this.bridgeReport?it.forEach(function(ot){var at=ot.event,st=ot.params;nt.appBridge.onEventV3(at,JSON.stringify(st))}):it.length&&(this.emit(Types$1.Event,it),this.emit(Types$1.SessionResetTime))}catch{console.warn("something error, please check")}},tt.prototype.beconEvent=function(et,rt){if(!this.initConfig||!this.initConfig.disable_track_event)if(Array.isArray(et))console.warn("beconEvent not support batch report, please check");else{var nt=[];nt.push(this.processEvent(et,rt||{})),nt.length&&(this.emit(Types$1.BeconEvent,nt),this.emit(Types$1.SessionResetTime))}},tt.prototype.processEvent=function(et,rt){rt===void 0&&(rt={});try{var nt=et;/^event\./.test(et)&&(nt=et.slice(6));var it=rt;typeof it!="object"&&(it={}),it.profile?delete it.profile:it.event_index=getIndex();var ot=void 0;return it.local_ms?(ot=it.local_ms,delete it.local_ms):ot=+new Date,{event:nt,params:it,local_time_ms:ot,is_bav:this.initConfig&&this.initConfig.autotrack?1:0}}catch{return{event:et,params:rt}}},tt.prototype.filterEvent=function(et){this.eventFilter=et},tt.prototype.on=function(et,rt){this.hook.on(et,rt)},tt.prototype.once=function(et,rt){this.hook.once(et,rt)},tt.prototype.off=function(et,rt){this.hook.off(et,rt)},tt.prototype.emit=function(et,rt,nt){this.hook.emit(et,rt,nt)},tt.prototype.set=function(et){this.hook.set(et)},tt.prototype.pageView=function(){this.disableAutoPageView||this.predefinePageView()},tt.prototype.predefinePageView=function(et){et===void 0&&(et={});var rt={title:document.title||location.pathname,url:location.href,url_path:location.pathname,time:Date.now(),referrer:window.document.referrer,$is_first_time:""+this.configManager.is_first_time},nt=__assign$6({},rt,et);this.event("predefine_pageview",nt)},tt.prototype.clearEventCache=function(){this.emit(Types$1.CleanEvents)},tt.prototype.setWebIDviaUnionID=function(et){if(et){var rt=hashCode(et);this.config({web_id:""+rt,wechat_unionid:et}),this.emit(Types$1.CustomWebId)}},tt.prototype.setWebIDviaOpenID=function(et){if(et){var rt=hashCode(et);this.config({web_id:""+rt,wechat_openid:et}),this.emit(Types$1.CustomWebId)}},tt.prototype.resetStayDuration=function(et,rt,nt){et===void 0&&(et=""),rt===void 0&&(rt=""),nt===void 0&&(nt=""),this.emit(Types$1.ResetStay,{url_path:et,title:rt,url:nt},Types$1.Stay)},tt.prototype.resetStayParams=function(et,rt,nt){et===void 0&&(et=""),rt===void 0&&(rt=""),nt===void 0&&(nt=""),this.emit(Types$1.SetStay,{url_path:et,title:rt,url:nt},Types$1.Stay)},tt.prototype.getToken=function(et,rt){var nt=this,it=!1,ot=function(st){if(!it){it=!0;var lt=nt.configManager.get().user;return st&&(lt.tobid=st,lt["diss".split("").reverse().join("")]=st),et(__assign$6({},lt))}},at=function(){nt.tokenManager.getTobId().then(function(st){ot(st)})};this.sdkReady?at():(rt&&setTimeout(function(){ot()},rt),this.on(Types$1.Ready,function(){at()}))},tt.prototype.profileSet=function(et){this.bridgeReport?this.appBridge.profileSet(JSON.stringify(et)):this.emit(Types$1.ProfileSet,et,Types$1.Profile)},tt.prototype.profileSetOnce=function(et){this.bridgeReport?this.appBridge.profileSetOnce(JSON.stringify(et)):this.emit(Types$1.ProfileSetOnce,et,Types$1.Profile)},tt.prototype.profileIncrement=function(et){this.bridgeReport?this.appBridge.profileIncrement(JSON.stringify(et)):this.emit(Types$1.ProfileIncrement,et,Types$1.Profile)},tt.prototype.profileUnset=function(et){this.bridgeReport?this.appBridge.profileUnset(et):this.emit(Types$1.ProfileUnset,et,Types$1.Profile)},tt.prototype.profileAppend=function(et){this.bridgeReport?this.appBridge.profileAppend(JSON.stringify(et)):this.emit(Types$1.ProfileAppend,et,Types$1.Profile)},tt.prototype.setExternalAbVersion=function(et){this.emit(Types$1.AbExternalVersion,typeof et=="string"&&et?(""+et).trim():null,Types$1.Ab)},tt.prototype.getVar=function(et,rt,nt){this.emit(Types$1.AbVar,{name:et,defaultValue:rt,callback:nt},Types$1.Ab)},tt.prototype.getABconfig=function(et,rt){this.emit(Types$1.AbConfig,{param:et,callback:rt},Types$1.Ab)},tt.prototype.getAbSdkVersion=function(){return this.configManager.getAbVersion()},tt.prototype.onAbSdkVersionChange=function(et){var rt=this;return this.emit(Types$1.AbVersionChangeOn,et,Types$1.Ab),function(){rt.emit(Types$1.AbVersionChangeOff,et,Types$1.Ab)}},tt.prototype.offAbSdkVersionChange=function(et){this.emit(Types$1.AbVersionChangeOff,et,Types$1.Ab)},tt.prototype.openOverlayer=function(){this.emit(Types$1.AbOpenLayer,"",Types$1.Ab)},tt.prototype.closeOverlayer=function(){this.emit(Types$1.AbCloseLayer,"",Types$1.Ab)},tt.prototype.getAllVars=function(et){this.emit(Types$1.AbAllVars,et,Types$1.Ab)},tt.prototype.autoInitializationRangers=function(et){AutoBase(et)},tt.prototype.destoryInstace=function(){this.destroyInstance||(this.destroyInstance=!0,this.off(Types$1.TokenComplete))},tt.plugins=[],tt}(),STYLE_ID="__rangers_ab_style__";function openOverlayer(){if(!document.getElementById(STYLE_ID)){var tt="body { opacity: 0 !important; }",et=document.head||document.getElementsByTagName("head")[0],rt=document.createElement("style");rt.id=STYLE_ID,rt.type="text/css",rt.styleSheet?rt.styleSheet.cssText=tt:rt.appendChild(document.createTextNode(tt)),et.appendChild(rt)}}function closeOverlayer(){var tt=document.getElementById(STYLE_ID);tt&&tt.parentElement.removeChild(tt)}var msgQueueMap={},allowdOrigins=[],addAllowdOrigin=function(tt){tt.length&&tt.forEach(function(et){allowdOrigins.push(et)})};function dispatchMsg(tt,et,rt,nt){var it=tt&&tt.source||window.opener||window.parent,ot=tt&&tt.origin||nt||"*",at={type:et,payload:rt};it.postMessage(JSON.stringify(at),ot)}function receiveMsg(tt,et){msgQueueMap[tt]=msgQueueMap[tt]||[],msgQueueMap[tt].push(et)}function processMsg(tt){if(allowdOrigins.some(function(it){return it==="*"})||allowdOrigins.some(function(it){return tt.origin.indexOf(it)>-1})){var et=tt.data;if(typeof tt.data=="string")try{et=JSON.parse(tt.data)}catch{et=void 0}if(!et)return;var rt=et.type,nt=et.payload;msgQueueMap[rt]&&msgQueueMap[rt].forEach(function(it){typeof it=="function"&&it(tt,nt)})}}function init$4(tt,et){var rt=__assign$6({},tt);delete rt.filter,(window.opener||window.parent).postMessage({type:"tea:sdk:info",copyConfig:rt,version:et},"*"),window.addEventListener("message",processMsg,!1)}var VISUAL_URL="",isLoaded=!1;function loadEditorScript(tt){var et=tt.event,rt=tt.editorUrl;tt.collectInstance,tt.fromSession,isLoaded||(isLoaded=!0,loadScript$5(rt,function(){dispatchMsg(et,"abEditorScriptloadSuccess")},function(){et&&dispatchMsg(et,"abEditorScriptloadError"),isLoaded=!1}))}function readyToLoadEditor(tt,et){window.TEAVisualEditor=window.TEAVisualEditor||{},addAllowdOrigin(["*"]);var rt,nt="";init$4(et,SDK_VERSION$5);var it="";try{var ot=window.performance.getEntriesByType("resource");if(ot&&ot.length&&(ot.forEach(function(st){st.initiatorType==="script"&&st.name&&st.name.indexOf("collect")!==-1&&(it=st.name)}),it||document.currentScript&&(it=document.currentScript.src),it&&(rt=it.split("/"))&&rt.length)){nt="https:/";for(var at=2;at<rt.length&&at!==rt.length-1;at++)nt=nt+"/"+rt[at];nt+="/visual-ab-core"}}catch{}receiveMsg("tea:openVisualABEditor",function(st){var lt=st.data;if(typeof st.data=="string")try{lt=JSON.parse(st.data)}catch{lt=void 0}if(lt){var ct=lt.lang;if(lt.appId!==et.app_id)return dispatchMsg(st,"appIdError"),void console.error("abtest appid is not belong the page appid please check");var ut=lt.version;ut?VISUAL_URL=nt?""+nt+(ut?"."+ut:".1.0.1")+".js?query="+Date.now():VISUAL_AB_CORE+"?query="+Date.now():VISUAL_URL=VISUAL_AB_CORE+"?query="+Date.now(),window.TEAVisualEditor.lang=ct,window.TEAVisualEditor.__ab_domin=et.channel_domain||"",loadEditorScript({event:st,editorUrl:VISUAL_URL,collectInstance:tt})}})}var loadMuiltlink=function(tt,et){window.TEAVisualEditor.appId=et.app_id,receiveMsg("tea:openTesterEventInspector",function(rt){var nt=rt.data;if(typeof rt.data=="string")try{nt=JSON.parse(rt.data)}catch{nt=void 0}if(nt){var it=nt.referrer,ot=nt.lang,at=nt.appId;window.TEAVisualEditor.__editor_ajax_domain=it||"",window.TEAVisualEditor.__ab_appId=at||"",window.TEAVisualEditor.lang=ot||"",loadEditorScript({event:rt,editorUrl:VISUAL_URL_INSPECTOR+".js?query="+Date.now(),collectInstance:tt})}})},loadVisual=function(tt){window.TEAVisualEditor.__ab_config=tt,loadScript$5(VISUAL_AB_LOADER+"?query="+Date.now(),function(){},function(){})},CallbackType;(function(tt){tt[tt.Var=0]="Var",tt[tt.All=1]="All"})(CallbackType||(CallbackType={}));var STORAGE_EXPRIRE=2592e6,API="/service/2/abtest_config/",DOMAINS={cn:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",va:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az1gz22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k",sg:"1fz22z22z1nz21z4mz4bz4bz22z1mz19z1jz1mz1ez4az22z1mz19z21z1lz21z21z1bz1iz4az1az1mz1k"},Ab=function(){function tt(){this.fetchStatus="no",this.refreshFetchStatus="complete",this.versions=[],this.extVersions=[],this.mulilinkVersions=[],this.enable_multilink=!1,this.enable_ab_visual=!1,this.editMode=!1,this.callbacks=[],this.data=null,this.changeListener=new Map,this.readyStatus=!1}return tt.prototype.apply=function(et,rt){var nt=this;if(this.collect=et,this.config=rt,this.config.enable_ab_test){var it=rt.enable_multilink,ot=rt.ab_channel_domain,at=rt.enable_ab_visual,st=ot||decodeUrl(DOMAINS[rt.channel||"cn"]),lt=et.adapters,ct=lt.storage,ut=lt.fetch;this.cacheStorgae=new ct(!1),this.fetch=ut,this.enable_multilink=it,this.enable_ab_visual=at,this.abKey="__tea_sdk_ab_version_"+rt.app_id,this.fetchUrl=""+st+API,this.reportUrl=""+et.configManager.getUrl("event");var dt=this.collect.Types;this.types=dt,this.collect.on(dt.TokenChange,function(ft){ft==="uuid"&&nt.readyStatus&&(nt.clearCache(),nt.fetchAB())}),this.collect.on(dt.AbVar,function(ft){var pt=ft.name,mt=ft.defaultValue,ht=ft.callback;nt.getVar(pt,mt,ht)}),this.collect.on(dt.AbAllVars,function(ft){nt.getAllVars(ft)}),this.collect.on(dt.AbConfig,function(ft){var pt=ft.params,mt=ft.callback;nt.getABconfig(pt,mt)}),this.collect.on(dt.AbExternalVersion,function(ft){nt.setExternalAbVersion(ft)}),this.collect.on(dt.AbVersionChangeOn,function(ft){nt.changeListener.set(ft,ft)}),this.collect.on(dt.AbVersionChangeOff,function(ft){nt.changeListener.get(ft)&&nt.changeListener.delete(ft)}),this.loadMode(),(this.enable_ab_visual||this.enable_multilink)&&this.openOverlayer(this.config.multilink_timeout_ms||500),this.checkLocal(),this.ready("ab"),this.readyStatus||(this.fetchAB(),this.readyStatus=!0),this.collect.emit(dt.AbReady)}},tt.prototype.ready=function(et){var rt=this;if(this.collect.set(et),this.collect.hook._hooksCache.hasOwnProperty(et)){var nt=this.collect.hook._hooksCache[et];if(!Object.keys(nt).length)return;var it=function(at){nt[at].length&&nt[at].forEach(function(st){rt.collect.hook.emit(at,st)})};for(var ot in nt)it(ot)}},tt.prototype.loadMode=function(){var et=getIframeUrl(),rt="";if(et){var nt=et.scenario,it=et.href;nt?(this.editMode=!0,rt=nt):!it||it.indexOf("datatester")===-1&&it.indexOf("visual-editor")===-1||(this.editMode=!0,rt="visual-editor")}this.enable_ab_visual&&(readyToLoadEditor(this.collect,this.config),rt==="visual-editor")?this.collect.destoryInstace():this.enable_multilink&&loadMuiltlink(this.collect,this.config)},tt.prototype.checkLocal=function(){var et=this.getABCache(),rt=et.ab_version,nt=et.ab_ext_version,it=et.ab_version_multilink,ot=et.data,at=this.checkFromUrl();at?this.mulilinkVersions.push(at):this.mulilinkVersions=it||[],this.extVersions=nt||[],this.versions=rt||[],this.data=ot;var st=this.versions.concat(this.extVersions);this.enable_multilink&&(st=st.concat(this.mulilinkVersions)),this.configVersions(st.join(","))},tt.prototype.checkFromUrl=function(){var et=parseUrlQuery(window.location.href);return et&&et.vid?et.vid:""},tt.prototype.updateVersions=function(){var et=this.extVersions.length?this.versions.concat(this.extVersions):this.versions,rt=et.concat(this.mulilinkVersions);this.configVersions(rt.join(",")),this.updateABCache(),this.changeListener.size>0&&this.changeListener.forEach(function(nt){typeof nt=="function"&&nt(et)})},tt.prototype.configVersions=function(et){this.collect.configManager.setAbVersion(et)},tt.prototype.getVar=function(et,rt,nt){if(!et)throw new Error("variable must not be empty");if(rt===void 0)throw new Error("variable no default value");if(typeof nt!="function")throw new Error("callback must be a function");var it={name:et,defaultValue:rt,callback:nt,type:CallbackType.Var};this.fetchStatus==="complete"&&this.refreshFetchStatus==="complete"?this.getRealVar(it,et):this.callbacks.push(it)},tt.prototype.getRealVar=function(et,rt){var nt=et.name,it=et.defaultValue,ot=et.callback,at=this.data;if(at){if(isObject$7(at[nt])){var st=at[nt].vid;return rt==="$ab_url"?this.mulilinkVersions.includes(st)||this.mulilinkVersions.push(st):this.versions.includes(st)||this.versions.push(st),this.updateVersions(),this.fechEvent(st,rt,it),void ot(at[nt].val)}ot(it)}else ot(it)},tt.prototype.getAllVars=function(et){if(typeof et!="function")throw new Error("callback must be a function");var rt={callback:et,type:CallbackType.All};this.fetchStatus==="complete"&&this.refreshFetchStatus==="complete"?this.getRealAllVars(rt):this.callbacks.push(rt)},tt.prototype.getRealAllVars=function(et){(0,et.callback)(this.data?JSON.parse(JSON.stringify(this.data)):{})},tt.prototype.fechEvent=function(et,rt,nt){var it=this;try{if(this.config.disable_track_event||!et)return;var ot=this.collect.configManager.get(),at=ot.header,st=ot.user,lt=this.getABCache();if(lt&&lt.uuid&&lt.uuid!==st.user_unique_id)return;var ct={event:"abtest_exposure",ab_sdk_version:""+et,params:JSON.stringify({app_id:this.config.appId,ab_url:rt==="$ab_url"?nt:window.location.href}),local_time_ms:Date.now()};at.custom=JSON.stringify(at.custom);var ut={events:[ct],user:st,header:at};rt==="$ab_url"?window.navigator.sendBeacon?window.navigator.sendBeacon(this.reportUrl,JSON.stringify([ut])):this.fetch(this.reportUrl,[ut],2e4):setTimeout(function(){it.fetch(it.reportUrl,[ut],2e4)},16)}catch{}},tt.prototype.setExternalAbVersion=function(et){this.extVersions=[et],this.updateVersions()},tt.prototype.getABconfig=function(et,rt){var nt=Object.keys(et);nt&&nt.length&&this.collect.configManager.set(et),this.fetchAB(rt)},tt.prototype.getABCache=function(et){var rt={ab_version:[],ab_ext_version:[],ab_version_multilink:[],data:null,timestamp:+new Date,uuid:""};return rt=this.cacheStorgae.getItem(this.abKey)||rt,Date.now()-rt.timestamp>=STORAGE_EXPRIRE?(this.cacheStorgae.removeItem(this.abKey),null):et?rt[et]:rt},tt.prototype.updateABCache=function(){var et=this.getABCache();et.ab_version_multilink=this.mulilinkVersions,et.ab_ext_version=this.extVersions,et.ab_version=this.versions,et.timestamp=Date.now(),this.cacheStorgae.setItem(this.abKey,et)},tt.prototype.setAbCache=function(et){var rt=this.getABCache();rt.data=this.data,rt.uuid=et,rt.timestamp=Date.now(),this.cacheStorgae.setItem(this.abKey,rt)},tt.prototype.clearCache=function(){this.refreshFetchStatus="ing",this.data={},this.extVersions=[],this.mulilinkVersions=[],this.versions=[]},tt.prototype.openOverlayer=function(et){var rt=this;if(openOverlayer(),et)var nt=setTimeout(function(){rt.closeOverlayer(),clearTimeout(nt)},et)},tt.prototype.closeOverlayer=function(){closeOverlayer()},tt.prototype.fetchComplete=function(et,rt){var nt=this;if(et&&Object.prototype.toString.call(et)=="[object Object]"){this.data=et,this.setAbCache(rt);var it=[];Object.keys(et).forEach(function(ct){var ut=et[ct].vid;ut&&it.push(ut)}),this.versions=this.versions.filter(function(ct){return it.includes(ct)});var ot=et.$ab_url,at=et.$ab_modification;if(at&&at.val&&this.enable_ab_visual){if(this.collect.destroyInstance)return;this.getVar("$ab_modification",window.location.href,function(){loadVisual(at.val)})}else if(ot&&this.enable_multilink){this.mulilinkVersions=this.mulilinkVersions.filter(function(ct){return it.includes(ct)});var st=ot.val,lt=ot.vid;st&&lt&&this.getVar("$ab_url",st,function(){nt.editMode||st!==window.location.href&&setTimeout(function(){if(!nt.collect.destroyInstance){var ct=""+st;ct=ct.indexOf("http")===-1?"https://"+ct:ct,parseURL(ct).host!==location.host&&(ct=ct+"&vid="+lt),window.location.href=ct}},100)})}this.closeOverlayer(),this.updateVersions()}this.callbacks.forEach(function(ct){return nt[ct.type===CallbackType.Var?"getRealVar":"getRealAllVars"](ct,"")}),this.callbacks=[]},tt.prototype.fetchAB=function(et){var rt=this,nt=window.location.href,it=this.collect.configManager.get();this.fetch(this.fetchUrl,{header:__assign$6({aid:this.config.app_id},it.user||{},it.header||{},{ab_sdk_version:this.collect.configManager.getAbVersion(),ab_url:nt})},this.config.ab_timeout||3e3,!1,function(ot){rt.fetchStatus="complete",rt.refreshFetchStatus;var at=ot.data;ot.message==="success"?(rt.fetchComplete(at,it.user.user_unique_id),et&&et(at)):(rt.fetchComplete(null,it.user.user_unique_id),et&&et(null)),rt.collect.emit(rt.types.AbComplete,at)},function(){rt.fetchStatus="complete",rt.refreshFetchStatus,rt.fetchComplete(null,it.user.user_unique_id),et&&et(null),rt.collect.emit(rt.types.AbComplete,null)})},tt.prototype.filterUrl=function(et){try{var rt="";et.indexOf("&multilink=true")!==-1?rt="&multilink=true[\0-ÿ]*":et.indexOf("?multilink=true")!==-1&&(rt="\\?multilink=true[\0-ÿ]*");var nt=new RegExp(rt,"g");et=et.replace(nt,"")}catch{}return et},tt}(),Et=function(){function tt(){}return tt.prototype.apply=function(et,rt){var nt=this,it=et.adapters.fetch;if(rt.event_verify_url&&typeof rt.event_verify_url=="string"&&(this.url=rt.event_verify_url+"/v1/list_test",this.url)){var ot=et.Types;et.on(ot.SubmitBefore,function(at){it(nt.url,at,3e4)})}},tt}(),Alive=function(){function tt(et,rt){this.maxDuration=432e5,this.aliveDTime=6e4,this.options={aliveName:"predefine_page_alive",params:{}},this.collect=et,this.config=rt,this.pageStartTime=Date.now(),this.sessionStartTime=this.pageStartTime,this.timerHandler=null,isObject$7(rt.enable_stay_duration)&&(this.options=Object.assign(this.options,rt.enable_stay_duration))}return tt.prototype.setParams=function(et,rt,nt){this.set_path=et,this.set_url=nt,this.set_title=rt},tt.prototype.enable=function(et,rt,nt){this.url_path=et,this.url=nt,this.title=rt,this.disableCallback=this.enablePageAlive()},tt.prototype.disable=function(){this.disableCallback(),this.pageStartTime=Date.now()},tt.prototype.sendEvent=function(et){et===void 0&&(et=!1);var rt=et?this.aliveDTime:Date.now()-this.sessionStartTime;rt<0||Date.now()-this.pageStartTime>this.maxDuration||(this.collect.beconEvent(this.options.aliveName,__assign$6({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),duration:rt,is_support_visibility_change:isSupVisChange(),startTime:this.sessionStartTime},this.options.params)),this.sessionStartTime=Date.now())},tt.prototype.getParams=function(et){switch(et){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},tt.prototype.setUpTimer=function(){var et=this;return this.timerHandler&&clearInterval(this.timerHandler),setInterval(function(){Date.now()-et.sessionStartTime>et.aliveDTime&&et.sendEvent(!0)},1e3)},tt.prototype.visibilitychange=function(){document.visibilityState==="hidden"?this.timerHandler&&(clearInterval(this.timerHandler),this.sendEvent()):document.visibilityState==="visible"&&(this.sessionStartTime=Date.now(),this.timerHandler=this.setUpTimer())},tt.prototype.beforeunload=function(){document.hidden||this.sendEvent()},tt.prototype.enablePageAlive=function(){var et=this;return this.timerHandler=this.setUpTimer(),document.addEventListener("visibilitychange",this.visibilitychange.bind(this)),beforePageUnload(this.beforeunload.bind(this)),function(){et.beforeunload(),document.removeEventListener("visibilitychange",et.visibilitychange.bind(et)),window.removeEventListener("beforeunload",et.beforeunload.bind(et)),window.removeEventListener("pagehide",et.beforeunload.bind(et))}},tt}(),Close=function(){function tt(et,rt){var nt=this;this.maxDuration=432e5,this.aliveDTime=6e4,this.options={closeName:"predefine_page_close",params:{}},this.visibilitychange=function(){document.visibilityState==="hidden"?nt.activeEndTime=Date.now():document.visibilityState==="visible"&&(nt.activeEndTime&&(nt.totalTime+=nt.activeEndTime-nt.activeStartTime,nt.activeTimes+=1),nt.activeEndTime=void 0,nt.activeStartTime=Date.now())},this.beforeunload=function(){if(nt.totalTime+=(nt.activeEndTime||Date.now())-nt.activeStartTime,nt.config.autotrack)try{window.sessionStorage.setItem("_tea_cache_duration",JSON.stringify({duration:nt.totalTime,page_title:document.title||location.pathname}))}catch{}nt.sendEventPageClose()},this.collect=et,this.config=rt,this.maxDuration=rt.maxDuration||864e5,this.pageStartTime=Date.now(),isObject$7(rt.enable_stay_duration)&&(this.options=Object.assign(this.options,rt.enable_stay_duration)),this.resetData()}return tt.prototype.setParams=function(et,rt,nt){this.set_path=et,this.set_url=nt,this.set_title=rt},tt.prototype.enable=function(et,rt,nt){this.url_path=et,this.url=nt,this.title=rt,this.disableCallback=this.enablePageClose()},tt.prototype.disable=function(){this.disableCallback()},tt.prototype.resetData=function(){this.activeStartTime=this.activeStartTime===void 0?this.pageStartTime:Date.now(),this.activeEndTime=void 0,this.activeTimes=1,this.totalTime=0},tt.prototype.sendEventPageClose=function(){var et=Date.now()-this.pageStartTime;this.totalTime<0||et<0||this.totalTime>=this.maxDuration||(this.collect.beconEvent(this.options.closeName,__assign$6({url_path:this.getParams("url_path"),title:this.getParams("title"),url:this.getParams("url"),active_times:this.activeTimes,duration:this.totalTime,total_duration:et,is_support_visibility_change:isSupVisChange()},this.options.params)),this.pageStartTime=Date.now(),this.resetData())},tt.prototype.getParams=function(et){switch(et){case"url_path":return this.set_path||this.url_path||location.pathname;case"title":return this.set_title||this.title||document.title||location.pathname;case"url":return this.set_url||this.url||location.href}},tt.prototype.enablePageClose=function(){var et=this;return document.addEventListener("visibilitychange",this.visibilitychange.bind(this)),beforePageUnload(this.beforeunload.bind(this)),function(){et.beforeunload(),document.removeEventListener("visibilitychange",et.visibilitychange.bind(et)),window.removeEventListener("beforeunload",et.beforeunload.bind(et)),window.removeEventListener("pagehide",et.beforeunload.bind(et))}},tt}(),Stay=function(){function tt(){}return tt.prototype.apply=function(et,rt){var nt=this;if(this.collect=et,this.config=rt,this.config.enable_stay_duration){this.title=document.title||location.pathname,this.url=location.href,this.url_path=location.pathname,this.pageAlive=new Alive(et,rt),this.pageClose=new Close(et,rt);var it=this.collect.Types;this.collect.on(it.ResetStay,function(ot){var at=ot.url_path,st=ot.title,lt=ot.url;nt.resetStayDuration(at,st,lt)}),this.collect.on(it.RouteChange,function(ot){ot.init||rt.disable_route_report||nt.resetStayDuration()}),this.collect.on(it.SetStay,function(ot){var at=ot.url_path,st=ot.title,lt=ot.url;nt.setStayParmas(at,st,lt)}),this.enable(this.url_path,this.title,this.url),this.ready(it.Stay),this.collect.emit(it.StayReady)}},tt.prototype.ready=function(et){var rt=this;if(this.collect.set(et),this.collect.hook._hooksCache.hasOwnProperty(et)){var nt=this.collect.hook._hooksCache[et];if(!Object.keys(nt).length)return;var it=function(at){nt[at].length&&nt[at].forEach(function(st){rt.collect.hook.emit(at,st)})};for(var ot in nt)it(ot)}},tt.prototype.enable=function(et,rt,nt){this.pageAlive.enable(et,rt,nt),this.pageClose.enable(et,rt,nt)},tt.prototype.disable=function(){this.pageAlive.disable(),this.pageClose.disable()},tt.prototype.setStayParmas=function(et,rt,nt){et===void 0&&(et=""),rt===void 0&&(rt=""),nt===void 0&&(nt=""),this.pageAlive.setParams(et,rt,nt),this.pageClose.setParams(et,rt,nt)},tt.prototype.reset=function(et,rt,nt){this.disable(),this.enable(et,rt,nt)},tt.prototype.resetStayDuration=function(et,rt,nt){this.reset(et,rt,nt)},tt}(),Profile=function(){function tt(){}return tt.prototype.apply=function(et,rt){var nt=this;this.collect=et,this.config=rt,this.duration=6e4,this.reportUrl=et.configManager.getDomain()+"/profile/list";var it=et.Types,ot=et.adapters.fetch;this.fetch=ot,this.cache={},this.collect.on(it.ProfileSet,function(at){nt.setProfile(at)}),this.collect.on(it.ProfileSetOnce,function(at){nt.setOnceProfile(at)}),this.collect.on(it.ProfileUnset,function(at){nt.unsetProfile(at)}),this.collect.on(it.ProfileIncrement,function(at){nt.incrementProfile(at)}),this.collect.on(it.ProfileAppend,function(at){nt.appendProfile(at)}),this.collect.on(it.ProfileClear,function(){nt.cache={}}),this.ready(it.Profile)},tt.prototype.ready=function(et){var rt=this;if(this.collect.set(et),this.collect.hook._hooksCache.hasOwnProperty(et)){var nt=this.collect.hook._hooksCache[et];if(!Object.keys(nt).length)return;var it=function(at){nt[at].length&&nt[at].forEach(function(st){rt.collect.hook.emit(at,st)})};for(var ot in nt)it(ot)}},tt.prototype.report=function(et,rt){rt===void 0&&(rt={});try{if(this.config.disable_track_event)return;var nt=[];nt.push(this.collect.processEvent(et,rt));var it=this.collect.eventManager.merge(nt);this.fetch(this.reportUrl,it)}catch{}},tt.prototype.setProfile=function(et){var rt=this.formatParams(et);rt&&Object.keys(rt).length&&(this.pushCache(rt),this.report("__profile_set",__assign$6({},rt,{profile:!0})))},tt.prototype.setOnceProfile=function(et){var rt=this.formatParams(et,!0);rt&&Object.keys(rt).length&&(this.pushCache(rt),this.report("__profile_set_once",__assign$6({},rt,{profile:!0})))},tt.prototype.incrementProfile=function(et){et?this.report("__profile_increment",__assign$6({},et,{profile:!0})):console.warn("please check the params, must be object!!!")},tt.prototype.unsetProfile=function(et){if(et){var rt={};rt[et]="1",this.report("__profile_unset",__assign$6({},rt,{profile:!0}))}else console.warn("please check the key, must be string!!!")},tt.prototype.appendProfile=function(et){if(et){var rt={};for(var nt in et)typeof et[nt]=="string"||Object.prototype.toString.call(et[nt]).slice(8,-1)==="Array"?rt[nt]=et[nt]:console.warn("please check the value of param: "+nt+", must be string or array !!!");Object.keys(rt).length&&this.report("__profile_append",__assign$6({},rt,{profile:!0}))}else console.warn("please check the params, must be object!!!")},tt.prototype.pushCache=function(et){var rt=this;Object.keys(et).forEach(function(nt){rt.cache[nt]={val:rt.clone(et[nt]),timestamp:Date.now()}})},tt.prototype.formatParams=function(et,rt){var nt=this;rt===void 0&&(rt=!1);try{if(!et||Object.prototype.toString.call(et)!=="[object Object]")return void console.warn("please check the params type, must be object !!!");var it={};for(var ot in et)typeof et[ot]=="string"||typeof et[ot]=="number"||Object.prototype.toString.call(et[ot]).slice(8,-1)==="Array"?it[ot]=et[ot]:console.warn("please check the value of params:"+ot+", must be string,number,Array !!!");var at=Object.keys(it);if(!at.length)return;var st=Date.now();return at.filter(function(lt){var ct=nt.cache[lt];return rt?!ct:!(ct&&nt.compare(ct.val,et[lt])&&st-ct.timestamp<nt.duration)}).reduce(function(lt,ct){return lt[ct]=it[ct],lt},{})}catch{}},tt.prototype.compare=function(et,rt){try{return JSON.stringify(et)===JSON.stringify(rt)}catch{return!1}},tt.prototype.clone=function(et){try{return JSON.parse(JSON.stringify(et))}catch{return et}},tt.prototype.unReady=function(){console.warn("sdk is not ready, please use this api after start")},tt}(),HeartBeat=function(){function tt(){var et=this;this.setInterval=function(){et.clearIntervalFunc=selfAdjust(function(){et.isSessionhasEvent&&et.endCurrentSession()},et.sessionInterval)},this.clearInterval=function(){et.clearIntervalFunc&&et.clearIntervalFunc()}}return tt.prototype.apply=function(et,rt){var nt=this;if(this.collect=et,!rt.disable_heartbeat){this.sessionInterval=6e4,this.startTime=0,this.lastTime=0,this.setInterval();var it=this.collect.Types;this.collect.on(it.SessionReset,function(){nt.process()})}},tt.prototype.endCurrentSession=function(){this.collect.event("_be_active",{start_time:this.startTime,end_time:this.lastTime,url:window.location.href,referrer:window.document.referrer,title:document.title||location.pathname}),this.isSessionhasEvent=!1,this.startTime=0},tt.prototype.process=function(){this.isSessionhasEvent||(this.isSessionhasEvent=!0,this.startTime=+new Date);var et=this.lastTime||+new Date;this.lastTime=+new Date,this.lastTime-et>this.sessionInterval&&(this.clearInterval(),this.endCurrentSession(),this.setInterval())},tt}(),SDK_USE_TYPE="npm",Monitor=function(){function tt(){}return tt.prototype.apply=function(et,rt){var nt=this;if(this.collect=et,this.config=rt,!this.config.channel_domain){var it=et.adapters.fetch;if(this.fetch=it,!rt.disable_track_event&&!rt.disable_sdk_monitor){this.url=et.configManager.getUrl("event");var ot=this.collect.Types;this.collect.on(ot.Ready,function(){nt.sdkOnload()}),this.collect.on(ot.SubmitError,function(at){var st=at.eventData,lt=at.errorCode;nt.sdkError(st,lt)})}}},tt.prototype.sdkOnload=function(){var et=this;try{var rt=this.collect.configManager.get(),nt=rt.header,it=rt.user,ot=nt.app_id,at=nt.app_name,st=nt.sdk_version,lt=it.web_id,ct={events:[{event:"onload",params:JSON.stringify({app_id:ot,app_name:at||"",sdk_version:st,sdk_type:SDK_USE_TYPE,sdk_config:this.config,sdk_desc:"TOC"}),local_time_ms:Date.now()}],user:{user_unique_id:lt},header:{}};setTimeout(function(){et.fetch(et.url,[ct],3e4,!1,function(){},function(){},"566f58151b0ed37e")},16)}catch{}},tt.prototype.sdkError=function(et,rt){var nt=this;try{var it=et[0],ot=it.user,at=it.header,st=[];et.forEach(function(ct){ct.events.forEach(function(ut){st.push(ut)})});var lt={events:st.map(function(ct){return{event:"on_error",params:JSON.stringify({error_code:rt,app_id:at.app_id,app_name:at.app_name||"",error_event:ct.event,sdk_version:at.sdk_version,local_time_ms:ct.local_time_ms,tea_event_index:Date.now(),params:ct.params,header:JSON.stringify(at),user:JSON.stringify(ot)}),local_time_ms:Date.now()}}),user:{user_unique_id:ot.user_unique_id},header:{}};setTimeout(function(){nt.fetch(nt.url,[lt],3e4,!1,function(){},function(){},"566f58151b0ed37e")},16)}catch{}},tt}();function isNeedElement(tt,et){if(et===void 0&&(et="list"),!tt)return!1;if(et&&et==="list"){if(["LI","TR","DL"].includes(tt.nodeName)||tt.dataset&&tt.dataset.hasOwnProperty("teaIdx")||tt.hasAttribute&&tt.hasAttribute("data-tea-idx"))return!0}else if(["A","BUTTON"].includes(tt.nodeName)||tt.dataset&&tt.dataset.hasOwnProperty("teaContainer")||tt.hasAttribute&&tt.hasAttribute("data-tea-container"))return!0;return!1}function getContainer(tt){for(var et=tt;et&&!isNeedElement(et,"container");){if(et.nodeName==="HTML"||et.nodeName==="BODY")return tt;et=et.parentElement}return et||tt}function getNodeText(tt){var et="";return tt.nodeType===3?et=tt.textContent.trim():tt.dataset&&tt.dataset.hasOwnProperty("teaTitle")||tt.hasAttribute("ata-tea-title")?et=tt.getAttribute("data-tea-title"):tt.hasAttribute("title")?et=tt.getAttribute("title"):tt.nodeName==="INPUT"&&["button","submit"].includes(tt.getAttribute("type"))?et=tt.getAttribute("value"):tt.nodeName==="IMG"&&tt.getAttribute("alt")&&(et=tt.getAttribute("alt")),et.slice(0,200)}function getText(tt){var et=getContainer(tt),rt=[];return function nt(it){var ot=getNodeText(it);if(ot&&rt.indexOf(ot)===-1&&rt.push(ot),it.childNodes.length>0)for(var at=it.childNodes,st=0;st<at.length;st++)at[st].nodeType!==8&&nt(at[st])}(et),rt}function getTextSingle(tt){var et=getContainer(tt),rt="";return function nt(it){var ot=getNodeText(it);if(ot&&(rt+=ot),it.childNodes.length>0)for(var at=it.childNodes,st=0;st<at.length;st++)at[st].nodeType===3&&nt(at[st])}(et),rt}function ignore(tt){for(var et=tt;et&&et.parentNode;){if(et.hasAttribute("data-tea-ignore"))return!0;if(et.nodeName==="HTML"||et.nodeName==="body")return!1;et=et.parentNode}return!1}var elementLevel=function(tt){if(tt.children.length){var et=tt.children;return![].slice.call(et).some(function(rt){return rt.children.length>0})}return!0},isSVG=function(tt){if(tt.tagName.toLowerCase()==="svg")return!0;for(var et=tt.parentElement,rt=!1;et;)et.tagName.toLowerCase()==="svg"?(et=null,rt=!0):et=et.parentElement;return rt};function isTrack(tt,et){if(tt.nodeType!==1||!et.svg&&isSVG(tt)||["HTML","BODY"].includes(tt.tagName.toUpperCase()))return!1;var rt=tt;return rt.style.display!=="none"&&(!!isNeedElement(rt,"container")||!!elementLevel(rt))}var Listener=function(){function tt(et,rt,nt){var it=this;this.clickEvent=function(ot){isTrack(ot.target,it.options)&&it.eventHandel({eventType:"dom",eventName:"click"},ot)},this.changeEvent=function(ot){it.eventHandel({eventType:"dom",eventName:"change"},ot)},this.submitEvent=function(ot){it.eventHandel({eventType:"dom",eventName:"submit"},ot)},this.getPageViewEvent=function(ot,at){at&&at==="pushState"&&it.eventHandel({eventType:"dom",eventName:"beat"},__assign$6({beat_type:0},ot)),it.eventHandel({eventType:"dom",eventName:"page_view"},ot)},this.getPageLoadEvent=function(ot){it.eventHandel({eventType:"dom",eventName:"page_statistics"},{lcp:ot})},this.config=nt.getConfig().eventConfig,this.collect=rt,this.options=et,this.beatTime=et.beat,this.statistics=!1}return tt.prototype.init=function(et){this.eventHandel=et;var rt=this.config.mode;this.addListener(rt)},tt.prototype.addListener=function(et){var rt=this;if(et==="proxy-capturing"&&(this.config.click&&window.document.addEventListener("click",this.clickEvent,!0),this.config.change&&window.document.addEventListener("change",this.changeEvent,!0),this.config.submit&&window.document.addEventListener("submit",this.submitEvent,!0),this.config.pv&&this.collect.on("route-change",function(st){var lt=st.config,ct=st.name;rt.getPageViewEvent(lt,ct)}),this.config.beat)){try{document.readyState==="complete"?this.beatEvent(this.beatTime):window.addEventListener("load",function(){rt.beatEvent(rt.beatTime)});var nt=0,it=null;window.addEventListener("scroll",function(){clearTimeout(it),it=setTimeout(ot,500),nt=document.documentElement.scrollTop||document.body.scrollTop});var ot=function(){(document.documentElement.scrollTop||document.body.scrollTop)==nt&&rt.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:1})}}catch{}try{var at=window.performance&&window.performance.getEntriesByType("paint");at&&at.length?(new PerformanceObserver(function(st){var lt=st.getEntries(),ct=lt[lt.length-1],ut=ct.renderTime||ct.loadTime;rt.statistics||(rt.getPageLoadEvent(ut),rt.statistics=!0)}).observe({entryTypes:["largest-contentful-paint"]}),setTimeout(function(){rt.statistics||(rt.getPageLoadEvent(at[0].startTime||0),rt.statistics=!0)},2e3)):this.getPageLoadEvent(0)}catch{this.getPageLoadEvent(0)}}},tt.prototype.removeListener=function(){window.document.removeEventListener("click",this.clickEvent,!0),window.document.removeEventListener("change",this.changeEvent,!0),window.document.removeEventListener("submit",this.submitEvent,!0)},tt.prototype.beatEvent=function(et){var rt=this;try{var nt;this.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:3}),this.beatTime&&(nt=setInterval(function(){rt.eventHandel({eventType:"dom",eventName:"beat"},{beat_type:2})},et)),beforePageUnload(function(){rt.eventHandel({eventType:"dom",eventName:"beat",eventSend:"becon"},{beat_type:0}),rt.beatTime&&clearInterval(nt)})}catch{}},tt}(),defaultConfig$4={eventConfig:{mode:"proxy-capturing",submit:!1,click:!0,change:!1,pv:!0,beat:!0,hashTag:!1,impr:!1},scoutConfig:{mode:"xpath"}},Config=function(){function tt(et){this.config=et}return tt.prototype.getConfig=function(){return this.config},tt.prototype.setConfig=function(et){return this.config=et},tt}();function getPositionData(tt){if(tt){var et=tt.getBoundingClientRect(),rt=et.width,nt=et.height;return{left:et.left,top:et.top,element_width:rt,element_height:nt}}}function getEventData(tt,et){tt===void 0&&(tt={}),et===void 0&&(et={});var rt=tt.clientX,nt=tt.clientY,it=et.left,ot=et.top,at=rt-it>=0?rt-it:0,st=nt-ot>=0?nt-ot:0;return{touch_x:Math.floor(at),touch_y:Math.floor(st)}}function getXpath(tt){for(var et=[];tt.parentElement!==null;)et.push(tt),tt=tt.parentElement;var rt=[],nt=[];return et.forEach(function(it){var ot=getXpathIndex(it),at=ot.str,st=ot.index;rt.unshift(at),nt.unshift(st)}),{element_path:"/"+rt.join("/"),positions:nt}}function getXpathIndex(tt){if(tt===null)return{str:"",index:0};var et=0,rt=tt.parentElement;if(rt)for(var nt=rt.children,it=0;it<nt.length&&nt[it]!==tt;it++)nt[it].nodeName===tt.nodeName&&et++;return{str:[tt.nodeName.toLowerCase(),isNeedElement(tt,"list")?"[]":""].join(""),index:et}}function getElementData(tt,et,rt){var nt={element_path:"",positions:[],texts:[]},it=getPositionData(et),ot=getEventData(tt,it),at=it.element_width,st=it.element_height,lt=ot.touch_x,ct=ot.touch_y,ut=getXpath(et),dt=ut.element_path,ft=ut.positions,pt=getText(et),mt=window.performance.timing.navigationStart,ht=Date.now()-mt,gt=ft.map(function(bt){return""+bt}),vt=null;window.TEAVisualEditor.getOriginXpath&&(vt=window.TEAVisualEditor.getOriginXpath({xpath:dt,positions:gt})),nt.element_path=vt&&vt.xpath||dt,nt.positions=vt&&vt.positions||gt,rt&&!rt.text&&(nt.texts=pt,nt.element_title=getTextSingle(et)),nt.element_id=et.getAttribute("id")||"",nt.element_class_name=et.getAttribute("class")||"",nt.element_type=et.nodeType,nt.element_width=Math.floor(at),nt.element_height=Math.floor(st),nt.touch_x=lt,nt.touch_y=ct,nt.page_manual_key="",nt.elememt_manual_key="",nt.since_page_start_ms=ht,nt.page_start_ms=mt,nt.page_path=location.pathname,nt.page_host=location.host;var yt=getContainer(et);return yt.tagName==="A"&&(nt.href=yt.getAttribute("href")),et.tagName==="IMG"&&(nt.src=et.getAttribute("src")),nt}function getEventData$1(tt,et,rt,nt){return __assign$6({event:tt},getElementData(et,rt,nt),{is_html:1,page_key:window.location.href,page_title:document.title})}function getExtraEventData(tt,et){try{if(tt==="bav2b_change")return et.hasAttribute("data-tea-track")?{value:et.value}:{}}catch{return{}}}var EventHandle=function(){function tt(et,rt){this.ignore={text:!1},this.initConfig=et,this.eventName=rt&&rt.custom==="tea"?{click:"__bav_click",page:"__bav_page",beat:"__bav_beat",static:"__bav_page_statistics"}:{click:"bav2b_click",page:"bav2b_page",beat:"bav2b_beat",static:"bav2b_page_statistics"},rt&&rt.text===!1&&(this.ignore.text=!0)}return tt.prototype.handleEvent=function(et,rt){try{if(ignore(et.target))return null;var nt="bav2b_click";switch(rt){case"click":return getEventData$1(nt=this.eventName.click,et,et.target,this.ignore);case"change":return __assign$6({},getEventData$1(nt="bav2b_change",et,et.target),getExtraEventData(nt,et.target));case"submit":return getEventData$1(nt="bav2b_submit",et,et.target)}}catch(it){return console.error(it),null}},tt.prototype.handleViewEvent=function(et){et.event=this.eventName.page,et.page_title=document.title,et.page_total_width=window.innerWidth,et.page_total_height=window.innerHeight;try{var rt=window.sessionStorage.getItem("_tea_cache_duration");if(rt){var nt=JSON.parse(rt);et.refer_page_duration_ms=nt?nt.duration:"",et.refer_page_title=nt?nt.page_title:""}else et.refer_page_duration_ms="",et.refer_page_title="";et.scroll_width=document.documentElement.scrollLeft?document.documentElement.scrollLeft+window.innerWidth:window.innerWidth,et.scroll_height=document.documentElement.scrollTop?document.documentElement.scrollTop+window.innerHeight:window.innerHeight,et.page_start_ms=window.performance.timing.navigationStart}catch(it){""+JSON.stringify(it)}return et},tt.prototype.handleStatisticsEvent=function(et){var rt={};rt.event=this.eventName.static,rt.is_html=1,rt.page_key=location.href,rt.refer_page_key=document.referrer||"",rt.page_title=document.title,rt.page_manual_key=this.initConfig.autotrack.page_manual_key||"",rt.refer_page_manual_key="";try{var nt=et.lcp,it=window.performance.timing,ot=it.loadEventEnd-it.navigationStart;rt.page_init_cost_ms=parseInt(nt||(ot>0?ot:0)),rt.page_start_ms=it.navigationStart}catch(at){""+JSON.stringify(at)}return rt},tt.prototype.handleBeadtEvent=function(et){et.event=this.eventName.beat,et.page_key=window.location.href,et.is_html=1,et.page_title=document.title,et.page_manual_key=this.initConfig.autotrack.page_manual_key||"";try{et.page_viewport_width=window.innerWidth,et.page_viewport_height=window.innerHeight,et.page_total_width=document.documentElement.scrollWidth,et.page_total_height=document.documentElement.scrollHeight,et.scroll_width=document.documentElement.scrollLeft+window.innerWidth,et.scroll_height=document.documentElement.scrollTop+window.innerHeight,et.since_page_start_ms=Date.now()-window.performance.timing.navigationStart,et.page_start_ms=window.performance.timing.navigationStart}catch(rt){""+JSON.stringify(rt)}return et},tt}(),Request$1=function(){function tt(et){this.collect=et,this.eventNameList=["report_click_event","report_change_event","report_submit_event","report_exposure_event","report_page_view_event","report_page_statistics_event","report_beat_event"]}return tt.prototype.send=function(et,rt){var nt=et.eventSend,it=rt.event;delete rt.event,nt&&nt==="becon"?this.collect.beconEvent(it,rt):this.collect.event(it,rt)},tt.prototype.get=function(et,rt){var nt=Object.assign({headers:{"content-type":"application/json"},method:"GET"},rt);fetch(et,nt)},tt.prototype.post=function(et,rt){var nt=Object.assign({headers:{"content-type":"application/json"},method:"POST"},rt);fetch(et,nt)},tt}(),COOKIE_KEY="_TEA_VE_OPEN",COOKIE_KEY_HOST="_TEA_VE_APIHOST",COOKIE_LANG="lang",COOKIE_EDIT_VERISON="_VISUAL_EDITOR_V",COOKIE_EDIT_URL="_VISUAL_EDITOR_U";function checkSession(){return js_cookie$4.get(COOKIE_KEY)==="1"}function checkSessionHost(){var tt=js_cookie$4.get(COOKIE_KEY_HOST);try{tt=JSON.parse(tt)}catch{}return tt}function checkEditUrl(){return js_cookie$4.get(COOKIE_EDIT_URL)}function setSession(){try{var tt=window.TEAVisualEditor.lang=window.TEAVisualEditor.lang||js_cookie$4.get(COOKIE_LANG),et=window.TEAVisualEditor.__editor_ajax_domain=window.TEAVisualEditor.__editor_ajax_domain||js_cookie$4.get(COOKIE_KEY_HOST),rt=window.TEAVisualEditor.__editor_verison=window.TEAVisualEditor.__editor_verison||js_cookie$4.get(COOKIE_EDIT_VERISON),nt=window.TEAVisualEditor.__editor_url=window.TEAVisualEditor.__editor_url||js_cookie$4.get(COOKIE_EDIT_URL),it=+new Date,ot=new Date(it+18e5);js_cookie$4.set(COOKIE_KEY,"1",{expires:ot}),js_cookie$4.set(COOKIE_KEY_HOST,et,{expires:ot}),js_cookie$4.set(COOKIE_EDIT_URL,nt,{expires:ot}),js_cookie$4.set(COOKIE_LANG,tt,{expires:ot}),js_cookie$4.set(COOKIE_EDIT_VERISON,rt||"",{expires:ot})}catch{}}var isLoaded$1=!1;function loadEditorScript$1(tt){var et=tt.event,rt=tt.editorUrl,nt=tt.autoTrackInstance;isLoaded$1||(isLoaded$1=!0,loadScript$5(rt,function(){dispatchMsg(et,"editorScriptloadSuccess"),nt.destroy()},function(){et&&dispatchMsg(et,"editorScriptloadError"),isLoaded$1=!1}))}function readyToLoadEditor$1(tt,et){window.TEAVisualEditor=window.TEAVisualEditor||{};var rt="",nt=VISUAL_EDITOR_RANGERS+"?query="+Date.now();window.TEAVisualEditor.appId=et.app_id;var it=et.channel_domain,ot="";if(addAllowdOrigin(["*"]),it){var at,st="";try{var lt=window.performance.getEntriesByType("resource");if(lt&&lt.length&&(lt.forEach(function(pt){pt.initiatorType==="script"&&pt.name&&pt.name.indexOf("collect")!==-1&&(st=pt.name)}),st||document.currentScript&&(st=document.currentScript.src),st&&(at=st.split("/"))&&at.length)){ot="https:/";for(var ct=2;ct<at.length&&ct!==at.length-1;ct++)ot=ot+"/"+at[ct];if(ot&&ot.indexOf("/5.0")){var ut=ot.split("/5.0");ot=ut[0]||ot}}}catch{}}if(init$4(et,SDK_VERSION$5),checkSession()){var dt=checkSessionHost(),ft="";dt&&(window.TEAVisualEditor.__editor_ajax_domain=dt,ft=checkEditUrl()),loadEditorScript$1({event:null,editorUrl:ft||nt,autoTrackInstance:tt}),setSession()}else try{receiveMsg("tea:openVisualEditor",function(pt){var mt=pt.data;if(typeof pt.data=="string")try{mt=JSON.parse(pt.data)}catch{mt=void 0}if(mt){var ht=mt.referrer,gt=mt.lang;if(ht&&(window.TEAVisualEditor.__editor_ajax_domain=ht),rt=nt,it){var vt=mt.version;rt=ot?""+ot+(vt?"/visual-editor-rangers-v"+vt:"/visual-editor-rangers-v1.0.0")+".js":nt,window.TEAVisualEditor.__editor_verison=vt}window.TEAVisualEditor.__editor_url=rt,window.TEAVisualEditor.lang=gt,loadEditorScript$1({event:pt,editorUrl:rt,autoTrackInstance:tt}),setSession()}}),window.TEAVisualEditor.openAutotrackEditor=function(){loadEditorScript$1({event:null,editorUrl:window.TEAVisualEditor.__editor_url,autoTrackInstance:tt})}}catch{}try{receiveMsg("tea:openHeatMapCore",function(pt){loadEditorScript$1({event:pt,editorUrl:HOT_PIC_URL+".js?query="+Date.now(),autoTrackInstance:tt})})}catch{}}var defaultOpt={hashTag:!1,impr:!1},AutoTrack=function(){function tt(){}return tt.prototype.apply=function(et,rt){if(this.autoTrackStart=!1,this.collect=et,this.config=rt,rt.autotrack){var nt=et.Types;this.ready(nt.Autotrack),this.collect.emit(nt.AutotrackReady)}},tt.prototype.ready=function(et){this.collect.set(et);var rt=this.config.autotrack;rt=typeof rt=="object"?rt:{},rt=Object.assign(defaultOpt,rt),this.destroyed=!1,this.options=rt,this.Config=new Config(defaultConfig$4),this.Listener=new Listener(rt,this.collect,this.Config),this.EventHandle=new EventHandle(this.config,rt),this.Request=new Request$1(this.collect),this.autoTrackStart=!0,this.init(),readyToLoadEditor$1(this,this.config)},tt.prototype.init=function(){this.Listener.init(this.handle.bind(this))},tt.prototype.handle=function(et,rt){et.eventType==="dom"&&this.handleDom(et,rt)},tt.prototype.handleDom=function(et,rt){try{var nt=et.eventName;if(nt==="click"||nt==="change"||nt==="submit"){var it=this.EventHandle.handleEvent(rt,nt);it!==null&&this.Request.send({eventType:"custom",eventName:"report_"+nt+"_event",extra:{methods:"GET"}},it)}else if(nt==="page_view"||nt==="page_statistics"){var ot=void 0;ot=nt==="page_view"?this.EventHandle.handleViewEvent(rt):this.EventHandle.handleStatisticsEvent(rt),this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"}},ot)}else if(nt==="beat"){var at=this.EventHandle.handleBeadtEvent(rt),st=et.eventSend;this.Request.send({eventType:"custom",eventName:"report_${eventName}_event",extra:{methods:"GET"},eventSend:st},at)}}catch(lt){""+JSON.stringify(lt)}},tt.prototype.destroy=function(){if(!this.autoTrackStart)return console.warn("engine is undefined, make sure you have called autoTrack.start()");this.autoTrackStart=!1,this.Listener.removeListener()},tt}(),State;(function(tt){tt.Net="net",tt.FailNet="f_net",tt.FailData="f_data"})(State||(State={}));var EventList={pv:["predefine_pageview"],sdk:["_be_active","predefine_page_alive","predefine_page_close","__profile_set","__profile_set_once","__profile_increment","__profile_unset","__profile_append"],autotrack:["bav2b_click","bav2b_page","bav2b_beat","bav2b_page_statistics","__bav_click","__bav_page","__bav_beat","__bav_page_statistics"]},Tracer=function(){function tt(){}return tt.prototype.apply=function(et,rt){var nt=this;if(this.ready=rt.app_id&&rt.enable_tracer&&!rt.disable_track_event,this.ready){this.limit={pv:1,sdk:3,autotrack:3,log:3},this.errorCode={f_net:0,f_data:0},this.tracerCache=new Map,this.collect=et,this.appid=rt.app_id,this.reportUrl=et.configManager.getUrl("event");var it=this.collect.Types,ot=et.adapters.fetch;this.fetch=ot,this.collect.on(it.Event,function(){nt.addCount("log")}),this.collect.on(it.SubmitError,function(at){var st=at.type,lt=at.eventDate,ct=at.errorCode,ut=at.response;nt.addErrorCount(lt,st,ct,ut)}),this.listener(),this.collect.emit(it.TracerReady)}},tt.prototype.addCount=function(et,rt,nt){rt===void 0&&(rt="net"),nt===void 0&&(nt=1);try{this.tracerCache||(this.tracerCache=new Map);var it=void 0;if(this.tracerCache.has(et))(ot=this.tracerCache.get(et)).has(rt)?(it=ot.get(rt).params.count,it++,ot.set(rt,this.processTracer(it,et,rt))):(it=nt,ot.set(rt,this.processTracer(nt,et,rt)));else{var ot=new Map;it=nt,ot.set(rt,this.processTracer(nt,et,rt)),this.tracerCache.set(et,ot)}rt==="net"&&it>=this.limit[et]&&this.report(!1)}catch(at){}},tt.prototype.addErrorCount=function(et,rt,nt,it){var ot=this;try{if(et&&et.length){var at=et[0].events;at&&at.length&&(rt==="f_data"?(it&&it.hasOwnProperty("sc")?this.addCount("log",rt,at.length-it.sc):this.addCount("log",rt,at.length),this.errorCode[rt]=nt):at.forEach(function(st){var lt="log";for(var ct in EventList)if(EventList[ct].indexOf(st.event)!==-1){lt=ct;break}ot.addCount(lt,rt,1),ot.errorCode[rt]=nt}))}}catch{}},tt.prototype.report=function(et){if(this.tracerCache){var rt=[];this.tracerCache.forEach(function(nt){nt.forEach(function(it){rt.push(it)})}),rt&&rt.length&&this.sendTracer(rt,et)}},tt.prototype.sendTracer=function(et,rt){try{var nt=this.collect.eventManager.merge(et);rt&&window.navigator.sendBeacon?window.navigator.sendBeacon(this.reportUrl,JSON.stringify(nt)):this.fetch(this.reportUrl,nt),this.tracerCache=null}catch{}},tt.prototype.processTracer=function(et,rt,nt){var it={count:et,state:nt,key:rt,params_for_special:"applog_trace",aid:this.appid,platform:"web",_staging_flag:1,sdk_version:SDK_VERSION$5};nt!=="f_net"&&nt!=="f_data"||(it.errorCode=this.errorCode[nt]);var ot=this.collect.processEvent("applog_trace",it);if(ot&&ot.event)return delete ot.is_bav,ot},tt.prototype.listener=function(){var et=this;document.addEventListener("visibilitychange",function(){document.visibilityState==="hidden"&&et.leavePage()}),beforePageUnload(function(){et.leavePage()})},tt.prototype.leavePage=function(){this.report(!0)},tt}(),dayjs_min=createCommonjsModule$4(function(tt,et){tt.exports=function(){var rt="millisecond",nt="second",it="minute",ot="hour",at="day",st="week",lt="month",ct="quarter",ut="year",dt="date",ft="Invalid Date",pt=/^(\d{4})[-\/]?(\d{1,2})?[-\/]?(\d{0,2})[Tt\s]*(\d{1,2})?:?(\d{1,2})?:?(\d{1,2})?[.:]?(\d+)?$/,mt=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ht={name:"en",weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_")},gt=function(It,Lt,Pt){var Nt=String(It);return!Nt||Nt.length>=Lt?It:""+Array(Lt+1-Nt.length).join(Pt)+It},vt={s:gt,z:function(It){var Lt=-It.utcOffset(),Pt=Math.abs(Lt),Nt=Math.floor(Pt/60),Ot=Pt%60;return(Lt<=0?"+":"-")+gt(Nt,2,"0")+":"+gt(Ot,2,"0")},m:function It(Lt,Pt){if(Lt.date()<Pt.date())return-It(Pt,Lt);var Nt=12*(Pt.year()-Lt.year())+(Pt.month()-Lt.month()),Ot=Lt.clone().add(Nt,lt),Bt=Pt-Ot<0,zt=Lt.clone().add(Nt+(Bt?-1:1),lt);return+(-(Nt+(Pt-Ot)/(Bt?Ot-zt:zt-Ot))||0)},a:function(It){return It<0?Math.ceil(It)||0:Math.floor(It)},p:function(It){return{M:lt,y:ut,w:st,d:at,D:dt,h:ot,m:it,s:nt,ms:rt,Q:ct}[It]||String(It||"").toLowerCase().replace(/s$/,"")},u:function(It){return It===void 0}},yt="en",bt={};bt[yt]=ht;var xt=function(It){return It instanceof At},$t=function(It,Lt,Pt){var Nt;if(!It)return yt;if(typeof It=="string")bt[It]&&(Nt=It),Lt&&(bt[It]=Lt,Nt=It);else{var Ot=It.name;bt[Ot]=It,Nt=Ot}return!Pt&&Nt&&(yt=Nt),Nt||!Pt&&yt},Tt=function(It,Lt){if(xt(It))return It.clone();var Pt=typeof Lt=="object"?Lt:{};return Pt.date=It,Pt.args=arguments,new At(Pt)},wt=vt;wt.l=$t,wt.i=xt,wt.w=function(It,Lt){return Tt(It,{locale:Lt.$L,utc:Lt.$u,x:Lt.$x,$offset:Lt.$offset})};var At=function(){function It(Pt){this.$L=$t(Pt.locale,null,!0),this.parse(Pt)}var Lt=It.prototype;return Lt.parse=function(Pt){this.$d=function(Nt){var Ot=Nt.date,Bt=Nt.utc;if(Ot===null)return new Date(NaN);if(wt.u(Ot))return new Date;if(Ot instanceof Date)return new Date(Ot);if(typeof Ot=="string"&&!/Z$/i.test(Ot)){var zt=Ot.match(pt);if(zt){var Vt=zt[2]-1||0,Ut=(zt[7]||"0").substring(0,3);return Bt?new Date(Date.UTC(zt[1],Vt,zt[3]||1,zt[4]||0,zt[5]||0,zt[6]||0,Ut)):new Date(zt[1],Vt,zt[3]||1,zt[4]||0,zt[5]||0,zt[6]||0,Ut)}}return new Date(Ot)}(Pt),this.$x=Pt.x||{},this.init()},Lt.init=function(){var Pt=this.$d;this.$y=Pt.getFullYear(),this.$M=Pt.getMonth(),this.$D=Pt.getDate(),this.$W=Pt.getDay(),this.$H=Pt.getHours(),this.$m=Pt.getMinutes(),this.$s=Pt.getSeconds(),this.$ms=Pt.getMilliseconds()},Lt.$utils=function(){return wt},Lt.isValid=function(){return this.$d.toString()!==ft},Lt.isSame=function(Pt,Nt){var Ot=Tt(Pt);return this.startOf(Nt)<=Ot&&Ot<=this.endOf(Nt)},Lt.isAfter=function(Pt,Nt){return Tt(Pt)<this.startOf(Nt)},Lt.isBefore=function(Pt,Nt){return this.endOf(Nt)<Tt(Pt)},Lt.$g=function(Pt,Nt,Ot){return wt.u(Pt)?this[Nt]:this.set(Ot,Pt)},Lt.unix=function(){return Math.floor(this.valueOf()/1e3)},Lt.valueOf=function(){return this.$d.getTime()},Lt.startOf=function(Pt,Nt){var Ot=this,Bt=!!wt.u(Nt)||Nt,zt=wt.p(Pt),Vt=function(ir,rr){var mr=wt.w(Ot.$u?Date.UTC(Ot.$y,rr,ir):new Date(Ot.$y,rr,ir),Ot);return Bt?mr:mr.endOf(at)},Ut=function(ir,rr){return wt.w(Ot.toDate()[ir].apply(Ot.toDate("s"),(Bt?[0,0,0,0]:[23,59,59,999]).slice(rr)),Ot)},jt=this.$W,qt=this.$M,Dt=this.$D,Ft="set"+(this.$u?"UTC":"");switch(zt){case ut:return Bt?Vt(1,0):Vt(31,11);case lt:return Bt?Vt(1,qt):Vt(0,qt+1);case st:var Zt=this.$locale().weekStart||0,Kt=(jt<Zt?jt+7:jt)-Zt;return Vt(Bt?Dt-Kt:Dt+(6-Kt),qt);case at:case dt:return Ut(Ft+"Hours",0);case ot:return Ut(Ft+"Minutes",1);case it:return Ut(Ft+"Seconds",2);case nt:return Ut(Ft+"Milliseconds",3);default:return this.clone()}},Lt.endOf=function(Pt){return this.startOf(Pt,!1)},Lt.$set=function(Pt,Nt){var Ot,Bt=wt.p(Pt),zt="set"+(this.$u?"UTC":""),Vt=(Ot={},Ot[at]=zt+"Date",Ot[dt]=zt+"Date",Ot[lt]=zt+"Month",Ot[ut]=zt+"FullYear",Ot[ot]=zt+"Hours",Ot[it]=zt+"Minutes",Ot[nt]=zt+"Seconds",Ot[rt]=zt+"Milliseconds",Ot)[Bt],Ut=Bt===at?this.$D+(Nt-this.$W):Nt;if(Bt===lt||Bt===ut){var jt=this.clone().set(dt,1);jt.$d[Vt](Ut),jt.init(),this.$d=jt.set(dt,Math.min(this.$D,jt.daysInMonth())).$d}else Vt&&this.$d[Vt](Ut);return this.init(),this},Lt.set=function(Pt,Nt){return this.clone().$set(Pt,Nt)},Lt.get=function(Pt){return this[wt.p(Pt)]()},Lt.add=function(Pt,Nt){var Ot,Bt=this;Pt=Number(Pt);var zt=wt.p(Nt),Vt=function(qt){var Dt=Tt(Bt);return wt.w(Dt.date(Dt.date()+Math.round(qt*Pt)),Bt)};if(zt===lt)return this.set(lt,this.$M+Pt);if(zt===ut)return this.set(ut,this.$y+Pt);if(zt===at)return Vt(1);if(zt===st)return Vt(7);var Ut=(Ot={},Ot[it]=6e4,Ot[ot]=36e5,Ot[nt]=1e3,Ot)[zt]||1,jt=this.$d.getTime()+Pt*Ut;return wt.w(jt,this)},Lt.subtract=function(Pt,Nt){return this.add(-1*Pt,Nt)},Lt.format=function(Pt){var Nt=this,Ot=this.$locale();if(!this.isValid())return Ot.invalidDate||ft;var Bt=Pt||"YYYY-MM-DDTHH:mm:ssZ",zt=wt.z(this),Vt=this.$H,Ut=this.$m,jt=this.$M,qt=Ot.weekdays,Dt=Ot.months,Ft=function(rr,mr,sr,fr){return rr&&(rr[mr]||rr(Nt,Bt))||sr[mr].substr(0,fr)},Zt=function(rr){return wt.s(Vt%12||12,rr,"0")},Kt=Ot.meridiem||function(rr,mr,sr){var fr=rr<12?"AM":"PM";return sr?fr.toLowerCase():fr},ir={YY:String(this.$y).slice(-2),YYYY:this.$y,M:jt+1,MM:wt.s(jt+1,2,"0"),MMM:Ft(Ot.monthsShort,jt,Dt,3),MMMM:Ft(Dt,jt),D:this.$D,DD:wt.s(this.$D,2,"0"),d:String(this.$W),dd:Ft(Ot.weekdaysMin,this.$W,qt,2),ddd:Ft(Ot.weekdaysShort,this.$W,qt,3),dddd:qt[this.$W],H:String(Vt),HH:wt.s(Vt,2,"0"),h:Zt(1),hh:Zt(2),a:Kt(Vt,Ut,!0),A:Kt(Vt,Ut,!1),m:String(Ut),mm:wt.s(Ut,2,"0"),s:String(this.$s),ss:wt.s(this.$s,2,"0"),SSS:wt.s(this.$ms,3,"0"),Z:zt};return Bt.replace(mt,function(rr,mr){return mr||ir[rr]||zt.replace(":","")})},Lt.utcOffset=function(){return 15*-Math.round(this.$d.getTimezoneOffset()/15)},Lt.diff=function(Pt,Nt,Ot){var Bt,zt=wt.p(Nt),Vt=Tt(Pt),Ut=6e4*(Vt.utcOffset()-this.utcOffset()),jt=this-Vt,qt=wt.m(this,Vt);return qt=(Bt={},Bt[ut]=qt/12,Bt[lt]=qt,Bt[ct]=qt/3,Bt[st]=(jt-Ut)/6048e5,Bt[at]=(jt-Ut)/864e5,Bt[ot]=jt/36e5,Bt[it]=jt/6e4,Bt[nt]=jt/1e3,Bt)[zt]||jt,Ot?qt:wt.a(qt)},Lt.daysInMonth=function(){return this.endOf(lt).$D},Lt.$locale=function(){return bt[this.$L]},Lt.locale=function(Pt,Nt){if(!Pt)return this.$L;var Ot=this.clone(),Bt=$t(Pt,Nt,!0);return Bt&&(Ot.$L=Bt),Ot},Lt.clone=function(){return wt.w(this.$d,this)},Lt.toDate=function(){return new Date(this.valueOf())},Lt.toJSON=function(){return this.isValid()?this.toISOString():null},Lt.toISOString=function(){return this.$d.toISOString()},Lt.toString=function(){return this.$d.toUTCString()},It}(),Rt=At.prototype;return Tt.prototype=Rt,[["$ms",rt],["$s",nt],["$m",it],["$H",ot],["$W",at],["$M",lt],["$y",ut],["$D",dt]].forEach(function(It){Rt[It[1]]=function(Lt){return this.$g(Lt,It[0],It[1])}}),Tt.extend=function(It,Lt){return It.$i||(It(Lt,At,Tt),It.$i=!0),Tt},Tt.locale=$t,Tt.isDayjs=xt,Tt.unix=function(It){return Tt(1e3*It)},Tt.en=bt[yt],Tt.Ls=bt,Tt.p={},Tt}()}),duration=createCommonjsModule$4(function(tt,et){var rt,nt,it,ot,at,st,lt,ct,ut,dt,ft,pt,mt,ht,gt,vt,yt;tt.exports=(at=/\[([^\]]+)]|Y{1,4}|M{1,4}|D{1,2}|d{1,4}|H{1,2}|h{1,2}|a|A|m{1,2}|s{1,2}|Z{1,2}|SSS/g,ct=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,ut={years:st=31536e6,months:lt=2592e6,days:ot=864e5,hours:it=36e5,minutes:6e4,seconds:1e3,milliseconds:1,weeks:6048e5},dt=function(bt){return bt instanceof yt},ft=function(bt,xt,$t){return new yt(bt,$t,xt.$l)},pt=function(bt){return nt.p(bt)+"s"},mt=function(bt){return bt<0},ht=function(bt){return mt(bt)?Math.ceil(bt):Math.floor(bt)},gt=function(bt){return Math.abs(bt)},vt=function(bt,xt){return bt?mt(bt)?{negative:!0,format:""+gt(bt)+xt}:{negative:!1,format:""+bt+xt}:{negative:!1,format:""}},yt=function(){function bt($t,Tt,wt){var At=this;if(this.$d={},this.$l=wt,$t===void 0&&(this.$ms=0,this.parseFromMilliseconds()),Tt)return ft($t*ut[pt(Tt)],this);if(typeof $t=="number")return this.$ms=$t,this.parseFromMilliseconds(),this;if(typeof $t=="object")return Object.keys($t).forEach(function(Lt){At.$d[pt(Lt)]=$t[Lt]}),this.calMilliseconds(),this;if(typeof $t=="string"){var Rt=$t.match(ct);if(Rt){var It=Rt.slice(2).map(function(Lt){return Number(Lt)});return this.$d.years=It[0],this.$d.months=It[1],this.$d.weeks=It[2],this.$d.days=It[3],this.$d.hours=It[4],this.$d.minutes=It[5],this.$d.seconds=It[6],this.calMilliseconds(),this}}return this}var xt=bt.prototype;return xt.calMilliseconds=function(){var $t=this;this.$ms=Object.keys(this.$d).reduce(function(Tt,wt){return Tt+($t.$d[wt]||0)*ut[wt]},0)},xt.parseFromMilliseconds=function(){var $t=this.$ms;this.$d.years=ht($t/st),$t%=st,this.$d.months=ht($t/lt),$t%=lt,this.$d.days=ht($t/ot),$t%=ot,this.$d.hours=ht($t/it),$t%=it,this.$d.minutes=ht($t/6e4),$t%=6e4,this.$d.seconds=ht($t/1e3),$t%=1e3,this.$d.milliseconds=$t},xt.toISOString=function(){var $t=vt(this.$d.years,"Y"),Tt=vt(this.$d.months,"M"),wt=+this.$d.days||0;this.$d.weeks&&(wt+=7*this.$d.weeks);var At=vt(wt,"D"),Rt=vt(this.$d.hours,"H"),It=vt(this.$d.minutes,"M"),Lt=this.$d.seconds||0;this.$d.milliseconds&&(Lt+=this.$d.milliseconds/1e3);var Pt=vt(Lt,"S"),Nt=$t.negative||Tt.negative||At.negative||Rt.negative||It.negative||Pt.negative,Ot=Rt.format||It.format||Pt.format?"T":"",Bt=(Nt?"-":"")+"P"+$t.format+Tt.format+At.format+Ot+Rt.format+It.format+Pt.format;return Bt==="P"||Bt==="-P"?"P0D":Bt},xt.toJSON=function(){return this.toISOString()},xt.format=function($t){var Tt=$t||"YYYY-MM-DDTHH:mm:ss",wt={Y:this.$d.years,YY:nt.s(this.$d.years,2,"0"),YYYY:nt.s(this.$d.years,4,"0"),M:this.$d.months,MM:nt.s(this.$d.months,2,"0"),D:this.$d.days,DD:nt.s(this.$d.days,2,"0"),H:this.$d.hours,HH:nt.s(this.$d.hours,2,"0"),m:this.$d.minutes,mm:nt.s(this.$d.minutes,2,"0"),s:this.$d.seconds,ss:nt.s(this.$d.seconds,2,"0"),SSS:nt.s(this.$d.milliseconds,3,"0")};return Tt.replace(at,function(At,Rt){return Rt||String(wt[At])})},xt.as=function($t){return this.$ms/ut[pt($t)]},xt.get=function($t){var Tt=this.$ms,wt=pt($t);return wt==="milliseconds"?Tt%=1e3:Tt=wt==="weeks"?ht(Tt/ut[wt]):this.$d[wt],Tt===0?0:Tt},xt.add=function($t,Tt,wt){var At;return At=Tt?$t*ut[pt(Tt)]:dt($t)?$t.$ms:ft($t,this).$ms,ft(this.$ms+At*(wt?-1:1),this)},xt.subtract=function($t,Tt){return this.add($t,Tt,!0)},xt.locale=function($t){var Tt=this.clone();return Tt.$l=$t,Tt},xt.clone=function(){return ft(this.$ms,this)},xt.humanize=function($t){return rt().add(this.$ms,"ms").locale(this.$l).fromNow(!$t)},xt.milliseconds=function(){return this.get("milliseconds")},xt.asMilliseconds=function(){return this.as("milliseconds")},xt.seconds=function(){return this.get("seconds")},xt.asSeconds=function(){return this.as("seconds")},xt.minutes=function(){return this.get("minutes")},xt.asMinutes=function(){return this.as("minutes")},xt.hours=function(){return this.get("hours")},xt.asHours=function(){return this.as("hours")},xt.days=function(){return this.get("days")},xt.asDays=function(){return this.as("days")},xt.weeks=function(){return this.get("weeks")},xt.asWeeks=function(){return this.as("weeks")},xt.months=function(){return this.get("months")},xt.asMonths=function(){return this.as("months")},xt.years=function(){return this.get("years")},xt.asYears=function(){return this.as("years")},bt}(),function(bt,xt,$t){rt=$t,nt=$t().$utils(),$t.duration=function(At,Rt){var It=$t.locale();return ft(At,{$l:It},Rt)},$t.isDuration=dt;var Tt=xt.prototype.add,wt=xt.prototype.subtract;xt.prototype.add=function(At,Rt){return dt(At)&&(At=At.asMilliseconds()),Tt.bind(this)(At,Rt)},xt.prototype.subtract=function(At,Rt){return dt(At)&&(At=At.asMilliseconds()),wt.bind(this)(At,Rt)}})});dayjs_min.extend(duration);var ignoreList=["__cep_sdk_onboard","__cep_trigger_sdk","_be_active"],moreOP=["and","or","not"],CepRule=function(){function CepRule(){this.support=!0,this.currentPlan=1,this.shouldSendEvent=!1,this.staing=!1,this.test=!1,this.cepReady=!1,this.eventCache=[]}return CepRule.prototype.apply=function(tt,et){var rt=this;if(this.collect=tt,this.config=et,this.config.cep){var nt=tt.adapters,it=nt.fetch,ot=nt.storage,at=tt.Types;this.types=at,this.storage=new ot(!1),this.fetch=it,this.configManager=tt.configManager,this.url=et.cep_url?""+et.cep_url:tt.configManager.getDomain()+"/service/2/cep_settings/",this.reportUrl=tt.configManager.getUrl("event"),this.key="__tea_cep_plan_"+et.app_id,this.quotasKey="__tea_cep_plan_quotas_"+et.app_id,this.isWait=!1,this.eventCache=[],this.test=tt.configManager.staging,this.collect.on(at.SubmitAfter,function(st){rt.matchEvent(st)}),this.init()}},CepRule.prototype.init=function(){var tt=this,et=!0,rt=0,nt=0,it=0,ot=!1,at=this.storage.getItem(this.key)||{};if(at&&Object.keys(at).length&&(ot=!0,rt=at.last_update_time,nt=at.fetch_interval,it=at.config_version||0,et=Date.now()-rt>1e3*nt),et){var st=this.configManager.get(),lt=st.header,ct=st.user;this.fetch(this.url,{header:lt,user:ct,local_time:Date.now(),config_version:it},1e4,!1,function(ut){ut&&ut.code===0?(at.fetch_interval=ut.fetch_interval,at.data=ut.data,at.last_update_time=Date.now(),at.config_version=ut.config_version,tt.clearQuotas(),tt.initState(ut.data),tt.storage.setItem(tt.key,at),ut.data.forEach(function(dt){tt.event("__cep_sdk_onboard",dt.plan_id)})):ut.code!==304&&ut.code!==400||!ot?""+ut.code:(""+ut.code,at.last_update_time=Date.now(),tt.storage.setItem(tt.key,at),tt.initState(at.data))},function(){ot?(tt.planData=at.data,tt.initState(at.data)):tt.support=!1})}else at.last_update_time=Date.now(),this.storage.setItem(this.key,at),this.initState(at.data)},CepRule.prototype.initState=function(tt){var et=this;tt&&tt.length&&(this.stateArray=new Map,this.waitArray=new Map,this.planData=tt,tt.forEach(function(rt){var nt=new Map;if(rt.pattern&&rt.pattern.events){var it=rt.pattern.events.length===1;rt.pattern.events.forEach(function(ot){nt.set(ot.id,{id:ot.id,isMatch:!1,event:null,after:ot.after||null,connection:ot.connection||null,window:ot.window||null,matchTime:0,initTime:Date.now(),singleRule:it})}),et.stateArray.set(rt.plan_id,{patternState:nt,singleRule:it,pattern:{aid:rt.aid,biz_id:rt.biz_id,end_time:rt.end_time,start_time:rt.start_time,web_sdk_version:rt.web_sdk_version,stage:rt.stage},quotas:rt.quotas})}}),this.cepReady=!0,this.dealCache(),this.collect.emit(this.types.CepReady))},CepRule.prototype.check=function(tt){var et=Date.now();return Date.now()>1e3*tt.end_time||et<1e3*tt.start_time||et>1e3*tt.end_time?(""+tt.plan_id,!1):(this.staing=tt.staing==="testing",!(SDK_VERSION$5<tt.web_sdk_version)||(this.support=!1,""+tt.web_sdk_version,!1))},CepRule.prototype.dealCache=function(){var tt=this;if(this.eventCache.length){var et=1;this.eventCache.forEach(function(rt){tt.matchEvent(rt),et++}),et===this.eventCache.length&&(this.eventCache=[])}},CepRule.prototype.matchEvent=function(tt){if(this.support&&(!this.staing||this.test)&&tt&&tt.length)try{if(!this.cepReady)return void this.eventCache.push(tt);var et=tt[0],rt=et.header,nt=et.user,it=et.events;it.length&&it.reverse();for(var ot=0;ot<it.length;ot++){var at=it[ot].event;if(ignoreList.indexOf(at)!==-1)return!1;this.matchRule(rt,nt,it[ot])}}catch(st){return void console.log(st.message)}},CepRule.prototype.matchRule=function(tt,et,rt){try{for(var nt=0;nt<this.planData.length;nt++){var it=this.planData[nt],ot=it.plan_id;if(this.check(it)&&this.checkQuotas(ot)&&it.pattern&&it.pattern.events){for(var at=it.pattern.events,st=0;st<at.length;st++)if(this.rule(tt,et,rt,at[st].condition)){var lt=this.stateArray.get(ot).patternState,ct=lt.get(at[st].id);if(this.stateArray.get(ot).singleRule){this.changeStatus(ot,at[st].id,rt),this.publish([rt],ot,at[st].id);break}if(!ct.isMatch){ct.after&&lt.get(ct.after).isMatch?this.changeStatus(ot,at[st].id,rt):ct.after||this.changeStatus(ot,at[st].id,rt);break}}}}this.statusCheck()}catch(ut){return void console.log(ut.message)}},CepRule.prototype.changeStatus=function(tt,et,rt){var nt=this.stateArray.get(tt),it=nt.patternState.get(et);it.isMatch=!0,it.event=rt,it.matchTime=rt.local_time_ms||Date.now(),nt.patternState.set(et,it),this.stateArray.set(tt,nt)},CepRule.prototype.statusCheck=function(){var tt,et,rt,nt;try{for(var it=__values(this.stateArray),ot=it.next();!ot.done;ot=it.next()){var at=__read$5(ot.value,2),st=at[0],lt=at[1],ct=lt.patternState;if(lt.isSingle)break;try{for(var ut=__values(ct),dt=ut.next();!dt.done;dt=ut.next()){var ft=__read$5(dt.value,2),pt=ft[0],mt=ft[1];if(mt.after&&(!mt.after||ct.get(mt.after).isMatch)){if(mt.connection==="NOT_FOLLOWED_BY"){mt.isMatch?this.reset(st,pt):Date.now()-ct.get(mt.after).matchTime>mt.window?this.publish([ct.get(mt.after).event,mt.event],st,pt):this.startWait(st,pt,mt);break}mt.isMatch?mt.matchTime-ct.get(mt.after).matchTime<=mt.window?this.publish([ct.get(mt.after).event,mt.event],st,pt):this.reset(st,pt):Date.now()-ct.get(mt.after).matchTime>mt.window?this.reset(st,pt):this.startWait(st,pt,mt);break}}}catch(ht){rt={error:ht}}finally{try{dt&&!dt.done&&(nt=ut.return)&&nt.call(ut)}finally{if(rt)throw rt.error}}}}catch(ht){tt={error:ht}}finally{try{ot&&!ot.done&&(et=it.return)&&et.call(it)}finally{if(tt)throw tt.error}}},CepRule.prototype.startWait=function(tt,et,rt){var nt=this;try{this.waitArray.get(tt)||this.waitArray.set(tt,new Map);var it=this.waitArray.get(tt);if(!it.get(et)){var ot=setTimeout(function(){var at=nt.stateArray.get(tt).patternState,st=at.get(et);if(st.connection==="NOT_FOLLOWED_BY")!st.isMatch&&at.get(st.after).isMatch||st.matchTime-at.get(st.after).matchTime>rt.window?((lt=nt.waitArray.get(tt).get(et)).triggerWait=!0,nt.waitArray.set(tt,nt.waitArray.get(tt).set(et,lt)),nt.publish([at.get(st.after).event],tt,et)):nt.reset(tt,et);else if(st.connection==="FOLLOWED_BY"){var lt;st.isMatch&&at.get(st.after).isMatch?((lt=nt.waitArray.get(tt).get(et)).triggerWait=!0,nt.waitArray.set(tt,nt.waitArray.get(tt).set(et,lt)),nt.publish([at.get(st.after).event],tt,et)):nt.reset(tt,et)}},rt.window);it.set(et,{waitFn:ot,triggerWait:!1}),this.waitArray.set(tt,it)}}catch(at){at.message,at.stack}},CepRule.prototype.rule=function(tt,et,rt,nt){var it=this;try{var ot=rt.event,at=rt.params;if(at=JSON.parse(at),moreOP.indexOf(nt.op)!==-1){if(nt.conditions&&nt.conditions.length){var st=nt.conditions,lt=0,ct=new Map;ct.set(lt,{op:nt.op,result:void 0,resultList:[],resultKey:[],resultLength:st.length}),function gt(vt,yt){for(var bt=0;bt<vt.length;bt++)if(lt++,moreOP.indexOf(vt[bt].op)!==-1&&vt[bt].hasOwnProperty("conditions"))ct.set(lt,{op:vt[bt].op,result:void 0,fatherKey:yt,resultList:[],resultKey:[],resultLength:vt[bt].conditions.length}),gt(vt[bt].conditions,lt);else{var xt=it.scope(vt[bt].key),$t=xt.scope,Tt=xt.key,wt=xt.key2,At=$t?$t==="header"?wt?JSON.parse(tt[wt])[Tt]:tt[Tt]:$t==="user"?et[Tt]:at[Tt]:ot,Rt=it.calculate(vt[bt].op,At,vt[bt].value);ct.set(lt,{op:vt[bt].op,result:Rt,fatherKey:yt})}}(st,lt);for(var ut=ct.get(0);ut.result===void 0||ut.resultList.length<ut.resultLength;)ct.forEach(function(gt,vt){if(gt.result!==void 0&&gt.fatherKey!==void 0){var yt=ct.get(gt.fatherKey);yt.resultList.length<yt.resultLength&&yt.resultKey.indexOf(vt)===-1&&(yt.resultKey.push(vt),yt.resultList.push(gt.result),ct.set(gt.fatherKey,yt))}}),ct.forEach(function(gt){gt.resultList&&gt.resultList.length===gt.resultLength&&(gt.op==="and"&&(gt.result=gt.resultList.indexOf(!1)===-1),gt.op==="or"&&(gt.result=gt.resultList.indexOf(!0)!==-1))});return ct.get(0).result}return!1}var dt=this.scope(nt.key),ft=dt.scope,pt=dt.key,mt=dt.key2,ht=ft?ft==="header"?mt?JSON.parse(tt[mt])[pt]:tt[pt]:ft==="user"?et[pt]:at[pt]:ot;return this.calculate(nt.op,ht,nt.value)}catch(gt){return gt.message,!1}},CepRule.prototype.publish=function(tt,et,rt){try{var nt=this.configManager.get().user,it={biz_id:this.stateArray.get(et).pattern.biz_id,plan_id:et,uid:nt.user_id||"",did:nt.device_id||"",uuid:nt.user_unique_id,events:tt,extra:{url:window.location.href}};this.collect.emit("__cep_match",it),(window.opener||window.parent).postMessage({type:"__cep_match",data:it},"*"),this.event("__cep_trigger_sdk",et),this.addQuotas(et),this.reset(et,rt),this.stateArray}catch(ot){return void console.log(ot.message)}},CepRule.prototype.addQuotas=function(tt){var et=this.stateArray.get(tt).quotas;if(et&&et.length){var rt=this.storage.getItem(this.quotasKey)||{};rt[tt]||(rt[tt]={value:0,lastTime:Date.now()});var nt=rt[tt].value;nt===0&&(rt[tt].lastTime=Date.now()),rt[tt].value=nt+1,this.storage.setItem(this.quotasKey,rt)}},CepRule.prototype.checkQuotas=function(tt){var et=this.stateArray.get(tt).quotas,rt=this.storage.getItem(this.quotasKey)||{};if(rt[tt]||(rt[tt]={value:0,lastTime:Date.now()}),et&&et.length){var nt=et[0].granularity,it=et[0].value;if(et[0].type!=="per_keyid")return!0;var ot=this.release(nt);return ot==="all"?!(rt[tt].value>=it)||(""+tt,!1):Date.now()-rt[tt].lastTime>=ot?(rt[tt].value=0,rt[tt].lastTime=Date.now(),this.storage.setItem(this.quotasKey,rt),!0):!(rt[tt].value>=it)||(""+tt,!1)}return!0},CepRule.prototype.clearQuotas=function(){this.storage.setItem(this.quotasKey,null)},CepRule.prototype.release=function(tt){if(tt==="all")return tt;var et=dayjs_min.duration(tt);return et?et.asMilliseconds():"all"},CepRule.prototype.reset=function(tt,et){var rt=this.stateArray.get(tt);if(rt.singleRule){var nt=rt.patternState.get(et);nt.isMatch=!1,nt.event=null,nt.matchTime=0,nt.initTime=Date.now(),rt.patternState.set(et,nt)}else rt.patternState.forEach(function(ot){ot.isMatch=!1,ot.event=null,ot.matchTime=0,ot.initTime=Date.now()});this.stateArray.set(tt,rt);var it=this.waitArray.get(tt);it&&it.get(et)&&(clearTimeout(it.get(et).waitFn),it.delete(et))},CepRule.prototype.event=function(tt,et){try{var rt={event:tt,params:JSON.stringify({plan_id:et||"",biz_id:this.stateArray.get(et).pattern.biz_id}),local_time_ms:Date.now()},nt=this.configManager.get(),it=nt.header,ot=nt.user;it.custom=JSON.stringify(it.custom);var at={events:[rt],user:ot,header:it};this.fetch(this.reportUrl,[at])}catch(st){return void console.log(st.message)}},CepRule.prototype.scope=function(tt){var et="",rt="";if(tt.indexOf(".")>-1){var nt=tt.split(".");et=nt[0],tt=nt[1],et==="header"&&tt==="custom"&&(tt=nt[2],rt=nt[1])}return{scope:et,key:tt,key2:rt}},CepRule.prototype.calculate=function(op,paramA,paramB){try{if(op==="=")return paramA===paramB;if(["=","<",">",">=","<=","!="].indexOf(op)!==-1)return eval(""+paramA+op+paramB);if(["in","contains"].indexOf(op)!==-1)return paramB.indexOf(paramA)!==-1;if(["is not null","is null"].indexOf(op)!==-1)return op==="is null"?paramA==null:paramA!=null;if(["startswith","endswith"].indexOf(op)!==-1){if(op==="startswith")return paramA.indexOf(paramB)===0;var start=paramA.length-paramB.length,str=paramA.substr(start,paramB.length);return str===paramB}}catch(tt){return tt.message,!1}},CepRule}(),getLogPluginSpace=function(){return typeof window<"u"?(window.LogPluginObject||(window.LogPluginObject={}),window.LogPluginObject):null},pluginObject=getLogPluginSpace(),PluginExtend=function(){function tt(){}return tt.prototype.apply=function(et,rt){this._plugin={},this.config=rt,this.collect=et,this.channel=rt.channel||"cn",this.loadExtend()},tt.prototype.loadExtend=function(){var et=this;try{this.collect.remotePlugin.forEach(function(rt,nt){if(rt==="sdk")if(pluginExtendList.hasOwnProperty(nt)){var it=pluginExtendList[nt].object,ot=pluginExtendList[nt].src[et.channel]+"?query="+Date.now();et.exist(nt,it,ot)}else console.warn("your"+nt+" is not exist，please check plugin name");else typeof rt=="object"&&(rt.src?et.exist(nt,rt.call,rt.src):et.process(nt,rt.instance,"INSTANCE"))})}catch{}},tt.prototype.exist=function(et,rt,nt){var it=this;pluginObject[rt]?this.process(et,pluginObject[rt]):this.loadPlugin(et,nt,function(){it.process(et,pluginObject[rt]),""+et},function(){""+et})},tt.prototype.process=function(et,rt,nt){try{if(nt){var it=new rt;it.apply&&it.apply(this.collect,this.config),""+et}else rt&&rt(this.collect,this.config)}catch(ot){""+et+ot.message}},tt.prototype.loadPlugin=function(et,rt,nt,it){var ot=this;try{var at=document.createElement("script");at.src=rt,this._plugin[et]||(this._plugin[et]=[]),this._plugin[et].push(nt),at.onerror=function(){it(rt)},at.onload=function(){ot._plugin[et].forEach(function(st){st()})},document.getElementsByTagName("head")[0].appendChild(at)}catch{}},tt}(),Verify=function(){function tt(){this.verifyReady=!1,this.waitTime=5e3,this.cleanStatus=!1}return tt.prototype.apply=function(et,rt){var nt=this;this.collector=et,this.config=rt;var it=et.adapters.storage;this.cacheStorgae=new it(!1,"session"),this.eventStorage=[],this.collector.on("submit-verify",function(ot){ot&&ot.length&&nt.eventStore(ot[0])}),this.checkCache()},tt.prototype.checkCache=function(){var et=this;this.verifyCookieKey="__applog_verify_set_"+this.config.app_id,this.cacheStorgae.getCookie(this.verifyCookieKey);var rt=this.cacheStorgae.getItem(this.verifyCookieKey);this.sign=rt&&rt.sign||"",this.origin=rt&&rt.origin||"*";var nt=setTimeout(function(){et.cleanVerify(),clearTimeout(nt),et.collector.off("submit-verify")},this.waitTime);window.addEventListener("message",function(it){it&&it.data&&it.data.type==="simulator:verify"&&(clearTimeout(nt),et.receMessage(it))},!0)},tt.prototype.receMessage=function(et){if(!this.cleanStatus){var rt=et.data;this.verifyReady=!0,this.sign=rt.sign,this.origin=et.origin,this.cacheStorgae.setItem(this.verifyCookieKey,JSON.stringify({sign:rt.sign,origin:et.origin})),this.eventStorage.length&&this.postVerify(this.eventStorage,rt.sign,et.origin)}},tt.prototype.eventStore=function(et){this.cleanStatus||(this.verifyReady?this.postVerify(et,this.sign,this.origin):this.eventStorage.push(et))},tt.prototype.cleanVerify=function(){this.cleanStatus=!0,this.eventStorage=[]},tt.prototype.postVerify=function(et,rt,nt){try{var it=[];isArray$6(et)?et.forEach(function(at){it.push(at)}):it.push(et);var ot={type:"simulator:verify:event",sign:rt,pageUrl:window.location.href,events:it};(window.opener||window.parent).postMessage(ot,nt)}catch{}},tt}(),RuotePage=function(){function tt(){this.autotrack=!1,this.spa=!1,this.cache={}}return tt.prototype.apply=function(et,rt){if(rt.spa||rt.autotrack){var nt=et.Types;this.collect=et,this.config=rt,this.appid=rt.app_id,this.fncArray=new Map,this.setKey(),this.setLocation(),this.hack(),this.init(),this.listener(),et.emit(nt.RouteReady)}},tt.prototype.setKey=function(){var et=this.collect.adapters.storage;this.storage=new et(!1),this.cache_key="__tea_cache_refer_"+this.appid,this.cache={refer_key:location.href,refer_title:document.title||location.pathname,refer_manual_key:""},this.config.autotrack&&typeof this.config.autotrack=="object"&&this.config.autotrack.page_manual_key&&(this.cache.refer_manual_key=this.config.autotrack.page_manual_key),this.storage.setItem(this.cache_key,this.cache)},tt.prototype.hack=function(){var et=this,rt=window.history.pushState;history.pushState=function(it){for(var ot=[],at=1;at<arguments.length;at++)ot[at-1]=arguments[at];typeof history.onpushstate=="function"&&history.onpushstate({state:it});var st=rt.call.apply(rt,__spread([history,it],ot)),lt=et.getPopStateChangeEventData();return et.lastLocation=stringify$4(location.href,ot[1]),et.sendPv(lt,"pushState"),st};var nt=history.replaceState;history.replaceState=function(it){for(var ot=[],at=1;at<arguments.length;at++)ot[at-1]=arguments[at];typeof history.onreplacestate=="function"&&history.onreplacestate({state:it});var st=nt.call.apply(nt,__spread([history,it],ot)),lt=et.getPopStateChangeEventData();return et.lastLocation=stringify$4(location.href,ot[1]),et.sendPv(lt),st}},tt.prototype.setLocation=function(){typeof window<"u"&&(this.lastLocation=window.location.href)},tt.prototype.init=function(){var et=this.getPopStateChangeEventData();this.collect.emit("route-change",{config:et,init:!0})},tt.prototype.listener=function(){var et=this,rt=null;window.addEventListener("hashchange",function(nt){et.lastLocation!==window.location.href&&clearTimeout(rt)}),window.addEventListener("popstate",function(nt){et.lastLocation!==window.location.href&&(rt=setTimeout(function(){et.lastLocation=window.location.href;var it=et.getPopStateChangeEventData();et.sendPv(it)},10))})},tt.prototype.getPopStateChangeEventData=function(){var et=this.pageConfig();return et.is_back=0,et},tt.prototype.pageConfig=function(){try{var et="",rt=this.storage.getItem(this.cache_key)||{},nt=!1;return et=document.referrer?document.referrer:rt&&rt.refer_key||"",nt=!this.storage.getItem("__tea_cache_first_"+this.appid),{is_html:1,url:location.href,referrer:et,page_key:location.href,refer_page_key:et,page_title:document.title||location.pathname,page_manual_key:this.config.autotrack&&this.config.autotrack.page_manual_key||"",refer_page_manual_key:rt&&rt.refer_manual_key||"",refer_page_title:rt&&rt.refer_title||"",page_path:location.pathname,page_host:location.host,is_first_time:""+nt}}catch{return{}}},tt.prototype.sendPv=function(et,rt){this.collect.emit("route-change",{config:et,init:!1})},tt}();Collector.usePlugin(PluginExtend,"extend"),Collector.usePlugin(Ab,"ab"),Collector.usePlugin(Stay,"stay"),Collector.usePlugin(AutoTrack,"autotrack"),Collector.usePlugin(Verify,"verify"),Collector.usePlugin(Et,"et"),Collector.usePlugin(Profile,"profile"),Collector.usePlugin(CepRule,"cep"),Collector.usePlugin(HeartBeat,"heartbeat"),Collector.usePlugin(Monitor,"monitor"),Collector.usePlugin(RuotePage,"route"),Collector.usePlugin(Tracer,"tracer");var Tea=new Collector("default");typeof document=="object"&&function(tt){"currentScript"in tt||Object.defineProperty(tt,"currentScript",{get:function(){try{throw new Error}catch(ut){var et=0,rt=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec(ut.stack),nt=rt&&rt[1]||!1,it=rt&&rt[2]||0,ot=tt.location.href.replace(tt.location.hash,""),at="",st=tt.getElementsByTagName("script");if(nt===ot){var lt=tt.documentElement.outerHTML,ct=new RegExp("(?:[^\\n]+?\\n){0,"+(it-2)+"}[^<]*<script>([\\d\\D]*?)<\\/script>[\\d\\D]*","i");at=lt.replace(ct,"$1").trim()}for(;et<st.length;et++)if(st[et].readyState==="interactive"||st[et].src===nt||nt===ot&&st[et].innerHTML&&st[et].innerHTML.trim()===at)return st[et];return null}}})}(document);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign$5=function(){return __assign$5=Object.assign||function(et){for(var rt,nt=1,it=arguments.length;nt<it;nt++){rt=arguments[nt];for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(et[ot]=rt[ot])}return et},__assign$5.apply(this,arguments)};function __read$4(tt,et){var rt=typeof Symbol=="function"&&tt[Symbol.iterator];if(!rt)return tt;var nt=rt.call(tt),it,ot=[],at;try{for(;(et===void 0||et-- >0)&&!(it=nt.next()).done;)ot.push(it.value)}catch(st){at={error:st}}finally{try{it&&!it.done&&(rt=nt.return)&&rt.call(nt)}finally{if(at)throw at.error}}return ot}function __spreadArray$4(tt,et,rt){if(rt||arguments.length===2)for(var nt=0,it=et.length,ot;nt<it;nt++)(ot||!(nt in et))&&(ot||(ot=Array.prototype.slice.call(et,0,nt)),ot[nt]=et[nt]);return tt.concat(ot||Array.prototype.slice.call(et))}var DEFAULT_SIZE$4=10,DEFAULT_WAIT$4=1e3,stringifyBatch$4=function(tt){return JSON.stringify({ev_type:"batch",list:tt})};function createBatchSender$4(tt){var et=tt.transport,rt=tt.endpoint,nt=tt.size,it=nt===void 0?DEFAULT_SIZE$4:nt,ot=tt.wait,at=ot===void 0?DEFAULT_WAIT$4:ot,st=[],lt=0,ct={getSize:function(){return it},getWait:function(){return at},setSize:function(dt){it=dt},setWait:function(dt){at=dt},getEndpoint:function(){return rt},setEndpoint:function(dt){rt=dt},send:function(dt){st.push(dt),st.length>=it&&ut.call(this),clearTimeout(lt),lt=setTimeout(ut.bind(this),at)},flush:function(){clearTimeout(lt),ut.call(this)},getBatchData:function(){return st.length?stringifyBatch$4(st):""},clear:function(){clearTimeout(lt),st=[]}};function ut(){st.length&&(et.post({url:rt,data:this.getBatchData()}),st=[])}return ct}var EVENTS$4=["init","start","config","beforeDestroy","provide","beforeReport","report","beforeBuild","build","beforeSend","send","beforeConfig"],noop$5=function(){};function id$5(tt){return tt}function isObject$6(tt){return typeof tt=="object"&&tt!==null}function isInstanceOf(tt,et){try{return tt instanceof et}catch{return!1}}var objProto$4=Object.prototype;function isPlainObject$1(tt){if(isObject$6(tt)){if(typeof Object.getPrototypeOf=="function"){var et=Object.getPrototypeOf(tt);return et===objProto$4||et===null}return objProto$4.toString.call(tt)==="[object Object]"}return!1}function isArray$5(tt){return objProto$4.toString.call(tt)==="[object Array]"}function isFunction$1(tt){return typeof tt=="function"}function isBoolean$4(tt){return typeof tt=="boolean"}function isNumber$5(tt){return typeof tt=="number"}function isString$5(tt){return typeof tt=="string"}function isError(tt){switch(Object.prototype.toString.call(tt)){case"[object Error]":return!0;case"[object Exception]":return!0;case"[object DOMError]":return!0;case"[object DOMException]":return!0;default:return tt instanceof Error}}function isEvent(tt){return typeof Event<"u"&&isInstanceOf(tt,Event)}function isErrorEvent(tt){return Object.prototype.toString.call(tt)==="[object ErrorEvent]"}function isPromiseRejectionEvent(tt){return Object.prototype.toString.call(tt)==="[object PromiseRejectionEvent]"}function hasKey(tt,et){return Object.prototype.hasOwnProperty.call(tt,et)}function mergeDeepConcatArray(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];for(var rt={},nt=0;nt<tt.length;)rt=_mergeDeepMergeArray(rt,tt[nt++]);return rt}function _mergeDeepMergeArray(tt,et){var rt=__assign$5({},tt);for(var nt in et)hasKey(et,nt)&&et[nt]!==void 0&&(isObject$6(et[nt])&&isPlainObject$1(et[nt])?rt[nt]=_mergeDeepMergeArray(isObject$6(tt[nt])?tt[nt]:{},et[nt]):isArray$5(et[nt])&&isArray$5(tt[nt])?rt[nt]=_mergeDeepArray(tt[nt],et[nt]):rt[nt]=et[nt]);return rt}function _mergeDeepArray(tt,et){var rt=isArray$5(tt)?tt:[],nt=isArray$5(et)?et:[];return Array.prototype.concat.call(rt,nt).map(function(it){return it instanceof RegExp?it:isObject$6(it)&&isPlainObject$1(it)?_mergeDeepMergeArray({},it):isArray$5(it)?_mergeDeepArray([],it):it})}function arrayIncludes$5(tt,et){if(!isArray$5(tt)||tt.length===0)return!1;for(var rt=0;rt<tt.length;){if(tt[rt]===et)return!0;rt++}return!1}var arrayRemove$4=function(tt,et){if(!isArray$5(tt))return tt;var rt=tt.indexOf(et);if(rt>=0){var nt=tt.slice();return nt.splice(rt,1),nt}return tt},safeVisit$4=function(tt,et,rt){for(var nt,it,ot=et.split("."),at=__read$4(ot),st=at[0],lt=at.slice(1);tt&&lt.length>0;)tt=tt[st],nt=lt,it=__read$4(nt),st=it[0],lt=it.slice(1);if(tt)return rt(tt,st)},safeCall=function(tt,et,rt){return safeVisit$4(tt,et,function(nt,it){if(nt&&it in nt&&isFunction$1(nt[it]))try{return nt[it].apply(nt,rt)}catch{return}})},applyRecord=function(){var tt={},et=function(nt,it){return tt[nt]=it},rt=function(nt){return delete tt[nt]};return[tt,et,rt]},pick=function(tt,et){return!tt||!isObject$6(tt)?tt:et.reduce(function(rt,nt){return rt[nt]=tt[nt],rt},{})},camelToKebab=function(tt){return tt.replace(/([a-z])([A-Z])/g,function(et,rt,nt){return rt+"-"+nt.toLowerCase()})};function getRegexp(tt){return isArray$5(tt)&&tt.length?joinRegExp(tt):null}function joinRegExp(tt){for(var et=[],rt=tt.length,nt=0;nt<rt;nt++){var it=tt[nt];isString$5(it)?et.push(it.replace(/([.*+?^=!:${}()|[\]/\\])/g,"\\$1")):it&&it.source&&et.push(it.source)}return new RegExp(et.join("|"),"i")}function safeStringify$4(tt){try{return isString$5(tt)?tt:JSON.stringify(tt)}catch(et){return"[FAILED_TO_STRINGIFY]:"+String(et)}}function createContextAgent$4(){var tt={},et={},rt={set:function(nt,it){return tt[nt]=it,et[nt]=safeStringify$4(it),rt},merge:function(nt){return tt=__assign$5(__assign$5({},tt),nt),Object.keys(nt).forEach(function(it){et[it]=safeStringify$4(nt[it])}),rt},delete:function(nt){return delete tt[nt],delete et[nt],rt},clear:function(){return tt={},et={},rt},get:function(nt){return et[nt]},toString:function(){return __assign$5({},et)}};return rt}var hookObjectProperty=function(tt,et,rt){return function(){for(var nt=[],it=0;it<arguments.length;it++)nt[it]=arguments[it];if(!tt)return noop$5;var ot=tt[et],at=rt.apply(void 0,__spreadArray$4([ot],__read$4(nt),!1)),st=at;return isFunction$1(st)&&(st=function(){for(var lt=[],ct=0;ct<arguments.length;ct++)lt[ct]=arguments[ct];try{return at.apply(this,lt)}catch{return isFunction$1(ot)&&ot.apply(this,lt)}}),tt[et]=st,function(lt){(!lt||st===tt[et])&&(tt[et]=ot)}}},hookMethodDangerously=function(tt,et,rt){return function(){for(var nt=[],it=0;it<arguments.length;it++)nt[it]=arguments[it];tt[et]=rt.apply(void 0,__spreadArray$4([tt[et]],__read$4(nt),!1))}},errCount$4=0,error$4=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];console.error.apply(console,__spreadArray$4(["[SDK]",Date.now(),(""+errCount$4++).padStart(8," ")],__read$4(tt),!1))},warnCount$4=0,warn$4=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];console.warn.apply(console,__spreadArray$4(["[SDK]",Date.now(),(""+warnCount$4++).padStart(8," ")],__read$4(tt),!1))},isHitBySampleRate$4=function(tt){return Math.random()<Number(tt)},isHitByRandom$4=function(tt,et){return tt<Number(et)},runProcessors$4=function(tt){return function(et){for(var rt=et,nt=0;nt<tt.length&&rt;nt++)try{rt=tt[nt](rt)}catch(it){error$4(it)}return rt}};function mathRNG$4(){for(var tt=new Array(16),et=0,rt=0;rt<16;rt++)rt&3||(et=Math.random()*4294967296),tt[rt]=et>>>((rt&3)<<3)&255;return tt}function bytesToUuid$4(tt){for(var et=[],rt=0;rt<256;++rt)et[rt]=(rt+256).toString(16).substr(1);var nt=0,it=et;return[it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]]].join("")}function uuid$4(){var tt=mathRNG$4();return tt[6]=tt[6]&15|64,tt[8]=tt[8]&63|128,bytesToUuid$4(tt)}function createClient$4(tt){var et=tt.builder,rt=tt.createSender,nt=tt.createDefaultConfig,it=tt.createConfigManager,ot=tt.userConfigNormalizer,at=tt.initConfigNormalizer,st=tt.validateInitConfig,lt,ct,ut={};EVENTS$4.forEach(function(yt){return ut[yt]=[]});var dt=!1,ft=!1,pt=!1,mt=[],ht=[],gt={getBuilder:function(){return et},getSender:function(){return lt},getPreStartQueue:function(){return mt},init:function(yt){if(dt){warn$4("already inited");return}if(yt&&isObject$6(yt)&&st(yt)){var bt=nt(yt);if(!bt)throw new Error("defaultConfig missing");var xt=at(yt);if(ct=it(bt),ct.setConfig(xt),ct.onChange(function(){vt("config")}),lt=rt(ct.getConfig()),!lt)throw new Error("sender missing");dt=!0,vt("init",!0)}else throw new Error("invalid InitConfig, init failed")},set:function(yt){dt&&yt&&isObject$6(yt)&&(vt("beforeConfig",!1,yt),ct==null||ct.setConfig(yt))},config:function(yt){if(dt)return yt&&isObject$6(yt)&&(vt("beforeConfig",!1,yt),ct==null||ct.setConfig(ot(yt))),ct==null?void 0:ct.getConfig()},provide:function(yt,bt){if(arrayIncludes$5(ht,yt)){warn$4("cannot provide "+yt+", reserved");return}gt[yt]=bt,vt("provide",!1,yt)},start:function(){var yt=this;dt&&(ft||ct==null||ct.onReady(function(){ft=!0,vt("start",!0),mt.forEach(function(bt){return yt.build(bt)}),mt=[]}))},report:function(yt){if(yt){var bt=runProcessors$4(ut.beforeReport)(yt);if(bt){var xt=runProcessors$4(ut.report)(bt);xt&&(ft?this.build(xt):mt.push(xt))}}},build:function(yt){if(ft){var bt=runProcessors$4(ut.beforeBuild)(yt);if(bt){var xt=et.build(bt);if(xt){var $t=runProcessors$4(ut.build)(xt);$t&&this.send($t)}}}},send:function(yt){if(ft){var bt=runProcessors$4(ut.beforeSend)(yt);bt&&(lt.send(bt),vt("send",!1,bt))}},destroy:function(){pt=!0,vt("beforeDestroy",!0)},on:function(yt,bt){yt==="init"&&dt||yt==="start"&&ft||yt==="beforeDestroy"&&pt?bt():ut[yt]&&ut[yt].push(bt)},off:function(yt,bt){ut[yt]&&(ut[yt]=arrayRemove$4(ut[yt],bt))}};return ht=Object.keys(gt),gt;function vt(yt,bt){bt===void 0&&(bt=!1);for(var xt=[],$t=2;$t<arguments.length;$t++)xt[$t-2]=arguments[$t];ut[yt].forEach(function(Tt){try{Tt.apply(void 0,__spreadArray$4([],__read$4(xt),!1))}catch{}}),bt&&(ut[yt].length=0)}}var ContextPlugin$4=function(tt){var et=createContextAgent$4();tt.provide("context",et),tt.on("report",function(rt){return rt.extra||(rt.extra={}),rt.extra.context=et.toString(),rt})},withCommandArray=function(tt,et,rt){var nt={},it=function(){for(var at,st=[],lt=0;lt<arguments.length;lt++)st[lt]=arguments[lt];var ct=st[0];if(ct){var ut=ct.split(".")[0];if(!(ut in it)){var dt=nt[ut]||[],ft=(at=et==null?void 0:et(tt))!==null&&at!==void 0?at:{};dt.push(__spreadArray$4([ft],__read$4(st),!1)),nt[ut]=dt;return}return safeCall(it,ct,[].slice.call(st,1))}};hookObjectProperty(tt,"provide",function(at){return function(st,lt){it[st]=lt,at.call(tt,st,lt)}})();for(var ot in tt)Object.prototype.hasOwnProperty.call(tt,ot)&&(it[ot]=tt[ot]);return tt.on("provide",function(at){nt[at]&&(nt[at].forEach(function(st){var lt=__read$4(st),ct=lt[0],ut=lt.slice(1);rt==null||rt(tt,ct,ut)}),nt[at]=null)}),it};function IntegrationPlugin$4(tt){tt.on("init",function(){var et=[],rt=tt.config();!rt||!rt.integrations||rt.integrations.forEach(function(nt){arrayIncludes$5(et,nt.name)||(et.push(nt.name),nt.setup(tt),nt.tearDown&&tt.on("beforeDestroy",nt.tearDown))})})}function getDefaultBrowser$4(){if(typeof window=="object"&&isObject$6(window))return window}function getDefaultDocument(){if(typeof document=="object"&&isObject$6(document))return document}function getDefaultLocation(){return getDefaultBrowser$4()&&window.location}function getDefaultHistory(){return getDefaultBrowser$4()&&window.history}function getDefaultPerformance(){if(getDefaultBrowser$4()&&isObject$6(window.performance))return window.performance}function getDefaultXMLHttpRequest(){if(typeof XMLHttpRequest=="function"&&isFunction$1(XMLHttpRequest))return XMLHttpRequest}function getDefaultFetch(){try{return new Headers,new Request(""),new Response,window.fetch}catch{}}function getDefaultMutationObserver(){if(getDefaultBrowser$4()&&isFunction$1(window.MutationObserver))return window.MutationObserver}function getDefaultPerformanceObserver(){if(getDefaultBrowser$4()&&isFunction$1(window.PerformanceObserver))return window.PerformanceObserver}function getDefaultPerformanceTiming(){var tt=getDefaultPerformance();if(tt&&isObject$6(tt.timing))return tt.timing}function getDefaultRaf(){if(getDefaultBrowser$4()&&"requestAnimationFrame"in window)return window.requestAnimationFrame}function getDefaultCaf(){if(getDefaultBrowser$4()&&"cancelAnimationFrame"in window)return window.cancelAnimationFrame}function getDefaultNavigator(){if(getDefaultBrowser$4()&&"navigator"in window)return window.navigator}function getDefaultNetworkInformation(){var tt=getDefaultNavigator();if(tt)return tt.connection||tt.mozConnection||tt.webkitConnection}var getGlobalRegistry$4=function(tt){if(tt)return tt.__SLARDAR_REGISTRY__||(tt.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[]}}),tt.__SLARDAR_REGISTRY__.Slardar},reportSelfError$4=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];var rt=getGlobalRegistry$4(getDefaultBrowser$4());rt&&(rt.errors||(rt.errors=[]),rt.errors.push(tt))},applyMutationObserver=function(tt,et){var rt=tt&&new tt(et),nt=function(ot,at){rt&&ot&&rt.observe(ot,at)},it=function(){return rt&&rt.disconnect()};return[nt,it]},applyAnimationFrame=function(tt,et,rt,nt){var it=!isFunction$1(et)||nt&&tt&&tt.hidden?function(lt){return lt(0),0}:et,ot=isFunction$1(rt)?rt:noop$5,at,st=function(lt){at&&ot(at),at=it(lt)};return[st,it,ot]},applyPerformance=function(tt){var et=tt&&tt.timing||void 0,rt=function(){if(tt&&tt.now)return tt.now();var at=Date.now?Date.now():+new Date,st=et&&et.navigationStart||0;return at-st},nt=function(at){var st=(tt||{}).getEntriesByType;return isFunction$1(st)&&st.call(tt,at)||[]},it=function(at){var st=(tt||{}).getEntriesByName;return isFunction$1(st)&&st.call(tt,at)||[]},ot=function(){var at=(tt||{}).clearResourceTimings;isFunction$1(at)&&at.call(tt)};return[et,rt,nt,ot,it]},applyPerformanceObserver=function(tt,et,rt,nt){var it=tt&&new tt(function(st,lt){st.getEntries?st.getEntries().forEach(function(ct,ut,dt){return et(ct,ut,dt,lt)}):nt&&nt(),rt&&lt.disconnect()}),ot=function(){for(var st=[],lt=0;lt<arguments.length;lt++)st[lt]=arguments[lt];if(!tt||!it)return nt&&nt();try{st.forEach(function(ct){tt.supportedEntryTypes.indexOf(ct)>-1&&it.observe({type:ct,buffered:!1})})}catch{try{it.observe({entryTypes:st})}catch{return nt&&nt()}}},at=function(){return it&&it.disconnect()};return[ot,at]},applyMonitor=function(tt,et,rt,nt){et===void 0&&(et={}),nt===void 0&&(nt=[]);try{var it=tt.apply(void 0,__spreadArray$4([],__read$4(nt),!1));return it&&it(et,rt)||[]}catch(ot){return reportSelfError$4(ot),[]}};function getFullUrl(tt){var et=getDefaultDocument();if(!et||!tt)return"";var rt=et.createElement("a");return rt.href=tt,rt.href}function parseUrl(tt){var et=getDefaultDocument();if(!et||!tt)return{url:tt,protocol:"",domain:"",query:"",path:"",hash:""};var rt=et.createElement("a");rt.href=tt;var nt=rt.pathname||"/";return nt[0]!=="/"&&(nt="/"+nt),{url:rt.href,protocol:rt.protocol.slice(0,-1),domain:rt.hostname,query:rt.search.substring(1),path:nt,hash:rt.hash}}function getLocationUrl(){var tt=getDefaultBrowser$4()&&getDefaultLocation();return tt==null?void 0:tt.href}var captureCurrentContext=function(tt){var et={url:getLocationUrl(),timestamp:Date.now()},rt=tt.config();return rt!=null&&rt.pid&&(et.pid=rt.pid),tt!=null&&tt.context&&(et.context=tt.context.toString()),et},syncReportWithCapturedContext=function(tt,et){return function(rt){var nt=function(it){return it.overrides=et,it};tt.on("report",nt),rt(),tt.off("report",nt)}},getCookieId=function(tt){var et=getDefaultDocument();try{if(et!=null&&et.cookie)return getValueFromCookieName(et.cookie,tt)}catch{}return""};function getValueFromCookieName(tt,et){return!tt||!et?"":parseCookie(tt)[et]||""}function parseCookie(tt){for(var et=tt.split(";"),rt={},nt=0;nt<et.length;nt++){var it=et[nt].split("="),ot=isString$5(it[0])&&it[0].trim();ot&&isString$5(it[1])&&(rt[ot]=it[1].trim())}return rt}function onPageLoad(tt){var et=getDefaultBrowser$4(),rt=getDefaultDocument();if(!(!et||!rt)){if(rt.readyState==="complete"){tt();return}et.addEventListener("load",function(){setTimeout(function(){tt()},0)},!1)}}var invokeCallbackOnce=function(tt){var et=!1,rt=function(nt){et||(et=!0,tt&&tt(nt))};return[rt]},onPageUnload=function(tt){var et=__read$4(invokeCallbackOnce(tt),1),rt=et[0];["unload","beforeunload","pagehide"].forEach(function(nt){addEventListener(nt,rt)})},onceHidden=function(tt){if(document.visibilityState==="hidden"){tt();return}var et=function(){document.visibilityState==="hidden"&&(tt(),removeEventListener("visibilitychange",et,!0))};addEventListener("visibilitychange",et,!0)},loadScript$4=function(tt,et){var rt,nt=getDefaultDocument();if(nt){var it=nt.createElement("script");it.src=tt,it.crossOrigin="anonymous",it.onload=et,(rt=nt.head)===null||rt===void 0||rt.appendChild(it)}},getConfig=function(tt,et){return isObject$6(tt)?__assign$5(__assign$5({},et),tt):tt?et:!1},getStorageItem=function(tt){try{var et=localStorage.getItem(tt),rt=et;return et&&typeof et=="string"&&(rt=JSON.parse(et)),rt}catch{return}},setStorageItem=function(tt,et){try{var rt=typeof et=="string"?et:JSON.stringify(et);localStorage.setItem(tt,rt)}catch{}},headerKeyRe=new RegExp("(cookie|auth|jwt|token|key|ticket|secret|credential|session|password)","i"),headerValueRe=new RegExp("(bearer|session)","i"),isSensitiveHeader=function(tt,et){return!tt||!et?!1:headerKeyRe.test(tt)||headerValueRe.test(et)};function formatXHRAllResponseHeaders(tt){return isString$5(tt)&&tt?tt.split(`\r
`).reduce(function(et,rt){if(isString$5(rt)){var nt=__read$4(rt.split(": "),2),it=nt[0],ot=nt[1];!isSensitiveHeader(it,ot)&&(et[it.toLowerCase()]=ot)}return et},{}):{}}var getEventParams=function(tt,et,rt){var nt=tt._method,it=tt._reqHeaders,ot=tt._url,at=tt._start,st=tt._data,lt={api:"xhr",request:{url:getFullUrl(ot),method:(nt||"").toLowerCase(),headers:it,timestamp:at},response:{status:tt.status||0,is_custom_error:!1,timing:rt(tt.responseURL),timestamp:Date.now()},duration:Date.now()-at};typeof tt.getAllResponseHeaders=="function"&&(lt.response.headers=formatXHRAllResponseHeaders(tt.getAllResponseHeaders()));var ct=lt.response.status,ut=et.collectBodyOnError,dt=et.extraExtractor;try{var ft=dt==null?void 0:dt(tt.response,lt);ft&&(lt.extra=ft),ft&&(lt.response.is_custom_error=!0),ut&&ct>=400&&(lt.request.body=st?""+st:void 0,lt.response.body=tt.response?""+tt.response:void 0)}catch{}return lt},checkIsIgnored=function(tt,et){var rt=getRegexp(tt||[]);return!!rt&&rt.test(et)},getGetLatestEntryByName=function(tt){var et=__read$4(applyPerformance(tt),5),rt=et[4];return function(nt){return rt(nt).pop()}},hookSetHeader=function(tt){return function(){for(var et=[],rt=0;rt<arguments.length;rt++)et[rt]=arguments[rt];this._reqHeaders=this._reqHeaders||{};var nt=__read$4(et,2),it=nt[0],ot=nt[1];return!isSensitiveHeader(it,ot)&&(this._reqHeaders[it.toLowerCase()]=ot),tt&&tt.apply(this,et)}},hookOnreadystatechange=function(tt,et){return hookMethodDangerously(tt,"onreadystatechange",function(rt,nt,it){return function(){for(var ot=[],at=0;at<arguments.length;at++)ot[at]=arguments[at];try{this.readyState===4&&!checkIsIgnored(nt.ignoreUrls,tt._url)&&it&&it({ev_type:"http",payload:getEventParams(tt,nt,et)})}catch(st){reportSelfError$4(st)}return rt&&rt.apply(this,ot)}})},hookSend=function(tt,et,rt,nt){return function(){for(var it=this,ot=[],at=0;at<arguments.length;at++)ot[at]=arguments[at];return hookOnreadystatechange(this,nt)(et,et.hookCbAtReq(rt)),et.setTraceHeader&&et.setTraceHeader(this._url,function(st,lt){return it.setRequestHeader(st,lt)}),this._start=Date.now(),this._data=ot==null?void 0:ot[0],tt.apply(this,ot)}},hookOpen=function(tt){return function(){for(var et,rt=[],nt=0;nt<arguments.length;nt++)rt[nt]=arguments[nt];return et=__read$4(rt,2),this._method=et[0],this._url=et[1],tt.apply(this,rt)}},hookXhrMethods=function(tt,et,rt,nt){hookMethodDangerously(tt,"open",hookOpen)(),hookMethodDangerously(tt,"setRequestHeader",hookSetHeader)(),hookMethodDangerously(tt,"send",hookSend)(et,rt,nt)},hookXhr=function(tt,et,rt,nt){function it(){var ot=new tt;return hookXhrMethods(ot,et,rt,nt),ot}return it.prototype=new tt,["DONE","HEADERS_RECIEVED","LOADING","OPENED","UNSENT"].forEach(function(ot){it[ot]=tt[ot]}),it},AjaxMonitor=function(tt,et){if(tt===void 0&&(tt=getDefaultXMLHttpRequest()&&getDefaultBrowser$4()),et===void 0&&(et=getDefaultPerformance()),!!tt){var rt=getGetLatestEntryByName(et);return function(nt,it){if(nt.autoWrap){var ot=XMLHttpRequest&&XMLHttpRequest.prototype;ot&&hookXhrMethods(ot,nt,it,rt)}var at=function(st,lt,ct){return lt===void 0&&(lt=nt),ct===void 0&&(ct=it),hookXhr(st,lt,ct,rt)};return[at]}}},VERSION$1="03",SAMPLED="01",TRACEPARENT="traceparent",DEFAULT_TRACE_CONFIG={sampleRate:1,origins:[]},uuid4=function(){var tt=window.crypto||window.msCrypto;if(tt!==void 0&&tt.getRandomValues){var et=new Uint16Array(8);tt.getRandomValues(et);var rt=function(nt){for(var it=nt.toString(16);it.length<4;)it="0"+it;return it};return rt(et[0])+rt(et[1])+rt(et[2])+rt(et[3])+rt(et[4])+rt(et[5])+rt(et[6])+rt(et[7])}return"xxxxxxxxxxxxxxxxxxxxxxxxxxxxxxxx".replace(/[x]/g,function(){var nt=Math.random()*16|0;return nt.toString(16)})},setTraceContext=function(tt){var et=getConfig(tt,DEFAULT_TRACE_CONFIG);if(et){var rt=isHitBySampleRate$4(et.sampleRate);if(rt)return function(nt,it){var ot=et.origins;ot.length&&Boolean(nt.match(new RegExp(ot.join("|"))))&&it(TRACEPARENT,VERSION$1+"-"+uuid4()+"-"+uuid4().substring(16)+"-"+SAMPLED)}}};function getPluginConfig(tt,et,rt){var nt,it=(nt=tt.config())===null||nt===void 0?void 0:nt.plugins[et];return getConfig(it,rt)}var reportOnInitCommonParams=function(tt,et){var rt=tt.config(),nt={url:getLocationUrl(),pid:rt.pid,view_id:rt.viewId};return function(it){tt.report(__assign$5(__assign$5({},it),{overrides:__assign$5(__assign$5({},nt),et&&et(it)||{})}))}},AJAX_MONITOR_PLUGIN_NAME="ajax",defaultConfig$3={autoWrap:!0,hookCbAtReq:id$5,ignoreUrls:[],collectBodyOnError:!1},getCbHook=function(tt){return function(et){if(!et)return et;var rt=tt.config(),nt={url:getLocationUrl(),pid:rt.pid,view_id:rt.viewId};return function(it){et(__assign$5(__assign$5({},it),{overrides:__assign$5(__assign$5({},nt),{timestamp:it.payload.request.timestamp})}))}}};function AjaxMonitorPlugin(tt){tt.on("init",function(){var et=getPluginConfig(tt,AJAX_MONITOR_PLUGIN_NAME,defaultConfig$3);if(et){var rt=!1,nt=function(){rt=!0},it=function(st){return!rt&&tt.report(st)},ot=__read$4(applyMonitor(AjaxMonitor,__assign$5(__assign$5({},et),{hookCbAtReq:getCbHook(tt),setTraceHeader:setTraceContext(et.trace)}),it),1),at=ot[0];tt.on("beforeDestroy",nt),tt.provide("wrapXhr",at)}})}function isHttpURL(tt){if(!isString$5(tt))return!1;var et=__read$4(tt.split(":"),2),rt=et[0],nt=et[1];return!nt||rt==="http"||rt==="https"}function isRequest(tt,et){return tt instanceof et}var getFetchUrl=function(tt,et,rt){et===void 0&&(et=!1);var nt="";return isRequest(tt,rt)?nt=tt.url:nt=tt,et||(nt=isString$5(nt)?nt.split("?")[0]:nt),nt};function mergeHeaders(tt){for(var et=[],rt=1;rt<arguments.length;rt++)et[rt-1]=arguments[rt];return et.reduce(function(nt,it){return new tt(it).forEach(function(ot,at){return!isSensitiveHeader(at,ot)&&(nt[at]=ot)}),nt},{})}var getFetchMethod=function(tt,et,rt){var nt=et&&et.method||"get";return isRequest(tt,rt)&&(nt=tt.method||nt),nt.toLowerCase()},getFetchBody=function(tt,et,rt){return isRequest(tt,rt)?tt.body:et==null?void 0:et.body},getRequestParams=function(tt,et,rt,nt){return{method:getFetchMethod(et,rt,nt),timestamp:Date.now(),url:getFullUrl(tt)}},addHeader=function(tt,et,rt,nt,it,ot){var at;isRequest(rt,it)?rt.headers.set(tt,et):nt.headers instanceof ot?nt.headers.set(tt,et):nt.headers=__assign$5(__assign$5({},nt.headers),(at={},at[tt]=et,at))},hookFetch$1=function(tt,et,rt,nt,it,ot){return function(at,st){st===void 0&&(st={});var lt=getFetchUrl(at,!1,it);if(!isHttpURL(lt)||checkIsIgnored(et.ignoreUrls,lt))return tt(at,st);var ct=et.hookCbAtReq(rt),ut={api:"fetch",request:getRequestParams(at instanceof it?at.url:at,at,st,it),response:{is_custom_error:!1},duration:0};et.setTraceHeader&&et.setTraceHeader(ut.request.url,function(ht,gt){return addHeader(ht,gt,at,st,it,nt)});var dt=tt(at,st);try{ut.request.headers=mergeHeaders(nt,at.headers,st.headers)}catch(ht){reportSelfError$4(ht)}var ft=function(){ct&&ct({ev_type:"http",payload:ut})},pt=function(ht){var gt;try{ut.response.status=ht.status||0,ut.response.headers=mergeHeaders(nt,ht.headers),ut.duration=Date.now()-ut.request.timestamp;var vt=et.collectBodyOnError,yt=et.extraExtractor;try{yt&&ht.clone().json().then(function(xt){var $t=yt(xt,ut);$t&&(ut.extra=$t,ut.response.is_custom_error=!0)})}catch{}vt&&ht.status>=400&&(ut.request.body=(gt=getFetchBody(at,st,it))===null||gt===void 0?void 0:gt.toString());var bt=function(){return ut.response.timing=ot(ht.url)};setTimeout(function(){bt(),ft()},100)}catch(xt){reportSelfError$4(xt)}},mt=function(){var ht;try{ut.response.status=0,ut.duration=Date.now()-ut.request.timestamp,et.collectBodyOnError&&(ut.request.body=(ht=getFetchBody(at,st,it))===null||ht===void 0?void 0:ht.toString())}catch(gt){reportSelfError$4(gt)}ft()};return dt.then(pt,mt),dt}},FetchMonitor=function(tt,et,rt,nt){if(tt===void 0&&(tt=getDefaultFetch()&&getDefaultBrowser$4()),et===void 0&&(et=window.Headers),rt===void 0&&(rt=window.Request),nt===void 0&&(nt=getDefaultPerformance()),!(!tt||!et||!rt)){var it=getGetLatestEntryByName(nt);return function(ot,at){ot.autoWrap&&hookMethodDangerously(tt,"fetch",hookFetch$1)(ot,at,et,rt,it);var st=function(lt,ct,ut){return ct===void 0&&(ct=ot),ut===void 0&&(ut=at),hookFetch$1(lt,ct,ut,et,rt,it)};return[st]}}},FETCH_MONITOR_PLUGIN_NAME="fetch",defaultConfig$2={autoWrap:!0,hookCbAtReq:id$5,ignoreUrls:[],collectBodyOnError:!1};function FetchMonitorPlugin(tt){tt.on("init",function(){var et=getPluginConfig(tt,FETCH_MONITOR_PLUGIN_NAME,defaultConfig$2);if(et){var rt=!1,nt=function(){rt=!0},it=function(st){return!rt&&tt.report(st)},ot=__read$4(applyMonitor(FetchMonitor,__assign$5(__assign$5({},et),{hookCbAtReq:getCbHook(tt),setTraceHeader:setTraceContext(et.trace)}),it),1),at=ot[0];tt.on("beforeDestroy",nt),tt.provide("wrapFetch",at)}})}var ERROR_FIELDS=["name","message","stack","filename","lineno","colno"],normalize$4=function(tt){var et;return isError(tt)?et=pick(tt,ERROR_FIELDS):(isPlainObject$1(tt)||isEvent(tt)||isString$5(tt))&&(et={message:safeStringify$4(tt)}),et},normalizeError=function(tt){return normalize$4(tt.error)},normalizeException=function(tt){var et;try{var rt=void 0;if("reason"in tt?rt=tt.reason:"detail"in tt&&"reason"in tt.detail&&(rt=tt.detail.reason),rt){var nt=normalize$4(rt);return __assign$5(__assign$5({},nt),{name:(et=nt&&nt.name)!==null&&et!==void 0?et:"UnhandledRejection"})}}catch{}},normalizeUnknownError=function(tt){return isErrorEvent(tt)?normalizeError(tt):isPromiseRejectionEvent(tt)?normalizeException(tt):normalize$4(tt)},JS_ERROR_EV_TYPE="js_error",getDefaultExtractor=function(tt){return function(et){var rt;return tt==="hash"?((rt=parseUrl(et).hash)===null||rt===void 0?void 0:rt.replace(/^#/,""))||"/":parseUrl(et).path}},applyOnPidChange=function(tt,et,rt,nt){var it=rt,ot=et;nt&&nt(et);var at=function(lt,ct,ut){lt!=="user_set"&&ct!==it?(it=ct,ot=ut??it,nt&&nt(ot),tt(lt,ot)):lt==="user_set"&&ct!==ot&&(ot=ct,nt&&nt(ot),tt(lt,ot))},st=function(){et&&tt("init",et)};return[at,st]},applyOnUrlChange=function(tt,et){var rt=et,nt=function(it,ot){ot!==rt&&(rt=ot,tt(it,rt))};return[nt]},PAGEVIEW_EV_TYPE="pageview",PageviewMonitor=function(tt,et,rt){if(tt===void 0&&(tt=getDefaultBrowser$4()),et===void 0&&(et=getDefaultLocation()),rt===void 0&&(rt=getDefaultHistory()),!(!tt||!et))return function(nt,it){var ot=nt.sendInit,at=nt.initPid,st=nt.routeMode,lt=nt.extractPid,ct=nt.onPidUpdate,ut=[],dt=function(Rt,It){it&&it({ev_type:PAGEVIEW_EV_TYPE,payload:{pid:It,source:Rt}})},ft=st==="manual"?function(){return""}:getDefaultExtractor(st),pt=lt||function(){},mt=function(Rt){var It;return(It=pt(Rt))!==null&&It!==void 0?It:ft(Rt)},ht=__read$4(applyOnPidChange(dt,at||mt(et.href),ft(et.href),ct),2),gt=ht[0],vt=ht[1],yt=gt.bind(null,"user_set");if(st!=="manual"){var bt=__read$4(applyOnUrlChange(function(Rt,It){return gt(Rt,ft(It),pt(It))},""),1),xt=bt[0],$t=function(){return xt("history",et.href)};if(rt){var Tt=function(Rt){return function(){for(var It=[],Lt=0;Lt<arguments.length;Lt++)It[Lt]=arguments[Lt];try{Rt.apply(rt,It)}finally{$t()}}};ut.push(hookObjectProperty(rt,"pushState",Tt)(),hookObjectProperty(rt,"replaceState",Tt)())}if(st==="hash"){var wt=function(){return xt("hash",et.href)};tt.addEventListener("hashchange",wt,!0),ut.push(function(){return tt.removeEventListener("hashchange",wt,!0)})}else tt.addEventListener("popstate",$t,!0),ut.push(function(){return tt.removeEventListener("popstate",$t,!0)})}var At=function(){ut.forEach(function(Rt){return Rt()})};return ot&&vt(),[yt,At]}},PAGEVIEW_MONITOR_PLUGIN_NAME="pageview",defaultConfig$1={sendInit:!0,routeMode:"history"};function PageviewMonitorPlugin(tt){tt.on("init",function(){var et,rt=getPluginConfig(tt,PAGEVIEW_MONITOR_PLUGIN_NAME,defaultConfig$1);if(rt){var nt=__read$4(applyMonitor(PageviewMonitor,__assign$5(__assign$5({},rt),{initPid:(et=tt.config())===null||et===void 0?void 0:et.pid,onPidUpdate:function(at){tt.set({pid:at,viewId:at+"_"+Date.now(),actionId:void 0})}}),tt.report.bind(tt)),2),it=nt[0],ot=nt[1];tt.on("config",function(){it(tt.config().pid)}),tt.on("beforeDestroy",ot),tt.provide("sendPageview",it)}})}var defaultMetricContext={isSupport:!0,isPolyfill:!1,isBounced:!1,isCustom:!1,type:"perf"},initMetric=function(tt,et){return __assign$5({name:tt,value:et},defaultMetricContext)},buildSingleMetricPayload=function(tt){return{ev_type:"performance",payload:tt}},FCP_ENTRY_NAME="first-contentful-paint",Paint_Type="paint",PaintMonitor=function(tt,et){return tt===void 0&&(tt=getDefaultPerformanceObserver()),et===void 0&&(et=getDefaultPerformance()),function(rt,nt){var it=rt.metricName,ot=rt.entryName,at=initMetric(it,0),st=__read$4(invokeCallbackOnce(nt),1),lt=st[0];if(!et||!tt){at.isSupport=!1,lt(at);return}var ct=function(bt){var xt=bt.startTime;at.value=xt,lt(at)},ut=__read$4(applyPerformance(et),5),dt=ut[4],ft=dt(ot)[0];if(ft)ct(ft);else{var pt=function(bt){bt.name===ot&&(ct(bt),gt())},mt=__read$4(applyPerformanceObserver(tt,pt),2),ht=mt[0],gt=mt[1];ht(Paint_Type);var vt=function(){at.isSupport=!1,lt(at),gt()};onceHidden(vt);var yt=function(){at.isBounced=!0,lt(at),gt()};onPageUnload(yt)}}},defaultPerformancePrecollect={entries:[],observer:void 0},applyScheduler=function(tt){var et=-1/0,rt=void 0,nt,it=function(){return window.clearTimeout(rt)},ot=function(lt){et>lt||!nt||(it(),rt=window.setTimeout(nt,lt-tt()),et=lt)},at=function(lt,ct){nt=lt,ot(ct)},st=function(){it(),nt=void 0};return[at,st,ot]},calcLastNet2Busy=function(tt,et,rt){if(tt.length>2)return rt();for(var nt=[],it=0;it<et.length;it++)nt.push([et[it].start,0],[et[it].end,1]);for(var it=0;it<tt.length;it++)nt.push([tt[it],0]);nt.sort(function(ct,ut){return ct[0]-ut[0]});for(var ot=tt.length,it=nt.length-1;it>=0;it--){var at=__read$4(nt[it],2),st=at[0],lt=at[1];switch(lt){case 0:ot--;break;case 1:if(ot++,ot>2)return st;break}}return 0},getRequestTimes=function(tt){for(var et=Object.keys(tt),rt=[],nt=0;nt<et.length;nt++){var it=tt[et[nt]];typeof it=="number"&&rt.push(it)}return rt},observeResFetchMutations=function(tt,et){var rt=["img","script","iframe","link","audio","video","source"];function nt(st,lt){for(var ct=0;ct<st.length;ct++)if(arrayIncludes$5(lt,st[ct].nodeName.toLowerCase())||st[ct].children&&nt(st[ct].children,lt))return!0;return!1}var it=__read$4(applyMutationObserver(tt,function(st){for(var lt=0;lt<st.length;lt++)(st[lt].type==="childList"&&nt(st[lt].addedNodes,rt)||st[lt].type==="attributes"&&arrayIncludes$5(rt,st[lt].target.nodeName.toLowerCase()))&&et(st[lt])}),2),ot=it[0],at=it[1];return[function(){return ot(document,{attributes:!0,childList:!0,subtree:!0,attributeFilter:["href","src"]})},at]},getMinValue=function(tt){var et=tt||{},rt=et.domContentLoadedEventEnd,nt=et.navigationStart,it=nt===void 0?0:nt;return rt?rt-it:null},computeTTI=function(tt,et,rt,nt,it){if(nt-rt<5e3)return null;var ot=it.length===0?tt:it[it.length-1].end;return nt-ot<5e3?null:Math.max(ot,et)},hookXHROpen=function(tt){return function(){for(var et=[],rt=0;rt<arguments.length;rt++)et[rt]=arguments[rt];return this._method=et[0],tt.apply(this,et)}},hookXHRSend=function(tt,et,rt){var nt=0;return function(){for(var it=[],ot=0;ot<arguments.length;ot++)it[ot]=arguments[ot];if(this._method!=="GET")return tt.apply(this,it);var at=nt+=2;return et(at,Date.now()),hookObjectProperty(this,"onreadystatechange",function(st){return function(lt){st&&st.call(this,lt),this.readyState===4&&rt(at)}})(),tt.apply(this,it)}},hookFetch=function(tt,et,rt){var nt=1;return function(){for(var it,ot,at=[],st=0;st<arguments.length;st++)at[st]=arguments[st];var lt=((it=at[0])===null||it===void 0?void 0:it.method)||((ot=at[1])===null||ot===void 0?void 0:ot.method)||"GET";return lt!=="GET"?tt.apply(void 0,__spreadArray$4([],__read$4(at),!1)):new Promise(function(ct,ut){var dt=nt+=2;et(dt,Date.now()),tt.apply(void 0,__spreadArray$4([],__read$4(at),!1)).then(function(ft){rt(dt),ct(ft)},function(ft){rt(dt,ft),ut(ft)})})}},gatherLongTaskAndNetworks=function(){var tt=[],et=[],rt=function(nt,it){return function(ot){var at=ot,st=at.startTime,lt=at.duration,ct=at.fetchStart,ut=at.responseEnd,dt=at.entryType;dt==="longtask"?(ot.start=st,ot.end=st+lt,tt.push(ot),nt&&nt(ot)):dt==="resource"&&(et.push({start:ct,end:ut}),it&&it(ot))}};return[tt,et,rt]},TTIMonitorMetricName="tti",applyIncompleteReq=function(tt,et){var rt=__read$4(applyRecord(),3),nt=rt[0],it=rt[1],ot=rt[2],at=et&&hookObjectProperty(et.prototype,"open",hookXHROpen)(),st=et&&hookObjectProperty(et.prototype,"send",hookXHRSend)(it,ot),lt=tt&&hookObjectProperty(tt,"fetch",hookFetch)(it,ot),ct=function(){at&&at(!0),st&&st(!0),lt&&lt(!0)};return[nt,ct]},observeLongTaskAndNetAndResource=function(tt,et,rt,nt){return function(it,ot,at){var st=__read$4(gatherLongTaskAndNetworks(),3),lt=st[0],ct=st[1],ut=st[2],dt=__read$4(applyIncompleteReq(tt,et),2),ft=dt[0],pt=dt[1],mt=__read$4(nt&&observeResFetchMutations(nt,function(){return ot(at()+5e3)})||[],2),ht=mt[0],gt=mt[1];ht&&ht();var vt=function(){return calcLastNet2Busy(getRequestTimes(ft),ct,at)},yt=__read$4(applyPerformanceObserver(rt,ut(function(Tt){var wt=Tt.startTime,At=Tt.duration;return ot(wt+At+5e3)},function(){return ot(vt()+5e3)}),!1,function(){return lt.notSupport=!0}),2),bt=yt[0],xt=yt[1],$t=function(){pt(),xt(),gt&&gt()};return bt("longtask","resource"),it.forEach(ut()),[lt,$t,vt]}},TTIMonitor=function(tt,et,rt,nt,it){return tt===void 0&&(tt=getDefaultXMLHttpRequest()),et===void 0&&(et=getDefaultFetch()&&getDefaultBrowser$4()),rt===void 0&&(rt=getDefaultPerformanceObserver()),nt===void 0&&(nt=getDefaultMutationObserver()),it===void 0&&(it=getDefaultPerformance()),function(ot,at,st,lt){var ct=initMetric(TTIMonitorMetricName,0),ut=function(Zt){var Kt=buildSingleMetricPayload(Zt);at&&at(Kt)},dt=__read$4(invokeCallbackOnce(ut),1),ft=dt[0];if(!tt||!et||!rt||!it)return ct.isSupport=!1,ft(ct),[function(){return 0}];var pt=ot.precollect,mt=ot.isAsync,ht=mt===void 0?0:mt,gt=ot.minValue,vt=gt===void 0?null:gt,yt=pt||{},bt=yt.entries,xt=bt===void 0?[]:bt,$t=yt.observer,Tt=__read$4(applyPerformance(it),5),wt=Tt[0],At=Tt[1],Rt=Tt[4],It=__read$4(applyScheduler(At),3),Lt=It[0],Pt=It[1],Nt=It[2],Ot=__read$4(observeLongTaskAndNetAndResource(et,tt,rt,nt)(ht?[]:xt,Nt,At),3),Bt=Ot[0],zt=Ot[1],Vt=Ot[2],Ut=function(){Pt(),zt(),st&&st(),$t&&$t.disconnect(),xt.length=0},jt=function(Zt){var Kt=Rt("first-contentful-paint")[0],ir=computeTTI((Kt?Kt.startTime:getMinValue(wt))||0,vt||getMinValue(wt)||0,Vt(),At()+(Zt?0:5e3),Bt);if(!Zt)return Ut(),ir;if(!ir)return Nt(At()+1e3);Ut(),Zt(ir)};if(lt&&lt(Bt,Nt,ct),Bt.notSupport)return ct.isSupport=!1,ft(ct),[function(){return 0}];var qt=function(Zt){ct.value=Zt,ft(ct)},Dt=Bt[Bt.length-1];Lt(function(){return jt(qt)},Math.max(Vt()+5e3,Dt?Dt.end:0));var Ft=function(){return jt()||0};return[Ft]}},TTI_MONITOR_PLUGIN_NAME="tti";function TTIMonitorPlugin(tt){tt.on("init",function(){var et=getPluginConfig(tt,TTI_MONITOR_PLUGIN_NAME,{});if(et){var rt=tt.pp||defaultPerformancePrecollect;applyMonitor(TTIMonitor,__assign$5(__assign$5({},et),{precollect:rt}),reportOnInitCommonParams(tt))}})}var FMPMonitorMetricName="fmp",RENDER_TYPR_SSR="SSR",DEFAULT_IGNORE_TAGS=["SCRIPT","STYLE","META","HEAD"],getScore=function(tt,et,rt,nt){if(!tt||nt.indexOf(tt.tagName)>-1)return 0;var it=tt.children,ot=it===void 0?[]:it,at=[].slice.call(ot).reduceRight(function(ut,dt){return ut+getScore(dt,et+1,ut>0,nt)},0);if(at<=0&&!rt){if(!isFunction$1(tt.getBoundingClientRect))return 0;var st=tt.getBoundingClientRect()||{},lt=st.top,ct=st.height;if(lt>window.innerHeight||ct<=0)return 0}return at+1+.5*et},getFMPInternal=function(tt){var et=tt===void 0?[]:tt,rt=__read$4(et),nt=rt[0],it=rt.slice(1);return it&&it.reduce(function(ot,at){var st=__read$4(ot,2),lt=st[0],ct=st[1],ut=at.score-lt.score;return[at,at.time>=lt.time&&ct.rate<ut?{time:at.time,rate:ut}:ct]},[nt,{time:nt==null?void 0:nt.time,rate:0}])[1].time||0},FMPMonitor=function(tt,et,rt,nt,it){var ot;return tt===void 0&&(tt=getDefaultDocument()),et===void 0&&(et=getDefaultMutationObserver()),rt===void 0&&(rt=(ot=getDefaultPerformanceTiming())===null||ot===void 0?void 0:ot.navigationStart),nt===void 0&&(nt=getDefaultRaf()),it===void 0&&(it=getDefaultCaf()),function(at,st){var lt=at.renderType,ct=initMetric(FMPMonitorMetricName,0),ut=function(wt){var At=buildSingleMetricPayload(wt);st&&st(At)};if(lt===RENDER_TYPR_SSR)return applyMonitor(PaintMonitor,{metricName:FMPMonitorMetricName,entryName:FCP_ENTRY_NAME},ut),[noop$5];var dt=__read$4(invokeCallbackOnce(ut),1),ft=dt[0];if(!tt||!et||!rt)return ct.isSupport=!1,ft(ct),[noop$5];var pt=Date.now(),mt=[],ht=function(){return mt.push({time:Date.now()-pt,score:getScore(tt&&tt.body,1,!1,DEFAULT_IGNORE_TAGS)})},gt=__read$4(applyAnimationFrame(tt,nt,it,!0),1),vt=gt[0],yt=__read$4(applyMutationObserver(et,function(){return vt(ht)}),2),bt=yt[0],xt=yt[1],$t=function(wt){wt===void 0&&(wt=0),xt();var At=getFMPInternal(mt);ct.value=At?At+wt:0,ft(ct)},Tt=pt-(rt||0);return bt(tt,{subtree:!0,childList:!0}),[$t.bind(null,Tt)]}},FMP_MONITOR_PLUGIN_NAME="fmp",defaultConfig={renderType:"CSR"};function FMPMonitorPlugin(tt){tt.on("init",function(){var et=getPluginConfig(tt,FMP_MONITOR_PLUGIN_NAME,defaultConfig);if(et){var rt=__read$4(applyMonitor(FMPMonitor,et,reportOnInitCommonParams(tt)),1),nt=rt[0];onPageLoad(function(){return setTimeout(nt,200)})}})}var HEATMAP_MONITOR_PLUGIN_NAME="heatmap",CUSTOM_EV_TYPE$4="custom",CUSTOM_EVENT_TYPE$4="event",CUSTOM_LOG_TYPE$4="log",normalizeCustomEventData$4=function(tt){if(!(!tt||!isObject$6(tt))&&!(!tt.name||!isString$5(tt.name))){var et={name:tt.name,type:CUSTOM_EVENT_TYPE$4};if("metrics"in tt&&isObject$6(tt.metrics)){var rt=tt.metrics,nt={};for(var it in rt)isNumber$5(rt[it])&&(nt[it]=rt[it]);et.metrics=nt}if("categories"in tt&&isObject$6(tt.categories)){var ot=tt.categories,at={};for(var it in ot)at[it]=safeStringify$4(ot[it]);et.categories=at}return et}},normalizeCustomLogData$4=function(tt){if(!(!tt||!isObject$6(tt))&&!(!tt.content||!isString$5(tt.content))){var et=tt.content,rt={content:safeStringify$4(et),type:CUSTOM_LOG_TYPE$4,level:"info"};if("level"in tt&&(rt.level=tt.level),"extra"in tt&&isObject$6(tt.extra)){var nt=tt.extra,it={},ot={};for(var at in nt)isNumber$5(nt[at])?it[at]=nt[at]:ot[at]=safeStringify$4(nt[at]);rt.metrics=it,rt.categories=ot}return rt}},CustomPlugin$4=function(tt){var et=function(nt){var it=normalizeCustomEventData$4(nt);it&&tt.report({ev_type:CUSTOM_EV_TYPE$4,payload:it,extra:{timestamp:Date.now()}})},rt=function(nt){var it=normalizeCustomLogData$4(nt);it&&tt.report({ev_type:CUSTOM_EV_TYPE$4,payload:it,extra:{timestamp:Date.now()}})};tt.provide("sendEvent",et),tt.provide("sendLog",rt)};function getNetworkType(tt){return(tt==null?void 0:tt.effectiveType)||(tt==null?void 0:tt.type)||""}var InjectNetworkTypePlugin=function(tt){var et=getDefaultNetworkInformation(),rt=getNetworkType(et);et&&(et.onchange=function(){rt=getNetworkType(et)}),tt.on("report",function(nt){return __assign$5(__assign$5({},nt),{extra:__assign$5(__assign$5({},nt.extra||{}),{network_type:rt})})})},withSampleRate$4=function(tt,et){var rt=tt.common||{};return rt.sample_rate=et,tt.common=rt,tt},hitFnWithRandom$4=function(tt,et,rt,nt,it){return tt?function(ot){return function(){return ot}}(it(nt,et)):function(){return rt(et)}},parseValues$4=function(tt,et){return tt.map(function(rt){switch(et){case"number":return Number(rt);case"boolean":return rt==="1";case"string":default:return String(rt)}})},checkVal$4=function(tt,et,rt){switch(rt){case"eq":return arrayIncludes$5(et,tt);case"neq":return!arrayIncludes$5(et,tt);case"gt":return tt>et[0];case"gte":return tt>=et[0];case"lt":return tt<et[0];case"lte":return tt<=et[0];case"regex":return Boolean(tt.match(new RegExp(et.join("|"))));case"not_regex":return!tt.match(new RegExp(et.join("|")));default:return!1}},checkFilter$4=function(tt,et,rt,nt){var it=safeVisit$4(tt,et,function(at,st){return at[st]});if(it===void 0)return!1;var ot=isBoolean$4(it)?"bool":isNumber$5(it)?"number":"string";return checkVal$4(it,parseValues$4(nt,ot),rt)},matchFilter$4=function(tt,et){try{return et.type==="rule"?checkFilter$4(tt,et.field,et.op,et.values):et.type==="and"?et.children.every(function(rt){return matchFilter$4(tt,rt)}):et.children.some(function(rt){return matchFilter$4(tt,rt)})}catch(rt){return reportSelfError$4(rt),!1}},getHitMap$4=function(tt,et,rt,nt,it,ot){var at={};return Object.keys(tt).forEach(function(st){var lt=tt[st],ct=lt.enable,ut=lt.sample_rate,dt=lt.conditional_sample_rules;ct?(at[st]={enable:ct,sample_rate:ut,effectiveSampleRate:ut*rt,hit:hitFnWithRandom$4(et,ut,nt,it,ot)},dt&&(at[st].conditional_hit_rules=dt.map(function(ft){var pt=ft.sample_rate,mt=ft.filter;return{sample_rate:pt,hit:hitFnWithRandom$4(et,pt,nt,it,ot),effectiveSampleRate:pt*rt,filter:mt}}))):at[st]={enable:ct,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),at},getSampler$4=function(tt,et,rt,nt){if(!et)return id$5;var it=et.sample_rate,ot=et.include_users,at=et.sample_granularity,st=et.rules,lt=et.r,ct=lt===void 0?Math.random():lt,ut=arrayIncludes$5(ot,tt);if(ut)return function(mt){return withSampleRate$4(mt,1)};var dt=at==="session",ft=hitFnWithRandom$4(dt,it,rt,ct,nt),pt=getHitMap$4(st,dt,it,rt,ct,nt);return function(mt){var ht;if(!ft())return!1;if(!(mt.ev_type in pt))return withSampleRate$4(mt,it);if(!pt[mt.ev_type].enable)return!1;if(!((ht=mt.common)===null||ht===void 0)&&ht.sample_rate)return mt;var gt=pt[mt.ev_type],vt=gt.conditional_hit_rules;if(vt){for(var yt=0;yt<vt.length;yt++)if(matchFilter$4(mt,vt[yt].filter))return vt[yt].hit()?withSampleRate$4(mt,vt[yt].effectiveSampleRate):!1}return gt.hit()?withSampleRate$4(mt,gt.effectiveSampleRate):!1}},SamplePlugin$4=function(tt){tt.on("start",function(){var et=tt.config(),rt=et.userId,nt=et.sample;nt&&nt.sample_rate===0&&tt.destroy();var it=getSampler$4(rt,nt,isHitBySampleRate$4,isHitByRandom$4);tt.on("build",it)})},getBeaconTransport=function(){var tt=getDefaultBrowser$4();return tt&&tt.navigator.sendBeacon?{get:function(){},post:function(et,rt){tt.navigator.sendBeacon(et,rt)}}:{get:noop$5,post:noop$5}},request=function(tt,et,rt){var nt=et.url,it=et.data,ot=et.success,at=ot===void 0?noop$5:ot,st=et.fail,lt=st===void 0?noop$5:st,ct=et.getResponseText,ut=ct===void 0?noop$5:ct,dt=et.withCredentials,ft=dt===void 0?!1:dt,pt=new rt;pt.withCredentials=ft,pt.open(tt,nt,!0),pt.setRequestHeader("Content-Type","application/json"),pt.onload=function(){ut==null||ut(this.responseText);try{if(this.responseText){var mt=JSON.parse(this.responseText);at(mt)}else at({})}catch(ht){lt(ht)}},pt.onerror=function(){lt(new Error("Network request failed"))},pt.onabort=function(){lt(new Error("Network request aborted"))},pt.send(it)},getXhrTransport=function(){var tt=getDefaultXMLHttpRequest();return tt?{get:function(et){request("GET",et,tt)},post:function(et){request("POST",et,tt)}}:{get:noop$5,post:noop$5}};function createBrowserSender(tt){var et=createBatchSender$4(tt),rt=getBeaconTransport(),nt=function(it){rt.post(et.getEndpoint(),stringifyBatch$4([it]))};return onPageUnload(function(){var it=et.getBatchData();it&&(rt.post(et.getEndpoint(),it),et.clear()),et.send=nt}),et}var REPORT_DOMAIN$4="mon.zijieapi.com",SETTINGS_DOMAIN=REPORT_DOMAIN$4,PLUGINS_LOAD_PREFIX="https://lf3-short.ibytedapm.com/slardar/fe/sdk-web/plugins",SDK_VERSION$4="1.1.2",SDK_NAME$4="SDK_SLARDAR_WEB",SETTINGS_PATH="/monitor_web/settings/browser-settings",BATCH_REPORT_PATH$4="/monitor_browser/collect/batch/",STORAGE_PREFIX="SLARDAR",USER_ID_COOKIE_NAME="MONITOR_WEB_ID",DEVICE_ID_COOKIE_NAME="MONITOR_DEVICE_ID",DEFAULT_IGNORE_PATHS=["/log/sentry/",BATCH_REPORT_PATH$4,SETTINGS_PATH],DEFAULT_SAMPLE_GRANULARITY="session",DEFAULT_SAMPLE_CONFIG$4={sample_rate:1,include_users:[],sample_granularity:DEFAULT_SAMPLE_GRANULARITY,rules:{}},DEFAULT_SENDER_SIZE$4=20;function normalizeInitConfig$4(tt){var et=tt.plugins||{};for(var rt in et)et[rt]&&!isObject$6(et[rt])&&(et[rt]={});return __assign$5(__assign$5({},tt),{plugins:et})}function validateInitConfig$4(tt){return isObject$6(tt)&&"bid"in tt}function normalizeUserConfig$4(tt){return __assign$5({},tt)}function parseServerConfig(tt){var et;if(!tt)return{};var rt=tt.sample,nt=tt.user_id,it=tt.plugins,ot=tt.timestamp,at=tt.quota_rate,st=at===void 0?1:at;if(!rt)return{userId:nt};var lt=rt.sample_rate,ct=rt.sample_granularity,ut=ct===void 0?DEFAULT_SAMPLE_GRANULARITY:ct,dt=rt.include_users,ft=rt.rules,pt=ft===void 0?[]:ft;return{userId:nt,sample:{include_users:dt,sample_rate:lt*st,sample_granularity:ut,rules:pt.reduce(function(mt,ht){var gt=ht.name,vt=ht.enable,yt=ht.sample_rate,bt=ht.conditional_sample_rules;return mt[gt]={enable:vt,sample_rate:yt,conditional_sample_rules:bt},mt},{})},plugins:{heatmap:(et=it==null?void 0:it.heatmap)!==null&&et!==void 0?et:!1},serverTimestamp:ot}}var getReportUrl$4=function(tt,et){return et===void 0&&(et=BATCH_REPORT_PATH$4),(tt&&tt.indexOf("//")>=0?"":"https://")+tt+et},getSettingsUrl=function(tt,et){return et===void 0&&(et=SETTINGS_PATH),(tt&&tt.indexOf("//")>=0?"":"https://")+tt+et},getViewId$4=function(tt){return tt+"_"+Date.now()},getDefaultSessionId$4=function(){return uuid$4()},toObservableArray=function(tt){var et=[];return tt.observe=function(rt){et.push(rt)},tt.push=function(){for(var rt,nt=[],it=0;it<arguments.length;it++)nt[it]=arguments[it];return nt.forEach(function(ot){et.forEach(function(at){return at(ot)})}),(rt=[].push).call.apply(rt,__spreadArray$4([tt],__read$4(nt),!1))},tt},getGlobalName=function(){var tt,et,rt,nt=getDefaultBrowser$4(),it=getDefaultDocument();if(nt&&it)return((rt=(et=(tt=it.currentScript)===null||tt===void 0?void 0:tt.getAttribute("src"))===null||et===void 0?void 0:et.match(/globalName=(.+)$/))===null||rt===void 0?void 0:rt[1])||"Slardar"},getGlobalInstance=function(){var tt=getDefaultBrowser$4(),et=getGlobalName();if(tt&&et)return tt[et]},getStorageKey=function(tt){return STORAGE_PREFIX+tt},getDefaultUserIdAndDeviceId=function(tt){tt===void 0&&(tt="");var et=getStorageKey(tt);return getStorageItem(et)||{userId:getCookieId(USER_ID_COOKIE_NAME)||uuid$4(),deviceId:getCookieId(DEVICE_ID_COOKIE_NAME)||uuid$4()}},hasSetStorageItem=function(tt){tt===void 0&&(tt="");var et=getStorageKey(tt);return!!getStorageItem(et)},setStorageUserIdAndDeviceId=function(tt){var et=tt.bid,rt=tt.userId,nt=tt.deviceId,it=getStorageKey(et);setStorageItem(it,{userId:rt,deviceId:nt})},configHolder={get:function(){return this.__SLARDAR__REPALCE__HOLDER__}},createBrowserConfigManager=function(tt){var et=tt,rt,nt={},it=configHolder.get(),ot,at=noop$5,st=noop$5;return{getConfig:function(){return et},setConfig:function(ut){return nt=__assign$5(__assign$5({},nt),ut||{}),lt(),rt||(rt=ut,et.useLocalConfig||!et.bid?(ot={},at()):it?ct():getServerConfig(et.domain,et.bid,function(dt){it=dt,ct()})),et},onChange:function(ut){st=ut},onReady:function(ut){at=function(){setStorageUserIdAndDeviceId(et),ut()},ot&&at()}};function lt(){var ut=__assign$5(__assign$5(__assign$5({},tt),ot||{}),nt);ut.plugins=mergeDeepConcatArray(tt.plugins,(ot==null?void 0:ot.plugins)||{},nt.plugins||{}),ut.sample=mergeSampleConfig$4(mergeSampleConfig$4(tt.sample,ot==null?void 0:ot.sample),nt.sample),et=ut,st()}function ct(){ot=parseServerConfig(it),hasSetStorageItem(et.bid)&&(ot.userId=tt.userId),lt(),at()}};function getServerConfig(tt,et,rt){getXhrTransport().get({withCredentials:!0,url:getSettingsUrl(tt)+"?bid="+et+"&store=1",success:function(nt){rt(nt.data||{})},fail:function(){rt({sample:{sample_rate:.001}})}})}function mergeSampleConfig$4(tt,et){if(!tt||!et)return tt||et;var rt=__assign$5(__assign$5({},tt),et);return rt.include_users=__spreadArray$4(__spreadArray$4([],__read$4(tt.include_users||[]),!1),__read$4(et.include_users||[]),!1),rt.rules=__spreadArray$4(__spreadArray$4([],__read$4(Object.keys(tt.rules||{})),!1),__read$4(Object.keys(et.rules||{})),!1).reduce(function(nt,it){var ot,at;return it in nt||(it in(tt.rules||{})&&it in(et.rules||{})?(nt[it]=__assign$5(__assign$5({},tt.rules[it]),et.rules[it]),nt[it].conditional_sample_rules=__spreadArray$4(__spreadArray$4([],__read$4(tt.rules[it].conditional_sample_rules||[]),!1),__read$4(et.rules[it].conditional_sample_rules||[]),!1)):nt[it]=((ot=tt.rules)===null||ot===void 0?void 0:ot[it])||((at=et.rules)===null||at===void 0?void 0:at[it])),nt},{}),rt}var browserBuilder={build:function(tt){return{ev_type:tt.ev_type,payload:tt.payload,common:__assign$5(__assign$5({},tt.extra||{}),tt.overrides||{})}}},isDebug="";function loadPluginsOnPageLoad(tt,et,rt){rt===void 0&&(rt=loadPlugins),onPageLoad(function(){tt.on("init",function(){rt(tt,et)})})}function loadPlugins(tt,et,rt){rt===void 0&&(rt=loadNow);var nt=tt.config(),it=nt.plugins,ot=nt.pluginBundle;Object.keys(it).forEach(function(at){it[at]&&(ot&&arrayIncludes$5(ot.plugins,at)?rt(tt,ot,et):rt(tt,{name:at,config:it[at]},et))})}function loadNow(tt,et,rt,nt){var it=et.name,ot=et.plugins,at=et.config;if(nt===void 0&&(nt=loadScript$4),!loadingOrLoaded(tt,it)){tt.loading.push(it);var st=getPluginPath(tt,it,at);nt(st,function(){arrayIncludes$5(tt.loaded,it)||(ot?ot.forEach(function(lt){arrayIncludes$5(tt.loaded,lt)||applyPlugin(tt,lt,rt)}):applyPlugin(tt,it,rt))})}}function loadingOrLoaded(tt,et){return arrayIncludes$5(tt.loaded,et)||arrayIncludes$5(tt.loading,et)}function getPluginPath(tt,et,rt){var nt;return(nt=rt==null?void 0:rt.path)!==null&&nt!==void 0?nt:tt.config().pluginPathPrefix+"/"+camelToKebab(et)+"."+SDK_VERSION$4+"."+isDebug+"js"}function applyPlugin(tt,et,rt){if(rt===void 0&&(rt=getGlobalRegistry$4(getDefaultBrowser$4())),!!rt){var nt=getPluginFromRegistry(rt,et);if(!nt){warn$4("[loader].applyPlugin not found",et);return}try{nt.apply(tt),tt.loaded.push(et)}catch(it){reportSelfError$4(it),warn$4("[loader].applyPlugin failed",et,it)}}}function getPluginFromRegistry(tt,et){return tt.plugins.filter(function(rt){return rt.name===et&&rt.version===SDK_VERSION$4})[0]}function register(tt,et,rt){rt===void 0&&(rt=getGlobalRegistry$4(getDefaultBrowser$4())),!(!rt||!rt.plugins)&&(getPluginFromRegistry(rt,tt)||rt.plugins.push({name:tt,version:SDK_VERSION$4,apply:et}))}var addEnvToSendEvent$4=function(tt){var et={url:getLocationUrl(),timestamp:Date.now(),sdk_version:SDK_VERSION$4,sdk_name:SDK_NAME$4};return __assign$5(__assign$5({},tt),{extra:__assign$5(__assign$5({},et),tt.extra||{})})},InjectEnvPlugin$4=function(tt){tt.on("report",function(et){return addEnvToSendEvent$4(et)})},EV_METHOD_MAP={sri:"reportSri",st:"reportResourceError",err:"captureException"},createStore=function(tt){return Object.keys(tt).reduce(function(et,rt){return et[rt]=[],et},{})},reverseMap=function(tt){return Object.keys(tt).reduce(function(et,rt){return et[tt[rt]]=rt,et},{})},getStoreOrConsume=function(tt,et,rt){return function(nt,it,ot,at){var st;ot===void 0&&(ot=Date.now()),at===void 0&&(at=location.href);var lt=__assign$5(__assign$5({},captureCurrentContext(tt)),{url:at,timestamp:ot});et[nt]&&(tt[rt[nt]]?syncReportWithCapturedContext(tt,lt)(function(){tt[rt[nt]](it)}):(st=et[nt])===null||st===void 0||st.push([it,lt]))}},getConsumeStored=function(tt,et,rt){return function(nt){var it;nt in rt&&((it=et[rt[nt]])===null||it===void 0||it.forEach(function(ot){var at=__read$4(ot,2),st=at[0],lt=at[1];syncReportWithCapturedContext(tt,lt)(function(){tt[nt](st)})}),et[rt[nt]]=null)}},PrecollectPlugin=function(tt,et){var rt;et===void 0&&(et=EV_METHOD_MAP);var nt=createStore(et),it=reverseMap(et),ot=getStoreOrConsume(tt,nt,et);!((rt=tt.p)===null||rt===void 0)&&rt.a&&"observe"in tt.p.a&&tt.p.a.observe(function(at){var st=__read$4(at,5);st[0];var lt=st[1],ct=st[2],ut=st[3],dt=st[4];ot(lt,ct,ut,dt)}),tt.on("init",function(){var at;(at=tt.p)===null||at===void 0||at.a.forEach(function(st){var lt=__read$4(st,5);lt[0];var ct=lt[1],ut=lt[2],dt=lt[3],ft=lt[4];ot(ct,ut,dt,ft)}),tt.p&&tt.p.a&&(tt.p.a.length=0)}),tt.provide("precollect",ot),tt.on("provide",getConsumeStored(tt,nt,it))},buildSelfErrorEvent=function(tt){var et=__read$4(tt,2),rt=et[0],nt=et[1];return{ev_type:JS_ERROR_EV_TYPE,payload:{error:normalizeUnknownError(rt),breadcrumbs:[],extra:nt||{}},extra:{bid:"slardar_sdk"}}},DEFAULT_OBSERVE_ERROR_RATE=.001,ObserveErrorPlugin=function(tt,et){et===void 0&&(et=DEFAULT_OBSERVE_ERROR_RATE);var rt=getGlobalRegistry$4(getDefaultBrowser$4());rt&&(rt.errors||(rt.errors=[]),!("observe"in rt.errors)&&isHitBySampleRate$4(et)&&(rt.errors=toObservableArray(rt.errors),rt.errors.forEach(function(nt){tt.report(buildSelfErrorEvent(nt))}),rt.errors.observe(function(nt){tt.report(buildSelfErrorEvent(nt))})))},MAX_RTT=700,TimeCalibrationPlugin=function(tt){var et,rt=!1;tt.on("init",function(){et=new Date().getTime(),tt.on("config",function(){var nt,it=(nt=tt.config())===null||nt===void 0?void 0:nt.serverTimestamp;if(!(isNaN(it)||Number(it)<=0||rt)){rt=!0;var ot=new Date().getTime(),at=ot-et;if(at<MAX_RTT&&it){var st=it-(ot+et)/2;!isNaN(st)&&(st>0||st<-6e5)&&tt.on("beforeBuild",function(lt){var ct;return __assign$5(__assign$5({},lt),{extra:__assign$5(__assign$5({},(ct=lt.extra)!==null&&ct!==void 0?ct:{}),{sdk_offset:st??0})})})}}})})},addConfigToReportEvent$4=function(tt,et){var rt={};return rt.bid=et.bid,rt.pid=et.pid,rt.view_id=et.viewId,rt.user_id=et.userId,rt.device_id=et.deviceId,rt.session_id=et.sessionId,rt.release=et.release,rt.env=et.env,__assign$5(__assign$5({},tt),{extra:__assign$5(__assign$5({},rt),tt.extra||{})})},InjectConfigPlugin$4=function(tt){tt.on("beforeBuild",function(et){return addConfigToReportEvent$4(et,tt.config())})},InjectQueryPlugin=function(tt){tt.on("start",function(){var et=tt.config().bid,rt=tt.getSender();rt.setEndpoint(rt.getEndpoint()+("?biz_id="+et))})},getDefaultConfig$4=function(tt){var et=getDefaultUserIdAndDeviceId(tt.bid);return{bid:"",pid:"",viewId:getViewId$4("_"),userId:et.userId,deviceId:et.deviceId,sessionId:getDefaultSessionId$4(),domain:REPORT_DOMAIN$4,pluginBundle:{name:"commonMonitors",plugins:["breadcrumb","jsError","performance","resourceError","resource"]},pluginPathPrefix:PLUGINS_LOAD_PREFIX,plugins:{ajax:{ignoreUrls:DEFAULT_IGNORE_PATHS},fetch:{ignoreUrls:DEFAULT_IGNORE_PATHS},breadcrumb:{},pageview:{},jsError:{},resource:{},resourceError:{},performance:{},tti:{},fmp:{},blankScreen:!1,heatmap:!1},release:"",env:"production",sample:DEFAULT_SAMPLE_CONFIG$4}},createMinimalBrowserClient=function(tt){var et=tt===void 0?{}:tt,rt=et.createSender,nt=rt===void 0?function(ut){return createBrowserSender({size:DEFAULT_SENDER_SIZE$4,endpoint:getReportUrl$4(ut.domain),transport:getXhrTransport()})}:rt,it=et.builder,ot=it===void 0?browserBuilder:it,at=et.createDefaultConfig,st=at===void 0?getDefaultConfig$4:at,lt=createClient$4({validateInitConfig:validateInitConfig$4,initConfigNormalizer:normalizeInitConfig$4,userConfigNormalizer:normalizeUserConfig$4,createSender:nt,builder:ot,createDefaultConfig:st,createConfigManager:createBrowserConfigManager});lt.loaded=[],lt.loading=[],ObserveErrorPlugin(lt),ContextPlugin$4(lt),TimeCalibrationPlugin(lt),InjectConfigPlugin$4(lt),InjectEnvPlugin$4(lt),InjectNetworkTypePlugin(lt),InjectQueryPlugin(lt);var ct=withCommandArray(lt,captureCurrentContext,function(ut,dt,ft){return syncReportWithCapturedContext(ut,dt)(function(){var pt=__read$4(ft),mt=pt[0],ht=pt.slice(1);lt[mt].apply(lt,__spreadArray$4([],__read$4(ht),!1))})});return IntegrationPlugin$4(ct),ct},createBrowserClient=function(tt){tt===void 0&&(tt={});var et=createMinimalBrowserClient(tt);return et.loaded.push(HEATMAP_MONITOR_PLUGIN_NAME),loadPluginsOnPageLoad(et),SamplePlugin$4(et),PrecollectPlugin(et),CustomPlugin$4(et),PageviewMonitorPlugin(et),et.loaded.push(PAGEVIEW_MONITOR_PLUGIN_NAME),AjaxMonitorPlugin(et),et.loaded.push(AJAX_MONITOR_PLUGIN_NAME),FetchMonitorPlugin(et),et.loaded.push(FETCH_MONITOR_PLUGIN_NAME),TTIMonitorPlugin(et),et.loaded.push(TTI_MONITOR_PLUGIN_NAME),FMPMonitorPlugin(et),et.loaded.push(FMP_MONITOR_PLUGIN_NAME),et},PRECOLLECT="precollect",BOTTOM_UP_TIME=1e3*60*5;function npmPreCollect(tt,et){"addEventListener"in tt&&(et.pcErr=function(rt){rt=rt||tt.event;var nt=rt.target||rt.srcElement||{};nt instanceof Element||nt instanceof HTMLElement?et(PRECOLLECT,"st",{tagName:nt.tagName,url:nt.getAttribute("href")||nt.getAttribute("src")}):et(PRECOLLECT,"err",rt.error||rt.message)},et.pcRej=function(rt){rt=rt||tt.event,et(PRECOLLECT,"err",rt.reason||rt.detail&&rt.detail.reason)},tt.addEventListener("error",et.pcErr,!0),tt.addEventListener("unhandledrejection",et.pcRej,!0),setTimeout(function(){tt.removeEventListener("error",et.pcErr,!0),tt.removeEventListener("unhandledrejection",et.pcRej,!0)},BOTTOM_UP_TIME)),"PerformanceObserver"in tt&&"PerformanceLongTaskTiming"in tt&&(et.pp={entries:[]},et.pp.observer=new PerformanceObserver(function(rt){et.pp.entries=et.pp.entries.concat(rt.getEntries())}),et.pp.observer.observe({entryTypes:["longtask","largest-contentful-paint","layout-shift"]}),setTimeout(function(){et.pp.observer.disconnect()},BOTTOM_UP_TIME))}var browserClient=createBrowserClient(),win=getDefaultBrowser$4();win&&npmPreCollect(win,browserClient);const index_esm$4=Object.freeze(Object.defineProperty({__proto__:null,BATCH_REPORT_PATH:BATCH_REPORT_PATH$4,DEFAULT_IGNORE_PATHS,DEFAULT_SAMPLE_CONFIG:DEFAULT_SAMPLE_CONFIG$4,DEFAULT_SAMPLE_GRANULARITY,DEFAULT_SENDER_SIZE:DEFAULT_SENDER_SIZE$4,DEVICE_ID_COOKIE_NAME,InjectConfigPlugin:InjectConfigPlugin$4,InjectEnvPlugin:InjectEnvPlugin$4,InjectQueryPlugin,ObserveErrorPlugin,PLUGINS_LOAD_PREFIX,PrecollectPlugin,REPORT_DOMAIN:REPORT_DOMAIN$4,SDK_NAME:SDK_NAME$4,SDK_VERSION:SDK_VERSION$4,SETTINGS_DOMAIN,SETTINGS_PATH,STORAGE_PREFIX,TimeCalibrationPlugin,USER_ID_COOKIE_NAME,addConfigToReportEvent:addConfigToReportEvent$4,addEnvToSendEvent:addEnvToSendEvent$4,applyPlugin,browserBuilder,buildSelfErrorEvent,configHolder,createBrowserClient,createBrowserConfigManager,createMinimalBrowserClient,createStore,default:browserClient,getConsumeStored,getDefaultConfig:getDefaultConfig$4,getDefaultSessionId:getDefaultSessionId$4,getDefaultUserIdAndDeviceId,getGlobalInstance,getGlobalName,getReportUrl:getReportUrl$4,getServerConfig,getSettingsUrl,getStorageKey,getStoreOrConsume,getViewId:getViewId$4,hasSetStorageItem,loadNow,loadPlugins,loadPluginsOnPageLoad,mergeSampleConfig:mergeSampleConfig$4,normalizeInitConfig:normalizeInitConfig$4,normalizeUserConfig:normalizeUserConfig$4,parseServerConfig,register,reverseMap,setStorageUserIdAndDeviceId,toObservableArray,validateInitConfig:validateInitConfig$4},Symbol.toStringTag,{value:"Module"}));var distExports={},dist={get exports(){return distExports},set exports(tt){distExports=tt}},accountApi_cjs_production_min={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign$1$3=function(){return __assign$1$3=Object.assign||function(et){for(var rt,nt=1,it=arguments.length;nt<it;nt++){rt=arguments[nt];for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(et[ot]=rt[ot])}return et},__assign$1$3.apply(this,arguments)};typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(et,rt){if(et==null)throw new TypeError("Cannot convert undefined or null to object");for(var nt=Object(et),it=1;it<arguments.length;it++){var ot=arguments[it];if(ot!=null)for(var at in ot)Object.prototype.hasOwnProperty.call(ot,at)&&(nt[at]=ot[at])}return nt},writable:!0,configurable:!0});var commonjsGlobal$3=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule$3(tt,et,rt){return rt={path:et,exports:{},require:function(nt,it){return commonjsRequire$3(nt,it??rt.path)}},tt(rt,rt.exports),rt.exports}function commonjsRequire$3(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var check$3=function(tt){return tt&&tt.Math==Math&&tt},global_1$3=check$3(typeof globalThis=="object"&&globalThis)||check$3(typeof window=="object"&&window)||check$3(typeof self=="object"&&self)||check$3(typeof commonjsGlobal$3=="object"&&commonjsGlobal$3)||function(){return this}()||Function("return this")(),FunctionPrototype$2$3=Function.prototype,apply$3=FunctionPrototype$2$3.apply,bind$3$3=FunctionPrototype$2$3.bind,call$2$3=FunctionPrototype$2$3.call,functionApply$3=typeof Reflect=="object"&&Reflect.apply||(bind$3$3?call$2$3.bind(apply$3):function(){return call$2$3.apply(apply$3,arguments)}),FunctionPrototype$1$3=Function.prototype,bind$2$4=FunctionPrototype$1$3.bind,call$1$3=FunctionPrototype$1$3.call,callBind$3=bind$2$4&&bind$2$4.bind(call$1$3),functionUncurryThis$3=bind$2$4?function(tt){return tt&&callBind$3(call$1$3,tt)}:function(tt){return tt&&function(){return call$1$3.apply(tt,arguments)}},isCallable$3=function(tt){return typeof tt=="function"},fails$3=function(tt){try{return!!tt()}catch{return!0}},descriptors$4=!fails$3(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),call$5=Function.prototype.call,functionCall$3=call$5.bind?call$5.bind(call$5):function(){return call$5.apply(call$5,arguments)},$propertyIsEnumerable$3={}.propertyIsEnumerable,getOwnPropertyDescriptor$2$3=Object.getOwnPropertyDescriptor,NASHORN_BUG$3=getOwnPropertyDescriptor$2$3&&!$propertyIsEnumerable$3.call({1:2},1),f$5$3=NASHORN_BUG$3?function tt(et){var rt=getOwnPropertyDescriptor$2$3(this,et);return!!rt&&rt.enumerable}:$propertyIsEnumerable$3,objectPropertyIsEnumerable$3={f:f$5$3},createPropertyDescriptor$3=function(tt,et){return{enumerable:!(tt&1),configurable:!(tt&2),writable:!(tt&4),value:et}},toString$1$3=functionUncurryThis$3({}.toString),stringSlice$1$3=functionUncurryThis$3("".slice),classofRaw$3=function(tt){return stringSlice$1$3(toString$1$3(tt),8,-1)},Object$5$3=global_1$3.Object,split$3=functionUncurryThis$3("".split),indexedObject$3=fails$3(function(){return!Object$5$3("z").propertyIsEnumerable(0)})?function(tt){return classofRaw$3(tt)=="String"?split$3(tt,""):Object$5$3(tt)}:Object$5$3,TypeError$d$3=global_1$3.TypeError,requireObjectCoercible$3=function(tt){if(tt==null)throw TypeError$d$3("Can't call method on "+tt);return tt},toIndexedObject$3=function(tt){return indexedObject$3(requireObjectCoercible$3(tt))},isObject$1$3=function(tt){return typeof tt=="object"?tt!==null:isCallable$3(tt)},path$4={},aFunction$3=function(tt){return isCallable$3(tt)?tt:void 0},getBuiltIn$3=function(tt,et){return arguments.length<2?aFunction$3(path$4[tt])||aFunction$3(global_1$3[tt]):path$4[tt]&&path$4[tt][et]||global_1$3[tt]&&global_1$3[tt][et]},objectIsPrototypeOf$3=functionUncurryThis$3({}.isPrototypeOf),engineUserAgent$3=getBuiltIn$3("navigator","userAgent")||"",process$3$3=global_1$3.process,Deno$3=global_1$3.Deno,versions$3=process$3$3&&process$3$3.versions||Deno$3&&Deno$3.version,v8$3=versions$3&&versions$3.v8,match$3,version$3;v8$3&&(match$3=v8$3.split("."),version$3=match$3[0]>0&&match$3[0]<4?1:+(match$3[0]+match$3[1]));!version$3&&engineUserAgent$3&&(match$3=engineUserAgent$3.match(/Edge\/(\d+)/),(!match$3||match$3[1]>=74)&&(match$3=engineUserAgent$3.match(/Chrome\/(\d+)/),match$3&&(version$3=+match$3[1])));var engineV8Version$3=version$3,nativeSymbol$3=!!Object.getOwnPropertySymbols&&!fails$3(function(){var tt=Symbol();return!String(tt)||!(Object(tt)instanceof Symbol)||!Symbol.sham&&engineV8Version$3&&engineV8Version$3<41}),useSymbolAsUid$3=nativeSymbol$3&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Object$4$3=global_1$3.Object,isSymbol$3=useSymbolAsUid$3?function(tt){return typeof tt=="symbol"}:function(tt){var et=getBuiltIn$3("Symbol");return isCallable$3(et)&&objectIsPrototypeOf$3(et.prototype,Object$4$3(tt))},String$5$3=global_1$3.String,tryToString$3=function(tt){try{return String$5$3(tt)}catch{return"Object"}},TypeError$c$3=global_1$3.TypeError,aCallable$3=function(tt){if(isCallable$3(tt))return tt;throw TypeError$c$3(tryToString$3(tt)+" is not a function")},getMethod$3=function(tt,et){var rt=tt[et];return rt==null?void 0:aCallable$3(rt)},TypeError$b$3=global_1$3.TypeError,ordinaryToPrimitive$3=function(tt,et){var rt,nt;if(et==="string"&&isCallable$3(rt=tt.toString)&&!isObject$1$3(nt=functionCall$3(rt,tt))||isCallable$3(rt=tt.valueOf)&&!isObject$1$3(nt=functionCall$3(rt,tt))||et!=="string"&&isCallable$3(rt=tt.toString)&&!isObject$1$3(nt=functionCall$3(rt,tt)))return nt;throw TypeError$b$3("Can't convert object to primitive value")},isPure$3=!0,defineProperty$1$3=Object.defineProperty,setGlobal$3=function(tt,et){try{defineProperty$1$3(global_1$3,tt,{value:et,configurable:!0,writable:!0})}catch{global_1$3[tt]=et}return et},SHARED$3="__core-js_shared__",store$1$3=global_1$3[SHARED$3]||setGlobal$3(SHARED$3,{}),sharedStore$3=store$1$3,shared$3=createCommonjsModule$3(function(tt){(tt.exports=function(et,rt){return sharedStore$3[et]||(sharedStore$3[et]=rt!==void 0?rt:{})})("versions",[]).push({version:"3.20.1",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),Object$3$3=global_1$3.Object,toObject$3=function(tt){return Object$3$3(requireObjectCoercible$3(tt))},hasOwnProperty$3=functionUncurryThis$3({}.hasOwnProperty),hasOwnProperty_1$3=Object.hasOwn||function tt(et,rt){return hasOwnProperty$3(toObject$3(et),rt)},id$1$3=0,postfix$3=Math.random(),toString$5=functionUncurryThis$3(1 .toString),uid$3=function(tt){return"Symbol("+(tt===void 0?"":tt)+")_"+toString$5(++id$1$3+postfix$3,36)},WellKnownSymbolsStore$3=shared$3("wks"),Symbol$1$3=global_1$3.Symbol,symbolFor$3=Symbol$1$3&&Symbol$1$3.for,createWellKnownSymbol$3=useSymbolAsUid$3?Symbol$1$3:Symbol$1$3&&Symbol$1$3.withoutSetter||uid$3,wellKnownSymbol$3=function(tt){if(!hasOwnProperty_1$3(WellKnownSymbolsStore$3,tt)||!(nativeSymbol$3||typeof WellKnownSymbolsStore$3[tt]=="string")){var et="Symbol."+tt;nativeSymbol$3&&hasOwnProperty_1$3(Symbol$1$3,tt)?WellKnownSymbolsStore$3[tt]=Symbol$1$3[tt]:useSymbolAsUid$3&&symbolFor$3?WellKnownSymbolsStore$3[tt]=symbolFor$3(et):WellKnownSymbolsStore$3[tt]=createWellKnownSymbol$3(et)}return WellKnownSymbolsStore$3[tt]},TypeError$a$3=global_1$3.TypeError,TO_PRIMITIVE$3=wellKnownSymbol$3("toPrimitive"),toPrimitive$3=function(tt,et){if(!isObject$1$3(tt)||isSymbol$3(tt))return tt;var rt=getMethod$3(tt,TO_PRIMITIVE$3),nt;if(rt){if(et===void 0&&(et="default"),nt=functionCall$3(rt,tt,et),!isObject$1$3(nt)||isSymbol$3(nt))return nt;throw TypeError$a$3("Can't convert object to primitive value")}return et===void 0&&(et="number"),ordinaryToPrimitive$3(tt,et)},toPropertyKey$3=function(tt){var et=toPrimitive$3(tt,"string");return isSymbol$3(et)?et:et+""},document$3$3=global_1$3.document,EXISTS$1$3=isObject$1$3(document$3$3)&&isObject$1$3(document$3$3.createElement),documentCreateElement$3=function(tt){return EXISTS$1$3?document$3$3.createElement(tt):{}},ie8DomDefine$3=!descriptors$4&&!fails$3(function(){return Object.defineProperty(documentCreateElement$3("div"),"a",{get:function(){return 7}}).a!=7}),$getOwnPropertyDescriptor$3=Object.getOwnPropertyDescriptor,f$4$3=descriptors$4?$getOwnPropertyDescriptor$3:function tt(et,rt){if(et=toIndexedObject$3(et),rt=toPropertyKey$3(rt),ie8DomDefine$3)try{return $getOwnPropertyDescriptor$3(et,rt)}catch{}if(hasOwnProperty_1$3(et,rt))return createPropertyDescriptor$3(!functionCall$3(objectPropertyIsEnumerable$3.f,et,rt),et[rt])},objectGetOwnPropertyDescriptor$3={f:f$4$3},replacement$3=/#|\.prototype\./,isForced$3=function(tt,et){var rt=data$4[normalize$3(tt)];return rt==POLYFILL$3?!0:rt==NATIVE$3?!1:isCallable$3(et)?fails$3(et):!!et},normalize$3=isForced$3.normalize=function(tt){return String(tt).replace(replacement$3,".").toLowerCase()},data$4=isForced$3.data={},NATIVE$3=isForced$3.NATIVE="N",POLYFILL$3=isForced$3.POLYFILL="P",isForced_1$3=isForced$3,bind$1$4=functionUncurryThis$3(functionUncurryThis$3.bind),functionBindContext$3=function(tt,et){return aCallable$3(tt),et===void 0?tt:bind$1$4?bind$1$4(tt,et):function(){return tt.apply(et,arguments)}},String$4$3=global_1$3.String,TypeError$9$3=global_1$3.TypeError,anObject$3=function(tt){if(isObject$1$3(tt))return tt;throw TypeError$9$3(String$4$3(tt)+" is not an object")},TypeError$8$3=global_1$3.TypeError,$defineProperty$3=Object.defineProperty,f$3$3=descriptors$4?$defineProperty$3:function tt(et,rt,nt){if(anObject$3(et),rt=toPropertyKey$3(rt),anObject$3(nt),ie8DomDefine$3)try{return $defineProperty$3(et,rt,nt)}catch{}if("get"in nt||"set"in nt)throw TypeError$8$3("Accessors not supported");return"value"in nt&&(et[rt]=nt.value),et},objectDefineProperty$3={f:f$3$3},createNonEnumerableProperty$3=descriptors$4?function(tt,et,rt){return objectDefineProperty$3.f(tt,et,createPropertyDescriptor$3(1,rt))}:function(tt,et,rt){return tt[et]=rt,tt},getOwnPropertyDescriptor$1$3=objectGetOwnPropertyDescriptor$3.f,wrapConstructor$3=function(tt){var et=function(rt,nt,it){if(this instanceof et){switch(arguments.length){case 0:return new tt;case 1:return new tt(rt);case 2:return new tt(rt,nt)}return new tt(rt,nt,it)}return functionApply$3(tt,this,arguments)};return et.prototype=tt.prototype,et},_export$3=function(tt,et){var rt=tt.target,nt=tt.global,it=tt.stat,ot=tt.proto,at=nt?global_1$3:it?global_1$3[rt]:(global_1$3[rt]||{}).prototype,st=nt?path$4:path$4[rt]||createNonEnumerableProperty$3(path$4,rt,{})[rt],lt=st.prototype,ct,ut,dt,ft,pt,mt,ht,gt,vt;for(ft in et)ct=isForced_1$3(nt?ft:rt+(it?".":"#")+ft,tt.forced),ut=!ct&&at&&hasOwnProperty_1$3(at,ft),mt=st[ft],ut&&(tt.noTargetGet?(vt=getOwnPropertyDescriptor$1$3(at,ft),ht=vt&&vt.value):ht=at[ft]),pt=ut&&ht?ht:et[ft],!(ut&&typeof mt==typeof pt)&&(tt.bind&&ut?gt=functionBindContext$3(pt,global_1$3):tt.wrap&&ut?gt=wrapConstructor$3(pt):ot&&isCallable$3(pt)?gt=functionUncurryThis$3(pt):gt=pt,(tt.sham||pt&&pt.sham||mt&&mt.sham)&&createNonEnumerableProperty$3(gt,"sham",!0),createNonEnumerableProperty$3(st,ft,gt),ot&&(dt=rt+"Prototype",hasOwnProperty_1$3(path$4,dt)||createNonEnumerableProperty$3(path$4,dt,{}),createNonEnumerableProperty$3(path$4[dt],ft,pt),tt.real&&lt&&!lt[ft]&&createNonEnumerableProperty$3(lt,ft,pt)))},keys$3=shared$3("keys"),sharedKey$3=function(tt){return keys$3[tt]||(keys$3[tt]=uid$3(tt))},correctPrototypeGetter$3=!fails$3(function(){function tt(){}return tt.prototype.constructor=null,Object.getPrototypeOf(new tt)!==tt.prototype}),IE_PROTO$1$3=sharedKey$3("IE_PROTO"),Object$2$3=global_1$3.Object,ObjectPrototype$3=Object$2$3.prototype,objectGetPrototypeOf$3=correctPrototypeGetter$3?Object$2$3.getPrototypeOf:function(tt){var et=toObject$3(tt);if(hasOwnProperty_1$3(et,IE_PROTO$1$3))return et[IE_PROTO$1$3];var rt=et.constructor;return isCallable$3(rt)&&et instanceof rt?rt.prototype:et instanceof Object$2$3?ObjectPrototype$3:null},String$3$3=global_1$3.String,TypeError$7$3=global_1$3.TypeError,aPossiblePrototype$3=function(tt){if(typeof tt=="object"||isCallable$3(tt))return tt;throw TypeError$7$3("Can't set "+String$3$3(tt)+" as a prototype")},objectSetPrototypeOf$3=Object.setPrototypeOf||("__proto__"in{}?function(){var tt=!1,et={},rt;try{rt=functionUncurryThis$3(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),rt(et,[]),tt=et instanceof Array}catch{}return function(it,ot){return anObject$3(it),aPossiblePrototype$3(ot),tt?rt(it,ot):it.__proto__=ot,it}}():void 0),ceil$3=Math.ceil,floor$3=Math.floor,toIntegerOrInfinity$3=function(tt){var et=+tt;return et!==et||et===0?0:(et>0?floor$3:ceil$3)(et)},max$3=Math.max,min$1$3=Math.min,toAbsoluteIndex$3=function(tt,et){var rt=toIntegerOrInfinity$3(tt);return rt<0?max$3(rt+et,0):min$1$3(rt,et)},min$4=Math.min,toLength$3=function(tt){return tt>0?min$4(toIntegerOrInfinity$3(tt),9007199254740991):0},lengthOfArrayLike$3=function(tt){return toLength$3(tt.length)},createMethod$1$3=function(tt){return function(et,rt,nt){var it=toIndexedObject$3(et),ot=lengthOfArrayLike$3(it),at=toAbsoluteIndex$3(nt,ot),st;if(tt&&rt!=rt){for(;ot>at;)if(st=it[at++],st!=st)return!0}else for(;ot>at;at++)if((tt||at in it)&&it[at]===rt)return tt||at||0;return!tt&&-1}},arrayIncludes$1$3={includes:createMethod$1$3(!0),indexOf:createMethod$1$3(!1)},hiddenKeys$1$3={},indexOf$3=arrayIncludes$1$3.indexOf,push$1$3=functionUncurryThis$3([].push),objectKeysInternal$3=function(tt,et){var rt=toIndexedObject$3(tt),nt=0,it=[],ot;for(ot in rt)!hasOwnProperty_1$3(hiddenKeys$1$3,ot)&&hasOwnProperty_1$3(rt,ot)&&push$1$3(it,ot);for(;et.length>nt;)hasOwnProperty_1$3(rt,ot=et[nt++])&&(~indexOf$3(it,ot)||push$1$3(it,ot));return it},enumBugKeys$3=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hiddenKeys$4=enumBugKeys$3.concat("length","prototype"),f$2$3=Object.getOwnPropertyNames||function tt(et){return objectKeysInternal$3(et,hiddenKeys$4)},objectGetOwnPropertyNames$3={f:f$2$3},f$1$3=Object.getOwnPropertySymbols,objectGetOwnPropertySymbols$3={f:f$1$3},concat$3=functionUncurryThis$3([].concat),ownKeys$3=getBuiltIn$3("Reflect","ownKeys")||function tt(et){var rt=objectGetOwnPropertyNames$3.f(anObject$3(et)),nt=objectGetOwnPropertySymbols$3.f;return nt?concat$3(rt,nt(et)):rt},copyConstructorProperties$3=function(tt,et,rt){for(var nt=ownKeys$3(et),it=objectDefineProperty$3.f,ot=objectGetOwnPropertyDescriptor$3.f,at=0;at<nt.length;at++){var st=nt[at];!hasOwnProperty_1$3(tt,st)&&!(rt&&hasOwnProperty_1$3(rt,st))&&it(tt,st,ot(et,st))}},objectKeys$3=Object.keys||function tt(et){return objectKeysInternal$3(et,enumBugKeys$3)},objectDefineProperties$3=descriptors$4?Object.defineProperties:function tt(et,rt){anObject$3(et);for(var nt=toIndexedObject$3(rt),it=objectKeys$3(rt),ot=it.length,at=0,st;ot>at;)objectDefineProperty$3.f(et,st=it[at++],nt[st]);return et},html$3=getBuiltIn$3("document","documentElement"),GT$3=">",LT$3="<",PROTOTYPE$3="prototype",SCRIPT$3="script",IE_PROTO$4=sharedKey$3("IE_PROTO"),EmptyConstructor$3=function(){},scriptTag$3=function(tt){return LT$3+SCRIPT$3+GT$3+tt+LT$3+"/"+SCRIPT$3+GT$3},NullProtoObjectViaActiveX$3=function(tt){tt.write(scriptTag$3("")),tt.close();var et=tt.parentWindow.Object;return tt=null,et},NullProtoObjectViaIFrame$3=function(){var tt=documentCreateElement$3("iframe"),et="java"+SCRIPT$3+":",rt;return tt.style.display="none",html$3.appendChild(tt),tt.src=String(et),rt=tt.contentWindow.document,rt.open(),rt.write(scriptTag$3("document.F=Object")),rt.close(),rt.F},activeXDocument$3,NullProtoObject$3=function(){try{activeXDocument$3=new ActiveXObject("htmlfile")}catch{}NullProtoObject$3=typeof document<"u"?document.domain&&activeXDocument$3?NullProtoObjectViaActiveX$3(activeXDocument$3):NullProtoObjectViaIFrame$3():NullProtoObjectViaActiveX$3(activeXDocument$3);for(var tt=enumBugKeys$3.length;tt--;)delete NullProtoObject$3[PROTOTYPE$3][enumBugKeys$3[tt]];return NullProtoObject$3()};hiddenKeys$1$3[IE_PROTO$4]=!0;var objectCreate$3=Object.create||function tt(et,rt){var nt;return et!==null?(EmptyConstructor$3[PROTOTYPE$3]=anObject$3(et),nt=new EmptyConstructor$3,EmptyConstructor$3[PROTOTYPE$3]=null,nt[IE_PROTO$4]=et):nt=NullProtoObject$3(),rt===void 0?nt:objectDefineProperties$3(nt,rt)},replace$3=functionUncurryThis$3("".replace),TEST$3=function(tt){return String(Error(tt).stack)}("zxcasd"),V8_OR_CHAKRA_STACK_ENTRY$3=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK$3=V8_OR_CHAKRA_STACK_ENTRY$3.test(TEST$3),clearErrorStack$3=function(tt,et){if(IS_V8_OR_CHAKRA_STACK$3&&typeof tt=="string")for(;et--;)tt=replace$3(tt,V8_OR_CHAKRA_STACK_ENTRY$3,"");return tt},installErrorCause$3=function(tt,et){isObject$1$3(et)&&"cause"in et&&createNonEnumerableProperty$3(tt,"cause",et.cause)},iterators$3={},ITERATOR$4$3=wellKnownSymbol$3("iterator"),ArrayPrototype$3=Array.prototype,isArrayIteratorMethod$3=function(tt){return tt!==void 0&&(iterators$3.Array===tt||ArrayPrototype$3[ITERATOR$4$3]===tt)},TO_STRING_TAG$4$3=wellKnownSymbol$3("toStringTag"),test$3={};test$3[TO_STRING_TAG$4$3]="z";var toStringTagSupport$3=String(test$3)==="[object z]",TO_STRING_TAG$3$3=wellKnownSymbol$3("toStringTag"),Object$1$3=global_1$3.Object,CORRECT_ARGUMENTS$3=classofRaw$3(function(){return arguments}())=="Arguments",tryGet$3=function(tt,et){try{return tt[et]}catch{}},classof$3=toStringTagSupport$3?classofRaw$3:function(tt){var et,rt,nt;return tt===void 0?"Undefined":tt===null?"Null":typeof(rt=tryGet$3(et=Object$1$3(tt),TO_STRING_TAG$3$3))=="string"?rt:CORRECT_ARGUMENTS$3?classofRaw$3(et):(nt=classofRaw$3(et))=="Object"&&isCallable$3(et.callee)?"Arguments":nt},ITERATOR$3$3=wellKnownSymbol$3("iterator"),getIteratorMethod$3=function(tt){if(tt!=null)return getMethod$3(tt,ITERATOR$3$3)||getMethod$3(tt,"@@iterator")||iterators$3[classof$3(tt)]},TypeError$6$3=global_1$3.TypeError,getIterator$3=function(tt,et){var rt=arguments.length<2?getIteratorMethod$3(tt):et;if(aCallable$3(rt))return anObject$3(functionCall$3(rt,tt));throw TypeError$6$3(tryToString$3(tt)+" is not iterable")},iteratorClose$3=function(tt,et,rt){var nt,it;anObject$3(tt);try{if(nt=getMethod$3(tt,"return"),!nt){if(et==="throw")throw rt;return rt}nt=functionCall$3(nt,tt)}catch(ot){it=!0,nt=ot}if(et==="throw")throw rt;if(it)throw nt;return anObject$3(nt),rt},TypeError$5$3=global_1$3.TypeError,Result$3=function(tt,et){this.stopped=tt,this.result=et},ResultPrototype$3=Result$3.prototype,iterate$3=function(tt,et,rt){var nt=rt&&rt.that,it=!!(rt&&rt.AS_ENTRIES),ot=!!(rt&&rt.IS_ITERATOR),at=!!(rt&&rt.INTERRUPTED),st=functionBindContext$3(et,nt),lt,ct,ut,dt,ft,pt,mt,ht=function(vt){return lt&&iteratorClose$3(lt,"normal",vt),new Result$3(!0,vt)},gt=function(vt){return it?(anObject$3(vt),at?st(vt[0],vt[1],ht):st(vt[0],vt[1])):at?st(vt,ht):st(vt)};if(ot)lt=tt;else{if(ct=getIteratorMethod$3(tt),!ct)throw TypeError$5$3(tryToString$3(tt)+" is not iterable");if(isArrayIteratorMethod$3(ct)){for(ut=0,dt=lengthOfArrayLike$3(tt);dt>ut;ut++)if(ft=gt(tt[ut]),ft&&objectIsPrototypeOf$3(ResultPrototype$3,ft))return ft;return new Result$3(!1)}lt=getIterator$3(tt,ct)}for(pt=lt.next;!(mt=functionCall$3(pt,lt)).done;){try{ft=gt(mt.value)}catch(vt){iteratorClose$3(lt,"throw",vt)}if(typeof ft=="object"&&ft&&objectIsPrototypeOf$3(ResultPrototype$3,ft))return ft}return new Result$3(!1)},String$2$3=global_1$3.String,toString_1$3=function(tt){if(classof$3(tt)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String$2$3(tt)},normalizeStringArgument$3=function(tt,et){return tt===void 0?arguments.length<2?"":et:toString_1$3(tt)},errorStackInstallable$3=!fails$3(function(){var tt=Error("a");return"stack"in tt?(Object.defineProperty(tt,"stack",createPropertyDescriptor$3(1,7)),tt.stack!==7):!0}),TO_STRING_TAG$2$3=wellKnownSymbol$3("toStringTag"),Error$1$4=global_1$3.Error,push$4=[].push,$AggregateError$3=function tt(et,rt){var nt=arguments.length>2?arguments[2]:void 0,it=objectIsPrototypeOf$3(AggregateErrorPrototype$3,this),ot;objectSetPrototypeOf$3?ot=objectSetPrototypeOf$3(new Error$1$4,it?objectGetPrototypeOf$3(this):AggregateErrorPrototype$3):(ot=it?this:objectCreate$3(AggregateErrorPrototype$3),createNonEnumerableProperty$3(ot,TO_STRING_TAG$2$3,"Error")),rt!==void 0&&createNonEnumerableProperty$3(ot,"message",normalizeStringArgument$3(rt)),errorStackInstallable$3&&createNonEnumerableProperty$3(ot,"stack",clearErrorStack$3(ot.stack,1)),installErrorCause$3(ot,nt);var at=[];return iterate$3(et,push$4,{that:at}),createNonEnumerableProperty$3(ot,"errors",at),ot};objectSetPrototypeOf$3?objectSetPrototypeOf$3($AggregateError$3,Error$1$4):copyConstructorProperties$3($AggregateError$3,Error$1$4,{name:!0});var AggregateErrorPrototype$3=$AggregateError$3.prototype=objectCreate$3(Error$1$4.prototype,{constructor:createPropertyDescriptor$3(1,$AggregateError$3),message:createPropertyDescriptor$3(1,""),name:createPropertyDescriptor$3(1,"AggregateError")});_export$3({global:!0},{AggregateError:$AggregateError$3});var functionToString$3=functionUncurryThis$3(Function.toString);isCallable$3(sharedStore$3.inspectSource)||(sharedStore$3.inspectSource=function(tt){return functionToString$3(tt)});var inspectSource$3=sharedStore$3.inspectSource,WeakMap$1$3=global_1$3.WeakMap,nativeWeakMap$3=isCallable$3(WeakMap$1$3)&&/native code/.test(inspectSource$3(WeakMap$1$3)),OBJECT_ALREADY_INITIALIZED$3="Object already initialized",TypeError$4$3=global_1$3.TypeError,WeakMap$5=global_1$3.WeakMap,set$1$3,get$1$3,has$3,enforce$3=function(tt){return has$3(tt)?get$1$3(tt):set$1$3(tt,{})},getterFor$3=function(tt){return function(et){var rt;if(!isObject$1$3(et)||(rt=get$1$3(et)).type!==tt)throw TypeError$4$3("Incompatible receiver, "+tt+" required");return rt}};if(nativeWeakMap$3||sharedStore$3.state){var store$4=sharedStore$3.state||(sharedStore$3.state=new WeakMap$5),wmget$3=functionUncurryThis$3(store$4.get),wmhas$3=functionUncurryThis$3(store$4.has),wmset$3=functionUncurryThis$3(store$4.set);set$1$3=function(tt,et){if(wmhas$3(store$4,tt))throw new TypeError$4$3(OBJECT_ALREADY_INITIALIZED$3);return et.facade=tt,wmset$3(store$4,tt,et),et},get$1$3=function(tt){return wmget$3(store$4,tt)||{}},has$3=function(tt){return wmhas$3(store$4,tt)}}else{var STATE$3=sharedKey$3("state");hiddenKeys$1$3[STATE$3]=!0,set$1$3=function(tt,et){if(hasOwnProperty_1$3(tt,STATE$3))throw new TypeError$4$3(OBJECT_ALREADY_INITIALIZED$3);return et.facade=tt,createNonEnumerableProperty$3(tt,STATE$3,et),et},get$1$3=function(tt){return hasOwnProperty_1$3(tt,STATE$3)?tt[STATE$3]:{}},has$3=function(tt){return hasOwnProperty_1$3(tt,STATE$3)}}var internalState$3={set:set$1$3,get:get$1$3,has:has$3,enforce:enforce$3,getterFor:getterFor$3},FunctionPrototype$5=Function.prototype,getDescriptor$3=descriptors$4&&Object.getOwnPropertyDescriptor,EXISTS$4=hasOwnProperty_1$3(FunctionPrototype$5,"name"),PROPER$3=EXISTS$4&&function tt(){}.name==="something",CONFIGURABLE$3=EXISTS$4&&(!descriptors$4||descriptors$4&&getDescriptor$3(FunctionPrototype$5,"name").configurable),functionName$3={EXISTS:EXISTS$4,PROPER:PROPER$3,CONFIGURABLE:CONFIGURABLE$3},redefine$3=function(tt,et,rt,nt){nt&&nt.enumerable?tt[et]=rt:createNonEnumerableProperty$3(tt,et,rt)},ITERATOR$2$3=wellKnownSymbol$3("iterator"),BUGGY_SAFARI_ITERATORS$1$3=!1,IteratorPrototype$1$3,PrototypeOfArrayIteratorPrototype$3,arrayIterator$3;[].keys&&(arrayIterator$3=[].keys(),"next"in arrayIterator$3?(PrototypeOfArrayIteratorPrototype$3=objectGetPrototypeOf$3(objectGetPrototypeOf$3(arrayIterator$3)),PrototypeOfArrayIteratorPrototype$3!==Object.prototype&&(IteratorPrototype$1$3=PrototypeOfArrayIteratorPrototype$3)):BUGGY_SAFARI_ITERATORS$1$3=!0);var NEW_ITERATOR_PROTOTYPE$3=IteratorPrototype$1$3==null||fails$3(function(){var tt={};return IteratorPrototype$1$3[ITERATOR$2$3].call(tt)!==tt});NEW_ITERATOR_PROTOTYPE$3?IteratorPrototype$1$3={}:IteratorPrototype$1$3=objectCreate$3(IteratorPrototype$1$3);isCallable$3(IteratorPrototype$1$3[ITERATOR$2$3])||redefine$3(IteratorPrototype$1$3,ITERATOR$2$3,function(){return this});var iteratorsCore$3={IteratorPrototype:IteratorPrototype$1$3,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1$3},objectToString$3=toStringTagSupport$3?{}.toString:function tt(){return"[object "+classof$3(this)+"]"},defineProperty$4=objectDefineProperty$3.f,TO_STRING_TAG$1$3=wellKnownSymbol$3("toStringTag"),setToStringTag$3=function(tt,et,rt,nt){if(tt){var it=rt?tt:tt.prototype;hasOwnProperty_1$3(it,TO_STRING_TAG$1$3)||defineProperty$4(it,TO_STRING_TAG$1$3,{configurable:!0,value:et}),nt&&!toStringTagSupport$3&&createNonEnumerableProperty$3(it,"toString",objectToString$3)}},IteratorPrototype$4=iteratorsCore$3.IteratorPrototype,returnThis$1$3=function(){return this},createIteratorConstructor$3=function(tt,et,rt,nt){var it=et+" Iterator";return tt.prototype=objectCreate$3(IteratorPrototype$4,{next:createPropertyDescriptor$3(+!nt,rt)}),setToStringTag$3(tt,it,!1,!0),iterators$3[it]=returnThis$1$3,tt},PROPER_FUNCTION_NAME$3=functionName$3.PROPER,BUGGY_SAFARI_ITERATORS$4=iteratorsCore$3.BUGGY_SAFARI_ITERATORS,ITERATOR$1$3=wellKnownSymbol$3("iterator"),KEYS$3="keys",VALUES$3="values",ENTRIES$3="entries",returnThis$4=function(){return this},defineIterator$3=function(tt,et,rt,nt,it,ot,at){createIteratorConstructor$3(rt,et,nt);var st=function(vt){if(vt===it&&ft)return ft;if(!BUGGY_SAFARI_ITERATORS$4&&vt in ut)return ut[vt];switch(vt){case KEYS$3:return function(){return new rt(this,vt)};case VALUES$3:return function(){return new rt(this,vt)};case ENTRIES$3:return function(){return new rt(this,vt)}}return function(){return new rt(this)}},lt=et+" Iterator",ct=!1,ut=tt.prototype,dt=ut[ITERATOR$1$3]||ut["@@iterator"]||it&&ut[it],ft=!BUGGY_SAFARI_ITERATORS$4&&dt||st(it),pt=et=="Array"&&ut.entries||dt,mt,ht,gt;if(pt&&(mt=objectGetPrototypeOf$3(pt.call(new tt)),mt!==Object.prototype&&mt.next&&(setToStringTag$3(mt,lt,!0,!0),iterators$3[lt]=returnThis$4)),PROPER_FUNCTION_NAME$3&&it==VALUES$3&&dt&&dt.name!==VALUES$3&&(ct=!0,ft=function(){return functionCall$3(dt,this)}),it)if(ht={values:st(VALUES$3),keys:ot?ft:st(KEYS$3),entries:st(ENTRIES$3)},at)for(gt in ht)(BUGGY_SAFARI_ITERATORS$4||ct||!(gt in ut))&&redefine$3(ut,gt,ht[gt]);else _export$3({target:et,proto:!0,forced:BUGGY_SAFARI_ITERATORS$4||ct},ht);return at&&ut[ITERATOR$1$3]!==ft&&redefine$3(ut,ITERATOR$1$3,ft,{name:it}),iterators$3[et]=ft,ht};objectDefineProperty$3.f;var ARRAY_ITERATOR$3="Array Iterator",setInternalState$2$3=internalState$3.set,getInternalState$2$3=internalState$3.getterFor(ARRAY_ITERATOR$3);defineIterator$3(Array,"Array",function(tt,et){setInternalState$2$3(this,{type:ARRAY_ITERATOR$3,target:toIndexedObject$3(tt),index:0,kind:et})},function(){var tt=getInternalState$2$3(this),et=tt.target,rt=tt.kind,nt=tt.index++;return!et||nt>=et.length?(tt.target=void 0,{value:void 0,done:!0}):rt=="keys"?{value:nt,done:!1}:rt=="values"?{value:et[nt],done:!1}:{value:[nt,et[nt]],done:!1}},"values");iterators$3.Arguments=iterators$3.Array;var nativePromiseConstructor$3=global_1$3.Promise,redefineAll$3=function(tt,et,rt){for(var nt in et)rt&&rt.unsafe&&tt[nt]?tt[nt]=et[nt]:redefine$3(tt,nt,et[nt],rt);return tt},SPECIES$2$3=wellKnownSymbol$3("species"),setSpecies$3=function(tt){var et=getBuiltIn$3(tt),rt=objectDefineProperty$3.f;descriptors$4&&et&&!et[SPECIES$2$3]&&rt(et,SPECIES$2$3,{configurable:!0,get:function(){return this}})},TypeError$3$3=global_1$3.TypeError,anInstance$3=function(tt,et){if(objectIsPrototypeOf$3(et,tt))return tt;throw TypeError$3$3("Incorrect invocation")},ITERATOR$7=wellKnownSymbol$3("iterator"),SAFE_CLOSING$3=!1;try{var called$3=0,iteratorWithReturn$3={next:function(){return{done:!!called$3++}},return:function(){SAFE_CLOSING$3=!0}};iteratorWithReturn$3[ITERATOR$7]=function(){return this},Array.from(iteratorWithReturn$3,function(){throw 2})}catch(tt){}var checkCorrectnessOfIteration$3=function(tt,et){if(!et&&!SAFE_CLOSING$3)return!1;var rt=!1;try{var nt={};nt[ITERATOR$7]=function(){return{next:function(){return{done:rt=!0}}}},tt(nt)}catch{}return rt},noop$1$3=function(){},empty$3=[],construct$3=getBuiltIn$3("Reflect","construct"),constructorRegExp$3=/^\s*(?:class|function)\b/,exec$3=functionUncurryThis$3(constructorRegExp$3.exec),INCORRECT_TO_STRING$3=!constructorRegExp$3.exec(noop$1$3),isConstructorModern$3=function tt(et){if(!isCallable$3(et))return!1;try{return construct$3(noop$1$3,empty$3,et),!0}catch{return!1}},isConstructorLegacy$3=function tt(et){if(!isCallable$3(et))return!1;switch(classof$3(et)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$3||!!exec$3(constructorRegExp$3,inspectSource$3(et))}catch{return!0}};isConstructorLegacy$3.sham=!0;var isConstructor$3=!construct$3||fails$3(function(){var tt;return isConstructorModern$3(isConstructorModern$3.call)||!isConstructorModern$3(Object)||!isConstructorModern$3(function(){tt=!0})||tt})?isConstructorLegacy$3:isConstructorModern$3,TypeError$2$3=global_1$3.TypeError,aConstructor$3=function(tt){if(isConstructor$3(tt))return tt;throw TypeError$2$3(tryToString$3(tt)+" is not a constructor")},SPECIES$1$3=wellKnownSymbol$3("species"),speciesConstructor$3=function(tt,et){var rt=anObject$3(tt).constructor,nt;return rt===void 0||(nt=anObject$3(rt)[SPECIES$1$3])==null?et:aConstructor$3(nt)},arraySlice$3=functionUncurryThis$3([].slice),engineIsIos$3=/(?:ipad|iphone|ipod).*applewebkit/i.test(engineUserAgent$3),engineIsNode$3=classofRaw$3(global_1$3.process)=="process",set$4=global_1$3.setImmediate,clear$3=global_1$3.clearImmediate,process$2$3=global_1$3.process,Dispatch$3=global_1$3.Dispatch,Function$1$3=global_1$3.Function,MessageChannel$4=global_1$3.MessageChannel,String$1$3=global_1$3.String,counter$3=0,queue$1$3={},ONREADYSTATECHANGE$3="onreadystatechange",location$4,defer$3,channel$3,port$3;try{location$4=global_1$3.location}catch(tt){}var run$3=function(tt){if(hasOwnProperty_1$3(queue$1$3,tt)){var et=queue$1$3[tt];delete queue$1$3[tt],et()}},runner$3=function(tt){return function(){run$3(tt)}},listener$3=function(tt){run$3(tt.data)},post$1$3=function(tt){global_1$3.postMessage(String$1$3(tt),location$4.protocol+"//"+location$4.host)};(!set$4||!clear$3)&&(set$4=function(et){var rt=arraySlice$3(arguments,1);return queue$1$3[++counter$3]=function(){functionApply$3(isCallable$3(et)?et:Function$1$3(et),void 0,rt)},defer$3(counter$3),counter$3},clear$3=function(et){delete queue$1$3[et]},engineIsNode$3?defer$3=function(tt){process$2$3.nextTick(runner$3(tt))}:Dispatch$3&&Dispatch$3.now?defer$3=function(tt){Dispatch$3.now(runner$3(tt))}:MessageChannel$4&&!engineIsIos$3?(channel$3=new MessageChannel$4,port$3=channel$3.port2,channel$3.port1.onmessage=listener$3,defer$3=functionBindContext$3(port$3.postMessage,port$3)):global_1$3.addEventListener&&isCallable$3(global_1$3.postMessage)&&!global_1$3.importScripts&&location$4&&location$4.protocol!=="file:"&&!fails$3(post$1$3)?(defer$3=post$1$3,global_1$3.addEventListener("message",listener$3,!1)):ONREADYSTATECHANGE$3 in documentCreateElement$3("script")?defer$3=function(tt){html$3.appendChild(documentCreateElement$3("script"))[ONREADYSTATECHANGE$3]=function(){html$3.removeChild(this),run$3(tt)}}:defer$3=function(tt){setTimeout(runner$3(tt),0)});var task$1$3={set:set$4,clear:clear$3},engineIsIosPebble$3=/ipad|iphone|ipod/i.test(engineUserAgent$3)&&global_1$3.Pebble!==void 0,engineIsWebosWebkit$3=/web0s(?!.*chrome)/i.test(engineUserAgent$3),getOwnPropertyDescriptor$5=objectGetOwnPropertyDescriptor$3.f,macrotask$3=task$1$3.set,MutationObserver$4=global_1$3.MutationObserver||global_1$3.WebKitMutationObserver,document$2$3=global_1$3.document,process$1$3=global_1$3.process,Promise$1$3=global_1$3.Promise,queueMicrotaskDescriptor$3=getOwnPropertyDescriptor$5(global_1$3,"queueMicrotask"),queueMicrotask$4=queueMicrotaskDescriptor$3&&queueMicrotaskDescriptor$3.value,flush$3,head$3,last$3,notify$1$3,toggle$3,node$3,promise$3$3,then$3;queueMicrotask$4||(flush$3=function(){var tt,et;for(engineIsNode$3&&(tt=process$1$3.domain)&&tt.exit();head$3;){et=head$3.fn,head$3=head$3.next;try{et()}catch(rt){throw head$3?notify$1$3():last$3=void 0,rt}}last$3=void 0,tt&&tt.enter()},!engineIsIos$3&&!engineIsNode$3&&!engineIsWebosWebkit$3&&MutationObserver$4&&document$2$3?(toggle$3=!0,node$3=document$2$3.createTextNode(""),new MutationObserver$4(flush$3).observe(node$3,{characterData:!0}),notify$1$3=function(){node$3.data=toggle$3=!toggle$3}):!engineIsIosPebble$3&&Promise$1$3&&Promise$1$3.resolve?(promise$3$3=Promise$1$3.resolve(void 0),promise$3$3.constructor=Promise$1$3,then$3=functionBindContext$3(promise$3$3.then,promise$3$3),notify$1$3=function(){then$3(flush$3)}):engineIsNode$3?notify$1$3=function(){process$1$3.nextTick(flush$3)}:(macrotask$3=functionBindContext$3(macrotask$3,global_1$3),notify$1$3=function(){macrotask$3(flush$3)}));var microtask$3=queueMicrotask$4||function(tt){var et={fn:tt,next:void 0};last$3&&(last$3.next=et),head$3||(head$3=et,notify$1$3()),last$3=et},PromiseCapability$3=function(tt){var et,rt;this.promise=new tt(function(nt,it){if(et!==void 0||rt!==void 0)throw TypeError("Bad Promise constructor");et=nt,rt=it}),this.resolve=aCallable$3(et),this.reject=aCallable$3(rt)},f$9=function(tt){return new PromiseCapability$3(tt)},newPromiseCapability$1$3={f:f$9},promiseResolve$3=function(tt,et){if(anObject$3(tt),isObject$1$3(et)&&et.constructor===tt)return et;var rt=newPromiseCapability$1$3.f(tt),nt=rt.resolve;return nt(et),rt.promise},hostReportErrors$3=function(tt,et){var rt=global_1$3.console;rt&&rt.error&&(arguments.length==1?rt.error(tt):rt.error(tt,et))},perform$3=function(tt){try{return{error:!1,value:tt()}}catch(et){return{error:!0,value:et}}},Queue$3=function(){this.head=null,this.tail=null};Queue$3.prototype={add:function(tt){var et={item:tt,next:null};this.head?this.tail.next=et:this.head=et,this.tail=et},get:function(){var tt=this.head;if(tt)return this.head=tt.next,this.tail===tt&&(this.tail=null),tt.item}};var queue$4=Queue$3,engineIsBrowser$3=typeof window=="object",task$4=task$1$3.set,SPECIES$5=wellKnownSymbol$3("species"),PROMISE$3="Promise",getInternalState$1$3=internalState$3.getterFor(PROMISE$3),setInternalState$1$3=internalState$3.set,getInternalPromiseState$3=internalState$3.getterFor(PROMISE$3),NativePromisePrototype$3=nativePromiseConstructor$3&&nativePromiseConstructor$3.prototype,PromiseConstructor$3=nativePromiseConstructor$3,PromisePrototype$3=NativePromisePrototype$3,TypeError$1$3=global_1$3.TypeError,document$1$3=global_1$3.document,process$7=global_1$3.process,newPromiseCapability$4=newPromiseCapability$1$3.f,newGenericPromiseCapability$3=newPromiseCapability$4,DISPATCH_EVENT$3=!!(document$1$3&&document$1$3.createEvent&&global_1$3.dispatchEvent),NATIVE_REJECTION_EVENT$3=isCallable$3(global_1$3.PromiseRejectionEvent),UNHANDLED_REJECTION$3="unhandledrejection",REJECTION_HANDLED$3="rejectionhandled",PENDING$3=0,FULFILLED$3=1,REJECTED$3=2,HANDLED$3=1,UNHANDLED$3=2,SUBCLASSING$3=!1,Internal$3,OwnPromiseCapability$3,PromiseWrapper$3,FORCED$3=isForced_1$3(PROMISE$3,function(){var tt=inspectSource$3(PromiseConstructor$3),et=tt!==String(PromiseConstructor$3);if(!et&&engineV8Version$3===66||!PromisePrototype$3.finally)return!0;if(engineV8Version$3>=51&&/native code/.test(tt))return!1;var rt=new PromiseConstructor$3(function(ot){ot(1)}),nt=function(ot){ot(function(){},function(){})},it=rt.constructor={};return it[SPECIES$5]=nt,SUBCLASSING$3=rt.then(function(){})instanceof nt,SUBCLASSING$3?!et&&engineIsBrowser$3&&!NATIVE_REJECTION_EVENT$3:!0}),INCORRECT_ITERATION$3=FORCED$3||!checkCorrectnessOfIteration$3(function(tt){PromiseConstructor$3.all(tt).catch(function(){})}),isThenable$3=function(tt){var et;return isObject$1$3(tt)&&isCallable$3(et=tt.then)?et:!1},callReaction$3=function(tt,et){var rt=et.value,nt=et.state==FULFILLED$3,it=nt?tt.ok:tt.fail,ot=tt.resolve,at=tt.reject,st=tt.domain,lt,ct,ut;try{it?(nt||(et.rejection===UNHANDLED$3&&onHandleUnhandled$3(et),et.rejection=HANDLED$3),it===!0?lt=rt:(st&&st.enter(),lt=it(rt),st&&(st.exit(),ut=!0)),lt===tt.promise?at(TypeError$1$3("Promise-chain cycle")):(ct=isThenable$3(lt))?functionCall$3(ct,lt,ot,at):ot(lt)):at(rt)}catch(dt){st&&!ut&&st.exit(),at(dt)}},notify$4=function(tt,et){tt.notified||(tt.notified=!0,microtask$3(function(){for(var rt=tt.reactions,nt;nt=rt.get();)callReaction$3(nt,tt);tt.notified=!1,et&&!tt.rejection&&onUnhandled$3(tt)}))},dispatchEvent$3=function(tt,et,rt){var nt,it;DISPATCH_EVENT$3?(nt=document$1$3.createEvent("Event"),nt.promise=et,nt.reason=rt,nt.initEvent(tt,!1,!0),global_1$3.dispatchEvent(nt)):nt={promise:et,reason:rt},!NATIVE_REJECTION_EVENT$3&&(it=global_1$3["on"+tt])?it(nt):tt===UNHANDLED_REJECTION$3&&hostReportErrors$3("Unhandled promise rejection",rt)},onUnhandled$3=function(tt){functionCall$3(task$4,global_1$3,function(){var et=tt.facade,rt=tt.value,nt=isUnhandled$3(tt),it;if(nt&&(it=perform$3(function(){engineIsNode$3?process$7.emit("unhandledRejection",rt,et):dispatchEvent$3(UNHANDLED_REJECTION$3,et,rt)}),tt.rejection=engineIsNode$3||isUnhandled$3(tt)?UNHANDLED$3:HANDLED$3,it.error))throw it.value})},isUnhandled$3=function(tt){return tt.rejection!==HANDLED$3&&!tt.parent},onHandleUnhandled$3=function(tt){functionCall$3(task$4,global_1$3,function(){var et=tt.facade;engineIsNode$3?process$7.emit("rejectionHandled",et):dispatchEvent$3(REJECTION_HANDLED$3,et,tt.value)})},bind$7=function(tt,et,rt){return function(nt){tt(et,nt,rt)}},internalReject$3=function(tt,et,rt){tt.done||(tt.done=!0,rt&&(tt=rt),tt.value=et,tt.state=REJECTED$3,notify$4(tt,!0))},internalResolve$3=function(tt,et,rt){if(!tt.done){tt.done=!0,rt&&(tt=rt);try{if(tt.facade===et)throw TypeError$1$3("Promise can't be resolved itself");var nt=isThenable$3(et);nt?microtask$3(function(){var it={done:!1};try{functionCall$3(nt,et,bind$7(internalResolve$3,it,tt),bind$7(internalReject$3,it,tt))}catch(ot){internalReject$3(it,ot,tt)}}):(tt.value=et,tt.state=FULFILLED$3,notify$4(tt,!1))}catch(it){internalReject$3({done:!1},it,tt)}}};FORCED$3&&(PromiseConstructor$3=function(et){anInstance$3(this,PromisePrototype$3),aCallable$3(et),functionCall$3(Internal$3,this);var rt=getInternalState$1$3(this);try{et(bind$7(internalResolve$3,rt),bind$7(internalReject$3,rt))}catch(nt){internalReject$3(rt,nt)}},PromisePrototype$3=PromiseConstructor$3.prototype,Internal$3=function(et){setInternalState$1$3(this,{type:PROMISE$3,done:!1,notified:!1,parent:!1,reactions:new queue$4,rejection:!1,state:PENDING$3,value:void 0})},Internal$3.prototype=redefineAll$3(PromisePrototype$3,{then:function(et,rt){var nt=getInternalPromiseState$3(this),it=newPromiseCapability$4(speciesConstructor$3(this,PromiseConstructor$3));return nt.parent=!0,it.ok=isCallable$3(et)?et:!0,it.fail=isCallable$3(rt)&&rt,it.domain=engineIsNode$3?process$7.domain:void 0,nt.state==PENDING$3?nt.reactions.add(it):microtask$3(function(){callReaction$3(it,nt)}),it.promise},catch:function(tt){return this.then(void 0,tt)}}),OwnPromiseCapability$3=function(){var tt=new Internal$3,et=getInternalState$1$3(tt);this.promise=tt,this.resolve=bind$7(internalResolve$3,et),this.reject=bind$7(internalReject$3,et)},newPromiseCapability$1$3.f=newPromiseCapability$4=function(tt){return tt===PromiseConstructor$3||tt===PromiseWrapper$3?new OwnPromiseCapability$3(tt):newGenericPromiseCapability$3(tt)});_export$3({global:!0,wrap:!0,forced:FORCED$3},{Promise:PromiseConstructor$3});setToStringTag$3(PromiseConstructor$3,PROMISE$3,!1,!0);setSpecies$3(PROMISE$3);PromiseWrapper$3=getBuiltIn$3(PROMISE$3);_export$3({target:PROMISE$3,stat:!0,forced:FORCED$3},{reject:function tt(et){var rt=newPromiseCapability$4(this);return functionCall$3(rt.reject,void 0,et),rt.promise}});_export$3({target:PROMISE$3,stat:!0,forced:isPure$3},{resolve:function tt(et){return promiseResolve$3(this===PromiseWrapper$3?PromiseConstructor$3:this,et)}});_export$3({target:PROMISE$3,stat:!0,forced:INCORRECT_ITERATION$3},{all:function tt(et){var rt=this,nt=newPromiseCapability$4(rt),it=nt.resolve,ot=nt.reject,at=perform$3(function(){var st=aCallable$3(rt.resolve),lt=[],ct=0,ut=1;iterate$3(et,function(dt){var ft=ct++,pt=!1;ut++,functionCall$3(st,rt,dt).then(function(mt){pt||(pt=!0,lt[ft]=mt,--ut||it(lt))},ot)}),--ut||it(lt)});return at.error&&ot(at.value),nt.promise},race:function tt(et){var rt=this,nt=newPromiseCapability$4(rt),it=nt.reject,ot=perform$3(function(){var at=aCallable$3(rt.resolve);iterate$3(et,function(st){functionCall$3(at,rt,st).then(nt.resolve,it)})});return ot.error&&it(ot.value),nt.promise}});_export$3({target:"Promise",stat:!0},{allSettled:function tt(et){var rt=this,nt=newPromiseCapability$1$3.f(rt),it=nt.resolve,ot=nt.reject,at=perform$3(function(){var st=aCallable$3(rt.resolve),lt=[],ct=0,ut=1;iterate$3(et,function(dt){var ft=ct++,pt=!1;ut++,functionCall$3(st,rt,dt).then(function(mt){pt||(pt=!0,lt[ft]={status:"fulfilled",value:mt},--ut||it(lt))},function(mt){pt||(pt=!0,lt[ft]={status:"rejected",reason:mt},--ut||it(lt))})}),--ut||it(lt)});return at.error&&ot(at.value),nt.promise}});var PROMISE_ANY_ERROR$3="No one promise resolved";_export$3({target:"Promise",stat:!0},{any:function tt(et){var rt=this,nt=getBuiltIn$3("AggregateError"),it=newPromiseCapability$1$3.f(rt),ot=it.resolve,at=it.reject,st=perform$3(function(){var lt=aCallable$3(rt.resolve),ct=[],ut=0,dt=1,ft=!1;iterate$3(et,function(pt){var mt=ut++,ht=!1;dt++,functionCall$3(lt,rt,pt).then(function(gt){ht||ft||(ft=!0,ot(gt))},function(gt){ht||ft||(ht=!0,ct[mt]=gt,--dt||at(new nt(ct,PROMISE_ANY_ERROR$3)))})}),--dt||at(new nt(ct,PROMISE_ANY_ERROR$3))});return st.error&&at(st.value),it.promise}});var NON_GENERIC$3=!!nativePromiseConstructor$3&&fails$3(function(){nativePromiseConstructor$3.prototype.finally.call({then:function(){}},function(){})});_export$3({target:"Promise",proto:!0,real:!0,forced:NON_GENERIC$3},{finally:function(tt){var et=speciesConstructor$3(this,getBuiltIn$3("Promise")),rt=isCallable$3(tt);return this.then(rt?function(nt){return promiseResolve$3(et,tt()).then(function(){return nt})}:tt,rt?function(nt){return promiseResolve$3(et,tt()).then(function(){throw nt})}:tt)}});var charAt$1$3=functionUncurryThis$3("".charAt),charCodeAt$3=functionUncurryThis$3("".charCodeAt),stringSlice$4=functionUncurryThis$3("".slice),createMethod$4=function(tt){return function(et,rt){var nt=toString_1$3(requireObjectCoercible$3(et)),it=toIntegerOrInfinity$3(rt),ot=nt.length,at,st;return it<0||it>=ot?tt?"":void 0:(at=charCodeAt$3(nt,it),at<55296||at>56319||it+1===ot||(st=charCodeAt$3(nt,it+1))<56320||st>57343?tt?charAt$1$3(nt,it):at:tt?stringSlice$4(nt,it,it+2):(at-55296<<10)+(st-56320)+65536)}},stringMultibyte$3={codeAt:createMethod$4(!1),charAt:createMethod$4(!0)},charAt$4=stringMultibyte$3.charAt,STRING_ITERATOR$3="String Iterator",setInternalState$5=internalState$3.set,getInternalState$5=internalState$3.getterFor(STRING_ITERATOR$3);defineIterator$3(String,"String",function(tt){setInternalState$5(this,{type:STRING_ITERATOR$3,string:toString_1$3(tt),index:0})},function tt(){var et=getInternalState$5(this),rt=et.string,nt=et.index,it;return nt>=rt.length?{value:void 0,done:!0}:(it=charAt$4(rt,nt),et.index+=it.length,{value:it,done:!1})});var promise$2$3=path$4.Promise,domIterables$3={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},TO_STRING_TAG$7=wellKnownSymbol$3("toStringTag");for(var COLLECTION_NAME$3 in domIterables$3){var Collection$3=global_1$3[COLLECTION_NAME$3],CollectionPrototype$3=Collection$3&&Collection$3.prototype;CollectionPrototype$3&&classof$3(CollectionPrototype$3)!==TO_STRING_TAG$7&&createNonEnumerableProperty$3(CollectionPrototype$3,TO_STRING_TAG$7,COLLECTION_NAME$3),iterators$3[COLLECTION_NAME$3]=iterators$3.Array}var promise$1$3=promise$2$3,promise$6=promise$1$3,DEFAULT_SIZE$3=10,DEFAULT_WAIT$3=1e3,stringifyBatch$3=function(tt){return JSON.stringify({ev_type:"batch",list:tt})};function createBatchSender$3(tt){var et=tt.transport,rt=tt.endpoint,nt=tt.size,it=nt===void 0?DEFAULT_SIZE$3:nt,ot=tt.wait,at=ot===void 0?DEFAULT_WAIT$3:ot,st=[],lt=0,ct={getSize:function(){return it},getWait:function(){return at},setSize:function(dt){it=dt},setWait:function(dt){at=dt},getEndpoint:function(){return rt},setEndpoint:function(dt){rt=dt},send:function(dt){st.push(dt),st.length>=it&&ut.call(this),clearTimeout(lt),lt=setTimeout(ut.bind(this),at)},flush:function(){clearTimeout(lt),ut.call(this)},getBatchData:function(){return st.length?stringifyBatch$3(st):""},clear:function(){clearTimeout(lt),st=[]}};function ut(){st.length&&(et.post({url:rt,data:this.getBatchData()}),st=[])}return ct}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign$4=function(){return __assign$4=Object.assign||function(et){for(var rt,nt=1,it=arguments.length;nt<it;nt++){rt=arguments[nt];for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(et[ot]=rt[ot])}return et},__assign$4.apply(this,arguments)};function __read$3(tt,et){var rt=typeof Symbol=="function"&&tt[Symbol.iterator];if(!rt)return tt;var nt=rt.call(tt),it,ot=[],at;try{for(;(et===void 0||et-- >0)&&!(it=nt.next()).done;)ot.push(it.value)}catch(st){at={error:st}}finally{try{it&&!it.done&&(rt=nt.return)&&rt.call(nt)}finally{if(at)throw at.error}}return ot}function __spreadArray$3(tt,et,rt){if(rt||arguments.length===2)for(var nt=0,it=et.length,ot;nt<it;nt++)(ot||!(nt in et))&&(ot||(ot=Array.prototype.slice.call(et,0,nt)),ot[nt]=et[nt]);return tt.concat(ot||Array.prototype.slice.call(et))}var EVENTS$3=["init","start","config","beforeDestroy","provide","report","beforeBuild","build","beforeSend","send","beforeConfig"],noop$4=function(){};function id$4(tt){return tt}function isObject$5(tt){return typeof tt=="object"&&tt!==null}var objProto$3=Object.prototype;function isArray$4(tt){return objProto$3.toString.call(tt)==="[object Array]"}function isBoolean$3(tt){return typeof tt=="boolean"}function isNumber$4(tt){return typeof tt=="number"}function isString$4(tt){return typeof tt=="string"}function arrayIncludes$4(tt,et){if(!isArray$4(tt)||tt.length===0)return!1;for(var rt=0;rt<tt.length;){if(tt[rt]===et)return!0;rt++}return!1}var arrayRemove$3=function(tt,et){if(!isArray$4(tt))return tt;var rt=tt.indexOf(et);if(rt>=0){var nt=tt.slice();return nt.splice(rt,1),nt}return tt},safeVisit$3=function(tt,et,rt){for(var nt,it,ot=et.split("."),at=__read$3(ot),st=at[0],lt=at.slice(1);tt&&lt.length>0;)tt=tt[st],nt=lt,it=__read$3(nt),st=it[0],lt=it.slice(1);if(tt)return rt(tt,st)};function safeStringify$3(tt){try{return isString$4(tt)?tt:JSON.stringify(tt)}catch(et){return"[FAILED_TO_STRINGIFY]:"+String(et)}}function createContextAgent$3(){var tt={},et={},rt={set:function(nt,it){return tt[nt]=it,et[nt]=safeStringify$3(it),rt},merge:function(nt){return tt=__assign$4(__assign$4({},tt),nt),Object.keys(nt).forEach(function(it){et[it]=safeStringify$3(nt[it])}),rt},delete:function(nt){return delete tt[nt],delete et[nt],rt},clear:function(){return tt={},et={},rt},get:function(nt){return et[nt]},toString:function(){return __assign$4({},et)}};return rt}var errCount$3=0,error$3=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];console.error.apply(console,__spreadArray$3(["[SDK]",Date.now(),(""+errCount$3++).padStart(8," ")],__read$3(tt),!1))},warnCount$3=0,warn$3=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];console.warn.apply(console,__spreadArray$3(["[SDK]",Date.now(),(""+warnCount$3++).padStart(8," ")],__read$3(tt),!1))},isHitBySampleRate$3=function(tt){return Math.random()<Number(tt)},isHitByRandom$3=function(tt,et){return tt<Number(et)},runProcessors$3=function(tt){return function(et){for(var rt=et,nt=0;nt<tt.length&&rt;nt++)try{rt=tt[nt](rt)}catch(it){error$3(it)}return rt}};function mathRNG$3(){for(var tt=new Array(16),et=0,rt=0;rt<16;rt++)rt&3||(et=Math.random()*4294967296),tt[rt]=et>>>((rt&3)<<3)&255;return tt}function bytesToUuid$3(tt){for(var et=[],rt=0;rt<256;++rt)et[rt]=(rt+256).toString(16).substr(1);var nt=0,it=et;return[it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]]].join("")}function uuid$3(){var tt=mathRNG$3();return tt[6]=tt[6]&15|64,tt[8]=tt[8]&63|128,bytesToUuid$3(tt)}function createClient$3(tt){var et=tt.builder,rt=tt.createSender,nt=tt.createDefaultConfig,it=tt.createConfigManager,ot=tt.userConfigNormalizer,at=tt.initConfigNormalizer,st=tt.validateInitConfig,lt,ct,ut={};EVENTS$3.forEach(function(vt){return ut[vt]=[]});var dt=!1,ft=!1,pt=[],mt=[],ht={getBuilder:function(){return et},getSender:function(){return lt},getPreStartQueue:function(){return pt},init:function(vt){if(dt){warn$3("already inited");return}if(vt&&isObject$5(vt)&&st(vt)){var yt=nt(vt);if(!yt)throw new Error("defaultConfig missing");var bt=at(vt);if(ct=it(yt),ct.setConfig(bt),ct.onChange(function(){gt("config")}),lt=rt(ct.getConfig()),!lt)throw new Error("sender missing");dt=!0,gt("init",!0)}else throw new Error("invalid InitConfig, init failed")},set:function(vt){dt&&vt&&isObject$5(vt)&&(gt("beforeConfig",!1,vt),ct==null||ct.setConfig(vt))},config:function(vt){if(dt)return vt&&isObject$5(vt)&&(gt("beforeConfig",!1,vt),ct==null||ct.setConfig(ot(vt))),ct==null?void 0:ct.getConfig()},provide:function(vt,yt){if(arrayIncludes$4(mt,vt)){warn$3("cannot provide "+vt+", reserved");return}ht[vt]=yt,gt("provide",!1,vt)},start:function(){var vt=this;dt&&(ft||ct==null||ct.onReady(function(){ft=!0,gt("start",!0),pt.forEach(function(yt){return vt.build(yt)}),pt=[]}))},report:function(vt){if(vt){var yt=runProcessors$3(ut.report)(vt);yt&&(ft?this.build(yt):pt.push(yt))}},build:function(vt){if(ft){var yt=runProcessors$3(ut.beforeBuild)(vt);if(yt){var bt=et.build(yt);if(bt){var xt=runProcessors$3(ut.build)(bt);xt&&this.send(xt)}}}},send:function(vt){if(ft){var yt=runProcessors$3(ut.beforeSend)(vt);yt&&(lt.send(yt),gt("send",!1,yt))}},destroy:function(){gt("beforeDestroy",!0)},on:function(vt,yt){vt==="init"&&dt||vt==="start"&&ft?yt():ut[vt]&&ut[vt].push(yt)},off:function(vt,yt){ut[vt]&&(ut[vt]=arrayRemove$3(ut[vt],yt))}};return mt=Object.keys(ht),ht;function gt(vt,yt){yt===void 0&&(yt=!1);for(var bt=[],xt=2;xt<arguments.length;xt++)bt[xt-2]=arguments[xt];ut[vt].forEach(function($t){try{$t.apply(void 0,__spreadArray$3([],__read$3(bt),!1))}catch{}}),yt&&(ut[vt].length=0)}}var ContextPlugin$3=function(tt){var et=createContextAgent$3();tt.provide("context",et),tt.on("report",function(rt){return rt.extra||(rt.extra={}),rt.extra.context=et.toString(),rt})};function IntegrationPlugin$3(tt){tt.on("init",function(){var et=[],rt=tt.config();!rt||!rt.integrations||rt.integrations.forEach(function(nt){arrayIncludes$4(et,nt.name)||(et.push(nt.name),nt.setup(tt),nt.tearDown&&tt.on("beforeDestroy",nt.tearDown))})})}function getDefaultBrowser$3(){if(typeof window=="object"&&isObject$5(window))return window}var getGlobalRegistry$3=function(tt){if(tt)return tt.__SLARDAR_REGISTRY__||(tt.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[]}}),tt.__SLARDAR_REGISTRY__.Slardar},reportSelfError$3=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];var rt=getGlobalRegistry$3(getDefaultBrowser$3());rt&&(rt.errors||(rt.errors=[]),rt.errors.push(tt))},CUSTOM_EV_TYPE$3="custom",CUSTOM_EVENT_TYPE$3="event",CUSTOM_LOG_TYPE$3="log",normalizeCustomEventData$3=function(tt){if(!(!tt||!isObject$5(tt))&&!(!tt.name||!isString$4(tt.name))){var et={name:tt.name,type:CUSTOM_EVENT_TYPE$3};if("metrics"in tt&&isObject$5(tt.metrics)){var rt=tt.metrics,nt={};for(var it in rt)isNumber$4(rt[it])&&(nt[it]=rt[it]);et.metrics=nt}if("categories"in tt&&isObject$5(tt.categories)){var ot=tt.categories,at={};for(var it in ot)at[it]=safeStringify$3(ot[it]);et.categories=at}return et}},normalizeCustomLogData$3=function(tt){if(!(!tt||!isObject$5(tt))&&!(!tt.content||!isString$4(tt.content))){var et=tt.content,rt={content:safeStringify$3(et),type:CUSTOM_LOG_TYPE$3,level:"info"};if("level"in tt&&(rt.level=tt.level),"extra"in tt&&isObject$5(tt.extra)){var nt=tt.extra,it={},ot={};for(var at in nt)isNumber$4(nt[at])?it[at]=nt[at]:ot[at]=safeStringify$3(nt[at]);rt.metrics=it,rt.categories=ot}return rt}},CustomPlugin$3=function(tt){var et=function(nt){var it=normalizeCustomEventData$3(nt);it&&tt.report({ev_type:CUSTOM_EV_TYPE$3,payload:it,extra:{timestamp:Date.now()}})},rt=function(nt){var it=normalizeCustomLogData$3(nt);it&&tt.report({ev_type:CUSTOM_EV_TYPE$3,payload:it,extra:{timestamp:Date.now()}})};tt.provide("sendEvent",et),tt.provide("sendLog",rt)},withSampleRate$3=function(tt,et){var rt=tt.common||{};return rt.sample_rate=et,tt.common=rt,tt},hitFnWithRandom$3=function(tt,et,rt,nt,it){return tt?function(ot){return function(){return ot}}(it(nt,et)):function(){return rt(et)}},parseValues$3=function(tt,et){return tt.map(function(rt){switch(et){case"number":return Number(rt);case"boolean":return rt==="1";case"string":default:return String(rt)}})},checkVal$3=function(tt,et,rt){switch(rt){case"eq":return arrayIncludes$4(et,tt);case"neq":return!arrayIncludes$4(et,tt);case"gt":return tt>et[0];case"gte":return tt>=et[0];case"lt":return tt<et[0];case"lte":return tt<=et[0];case"regex":return Boolean(tt.match(new RegExp(et.join("|"))));case"not_regex":return!tt.match(new RegExp(et.join("|")));default:return!1}},checkFilter$3=function(tt,et,rt,nt){var it=safeVisit$3(tt,et,function(at,st){return at[st]});if(it===void 0)return!1;var ot=isBoolean$3(it)?"bool":isNumber$4(it)?"number":"string";return checkVal$3(it,parseValues$3(nt,ot),rt)},matchFilter$3=function(tt,et){try{return et.type==="rule"?checkFilter$3(tt,et.field,et.op,et.values):et.type==="and"?et.children.every(function(rt){return matchFilter$3(tt,rt)}):et.children.some(function(rt){return matchFilter$3(tt,rt)})}catch(rt){return reportSelfError$3(rt),!1}},getHitMap$3=function(tt,et,rt,nt,it,ot){var at={};return Object.keys(tt).forEach(function(st){var lt=tt[st],ct=lt.enable,ut=lt.sample_rate,dt=lt.conditional_sample_rules;ct?(at[st]={enable:ct,sample_rate:ut,effectiveSampleRate:ut*rt,hit:hitFnWithRandom$3(et,ut,nt,it,ot)},dt&&(at[st].conditional_hit_rules=dt.map(function(ft){var pt=ft.sample_rate,mt=ft.filter;return{sample_rate:pt,hit:hitFnWithRandom$3(et,pt,nt,it,ot),effectiveSampleRate:pt*rt,filter:mt}}))):at[st]={enable:ct,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),at},getSampler$3=function(tt,et,rt,nt){if(!et)return id$4;var it=et.sample_rate,ot=et.include_users,at=et.sample_granularity,st=et.rules,lt=et.r,ct=lt===void 0?Math.random():lt,ut=arrayIncludes$4(ot,tt);if(ut)return function(mt){return withSampleRate$3(mt,1)};var dt=at==="session",ft=hitFnWithRandom$3(dt,it,rt,ct,nt),pt=getHitMap$3(st,dt,it,rt,ct,nt);return function(mt){var ht;if(!ft())return!1;if(!(mt.ev_type in pt))return withSampleRate$3(mt,it);if(!pt[mt.ev_type].enable)return!1;if(!((ht=mt.common)===null||ht===void 0)&&ht.sample_rate)return mt;var gt=pt[mt.ev_type],vt=gt.conditional_hit_rules;if(vt){for(var yt=0;yt<vt.length;yt++)if(matchFilter$3(mt,vt[yt].filter))return vt[yt].hit()?withSampleRate$3(mt,vt[yt].effectiveSampleRate):!1}return gt.hit()?withSampleRate$3(mt,gt.effectiveSampleRate):!1}},SamplePlugin$3=function(tt){tt.on("start",function(){var et=tt.config(),rt=et.userId,nt=et.sample,it=getSampler$3(rt,nt,isHitBySampleRate$3,isHitByRandom$3);tt.on("build",it)})},builder$3={build:function(tt){return{ev_type:tt.ev_type,payload:tt.payload,common:__assign$4(__assign$4({},tt.extra||{}),tt.overrides||{})}}},createConfigManager$3=function(tt){var et=tt,rt,nt={},it=noop$4,ot=noop$4;return{getConfig:function(){return et},setConfig:function(st){return nt=__assign$4(__assign$4({},nt),st||{}),at(),rt||(rt=st,it()),et},onChange:function(st){ot=st},onReady:function(st){it=st,rt&&it()}};function at(){var st=__assign$4(__assign$4({},tt),nt);st.sample=mergeSampleConfig$3(tt.sample,nt.sample),et=st,ot()}};function mergeSampleConfig$3(tt,et){if(!tt||!et)return tt||et;var rt=__assign$4(__assign$4({},tt),et);return rt.include_users=__spreadArray$3(__spreadArray$3([],__read$3(tt.include_users||[]),!1),__read$3(et.include_users||[]),!1),rt.rules=__spreadArray$3(__spreadArray$3([],__read$3(Object.keys(tt.rules||{})),!1),__read$3(Object.keys(et.rules||{})),!1).reduce(function(nt,it){var ot,at;return it in nt||(it in(tt.rules||{})&&it in(et.rules||{})?(nt[it]=__assign$4(__assign$4({},tt.rules[it]),et.rules[it]),nt[it].conditional_sample_rules=__spreadArray$3(__spreadArray$3([],__read$3(tt.rules[it].conditional_sample_rules||[]),!1),__read$3(et.rules[it].conditional_sample_rules||[]),!1)):nt[it]=((ot=tt.rules)===null||ot===void 0?void 0:ot[it])||((at=et.rules)===null||at===void 0?void 0:at[it])),nt},{}),rt}var REPORT_DOMAIN$3="mon.zijieapi.com",SDK_VERSION$3="1.0.2",SDK_NAME$3="SDK_BASE",BATCH_REPORT_PATH$3="/monitor_browser/collect/batch/",DEFAULT_SAMPLE_CONFIG$3={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}},DEFAULT_SENDER_SIZE$3=20;function normalizeInitConfig$3(tt){return __assign$4({},tt)}function validateInitConfig$3(tt){return isObject$5(tt)&&"bid"in tt&&"transport"in tt}function normalizeUserConfig$3(tt){return __assign$4({},tt)}var addEnvToSendEvent$3=function(tt,et){var rt={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:et.version||SDK_VERSION$3,sdk_name:et.name||SDK_NAME$3};return __assign$4(__assign$4({},tt),{extra:__assign$4(__assign$4({},rt),tt.extra||{})})},InjectEnvPlugin$3=function(tt){tt.on("report",function(et){return addEnvToSendEvent$3(et,tt.config())})},addConfigToReportEvent$3=function(tt,et){var rt={};return rt.bid=et.bid,rt.pid=et.pid,rt.view_id=et.viewId,rt.user_id=et.userId,rt.device_id=et.deviceId,rt.session_id=et.sessionId,rt.release=et.release,rt.env=et.env,__assign$4(__assign$4({},tt),{extra:__assign$4(__assign$4({},rt),tt.extra||{})})},InjectConfigPlugin$3=function(tt){tt.on("beforeBuild",function(et){return addConfigToReportEvent$3(et,tt.config())})};function createSender$3(tt){return createBatchSender$3(tt)}var getReportUrl$3=function(tt,et){return et===void 0&&(et=BATCH_REPORT_PATH$3),(tt&&tt.indexOf("//")>=0?"":"https://")+tt+et},getDefaultUserId$3=function(){return uuid$3()},getDefaultDeviceId$3=function(){return uuid$3()},getViewId$3=function(tt){return tt+"_"+Date.now()},getDefaultSessionId$3=function(){return uuid$3()},getDefaultConfig$3=function(tt){return{bid:"",pid:"",viewId:getViewId$3("_"),userId:getDefaultUserId$3(),deviceId:getDefaultDeviceId$3(),sessionId:getDefaultSessionId$3(),domain:REPORT_DOMAIN$3,release:"",env:"production",sample:DEFAULT_SAMPLE_CONFIG$3,plugins:{},transport:{get:noop$4,post:noop$4}}},createMinimalClient$3=function(tt){var et=tt===void 0?{}:tt,rt=et.createSender,nt=rt===void 0?function(ct){return createSender$3({size:DEFAULT_SENDER_SIZE$3,endpoint:getReportUrl$3(ct.domain),transport:ct.transport})}:rt,it=et.builder,ot=it===void 0?builder$3:it,at=et.createDefaultConfig,st=at===void 0?getDefaultConfig$3:at,lt=createClient$3({validateInitConfig:validateInitConfig$3,initConfigNormalizer:normalizeInitConfig$3,userConfigNormalizer:normalizeUserConfig$3,createSender:nt,builder:ot,createDefaultConfig:st,createConfigManager:createConfigManager$3});return ContextPlugin$3(lt),InjectConfigPlugin$3(lt),InjectEnvPlugin$3(lt),IntegrationPlugin$3(lt),lt},createBaseClient$3=function(tt){tt===void 0&&(tt={});var et=createMinimalClient$3(tt);return SamplePlugin$3(et),CustomPlugin$3(et),et};createBaseClient$3();var REGION$3="cn",SETTING_HOST$3="https://vcs.zijieapi.com",CHANNEL_DOMAIN$3={cn:"https://mcs.zijieapi.com"},AJAX_TIMEOUT$3=5e3,TEA_EVENT_PREFIX$3="h5_",WEBID_KEY$3="s_v_web_id",URL$4={setting:"/vc/setting",report:function(tt){return["ttp","tcpy"].indexOf(tt)!==-1?"/v1/list":"/list"},webid:function(tt){return["ttp","tcpy"].indexOf(tt)!==-1?"/v1/user/webid":"/webid"}},stringify$3=function(tt){for(var et=Object.keys(tt),rt="",nt=0;nt<et.length;nt++){var it=et[nt],ot=tt[it],at=encodeURIComponent(it)+"="+encodeURIComponent(ot);nt>=1?rt=rt+"&"+at:rt=at}return rt},getCommonParams$3=function(tt){var et=tt.commonOptions;return{aid:et.aid}},getType$3=function(tt){var et=Object.prototype.toString.call(tt);return et.slice(8,-1)},Slardar$3=function(){function tt(){this.isInit=!1,this.pid="0",this.filename=""}return tt.prototype.init=function(et,rt){if(!this.isInit){this.isInit=!0,this.pid=String(et.aid),this.browserSlardar=createBaseClient$3();var nt={transport:{get:function(){},post:function(it){var ot=it.url,at=it.data;rt(ot,JSON.parse(at))}},bid:"verify_center_cn",pid:this.pid,release:"3.8.6",env:REGION$3,sample:{sample_rate:1,include_users:[],sample_granularity:"session",rules:{pageview:{enable:!0,sample_rate:.01},js_error:{enable:!0,sample_rate:1},resource_error:{enable:!0,sample_rate:.01},http:{enable:!0,sample_rate:.01},resource:{enable:!0,sample_rate:.01}}}};this.browserSlardar.init(nt),this.browserSlardar.context.merge({belong:"hotsdk"})}},tt.prototype.start=function(){var et=this;this.browserSlardar.start(),this.reportPageview(),window.addEventListener("error",function(rt){var nt;getType$3(rt)==="ErrorEvent"&&et.filename&&rt.filename===et.filename&&et.reportJsError({message:rt==null?void 0:rt.message,stack:(nt=rt==null?void 0:rt.error)===null||nt===void 0?void 0:nt.stack,filename:rt==null?void 0:rt.filename})},!0)},tt.prototype.destroy=function(){this.browserSlardar.destroy()},tt.prototype.reportPageview=function(){this.browserSlardar.report({ev_type:"pageview",payload:{pid:this.pid,source:"init"}})},tt.prototype.reportJsError=function(et){this.browserSlardar.report({ev_type:"js_error",payload:{error:{name:"JS ERROR",message:et.message,stack:et.stack,filename:et.filename||this.filename},breadcrumbs:[]}})},tt.prototype.reportHttp=function(et){this.browserSlardar.report({ev_type:"http",payload:{api:"xhr",request:{method:et.method,url:et.url},response:{status:et.status,is_custom_error:!1,timestamp:Date.now()},duration:et.duration}})},tt.prototype.reportResourceError=function(et){this.browserSlardar.report({ev_type:"resource_error",payload:{type:"script",url:et}})},tt.prototype.reportResource=function(et){this.browserSlardar.report({ev_type:"resource",payload:{entryType:"resource",name:et.url,duration:et.duration,startTime:et.startTime}})},tt.prototype.setFileName=function(et){this.filename=et},tt}(),slardar$3=new Slardar$3,ajax$3=function(tt){var et=tt.url,rt=tt.method,nt=tt.data,it=tt.config;return new promise$6(function(ot,at){var st=new XMLHttpRequest,lt=Date.now(),ct=function(){tt.url.indexOf(URL$4.setting)!==-1&&slardar$3.reportHttp({url:et,method:rt,duration:Date.now()-lt,status:st.status})};st.onreadystatechange=function(){if(st.readyState===st.DONE){if(st.status>=200&&st.status<300){var ht={},gt=st.response||st.responseText,vt=st.getResponseHeader("Content-Type")||st.getResponseHeader("content-type");if(vt&&vt.indexOf("application/json")!==-1)try{ht=JSON.parse(gt)}catch{}else ht=gt;setTimeout(function(){ot(ht)},0)}else at(new TypeError("Network request failed, status: "+st.status));ct()}},st.onerror=function(){setTimeout(function(){at(new TypeError("Network request failed, occur error"))},0),ct()},st.ontimeout=function(){setTimeout(function(){at(new TypeError("Network request failed, timeout"))},0),ct()},st.onabort=function(){setTimeout(function(){at(new DOMException("Aborted","AbortError"))},0),ct()};var ut=et;if(it!=null&&it.params&&(ut=ut+"?"+stringify$3(it.params)),st.open(rt,ut,!0),it!=null&&it.timeout&&typeof it.timeout=="number"?st.timeout=it.timeout:st.timeout=AJAX_TIMEOUT$3,it!=null&&it.headers)for(var dt=it.headers,ft=0,pt=Object.keys(dt);ft<pt.length;ft++){var mt=pt[ft];st.setRequestHeader(mt,dt[mt])}it!=null&&it.withCredentials&&(st.withCredentials=it.withCredentials),rt.toUpperCase()==="POST"&&nt?st.send(JSON.stringify(nt)):st.send(null)})},get$4=function(tt,et){return et===void 0&&(et={}),ajax$3({url:tt,method:"GET",config:et})},post$4=function(tt,et,rt){rt===void 0&&(rt={});var nt=rt.headers?__assign$1$3({"Content-Type":"application/json"},rt.headers):{"Content-Type":"application/json"};return ajax$3({url:tt,method:"POST",data:et,config:__assign$1$3(__assign$1$3({},rt),{headers:nt})})},loadScript$3=function(tt){return new promise$6(function(et,rt){var nt=document.getElementsByTagName("head")[0],it=document.createElement("script");it.setAttribute("crossorigin","anonymous"),it.setAttribute("src",tt),nt.appendChild(it);var ot=setTimeout(function(){rt(new Error("LoadJSSDKMoreTan4000ms"))},4e3);it.onload=function(){clearTimeout(ot),et(0)},it.onerror=function(){clearTimeout(ot),rt(new Error("Failed to load SDK!"))}})},commonjs$3=function(tt){var et={exports:{}},rt=new Function("exports","module",tt);try{rt(et.exports,et)}catch(nt){slardar$3.reportJsError({message:nt==null?void 0:nt.message,stack:nt==null?void 0:nt.stack,filename:nt==null?void 0:nt.filename})}return et},js_cookie$3=createCommonjsModule$3(function(tt,et){(function(rt){var nt;if(tt.exports=rt(),nt=!0,!nt){var it=window.Cookies,ot=window.Cookies=rt();ot.noConflict=function(){return window.Cookies=it,ot}}})(function(){function rt(){for(var ot=0,at={};ot<arguments.length;ot++){var st=arguments[ot];for(var lt in st)at[lt]=st[lt]}return at}function nt(ot){return ot.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function it(ot){function at(){}function st(ct,ut,dt){if(!(typeof document>"u")){dt=rt({path:"/"},at.defaults,dt),typeof dt.expires=="number"&&(dt.expires=new Date(new Date*1+dt.expires*864e5)),dt.expires=dt.expires?dt.expires.toUTCString():"";try{var ft=JSON.stringify(ut);/^[\{\[]/.test(ft)&&(ut=ft)}catch{}ut=ot.write?ot.write(ut,ct):encodeURIComponent(String(ut)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),ct=encodeURIComponent(String(ct)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var pt="";for(var mt in dt)dt[mt]&&(pt+="; "+mt,dt[mt]!==!0&&(pt+="="+dt[mt].split(";")[0]));return document.cookie=ct+"="+ut+pt}}function lt(ct,ut){if(!(typeof document>"u")){for(var dt={},ft=document.cookie?document.cookie.split("; "):[],pt=0;pt<ft.length;pt++){var mt=ft[pt].split("="),ht=mt.slice(1).join("=");!ut&&ht.charAt(0)==='"'&&(ht=ht.slice(1,-1));try{var gt=nt(mt[0]);if(ht=(ot.read||ot)(ht,gt)||nt(ht),ut)try{ht=JSON.parse(ht)}catch{}if(dt[gt]=ht,ct===gt)break}catch{}}return ct?dt[ct]:dt}}return at.set=st,at.get=function(ct){return lt(ct,!1)},at.getJSON=function(ct){return lt(ct,!0)},at.remove=function(ct,ut){st(ct,"",rt(ut,{expires:-1}))},at.defaults={},at.withConverter=it,at}return it(function(){})})});function mergeFp$3(){var tt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),et=tt.length,rt=Date.now().toString(36),nt=[];nt[8]=nt[13]=nt[18]=nt[23]="_",nt[14]="4";for(var it=0,ot=void 0;it<36;it++)nt[it]||(ot=0|Math.random()*et,nt[it]=tt[it==19?ot&3|8:ot]);return"verify_"+rt+"_"+nt.join("")}function setWebidCookie$3(tt){tt=typeof tt=="object"?tt:{};var et=mergeFp$3(),rt={path:"/"};return tt.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(tt.domain)&&(rt.domain=tt.domain),rt.expires=60,js_cookie$3.set(WEBID_KEY$3,et,rt),et}var generateFpSync$3=function(tt){tt===void 0&&(tt={});var et=js_cookie$3.get(WEBID_KEY$3);return(!et||et.indexOf("verify_")!==0)&&(et=setWebidCookie$3(tt)),et},getFpFromCookie$3=function(){return js_cookie$3.get(WEBID_KEY$3)||""},generateFp$3=function(tt){tt===void 0&&(tt={});var et=generateFpSync$3(tt);return et},getSetting$3=function(tt){return post$4(""+(tt||SETTING_HOST$3)+URL$4.setting,{},{headers:{"X-Setting-Flag":1}})},getTeaWebId$3=function(tt,et){var rt=CHANNEL_DOMAIN$3[et],nt=URL$4.webid(et);return post$4(""+rt+nt,{app_id:tt,referer:document.referrer,url:window.location.href,user_agent:window.navigator.userAgent,user_unique_id:""}).then(function(it){return it.web_id})},report$3=function(tt,et){var rt=CHANNEL_DOMAIN$3[et],nt=URL$4.report(et);return post$4(""+rt+nt,tt)},EVT_NAME$3="turing_verify_sdk",Logger$3=function(){function tt(){this.fetchWebId=null,this.channelType="",this.isInit=!1,this.conf={app_id:0,evtParams:{}}}return tt.prototype.init=function(et,rt){rt===void 0&&(rt={}),!this.isInit&&(this.isInit=!0,this.conf.app_id=et.region==="cn"?2018:2740,this.conf.evtParams=__assign$1$3(__assign$1$3({},rt),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:et.aid}),this.channelType=REGION$3)},tt.prototype.getTeaWebId=function(){return this.fetchWebId||(this.fetchWebId=getTeaWebId$3(this.conf.app_id,this.channelType)),this.fetchWebId},tt.prototype.trackEvent=function(et,rt){var nt=this;rt===void 0&&(rt={}),this.getTeaWebId().then(function(it){var ot=[{events:[{event:EVT_NAME$3,is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(__assign$1$3(__assign$1$3(__assign$1$3({},nt.conf.evtParams),rt),{key:""+TEA_EVENT_PREFIX$3+et,time:Date.now()}))}],local_time:Math.floor(Date.now()/1e3),header:{app_id:nt.conf.app_id,referrer:document.referrer,platform:"web",sdk_lib:"js",sdk_version:"0.0.0"},user:{user_unique_id:it,web_id:it}}];nt.sendEvents(ot)}).catch(function(it){})},tt.prototype.sendEvents=function(et){report$3(et,this.channelType).catch(function(rt){})},tt}(),logger$3=new Logger$3,verify$3={back_up_js_v2:{cn:["https://lf-rc2.yhgfb-cn-static.com/obj/rc-client-security/secsdk-captcha/@latest/captcha.js","https://lf-cdn-tos.bytescm.com/obj/static/secsdk-captcha/@latest/captcha.js"]},js_v2:{cn:"https://lf-rc1.yhgfb-cn-static.com/obj/rc-client-security/secsdk-captcha/@latest/captcha.js"}},DefaultSetting$3={verify:verify$3},initOptions$3={},configOptions$3={executor:"Function",static_domain:"",settingHost:""},getCDN$3=function(){var tt=Date.now();return getSetting$3(configOptions$3.settingHost).catch(function(){return getSetting$3(configOptions$3.settingHost)}).then(function(et){var rt,nt;return logger$3.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-tt,message:""}),!((nt=(rt=et==null?void 0:et.verify)===null||rt===void 0?void 0:rt.js_v2)===null||nt===void 0)&&nt[REGION$3]?et.verify:DefaultSetting$3.verify}).catch(function(et){return logger$3.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-tt,message:et==null?void 0:et.message}),DefaultSetting$3.verify})},loadCDN$3=function(tt,et,rt,nt){slardar$3.setFileName(tt);var it=Date.now(),ot=promise$6.resolve({});return et==="script"?ot=loadScript$3(tt).then(function(){return window.verifySDK}):ot=get$4(tt,{timeout:2e4}).then(function(at){if(rt&&nt&&rt!==nt){var st=new RegExp(rt,"g");at=at.replace(st,nt)}var lt=commonjs$3(at);return lt.exports}),ot.then(function(at){return slardar$3.reportResource({url:tt,startTime:Date.now(),duration:Date.now()-it}),at}).catch(function(at){return slardar$3.reportResourceError(tt),promise$6.reject(at)})},SDK$3=function(){function tt(){}return tt.get=function(){return(tt.status===0||tt.status===3)&&(tt.status=1,tt.core=getCDN$3().then(function(et){var rt,nt,it,ot=(rt=et.js_v2)===null||rt===void 0?void 0:rt[REGION$3],at=((nt=et.back_up_js_v2)===null||nt===void 0?void 0:nt[REGION$3])||[],st=(it=ot.match(/\/\/([\w-]+(\.[\w-]+)+)/))===null||it===void 0?void 0:it[1];configOptions$3.static_domain&&st&&(ot=ot.replace(st,configOptions$3.static_domain));var lt=[ot].concat(at);return new promise$6(function(ct,ut){var dt=function(){var ft,pt=lt.shift(),mt=(ft=pt.match(/\/\/([\w-]+(\.[\w-]+)+)/))===null||ft===void 0?void 0:ft[1];loadCDN$3(pt,configOptions$3.executor,st,mt).then(function(ht){ct(ht),tt.status=2,logger$3.trackEvent("hotsdk_loadscript",{is_success:1})}).catch(function(ht){lt.length?dt():(ut(ht),tt.status=3,logger$3.trackEvent("hotsdk_loadscript",{is_success:0}))})};dt()})}).catch(function(et){return promise$6.reject(et)})),tt.core},tt.status=0,tt}(),config$4=function(tt){tt.static_domain&&(configOptions$3.static_domain=tt.static_domain),tt.settingHost&&(configOptions$3.settingHost=tt.settingHost),tt.executor&&(configOptions$3.executor=tt.executor)},init$3=function(tt,et,rt){et===void 0&&(et=function(){}),rt===void 0&&(rt=function(){});var nt=getCommonParams$3(tt);logger$3.init(__assign$1$3(__assign$1$3({},nt),{region:REGION$3})),slardar$3.init(nt,post$4),slardar$3.start(),SDK$3.get().then(function(it){var ot;Object.assign(initOptions$3,__assign$1$3(__assign$1$3({},tt),{captchaOptions:__assign$1$3(__assign$1$3({},tt.captchaOptions),{h5_check_version:!((ot=tt.captchaOptions)===null||ot===void 0)&&ot.closeDecisionCheck?"0.0.0":"3.8.6"})})),it==null||it.initVerifyOptions(initOptions$3),et(it)}).catch(function(it){var ot;rt({type:"loadJSSDK",msg:(ot=it==null?void 0:it.message)!==null&&ot!==void 0?ot:""})})},render$3=function(tt){SDK$3.get().then(function(et){et==null||et.autoRender(tt)}).catch(function(et){})},close$3=function(){SDK$3.get().then(function(tt){tt==null||tt.closeCaptcha()})},getFp$3=function(){var tt,et,rt=((tt=initOptions$3==null?void 0:initOptions$3.captchaOptions)===null||tt===void 0?void 0:tt.fp)||getFpFromCookie$3()||generateFp$3((et=initOptions$3==null?void 0:initOptions$3.captchaOptions)===null||et===void 0?void 0:et.fpCookieOption);return promise$6.resolve(rt)},TTVerifyCenter$3=function(){function tt(){}return tt.config=function(et){config$4(et)},tt.init=function(et,rt,nt){var it=getCommonParams$3(et);return logger$3.init(__assign$1$3(__assign$1$3({},it),{region:REGION$3})),slardar$3.init(it,post$4),slardar$3.start(),SDK$3.get().then(function(ot){var at;Object.assign(initOptions$3,__assign$1$3(__assign$1$3({},et),{captchaOptions:__assign$1$3(__assign$1$3({},et.captchaOptions),{h5_check_version:!((at=et.captchaOptions)===null||at===void 0)&&at.closeDecisionCheck?"0.0.0":"3.8.6"})}));var st=ot.initVerifyCenter(initOptions$3);if(rt)rt(st);else return st}).catch(function(ot){if(nt)nt(ot);else return promise$6.reject(ot)})},tt}(),transform$3=function(tt){var et={code:"10000",from:"",type:"verify",version:"1",region:REGION$3,subtype:"",verify_event:"",fp:"",detail:""};return tt===3059?et.subtype="text":tt===3060?et.subtype="3d":tt===99996?et.subtype="whirl":et.subtype="slide",JSON.stringify(et)};const index_esm$3=Object.freeze(Object.defineProperty({__proto__:null,TTVerifyCenter:TTVerifyCenter$3,close:close$3,config:config$4,getFp:getFp$3,init:init$3,render:render$3,transform:transform$3},Symbol.toStringTag,{value:"Module"})),require$$0=getAugmentedNamespace(index_esm$3);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign$1$2=function(){return __assign$1$2=Object.assign||function(et){for(var rt,nt=1,it=arguments.length;nt<it;nt++){rt=arguments[nt];for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(et[ot]=rt[ot])}return et},__assign$1$2.apply(this,arguments)};typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(et,rt){if(et==null)throw new TypeError("Cannot convert undefined or null to object");for(var nt=Object(et),it=1;it<arguments.length;it++){var ot=arguments[it];if(ot!=null)for(var at in ot)Object.prototype.hasOwnProperty.call(ot,at)&&(nt[at]=ot[at])}return nt},writable:!0,configurable:!0});var commonjsGlobal$2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule$2(tt,et,rt){return rt={path:et,exports:{},require:function(nt,it){return commonjsRequire$2(nt,it??rt.path)}},tt(rt,rt.exports),rt.exports}function commonjsRequire$2(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var check$2=function(tt){return tt&&tt.Math==Math&&tt},global_1$2=check$2(typeof globalThis=="object"&&globalThis)||check$2(typeof window=="object"&&window)||check$2(typeof self=="object"&&self)||check$2(typeof commonjsGlobal$2=="object"&&commonjsGlobal$2)||function(){return this}()||Function("return this")(),FunctionPrototype$2$2=Function.prototype,apply$2=FunctionPrototype$2$2.apply,bind$3$2=FunctionPrototype$2$2.bind,call$2$2=FunctionPrototype$2$2.call,functionApply$2=typeof Reflect=="object"&&Reflect.apply||(bind$3$2?call$2$2.bind(apply$2):function(){return call$2$2.apply(apply$2,arguments)}),FunctionPrototype$1$2=Function.prototype,bind$2$3=FunctionPrototype$1$2.bind,call$1$2=FunctionPrototype$1$2.call,callBind$2=bind$2$3&&bind$2$3.bind(call$1$2),functionUncurryThis$2=bind$2$3?function(tt){return tt&&callBind$2(call$1$2,tt)}:function(tt){return tt&&function(){return call$1$2.apply(tt,arguments)}},isCallable$2=function(tt){return typeof tt=="function"},fails$2=function(tt){try{return!!tt()}catch{return!0}},descriptors$3=!fails$2(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),call$4=Function.prototype.call,functionCall$2=call$4.bind?call$4.bind(call$4):function(){return call$4.apply(call$4,arguments)},$propertyIsEnumerable$2={}.propertyIsEnumerable,getOwnPropertyDescriptor$2$2=Object.getOwnPropertyDescriptor,NASHORN_BUG$2=getOwnPropertyDescriptor$2$2&&!$propertyIsEnumerable$2.call({1:2},1),f$5$2=NASHORN_BUG$2?function tt(et){var rt=getOwnPropertyDescriptor$2$2(this,et);return!!rt&&rt.enumerable}:$propertyIsEnumerable$2,objectPropertyIsEnumerable$2={f:f$5$2},createPropertyDescriptor$2=function(tt,et){return{enumerable:!(tt&1),configurable:!(tt&2),writable:!(tt&4),value:et}},toString$1$2=functionUncurryThis$2({}.toString),stringSlice$1$2=functionUncurryThis$2("".slice),classofRaw$2=function(tt){return stringSlice$1$2(toString$1$2(tt),8,-1)},Object$5$2=global_1$2.Object,split$2=functionUncurryThis$2("".split),indexedObject$2=fails$2(function(){return!Object$5$2("z").propertyIsEnumerable(0)})?function(tt){return classofRaw$2(tt)=="String"?split$2(tt,""):Object$5$2(tt)}:Object$5$2,TypeError$d$2=global_1$2.TypeError,requireObjectCoercible$2=function(tt){if(tt==null)throw TypeError$d$2("Can't call method on "+tt);return tt},toIndexedObject$2=function(tt){return indexedObject$2(requireObjectCoercible$2(tt))},isObject$1$2=function(tt){return typeof tt=="object"?tt!==null:isCallable$2(tt)},path$3={},aFunction$2=function(tt){return isCallable$2(tt)?tt:void 0},getBuiltIn$2=function(tt,et){return arguments.length<2?aFunction$2(path$3[tt])||aFunction$2(global_1$2[tt]):path$3[tt]&&path$3[tt][et]||global_1$2[tt]&&global_1$2[tt][et]},objectIsPrototypeOf$2=functionUncurryThis$2({}.isPrototypeOf),engineUserAgent$2=getBuiltIn$2("navigator","userAgent")||"",process$3$2=global_1$2.process,Deno$2=global_1$2.Deno,versions$2=process$3$2&&process$3$2.versions||Deno$2&&Deno$2.version,v8$2=versions$2&&versions$2.v8,match$2,version$2;v8$2&&(match$2=v8$2.split("."),version$2=match$2[0]>0&&match$2[0]<4?1:+(match$2[0]+match$2[1]));!version$2&&engineUserAgent$2&&(match$2=engineUserAgent$2.match(/Edge\/(\d+)/),(!match$2||match$2[1]>=74)&&(match$2=engineUserAgent$2.match(/Chrome\/(\d+)/),match$2&&(version$2=+match$2[1])));var engineV8Version$2=version$2,nativeSymbol$2=!!Object.getOwnPropertySymbols&&!fails$2(function(){var tt=Symbol();return!String(tt)||!(Object(tt)instanceof Symbol)||!Symbol.sham&&engineV8Version$2&&engineV8Version$2<41}),useSymbolAsUid$2=nativeSymbol$2&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Object$4$2=global_1$2.Object,isSymbol$2=useSymbolAsUid$2?function(tt){return typeof tt=="symbol"}:function(tt){var et=getBuiltIn$2("Symbol");return isCallable$2(et)&&objectIsPrototypeOf$2(et.prototype,Object$4$2(tt))},String$5$2=global_1$2.String,tryToString$2=function(tt){try{return String$5$2(tt)}catch{return"Object"}},TypeError$c$2=global_1$2.TypeError,aCallable$2=function(tt){if(isCallable$2(tt))return tt;throw TypeError$c$2(tryToString$2(tt)+" is not a function")},getMethod$2=function(tt,et){var rt=tt[et];return rt==null?void 0:aCallable$2(rt)},TypeError$b$2=global_1$2.TypeError,ordinaryToPrimitive$2=function(tt,et){var rt,nt;if(et==="string"&&isCallable$2(rt=tt.toString)&&!isObject$1$2(nt=functionCall$2(rt,tt))||isCallable$2(rt=tt.valueOf)&&!isObject$1$2(nt=functionCall$2(rt,tt))||et!=="string"&&isCallable$2(rt=tt.toString)&&!isObject$1$2(nt=functionCall$2(rt,tt)))return nt;throw TypeError$b$2("Can't convert object to primitive value")},isPure$2=!0,defineProperty$1$2=Object.defineProperty,setGlobal$2=function(tt,et){try{defineProperty$1$2(global_1$2,tt,{value:et,configurable:!0,writable:!0})}catch{global_1$2[tt]=et}return et},SHARED$2="__core-js_shared__",store$1$2=global_1$2[SHARED$2]||setGlobal$2(SHARED$2,{}),sharedStore$2=store$1$2,shared$2=createCommonjsModule$2(function(tt){(tt.exports=function(et,rt){return sharedStore$2[et]||(sharedStore$2[et]=rt!==void 0?rt:{})})("versions",[]).push({version:"3.20.1",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),Object$3$2=global_1$2.Object,toObject$2=function(tt){return Object$3$2(requireObjectCoercible$2(tt))},hasOwnProperty$2=functionUncurryThis$2({}.hasOwnProperty),hasOwnProperty_1$2=Object.hasOwn||function tt(et,rt){return hasOwnProperty$2(toObject$2(et),rt)},id$1$2=0,postfix$2=Math.random(),toString$4=functionUncurryThis$2(1 .toString),uid$2=function(tt){return"Symbol("+(tt===void 0?"":tt)+")_"+toString$4(++id$1$2+postfix$2,36)},WellKnownSymbolsStore$2=shared$2("wks"),Symbol$1$2=global_1$2.Symbol,symbolFor$2=Symbol$1$2&&Symbol$1$2.for,createWellKnownSymbol$2=useSymbolAsUid$2?Symbol$1$2:Symbol$1$2&&Symbol$1$2.withoutSetter||uid$2,wellKnownSymbol$2=function(tt){if(!hasOwnProperty_1$2(WellKnownSymbolsStore$2,tt)||!(nativeSymbol$2||typeof WellKnownSymbolsStore$2[tt]=="string")){var et="Symbol."+tt;nativeSymbol$2&&hasOwnProperty_1$2(Symbol$1$2,tt)?WellKnownSymbolsStore$2[tt]=Symbol$1$2[tt]:useSymbolAsUid$2&&symbolFor$2?WellKnownSymbolsStore$2[tt]=symbolFor$2(et):WellKnownSymbolsStore$2[tt]=createWellKnownSymbol$2(et)}return WellKnownSymbolsStore$2[tt]},TypeError$a$2=global_1$2.TypeError,TO_PRIMITIVE$2=wellKnownSymbol$2("toPrimitive"),toPrimitive$2=function(tt,et){if(!isObject$1$2(tt)||isSymbol$2(tt))return tt;var rt=getMethod$2(tt,TO_PRIMITIVE$2),nt;if(rt){if(et===void 0&&(et="default"),nt=functionCall$2(rt,tt,et),!isObject$1$2(nt)||isSymbol$2(nt))return nt;throw TypeError$a$2("Can't convert object to primitive value")}return et===void 0&&(et="number"),ordinaryToPrimitive$2(tt,et)},toPropertyKey$2=function(tt){var et=toPrimitive$2(tt,"string");return isSymbol$2(et)?et:et+""},document$3$2=global_1$2.document,EXISTS$1$2=isObject$1$2(document$3$2)&&isObject$1$2(document$3$2.createElement),documentCreateElement$2=function(tt){return EXISTS$1$2?document$3$2.createElement(tt):{}},ie8DomDefine$2=!descriptors$3&&!fails$2(function(){return Object.defineProperty(documentCreateElement$2("div"),"a",{get:function(){return 7}}).a!=7}),$getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor,f$4$2=descriptors$3?$getOwnPropertyDescriptor$2:function tt(et,rt){if(et=toIndexedObject$2(et),rt=toPropertyKey$2(rt),ie8DomDefine$2)try{return $getOwnPropertyDescriptor$2(et,rt)}catch{}if(hasOwnProperty_1$2(et,rt))return createPropertyDescriptor$2(!functionCall$2(objectPropertyIsEnumerable$2.f,et,rt),et[rt])},objectGetOwnPropertyDescriptor$2={f:f$4$2},replacement$2=/#|\.prototype\./,isForced$2=function(tt,et){var rt=data$3[normalize$2(tt)];return rt==POLYFILL$2?!0:rt==NATIVE$2?!1:isCallable$2(et)?fails$2(et):!!et},normalize$2=isForced$2.normalize=function(tt){return String(tt).replace(replacement$2,".").toLowerCase()},data$3=isForced$2.data={},NATIVE$2=isForced$2.NATIVE="N",POLYFILL$2=isForced$2.POLYFILL="P",isForced_1$2=isForced$2,bind$1$3=functionUncurryThis$2(functionUncurryThis$2.bind),functionBindContext$2=function(tt,et){return aCallable$2(tt),et===void 0?tt:bind$1$3?bind$1$3(tt,et):function(){return tt.apply(et,arguments)}},String$4$2=global_1$2.String,TypeError$9$2=global_1$2.TypeError,anObject$2=function(tt){if(isObject$1$2(tt))return tt;throw TypeError$9$2(String$4$2(tt)+" is not an object")},TypeError$8$2=global_1$2.TypeError,$defineProperty$2=Object.defineProperty,f$3$2=descriptors$3?$defineProperty$2:function tt(et,rt,nt){if(anObject$2(et),rt=toPropertyKey$2(rt),anObject$2(nt),ie8DomDefine$2)try{return $defineProperty$2(et,rt,nt)}catch{}if("get"in nt||"set"in nt)throw TypeError$8$2("Accessors not supported");return"value"in nt&&(et[rt]=nt.value),et},objectDefineProperty$2={f:f$3$2},createNonEnumerableProperty$2=descriptors$3?function(tt,et,rt){return objectDefineProperty$2.f(tt,et,createPropertyDescriptor$2(1,rt))}:function(tt,et,rt){return tt[et]=rt,tt},getOwnPropertyDescriptor$1$2=objectGetOwnPropertyDescriptor$2.f,wrapConstructor$2=function(tt){var et=function(rt,nt,it){if(this instanceof et){switch(arguments.length){case 0:return new tt;case 1:return new tt(rt);case 2:return new tt(rt,nt)}return new tt(rt,nt,it)}return functionApply$2(tt,this,arguments)};return et.prototype=tt.prototype,et},_export$2=function(tt,et){var rt=tt.target,nt=tt.global,it=tt.stat,ot=tt.proto,at=nt?global_1$2:it?global_1$2[rt]:(global_1$2[rt]||{}).prototype,st=nt?path$3:path$3[rt]||createNonEnumerableProperty$2(path$3,rt,{})[rt],lt=st.prototype,ct,ut,dt,ft,pt,mt,ht,gt,vt;for(ft in et)ct=isForced_1$2(nt?ft:rt+(it?".":"#")+ft,tt.forced),ut=!ct&&at&&hasOwnProperty_1$2(at,ft),mt=st[ft],ut&&(tt.noTargetGet?(vt=getOwnPropertyDescriptor$1$2(at,ft),ht=vt&&vt.value):ht=at[ft]),pt=ut&&ht?ht:et[ft],!(ut&&typeof mt==typeof pt)&&(tt.bind&&ut?gt=functionBindContext$2(pt,global_1$2):tt.wrap&&ut?gt=wrapConstructor$2(pt):ot&&isCallable$2(pt)?gt=functionUncurryThis$2(pt):gt=pt,(tt.sham||pt&&pt.sham||mt&&mt.sham)&&createNonEnumerableProperty$2(gt,"sham",!0),createNonEnumerableProperty$2(st,ft,gt),ot&&(dt=rt+"Prototype",hasOwnProperty_1$2(path$3,dt)||createNonEnumerableProperty$2(path$3,dt,{}),createNonEnumerableProperty$2(path$3[dt],ft,pt),tt.real&&lt&&!lt[ft]&&createNonEnumerableProperty$2(lt,ft,pt)))},keys$2=shared$2("keys"),sharedKey$2=function(tt){return keys$2[tt]||(keys$2[tt]=uid$2(tt))},correctPrototypeGetter$2=!fails$2(function(){function tt(){}return tt.prototype.constructor=null,Object.getPrototypeOf(new tt)!==tt.prototype}),IE_PROTO$1$2=sharedKey$2("IE_PROTO"),Object$2$2=global_1$2.Object,ObjectPrototype$2=Object$2$2.prototype,objectGetPrototypeOf$2=correctPrototypeGetter$2?Object$2$2.getPrototypeOf:function(tt){var et=toObject$2(tt);if(hasOwnProperty_1$2(et,IE_PROTO$1$2))return et[IE_PROTO$1$2];var rt=et.constructor;return isCallable$2(rt)&&et instanceof rt?rt.prototype:et instanceof Object$2$2?ObjectPrototype$2:null},String$3$2=global_1$2.String,TypeError$7$2=global_1$2.TypeError,aPossiblePrototype$2=function(tt){if(typeof tt=="object"||isCallable$2(tt))return tt;throw TypeError$7$2("Can't set "+String$3$2(tt)+" as a prototype")},objectSetPrototypeOf$2=Object.setPrototypeOf||("__proto__"in{}?function(){var tt=!1,et={},rt;try{rt=functionUncurryThis$2(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),rt(et,[]),tt=et instanceof Array}catch{}return function(it,ot){return anObject$2(it),aPossiblePrototype$2(ot),tt?rt(it,ot):it.__proto__=ot,it}}():void 0),ceil$2=Math.ceil,floor$2=Math.floor,toIntegerOrInfinity$2=function(tt){var et=+tt;return et!==et||et===0?0:(et>0?floor$2:ceil$2)(et)},max$2=Math.max,min$1$2=Math.min,toAbsoluteIndex$2=function(tt,et){var rt=toIntegerOrInfinity$2(tt);return rt<0?max$2(rt+et,0):min$1$2(rt,et)},min$3=Math.min,toLength$2=function(tt){return tt>0?min$3(toIntegerOrInfinity$2(tt),9007199254740991):0},lengthOfArrayLike$2=function(tt){return toLength$2(tt.length)},createMethod$1$2=function(tt){return function(et,rt,nt){var it=toIndexedObject$2(et),ot=lengthOfArrayLike$2(it),at=toAbsoluteIndex$2(nt,ot),st;if(tt&&rt!=rt){for(;ot>at;)if(st=it[at++],st!=st)return!0}else for(;ot>at;at++)if((tt||at in it)&&it[at]===rt)return tt||at||0;return!tt&&-1}},arrayIncludes$1$2={includes:createMethod$1$2(!0),indexOf:createMethod$1$2(!1)},hiddenKeys$1$2={},indexOf$2=arrayIncludes$1$2.indexOf,push$1$2=functionUncurryThis$2([].push),objectKeysInternal$2=function(tt,et){var rt=toIndexedObject$2(tt),nt=0,it=[],ot;for(ot in rt)!hasOwnProperty_1$2(hiddenKeys$1$2,ot)&&hasOwnProperty_1$2(rt,ot)&&push$1$2(it,ot);for(;et.length>nt;)hasOwnProperty_1$2(rt,ot=et[nt++])&&(~indexOf$2(it,ot)||push$1$2(it,ot));return it},enumBugKeys$2=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hiddenKeys$3=enumBugKeys$2.concat("length","prototype"),f$2$2=Object.getOwnPropertyNames||function tt(et){return objectKeysInternal$2(et,hiddenKeys$3)},objectGetOwnPropertyNames$2={f:f$2$2},f$1$2=Object.getOwnPropertySymbols,objectGetOwnPropertySymbols$2={f:f$1$2},concat$2=functionUncurryThis$2([].concat),ownKeys$2=getBuiltIn$2("Reflect","ownKeys")||function tt(et){var rt=objectGetOwnPropertyNames$2.f(anObject$2(et)),nt=objectGetOwnPropertySymbols$2.f;return nt?concat$2(rt,nt(et)):rt},copyConstructorProperties$2=function(tt,et,rt){for(var nt=ownKeys$2(et),it=objectDefineProperty$2.f,ot=objectGetOwnPropertyDescriptor$2.f,at=0;at<nt.length;at++){var st=nt[at];!hasOwnProperty_1$2(tt,st)&&!(rt&&hasOwnProperty_1$2(rt,st))&&it(tt,st,ot(et,st))}},objectKeys$2=Object.keys||function tt(et){return objectKeysInternal$2(et,enumBugKeys$2)},objectDefineProperties$2=descriptors$3?Object.defineProperties:function tt(et,rt){anObject$2(et);for(var nt=toIndexedObject$2(rt),it=objectKeys$2(rt),ot=it.length,at=0,st;ot>at;)objectDefineProperty$2.f(et,st=it[at++],nt[st]);return et},html$2=getBuiltIn$2("document","documentElement"),GT$2=">",LT$2="<",PROTOTYPE$2="prototype",SCRIPT$2="script",IE_PROTO$3=sharedKey$2("IE_PROTO"),EmptyConstructor$2=function(){},scriptTag$2=function(tt){return LT$2+SCRIPT$2+GT$2+tt+LT$2+"/"+SCRIPT$2+GT$2},NullProtoObjectViaActiveX$2=function(tt){tt.write(scriptTag$2("")),tt.close();var et=tt.parentWindow.Object;return tt=null,et},NullProtoObjectViaIFrame$2=function(){var tt=documentCreateElement$2("iframe"),et="java"+SCRIPT$2+":",rt;return tt.style.display="none",html$2.appendChild(tt),tt.src=String(et),rt=tt.contentWindow.document,rt.open(),rt.write(scriptTag$2("document.F=Object")),rt.close(),rt.F},activeXDocument$2,NullProtoObject$2=function(){try{activeXDocument$2=new ActiveXObject("htmlfile")}catch{}NullProtoObject$2=typeof document<"u"?document.domain&&activeXDocument$2?NullProtoObjectViaActiveX$2(activeXDocument$2):NullProtoObjectViaIFrame$2():NullProtoObjectViaActiveX$2(activeXDocument$2);for(var tt=enumBugKeys$2.length;tt--;)delete NullProtoObject$2[PROTOTYPE$2][enumBugKeys$2[tt]];return NullProtoObject$2()};hiddenKeys$1$2[IE_PROTO$3]=!0;var objectCreate$2=Object.create||function tt(et,rt){var nt;return et!==null?(EmptyConstructor$2[PROTOTYPE$2]=anObject$2(et),nt=new EmptyConstructor$2,EmptyConstructor$2[PROTOTYPE$2]=null,nt[IE_PROTO$3]=et):nt=NullProtoObject$2(),rt===void 0?nt:objectDefineProperties$2(nt,rt)},replace$2=functionUncurryThis$2("".replace),TEST$2=function(tt){return String(Error(tt).stack)}("zxcasd"),V8_OR_CHAKRA_STACK_ENTRY$2=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK$2=V8_OR_CHAKRA_STACK_ENTRY$2.test(TEST$2),clearErrorStack$2=function(tt,et){if(IS_V8_OR_CHAKRA_STACK$2&&typeof tt=="string")for(;et--;)tt=replace$2(tt,V8_OR_CHAKRA_STACK_ENTRY$2,"");return tt},installErrorCause$2=function(tt,et){isObject$1$2(et)&&"cause"in et&&createNonEnumerableProperty$2(tt,"cause",et.cause)},iterators$2={},ITERATOR$4$2=wellKnownSymbol$2("iterator"),ArrayPrototype$2=Array.prototype,isArrayIteratorMethod$2=function(tt){return tt!==void 0&&(iterators$2.Array===tt||ArrayPrototype$2[ITERATOR$4$2]===tt)},TO_STRING_TAG$4$2=wellKnownSymbol$2("toStringTag"),test$2={};test$2[TO_STRING_TAG$4$2]="z";var toStringTagSupport$2=String(test$2)==="[object z]",TO_STRING_TAG$3$2=wellKnownSymbol$2("toStringTag"),Object$1$2=global_1$2.Object,CORRECT_ARGUMENTS$2=classofRaw$2(function(){return arguments}())=="Arguments",tryGet$2=function(tt,et){try{return tt[et]}catch{}},classof$2=toStringTagSupport$2?classofRaw$2:function(tt){var et,rt,nt;return tt===void 0?"Undefined":tt===null?"Null":typeof(rt=tryGet$2(et=Object$1$2(tt),TO_STRING_TAG$3$2))=="string"?rt:CORRECT_ARGUMENTS$2?classofRaw$2(et):(nt=classofRaw$2(et))=="Object"&&isCallable$2(et.callee)?"Arguments":nt},ITERATOR$3$2=wellKnownSymbol$2("iterator"),getIteratorMethod$2=function(tt){if(tt!=null)return getMethod$2(tt,ITERATOR$3$2)||getMethod$2(tt,"@@iterator")||iterators$2[classof$2(tt)]},TypeError$6$2=global_1$2.TypeError,getIterator$2=function(tt,et){var rt=arguments.length<2?getIteratorMethod$2(tt):et;if(aCallable$2(rt))return anObject$2(functionCall$2(rt,tt));throw TypeError$6$2(tryToString$2(tt)+" is not iterable")},iteratorClose$2=function(tt,et,rt){var nt,it;anObject$2(tt);try{if(nt=getMethod$2(tt,"return"),!nt){if(et==="throw")throw rt;return rt}nt=functionCall$2(nt,tt)}catch(ot){it=!0,nt=ot}if(et==="throw")throw rt;if(it)throw nt;return anObject$2(nt),rt},TypeError$5$2=global_1$2.TypeError,Result$2=function(tt,et){this.stopped=tt,this.result=et},ResultPrototype$2=Result$2.prototype,iterate$2=function(tt,et,rt){var nt=rt&&rt.that,it=!!(rt&&rt.AS_ENTRIES),ot=!!(rt&&rt.IS_ITERATOR),at=!!(rt&&rt.INTERRUPTED),st=functionBindContext$2(et,nt),lt,ct,ut,dt,ft,pt,mt,ht=function(vt){return lt&&iteratorClose$2(lt,"normal",vt),new Result$2(!0,vt)},gt=function(vt){return it?(anObject$2(vt),at?st(vt[0],vt[1],ht):st(vt[0],vt[1])):at?st(vt,ht):st(vt)};if(ot)lt=tt;else{if(ct=getIteratorMethod$2(tt),!ct)throw TypeError$5$2(tryToString$2(tt)+" is not iterable");if(isArrayIteratorMethod$2(ct)){for(ut=0,dt=lengthOfArrayLike$2(tt);dt>ut;ut++)if(ft=gt(tt[ut]),ft&&objectIsPrototypeOf$2(ResultPrototype$2,ft))return ft;return new Result$2(!1)}lt=getIterator$2(tt,ct)}for(pt=lt.next;!(mt=functionCall$2(pt,lt)).done;){try{ft=gt(mt.value)}catch(vt){iteratorClose$2(lt,"throw",vt)}if(typeof ft=="object"&&ft&&objectIsPrototypeOf$2(ResultPrototype$2,ft))return ft}return new Result$2(!1)},String$2$2=global_1$2.String,toString_1$2=function(tt){if(classof$2(tt)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String$2$2(tt)},normalizeStringArgument$2=function(tt,et){return tt===void 0?arguments.length<2?"":et:toString_1$2(tt)},errorStackInstallable$2=!fails$2(function(){var tt=Error("a");return"stack"in tt?(Object.defineProperty(tt,"stack",createPropertyDescriptor$2(1,7)),tt.stack!==7):!0}),TO_STRING_TAG$2$2=wellKnownSymbol$2("toStringTag"),Error$1$3=global_1$2.Error,push$3=[].push,$AggregateError$2=function tt(et,rt){var nt=arguments.length>2?arguments[2]:void 0,it=objectIsPrototypeOf$2(AggregateErrorPrototype$2,this),ot;objectSetPrototypeOf$2?ot=objectSetPrototypeOf$2(new Error$1$3,it?objectGetPrototypeOf$2(this):AggregateErrorPrototype$2):(ot=it?this:objectCreate$2(AggregateErrorPrototype$2),createNonEnumerableProperty$2(ot,TO_STRING_TAG$2$2,"Error")),rt!==void 0&&createNonEnumerableProperty$2(ot,"message",normalizeStringArgument$2(rt)),errorStackInstallable$2&&createNonEnumerableProperty$2(ot,"stack",clearErrorStack$2(ot.stack,1)),installErrorCause$2(ot,nt);var at=[];return iterate$2(et,push$3,{that:at}),createNonEnumerableProperty$2(ot,"errors",at),ot};objectSetPrototypeOf$2?objectSetPrototypeOf$2($AggregateError$2,Error$1$3):copyConstructorProperties$2($AggregateError$2,Error$1$3,{name:!0});var AggregateErrorPrototype$2=$AggregateError$2.prototype=objectCreate$2(Error$1$3.prototype,{constructor:createPropertyDescriptor$2(1,$AggregateError$2),message:createPropertyDescriptor$2(1,""),name:createPropertyDescriptor$2(1,"AggregateError")});_export$2({global:!0},{AggregateError:$AggregateError$2});var functionToString$2=functionUncurryThis$2(Function.toString);isCallable$2(sharedStore$2.inspectSource)||(sharedStore$2.inspectSource=function(tt){return functionToString$2(tt)});var inspectSource$2=sharedStore$2.inspectSource,WeakMap$1$2=global_1$2.WeakMap,nativeWeakMap$2=isCallable$2(WeakMap$1$2)&&/native code/.test(inspectSource$2(WeakMap$1$2)),OBJECT_ALREADY_INITIALIZED$2="Object already initialized",TypeError$4$2=global_1$2.TypeError,WeakMap$4=global_1$2.WeakMap,set$1$2,get$1$2,has$2,enforce$2=function(tt){return has$2(tt)?get$1$2(tt):set$1$2(tt,{})},getterFor$2=function(tt){return function(et){var rt;if(!isObject$1$2(et)||(rt=get$1$2(et)).type!==tt)throw TypeError$4$2("Incompatible receiver, "+tt+" required");return rt}};if(nativeWeakMap$2||sharedStore$2.state){var store$3=sharedStore$2.state||(sharedStore$2.state=new WeakMap$4),wmget$2=functionUncurryThis$2(store$3.get),wmhas$2=functionUncurryThis$2(store$3.has),wmset$2=functionUncurryThis$2(store$3.set);set$1$2=function(tt,et){if(wmhas$2(store$3,tt))throw new TypeError$4$2(OBJECT_ALREADY_INITIALIZED$2);return et.facade=tt,wmset$2(store$3,tt,et),et},get$1$2=function(tt){return wmget$2(store$3,tt)||{}},has$2=function(tt){return wmhas$2(store$3,tt)}}else{var STATE$2=sharedKey$2("state");hiddenKeys$1$2[STATE$2]=!0,set$1$2=function(tt,et){if(hasOwnProperty_1$2(tt,STATE$2))throw new TypeError$4$2(OBJECT_ALREADY_INITIALIZED$2);return et.facade=tt,createNonEnumerableProperty$2(tt,STATE$2,et),et},get$1$2=function(tt){return hasOwnProperty_1$2(tt,STATE$2)?tt[STATE$2]:{}},has$2=function(tt){return hasOwnProperty_1$2(tt,STATE$2)}}var internalState$2={set:set$1$2,get:get$1$2,has:has$2,enforce:enforce$2,getterFor:getterFor$2},FunctionPrototype$4=Function.prototype,getDescriptor$2=descriptors$3&&Object.getOwnPropertyDescriptor,EXISTS$3=hasOwnProperty_1$2(FunctionPrototype$4,"name"),PROPER$2=EXISTS$3&&function tt(){}.name==="something",CONFIGURABLE$2=EXISTS$3&&(!descriptors$3||descriptors$3&&getDescriptor$2(FunctionPrototype$4,"name").configurable),functionName$2={EXISTS:EXISTS$3,PROPER:PROPER$2,CONFIGURABLE:CONFIGURABLE$2},redefine$2=function(tt,et,rt,nt){nt&&nt.enumerable?tt[et]=rt:createNonEnumerableProperty$2(tt,et,rt)},ITERATOR$2$2=wellKnownSymbol$2("iterator"),BUGGY_SAFARI_ITERATORS$1$2=!1,IteratorPrototype$1$2,PrototypeOfArrayIteratorPrototype$2,arrayIterator$2;[].keys&&(arrayIterator$2=[].keys(),"next"in arrayIterator$2?(PrototypeOfArrayIteratorPrototype$2=objectGetPrototypeOf$2(objectGetPrototypeOf$2(arrayIterator$2)),PrototypeOfArrayIteratorPrototype$2!==Object.prototype&&(IteratorPrototype$1$2=PrototypeOfArrayIteratorPrototype$2)):BUGGY_SAFARI_ITERATORS$1$2=!0);var NEW_ITERATOR_PROTOTYPE$2=IteratorPrototype$1$2==null||fails$2(function(){var tt={};return IteratorPrototype$1$2[ITERATOR$2$2].call(tt)!==tt});NEW_ITERATOR_PROTOTYPE$2?IteratorPrototype$1$2={}:IteratorPrototype$1$2=objectCreate$2(IteratorPrototype$1$2);isCallable$2(IteratorPrototype$1$2[ITERATOR$2$2])||redefine$2(IteratorPrototype$1$2,ITERATOR$2$2,function(){return this});var iteratorsCore$2={IteratorPrototype:IteratorPrototype$1$2,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1$2},objectToString$2=toStringTagSupport$2?{}.toString:function tt(){return"[object "+classof$2(this)+"]"},defineProperty$3=objectDefineProperty$2.f,TO_STRING_TAG$1$2=wellKnownSymbol$2("toStringTag"),setToStringTag$2=function(tt,et,rt,nt){if(tt){var it=rt?tt:tt.prototype;hasOwnProperty_1$2(it,TO_STRING_TAG$1$2)||defineProperty$3(it,TO_STRING_TAG$1$2,{configurable:!0,value:et}),nt&&!toStringTagSupport$2&&createNonEnumerableProperty$2(it,"toString",objectToString$2)}},IteratorPrototype$3=iteratorsCore$2.IteratorPrototype,returnThis$1$2=function(){return this},createIteratorConstructor$2=function(tt,et,rt,nt){var it=et+" Iterator";return tt.prototype=objectCreate$2(IteratorPrototype$3,{next:createPropertyDescriptor$2(+!nt,rt)}),setToStringTag$2(tt,it,!1,!0),iterators$2[it]=returnThis$1$2,tt},PROPER_FUNCTION_NAME$2=functionName$2.PROPER,BUGGY_SAFARI_ITERATORS$3=iteratorsCore$2.BUGGY_SAFARI_ITERATORS,ITERATOR$1$2=wellKnownSymbol$2("iterator"),KEYS$2="keys",VALUES$2="values",ENTRIES$2="entries",returnThis$3=function(){return this},defineIterator$2=function(tt,et,rt,nt,it,ot,at){createIteratorConstructor$2(rt,et,nt);var st=function(vt){if(vt===it&&ft)return ft;if(!BUGGY_SAFARI_ITERATORS$3&&vt in ut)return ut[vt];switch(vt){case KEYS$2:return function(){return new rt(this,vt)};case VALUES$2:return function(){return new rt(this,vt)};case ENTRIES$2:return function(){return new rt(this,vt)}}return function(){return new rt(this)}},lt=et+" Iterator",ct=!1,ut=tt.prototype,dt=ut[ITERATOR$1$2]||ut["@@iterator"]||it&&ut[it],ft=!BUGGY_SAFARI_ITERATORS$3&&dt||st(it),pt=et=="Array"&&ut.entries||dt,mt,ht,gt;if(pt&&(mt=objectGetPrototypeOf$2(pt.call(new tt)),mt!==Object.prototype&&mt.next&&(setToStringTag$2(mt,lt,!0,!0),iterators$2[lt]=returnThis$3)),PROPER_FUNCTION_NAME$2&&it==VALUES$2&&dt&&dt.name!==VALUES$2&&(ct=!0,ft=function(){return functionCall$2(dt,this)}),it)if(ht={values:st(VALUES$2),keys:ot?ft:st(KEYS$2),entries:st(ENTRIES$2)},at)for(gt in ht)(BUGGY_SAFARI_ITERATORS$3||ct||!(gt in ut))&&redefine$2(ut,gt,ht[gt]);else _export$2({target:et,proto:!0,forced:BUGGY_SAFARI_ITERATORS$3||ct},ht);return at&&ut[ITERATOR$1$2]!==ft&&redefine$2(ut,ITERATOR$1$2,ft,{name:it}),iterators$2[et]=ft,ht};objectDefineProperty$2.f;var ARRAY_ITERATOR$2="Array Iterator",setInternalState$2$2=internalState$2.set,getInternalState$2$2=internalState$2.getterFor(ARRAY_ITERATOR$2);defineIterator$2(Array,"Array",function(tt,et){setInternalState$2$2(this,{type:ARRAY_ITERATOR$2,target:toIndexedObject$2(tt),index:0,kind:et})},function(){var tt=getInternalState$2$2(this),et=tt.target,rt=tt.kind,nt=tt.index++;return!et||nt>=et.length?(tt.target=void 0,{value:void 0,done:!0}):rt=="keys"?{value:nt,done:!1}:rt=="values"?{value:et[nt],done:!1}:{value:[nt,et[nt]],done:!1}},"values");iterators$2.Arguments=iterators$2.Array;var nativePromiseConstructor$2=global_1$2.Promise,redefineAll$2=function(tt,et,rt){for(var nt in et)rt&&rt.unsafe&&tt[nt]?tt[nt]=et[nt]:redefine$2(tt,nt,et[nt],rt);return tt},SPECIES$2$2=wellKnownSymbol$2("species"),setSpecies$2=function(tt){var et=getBuiltIn$2(tt),rt=objectDefineProperty$2.f;descriptors$3&&et&&!et[SPECIES$2$2]&&rt(et,SPECIES$2$2,{configurable:!0,get:function(){return this}})},TypeError$3$2=global_1$2.TypeError,anInstance$2=function(tt,et){if(objectIsPrototypeOf$2(et,tt))return tt;throw TypeError$3$2("Incorrect invocation")},ITERATOR$6=wellKnownSymbol$2("iterator"),SAFE_CLOSING$2=!1;try{var called$2=0,iteratorWithReturn$2={next:function(){return{done:!!called$2++}},return:function(){SAFE_CLOSING$2=!0}};iteratorWithReturn$2[ITERATOR$6]=function(){return this},Array.from(iteratorWithReturn$2,function(){throw 2})}catch(tt){}var checkCorrectnessOfIteration$2=function(tt,et){if(!et&&!SAFE_CLOSING$2)return!1;var rt=!1;try{var nt={};nt[ITERATOR$6]=function(){return{next:function(){return{done:rt=!0}}}},tt(nt)}catch{}return rt},noop$1$2=function(){},empty$2=[],construct$2=getBuiltIn$2("Reflect","construct"),constructorRegExp$2=/^\s*(?:class|function)\b/,exec$2=functionUncurryThis$2(constructorRegExp$2.exec),INCORRECT_TO_STRING$2=!constructorRegExp$2.exec(noop$1$2),isConstructorModern$2=function tt(et){if(!isCallable$2(et))return!1;try{return construct$2(noop$1$2,empty$2,et),!0}catch{return!1}},isConstructorLegacy$2=function tt(et){if(!isCallable$2(et))return!1;switch(classof$2(et)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$2||!!exec$2(constructorRegExp$2,inspectSource$2(et))}catch{return!0}};isConstructorLegacy$2.sham=!0;var isConstructor$2=!construct$2||fails$2(function(){var tt;return isConstructorModern$2(isConstructorModern$2.call)||!isConstructorModern$2(Object)||!isConstructorModern$2(function(){tt=!0})||tt})?isConstructorLegacy$2:isConstructorModern$2,TypeError$2$2=global_1$2.TypeError,aConstructor$2=function(tt){if(isConstructor$2(tt))return tt;throw TypeError$2$2(tryToString$2(tt)+" is not a constructor")},SPECIES$1$2=wellKnownSymbol$2("species"),speciesConstructor$2=function(tt,et){var rt=anObject$2(tt).constructor,nt;return rt===void 0||(nt=anObject$2(rt)[SPECIES$1$2])==null?et:aConstructor$2(nt)},arraySlice$2=functionUncurryThis$2([].slice),engineIsIos$2=/(?:ipad|iphone|ipod).*applewebkit/i.test(engineUserAgent$2),engineIsNode$2=classofRaw$2(global_1$2.process)=="process",set$3=global_1$2.setImmediate,clear$2=global_1$2.clearImmediate,process$2$2=global_1$2.process,Dispatch$2=global_1$2.Dispatch,Function$1$2=global_1$2.Function,MessageChannel$3=global_1$2.MessageChannel,String$1$2=global_1$2.String,counter$2=0,queue$1$2={},ONREADYSTATECHANGE$2="onreadystatechange",location$3,defer$2,channel$2,port$2;try{location$3=global_1$2.location}catch(tt){}var run$2=function(tt){if(hasOwnProperty_1$2(queue$1$2,tt)){var et=queue$1$2[tt];delete queue$1$2[tt],et()}},runner$2=function(tt){return function(){run$2(tt)}},listener$2=function(tt){run$2(tt.data)},post$1$2=function(tt){global_1$2.postMessage(String$1$2(tt),location$3.protocol+"//"+location$3.host)};(!set$3||!clear$2)&&(set$3=function(et){var rt=arraySlice$2(arguments,1);return queue$1$2[++counter$2]=function(){functionApply$2(isCallable$2(et)?et:Function$1$2(et),void 0,rt)},defer$2(counter$2),counter$2},clear$2=function(et){delete queue$1$2[et]},engineIsNode$2?defer$2=function(tt){process$2$2.nextTick(runner$2(tt))}:Dispatch$2&&Dispatch$2.now?defer$2=function(tt){Dispatch$2.now(runner$2(tt))}:MessageChannel$3&&!engineIsIos$2?(channel$2=new MessageChannel$3,port$2=channel$2.port2,channel$2.port1.onmessage=listener$2,defer$2=functionBindContext$2(port$2.postMessage,port$2)):global_1$2.addEventListener&&isCallable$2(global_1$2.postMessage)&&!global_1$2.importScripts&&location$3&&location$3.protocol!=="file:"&&!fails$2(post$1$2)?(defer$2=post$1$2,global_1$2.addEventListener("message",listener$2,!1)):ONREADYSTATECHANGE$2 in documentCreateElement$2("script")?defer$2=function(tt){html$2.appendChild(documentCreateElement$2("script"))[ONREADYSTATECHANGE$2]=function(){html$2.removeChild(this),run$2(tt)}}:defer$2=function(tt){setTimeout(runner$2(tt),0)});var task$1$2={set:set$3,clear:clear$2},engineIsIosPebble$2=/ipad|iphone|ipod/i.test(engineUserAgent$2)&&global_1$2.Pebble!==void 0,engineIsWebosWebkit$2=/web0s(?!.*chrome)/i.test(engineUserAgent$2),getOwnPropertyDescriptor$4=objectGetOwnPropertyDescriptor$2.f,macrotask$2=task$1$2.set,MutationObserver$3=global_1$2.MutationObserver||global_1$2.WebKitMutationObserver,document$2$2=global_1$2.document,process$1$2=global_1$2.process,Promise$1$2=global_1$2.Promise,queueMicrotaskDescriptor$2=getOwnPropertyDescriptor$4(global_1$2,"queueMicrotask"),queueMicrotask$3=queueMicrotaskDescriptor$2&&queueMicrotaskDescriptor$2.value,flush$2,head$2,last$2,notify$1$2,toggle$2,node$2,promise$3$2,then$2;queueMicrotask$3||(flush$2=function(){var tt,et;for(engineIsNode$2&&(tt=process$1$2.domain)&&tt.exit();head$2;){et=head$2.fn,head$2=head$2.next;try{et()}catch(rt){throw head$2?notify$1$2():last$2=void 0,rt}}last$2=void 0,tt&&tt.enter()},!engineIsIos$2&&!engineIsNode$2&&!engineIsWebosWebkit$2&&MutationObserver$3&&document$2$2?(toggle$2=!0,node$2=document$2$2.createTextNode(""),new MutationObserver$3(flush$2).observe(node$2,{characterData:!0}),notify$1$2=function(){node$2.data=toggle$2=!toggle$2}):!engineIsIosPebble$2&&Promise$1$2&&Promise$1$2.resolve?(promise$3$2=Promise$1$2.resolve(void 0),promise$3$2.constructor=Promise$1$2,then$2=functionBindContext$2(promise$3$2.then,promise$3$2),notify$1$2=function(){then$2(flush$2)}):engineIsNode$2?notify$1$2=function(){process$1$2.nextTick(flush$2)}:(macrotask$2=functionBindContext$2(macrotask$2,global_1$2),notify$1$2=function(){macrotask$2(flush$2)}));var microtask$2=queueMicrotask$3||function(tt){var et={fn:tt,next:void 0};last$2&&(last$2.next=et),head$2||(head$2=et,notify$1$2()),last$2=et},PromiseCapability$2=function(tt){var et,rt;this.promise=new tt(function(nt,it){if(et!==void 0||rt!==void 0)throw TypeError("Bad Promise constructor");et=nt,rt=it}),this.resolve=aCallable$2(et),this.reject=aCallable$2(rt)},f$8=function(tt){return new PromiseCapability$2(tt)},newPromiseCapability$1$2={f:f$8},promiseResolve$2=function(tt,et){if(anObject$2(tt),isObject$1$2(et)&&et.constructor===tt)return et;var rt=newPromiseCapability$1$2.f(tt),nt=rt.resolve;return nt(et),rt.promise},hostReportErrors$2=function(tt,et){var rt=global_1$2.console;rt&&rt.error&&(arguments.length==1?rt.error(tt):rt.error(tt,et))},perform$2=function(tt){try{return{error:!1,value:tt()}}catch(et){return{error:!0,value:et}}},Queue$2=function(){this.head=null,this.tail=null};Queue$2.prototype={add:function(tt){var et={item:tt,next:null};this.head?this.tail.next=et:this.head=et,this.tail=et},get:function(){var tt=this.head;if(tt)return this.head=tt.next,this.tail===tt&&(this.tail=null),tt.item}};var queue$3=Queue$2,engineIsBrowser$2=typeof window=="object",task$3=task$1$2.set,SPECIES$4=wellKnownSymbol$2("species"),PROMISE$2="Promise",getInternalState$1$2=internalState$2.getterFor(PROMISE$2),setInternalState$1$2=internalState$2.set,getInternalPromiseState$2=internalState$2.getterFor(PROMISE$2),NativePromisePrototype$2=nativePromiseConstructor$2&&nativePromiseConstructor$2.prototype,PromiseConstructor$2=nativePromiseConstructor$2,PromisePrototype$2=NativePromisePrototype$2,TypeError$1$2=global_1$2.TypeError,document$1$2=global_1$2.document,process$6=global_1$2.process,newPromiseCapability$3=newPromiseCapability$1$2.f,newGenericPromiseCapability$2=newPromiseCapability$3,DISPATCH_EVENT$2=!!(document$1$2&&document$1$2.createEvent&&global_1$2.dispatchEvent),NATIVE_REJECTION_EVENT$2=isCallable$2(global_1$2.PromiseRejectionEvent),UNHANDLED_REJECTION$2="unhandledrejection",REJECTION_HANDLED$2="rejectionhandled",PENDING$2=0,FULFILLED$2=1,REJECTED$2=2,HANDLED$2=1,UNHANDLED$2=2,SUBCLASSING$2=!1,Internal$2,OwnPromiseCapability$2,PromiseWrapper$2,FORCED$2=isForced_1$2(PROMISE$2,function(){var tt=inspectSource$2(PromiseConstructor$2),et=tt!==String(PromiseConstructor$2);if(!et&&engineV8Version$2===66||!PromisePrototype$2.finally)return!0;if(engineV8Version$2>=51&&/native code/.test(tt))return!1;var rt=new PromiseConstructor$2(function(ot){ot(1)}),nt=function(ot){ot(function(){},function(){})},it=rt.constructor={};return it[SPECIES$4]=nt,SUBCLASSING$2=rt.then(function(){})instanceof nt,SUBCLASSING$2?!et&&engineIsBrowser$2&&!NATIVE_REJECTION_EVENT$2:!0}),INCORRECT_ITERATION$2=FORCED$2||!checkCorrectnessOfIteration$2(function(tt){PromiseConstructor$2.all(tt).catch(function(){})}),isThenable$2=function(tt){var et;return isObject$1$2(tt)&&isCallable$2(et=tt.then)?et:!1},callReaction$2=function(tt,et){var rt=et.value,nt=et.state==FULFILLED$2,it=nt?tt.ok:tt.fail,ot=tt.resolve,at=tt.reject,st=tt.domain,lt,ct,ut;try{it?(nt||(et.rejection===UNHANDLED$2&&onHandleUnhandled$2(et),et.rejection=HANDLED$2),it===!0?lt=rt:(st&&st.enter(),lt=it(rt),st&&(st.exit(),ut=!0)),lt===tt.promise?at(TypeError$1$2("Promise-chain cycle")):(ct=isThenable$2(lt))?functionCall$2(ct,lt,ot,at):ot(lt)):at(rt)}catch(dt){st&&!ut&&st.exit(),at(dt)}},notify$3=function(tt,et){tt.notified||(tt.notified=!0,microtask$2(function(){for(var rt=tt.reactions,nt;nt=rt.get();)callReaction$2(nt,tt);tt.notified=!1,et&&!tt.rejection&&onUnhandled$2(tt)}))},dispatchEvent$2=function(tt,et,rt){var nt,it;DISPATCH_EVENT$2?(nt=document$1$2.createEvent("Event"),nt.promise=et,nt.reason=rt,nt.initEvent(tt,!1,!0),global_1$2.dispatchEvent(nt)):nt={promise:et,reason:rt},!NATIVE_REJECTION_EVENT$2&&(it=global_1$2["on"+tt])?it(nt):tt===UNHANDLED_REJECTION$2&&hostReportErrors$2("Unhandled promise rejection",rt)},onUnhandled$2=function(tt){functionCall$2(task$3,global_1$2,function(){var et=tt.facade,rt=tt.value,nt=isUnhandled$2(tt),it;if(nt&&(it=perform$2(function(){engineIsNode$2?process$6.emit("unhandledRejection",rt,et):dispatchEvent$2(UNHANDLED_REJECTION$2,et,rt)}),tt.rejection=engineIsNode$2||isUnhandled$2(tt)?UNHANDLED$2:HANDLED$2,it.error))throw it.value})},isUnhandled$2=function(tt){return tt.rejection!==HANDLED$2&&!tt.parent},onHandleUnhandled$2=function(tt){functionCall$2(task$3,global_1$2,function(){var et=tt.facade;engineIsNode$2?process$6.emit("rejectionHandled",et):dispatchEvent$2(REJECTION_HANDLED$2,et,tt.value)})},bind$6=function(tt,et,rt){return function(nt){tt(et,nt,rt)}},internalReject$2=function(tt,et,rt){tt.done||(tt.done=!0,rt&&(tt=rt),tt.value=et,tt.state=REJECTED$2,notify$3(tt,!0))},internalResolve$2=function(tt,et,rt){if(!tt.done){tt.done=!0,rt&&(tt=rt);try{if(tt.facade===et)throw TypeError$1$2("Promise can't be resolved itself");var nt=isThenable$2(et);nt?microtask$2(function(){var it={done:!1};try{functionCall$2(nt,et,bind$6(internalResolve$2,it,tt),bind$6(internalReject$2,it,tt))}catch(ot){internalReject$2(it,ot,tt)}}):(tt.value=et,tt.state=FULFILLED$2,notify$3(tt,!1))}catch(it){internalReject$2({done:!1},it,tt)}}};FORCED$2&&(PromiseConstructor$2=function(et){anInstance$2(this,PromisePrototype$2),aCallable$2(et),functionCall$2(Internal$2,this);var rt=getInternalState$1$2(this);try{et(bind$6(internalResolve$2,rt),bind$6(internalReject$2,rt))}catch(nt){internalReject$2(rt,nt)}},PromisePrototype$2=PromiseConstructor$2.prototype,Internal$2=function(et){setInternalState$1$2(this,{type:PROMISE$2,done:!1,notified:!1,parent:!1,reactions:new queue$3,rejection:!1,state:PENDING$2,value:void 0})},Internal$2.prototype=redefineAll$2(PromisePrototype$2,{then:function(et,rt){var nt=getInternalPromiseState$2(this),it=newPromiseCapability$3(speciesConstructor$2(this,PromiseConstructor$2));return nt.parent=!0,it.ok=isCallable$2(et)?et:!0,it.fail=isCallable$2(rt)&&rt,it.domain=engineIsNode$2?process$6.domain:void 0,nt.state==PENDING$2?nt.reactions.add(it):microtask$2(function(){callReaction$2(it,nt)}),it.promise},catch:function(tt){return this.then(void 0,tt)}}),OwnPromiseCapability$2=function(){var tt=new Internal$2,et=getInternalState$1$2(tt);this.promise=tt,this.resolve=bind$6(internalResolve$2,et),this.reject=bind$6(internalReject$2,et)},newPromiseCapability$1$2.f=newPromiseCapability$3=function(tt){return tt===PromiseConstructor$2||tt===PromiseWrapper$2?new OwnPromiseCapability$2(tt):newGenericPromiseCapability$2(tt)});_export$2({global:!0,wrap:!0,forced:FORCED$2},{Promise:PromiseConstructor$2});setToStringTag$2(PromiseConstructor$2,PROMISE$2,!1,!0);setSpecies$2(PROMISE$2);PromiseWrapper$2=getBuiltIn$2(PROMISE$2);_export$2({target:PROMISE$2,stat:!0,forced:FORCED$2},{reject:function tt(et){var rt=newPromiseCapability$3(this);return functionCall$2(rt.reject,void 0,et),rt.promise}});_export$2({target:PROMISE$2,stat:!0,forced:isPure$2},{resolve:function tt(et){return promiseResolve$2(this===PromiseWrapper$2?PromiseConstructor$2:this,et)}});_export$2({target:PROMISE$2,stat:!0,forced:INCORRECT_ITERATION$2},{all:function tt(et){var rt=this,nt=newPromiseCapability$3(rt),it=nt.resolve,ot=nt.reject,at=perform$2(function(){var st=aCallable$2(rt.resolve),lt=[],ct=0,ut=1;iterate$2(et,function(dt){var ft=ct++,pt=!1;ut++,functionCall$2(st,rt,dt).then(function(mt){pt||(pt=!0,lt[ft]=mt,--ut||it(lt))},ot)}),--ut||it(lt)});return at.error&&ot(at.value),nt.promise},race:function tt(et){var rt=this,nt=newPromiseCapability$3(rt),it=nt.reject,ot=perform$2(function(){var at=aCallable$2(rt.resolve);iterate$2(et,function(st){functionCall$2(at,rt,st).then(nt.resolve,it)})});return ot.error&&it(ot.value),nt.promise}});_export$2({target:"Promise",stat:!0},{allSettled:function tt(et){var rt=this,nt=newPromiseCapability$1$2.f(rt),it=nt.resolve,ot=nt.reject,at=perform$2(function(){var st=aCallable$2(rt.resolve),lt=[],ct=0,ut=1;iterate$2(et,function(dt){var ft=ct++,pt=!1;ut++,functionCall$2(st,rt,dt).then(function(mt){pt||(pt=!0,lt[ft]={status:"fulfilled",value:mt},--ut||it(lt))},function(mt){pt||(pt=!0,lt[ft]={status:"rejected",reason:mt},--ut||it(lt))})}),--ut||it(lt)});return at.error&&ot(at.value),nt.promise}});var PROMISE_ANY_ERROR$2="No one promise resolved";_export$2({target:"Promise",stat:!0},{any:function tt(et){var rt=this,nt=getBuiltIn$2("AggregateError"),it=newPromiseCapability$1$2.f(rt),ot=it.resolve,at=it.reject,st=perform$2(function(){var lt=aCallable$2(rt.resolve),ct=[],ut=0,dt=1,ft=!1;iterate$2(et,function(pt){var mt=ut++,ht=!1;dt++,functionCall$2(lt,rt,pt).then(function(gt){ht||ft||(ft=!0,ot(gt))},function(gt){ht||ft||(ht=!0,ct[mt]=gt,--dt||at(new nt(ct,PROMISE_ANY_ERROR$2)))})}),--dt||at(new nt(ct,PROMISE_ANY_ERROR$2))});return st.error&&at(st.value),it.promise}});var NON_GENERIC$2=!!nativePromiseConstructor$2&&fails$2(function(){nativePromiseConstructor$2.prototype.finally.call({then:function(){}},function(){})});_export$2({target:"Promise",proto:!0,real:!0,forced:NON_GENERIC$2},{finally:function(tt){var et=speciesConstructor$2(this,getBuiltIn$2("Promise")),rt=isCallable$2(tt);return this.then(rt?function(nt){return promiseResolve$2(et,tt()).then(function(){return nt})}:tt,rt?function(nt){return promiseResolve$2(et,tt()).then(function(){throw nt})}:tt)}});var charAt$1$2=functionUncurryThis$2("".charAt),charCodeAt$2=functionUncurryThis$2("".charCodeAt),stringSlice$3=functionUncurryThis$2("".slice),createMethod$3=function(tt){return function(et,rt){var nt=toString_1$2(requireObjectCoercible$2(et)),it=toIntegerOrInfinity$2(rt),ot=nt.length,at,st;return it<0||it>=ot?tt?"":void 0:(at=charCodeAt$2(nt,it),at<55296||at>56319||it+1===ot||(st=charCodeAt$2(nt,it+1))<56320||st>57343?tt?charAt$1$2(nt,it):at:tt?stringSlice$3(nt,it,it+2):(at-55296<<10)+(st-56320)+65536)}},stringMultibyte$2={codeAt:createMethod$3(!1),charAt:createMethod$3(!0)},charAt$3=stringMultibyte$2.charAt,STRING_ITERATOR$2="String Iterator",setInternalState$4=internalState$2.set,getInternalState$4=internalState$2.getterFor(STRING_ITERATOR$2);defineIterator$2(String,"String",function(tt){setInternalState$4(this,{type:STRING_ITERATOR$2,string:toString_1$2(tt),index:0})},function tt(){var et=getInternalState$4(this),rt=et.string,nt=et.index,it;return nt>=rt.length?{value:void 0,done:!0}:(it=charAt$3(rt,nt),et.index+=it.length,{value:it,done:!1})});var promise$2$2=path$3.Promise,domIterables$2={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},TO_STRING_TAG$6=wellKnownSymbol$2("toStringTag");for(var COLLECTION_NAME$2 in domIterables$2){var Collection$2=global_1$2[COLLECTION_NAME$2],CollectionPrototype$2=Collection$2&&Collection$2.prototype;CollectionPrototype$2&&classof$2(CollectionPrototype$2)!==TO_STRING_TAG$6&&createNonEnumerableProperty$2(CollectionPrototype$2,TO_STRING_TAG$6,COLLECTION_NAME$2),iterators$2[COLLECTION_NAME$2]=iterators$2.Array}var promise$1$2=promise$2$2,promise$5=promise$1$2,DEFAULT_SIZE$2=10,DEFAULT_WAIT$2=1e3,stringifyBatch$2=function(tt){return JSON.stringify({ev_type:"batch",list:tt})};function createBatchSender$2(tt){var et=tt.transport,rt=tt.endpoint,nt=tt.size,it=nt===void 0?DEFAULT_SIZE$2:nt,ot=tt.wait,at=ot===void 0?DEFAULT_WAIT$2:ot,st=[],lt=0,ct={getSize:function(){return it},getWait:function(){return at},setSize:function(dt){it=dt},setWait:function(dt){at=dt},getEndpoint:function(){return rt},setEndpoint:function(dt){rt=dt},send:function(dt){st.push(dt),st.length>=it&&ut.call(this),clearTimeout(lt),lt=setTimeout(ut.bind(this),at)},flush:function(){clearTimeout(lt),ut.call(this)},getBatchData:function(){return st.length?stringifyBatch$2(st):""},clear:function(){clearTimeout(lt),st=[]}};function ut(){st.length&&(et.post({url:rt,data:this.getBatchData()}),st=[])}return ct}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign$3=function(){return __assign$3=Object.assign||function(et){for(var rt,nt=1,it=arguments.length;nt<it;nt++){rt=arguments[nt];for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(et[ot]=rt[ot])}return et},__assign$3.apply(this,arguments)};function __read$2(tt,et){var rt=typeof Symbol=="function"&&tt[Symbol.iterator];if(!rt)return tt;var nt=rt.call(tt),it,ot=[],at;try{for(;(et===void 0||et-- >0)&&!(it=nt.next()).done;)ot.push(it.value)}catch(st){at={error:st}}finally{try{it&&!it.done&&(rt=nt.return)&&rt.call(nt)}finally{if(at)throw at.error}}return ot}function __spreadArray$2(tt,et,rt){if(rt||arguments.length===2)for(var nt=0,it=et.length,ot;nt<it;nt++)(ot||!(nt in et))&&(ot||(ot=Array.prototype.slice.call(et,0,nt)),ot[nt]=et[nt]);return tt.concat(ot||Array.prototype.slice.call(et))}var EVENTS$2=["init","start","config","beforeDestroy","provide","report","beforeBuild","build","beforeSend","send","beforeConfig"],noop$3=function(){};function id$3(tt){return tt}function isObject$4(tt){return typeof tt=="object"&&tt!==null}var objProto$2=Object.prototype;function isArray$3(tt){return objProto$2.toString.call(tt)==="[object Array]"}function isBoolean$2(tt){return typeof tt=="boolean"}function isNumber$3(tt){return typeof tt=="number"}function isString$3(tt){return typeof tt=="string"}function arrayIncludes$3(tt,et){if(!isArray$3(tt)||tt.length===0)return!1;for(var rt=0;rt<tt.length;){if(tt[rt]===et)return!0;rt++}return!1}var arrayRemove$2=function(tt,et){if(!isArray$3(tt))return tt;var rt=tt.indexOf(et);if(rt>=0){var nt=tt.slice();return nt.splice(rt,1),nt}return tt},safeVisit$2=function(tt,et,rt){for(var nt,it,ot=et.split("."),at=__read$2(ot),st=at[0],lt=at.slice(1);tt&&lt.length>0;)tt=tt[st],nt=lt,it=__read$2(nt),st=it[0],lt=it.slice(1);if(tt)return rt(tt,st)};function safeStringify$2(tt){try{return isString$3(tt)?tt:JSON.stringify(tt)}catch(et){return"[FAILED_TO_STRINGIFY]:"+String(et)}}function createContextAgent$2(){var tt={},et={},rt={set:function(nt,it){return tt[nt]=it,et[nt]=safeStringify$2(it),rt},merge:function(nt){return tt=__assign$3(__assign$3({},tt),nt),Object.keys(nt).forEach(function(it){et[it]=safeStringify$2(nt[it])}),rt},delete:function(nt){return delete tt[nt],delete et[nt],rt},clear:function(){return tt={},et={},rt},get:function(nt){return et[nt]},toString:function(){return __assign$3({},et)}};return rt}var errCount$2=0,error$2=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];console.error.apply(console,__spreadArray$2(["[SDK]",Date.now(),(""+errCount$2++).padStart(8," ")],__read$2(tt),!1))},warnCount$2=0,warn$2=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];console.warn.apply(console,__spreadArray$2(["[SDK]",Date.now(),(""+warnCount$2++).padStart(8," ")],__read$2(tt),!1))},isHitBySampleRate$2=function(tt){return Math.random()<Number(tt)},isHitByRandom$2=function(tt,et){return tt<Number(et)},runProcessors$2=function(tt){return function(et){for(var rt=et,nt=0;nt<tt.length&&rt;nt++)try{rt=tt[nt](rt)}catch(it){error$2(it)}return rt}};function mathRNG$2(){for(var tt=new Array(16),et=0,rt=0;rt<16;rt++)rt&3||(et=Math.random()*4294967296),tt[rt]=et>>>((rt&3)<<3)&255;return tt}function bytesToUuid$2(tt){for(var et=[],rt=0;rt<256;++rt)et[rt]=(rt+256).toString(16).substr(1);var nt=0,it=et;return[it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]]].join("")}function uuid$2(){var tt=mathRNG$2();return tt[6]=tt[6]&15|64,tt[8]=tt[8]&63|128,bytesToUuid$2(tt)}function createClient$2(tt){var et=tt.builder,rt=tt.createSender,nt=tt.createDefaultConfig,it=tt.createConfigManager,ot=tt.userConfigNormalizer,at=tt.initConfigNormalizer,st=tt.validateInitConfig,lt,ct,ut={};EVENTS$2.forEach(function(vt){return ut[vt]=[]});var dt=!1,ft=!1,pt=[],mt=[],ht={getBuilder:function(){return et},getSender:function(){return lt},getPreStartQueue:function(){return pt},init:function(vt){if(dt){warn$2("already inited");return}if(vt&&isObject$4(vt)&&st(vt)){var yt=nt(vt);if(!yt)throw new Error("defaultConfig missing");var bt=at(vt);if(ct=it(yt),ct.setConfig(bt),ct.onChange(function(){gt("config")}),lt=rt(ct.getConfig()),!lt)throw new Error("sender missing");dt=!0,gt("init",!0)}else throw new Error("invalid InitConfig, init failed")},set:function(vt){dt&&vt&&isObject$4(vt)&&(gt("beforeConfig",!1,vt),ct==null||ct.setConfig(vt))},config:function(vt){if(dt)return vt&&isObject$4(vt)&&(gt("beforeConfig",!1,vt),ct==null||ct.setConfig(ot(vt))),ct==null?void 0:ct.getConfig()},provide:function(vt,yt){if(arrayIncludes$3(mt,vt)){warn$2("cannot provide "+vt+", reserved");return}ht[vt]=yt,gt("provide",!1,vt)},start:function(){var vt=this;dt&&(ft||ct==null||ct.onReady(function(){ft=!0,gt("start",!0),pt.forEach(function(yt){return vt.build(yt)}),pt=[]}))},report:function(vt){if(vt){var yt=runProcessors$2(ut.report)(vt);yt&&(ft?this.build(yt):pt.push(yt))}},build:function(vt){if(ft){var yt=runProcessors$2(ut.beforeBuild)(vt);if(yt){var bt=et.build(yt);if(bt){var xt=runProcessors$2(ut.build)(bt);xt&&this.send(xt)}}}},send:function(vt){if(ft){var yt=runProcessors$2(ut.beforeSend)(vt);yt&&(lt.send(yt),gt("send",!1,yt))}},destroy:function(){gt("beforeDestroy",!0)},on:function(vt,yt){vt==="init"&&dt||vt==="start"&&ft?yt():ut[vt]&&ut[vt].push(yt)},off:function(vt,yt){ut[vt]&&(ut[vt]=arrayRemove$2(ut[vt],yt))}};return mt=Object.keys(ht),ht;function gt(vt,yt){yt===void 0&&(yt=!1);for(var bt=[],xt=2;xt<arguments.length;xt++)bt[xt-2]=arguments[xt];ut[vt].forEach(function($t){try{$t.apply(void 0,__spreadArray$2([],__read$2(bt),!1))}catch{}}),yt&&(ut[vt].length=0)}}var ContextPlugin$2=function(tt){var et=createContextAgent$2();tt.provide("context",et),tt.on("report",function(rt){return rt.extra||(rt.extra={}),rt.extra.context=et.toString(),rt})};function IntegrationPlugin$2(tt){tt.on("init",function(){var et=[],rt=tt.config();!rt||!rt.integrations||rt.integrations.forEach(function(nt){arrayIncludes$3(et,nt.name)||(et.push(nt.name),nt.setup(tt),nt.tearDown&&tt.on("beforeDestroy",nt.tearDown))})})}function getDefaultBrowser$2(){if(typeof window=="object"&&isObject$4(window))return window}var getGlobalRegistry$2=function(tt){if(tt)return tt.__SLARDAR_REGISTRY__||(tt.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[]}}),tt.__SLARDAR_REGISTRY__.Slardar},reportSelfError$2=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];var rt=getGlobalRegistry$2(getDefaultBrowser$2());rt&&(rt.errors||(rt.errors=[]),rt.errors.push(tt))},CUSTOM_EV_TYPE$2="custom",CUSTOM_EVENT_TYPE$2="event",CUSTOM_LOG_TYPE$2="log",normalizeCustomEventData$2=function(tt){if(!(!tt||!isObject$4(tt))&&!(!tt.name||!isString$3(tt.name))){var et={name:tt.name,type:CUSTOM_EVENT_TYPE$2};if("metrics"in tt&&isObject$4(tt.metrics)){var rt=tt.metrics,nt={};for(var it in rt)isNumber$3(rt[it])&&(nt[it]=rt[it]);et.metrics=nt}if("categories"in tt&&isObject$4(tt.categories)){var ot=tt.categories,at={};for(var it in ot)at[it]=safeStringify$2(ot[it]);et.categories=at}return et}},normalizeCustomLogData$2=function(tt){if(!(!tt||!isObject$4(tt))&&!(!tt.content||!isString$3(tt.content))){var et=tt.content,rt={content:safeStringify$2(et),type:CUSTOM_LOG_TYPE$2,level:"info"};if("level"in tt&&(rt.level=tt.level),"extra"in tt&&isObject$4(tt.extra)){var nt=tt.extra,it={},ot={};for(var at in nt)isNumber$3(nt[at])?it[at]=nt[at]:ot[at]=safeStringify$2(nt[at]);rt.metrics=it,rt.categories=ot}return rt}},CustomPlugin$2=function(tt){var et=function(nt){var it=normalizeCustomEventData$2(nt);it&&tt.report({ev_type:CUSTOM_EV_TYPE$2,payload:it,extra:{timestamp:Date.now()}})},rt=function(nt){var it=normalizeCustomLogData$2(nt);it&&tt.report({ev_type:CUSTOM_EV_TYPE$2,payload:it,extra:{timestamp:Date.now()}})};tt.provide("sendEvent",et),tt.provide("sendLog",rt)},withSampleRate$2=function(tt,et){var rt=tt.common||{};return rt.sample_rate=et,tt.common=rt,tt},hitFnWithRandom$2=function(tt,et,rt,nt,it){return tt?function(ot){return function(){return ot}}(it(nt,et)):function(){return rt(et)}},parseValues$2=function(tt,et){return tt.map(function(rt){switch(et){case"number":return Number(rt);case"boolean":return rt==="1";case"string":default:return String(rt)}})},checkVal$2=function(tt,et,rt){switch(rt){case"eq":return arrayIncludes$3(et,tt);case"neq":return!arrayIncludes$3(et,tt);case"gt":return tt>et[0];case"gte":return tt>=et[0];case"lt":return tt<et[0];case"lte":return tt<=et[0];case"regex":return Boolean(tt.match(new RegExp(et.join("|"))));case"not_regex":return!tt.match(new RegExp(et.join("|")));default:return!1}},checkFilter$2=function(tt,et,rt,nt){var it=safeVisit$2(tt,et,function(at,st){return at[st]});if(it===void 0)return!1;var ot=isBoolean$2(it)?"bool":isNumber$3(it)?"number":"string";return checkVal$2(it,parseValues$2(nt,ot),rt)},matchFilter$2=function(tt,et){try{return et.type==="rule"?checkFilter$2(tt,et.field,et.op,et.values):et.type==="and"?et.children.every(function(rt){return matchFilter$2(tt,rt)}):et.children.some(function(rt){return matchFilter$2(tt,rt)})}catch(rt){return reportSelfError$2(rt),!1}},getHitMap$2=function(tt,et,rt,nt,it,ot){var at={};return Object.keys(tt).forEach(function(st){var lt=tt[st],ct=lt.enable,ut=lt.sample_rate,dt=lt.conditional_sample_rules;ct?(at[st]={enable:ct,sample_rate:ut,effectiveSampleRate:ut*rt,hit:hitFnWithRandom$2(et,ut,nt,it,ot)},dt&&(at[st].conditional_hit_rules=dt.map(function(ft){var pt=ft.sample_rate,mt=ft.filter;return{sample_rate:pt,hit:hitFnWithRandom$2(et,pt,nt,it,ot),effectiveSampleRate:pt*rt,filter:mt}}))):at[st]={enable:ct,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),at},getSampler$2=function(tt,et,rt,nt){if(!et)return id$3;var it=et.sample_rate,ot=et.include_users,at=et.sample_granularity,st=et.rules,lt=et.r,ct=lt===void 0?Math.random():lt,ut=arrayIncludes$3(ot,tt);if(ut)return function(mt){return withSampleRate$2(mt,1)};var dt=at==="session",ft=hitFnWithRandom$2(dt,it,rt,ct,nt),pt=getHitMap$2(st,dt,it,rt,ct,nt);return function(mt){var ht;if(!ft())return!1;if(!(mt.ev_type in pt))return withSampleRate$2(mt,it);if(!pt[mt.ev_type].enable)return!1;if(!((ht=mt.common)===null||ht===void 0)&&ht.sample_rate)return mt;var gt=pt[mt.ev_type],vt=gt.conditional_hit_rules;if(vt){for(var yt=0;yt<vt.length;yt++)if(matchFilter$2(mt,vt[yt].filter))return vt[yt].hit()?withSampleRate$2(mt,vt[yt].effectiveSampleRate):!1}return gt.hit()?withSampleRate$2(mt,gt.effectiveSampleRate):!1}},SamplePlugin$2=function(tt){tt.on("start",function(){var et=tt.config(),rt=et.userId,nt=et.sample,it=getSampler$2(rt,nt,isHitBySampleRate$2,isHitByRandom$2);tt.on("build",it)})},builder$2={build:function(tt){return{ev_type:tt.ev_type,payload:tt.payload,common:__assign$3(__assign$3({},tt.extra||{}),tt.overrides||{})}}},createConfigManager$2=function(tt){var et=tt,rt,nt={},it=noop$3,ot=noop$3;return{getConfig:function(){return et},setConfig:function(st){return nt=__assign$3(__assign$3({},nt),st||{}),at(),rt||(rt=st,it()),et},onChange:function(st){ot=st},onReady:function(st){it=st,rt&&it()}};function at(){var st=__assign$3(__assign$3({},tt),nt);st.sample=mergeSampleConfig$2(tt.sample,nt.sample),et=st,ot()}};function mergeSampleConfig$2(tt,et){if(!tt||!et)return tt||et;var rt=__assign$3(__assign$3({},tt),et);return rt.include_users=__spreadArray$2(__spreadArray$2([],__read$2(tt.include_users||[]),!1),__read$2(et.include_users||[]),!1),rt.rules=__spreadArray$2(__spreadArray$2([],__read$2(Object.keys(tt.rules||{})),!1),__read$2(Object.keys(et.rules||{})),!1).reduce(function(nt,it){var ot,at;return it in nt||(it in(tt.rules||{})&&it in(et.rules||{})?(nt[it]=__assign$3(__assign$3({},tt.rules[it]),et.rules[it]),nt[it].conditional_sample_rules=__spreadArray$2(__spreadArray$2([],__read$2(tt.rules[it].conditional_sample_rules||[]),!1),__read$2(et.rules[it].conditional_sample_rules||[]),!1)):nt[it]=((ot=tt.rules)===null||ot===void 0?void 0:ot[it])||((at=et.rules)===null||at===void 0?void 0:at[it])),nt},{}),rt}var REPORT_DOMAIN$2="mon-va.byteoversea.com",SDK_VERSION$2="1.0.2",SDK_NAME$2="SDK_BASE",BATCH_REPORT_PATH$2="/monitor_browser/collect/batch/",DEFAULT_SAMPLE_CONFIG$2={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}},DEFAULT_SENDER_SIZE$2=20;function normalizeInitConfig$2(tt){return __assign$3({},tt)}function validateInitConfig$2(tt){return isObject$4(tt)&&"bid"in tt&&"transport"in tt}function normalizeUserConfig$2(tt){return __assign$3({},tt)}var addEnvToSendEvent$2=function(tt,et){var rt={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:et.version||SDK_VERSION$2,sdk_name:et.name||SDK_NAME$2};return __assign$3(__assign$3({},tt),{extra:__assign$3(__assign$3({},rt),tt.extra||{})})},InjectEnvPlugin$2=function(tt){tt.on("report",function(et){return addEnvToSendEvent$2(et,tt.config())})},addConfigToReportEvent$2=function(tt,et){var rt={};return rt.bid=et.bid,rt.pid=et.pid,rt.view_id=et.viewId,rt.user_id=et.userId,rt.device_id=et.deviceId,rt.session_id=et.sessionId,rt.release=et.release,rt.env=et.env,__assign$3(__assign$3({},tt),{extra:__assign$3(__assign$3({},rt),tt.extra||{})})},InjectConfigPlugin$2=function(tt){tt.on("beforeBuild",function(et){return addConfigToReportEvent$2(et,tt.config())})};function createSender$2(tt){return createBatchSender$2(tt)}var getReportUrl$2=function(tt,et){return et===void 0&&(et=BATCH_REPORT_PATH$2),(tt&&tt.indexOf("//")>=0?"":"https://")+tt+et},getDefaultUserId$2=function(){return uuid$2()},getDefaultDeviceId$2=function(){return uuid$2()},getViewId$2=function(tt){return tt+"_"+Date.now()},getDefaultSessionId$2=function(){return uuid$2()},getDefaultConfig$2=function(tt){return{bid:"",pid:"",viewId:getViewId$2("_"),userId:getDefaultUserId$2(),deviceId:getDefaultDeviceId$2(),sessionId:getDefaultSessionId$2(),domain:REPORT_DOMAIN$2,release:"",env:"production",sample:DEFAULT_SAMPLE_CONFIG$2,plugins:{},transport:{get:noop$3,post:noop$3}}},createMinimalClient$2=function(tt){var et=tt===void 0?{}:tt,rt=et.createSender,nt=rt===void 0?function(ct){return createSender$2({size:DEFAULT_SENDER_SIZE$2,endpoint:getReportUrl$2(ct.domain),transport:ct.transport})}:rt,it=et.builder,ot=it===void 0?builder$2:it,at=et.createDefaultConfig,st=at===void 0?getDefaultConfig$2:at,lt=createClient$2({validateInitConfig:validateInitConfig$2,initConfigNormalizer:normalizeInitConfig$2,userConfigNormalizer:normalizeUserConfig$2,createSender:nt,builder:ot,createDefaultConfig:st,createConfigManager:createConfigManager$2});return ContextPlugin$2(lt),InjectConfigPlugin$2(lt),InjectEnvPlugin$2(lt),IntegrationPlugin$2(lt),lt},createBaseClient$2=function(tt){tt===void 0&&(tt={});var et=createMinimalClient$2(tt);return SamplePlugin$2(et),CustomPlugin$2(et),et};createBaseClient$2();var REGION$2="sg",SETTING_HOST$2="https://vcs-sg.byteoversea.com",CHANNEL_DOMAIN$2={in:"https://sgali-mcs.byteoversea.com",sg:"https://sgali-mcs.byteoversea.com",va:"https://maliva-mcs.byteoversea.com",tcpy:"https://mcs-sg.tiktok.com",ttp:"https://mcs.us.tiktok.com"},AJAX_TIMEOUT$2=5e3,TEA_EVENT_PREFIX$2="h5_",WEBID_KEY$2="s_v_web_id",URL$3={setting:"/vc/setting",report:function(tt){return["ttp","tcpy"].indexOf(tt)!==-1?"/v1/list":"/list"},webid:function(tt){return["ttp","tcpy"].indexOf(tt)!==-1?"/v1/user/webid":"/webid"}},stringify$2=function(tt){for(var et=Object.keys(tt),rt="",nt=0;nt<et.length;nt++){var it=et[nt],ot=tt[it],at=encodeURIComponent(it)+"="+encodeURIComponent(ot);nt>=1?rt=rt+"&"+at:rt=at}return rt},getCommonParams$2=function(tt){var et=tt.commonOptions;return{aid:et.aid}},getType$2=function(tt){var et=Object.prototype.toString.call(tt);return et.slice(8,-1)},Slardar$2=function(){function tt(){this.isInit=!1,this.pid="0",this.filename=""}return tt.prototype.init=function(et,rt){if(!this.isInit){this.isInit=!0,this.pid=String(et.aid),this.browserSlardar=createBaseClient$2();var nt={transport:{get:function(){},post:function(it){var ot=it.url,at=it.data;rt(ot,JSON.parse(at))}},bid:"verify_center_va",pid:this.pid,release:"3.8.6",env:REGION$2,sample:{sample_rate:1,include_users:[],sample_granularity:"session",rules:{pageview:{enable:!0,sample_rate:.01},js_error:{enable:!0,sample_rate:1},resource_error:{enable:!0,sample_rate:.01},http:{enable:!0,sample_rate:.01},resource:{enable:!0,sample_rate:.01}}}};this.browserSlardar.init(nt),this.browserSlardar.context.merge({belong:"hotsdk"})}},tt.prototype.start=function(){var et=this;this.browserSlardar.start(),this.reportPageview(),window.addEventListener("error",function(rt){var nt;getType$2(rt)==="ErrorEvent"&&et.filename&&rt.filename===et.filename&&et.reportJsError({message:rt==null?void 0:rt.message,stack:(nt=rt==null?void 0:rt.error)===null||nt===void 0?void 0:nt.stack,filename:rt==null?void 0:rt.filename})},!0)},tt.prototype.destroy=function(){this.browserSlardar.destroy()},tt.prototype.reportPageview=function(){this.browserSlardar.report({ev_type:"pageview",payload:{pid:this.pid,source:"init"}})},tt.prototype.reportJsError=function(et){this.browserSlardar.report({ev_type:"js_error",payload:{error:{name:"JS ERROR",message:et.message,stack:et.stack,filename:et.filename||this.filename},breadcrumbs:[]}})},tt.prototype.reportHttp=function(et){this.browserSlardar.report({ev_type:"http",payload:{api:"xhr",request:{method:et.method,url:et.url},response:{status:et.status,is_custom_error:!1,timestamp:Date.now()},duration:et.duration}})},tt.prototype.reportResourceError=function(et){this.browserSlardar.report({ev_type:"resource_error",payload:{type:"script",url:et}})},tt.prototype.reportResource=function(et){this.browserSlardar.report({ev_type:"resource",payload:{entryType:"resource",name:et.url,duration:et.duration,startTime:et.startTime}})},tt.prototype.setFileName=function(et){this.filename=et},tt}(),slardar$2=new Slardar$2,ajax$2=function(tt){var et=tt.url,rt=tt.method,nt=tt.data,it=tt.config;return new promise$5(function(ot,at){var st=new XMLHttpRequest,lt=Date.now(),ct=function(){tt.url.indexOf(URL$3.setting)!==-1&&slardar$2.reportHttp({url:et,method:rt,duration:Date.now()-lt,status:st.status})};st.onreadystatechange=function(){if(st.readyState===st.DONE){if(st.status>=200&&st.status<300){var ht={},gt=st.response||st.responseText,vt=st.getResponseHeader("Content-Type")||st.getResponseHeader("content-type");if(vt&&vt.indexOf("application/json")!==-1)try{ht=JSON.parse(gt)}catch{}else ht=gt;setTimeout(function(){ot(ht)},0)}else at(new TypeError("Network request failed, status: "+st.status));ct()}},st.onerror=function(){setTimeout(function(){at(new TypeError("Network request failed, occur error"))},0),ct()},st.ontimeout=function(){setTimeout(function(){at(new TypeError("Network request failed, timeout"))},0),ct()},st.onabort=function(){setTimeout(function(){at(new DOMException("Aborted","AbortError"))},0),ct()};var ut=et;if(it!=null&&it.params&&(ut=ut+"?"+stringify$2(it.params)),st.open(rt,ut,!0),it!=null&&it.timeout&&typeof it.timeout=="number"?st.timeout=it.timeout:st.timeout=AJAX_TIMEOUT$2,it!=null&&it.headers)for(var dt=it.headers,ft=0,pt=Object.keys(dt);ft<pt.length;ft++){var mt=pt[ft];st.setRequestHeader(mt,dt[mt])}it!=null&&it.withCredentials&&(st.withCredentials=it.withCredentials),rt.toUpperCase()==="POST"&&nt?st.send(JSON.stringify(nt)):st.send(null)})},get$3=function(tt,et){return et===void 0&&(et={}),ajax$2({url:tt,method:"GET",config:et})},post$3=function(tt,et,rt){rt===void 0&&(rt={});var nt=rt.headers?__assign$1$2({"Content-Type":"application/json"},rt.headers):{"Content-Type":"application/json"};return ajax$2({url:tt,method:"POST",data:et,config:__assign$1$2(__assign$1$2({},rt),{headers:nt})})},loadScript$2=function(tt){return new promise$5(function(et,rt){var nt=document.getElementsByTagName("head")[0],it=document.createElement("script");it.setAttribute("crossorigin","anonymous"),it.setAttribute("src",tt),nt.appendChild(it);var ot=setTimeout(function(){rt(new Error("LoadJSSDKMoreTan4000ms"))},4e3);it.onload=function(){clearTimeout(ot),et(0)},it.onerror=function(){clearTimeout(ot),rt(new Error("Failed to load SDK!"))}})},commonjs$2=function(tt){var et={exports:{}},rt=new Function("exports","module",tt);try{rt(et.exports,et)}catch(nt){slardar$2.reportJsError({message:nt==null?void 0:nt.message,stack:nt==null?void 0:nt.stack,filename:nt==null?void 0:nt.filename})}return et},js_cookie$2=createCommonjsModule$2(function(tt,et){(function(rt){var nt;if(tt.exports=rt(),nt=!0,!nt){var it=window.Cookies,ot=window.Cookies=rt();ot.noConflict=function(){return window.Cookies=it,ot}}})(function(){function rt(){for(var ot=0,at={};ot<arguments.length;ot++){var st=arguments[ot];for(var lt in st)at[lt]=st[lt]}return at}function nt(ot){return ot.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function it(ot){function at(){}function st(ct,ut,dt){if(!(typeof document>"u")){dt=rt({path:"/"},at.defaults,dt),typeof dt.expires=="number"&&(dt.expires=new Date(new Date*1+dt.expires*864e5)),dt.expires=dt.expires?dt.expires.toUTCString():"";try{var ft=JSON.stringify(ut);/^[\{\[]/.test(ft)&&(ut=ft)}catch{}ut=ot.write?ot.write(ut,ct):encodeURIComponent(String(ut)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),ct=encodeURIComponent(String(ct)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var pt="";for(var mt in dt)dt[mt]&&(pt+="; "+mt,dt[mt]!==!0&&(pt+="="+dt[mt].split(";")[0]));return document.cookie=ct+"="+ut+pt}}function lt(ct,ut){if(!(typeof document>"u")){for(var dt={},ft=document.cookie?document.cookie.split("; "):[],pt=0;pt<ft.length;pt++){var mt=ft[pt].split("="),ht=mt.slice(1).join("=");!ut&&ht.charAt(0)==='"'&&(ht=ht.slice(1,-1));try{var gt=nt(mt[0]);if(ht=(ot.read||ot)(ht,gt)||nt(ht),ut)try{ht=JSON.parse(ht)}catch{}if(dt[gt]=ht,ct===gt)break}catch{}}return ct?dt[ct]:dt}}return at.set=st,at.get=function(ct){return lt(ct,!1)},at.getJSON=function(ct){return lt(ct,!0)},at.remove=function(ct,ut){st(ct,"",rt(ut,{expires:-1}))},at.defaults={},at.withConverter=it,at}return it(function(){})})});function mergeFp$2(){var tt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),et=tt.length,rt=Date.now().toString(36),nt=[];nt[8]=nt[13]=nt[18]=nt[23]="_",nt[14]="4";for(var it=0,ot=void 0;it<36;it++)nt[it]||(ot=0|Math.random()*et,nt[it]=tt[it==19?ot&3|8:ot]);return"verify_"+rt+"_"+nt.join("")}function setWebidCookie$2(tt){tt=typeof tt=="object"?tt:{};var et=mergeFp$2(),rt={path:"/"};return tt.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(tt.domain)&&(rt.domain=tt.domain),js_cookie$2.set(WEBID_KEY$2,et,rt),et}var generateFpSync$2=function(tt){tt===void 0&&(tt={});var et=js_cookie$2.get(WEBID_KEY$2);return(!et||et.indexOf("verify_")!==0)&&(et=setWebidCookie$2(tt)),et},getFpFromCookie$2=function(){return js_cookie$2.get(WEBID_KEY$2)||""},generateFp$2=function(tt){tt===void 0&&(tt={});var et=generateFpSync$2(tt);return et},getSetting$2=function(tt){return post$3(""+(tt||SETTING_HOST$2)+URL$3.setting,{},{headers:{"X-Setting-Flag":1}})},getTeaWebId$2=function(tt,et){var rt=CHANNEL_DOMAIN$2[et],nt=URL$3.webid(et);return post$3(""+rt+nt,{app_id:tt,referer:document.referrer,url:window.location.href,user_agent:window.navigator.userAgent,user_unique_id:""}).then(function(it){return it.web_id})},report$2=function(tt,et){var rt=CHANNEL_DOMAIN$2[et],nt=URL$3.report(et);return post$3(""+rt+nt,tt)},EVT_NAME$2="turing_verify_sdk",Logger$2=function(){function tt(){this.fetchWebId=null,this.channelType="",this.isInit=!1,this.conf={app_id:0,evtParams:{}}}return tt.prototype.init=function(et,rt){rt===void 0&&(rt={}),!this.isInit&&(this.isInit=!0,this.conf.app_id=et.region==="cn"?2018:2740,this.conf.evtParams=__assign$1$2(__assign$1$2({},rt),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:et.aid}),et.aid===1180||et.aid===1233?this.channelType="tcpy":this.channelType=REGION$2)},tt.prototype.getTeaWebId=function(){return this.fetchWebId||(this.fetchWebId=getTeaWebId$2(this.conf.app_id,this.channelType)),this.fetchWebId},tt.prototype.trackEvent=function(et,rt){var nt=this;rt===void 0&&(rt={}),this.getTeaWebId().then(function(it){var ot=[{events:[{event:EVT_NAME$2,is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(__assign$1$2(__assign$1$2(__assign$1$2({},nt.conf.evtParams),rt),{key:""+TEA_EVENT_PREFIX$2+et,time:Date.now()}))}],local_time:Math.floor(Date.now()/1e3),header:{app_id:nt.conf.app_id,referrer:document.referrer,platform:"web",sdk_lib:"js",sdk_version:"0.0.0"},user:{user_unique_id:it,web_id:it}}];nt.sendEvents(ot)}).catch(function(it){})},tt.prototype.sendEvents=function(et){report$2(et,this.channelType).catch(function(rt){})},tt}(),logger$2=new Logger$2,verify$2={back_up_js_v2:{sg:["https://lf-rc2.yhgfb-static.com/obj/rc-client-security-sg/secsdk-captcha/@latest/captcha.js","https://sf16-scmcdn-sg.ibytedtos.com/obj/static-sg/secsdk-captcha/@latest/captcha.js"]},js_v2:{sg:"https://lf-rc1.yhgfb-static.com/obj/rc-client-security-sg/secsdk-captcha/@latest/captcha.js"}},DefaultSetting$2={verify:verify$2},initOptions$2={},configOptions$2={executor:"Function",static_domain:"",settingHost:""},getCDN$2=function(){var tt=Date.now();return getSetting$2(configOptions$2.settingHost).catch(function(){return getSetting$2(configOptions$2.settingHost)}).then(function(et){var rt,nt;return logger$2.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-tt,message:""}),!((nt=(rt=et==null?void 0:et.verify)===null||rt===void 0?void 0:rt.js_v2)===null||nt===void 0)&&nt[REGION$2]?et.verify:DefaultSetting$2.verify}).catch(function(et){return logger$2.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-tt,message:et==null?void 0:et.message}),DefaultSetting$2.verify})},loadCDN$2=function(tt,et,rt,nt){slardar$2.setFileName(tt);var it=Date.now(),ot=promise$5.resolve({});return et==="script"?ot=loadScript$2(tt).then(function(){return window.verifySDK}):ot=get$3(tt,{timeout:2e4}).then(function(at){if(rt&&nt&&rt!==nt){var st=new RegExp(rt,"g");at=at.replace(st,nt)}var lt=commonjs$2(at);return lt.exports}),ot.then(function(at){return slardar$2.reportResource({url:tt,startTime:Date.now(),duration:Date.now()-it}),at}).catch(function(at){return slardar$2.reportResourceError(tt),promise$5.reject(at)})},SDK$2=function(){function tt(){}return tt.get=function(){return(tt.status===0||tt.status===3)&&(tt.status=1,tt.core=getCDN$2().then(function(et){var rt,nt,it,ot=(rt=et.js_v2)===null||rt===void 0?void 0:rt[REGION$2],at=((nt=et.back_up_js_v2)===null||nt===void 0?void 0:nt[REGION$2])||[],st=(it=ot.match(/\/\/([\w-]+(\.[\w-]+)+)/))===null||it===void 0?void 0:it[1];configOptions$2.static_domain&&st&&(ot=ot.replace(st,configOptions$2.static_domain));var lt=[ot].concat(at);return new promise$5(function(ct,ut){var dt=function(){var ft,pt=lt.shift(),mt=(ft=pt.match(/\/\/([\w-]+(\.[\w-]+)+)/))===null||ft===void 0?void 0:ft[1];loadCDN$2(pt,configOptions$2.executor,st,mt).then(function(ht){ct(ht),tt.status=2,logger$2.trackEvent("hotsdk_loadscript",{is_success:1})}).catch(function(ht){lt.length?dt():(ut(ht),tt.status=3,logger$2.trackEvent("hotsdk_loadscript",{is_success:0}))})};dt()})}).catch(function(et){return promise$5.reject(et)})),tt.core},tt.status=0,tt}(),config$3=function(tt){tt.static_domain&&(configOptions$2.static_domain=tt.static_domain),tt.settingHost&&(configOptions$2.settingHost=tt.settingHost),tt.executor&&(configOptions$2.executor=tt.executor)},init$2=function(tt,et,rt){et===void 0&&(et=function(){}),rt===void 0&&(rt=function(){});var nt=getCommonParams$2(tt);logger$2.init(__assign$1$2(__assign$1$2({},nt),{region:REGION$2})),slardar$2.init(nt,post$3),slardar$2.start(),SDK$2.get().then(function(it){var ot;Object.assign(initOptions$2,__assign$1$2(__assign$1$2({},tt),{captchaOptions:__assign$1$2(__assign$1$2({},tt.captchaOptions),{h5_check_version:!((ot=tt.captchaOptions)===null||ot===void 0)&&ot.closeDecisionCheck?"0.0.0":"3.8.6"})})),it==null||it.initVerifyOptions(initOptions$2),et(it)}).catch(function(it){var ot;rt({type:"loadJSSDK",msg:(ot=it==null?void 0:it.message)!==null&&ot!==void 0?ot:""})})},render$2=function(tt){SDK$2.get().then(function(et){et==null||et.autoRender(tt)}).catch(function(et){})},close$2=function(){SDK$2.get().then(function(tt){tt==null||tt.closeCaptcha()})},getFp$2=function(){var tt,et,rt=((tt=initOptions$2==null?void 0:initOptions$2.captchaOptions)===null||tt===void 0?void 0:tt.fp)||getFpFromCookie$2()||generateFp$2((et=initOptions$2==null?void 0:initOptions$2.captchaOptions)===null||et===void 0?void 0:et.fpCookieOption);return promise$5.resolve(rt)},TTVerifyCenter$2=function(){function tt(){}return tt.config=function(et){config$3(et)},tt.init=function(et,rt,nt){var it=getCommonParams$2(et);return logger$2.init(__assign$1$2(__assign$1$2({},it),{region:REGION$2})),slardar$2.init(it,post$3),slardar$2.start(),SDK$2.get().then(function(ot){var at;Object.assign(initOptions$2,__assign$1$2(__assign$1$2({},et),{captchaOptions:__assign$1$2(__assign$1$2({},et.captchaOptions),{h5_check_version:!((at=et.captchaOptions)===null||at===void 0)&&at.closeDecisionCheck?"0.0.0":"3.8.6"})}));var st=ot.initVerifyCenter(initOptions$2);if(rt)rt(st);else return st}).catch(function(ot){if(nt)nt(ot);else return promise$5.reject(ot)})},tt}(),transform$2=function(tt){var et={code:"10000",from:"",type:"verify",version:"1",region:REGION$2,subtype:"",verify_event:"",fp:"",detail:""};return tt===3059?et.subtype="text":tt===3060?et.subtype="3d":tt===99996?et.subtype="whirl":et.subtype="slide",JSON.stringify(et)};const index_esm$2=Object.freeze(Object.defineProperty({__proto__:null,TTVerifyCenter:TTVerifyCenter$2,close:close$2,config:config$3,getFp:getFp$2,init:init$2,render:render$2,transform:transform$2},Symbol.toStringTag,{value:"Module"})),require$$1=getAugmentedNamespace(index_esm$2);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign$1$1=function(){return __assign$1$1=Object.assign||function(et){for(var rt,nt=1,it=arguments.length;nt<it;nt++){rt=arguments[nt];for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(et[ot]=rt[ot])}return et},__assign$1$1.apply(this,arguments)};typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(et,rt){if(et==null)throw new TypeError("Cannot convert undefined or null to object");for(var nt=Object(et),it=1;it<arguments.length;it++){var ot=arguments[it];if(ot!=null)for(var at in ot)Object.prototype.hasOwnProperty.call(ot,at)&&(nt[at]=ot[at])}return nt},writable:!0,configurable:!0});var commonjsGlobal$1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule$1(tt,et,rt){return rt={path:et,exports:{},require:function(nt,it){return commonjsRequire$1(nt,it??rt.path)}},tt(rt,rt.exports),rt.exports}function commonjsRequire$1(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var check$1=function(tt){return tt&&tt.Math==Math&&tt},global_1$1=check$1(typeof globalThis=="object"&&globalThis)||check$1(typeof window=="object"&&window)||check$1(typeof self=="object"&&self)||check$1(typeof commonjsGlobal$1=="object"&&commonjsGlobal$1)||function(){return this}()||Function("return this")(),FunctionPrototype$2$1=Function.prototype,apply$1=FunctionPrototype$2$1.apply,bind$3$1=FunctionPrototype$2$1.bind,call$2$1=FunctionPrototype$2$1.call,functionApply$1=typeof Reflect=="object"&&Reflect.apply||(bind$3$1?call$2$1.bind(apply$1):function(){return call$2$1.apply(apply$1,arguments)}),FunctionPrototype$1$1=Function.prototype,bind$2$2=FunctionPrototype$1$1.bind,call$1$1=FunctionPrototype$1$1.call,callBind$1=bind$2$2&&bind$2$2.bind(call$1$1),functionUncurryThis$1=bind$2$2?function(tt){return tt&&callBind$1(call$1$1,tt)}:function(tt){return tt&&function(){return call$1$1.apply(tt,arguments)}},isCallable$1=function(tt){return typeof tt=="function"},fails$1=function(tt){try{return!!tt()}catch{return!0}},descriptors$2=!fails$1(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),call$3=Function.prototype.call,functionCall$1=call$3.bind?call$3.bind(call$3):function(){return call$3.apply(call$3,arguments)},$propertyIsEnumerable$1={}.propertyIsEnumerable,getOwnPropertyDescriptor$2$1=Object.getOwnPropertyDescriptor,NASHORN_BUG$1=getOwnPropertyDescriptor$2$1&&!$propertyIsEnumerable$1.call({1:2},1),f$5$1=NASHORN_BUG$1?function tt(et){var rt=getOwnPropertyDescriptor$2$1(this,et);return!!rt&&rt.enumerable}:$propertyIsEnumerable$1,objectPropertyIsEnumerable$1={f:f$5$1},createPropertyDescriptor$1=function(tt,et){return{enumerable:!(tt&1),configurable:!(tt&2),writable:!(tt&4),value:et}},toString$1$1=functionUncurryThis$1({}.toString),stringSlice$1$1=functionUncurryThis$1("".slice),classofRaw$1=function(tt){return stringSlice$1$1(toString$1$1(tt),8,-1)},Object$5$1=global_1$1.Object,split$1=functionUncurryThis$1("".split),indexedObject$1=fails$1(function(){return!Object$5$1("z").propertyIsEnumerable(0)})?function(tt){return classofRaw$1(tt)=="String"?split$1(tt,""):Object$5$1(tt)}:Object$5$1,TypeError$d$1=global_1$1.TypeError,requireObjectCoercible$1=function(tt){if(tt==null)throw TypeError$d$1("Can't call method on "+tt);return tt},toIndexedObject$1=function(tt){return indexedObject$1(requireObjectCoercible$1(tt))},isObject$1$1=function(tt){return typeof tt=="object"?tt!==null:isCallable$1(tt)},path$2={},aFunction$1=function(tt){return isCallable$1(tt)?tt:void 0},getBuiltIn$1=function(tt,et){return arguments.length<2?aFunction$1(path$2[tt])||aFunction$1(global_1$1[tt]):path$2[tt]&&path$2[tt][et]||global_1$1[tt]&&global_1$1[tt][et]},objectIsPrototypeOf$1=functionUncurryThis$1({}.isPrototypeOf),engineUserAgent$1=getBuiltIn$1("navigator","userAgent")||"",process$3$1=global_1$1.process,Deno$1=global_1$1.Deno,versions$1=process$3$1&&process$3$1.versions||Deno$1&&Deno$1.version,v8$1=versions$1&&versions$1.v8,match$1,version$1;v8$1&&(match$1=v8$1.split("."),version$1=match$1[0]>0&&match$1[0]<4?1:+(match$1[0]+match$1[1]));!version$1&&engineUserAgent$1&&(match$1=engineUserAgent$1.match(/Edge\/(\d+)/),(!match$1||match$1[1]>=74)&&(match$1=engineUserAgent$1.match(/Chrome\/(\d+)/),match$1&&(version$1=+match$1[1])));var engineV8Version$1=version$1,nativeSymbol$1=!!Object.getOwnPropertySymbols&&!fails$1(function(){var tt=Symbol();return!String(tt)||!(Object(tt)instanceof Symbol)||!Symbol.sham&&engineV8Version$1&&engineV8Version$1<41}),useSymbolAsUid$1=nativeSymbol$1&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Object$4$1=global_1$1.Object,isSymbol$1=useSymbolAsUid$1?function(tt){return typeof tt=="symbol"}:function(tt){var et=getBuiltIn$1("Symbol");return isCallable$1(et)&&objectIsPrototypeOf$1(et.prototype,Object$4$1(tt))},String$5$1=global_1$1.String,tryToString$1=function(tt){try{return String$5$1(tt)}catch{return"Object"}},TypeError$c$1=global_1$1.TypeError,aCallable$1=function(tt){if(isCallable$1(tt))return tt;throw TypeError$c$1(tryToString$1(tt)+" is not a function")},getMethod$1=function(tt,et){var rt=tt[et];return rt==null?void 0:aCallable$1(rt)},TypeError$b$1=global_1$1.TypeError,ordinaryToPrimitive$1=function(tt,et){var rt,nt;if(et==="string"&&isCallable$1(rt=tt.toString)&&!isObject$1$1(nt=functionCall$1(rt,tt))||isCallable$1(rt=tt.valueOf)&&!isObject$1$1(nt=functionCall$1(rt,tt))||et!=="string"&&isCallable$1(rt=tt.toString)&&!isObject$1$1(nt=functionCall$1(rt,tt)))return nt;throw TypeError$b$1("Can't convert object to primitive value")},isPure$1=!0,defineProperty$1$1=Object.defineProperty,setGlobal$1=function(tt,et){try{defineProperty$1$1(global_1$1,tt,{value:et,configurable:!0,writable:!0})}catch{global_1$1[tt]=et}return et},SHARED$1="__core-js_shared__",store$1$1=global_1$1[SHARED$1]||setGlobal$1(SHARED$1,{}),sharedStore$1=store$1$1,shared$1=createCommonjsModule$1(function(tt){(tt.exports=function(et,rt){return sharedStore$1[et]||(sharedStore$1[et]=rt!==void 0?rt:{})})("versions",[]).push({version:"3.20.1",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),Object$3$1=global_1$1.Object,toObject$1=function(tt){return Object$3$1(requireObjectCoercible$1(tt))},hasOwnProperty$1=functionUncurryThis$1({}.hasOwnProperty),hasOwnProperty_1$1=Object.hasOwn||function tt(et,rt){return hasOwnProperty$1(toObject$1(et),rt)},id$1$1=0,postfix$1=Math.random(),toString$3=functionUncurryThis$1(1 .toString),uid$1=function(tt){return"Symbol("+(tt===void 0?"":tt)+")_"+toString$3(++id$1$1+postfix$1,36)},WellKnownSymbolsStore$1=shared$1("wks"),Symbol$1$1=global_1$1.Symbol,symbolFor$1=Symbol$1$1&&Symbol$1$1.for,createWellKnownSymbol$1=useSymbolAsUid$1?Symbol$1$1:Symbol$1$1&&Symbol$1$1.withoutSetter||uid$1,wellKnownSymbol$1=function(tt){if(!hasOwnProperty_1$1(WellKnownSymbolsStore$1,tt)||!(nativeSymbol$1||typeof WellKnownSymbolsStore$1[tt]=="string")){var et="Symbol."+tt;nativeSymbol$1&&hasOwnProperty_1$1(Symbol$1$1,tt)?WellKnownSymbolsStore$1[tt]=Symbol$1$1[tt]:useSymbolAsUid$1&&symbolFor$1?WellKnownSymbolsStore$1[tt]=symbolFor$1(et):WellKnownSymbolsStore$1[tt]=createWellKnownSymbol$1(et)}return WellKnownSymbolsStore$1[tt]},TypeError$a$1=global_1$1.TypeError,TO_PRIMITIVE$1=wellKnownSymbol$1("toPrimitive"),toPrimitive$1=function(tt,et){if(!isObject$1$1(tt)||isSymbol$1(tt))return tt;var rt=getMethod$1(tt,TO_PRIMITIVE$1),nt;if(rt){if(et===void 0&&(et="default"),nt=functionCall$1(rt,tt,et),!isObject$1$1(nt)||isSymbol$1(nt))return nt;throw TypeError$a$1("Can't convert object to primitive value")}return et===void 0&&(et="number"),ordinaryToPrimitive$1(tt,et)},toPropertyKey$1=function(tt){var et=toPrimitive$1(tt,"string");return isSymbol$1(et)?et:et+""},document$3$1=global_1$1.document,EXISTS$1$1=isObject$1$1(document$3$1)&&isObject$1$1(document$3$1.createElement),documentCreateElement$1=function(tt){return EXISTS$1$1?document$3$1.createElement(tt):{}},ie8DomDefine$1=!descriptors$2&&!fails$1(function(){return Object.defineProperty(documentCreateElement$1("div"),"a",{get:function(){return 7}}).a!=7}),$getOwnPropertyDescriptor$1=Object.getOwnPropertyDescriptor,f$4$1=descriptors$2?$getOwnPropertyDescriptor$1:function tt(et,rt){if(et=toIndexedObject$1(et),rt=toPropertyKey$1(rt),ie8DomDefine$1)try{return $getOwnPropertyDescriptor$1(et,rt)}catch{}if(hasOwnProperty_1$1(et,rt))return createPropertyDescriptor$1(!functionCall$1(objectPropertyIsEnumerable$1.f,et,rt),et[rt])},objectGetOwnPropertyDescriptor$1={f:f$4$1},replacement$1=/#|\.prototype\./,isForced$1=function(tt,et){var rt=data$2[normalize$1(tt)];return rt==POLYFILL$1?!0:rt==NATIVE$1?!1:isCallable$1(et)?fails$1(et):!!et},normalize$1=isForced$1.normalize=function(tt){return String(tt).replace(replacement$1,".").toLowerCase()},data$2=isForced$1.data={},NATIVE$1=isForced$1.NATIVE="N",POLYFILL$1=isForced$1.POLYFILL="P",isForced_1$1=isForced$1,bind$1$2=functionUncurryThis$1(functionUncurryThis$1.bind),functionBindContext$1=function(tt,et){return aCallable$1(tt),et===void 0?tt:bind$1$2?bind$1$2(tt,et):function(){return tt.apply(et,arguments)}},String$4$1=global_1$1.String,TypeError$9$1=global_1$1.TypeError,anObject$1=function(tt){if(isObject$1$1(tt))return tt;throw TypeError$9$1(String$4$1(tt)+" is not an object")},TypeError$8$1=global_1$1.TypeError,$defineProperty$1=Object.defineProperty,f$3$1=descriptors$2?$defineProperty$1:function tt(et,rt,nt){if(anObject$1(et),rt=toPropertyKey$1(rt),anObject$1(nt),ie8DomDefine$1)try{return $defineProperty$1(et,rt,nt)}catch{}if("get"in nt||"set"in nt)throw TypeError$8$1("Accessors not supported");return"value"in nt&&(et[rt]=nt.value),et},objectDefineProperty$1={f:f$3$1},createNonEnumerableProperty$1=descriptors$2?function(tt,et,rt){return objectDefineProperty$1.f(tt,et,createPropertyDescriptor$1(1,rt))}:function(tt,et,rt){return tt[et]=rt,tt},getOwnPropertyDescriptor$1$1=objectGetOwnPropertyDescriptor$1.f,wrapConstructor$1=function(tt){var et=function(rt,nt,it){if(this instanceof et){switch(arguments.length){case 0:return new tt;case 1:return new tt(rt);case 2:return new tt(rt,nt)}return new tt(rt,nt,it)}return functionApply$1(tt,this,arguments)};return et.prototype=tt.prototype,et},_export$1=function(tt,et){var rt=tt.target,nt=tt.global,it=tt.stat,ot=tt.proto,at=nt?global_1$1:it?global_1$1[rt]:(global_1$1[rt]||{}).prototype,st=nt?path$2:path$2[rt]||createNonEnumerableProperty$1(path$2,rt,{})[rt],lt=st.prototype,ct,ut,dt,ft,pt,mt,ht,gt,vt;for(ft in et)ct=isForced_1$1(nt?ft:rt+(it?".":"#")+ft,tt.forced),ut=!ct&&at&&hasOwnProperty_1$1(at,ft),mt=st[ft],ut&&(tt.noTargetGet?(vt=getOwnPropertyDescriptor$1$1(at,ft),ht=vt&&vt.value):ht=at[ft]),pt=ut&&ht?ht:et[ft],!(ut&&typeof mt==typeof pt)&&(tt.bind&&ut?gt=functionBindContext$1(pt,global_1$1):tt.wrap&&ut?gt=wrapConstructor$1(pt):ot&&isCallable$1(pt)?gt=functionUncurryThis$1(pt):gt=pt,(tt.sham||pt&&pt.sham||mt&&mt.sham)&&createNonEnumerableProperty$1(gt,"sham",!0),createNonEnumerableProperty$1(st,ft,gt),ot&&(dt=rt+"Prototype",hasOwnProperty_1$1(path$2,dt)||createNonEnumerableProperty$1(path$2,dt,{}),createNonEnumerableProperty$1(path$2[dt],ft,pt),tt.real&&lt&&!lt[ft]&&createNonEnumerableProperty$1(lt,ft,pt)))},keys$1=shared$1("keys"),sharedKey$1=function(tt){return keys$1[tt]||(keys$1[tt]=uid$1(tt))},correctPrototypeGetter$1=!fails$1(function(){function tt(){}return tt.prototype.constructor=null,Object.getPrototypeOf(new tt)!==tt.prototype}),IE_PROTO$1$1=sharedKey$1("IE_PROTO"),Object$2$1=global_1$1.Object,ObjectPrototype$1=Object$2$1.prototype,objectGetPrototypeOf$1=correctPrototypeGetter$1?Object$2$1.getPrototypeOf:function(tt){var et=toObject$1(tt);if(hasOwnProperty_1$1(et,IE_PROTO$1$1))return et[IE_PROTO$1$1];var rt=et.constructor;return isCallable$1(rt)&&et instanceof rt?rt.prototype:et instanceof Object$2$1?ObjectPrototype$1:null},String$3$1=global_1$1.String,TypeError$7$1=global_1$1.TypeError,aPossiblePrototype$1=function(tt){if(typeof tt=="object"||isCallable$1(tt))return tt;throw TypeError$7$1("Can't set "+String$3$1(tt)+" as a prototype")},objectSetPrototypeOf$1=Object.setPrototypeOf||("__proto__"in{}?function(){var tt=!1,et={},rt;try{rt=functionUncurryThis$1(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),rt(et,[]),tt=et instanceof Array}catch{}return function(it,ot){return anObject$1(it),aPossiblePrototype$1(ot),tt?rt(it,ot):it.__proto__=ot,it}}():void 0),ceil$1=Math.ceil,floor$1=Math.floor,toIntegerOrInfinity$1=function(tt){var et=+tt;return et!==et||et===0?0:(et>0?floor$1:ceil$1)(et)},max$1=Math.max,min$1$1=Math.min,toAbsoluteIndex$1=function(tt,et){var rt=toIntegerOrInfinity$1(tt);return rt<0?max$1(rt+et,0):min$1$1(rt,et)},min$2=Math.min,toLength$1=function(tt){return tt>0?min$2(toIntegerOrInfinity$1(tt),9007199254740991):0},lengthOfArrayLike$1=function(tt){return toLength$1(tt.length)},createMethod$1$1=function(tt){return function(et,rt,nt){var it=toIndexedObject$1(et),ot=lengthOfArrayLike$1(it),at=toAbsoluteIndex$1(nt,ot),st;if(tt&&rt!=rt){for(;ot>at;)if(st=it[at++],st!=st)return!0}else for(;ot>at;at++)if((tt||at in it)&&it[at]===rt)return tt||at||0;return!tt&&-1}},arrayIncludes$1$1={includes:createMethod$1$1(!0),indexOf:createMethod$1$1(!1)},hiddenKeys$1$1={},indexOf$1=arrayIncludes$1$1.indexOf,push$1$1=functionUncurryThis$1([].push),objectKeysInternal$1=function(tt,et){var rt=toIndexedObject$1(tt),nt=0,it=[],ot;for(ot in rt)!hasOwnProperty_1$1(hiddenKeys$1$1,ot)&&hasOwnProperty_1$1(rt,ot)&&push$1$1(it,ot);for(;et.length>nt;)hasOwnProperty_1$1(rt,ot=et[nt++])&&(~indexOf$1(it,ot)||push$1$1(it,ot));return it},enumBugKeys$1=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hiddenKeys$2=enumBugKeys$1.concat("length","prototype"),f$2$1=Object.getOwnPropertyNames||function tt(et){return objectKeysInternal$1(et,hiddenKeys$2)},objectGetOwnPropertyNames$1={f:f$2$1},f$1$1=Object.getOwnPropertySymbols,objectGetOwnPropertySymbols$1={f:f$1$1},concat$1=functionUncurryThis$1([].concat),ownKeys$1=getBuiltIn$1("Reflect","ownKeys")||function tt(et){var rt=objectGetOwnPropertyNames$1.f(anObject$1(et)),nt=objectGetOwnPropertySymbols$1.f;return nt?concat$1(rt,nt(et)):rt},copyConstructorProperties$1=function(tt,et,rt){for(var nt=ownKeys$1(et),it=objectDefineProperty$1.f,ot=objectGetOwnPropertyDescriptor$1.f,at=0;at<nt.length;at++){var st=nt[at];!hasOwnProperty_1$1(tt,st)&&!(rt&&hasOwnProperty_1$1(rt,st))&&it(tt,st,ot(et,st))}},objectKeys$1=Object.keys||function tt(et){return objectKeysInternal$1(et,enumBugKeys$1)},objectDefineProperties$1=descriptors$2?Object.defineProperties:function tt(et,rt){anObject$1(et);for(var nt=toIndexedObject$1(rt),it=objectKeys$1(rt),ot=it.length,at=0,st;ot>at;)objectDefineProperty$1.f(et,st=it[at++],nt[st]);return et},html$1=getBuiltIn$1("document","documentElement"),GT$1=">",LT$1="<",PROTOTYPE$1="prototype",SCRIPT$1="script",IE_PROTO$2=sharedKey$1("IE_PROTO"),EmptyConstructor$1=function(){},scriptTag$1=function(tt){return LT$1+SCRIPT$1+GT$1+tt+LT$1+"/"+SCRIPT$1+GT$1},NullProtoObjectViaActiveX$1=function(tt){tt.write(scriptTag$1("")),tt.close();var et=tt.parentWindow.Object;return tt=null,et},NullProtoObjectViaIFrame$1=function(){var tt=documentCreateElement$1("iframe"),et="java"+SCRIPT$1+":",rt;return tt.style.display="none",html$1.appendChild(tt),tt.src=String(et),rt=tt.contentWindow.document,rt.open(),rt.write(scriptTag$1("document.F=Object")),rt.close(),rt.F},activeXDocument$1,NullProtoObject$1=function(){try{activeXDocument$1=new ActiveXObject("htmlfile")}catch{}NullProtoObject$1=typeof document<"u"?document.domain&&activeXDocument$1?NullProtoObjectViaActiveX$1(activeXDocument$1):NullProtoObjectViaIFrame$1():NullProtoObjectViaActiveX$1(activeXDocument$1);for(var tt=enumBugKeys$1.length;tt--;)delete NullProtoObject$1[PROTOTYPE$1][enumBugKeys$1[tt]];return NullProtoObject$1()};hiddenKeys$1$1[IE_PROTO$2]=!0;var objectCreate$1=Object.create||function tt(et,rt){var nt;return et!==null?(EmptyConstructor$1[PROTOTYPE$1]=anObject$1(et),nt=new EmptyConstructor$1,EmptyConstructor$1[PROTOTYPE$1]=null,nt[IE_PROTO$2]=et):nt=NullProtoObject$1(),rt===void 0?nt:objectDefineProperties$1(nt,rt)},replace$1=functionUncurryThis$1("".replace),TEST$1=function(tt){return String(Error(tt).stack)}("zxcasd"),V8_OR_CHAKRA_STACK_ENTRY$1=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK$1=V8_OR_CHAKRA_STACK_ENTRY$1.test(TEST$1),clearErrorStack$1=function(tt,et){if(IS_V8_OR_CHAKRA_STACK$1&&typeof tt=="string")for(;et--;)tt=replace$1(tt,V8_OR_CHAKRA_STACK_ENTRY$1,"");return tt},installErrorCause$1=function(tt,et){isObject$1$1(et)&&"cause"in et&&createNonEnumerableProperty$1(tt,"cause",et.cause)},iterators$1={},ITERATOR$4$1=wellKnownSymbol$1("iterator"),ArrayPrototype$1=Array.prototype,isArrayIteratorMethod$1=function(tt){return tt!==void 0&&(iterators$1.Array===tt||ArrayPrototype$1[ITERATOR$4$1]===tt)},TO_STRING_TAG$4$1=wellKnownSymbol$1("toStringTag"),test$1={};test$1[TO_STRING_TAG$4$1]="z";var toStringTagSupport$1=String(test$1)==="[object z]",TO_STRING_TAG$3$1=wellKnownSymbol$1("toStringTag"),Object$1$1=global_1$1.Object,CORRECT_ARGUMENTS$1=classofRaw$1(function(){return arguments}())=="Arguments",tryGet$1=function(tt,et){try{return tt[et]}catch{}},classof$1=toStringTagSupport$1?classofRaw$1:function(tt){var et,rt,nt;return tt===void 0?"Undefined":tt===null?"Null":typeof(rt=tryGet$1(et=Object$1$1(tt),TO_STRING_TAG$3$1))=="string"?rt:CORRECT_ARGUMENTS$1?classofRaw$1(et):(nt=classofRaw$1(et))=="Object"&&isCallable$1(et.callee)?"Arguments":nt},ITERATOR$3$1=wellKnownSymbol$1("iterator"),getIteratorMethod$1=function(tt){if(tt!=null)return getMethod$1(tt,ITERATOR$3$1)||getMethod$1(tt,"@@iterator")||iterators$1[classof$1(tt)]},TypeError$6$1=global_1$1.TypeError,getIterator$1=function(tt,et){var rt=arguments.length<2?getIteratorMethod$1(tt):et;if(aCallable$1(rt))return anObject$1(functionCall$1(rt,tt));throw TypeError$6$1(tryToString$1(tt)+" is not iterable")},iteratorClose$1=function(tt,et,rt){var nt,it;anObject$1(tt);try{if(nt=getMethod$1(tt,"return"),!nt){if(et==="throw")throw rt;return rt}nt=functionCall$1(nt,tt)}catch(ot){it=!0,nt=ot}if(et==="throw")throw rt;if(it)throw nt;return anObject$1(nt),rt},TypeError$5$1=global_1$1.TypeError,Result$1=function(tt,et){this.stopped=tt,this.result=et},ResultPrototype$1=Result$1.prototype,iterate$1=function(tt,et,rt){var nt=rt&&rt.that,it=!!(rt&&rt.AS_ENTRIES),ot=!!(rt&&rt.IS_ITERATOR),at=!!(rt&&rt.INTERRUPTED),st=functionBindContext$1(et,nt),lt,ct,ut,dt,ft,pt,mt,ht=function(vt){return lt&&iteratorClose$1(lt,"normal",vt),new Result$1(!0,vt)},gt=function(vt){return it?(anObject$1(vt),at?st(vt[0],vt[1],ht):st(vt[0],vt[1])):at?st(vt,ht):st(vt)};if(ot)lt=tt;else{if(ct=getIteratorMethod$1(tt),!ct)throw TypeError$5$1(tryToString$1(tt)+" is not iterable");if(isArrayIteratorMethod$1(ct)){for(ut=0,dt=lengthOfArrayLike$1(tt);dt>ut;ut++)if(ft=gt(tt[ut]),ft&&objectIsPrototypeOf$1(ResultPrototype$1,ft))return ft;return new Result$1(!1)}lt=getIterator$1(tt,ct)}for(pt=lt.next;!(mt=functionCall$1(pt,lt)).done;){try{ft=gt(mt.value)}catch(vt){iteratorClose$1(lt,"throw",vt)}if(typeof ft=="object"&&ft&&objectIsPrototypeOf$1(ResultPrototype$1,ft))return ft}return new Result$1(!1)},String$2$1=global_1$1.String,toString_1$1=function(tt){if(classof$1(tt)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String$2$1(tt)},normalizeStringArgument$1=function(tt,et){return tt===void 0?arguments.length<2?"":et:toString_1$1(tt)},errorStackInstallable$1=!fails$1(function(){var tt=Error("a");return"stack"in tt?(Object.defineProperty(tt,"stack",createPropertyDescriptor$1(1,7)),tt.stack!==7):!0}),TO_STRING_TAG$2$1=wellKnownSymbol$1("toStringTag"),Error$1$2=global_1$1.Error,push$2=[].push,$AggregateError$1=function tt(et,rt){var nt=arguments.length>2?arguments[2]:void 0,it=objectIsPrototypeOf$1(AggregateErrorPrototype$1,this),ot;objectSetPrototypeOf$1?ot=objectSetPrototypeOf$1(new Error$1$2,it?objectGetPrototypeOf$1(this):AggregateErrorPrototype$1):(ot=it?this:objectCreate$1(AggregateErrorPrototype$1),createNonEnumerableProperty$1(ot,TO_STRING_TAG$2$1,"Error")),rt!==void 0&&createNonEnumerableProperty$1(ot,"message",normalizeStringArgument$1(rt)),errorStackInstallable$1&&createNonEnumerableProperty$1(ot,"stack",clearErrorStack$1(ot.stack,1)),installErrorCause$1(ot,nt);var at=[];return iterate$1(et,push$2,{that:at}),createNonEnumerableProperty$1(ot,"errors",at),ot};objectSetPrototypeOf$1?objectSetPrototypeOf$1($AggregateError$1,Error$1$2):copyConstructorProperties$1($AggregateError$1,Error$1$2,{name:!0});var AggregateErrorPrototype$1=$AggregateError$1.prototype=objectCreate$1(Error$1$2.prototype,{constructor:createPropertyDescriptor$1(1,$AggregateError$1),message:createPropertyDescriptor$1(1,""),name:createPropertyDescriptor$1(1,"AggregateError")});_export$1({global:!0},{AggregateError:$AggregateError$1});var functionToString$1=functionUncurryThis$1(Function.toString);isCallable$1(sharedStore$1.inspectSource)||(sharedStore$1.inspectSource=function(tt){return functionToString$1(tt)});var inspectSource$1=sharedStore$1.inspectSource,WeakMap$1$1=global_1$1.WeakMap,nativeWeakMap$1=isCallable$1(WeakMap$1$1)&&/native code/.test(inspectSource$1(WeakMap$1$1)),OBJECT_ALREADY_INITIALIZED$1="Object already initialized",TypeError$4$1=global_1$1.TypeError,WeakMap$3=global_1$1.WeakMap,set$1$1,get$1$1,has$1,enforce$1=function(tt){return has$1(tt)?get$1$1(tt):set$1$1(tt,{})},getterFor$1=function(tt){return function(et){var rt;if(!isObject$1$1(et)||(rt=get$1$1(et)).type!==tt)throw TypeError$4$1("Incompatible receiver, "+tt+" required");return rt}};if(nativeWeakMap$1||sharedStore$1.state){var store$2=sharedStore$1.state||(sharedStore$1.state=new WeakMap$3),wmget$1=functionUncurryThis$1(store$2.get),wmhas$1=functionUncurryThis$1(store$2.has),wmset$1=functionUncurryThis$1(store$2.set);set$1$1=function(tt,et){if(wmhas$1(store$2,tt))throw new TypeError$4$1(OBJECT_ALREADY_INITIALIZED$1);return et.facade=tt,wmset$1(store$2,tt,et),et},get$1$1=function(tt){return wmget$1(store$2,tt)||{}},has$1=function(tt){return wmhas$1(store$2,tt)}}else{var STATE$1=sharedKey$1("state");hiddenKeys$1$1[STATE$1]=!0,set$1$1=function(tt,et){if(hasOwnProperty_1$1(tt,STATE$1))throw new TypeError$4$1(OBJECT_ALREADY_INITIALIZED$1);return et.facade=tt,createNonEnumerableProperty$1(tt,STATE$1,et),et},get$1$1=function(tt){return hasOwnProperty_1$1(tt,STATE$1)?tt[STATE$1]:{}},has$1=function(tt){return hasOwnProperty_1$1(tt,STATE$1)}}var internalState$1={set:set$1$1,get:get$1$1,has:has$1,enforce:enforce$1,getterFor:getterFor$1},FunctionPrototype$3=Function.prototype,getDescriptor$1=descriptors$2&&Object.getOwnPropertyDescriptor,EXISTS$2=hasOwnProperty_1$1(FunctionPrototype$3,"name"),PROPER$1=EXISTS$2&&function tt(){}.name==="something",CONFIGURABLE$1=EXISTS$2&&(!descriptors$2||descriptors$2&&getDescriptor$1(FunctionPrototype$3,"name").configurable),functionName$1={EXISTS:EXISTS$2,PROPER:PROPER$1,CONFIGURABLE:CONFIGURABLE$1},redefine$1=function(tt,et,rt,nt){nt&&nt.enumerable?tt[et]=rt:createNonEnumerableProperty$1(tt,et,rt)},ITERATOR$2$1=wellKnownSymbol$1("iterator"),BUGGY_SAFARI_ITERATORS$1$1=!1,IteratorPrototype$1$1,PrototypeOfArrayIteratorPrototype$1,arrayIterator$1;[].keys&&(arrayIterator$1=[].keys(),"next"in arrayIterator$1?(PrototypeOfArrayIteratorPrototype$1=objectGetPrototypeOf$1(objectGetPrototypeOf$1(arrayIterator$1)),PrototypeOfArrayIteratorPrototype$1!==Object.prototype&&(IteratorPrototype$1$1=PrototypeOfArrayIteratorPrototype$1)):BUGGY_SAFARI_ITERATORS$1$1=!0);var NEW_ITERATOR_PROTOTYPE$1=IteratorPrototype$1$1==null||fails$1(function(){var tt={};return IteratorPrototype$1$1[ITERATOR$2$1].call(tt)!==tt});NEW_ITERATOR_PROTOTYPE$1?IteratorPrototype$1$1={}:IteratorPrototype$1$1=objectCreate$1(IteratorPrototype$1$1);isCallable$1(IteratorPrototype$1$1[ITERATOR$2$1])||redefine$1(IteratorPrototype$1$1,ITERATOR$2$1,function(){return this});var iteratorsCore$1={IteratorPrototype:IteratorPrototype$1$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1$1},objectToString$1=toStringTagSupport$1?{}.toString:function tt(){return"[object "+classof$1(this)+"]"},defineProperty$2=objectDefineProperty$1.f,TO_STRING_TAG$1$1=wellKnownSymbol$1("toStringTag"),setToStringTag$1=function(tt,et,rt,nt){if(tt){var it=rt?tt:tt.prototype;hasOwnProperty_1$1(it,TO_STRING_TAG$1$1)||defineProperty$2(it,TO_STRING_TAG$1$1,{configurable:!0,value:et}),nt&&!toStringTagSupport$1&&createNonEnumerableProperty$1(it,"toString",objectToString$1)}},IteratorPrototype$2=iteratorsCore$1.IteratorPrototype,returnThis$1$1=function(){return this},createIteratorConstructor$1=function(tt,et,rt,nt){var it=et+" Iterator";return tt.prototype=objectCreate$1(IteratorPrototype$2,{next:createPropertyDescriptor$1(+!nt,rt)}),setToStringTag$1(tt,it,!1,!0),iterators$1[it]=returnThis$1$1,tt},PROPER_FUNCTION_NAME$1=functionName$1.PROPER,BUGGY_SAFARI_ITERATORS$2=iteratorsCore$1.BUGGY_SAFARI_ITERATORS,ITERATOR$1$1=wellKnownSymbol$1("iterator"),KEYS$1="keys",VALUES$1="values",ENTRIES$1="entries",returnThis$2=function(){return this},defineIterator$1=function(tt,et,rt,nt,it,ot,at){createIteratorConstructor$1(rt,et,nt);var st=function(vt){if(vt===it&&ft)return ft;if(!BUGGY_SAFARI_ITERATORS$2&&vt in ut)return ut[vt];switch(vt){case KEYS$1:return function(){return new rt(this,vt)};case VALUES$1:return function(){return new rt(this,vt)};case ENTRIES$1:return function(){return new rt(this,vt)}}return function(){return new rt(this)}},lt=et+" Iterator",ct=!1,ut=tt.prototype,dt=ut[ITERATOR$1$1]||ut["@@iterator"]||it&&ut[it],ft=!BUGGY_SAFARI_ITERATORS$2&&dt||st(it),pt=et=="Array"&&ut.entries||dt,mt,ht,gt;if(pt&&(mt=objectGetPrototypeOf$1(pt.call(new tt)),mt!==Object.prototype&&mt.next&&(setToStringTag$1(mt,lt,!0,!0),iterators$1[lt]=returnThis$2)),PROPER_FUNCTION_NAME$1&&it==VALUES$1&&dt&&dt.name!==VALUES$1&&(ct=!0,ft=function(){return functionCall$1(dt,this)}),it)if(ht={values:st(VALUES$1),keys:ot?ft:st(KEYS$1),entries:st(ENTRIES$1)},at)for(gt in ht)(BUGGY_SAFARI_ITERATORS$2||ct||!(gt in ut))&&redefine$1(ut,gt,ht[gt]);else _export$1({target:et,proto:!0,forced:BUGGY_SAFARI_ITERATORS$2||ct},ht);return at&&ut[ITERATOR$1$1]!==ft&&redefine$1(ut,ITERATOR$1$1,ft,{name:it}),iterators$1[et]=ft,ht};objectDefineProperty$1.f;var ARRAY_ITERATOR$1="Array Iterator",setInternalState$2$1=internalState$1.set,getInternalState$2$1=internalState$1.getterFor(ARRAY_ITERATOR$1);defineIterator$1(Array,"Array",function(tt,et){setInternalState$2$1(this,{type:ARRAY_ITERATOR$1,target:toIndexedObject$1(tt),index:0,kind:et})},function(){var tt=getInternalState$2$1(this),et=tt.target,rt=tt.kind,nt=tt.index++;return!et||nt>=et.length?(tt.target=void 0,{value:void 0,done:!0}):rt=="keys"?{value:nt,done:!1}:rt=="values"?{value:et[nt],done:!1}:{value:[nt,et[nt]],done:!1}},"values");iterators$1.Arguments=iterators$1.Array;var nativePromiseConstructor$1=global_1$1.Promise,redefineAll$1=function(tt,et,rt){for(var nt in et)rt&&rt.unsafe&&tt[nt]?tt[nt]=et[nt]:redefine$1(tt,nt,et[nt],rt);return tt},SPECIES$2$1=wellKnownSymbol$1("species"),setSpecies$1=function(tt){var et=getBuiltIn$1(tt),rt=objectDefineProperty$1.f;descriptors$2&&et&&!et[SPECIES$2$1]&&rt(et,SPECIES$2$1,{configurable:!0,get:function(){return this}})},TypeError$3$1=global_1$1.TypeError,anInstance$1=function(tt,et){if(objectIsPrototypeOf$1(et,tt))return tt;throw TypeError$3$1("Incorrect invocation")},ITERATOR$5=wellKnownSymbol$1("iterator"),SAFE_CLOSING$1=!1;try{var called$1=0,iteratorWithReturn$1={next:function(){return{done:!!called$1++}},return:function(){SAFE_CLOSING$1=!0}};iteratorWithReturn$1[ITERATOR$5]=function(){return this},Array.from(iteratorWithReturn$1,function(){throw 2})}catch(tt){}var checkCorrectnessOfIteration$1=function(tt,et){if(!et&&!SAFE_CLOSING$1)return!1;var rt=!1;try{var nt={};nt[ITERATOR$5]=function(){return{next:function(){return{done:rt=!0}}}},tt(nt)}catch{}return rt},noop$1$1=function(){},empty$1=[],construct$1=getBuiltIn$1("Reflect","construct"),constructorRegExp$1=/^\s*(?:class|function)\b/,exec$1=functionUncurryThis$1(constructorRegExp$1.exec),INCORRECT_TO_STRING$1=!constructorRegExp$1.exec(noop$1$1),isConstructorModern$1=function tt(et){if(!isCallable$1(et))return!1;try{return construct$1(noop$1$1,empty$1,et),!0}catch{return!1}},isConstructorLegacy$1=function tt(et){if(!isCallable$1(et))return!1;switch(classof$1(et)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING$1||!!exec$1(constructorRegExp$1,inspectSource$1(et))}catch{return!0}};isConstructorLegacy$1.sham=!0;var isConstructor$1=!construct$1||fails$1(function(){var tt;return isConstructorModern$1(isConstructorModern$1.call)||!isConstructorModern$1(Object)||!isConstructorModern$1(function(){tt=!0})||tt})?isConstructorLegacy$1:isConstructorModern$1,TypeError$2$1=global_1$1.TypeError,aConstructor$1=function(tt){if(isConstructor$1(tt))return tt;throw TypeError$2$1(tryToString$1(tt)+" is not a constructor")},SPECIES$1$1=wellKnownSymbol$1("species"),speciesConstructor$1=function(tt,et){var rt=anObject$1(tt).constructor,nt;return rt===void 0||(nt=anObject$1(rt)[SPECIES$1$1])==null?et:aConstructor$1(nt)},arraySlice$1=functionUncurryThis$1([].slice),engineIsIos$1=/(?:ipad|iphone|ipod).*applewebkit/i.test(engineUserAgent$1),engineIsNode$1=classofRaw$1(global_1$1.process)=="process",set$2=global_1$1.setImmediate,clear$1=global_1$1.clearImmediate,process$2$1=global_1$1.process,Dispatch$1=global_1$1.Dispatch,Function$1$1=global_1$1.Function,MessageChannel$2=global_1$1.MessageChannel,String$1$1=global_1$1.String,counter$1=0,queue$1$1={},ONREADYSTATECHANGE$1="onreadystatechange",location$2,defer$1,channel$1,port$1;try{location$2=global_1$1.location}catch(tt){}var run$1=function(tt){if(hasOwnProperty_1$1(queue$1$1,tt)){var et=queue$1$1[tt];delete queue$1$1[tt],et()}},runner$1=function(tt){return function(){run$1(tt)}},listener$1=function(tt){run$1(tt.data)},post$1$1=function(tt){global_1$1.postMessage(String$1$1(tt),location$2.protocol+"//"+location$2.host)};(!set$2||!clear$1)&&(set$2=function(et){var rt=arraySlice$1(arguments,1);return queue$1$1[++counter$1]=function(){functionApply$1(isCallable$1(et)?et:Function$1$1(et),void 0,rt)},defer$1(counter$1),counter$1},clear$1=function(et){delete queue$1$1[et]},engineIsNode$1?defer$1=function(tt){process$2$1.nextTick(runner$1(tt))}:Dispatch$1&&Dispatch$1.now?defer$1=function(tt){Dispatch$1.now(runner$1(tt))}:MessageChannel$2&&!engineIsIos$1?(channel$1=new MessageChannel$2,port$1=channel$1.port2,channel$1.port1.onmessage=listener$1,defer$1=functionBindContext$1(port$1.postMessage,port$1)):global_1$1.addEventListener&&isCallable$1(global_1$1.postMessage)&&!global_1$1.importScripts&&location$2&&location$2.protocol!=="file:"&&!fails$1(post$1$1)?(defer$1=post$1$1,global_1$1.addEventListener("message",listener$1,!1)):ONREADYSTATECHANGE$1 in documentCreateElement$1("script")?defer$1=function(tt){html$1.appendChild(documentCreateElement$1("script"))[ONREADYSTATECHANGE$1]=function(){html$1.removeChild(this),run$1(tt)}}:defer$1=function(tt){setTimeout(runner$1(tt),0)});var task$1$1={set:set$2,clear:clear$1},engineIsIosPebble$1=/ipad|iphone|ipod/i.test(engineUserAgent$1)&&global_1$1.Pebble!==void 0,engineIsWebosWebkit$1=/web0s(?!.*chrome)/i.test(engineUserAgent$1),getOwnPropertyDescriptor$3=objectGetOwnPropertyDescriptor$1.f,macrotask$1=task$1$1.set,MutationObserver$2=global_1$1.MutationObserver||global_1$1.WebKitMutationObserver,document$2$1=global_1$1.document,process$1$1=global_1$1.process,Promise$1$1=global_1$1.Promise,queueMicrotaskDescriptor$1=getOwnPropertyDescriptor$3(global_1$1,"queueMicrotask"),queueMicrotask$2=queueMicrotaskDescriptor$1&&queueMicrotaskDescriptor$1.value,flush$1,head$1,last$1,notify$1$1,toggle$1,node$1,promise$3$1,then$1;queueMicrotask$2||(flush$1=function(){var tt,et;for(engineIsNode$1&&(tt=process$1$1.domain)&&tt.exit();head$1;){et=head$1.fn,head$1=head$1.next;try{et()}catch(rt){throw head$1?notify$1$1():last$1=void 0,rt}}last$1=void 0,tt&&tt.enter()},!engineIsIos$1&&!engineIsNode$1&&!engineIsWebosWebkit$1&&MutationObserver$2&&document$2$1?(toggle$1=!0,node$1=document$2$1.createTextNode(""),new MutationObserver$2(flush$1).observe(node$1,{characterData:!0}),notify$1$1=function(){node$1.data=toggle$1=!toggle$1}):!engineIsIosPebble$1&&Promise$1$1&&Promise$1$1.resolve?(promise$3$1=Promise$1$1.resolve(void 0),promise$3$1.constructor=Promise$1$1,then$1=functionBindContext$1(promise$3$1.then,promise$3$1),notify$1$1=function(){then$1(flush$1)}):engineIsNode$1?notify$1$1=function(){process$1$1.nextTick(flush$1)}:(macrotask$1=functionBindContext$1(macrotask$1,global_1$1),notify$1$1=function(){macrotask$1(flush$1)}));var microtask$1=queueMicrotask$2||function(tt){var et={fn:tt,next:void 0};last$1&&(last$1.next=et),head$1||(head$1=et,notify$1$1()),last$1=et},PromiseCapability$1=function(tt){var et,rt;this.promise=new tt(function(nt,it){if(et!==void 0||rt!==void 0)throw TypeError("Bad Promise constructor");et=nt,rt=it}),this.resolve=aCallable$1(et),this.reject=aCallable$1(rt)},f$7=function(tt){return new PromiseCapability$1(tt)},newPromiseCapability$1$1={f:f$7},promiseResolve$1=function(tt,et){if(anObject$1(tt),isObject$1$1(et)&&et.constructor===tt)return et;var rt=newPromiseCapability$1$1.f(tt),nt=rt.resolve;return nt(et),rt.promise},hostReportErrors$1=function(tt,et){var rt=global_1$1.console;rt&&rt.error&&(arguments.length==1?rt.error(tt):rt.error(tt,et))},perform$1=function(tt){try{return{error:!1,value:tt()}}catch(et){return{error:!0,value:et}}},Queue$1=function(){this.head=null,this.tail=null};Queue$1.prototype={add:function(tt){var et={item:tt,next:null};this.head?this.tail.next=et:this.head=et,this.tail=et},get:function(){var tt=this.head;if(tt)return this.head=tt.next,this.tail===tt&&(this.tail=null),tt.item}};var queue$2=Queue$1,engineIsBrowser$1=typeof window=="object",task$2=task$1$1.set,SPECIES$3=wellKnownSymbol$1("species"),PROMISE$1="Promise",getInternalState$1$1=internalState$1.getterFor(PROMISE$1),setInternalState$1$1=internalState$1.set,getInternalPromiseState$1=internalState$1.getterFor(PROMISE$1),NativePromisePrototype$1=nativePromiseConstructor$1&&nativePromiseConstructor$1.prototype,PromiseConstructor$1=nativePromiseConstructor$1,PromisePrototype$1=NativePromisePrototype$1,TypeError$1$1=global_1$1.TypeError,document$1$1=global_1$1.document,process$5=global_1$1.process,newPromiseCapability$2=newPromiseCapability$1$1.f,newGenericPromiseCapability$1=newPromiseCapability$2,DISPATCH_EVENT$1=!!(document$1$1&&document$1$1.createEvent&&global_1$1.dispatchEvent),NATIVE_REJECTION_EVENT$1=isCallable$1(global_1$1.PromiseRejectionEvent),UNHANDLED_REJECTION$1="unhandledrejection",REJECTION_HANDLED$1="rejectionhandled",PENDING$1=0,FULFILLED$1=1,REJECTED$1=2,HANDLED$1=1,UNHANDLED$1=2,SUBCLASSING$1=!1,Internal$1,OwnPromiseCapability$1,PromiseWrapper$1,FORCED$1=isForced_1$1(PROMISE$1,function(){var tt=inspectSource$1(PromiseConstructor$1),et=tt!==String(PromiseConstructor$1);if(!et&&engineV8Version$1===66||!PromisePrototype$1.finally)return!0;if(engineV8Version$1>=51&&/native code/.test(tt))return!1;var rt=new PromiseConstructor$1(function(ot){ot(1)}),nt=function(ot){ot(function(){},function(){})},it=rt.constructor={};return it[SPECIES$3]=nt,SUBCLASSING$1=rt.then(function(){})instanceof nt,SUBCLASSING$1?!et&&engineIsBrowser$1&&!NATIVE_REJECTION_EVENT$1:!0}),INCORRECT_ITERATION$1=FORCED$1||!checkCorrectnessOfIteration$1(function(tt){PromiseConstructor$1.all(tt).catch(function(){})}),isThenable$1=function(tt){var et;return isObject$1$1(tt)&&isCallable$1(et=tt.then)?et:!1},callReaction$1=function(tt,et){var rt=et.value,nt=et.state==FULFILLED$1,it=nt?tt.ok:tt.fail,ot=tt.resolve,at=tt.reject,st=tt.domain,lt,ct,ut;try{it?(nt||(et.rejection===UNHANDLED$1&&onHandleUnhandled$1(et),et.rejection=HANDLED$1),it===!0?lt=rt:(st&&st.enter(),lt=it(rt),st&&(st.exit(),ut=!0)),lt===tt.promise?at(TypeError$1$1("Promise-chain cycle")):(ct=isThenable$1(lt))?functionCall$1(ct,lt,ot,at):ot(lt)):at(rt)}catch(dt){st&&!ut&&st.exit(),at(dt)}},notify$2=function(tt,et){tt.notified||(tt.notified=!0,microtask$1(function(){for(var rt=tt.reactions,nt;nt=rt.get();)callReaction$1(nt,tt);tt.notified=!1,et&&!tt.rejection&&onUnhandled$1(tt)}))},dispatchEvent$1=function(tt,et,rt){var nt,it;DISPATCH_EVENT$1?(nt=document$1$1.createEvent("Event"),nt.promise=et,nt.reason=rt,nt.initEvent(tt,!1,!0),global_1$1.dispatchEvent(nt)):nt={promise:et,reason:rt},!NATIVE_REJECTION_EVENT$1&&(it=global_1$1["on"+tt])?it(nt):tt===UNHANDLED_REJECTION$1&&hostReportErrors$1("Unhandled promise rejection",rt)},onUnhandled$1=function(tt){functionCall$1(task$2,global_1$1,function(){var et=tt.facade,rt=tt.value,nt=isUnhandled$1(tt),it;if(nt&&(it=perform$1(function(){engineIsNode$1?process$5.emit("unhandledRejection",rt,et):dispatchEvent$1(UNHANDLED_REJECTION$1,et,rt)}),tt.rejection=engineIsNode$1||isUnhandled$1(tt)?UNHANDLED$1:HANDLED$1,it.error))throw it.value})},isUnhandled$1=function(tt){return tt.rejection!==HANDLED$1&&!tt.parent},onHandleUnhandled$1=function(tt){functionCall$1(task$2,global_1$1,function(){var et=tt.facade;engineIsNode$1?process$5.emit("rejectionHandled",et):dispatchEvent$1(REJECTION_HANDLED$1,et,tt.value)})},bind$5=function(tt,et,rt){return function(nt){tt(et,nt,rt)}},internalReject$1=function(tt,et,rt){tt.done||(tt.done=!0,rt&&(tt=rt),tt.value=et,tt.state=REJECTED$1,notify$2(tt,!0))},internalResolve$1=function(tt,et,rt){if(!tt.done){tt.done=!0,rt&&(tt=rt);try{if(tt.facade===et)throw TypeError$1$1("Promise can't be resolved itself");var nt=isThenable$1(et);nt?microtask$1(function(){var it={done:!1};try{functionCall$1(nt,et,bind$5(internalResolve$1,it,tt),bind$5(internalReject$1,it,tt))}catch(ot){internalReject$1(it,ot,tt)}}):(tt.value=et,tt.state=FULFILLED$1,notify$2(tt,!1))}catch(it){internalReject$1({done:!1},it,tt)}}};FORCED$1&&(PromiseConstructor$1=function(et){anInstance$1(this,PromisePrototype$1),aCallable$1(et),functionCall$1(Internal$1,this);var rt=getInternalState$1$1(this);try{et(bind$5(internalResolve$1,rt),bind$5(internalReject$1,rt))}catch(nt){internalReject$1(rt,nt)}},PromisePrototype$1=PromiseConstructor$1.prototype,Internal$1=function(et){setInternalState$1$1(this,{type:PROMISE$1,done:!1,notified:!1,parent:!1,reactions:new queue$2,rejection:!1,state:PENDING$1,value:void 0})},Internal$1.prototype=redefineAll$1(PromisePrototype$1,{then:function(et,rt){var nt=getInternalPromiseState$1(this),it=newPromiseCapability$2(speciesConstructor$1(this,PromiseConstructor$1));return nt.parent=!0,it.ok=isCallable$1(et)?et:!0,it.fail=isCallable$1(rt)&&rt,it.domain=engineIsNode$1?process$5.domain:void 0,nt.state==PENDING$1?nt.reactions.add(it):microtask$1(function(){callReaction$1(it,nt)}),it.promise},catch:function(tt){return this.then(void 0,tt)}}),OwnPromiseCapability$1=function(){var tt=new Internal$1,et=getInternalState$1$1(tt);this.promise=tt,this.resolve=bind$5(internalResolve$1,et),this.reject=bind$5(internalReject$1,et)},newPromiseCapability$1$1.f=newPromiseCapability$2=function(tt){return tt===PromiseConstructor$1||tt===PromiseWrapper$1?new OwnPromiseCapability$1(tt):newGenericPromiseCapability$1(tt)});_export$1({global:!0,wrap:!0,forced:FORCED$1},{Promise:PromiseConstructor$1});setToStringTag$1(PromiseConstructor$1,PROMISE$1,!1,!0);setSpecies$1(PROMISE$1);PromiseWrapper$1=getBuiltIn$1(PROMISE$1);_export$1({target:PROMISE$1,stat:!0,forced:FORCED$1},{reject:function tt(et){var rt=newPromiseCapability$2(this);return functionCall$1(rt.reject,void 0,et),rt.promise}});_export$1({target:PROMISE$1,stat:!0,forced:isPure$1},{resolve:function tt(et){return promiseResolve$1(this===PromiseWrapper$1?PromiseConstructor$1:this,et)}});_export$1({target:PROMISE$1,stat:!0,forced:INCORRECT_ITERATION$1},{all:function tt(et){var rt=this,nt=newPromiseCapability$2(rt),it=nt.resolve,ot=nt.reject,at=perform$1(function(){var st=aCallable$1(rt.resolve),lt=[],ct=0,ut=1;iterate$1(et,function(dt){var ft=ct++,pt=!1;ut++,functionCall$1(st,rt,dt).then(function(mt){pt||(pt=!0,lt[ft]=mt,--ut||it(lt))},ot)}),--ut||it(lt)});return at.error&&ot(at.value),nt.promise},race:function tt(et){var rt=this,nt=newPromiseCapability$2(rt),it=nt.reject,ot=perform$1(function(){var at=aCallable$1(rt.resolve);iterate$1(et,function(st){functionCall$1(at,rt,st).then(nt.resolve,it)})});return ot.error&&it(ot.value),nt.promise}});_export$1({target:"Promise",stat:!0},{allSettled:function tt(et){var rt=this,nt=newPromiseCapability$1$1.f(rt),it=nt.resolve,ot=nt.reject,at=perform$1(function(){var st=aCallable$1(rt.resolve),lt=[],ct=0,ut=1;iterate$1(et,function(dt){var ft=ct++,pt=!1;ut++,functionCall$1(st,rt,dt).then(function(mt){pt||(pt=!0,lt[ft]={status:"fulfilled",value:mt},--ut||it(lt))},function(mt){pt||(pt=!0,lt[ft]={status:"rejected",reason:mt},--ut||it(lt))})}),--ut||it(lt)});return at.error&&ot(at.value),nt.promise}});var PROMISE_ANY_ERROR$1="No one promise resolved";_export$1({target:"Promise",stat:!0},{any:function tt(et){var rt=this,nt=getBuiltIn$1("AggregateError"),it=newPromiseCapability$1$1.f(rt),ot=it.resolve,at=it.reject,st=perform$1(function(){var lt=aCallable$1(rt.resolve),ct=[],ut=0,dt=1,ft=!1;iterate$1(et,function(pt){var mt=ut++,ht=!1;dt++,functionCall$1(lt,rt,pt).then(function(gt){ht||ft||(ft=!0,ot(gt))},function(gt){ht||ft||(ht=!0,ct[mt]=gt,--dt||at(new nt(ct,PROMISE_ANY_ERROR$1)))})}),--dt||at(new nt(ct,PROMISE_ANY_ERROR$1))});return st.error&&at(st.value),it.promise}});var NON_GENERIC$1=!!nativePromiseConstructor$1&&fails$1(function(){nativePromiseConstructor$1.prototype.finally.call({then:function(){}},function(){})});_export$1({target:"Promise",proto:!0,real:!0,forced:NON_GENERIC$1},{finally:function(tt){var et=speciesConstructor$1(this,getBuiltIn$1("Promise")),rt=isCallable$1(tt);return this.then(rt?function(nt){return promiseResolve$1(et,tt()).then(function(){return nt})}:tt,rt?function(nt){return promiseResolve$1(et,tt()).then(function(){throw nt})}:tt)}});var charAt$1$1=functionUncurryThis$1("".charAt),charCodeAt$1=functionUncurryThis$1("".charCodeAt),stringSlice$2=functionUncurryThis$1("".slice),createMethod$2=function(tt){return function(et,rt){var nt=toString_1$1(requireObjectCoercible$1(et)),it=toIntegerOrInfinity$1(rt),ot=nt.length,at,st;return it<0||it>=ot?tt?"":void 0:(at=charCodeAt$1(nt,it),at<55296||at>56319||it+1===ot||(st=charCodeAt$1(nt,it+1))<56320||st>57343?tt?charAt$1$1(nt,it):at:tt?stringSlice$2(nt,it,it+2):(at-55296<<10)+(st-56320)+65536)}},stringMultibyte$1={codeAt:createMethod$2(!1),charAt:createMethod$2(!0)},charAt$2=stringMultibyte$1.charAt,STRING_ITERATOR$1="String Iterator",setInternalState$3=internalState$1.set,getInternalState$3=internalState$1.getterFor(STRING_ITERATOR$1);defineIterator$1(String,"String",function(tt){setInternalState$3(this,{type:STRING_ITERATOR$1,string:toString_1$1(tt),index:0})},function tt(){var et=getInternalState$3(this),rt=et.string,nt=et.index,it;return nt>=rt.length?{value:void 0,done:!0}:(it=charAt$2(rt,nt),et.index+=it.length,{value:it,done:!1})});var promise$2$1=path$2.Promise,domIterables$1={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},TO_STRING_TAG$5=wellKnownSymbol$1("toStringTag");for(var COLLECTION_NAME$1 in domIterables$1){var Collection$1=global_1$1[COLLECTION_NAME$1],CollectionPrototype$1=Collection$1&&Collection$1.prototype;CollectionPrototype$1&&classof$1(CollectionPrototype$1)!==TO_STRING_TAG$5&&createNonEnumerableProperty$1(CollectionPrototype$1,TO_STRING_TAG$5,COLLECTION_NAME$1),iterators$1[COLLECTION_NAME$1]=iterators$1.Array}var promise$1$1=promise$2$1,promise$4=promise$1$1,DEFAULT_SIZE$1=10,DEFAULT_WAIT$1=1e3,stringifyBatch$1=function(tt){return JSON.stringify({ev_type:"batch",list:tt})};function createBatchSender$1(tt){var et=tt.transport,rt=tt.endpoint,nt=tt.size,it=nt===void 0?DEFAULT_SIZE$1:nt,ot=tt.wait,at=ot===void 0?DEFAULT_WAIT$1:ot,st=[],lt=0,ct={getSize:function(){return it},getWait:function(){return at},setSize:function(dt){it=dt},setWait:function(dt){at=dt},getEndpoint:function(){return rt},setEndpoint:function(dt){rt=dt},send:function(dt){st.push(dt),st.length>=it&&ut.call(this),clearTimeout(lt),lt=setTimeout(ut.bind(this),at)},flush:function(){clearTimeout(lt),ut.call(this)},getBatchData:function(){return st.length?stringifyBatch$1(st):""},clear:function(){clearTimeout(lt),st=[]}};function ut(){st.length&&(et.post({url:rt,data:this.getBatchData()}),st=[])}return ct}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign$2=function(){return __assign$2=Object.assign||function(et){for(var rt,nt=1,it=arguments.length;nt<it;nt++){rt=arguments[nt];for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(et[ot]=rt[ot])}return et},__assign$2.apply(this,arguments)};function __read$1(tt,et){var rt=typeof Symbol=="function"&&tt[Symbol.iterator];if(!rt)return tt;var nt=rt.call(tt),it,ot=[],at;try{for(;(et===void 0||et-- >0)&&!(it=nt.next()).done;)ot.push(it.value)}catch(st){at={error:st}}finally{try{it&&!it.done&&(rt=nt.return)&&rt.call(nt)}finally{if(at)throw at.error}}return ot}function __spreadArray$1(tt,et,rt){if(rt||arguments.length===2)for(var nt=0,it=et.length,ot;nt<it;nt++)(ot||!(nt in et))&&(ot||(ot=Array.prototype.slice.call(et,0,nt)),ot[nt]=et[nt]);return tt.concat(ot||Array.prototype.slice.call(et))}var EVENTS$1=["init","start","config","beforeDestroy","provide","report","beforeBuild","build","beforeSend","send","beforeConfig"],noop$2=function(){};function id$2(tt){return tt}function isObject$3(tt){return typeof tt=="object"&&tt!==null}var objProto$1=Object.prototype;function isArray$2(tt){return objProto$1.toString.call(tt)==="[object Array]"}function isBoolean$1(tt){return typeof tt=="boolean"}function isNumber$2(tt){return typeof tt=="number"}function isString$2(tt){return typeof tt=="string"}function arrayIncludes$2(tt,et){if(!isArray$2(tt)||tt.length===0)return!1;for(var rt=0;rt<tt.length;){if(tt[rt]===et)return!0;rt++}return!1}var arrayRemove$1=function(tt,et){if(!isArray$2(tt))return tt;var rt=tt.indexOf(et);if(rt>=0){var nt=tt.slice();return nt.splice(rt,1),nt}return tt},safeVisit$1=function(tt,et,rt){for(var nt,it,ot=et.split("."),at=__read$1(ot),st=at[0],lt=at.slice(1);tt&&lt.length>0;)tt=tt[st],nt=lt,it=__read$1(nt),st=it[0],lt=it.slice(1);if(tt)return rt(tt,st)};function safeStringify$1(tt){try{return isString$2(tt)?tt:JSON.stringify(tt)}catch(et){return"[FAILED_TO_STRINGIFY]:"+String(et)}}function createContextAgent$1(){var tt={},et={},rt={set:function(nt,it){return tt[nt]=it,et[nt]=safeStringify$1(it),rt},merge:function(nt){return tt=__assign$2(__assign$2({},tt),nt),Object.keys(nt).forEach(function(it){et[it]=safeStringify$1(nt[it])}),rt},delete:function(nt){return delete tt[nt],delete et[nt],rt},clear:function(){return tt={},et={},rt},get:function(nt){return et[nt]},toString:function(){return __assign$2({},et)}};return rt}var errCount$1=0,error$1=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];console.error.apply(console,__spreadArray$1(["[SDK]",Date.now(),(""+errCount$1++).padStart(8," ")],__read$1(tt),!1))},warnCount$1=0,warn$1=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];console.warn.apply(console,__spreadArray$1(["[SDK]",Date.now(),(""+warnCount$1++).padStart(8," ")],__read$1(tt),!1))},isHitBySampleRate$1=function(tt){return Math.random()<Number(tt)},isHitByRandom$1=function(tt,et){return tt<Number(et)},runProcessors$1=function(tt){return function(et){for(var rt=et,nt=0;nt<tt.length&&rt;nt++)try{rt=tt[nt](rt)}catch(it){error$1(it)}return rt}};function mathRNG$1(){for(var tt=new Array(16),et=0,rt=0;rt<16;rt++)rt&3||(et=Math.random()*4294967296),tt[rt]=et>>>((rt&3)<<3)&255;return tt}function bytesToUuid$1(tt){for(var et=[],rt=0;rt<256;++rt)et[rt]=(rt+256).toString(16).substr(1);var nt=0,it=et;return[it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]]].join("")}function uuid$1(){var tt=mathRNG$1();return tt[6]=tt[6]&15|64,tt[8]=tt[8]&63|128,bytesToUuid$1(tt)}function createClient$1(tt){var et=tt.builder,rt=tt.createSender,nt=tt.createDefaultConfig,it=tt.createConfigManager,ot=tt.userConfigNormalizer,at=tt.initConfigNormalizer,st=tt.validateInitConfig,lt,ct,ut={};EVENTS$1.forEach(function(vt){return ut[vt]=[]});var dt=!1,ft=!1,pt=[],mt=[],ht={getBuilder:function(){return et},getSender:function(){return lt},getPreStartQueue:function(){return pt},init:function(vt){if(dt){warn$1("already inited");return}if(vt&&isObject$3(vt)&&st(vt)){var yt=nt(vt);if(!yt)throw new Error("defaultConfig missing");var bt=at(vt);if(ct=it(yt),ct.setConfig(bt),ct.onChange(function(){gt("config")}),lt=rt(ct.getConfig()),!lt)throw new Error("sender missing");dt=!0,gt("init",!0)}else throw new Error("invalid InitConfig, init failed")},set:function(vt){dt&&vt&&isObject$3(vt)&&(gt("beforeConfig",!1,vt),ct==null||ct.setConfig(vt))},config:function(vt){if(dt)return vt&&isObject$3(vt)&&(gt("beforeConfig",!1,vt),ct==null||ct.setConfig(ot(vt))),ct==null?void 0:ct.getConfig()},provide:function(vt,yt){if(arrayIncludes$2(mt,vt)){warn$1("cannot provide "+vt+", reserved");return}ht[vt]=yt,gt("provide",!1,vt)},start:function(){var vt=this;dt&&(ft||ct==null||ct.onReady(function(){ft=!0,gt("start",!0),pt.forEach(function(yt){return vt.build(yt)}),pt=[]}))},report:function(vt){if(vt){var yt=runProcessors$1(ut.report)(vt);yt&&(ft?this.build(yt):pt.push(yt))}},build:function(vt){if(ft){var yt=runProcessors$1(ut.beforeBuild)(vt);if(yt){var bt=et.build(yt);if(bt){var xt=runProcessors$1(ut.build)(bt);xt&&this.send(xt)}}}},send:function(vt){if(ft){var yt=runProcessors$1(ut.beforeSend)(vt);yt&&(lt.send(yt),gt("send",!1,yt))}},destroy:function(){gt("beforeDestroy",!0)},on:function(vt,yt){vt==="init"&&dt||vt==="start"&&ft?yt():ut[vt]&&ut[vt].push(yt)},off:function(vt,yt){ut[vt]&&(ut[vt]=arrayRemove$1(ut[vt],yt))}};return mt=Object.keys(ht),ht;function gt(vt,yt){yt===void 0&&(yt=!1);for(var bt=[],xt=2;xt<arguments.length;xt++)bt[xt-2]=arguments[xt];ut[vt].forEach(function($t){try{$t.apply(void 0,__spreadArray$1([],__read$1(bt),!1))}catch{}}),yt&&(ut[vt].length=0)}}var ContextPlugin$1=function(tt){var et=createContextAgent$1();tt.provide("context",et),tt.on("report",function(rt){return rt.extra||(rt.extra={}),rt.extra.context=et.toString(),rt})};function IntegrationPlugin$1(tt){tt.on("init",function(){var et=[],rt=tt.config();!rt||!rt.integrations||rt.integrations.forEach(function(nt){arrayIncludes$2(et,nt.name)||(et.push(nt.name),nt.setup(tt),nt.tearDown&&tt.on("beforeDestroy",nt.tearDown))})})}function getDefaultBrowser$1(){if(typeof window=="object"&&isObject$3(window))return window}var getGlobalRegistry$1=function(tt){if(tt)return tt.__SLARDAR_REGISTRY__||(tt.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[]}}),tt.__SLARDAR_REGISTRY__.Slardar},reportSelfError$1=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];var rt=getGlobalRegistry$1(getDefaultBrowser$1());rt&&(rt.errors||(rt.errors=[]),rt.errors.push(tt))},CUSTOM_EV_TYPE$1="custom",CUSTOM_EVENT_TYPE$1="event",CUSTOM_LOG_TYPE$1="log",normalizeCustomEventData$1=function(tt){if(!(!tt||!isObject$3(tt))&&!(!tt.name||!isString$2(tt.name))){var et={name:tt.name,type:CUSTOM_EVENT_TYPE$1};if("metrics"in tt&&isObject$3(tt.metrics)){var rt=tt.metrics,nt={};for(var it in rt)isNumber$2(rt[it])&&(nt[it]=rt[it]);et.metrics=nt}if("categories"in tt&&isObject$3(tt.categories)){var ot=tt.categories,at={};for(var it in ot)at[it]=safeStringify$1(ot[it]);et.categories=at}return et}},normalizeCustomLogData$1=function(tt){if(!(!tt||!isObject$3(tt))&&!(!tt.content||!isString$2(tt.content))){var et=tt.content,rt={content:safeStringify$1(et),type:CUSTOM_LOG_TYPE$1,level:"info"};if("level"in tt&&(rt.level=tt.level),"extra"in tt&&isObject$3(tt.extra)){var nt=tt.extra,it={},ot={};for(var at in nt)isNumber$2(nt[at])?it[at]=nt[at]:ot[at]=safeStringify$1(nt[at]);rt.metrics=it,rt.categories=ot}return rt}},CustomPlugin$1=function(tt){var et=function(nt){var it=normalizeCustomEventData$1(nt);it&&tt.report({ev_type:CUSTOM_EV_TYPE$1,payload:it,extra:{timestamp:Date.now()}})},rt=function(nt){var it=normalizeCustomLogData$1(nt);it&&tt.report({ev_type:CUSTOM_EV_TYPE$1,payload:it,extra:{timestamp:Date.now()}})};tt.provide("sendEvent",et),tt.provide("sendLog",rt)},withSampleRate$1=function(tt,et){var rt=tt.common||{};return rt.sample_rate=et,tt.common=rt,tt},hitFnWithRandom$1=function(tt,et,rt,nt,it){return tt?function(ot){return function(){return ot}}(it(nt,et)):function(){return rt(et)}},parseValues$1=function(tt,et){return tt.map(function(rt){switch(et){case"number":return Number(rt);case"boolean":return rt==="1";case"string":default:return String(rt)}})},checkVal$1=function(tt,et,rt){switch(rt){case"eq":return arrayIncludes$2(et,tt);case"neq":return!arrayIncludes$2(et,tt);case"gt":return tt>et[0];case"gte":return tt>=et[0];case"lt":return tt<et[0];case"lte":return tt<=et[0];case"regex":return Boolean(tt.match(new RegExp(et.join("|"))));case"not_regex":return!tt.match(new RegExp(et.join("|")));default:return!1}},checkFilter$1=function(tt,et,rt,nt){var it=safeVisit$1(tt,et,function(at,st){return at[st]});if(it===void 0)return!1;var ot=isBoolean$1(it)?"bool":isNumber$2(it)?"number":"string";return checkVal$1(it,parseValues$1(nt,ot),rt)},matchFilter$1=function(tt,et){try{return et.type==="rule"?checkFilter$1(tt,et.field,et.op,et.values):et.type==="and"?et.children.every(function(rt){return matchFilter$1(tt,rt)}):et.children.some(function(rt){return matchFilter$1(tt,rt)})}catch(rt){return reportSelfError$1(rt),!1}},getHitMap$1=function(tt,et,rt,nt,it,ot){var at={};return Object.keys(tt).forEach(function(st){var lt=tt[st],ct=lt.enable,ut=lt.sample_rate,dt=lt.conditional_sample_rules;ct?(at[st]={enable:ct,sample_rate:ut,effectiveSampleRate:ut*rt,hit:hitFnWithRandom$1(et,ut,nt,it,ot)},dt&&(at[st].conditional_hit_rules=dt.map(function(ft){var pt=ft.sample_rate,mt=ft.filter;return{sample_rate:pt,hit:hitFnWithRandom$1(et,pt,nt,it,ot),effectiveSampleRate:pt*rt,filter:mt}}))):at[st]={enable:ct,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),at},getSampler$1=function(tt,et,rt,nt){if(!et)return id$2;var it=et.sample_rate,ot=et.include_users,at=et.sample_granularity,st=et.rules,lt=et.r,ct=lt===void 0?Math.random():lt,ut=arrayIncludes$2(ot,tt);if(ut)return function(mt){return withSampleRate$1(mt,1)};var dt=at==="session",ft=hitFnWithRandom$1(dt,it,rt,ct,nt),pt=getHitMap$1(st,dt,it,rt,ct,nt);return function(mt){var ht;if(!ft())return!1;if(!(mt.ev_type in pt))return withSampleRate$1(mt,it);if(!pt[mt.ev_type].enable)return!1;if(!((ht=mt.common)===null||ht===void 0)&&ht.sample_rate)return mt;var gt=pt[mt.ev_type],vt=gt.conditional_hit_rules;if(vt){for(var yt=0;yt<vt.length;yt++)if(matchFilter$1(mt,vt[yt].filter))return vt[yt].hit()?withSampleRate$1(mt,vt[yt].effectiveSampleRate):!1}return gt.hit()?withSampleRate$1(mt,gt.effectiveSampleRate):!1}},SamplePlugin$1=function(tt){tt.on("start",function(){var et=tt.config(),rt=et.userId,nt=et.sample,it=getSampler$1(rt,nt,isHitBySampleRate$1,isHitByRandom$1);tt.on("build",it)})},builder$1={build:function(tt){return{ev_type:tt.ev_type,payload:tt.payload,common:__assign$2(__assign$2({},tt.extra||{}),tt.overrides||{})}}},createConfigManager$1=function(tt){var et=tt,rt,nt={},it=noop$2,ot=noop$2;return{getConfig:function(){return et},setConfig:function(st){return nt=__assign$2(__assign$2({},nt),st||{}),at(),rt||(rt=st,it()),et},onChange:function(st){ot=st},onReady:function(st){it=st,rt&&it()}};function at(){var st=__assign$2(__assign$2({},tt),nt);st.sample=mergeSampleConfig$1(tt.sample,nt.sample),et=st,ot()}};function mergeSampleConfig$1(tt,et){if(!tt||!et)return tt||et;var rt=__assign$2(__assign$2({},tt),et);return rt.include_users=__spreadArray$1(__spreadArray$1([],__read$1(tt.include_users||[]),!1),__read$1(et.include_users||[]),!1),rt.rules=__spreadArray$1(__spreadArray$1([],__read$1(Object.keys(tt.rules||{})),!1),__read$1(Object.keys(et.rules||{})),!1).reduce(function(nt,it){var ot,at;return it in nt||(it in(tt.rules||{})&&it in(et.rules||{})?(nt[it]=__assign$2(__assign$2({},tt.rules[it]),et.rules[it]),nt[it].conditional_sample_rules=__spreadArray$1(__spreadArray$1([],__read$1(tt.rules[it].conditional_sample_rules||[]),!1),__read$1(et.rules[it].conditional_sample_rules||[]),!1)):nt[it]=((ot=tt.rules)===null||ot===void 0?void 0:ot[it])||((at=et.rules)===null||at===void 0?void 0:at[it])),nt},{}),rt}var REPORT_DOMAIN$1="mon-va.byteoversea.com",SDK_VERSION$1="1.0.2",SDK_NAME$1="SDK_BASE",BATCH_REPORT_PATH$1="/monitor_browser/collect/batch/",DEFAULT_SAMPLE_CONFIG$1={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}},DEFAULT_SENDER_SIZE$1=20;function normalizeInitConfig$1(tt){return __assign$2({},tt)}function validateInitConfig$1(tt){return isObject$3(tt)&&"bid"in tt&&"transport"in tt}function normalizeUserConfig$1(tt){return __assign$2({},tt)}var addEnvToSendEvent$1=function(tt,et){var rt={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:et.version||SDK_VERSION$1,sdk_name:et.name||SDK_NAME$1};return __assign$2(__assign$2({},tt),{extra:__assign$2(__assign$2({},rt),tt.extra||{})})},InjectEnvPlugin$1=function(tt){tt.on("report",function(et){return addEnvToSendEvent$1(et,tt.config())})},addConfigToReportEvent$1=function(tt,et){var rt={};return rt.bid=et.bid,rt.pid=et.pid,rt.view_id=et.viewId,rt.user_id=et.userId,rt.device_id=et.deviceId,rt.session_id=et.sessionId,rt.release=et.release,rt.env=et.env,__assign$2(__assign$2({},tt),{extra:__assign$2(__assign$2({},rt),tt.extra||{})})},InjectConfigPlugin$1=function(tt){tt.on("beforeBuild",function(et){return addConfigToReportEvent$1(et,tt.config())})};function createSender$1(tt){return createBatchSender$1(tt)}var getReportUrl$1=function(tt,et){return et===void 0&&(et=BATCH_REPORT_PATH$1),(tt&&tt.indexOf("//")>=0?"":"https://")+tt+et},getDefaultUserId$1=function(){return uuid$1()},getDefaultDeviceId$1=function(){return uuid$1()},getViewId$1=function(tt){return tt+"_"+Date.now()},getDefaultSessionId$1=function(){return uuid$1()},getDefaultConfig$1=function(tt){return{bid:"",pid:"",viewId:getViewId$1("_"),userId:getDefaultUserId$1(),deviceId:getDefaultDeviceId$1(),sessionId:getDefaultSessionId$1(),domain:REPORT_DOMAIN$1,release:"",env:"production",sample:DEFAULT_SAMPLE_CONFIG$1,plugins:{},transport:{get:noop$2,post:noop$2}}},createMinimalClient$1=function(tt){var et=tt===void 0?{}:tt,rt=et.createSender,nt=rt===void 0?function(ct){return createSender$1({size:DEFAULT_SENDER_SIZE$1,endpoint:getReportUrl$1(ct.domain),transport:ct.transport})}:rt,it=et.builder,ot=it===void 0?builder$1:it,at=et.createDefaultConfig,st=at===void 0?getDefaultConfig$1:at,lt=createClient$1({validateInitConfig:validateInitConfig$1,initConfigNormalizer:normalizeInitConfig$1,userConfigNormalizer:normalizeUserConfig$1,createSender:nt,builder:ot,createDefaultConfig:st,createConfigManager:createConfigManager$1});return ContextPlugin$1(lt),InjectConfigPlugin$1(lt),InjectEnvPlugin$1(lt),IntegrationPlugin$1(lt),lt},createBaseClient$1=function(tt){tt===void 0&&(tt={});var et=createMinimalClient$1(tt);return SamplePlugin$1(et),CustomPlugin$1(et),et};createBaseClient$1();var REGION$1="va",SETTING_HOST$1="https://vcs-va.byteoversea.com",CHANNEL_DOMAIN$1={in:"https://sgali-mcs.byteoversea.com",sg:"https://sgali-mcs.byteoversea.com",va:"https://maliva-mcs.byteoversea.com",tcpy:"https://mcs-sg.tiktok.com",ttp:"https://mcs.us.tiktok.com"},AJAX_TIMEOUT$1=5e3,TEA_EVENT_PREFIX$1="h5_",WEBID_KEY$1="s_v_web_id",URL$2={setting:"/vc/setting",report:function(tt){return["ttp","tcpy"].indexOf(tt)!==-1?"/v1/list":"/list"},webid:function(tt){return["ttp","tcpy"].indexOf(tt)!==-1?"/v1/user/webid":"/webid"}},stringify$1=function(tt){for(var et=Object.keys(tt),rt="",nt=0;nt<et.length;nt++){var it=et[nt],ot=tt[it],at=encodeURIComponent(it)+"="+encodeURIComponent(ot);nt>=1?rt=rt+"&"+at:rt=at}return rt},getCommonParams$1=function(tt){var et=tt.commonOptions;return{aid:et.aid}},getType$1=function(tt){var et=Object.prototype.toString.call(tt);return et.slice(8,-1)},Slardar$1=function(){function tt(){this.isInit=!1,this.pid="0",this.filename=""}return tt.prototype.init=function(et,rt){if(!this.isInit){this.isInit=!0,this.pid=String(et.aid),this.browserSlardar=createBaseClient$1();var nt={transport:{get:function(){},post:function(it){var ot=it.url,at=it.data;rt(ot,JSON.parse(at))}},bid:"verify_center_va",pid:this.pid,release:"3.8.6",env:REGION$1,sample:{sample_rate:1,include_users:[],sample_granularity:"session",rules:{pageview:{enable:!0,sample_rate:.01},js_error:{enable:!0,sample_rate:1},resource_error:{enable:!0,sample_rate:.01},http:{enable:!0,sample_rate:.01},resource:{enable:!0,sample_rate:.01}}}};this.browserSlardar.init(nt),this.browserSlardar.context.merge({belong:"hotsdk"})}},tt.prototype.start=function(){var et=this;this.browserSlardar.start(),this.reportPageview(),window.addEventListener("error",function(rt){var nt;getType$1(rt)==="ErrorEvent"&&et.filename&&rt.filename===et.filename&&et.reportJsError({message:rt==null?void 0:rt.message,stack:(nt=rt==null?void 0:rt.error)===null||nt===void 0?void 0:nt.stack,filename:rt==null?void 0:rt.filename})},!0)},tt.prototype.destroy=function(){this.browserSlardar.destroy()},tt.prototype.reportPageview=function(){this.browserSlardar.report({ev_type:"pageview",payload:{pid:this.pid,source:"init"}})},tt.prototype.reportJsError=function(et){this.browserSlardar.report({ev_type:"js_error",payload:{error:{name:"JS ERROR",message:et.message,stack:et.stack,filename:et.filename||this.filename},breadcrumbs:[]}})},tt.prototype.reportHttp=function(et){this.browserSlardar.report({ev_type:"http",payload:{api:"xhr",request:{method:et.method,url:et.url},response:{status:et.status,is_custom_error:!1,timestamp:Date.now()},duration:et.duration}})},tt.prototype.reportResourceError=function(et){this.browserSlardar.report({ev_type:"resource_error",payload:{type:"script",url:et}})},tt.prototype.reportResource=function(et){this.browserSlardar.report({ev_type:"resource",payload:{entryType:"resource",name:et.url,duration:et.duration,startTime:et.startTime}})},tt.prototype.setFileName=function(et){this.filename=et},tt}(),slardar$1=new Slardar$1,ajax$1=function(tt){var et=tt.url,rt=tt.method,nt=tt.data,it=tt.config;return new promise$4(function(ot,at){var st=new XMLHttpRequest,lt=Date.now(),ct=function(){tt.url.indexOf(URL$2.setting)!==-1&&slardar$1.reportHttp({url:et,method:rt,duration:Date.now()-lt,status:st.status})};st.onreadystatechange=function(){if(st.readyState===st.DONE){if(st.status>=200&&st.status<300){var ht={},gt=st.response||st.responseText,vt=st.getResponseHeader("Content-Type")||st.getResponseHeader("content-type");if(vt&&vt.indexOf("application/json")!==-1)try{ht=JSON.parse(gt)}catch{}else ht=gt;setTimeout(function(){ot(ht)},0)}else at(new TypeError("Network request failed, status: "+st.status));ct()}},st.onerror=function(){setTimeout(function(){at(new TypeError("Network request failed, occur error"))},0),ct()},st.ontimeout=function(){setTimeout(function(){at(new TypeError("Network request failed, timeout"))},0),ct()},st.onabort=function(){setTimeout(function(){at(new DOMException("Aborted","AbortError"))},0),ct()};var ut=et;if(it!=null&&it.params&&(ut=ut+"?"+stringify$1(it.params)),st.open(rt,ut,!0),it!=null&&it.timeout&&typeof it.timeout=="number"?st.timeout=it.timeout:st.timeout=AJAX_TIMEOUT$1,it!=null&&it.headers)for(var dt=it.headers,ft=0,pt=Object.keys(dt);ft<pt.length;ft++){var mt=pt[ft];st.setRequestHeader(mt,dt[mt])}it!=null&&it.withCredentials&&(st.withCredentials=it.withCredentials),rt.toUpperCase()==="POST"&&nt?st.send(JSON.stringify(nt)):st.send(null)})},get$2=function(tt,et){return et===void 0&&(et={}),ajax$1({url:tt,method:"GET",config:et})},post$2=function(tt,et,rt){rt===void 0&&(rt={});var nt=rt.headers?__assign$1$1({"Content-Type":"application/json"},rt.headers):{"Content-Type":"application/json"};return ajax$1({url:tt,method:"POST",data:et,config:__assign$1$1(__assign$1$1({},rt),{headers:nt})})},loadScript$1=function(tt){return new promise$4(function(et,rt){var nt=document.getElementsByTagName("head")[0],it=document.createElement("script");it.setAttribute("crossorigin","anonymous"),it.setAttribute("src",tt),nt.appendChild(it);var ot=setTimeout(function(){rt(new Error("LoadJSSDKMoreTan4000ms"))},4e3);it.onload=function(){clearTimeout(ot),et(0)},it.onerror=function(){clearTimeout(ot),rt(new Error("Failed to load SDK!"))}})},commonjs$1=function(tt){var et={exports:{}},rt=new Function("exports","module",tt);try{rt(et.exports,et)}catch(nt){slardar$1.reportJsError({message:nt==null?void 0:nt.message,stack:nt==null?void 0:nt.stack,filename:nt==null?void 0:nt.filename})}return et},js_cookie$1=createCommonjsModule$1(function(tt,et){(function(rt){var nt;if(tt.exports=rt(),nt=!0,!nt){var it=window.Cookies,ot=window.Cookies=rt();ot.noConflict=function(){return window.Cookies=it,ot}}})(function(){function rt(){for(var ot=0,at={};ot<arguments.length;ot++){var st=arguments[ot];for(var lt in st)at[lt]=st[lt]}return at}function nt(ot){return ot.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function it(ot){function at(){}function st(ct,ut,dt){if(!(typeof document>"u")){dt=rt({path:"/"},at.defaults,dt),typeof dt.expires=="number"&&(dt.expires=new Date(new Date*1+dt.expires*864e5)),dt.expires=dt.expires?dt.expires.toUTCString():"";try{var ft=JSON.stringify(ut);/^[\{\[]/.test(ft)&&(ut=ft)}catch{}ut=ot.write?ot.write(ut,ct):encodeURIComponent(String(ut)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),ct=encodeURIComponent(String(ct)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var pt="";for(var mt in dt)dt[mt]&&(pt+="; "+mt,dt[mt]!==!0&&(pt+="="+dt[mt].split(";")[0]));return document.cookie=ct+"="+ut+pt}}function lt(ct,ut){if(!(typeof document>"u")){for(var dt={},ft=document.cookie?document.cookie.split("; "):[],pt=0;pt<ft.length;pt++){var mt=ft[pt].split("="),ht=mt.slice(1).join("=");!ut&&ht.charAt(0)==='"'&&(ht=ht.slice(1,-1));try{var gt=nt(mt[0]);if(ht=(ot.read||ot)(ht,gt)||nt(ht),ut)try{ht=JSON.parse(ht)}catch{}if(dt[gt]=ht,ct===gt)break}catch{}}return ct?dt[ct]:dt}}return at.set=st,at.get=function(ct){return lt(ct,!1)},at.getJSON=function(ct){return lt(ct,!0)},at.remove=function(ct,ut){st(ct,"",rt(ut,{expires:-1}))},at.defaults={},at.withConverter=it,at}return it(function(){})})});function mergeFp$1(){var tt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),et=tt.length,rt=Date.now().toString(36),nt=[];nt[8]=nt[13]=nt[18]=nt[23]="_",nt[14]="4";for(var it=0,ot=void 0;it<36;it++)nt[it]||(ot=0|Math.random()*et,nt[it]=tt[it==19?ot&3|8:ot]);return"verify_"+rt+"_"+nt.join("")}function setWebidCookie$1(tt){tt=typeof tt=="object"?tt:{};var et=mergeFp$1(),rt={path:"/"};return tt.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(tt.domain)&&(rt.domain=tt.domain),js_cookie$1.set(WEBID_KEY$1,et,rt),et}var generateFpSync$1=function(tt){tt===void 0&&(tt={});var et=js_cookie$1.get(WEBID_KEY$1);return(!et||et.indexOf("verify_")!==0)&&(et=setWebidCookie$1(tt)),et},getFpFromCookie$1=function(){return js_cookie$1.get(WEBID_KEY$1)||""},generateFp$1=function(tt){tt===void 0&&(tt={});var et=generateFpSync$1(tt);return et},getSetting$1=function(tt){return post$2(""+(tt||SETTING_HOST$1)+URL$2.setting,{},{headers:{"X-Setting-Flag":1}})},getTeaWebId$1=function(tt,et){var rt=CHANNEL_DOMAIN$1[et],nt=URL$2.webid(et);return post$2(""+rt+nt,{app_id:tt,referer:document.referrer,url:window.location.href,user_agent:window.navigator.userAgent,user_unique_id:""}).then(function(it){return it.web_id})},report$1=function(tt,et){var rt=CHANNEL_DOMAIN$1[et],nt=URL$2.report(et);return post$2(""+rt+nt,tt)},EVT_NAME$1="turing_verify_sdk",Logger$1=function(){function tt(){this.fetchWebId=null,this.channelType="",this.isInit=!1,this.conf={app_id:0,evtParams:{}}}return tt.prototype.init=function(et,rt){rt===void 0&&(rt={}),!this.isInit&&(this.isInit=!0,this.conf.app_id=et.region==="cn"?2018:2740,this.conf.evtParams=__assign$1$1(__assign$1$1({},rt),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:et.aid}),et.aid===1180||et.aid===1233?this.channelType="tcpy":this.channelType=REGION$1)},tt.prototype.getTeaWebId=function(){return this.fetchWebId||(this.fetchWebId=getTeaWebId$1(this.conf.app_id,this.channelType)),this.fetchWebId},tt.prototype.trackEvent=function(et,rt){var nt=this;rt===void 0&&(rt={}),this.getTeaWebId().then(function(it){var ot=[{events:[{event:EVT_NAME$1,is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(__assign$1$1(__assign$1$1(__assign$1$1({},nt.conf.evtParams),rt),{key:""+TEA_EVENT_PREFIX$1+et,time:Date.now()}))}],local_time:Math.floor(Date.now()/1e3),header:{app_id:nt.conf.app_id,referrer:document.referrer,platform:"web",sdk_lib:"js",sdk_version:"0.0.0"},user:{user_unique_id:it,web_id:it}}];nt.sendEvents(ot)}).catch(function(it){})},tt.prototype.sendEvents=function(et){report$1(et,this.channelType).catch(function(rt){})},tt}(),logger$1=new Logger$1,verify$1={back_up_js_v2:{va:["https://lf-rc2.yhgfb-static.com/obj/rc-client-security-us/secsdk-captcha/@latest/captcha.js","https://sf16-scmcdn-va.ibytedtos.com/obj/static-us/secsdk-captcha/@latest/captcha.js"]},js_v2:{va:"https://lf-rc1.yhgfb-static.com/obj/rc-client-security-us/secsdk-captcha/@latest/captcha.js"}},DefaultSetting$1={verify:verify$1},initOptions$1={},configOptions$1={executor:"Function",static_domain:"",settingHost:""},getCDN$1=function(){var tt=Date.now();return getSetting$1(configOptions$1.settingHost).catch(function(){return getSetting$1(configOptions$1.settingHost)}).then(function(et){var rt,nt;return logger$1.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-tt,message:""}),!((nt=(rt=et==null?void 0:et.verify)===null||rt===void 0?void 0:rt.js_v2)===null||nt===void 0)&&nt[REGION$1]?et.verify:DefaultSetting$1.verify}).catch(function(et){return logger$1.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-tt,message:et==null?void 0:et.message}),DefaultSetting$1.verify})},loadCDN$1=function(tt,et,rt,nt){slardar$1.setFileName(tt);var it=Date.now(),ot=promise$4.resolve({});return et==="script"?ot=loadScript$1(tt).then(function(){return window.verifySDK}):ot=get$2(tt,{timeout:2e4}).then(function(at){if(rt&&nt&&rt!==nt){var st=new RegExp(rt,"g");at=at.replace(st,nt)}var lt=commonjs$1(at);return lt.exports}),ot.then(function(at){return slardar$1.reportResource({url:tt,startTime:Date.now(),duration:Date.now()-it}),at}).catch(function(at){return slardar$1.reportResourceError(tt),promise$4.reject(at)})},SDK$1=function(){function tt(){}return tt.get=function(){return(tt.status===0||tt.status===3)&&(tt.status=1,tt.core=getCDN$1().then(function(et){var rt,nt,it,ot=(rt=et.js_v2)===null||rt===void 0?void 0:rt[REGION$1],at=((nt=et.back_up_js_v2)===null||nt===void 0?void 0:nt[REGION$1])||[],st=(it=ot.match(/\/\/([\w-]+(\.[\w-]+)+)/))===null||it===void 0?void 0:it[1];configOptions$1.static_domain&&st&&(ot=ot.replace(st,configOptions$1.static_domain));var lt=[ot].concat(at);return new promise$4(function(ct,ut){var dt=function(){var ft,pt=lt.shift(),mt=(ft=pt.match(/\/\/([\w-]+(\.[\w-]+)+)/))===null||ft===void 0?void 0:ft[1];loadCDN$1(pt,configOptions$1.executor,st,mt).then(function(ht){ct(ht),tt.status=2,logger$1.trackEvent("hotsdk_loadscript",{is_success:1})}).catch(function(ht){lt.length?dt():(ut(ht),tt.status=3,logger$1.trackEvent("hotsdk_loadscript",{is_success:0}))})};dt()})}).catch(function(et){return promise$4.reject(et)})),tt.core},tt.status=0,tt}(),config$2=function(tt){tt.static_domain&&(configOptions$1.static_domain=tt.static_domain),tt.settingHost&&(configOptions$1.settingHost=tt.settingHost),tt.executor&&(configOptions$1.executor=tt.executor)},init$1=function(tt,et,rt){et===void 0&&(et=function(){}),rt===void 0&&(rt=function(){});var nt=getCommonParams$1(tt);logger$1.init(__assign$1$1(__assign$1$1({},nt),{region:REGION$1})),slardar$1.init(nt,post$2),slardar$1.start(),SDK$1.get().then(function(it){var ot;Object.assign(initOptions$1,__assign$1$1(__assign$1$1({},tt),{captchaOptions:__assign$1$1(__assign$1$1({},tt.captchaOptions),{h5_check_version:!((ot=tt.captchaOptions)===null||ot===void 0)&&ot.closeDecisionCheck?"0.0.0":"3.8.6"})})),it==null||it.initVerifyOptions(initOptions$1),et(it)}).catch(function(it){var ot;rt({type:"loadJSSDK",msg:(ot=it==null?void 0:it.message)!==null&&ot!==void 0?ot:""})})},render$1=function(tt){SDK$1.get().then(function(et){et==null||et.autoRender(tt)}).catch(function(et){})},close$1=function(){SDK$1.get().then(function(tt){tt==null||tt.closeCaptcha()})},getFp$1=function(){var tt,et,rt=((tt=initOptions$1==null?void 0:initOptions$1.captchaOptions)===null||tt===void 0?void 0:tt.fp)||getFpFromCookie$1()||generateFp$1((et=initOptions$1==null?void 0:initOptions$1.captchaOptions)===null||et===void 0?void 0:et.fpCookieOption);return promise$4.resolve(rt)},TTVerifyCenter$1=function(){function tt(){}return tt.config=function(et){config$2(et)},tt.init=function(et,rt,nt){var it=getCommonParams$1(et);return logger$1.init(__assign$1$1(__assign$1$1({},it),{region:REGION$1})),slardar$1.init(it,post$2),slardar$1.start(),SDK$1.get().then(function(ot){var at;Object.assign(initOptions$1,__assign$1$1(__assign$1$1({},et),{captchaOptions:__assign$1$1(__assign$1$1({},et.captchaOptions),{h5_check_version:!((at=et.captchaOptions)===null||at===void 0)&&at.closeDecisionCheck?"0.0.0":"3.8.6"})}));var st=ot.initVerifyCenter(initOptions$1);if(rt)rt(st);else return st}).catch(function(ot){if(nt)nt(ot);else return promise$4.reject(ot)})},tt}(),transform$1=function(tt){var et={code:"10000",from:"",type:"verify",version:"1",region:REGION$1,subtype:"",verify_event:"",fp:"",detail:""};return tt===3059?et.subtype="text":tt===3060?et.subtype="3d":tt===99996?et.subtype="whirl":et.subtype="slide",JSON.stringify(et)};const index_esm$1=Object.freeze(Object.defineProperty({__proto__:null,TTVerifyCenter:TTVerifyCenter$1,close:close$1,config:config$2,getFp:getFp$1,init:init$1,render:render$1,transform:transform$1},Symbol.toStringTag,{value:"Module"})),require$$2=getAugmentedNamespace(index_esm$1);/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign$1=function(){return __assign$1=Object.assign||function(et){for(var rt,nt=1,it=arguments.length;nt<it;nt++){rt=arguments[nt];for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(et[ot]=rt[ot])}return et},__assign$1.apply(this,arguments)};typeof Object.assign!="function"&&Object.defineProperty(Object,"assign",{value:function(et,rt){if(et==null)throw new TypeError("Cannot convert undefined or null to object");for(var nt=Object(et),it=1;it<arguments.length;it++){var ot=arguments[it];if(ot!=null)for(var at in ot)Object.prototype.hasOwnProperty.call(ot,at)&&(nt[at]=ot[at])}return nt},writable:!0,configurable:!0});var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function createCommonjsModule(tt,et,rt){return rt={path:et,exports:{},require:function(nt,it){return commonjsRequire(nt,it??rt.path)}},tt(rt,rt.exports),rt.exports}function commonjsRequire(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var check=function(tt){return tt&&tt.Math==Math&&tt},global_1=check(typeof globalThis=="object"&&globalThis)||check(typeof window=="object"&&window)||check(typeof self=="object"&&self)||check(typeof commonjsGlobal=="object"&&commonjsGlobal)||function(){return this}()||Function("return this")(),FunctionPrototype$2=Function.prototype,apply=FunctionPrototype$2.apply,bind$3=FunctionPrototype$2.bind,call$2=FunctionPrototype$2.call,functionApply=typeof Reflect=="object"&&Reflect.apply||(bind$3?call$2.bind(apply):function(){return call$2.apply(apply,arguments)}),FunctionPrototype$1=Function.prototype,bind$2$1=FunctionPrototype$1.bind,call$1=FunctionPrototype$1.call,callBind=bind$2$1&&bind$2$1.bind(call$1),functionUncurryThis=bind$2$1?function(tt){return tt&&callBind(call$1,tt)}:function(tt){return tt&&function(){return call$1.apply(tt,arguments)}},isCallable=function(tt){return typeof tt=="function"},fails=function(tt){try{return!!tt()}catch{return!0}},descriptors$1=!fails(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!=7}),call=Function.prototype.call,functionCall=call.bind?call.bind(call):function(){return call.apply(call,arguments)},$propertyIsEnumerable={}.propertyIsEnumerable,getOwnPropertyDescriptor$2=Object.getOwnPropertyDescriptor,NASHORN_BUG=getOwnPropertyDescriptor$2&&!$propertyIsEnumerable.call({1:2},1),f$5=NASHORN_BUG?function tt(et){var rt=getOwnPropertyDescriptor$2(this,et);return!!rt&&rt.enumerable}:$propertyIsEnumerable,objectPropertyIsEnumerable={f:f$5},createPropertyDescriptor=function(tt,et){return{enumerable:!(tt&1),configurable:!(tt&2),writable:!(tt&4),value:et}},toString$1=functionUncurryThis({}.toString),stringSlice$1=functionUncurryThis("".slice),classofRaw=function(tt){return stringSlice$1(toString$1(tt),8,-1)},Object$5=global_1.Object,split=functionUncurryThis("".split),indexedObject=fails(function(){return!Object$5("z").propertyIsEnumerable(0)})?function(tt){return classofRaw(tt)=="String"?split(tt,""):Object$5(tt)}:Object$5,TypeError$d=global_1.TypeError,requireObjectCoercible=function(tt){if(tt==null)throw TypeError$d("Can't call method on "+tt);return tt},toIndexedObject=function(tt){return indexedObject(requireObjectCoercible(tt))},isObject$1=function(tt){return typeof tt=="object"?tt!==null:isCallable(tt)},path$1={},aFunction=function(tt){return isCallable(tt)?tt:void 0},getBuiltIn=function(tt,et){return arguments.length<2?aFunction(path$1[tt])||aFunction(global_1[tt]):path$1[tt]&&path$1[tt][et]||global_1[tt]&&global_1[tt][et]},objectIsPrototypeOf=functionUncurryThis({}.isPrototypeOf),engineUserAgent=getBuiltIn("navigator","userAgent")||"",process$3=global_1.process,Deno=global_1.Deno,versions=process$3&&process$3.versions||Deno&&Deno.version,v8=versions&&versions.v8,match,version;v8&&(match=v8.split("."),version=match[0]>0&&match[0]<4?1:+(match[0]+match[1]));!version&&engineUserAgent&&(match=engineUserAgent.match(/Edge\/(\d+)/),(!match||match[1]>=74)&&(match=engineUserAgent.match(/Chrome\/(\d+)/),match&&(version=+match[1])));var engineV8Version=version,nativeSymbol=!!Object.getOwnPropertySymbols&&!fails(function(){var tt=Symbol();return!String(tt)||!(Object(tt)instanceof Symbol)||!Symbol.sham&&engineV8Version&&engineV8Version<41}),useSymbolAsUid=nativeSymbol&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Object$4=global_1.Object,isSymbol=useSymbolAsUid?function(tt){return typeof tt=="symbol"}:function(tt){var et=getBuiltIn("Symbol");return isCallable(et)&&objectIsPrototypeOf(et.prototype,Object$4(tt))},String$5=global_1.String,tryToString=function(tt){try{return String$5(tt)}catch{return"Object"}},TypeError$c=global_1.TypeError,aCallable=function(tt){if(isCallable(tt))return tt;throw TypeError$c(tryToString(tt)+" is not a function")},getMethod=function(tt,et){var rt=tt[et];return rt==null?void 0:aCallable(rt)},TypeError$b=global_1.TypeError,ordinaryToPrimitive=function(tt,et){var rt,nt;if(et==="string"&&isCallable(rt=tt.toString)&&!isObject$1(nt=functionCall(rt,tt))||isCallable(rt=tt.valueOf)&&!isObject$1(nt=functionCall(rt,tt))||et!=="string"&&isCallable(rt=tt.toString)&&!isObject$1(nt=functionCall(rt,tt)))return nt;throw TypeError$b("Can't convert object to primitive value")},isPure=!0,defineProperty$1=Object.defineProperty,setGlobal=function(tt,et){try{defineProperty$1(global_1,tt,{value:et,configurable:!0,writable:!0})}catch{global_1[tt]=et}return et},SHARED="__core-js_shared__",store$1=global_1[SHARED]||setGlobal(SHARED,{}),sharedStore=store$1,shared=createCommonjsModule(function(tt){(tt.exports=function(et,rt){return sharedStore[et]||(sharedStore[et]=rt!==void 0?rt:{})})("versions",[]).push({version:"3.20.1",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})}),Object$3=global_1.Object,toObject=function(tt){return Object$3(requireObjectCoercible(tt))},hasOwnProperty=functionUncurryThis({}.hasOwnProperty),hasOwnProperty_1=Object.hasOwn||function tt(et,rt){return hasOwnProperty(toObject(et),rt)},id$1=0,postfix=Math.random(),toString$2=functionUncurryThis(1 .toString),uid=function(tt){return"Symbol("+(tt===void 0?"":tt)+")_"+toString$2(++id$1+postfix,36)},WellKnownSymbolsStore=shared("wks"),Symbol$1=global_1.Symbol,symbolFor=Symbol$1&&Symbol$1.for,createWellKnownSymbol=useSymbolAsUid?Symbol$1:Symbol$1&&Symbol$1.withoutSetter||uid,wellKnownSymbol=function(tt){if(!hasOwnProperty_1(WellKnownSymbolsStore,tt)||!(nativeSymbol||typeof WellKnownSymbolsStore[tt]=="string")){var et="Symbol."+tt;nativeSymbol&&hasOwnProperty_1(Symbol$1,tt)?WellKnownSymbolsStore[tt]=Symbol$1[tt]:useSymbolAsUid&&symbolFor?WellKnownSymbolsStore[tt]=symbolFor(et):WellKnownSymbolsStore[tt]=createWellKnownSymbol(et)}return WellKnownSymbolsStore[tt]},TypeError$a=global_1.TypeError,TO_PRIMITIVE=wellKnownSymbol("toPrimitive"),toPrimitive=function(tt,et){if(!isObject$1(tt)||isSymbol(tt))return tt;var rt=getMethod(tt,TO_PRIMITIVE),nt;if(rt){if(et===void 0&&(et="default"),nt=functionCall(rt,tt,et),!isObject$1(nt)||isSymbol(nt))return nt;throw TypeError$a("Can't convert object to primitive value")}return et===void 0&&(et="number"),ordinaryToPrimitive(tt,et)},toPropertyKey=function(tt){var et=toPrimitive(tt,"string");return isSymbol(et)?et:et+""},document$3=global_1.document,EXISTS$1=isObject$1(document$3)&&isObject$1(document$3.createElement),documentCreateElement=function(tt){return EXISTS$1?document$3.createElement(tt):{}},ie8DomDefine=!descriptors$1&&!fails(function(){return Object.defineProperty(documentCreateElement("div"),"a",{get:function(){return 7}}).a!=7}),$getOwnPropertyDescriptor=Object.getOwnPropertyDescriptor,f$4=descriptors$1?$getOwnPropertyDescriptor:function tt(et,rt){if(et=toIndexedObject(et),rt=toPropertyKey(rt),ie8DomDefine)try{return $getOwnPropertyDescriptor(et,rt)}catch{}if(hasOwnProperty_1(et,rt))return createPropertyDescriptor(!functionCall(objectPropertyIsEnumerable.f,et,rt),et[rt])},objectGetOwnPropertyDescriptor={f:f$4},replacement=/#|\.prototype\./,isForced=function(tt,et){var rt=data$1[normalize(tt)];return rt==POLYFILL?!0:rt==NATIVE?!1:isCallable(et)?fails(et):!!et},normalize=isForced.normalize=function(tt){return String(tt).replace(replacement,".").toLowerCase()},data$1=isForced.data={},NATIVE=isForced.NATIVE="N",POLYFILL=isForced.POLYFILL="P",isForced_1=isForced,bind$1$1=functionUncurryThis(functionUncurryThis.bind),functionBindContext=function(tt,et){return aCallable(tt),et===void 0?tt:bind$1$1?bind$1$1(tt,et):function(){return tt.apply(et,arguments)}},String$4=global_1.String,TypeError$9=global_1.TypeError,anObject=function(tt){if(isObject$1(tt))return tt;throw TypeError$9(String$4(tt)+" is not an object")},TypeError$8=global_1.TypeError,$defineProperty=Object.defineProperty,f$3=descriptors$1?$defineProperty:function tt(et,rt,nt){if(anObject(et),rt=toPropertyKey(rt),anObject(nt),ie8DomDefine)try{return $defineProperty(et,rt,nt)}catch{}if("get"in nt||"set"in nt)throw TypeError$8("Accessors not supported");return"value"in nt&&(et[rt]=nt.value),et},objectDefineProperty={f:f$3},createNonEnumerableProperty=descriptors$1?function(tt,et,rt){return objectDefineProperty.f(tt,et,createPropertyDescriptor(1,rt))}:function(tt,et,rt){return tt[et]=rt,tt},getOwnPropertyDescriptor$1=objectGetOwnPropertyDescriptor.f,wrapConstructor=function(tt){var et=function(rt,nt,it){if(this instanceof et){switch(arguments.length){case 0:return new tt;case 1:return new tt(rt);case 2:return new tt(rt,nt)}return new tt(rt,nt,it)}return functionApply(tt,this,arguments)};return et.prototype=tt.prototype,et},_export=function(tt,et){var rt=tt.target,nt=tt.global,it=tt.stat,ot=tt.proto,at=nt?global_1:it?global_1[rt]:(global_1[rt]||{}).prototype,st=nt?path$1:path$1[rt]||createNonEnumerableProperty(path$1,rt,{})[rt],lt=st.prototype,ct,ut,dt,ft,pt,mt,ht,gt,vt;for(ft in et)ct=isForced_1(nt?ft:rt+(it?".":"#")+ft,tt.forced),ut=!ct&&at&&hasOwnProperty_1(at,ft),mt=st[ft],ut&&(tt.noTargetGet?(vt=getOwnPropertyDescriptor$1(at,ft),ht=vt&&vt.value):ht=at[ft]),pt=ut&&ht?ht:et[ft],!(ut&&typeof mt==typeof pt)&&(tt.bind&&ut?gt=functionBindContext(pt,global_1):tt.wrap&&ut?gt=wrapConstructor(pt):ot&&isCallable(pt)?gt=functionUncurryThis(pt):gt=pt,(tt.sham||pt&&pt.sham||mt&&mt.sham)&&createNonEnumerableProperty(gt,"sham",!0),createNonEnumerableProperty(st,ft,gt),ot&&(dt=rt+"Prototype",hasOwnProperty_1(path$1,dt)||createNonEnumerableProperty(path$1,dt,{}),createNonEnumerableProperty(path$1[dt],ft,pt),tt.real&&lt&&!lt[ft]&&createNonEnumerableProperty(lt,ft,pt)))},keys=shared("keys"),sharedKey=function(tt){return keys[tt]||(keys[tt]=uid(tt))},correctPrototypeGetter=!fails(function(){function tt(){}return tt.prototype.constructor=null,Object.getPrototypeOf(new tt)!==tt.prototype}),IE_PROTO$1=sharedKey("IE_PROTO"),Object$2=global_1.Object,ObjectPrototype=Object$2.prototype,objectGetPrototypeOf=correctPrototypeGetter?Object$2.getPrototypeOf:function(tt){var et=toObject(tt);if(hasOwnProperty_1(et,IE_PROTO$1))return et[IE_PROTO$1];var rt=et.constructor;return isCallable(rt)&&et instanceof rt?rt.prototype:et instanceof Object$2?ObjectPrototype:null},String$3=global_1.String,TypeError$7=global_1.TypeError,aPossiblePrototype=function(tt){if(typeof tt=="object"||isCallable(tt))return tt;throw TypeError$7("Can't set "+String$3(tt)+" as a prototype")},objectSetPrototypeOf=Object.setPrototypeOf||("__proto__"in{}?function(){var tt=!1,et={},rt;try{rt=functionUncurryThis(Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set),rt(et,[]),tt=et instanceof Array}catch{}return function(it,ot){return anObject(it),aPossiblePrototype(ot),tt?rt(it,ot):it.__proto__=ot,it}}():void 0),ceil=Math.ceil,floor=Math.floor,toIntegerOrInfinity=function(tt){var et=+tt;return et!==et||et===0?0:(et>0?floor:ceil)(et)},max=Math.max,min$1=Math.min,toAbsoluteIndex=function(tt,et){var rt=toIntegerOrInfinity(tt);return rt<0?max(rt+et,0):min$1(rt,et)},min=Math.min,toLength=function(tt){return tt>0?min(toIntegerOrInfinity(tt),9007199254740991):0},lengthOfArrayLike=function(tt){return toLength(tt.length)},createMethod$1=function(tt){return function(et,rt,nt){var it=toIndexedObject(et),ot=lengthOfArrayLike(it),at=toAbsoluteIndex(nt,ot),st;if(tt&&rt!=rt){for(;ot>at;)if(st=it[at++],st!=st)return!0}else for(;ot>at;at++)if((tt||at in it)&&it[at]===rt)return tt||at||0;return!tt&&-1}},arrayIncludes$1={includes:createMethod$1(!0),indexOf:createMethod$1(!1)},hiddenKeys$1={},indexOf=arrayIncludes$1.indexOf,push$1=functionUncurryThis([].push),objectKeysInternal=function(tt,et){var rt=toIndexedObject(tt),nt=0,it=[],ot;for(ot in rt)!hasOwnProperty_1(hiddenKeys$1,ot)&&hasOwnProperty_1(rt,ot)&&push$1(it,ot);for(;et.length>nt;)hasOwnProperty_1(rt,ot=et[nt++])&&(~indexOf(it,ot)||push$1(it,ot));return it},enumBugKeys=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],hiddenKeys=enumBugKeys.concat("length","prototype"),f$2=Object.getOwnPropertyNames||function tt(et){return objectKeysInternal(et,hiddenKeys)},objectGetOwnPropertyNames={f:f$2},f$1=Object.getOwnPropertySymbols,objectGetOwnPropertySymbols={f:f$1},concat=functionUncurryThis([].concat),ownKeys=getBuiltIn("Reflect","ownKeys")||function tt(et){var rt=objectGetOwnPropertyNames.f(anObject(et)),nt=objectGetOwnPropertySymbols.f;return nt?concat(rt,nt(et)):rt},copyConstructorProperties=function(tt,et,rt){for(var nt=ownKeys(et),it=objectDefineProperty.f,ot=objectGetOwnPropertyDescriptor.f,at=0;at<nt.length;at++){var st=nt[at];!hasOwnProperty_1(tt,st)&&!(rt&&hasOwnProperty_1(rt,st))&&it(tt,st,ot(et,st))}},objectKeys=Object.keys||function tt(et){return objectKeysInternal(et,enumBugKeys)},objectDefineProperties=descriptors$1?Object.defineProperties:function tt(et,rt){anObject(et);for(var nt=toIndexedObject(rt),it=objectKeys(rt),ot=it.length,at=0,st;ot>at;)objectDefineProperty.f(et,st=it[at++],nt[st]);return et},html=getBuiltIn("document","documentElement"),GT=">",LT="<",PROTOTYPE="prototype",SCRIPT="script",IE_PROTO=sharedKey("IE_PROTO"),EmptyConstructor=function(){},scriptTag=function(tt){return LT+SCRIPT+GT+tt+LT+"/"+SCRIPT+GT},NullProtoObjectViaActiveX=function(tt){tt.write(scriptTag("")),tt.close();var et=tt.parentWindow.Object;return tt=null,et},NullProtoObjectViaIFrame=function(){var tt=documentCreateElement("iframe"),et="java"+SCRIPT+":",rt;return tt.style.display="none",html.appendChild(tt),tt.src=String(et),rt=tt.contentWindow.document,rt.open(),rt.write(scriptTag("document.F=Object")),rt.close(),rt.F},activeXDocument,NullProtoObject=function(){try{activeXDocument=new ActiveXObject("htmlfile")}catch{}NullProtoObject=typeof document<"u"?document.domain&&activeXDocument?NullProtoObjectViaActiveX(activeXDocument):NullProtoObjectViaIFrame():NullProtoObjectViaActiveX(activeXDocument);for(var tt=enumBugKeys.length;tt--;)delete NullProtoObject[PROTOTYPE][enumBugKeys[tt]];return NullProtoObject()};hiddenKeys$1[IE_PROTO]=!0;var objectCreate=Object.create||function tt(et,rt){var nt;return et!==null?(EmptyConstructor[PROTOTYPE]=anObject(et),nt=new EmptyConstructor,EmptyConstructor[PROTOTYPE]=null,nt[IE_PROTO]=et):nt=NullProtoObject(),rt===void 0?nt:objectDefineProperties(nt,rt)},replace=functionUncurryThis("".replace),TEST=function(tt){return String(Error(tt).stack)}("zxcasd"),V8_OR_CHAKRA_STACK_ENTRY=/\n\s*at [^:]*:[^\n]*/,IS_V8_OR_CHAKRA_STACK=V8_OR_CHAKRA_STACK_ENTRY.test(TEST),clearErrorStack=function(tt,et){if(IS_V8_OR_CHAKRA_STACK&&typeof tt=="string")for(;et--;)tt=replace(tt,V8_OR_CHAKRA_STACK_ENTRY,"");return tt},installErrorCause=function(tt,et){isObject$1(et)&&"cause"in et&&createNonEnumerableProperty(tt,"cause",et.cause)},iterators={},ITERATOR$4=wellKnownSymbol("iterator"),ArrayPrototype=Array.prototype,isArrayIteratorMethod=function(tt){return tt!==void 0&&(iterators.Array===tt||ArrayPrototype[ITERATOR$4]===tt)},TO_STRING_TAG$4=wellKnownSymbol("toStringTag"),test={};test[TO_STRING_TAG$4]="z";var toStringTagSupport=String(test)==="[object z]",TO_STRING_TAG$3=wellKnownSymbol("toStringTag"),Object$1=global_1.Object,CORRECT_ARGUMENTS=classofRaw(function(){return arguments}())=="Arguments",tryGet=function(tt,et){try{return tt[et]}catch{}},classof=toStringTagSupport?classofRaw:function(tt){var et,rt,nt;return tt===void 0?"Undefined":tt===null?"Null":typeof(rt=tryGet(et=Object$1(tt),TO_STRING_TAG$3))=="string"?rt:CORRECT_ARGUMENTS?classofRaw(et):(nt=classofRaw(et))=="Object"&&isCallable(et.callee)?"Arguments":nt},ITERATOR$3=wellKnownSymbol("iterator"),getIteratorMethod=function(tt){if(tt!=null)return getMethod(tt,ITERATOR$3)||getMethod(tt,"@@iterator")||iterators[classof(tt)]},TypeError$6=global_1.TypeError,getIterator=function(tt,et){var rt=arguments.length<2?getIteratorMethod(tt):et;if(aCallable(rt))return anObject(functionCall(rt,tt));throw TypeError$6(tryToString(tt)+" is not iterable")},iteratorClose=function(tt,et,rt){var nt,it;anObject(tt);try{if(nt=getMethod(tt,"return"),!nt){if(et==="throw")throw rt;return rt}nt=functionCall(nt,tt)}catch(ot){it=!0,nt=ot}if(et==="throw")throw rt;if(it)throw nt;return anObject(nt),rt},TypeError$5=global_1.TypeError,Result=function(tt,et){this.stopped=tt,this.result=et},ResultPrototype=Result.prototype,iterate=function(tt,et,rt){var nt=rt&&rt.that,it=!!(rt&&rt.AS_ENTRIES),ot=!!(rt&&rt.IS_ITERATOR),at=!!(rt&&rt.INTERRUPTED),st=functionBindContext(et,nt),lt,ct,ut,dt,ft,pt,mt,ht=function(vt){return lt&&iteratorClose(lt,"normal",vt),new Result(!0,vt)},gt=function(vt){return it?(anObject(vt),at?st(vt[0],vt[1],ht):st(vt[0],vt[1])):at?st(vt,ht):st(vt)};if(ot)lt=tt;else{if(ct=getIteratorMethod(tt),!ct)throw TypeError$5(tryToString(tt)+" is not iterable");if(isArrayIteratorMethod(ct)){for(ut=0,dt=lengthOfArrayLike(tt);dt>ut;ut++)if(ft=gt(tt[ut]),ft&&objectIsPrototypeOf(ResultPrototype,ft))return ft;return new Result(!1)}lt=getIterator(tt,ct)}for(pt=lt.next;!(mt=functionCall(pt,lt)).done;){try{ft=gt(mt.value)}catch(vt){iteratorClose(lt,"throw",vt)}if(typeof ft=="object"&&ft&&objectIsPrototypeOf(ResultPrototype,ft))return ft}return new Result(!1)},String$2=global_1.String,toString_1=function(tt){if(classof(tt)==="Symbol")throw TypeError("Cannot convert a Symbol value to a string");return String$2(tt)},normalizeStringArgument=function(tt,et){return tt===void 0?arguments.length<2?"":et:toString_1(tt)},errorStackInstallable=!fails(function(){var tt=Error("a");return"stack"in tt?(Object.defineProperty(tt,"stack",createPropertyDescriptor(1,7)),tt.stack!==7):!0}),TO_STRING_TAG$2=wellKnownSymbol("toStringTag"),Error$1$1=global_1.Error,push=[].push,$AggregateError=function tt(et,rt){var nt=arguments.length>2?arguments[2]:void 0,it=objectIsPrototypeOf(AggregateErrorPrototype,this),ot;objectSetPrototypeOf?ot=objectSetPrototypeOf(new Error$1$1,it?objectGetPrototypeOf(this):AggregateErrorPrototype):(ot=it?this:objectCreate(AggregateErrorPrototype),createNonEnumerableProperty(ot,TO_STRING_TAG$2,"Error")),rt!==void 0&&createNonEnumerableProperty(ot,"message",normalizeStringArgument(rt)),errorStackInstallable&&createNonEnumerableProperty(ot,"stack",clearErrorStack(ot.stack,1)),installErrorCause(ot,nt);var at=[];return iterate(et,push,{that:at}),createNonEnumerableProperty(ot,"errors",at),ot};objectSetPrototypeOf?objectSetPrototypeOf($AggregateError,Error$1$1):copyConstructorProperties($AggregateError,Error$1$1,{name:!0});var AggregateErrorPrototype=$AggregateError.prototype=objectCreate(Error$1$1.prototype,{constructor:createPropertyDescriptor(1,$AggregateError),message:createPropertyDescriptor(1,""),name:createPropertyDescriptor(1,"AggregateError")});_export({global:!0},{AggregateError:$AggregateError});var functionToString=functionUncurryThis(Function.toString);isCallable(sharedStore.inspectSource)||(sharedStore.inspectSource=function(tt){return functionToString(tt)});var inspectSource=sharedStore.inspectSource,WeakMap$1=global_1.WeakMap,nativeWeakMap=isCallable(WeakMap$1)&&/native code/.test(inspectSource(WeakMap$1)),OBJECT_ALREADY_INITIALIZED="Object already initialized",TypeError$4=global_1.TypeError,WeakMap$2=global_1.WeakMap,set$1,get$1,has,enforce=function(tt){return has(tt)?get$1(tt):set$1(tt,{})},getterFor=function(tt){return function(et){var rt;if(!isObject$1(et)||(rt=get$1(et)).type!==tt)throw TypeError$4("Incompatible receiver, "+tt+" required");return rt}};if(nativeWeakMap||sharedStore.state){var store=sharedStore.state||(sharedStore.state=new WeakMap$2),wmget=functionUncurryThis(store.get),wmhas=functionUncurryThis(store.has),wmset=functionUncurryThis(store.set);set$1=function(tt,et){if(wmhas(store,tt))throw new TypeError$4(OBJECT_ALREADY_INITIALIZED);return et.facade=tt,wmset(store,tt,et),et},get$1=function(tt){return wmget(store,tt)||{}},has=function(tt){return wmhas(store,tt)}}else{var STATE=sharedKey("state");hiddenKeys$1[STATE]=!0,set$1=function(tt,et){if(hasOwnProperty_1(tt,STATE))throw new TypeError$4(OBJECT_ALREADY_INITIALIZED);return et.facade=tt,createNonEnumerableProperty(tt,STATE,et),et},get$1=function(tt){return hasOwnProperty_1(tt,STATE)?tt[STATE]:{}},has=function(tt){return hasOwnProperty_1(tt,STATE)}}var internalState={set:set$1,get:get$1,has,enforce,getterFor},FunctionPrototype=Function.prototype,getDescriptor=descriptors$1&&Object.getOwnPropertyDescriptor,EXISTS=hasOwnProperty_1(FunctionPrototype,"name"),PROPER=EXISTS&&function tt(){}.name==="something",CONFIGURABLE=EXISTS&&(!descriptors$1||descriptors$1&&getDescriptor(FunctionPrototype,"name").configurable),functionName={EXISTS,PROPER,CONFIGURABLE},redefine=function(tt,et,rt,nt){nt&&nt.enumerable?tt[et]=rt:createNonEnumerableProperty(tt,et,rt)},ITERATOR$2=wellKnownSymbol("iterator"),BUGGY_SAFARI_ITERATORS$1=!1,IteratorPrototype$1,PrototypeOfArrayIteratorPrototype,arrayIterator;[].keys&&(arrayIterator=[].keys(),"next"in arrayIterator?(PrototypeOfArrayIteratorPrototype=objectGetPrototypeOf(objectGetPrototypeOf(arrayIterator)),PrototypeOfArrayIteratorPrototype!==Object.prototype&&(IteratorPrototype$1=PrototypeOfArrayIteratorPrototype)):BUGGY_SAFARI_ITERATORS$1=!0);var NEW_ITERATOR_PROTOTYPE=IteratorPrototype$1==null||fails(function(){var tt={};return IteratorPrototype$1[ITERATOR$2].call(tt)!==tt});NEW_ITERATOR_PROTOTYPE?IteratorPrototype$1={}:IteratorPrototype$1=objectCreate(IteratorPrototype$1);isCallable(IteratorPrototype$1[ITERATOR$2])||redefine(IteratorPrototype$1,ITERATOR$2,function(){return this});var iteratorsCore={IteratorPrototype:IteratorPrototype$1,BUGGY_SAFARI_ITERATORS:BUGGY_SAFARI_ITERATORS$1},objectToString=toStringTagSupport?{}.toString:function tt(){return"[object "+classof(this)+"]"},defineProperty=objectDefineProperty.f,TO_STRING_TAG$1=wellKnownSymbol("toStringTag"),setToStringTag=function(tt,et,rt,nt){if(tt){var it=rt?tt:tt.prototype;hasOwnProperty_1(it,TO_STRING_TAG$1)||defineProperty(it,TO_STRING_TAG$1,{configurable:!0,value:et}),nt&&!toStringTagSupport&&createNonEnumerableProperty(it,"toString",objectToString)}},IteratorPrototype=iteratorsCore.IteratorPrototype,returnThis$1=function(){return this},createIteratorConstructor=function(tt,et,rt,nt){var it=et+" Iterator";return tt.prototype=objectCreate(IteratorPrototype,{next:createPropertyDescriptor(+!nt,rt)}),setToStringTag(tt,it,!1,!0),iterators[it]=returnThis$1,tt},PROPER_FUNCTION_NAME=functionName.PROPER,BUGGY_SAFARI_ITERATORS=iteratorsCore.BUGGY_SAFARI_ITERATORS,ITERATOR$1=wellKnownSymbol("iterator"),KEYS="keys",VALUES="values",ENTRIES="entries",returnThis=function(){return this},defineIterator=function(tt,et,rt,nt,it,ot,at){createIteratorConstructor(rt,et,nt);var st=function(vt){if(vt===it&&ft)return ft;if(!BUGGY_SAFARI_ITERATORS&&vt in ut)return ut[vt];switch(vt){case KEYS:return function(){return new rt(this,vt)};case VALUES:return function(){return new rt(this,vt)};case ENTRIES:return function(){return new rt(this,vt)}}return function(){return new rt(this)}},lt=et+" Iterator",ct=!1,ut=tt.prototype,dt=ut[ITERATOR$1]||ut["@@iterator"]||it&&ut[it],ft=!BUGGY_SAFARI_ITERATORS&&dt||st(it),pt=et=="Array"&&ut.entries||dt,mt,ht,gt;if(pt&&(mt=objectGetPrototypeOf(pt.call(new tt)),mt!==Object.prototype&&mt.next&&(setToStringTag(mt,lt,!0,!0),iterators[lt]=returnThis)),PROPER_FUNCTION_NAME&&it==VALUES&&dt&&dt.name!==VALUES&&(ct=!0,ft=function(){return functionCall(dt,this)}),it)if(ht={values:st(VALUES),keys:ot?ft:st(KEYS),entries:st(ENTRIES)},at)for(gt in ht)(BUGGY_SAFARI_ITERATORS||ct||!(gt in ut))&&redefine(ut,gt,ht[gt]);else _export({target:et,proto:!0,forced:BUGGY_SAFARI_ITERATORS||ct},ht);return at&&ut[ITERATOR$1]!==ft&&redefine(ut,ITERATOR$1,ft,{name:it}),iterators[et]=ft,ht};objectDefineProperty.f;var ARRAY_ITERATOR="Array Iterator",setInternalState$2=internalState.set,getInternalState$2=internalState.getterFor(ARRAY_ITERATOR);defineIterator(Array,"Array",function(tt,et){setInternalState$2(this,{type:ARRAY_ITERATOR,target:toIndexedObject(tt),index:0,kind:et})},function(){var tt=getInternalState$2(this),et=tt.target,rt=tt.kind,nt=tt.index++;return!et||nt>=et.length?(tt.target=void 0,{value:void 0,done:!0}):rt=="keys"?{value:nt,done:!1}:rt=="values"?{value:et[nt],done:!1}:{value:[nt,et[nt]],done:!1}},"values");iterators.Arguments=iterators.Array;var nativePromiseConstructor=global_1.Promise,redefineAll=function(tt,et,rt){for(var nt in et)rt&&rt.unsafe&&tt[nt]?tt[nt]=et[nt]:redefine(tt,nt,et[nt],rt);return tt},SPECIES$2=wellKnownSymbol("species"),setSpecies=function(tt){var et=getBuiltIn(tt),rt=objectDefineProperty.f;descriptors$1&&et&&!et[SPECIES$2]&&rt(et,SPECIES$2,{configurable:!0,get:function(){return this}})},TypeError$3=global_1.TypeError,anInstance=function(tt,et){if(objectIsPrototypeOf(et,tt))return tt;throw TypeError$3("Incorrect invocation")},ITERATOR=wellKnownSymbol("iterator"),SAFE_CLOSING=!1;try{var called=0,iteratorWithReturn={next:function(){return{done:!!called++}},return:function(){SAFE_CLOSING=!0}};iteratorWithReturn[ITERATOR]=function(){return this},Array.from(iteratorWithReturn,function(){throw 2})}catch(tt){}var checkCorrectnessOfIteration=function(tt,et){if(!et&&!SAFE_CLOSING)return!1;var rt=!1;try{var nt={};nt[ITERATOR]=function(){return{next:function(){return{done:rt=!0}}}},tt(nt)}catch{}return rt},noop$1=function(){},empty=[],construct=getBuiltIn("Reflect","construct"),constructorRegExp=/^\s*(?:class|function)\b/,exec=functionUncurryThis(constructorRegExp.exec),INCORRECT_TO_STRING=!constructorRegExp.exec(noop$1),isConstructorModern=function tt(et){if(!isCallable(et))return!1;try{return construct(noop$1,empty,et),!0}catch{return!1}},isConstructorLegacy=function tt(et){if(!isCallable(et))return!1;switch(classof(et)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return INCORRECT_TO_STRING||!!exec(constructorRegExp,inspectSource(et))}catch{return!0}};isConstructorLegacy.sham=!0;var isConstructor=!construct||fails(function(){var tt;return isConstructorModern(isConstructorModern.call)||!isConstructorModern(Object)||!isConstructorModern(function(){tt=!0})||tt})?isConstructorLegacy:isConstructorModern,TypeError$2=global_1.TypeError,aConstructor=function(tt){if(isConstructor(tt))return tt;throw TypeError$2(tryToString(tt)+" is not a constructor")},SPECIES$1=wellKnownSymbol("species"),speciesConstructor=function(tt,et){var rt=anObject(tt).constructor,nt;return rt===void 0||(nt=anObject(rt)[SPECIES$1])==null?et:aConstructor(nt)},arraySlice=functionUncurryThis([].slice),engineIsIos=/(?:ipad|iphone|ipod).*applewebkit/i.test(engineUserAgent),engineIsNode=classofRaw(global_1.process)=="process",set=global_1.setImmediate,clear=global_1.clearImmediate,process$2=global_1.process,Dispatch=global_1.Dispatch,Function$1=global_1.Function,MessageChannel$1=global_1.MessageChannel,String$1=global_1.String,counter=0,queue$1={},ONREADYSTATECHANGE="onreadystatechange",location$1,defer,channel,port;try{location$1=global_1.location}catch(tt){}var run=function(tt){if(hasOwnProperty_1(queue$1,tt)){var et=queue$1[tt];delete queue$1[tt],et()}},runner=function(tt){return function(){run(tt)}},listener=function(tt){run(tt.data)},post$1=function(tt){global_1.postMessage(String$1(tt),location$1.protocol+"//"+location$1.host)};(!set||!clear)&&(set=function(et){var rt=arraySlice(arguments,1);return queue$1[++counter]=function(){functionApply(isCallable(et)?et:Function$1(et),void 0,rt)},defer(counter),counter},clear=function(et){delete queue$1[et]},engineIsNode?defer=function(tt){process$2.nextTick(runner(tt))}:Dispatch&&Dispatch.now?defer=function(tt){Dispatch.now(runner(tt))}:MessageChannel$1&&!engineIsIos?(channel=new MessageChannel$1,port=channel.port2,channel.port1.onmessage=listener,defer=functionBindContext(port.postMessage,port)):global_1.addEventListener&&isCallable(global_1.postMessage)&&!global_1.importScripts&&location$1&&location$1.protocol!=="file:"&&!fails(post$1)?(defer=post$1,global_1.addEventListener("message",listener,!1)):ONREADYSTATECHANGE in documentCreateElement("script")?defer=function(tt){html.appendChild(documentCreateElement("script"))[ONREADYSTATECHANGE]=function(){html.removeChild(this),run(tt)}}:defer=function(tt){setTimeout(runner(tt),0)});var task$1={set,clear},engineIsIosPebble=/ipad|iphone|ipod/i.test(engineUserAgent)&&global_1.Pebble!==void 0,engineIsWebosWebkit=/web0s(?!.*chrome)/i.test(engineUserAgent),getOwnPropertyDescriptor=objectGetOwnPropertyDescriptor.f,macrotask=task$1.set,MutationObserver$1=global_1.MutationObserver||global_1.WebKitMutationObserver,document$2=global_1.document,process$1=global_1.process,Promise$1=global_1.Promise,queueMicrotaskDescriptor=getOwnPropertyDescriptor(global_1,"queueMicrotask"),queueMicrotask$1=queueMicrotaskDescriptor&&queueMicrotaskDescriptor.value,flush,head,last,notify$1,toggle,node,promise$3,then;queueMicrotask$1||(flush=function(){var tt,et;for(engineIsNode&&(tt=process$1.domain)&&tt.exit();head;){et=head.fn,head=head.next;try{et()}catch(rt){throw head?notify$1():last=void 0,rt}}last=void 0,tt&&tt.enter()},!engineIsIos&&!engineIsNode&&!engineIsWebosWebkit&&MutationObserver$1&&document$2?(toggle=!0,node=document$2.createTextNode(""),new MutationObserver$1(flush).observe(node,{characterData:!0}),notify$1=function(){node.data=toggle=!toggle}):!engineIsIosPebble&&Promise$1&&Promise$1.resolve?(promise$3=Promise$1.resolve(void 0),promise$3.constructor=Promise$1,then=functionBindContext(promise$3.then,promise$3),notify$1=function(){then(flush)}):engineIsNode?notify$1=function(){process$1.nextTick(flush)}:(macrotask=functionBindContext(macrotask,global_1),notify$1=function(){macrotask(flush)}));var microtask=queueMicrotask$1||function(tt){var et={fn:tt,next:void 0};last&&(last.next=et),head||(head=et,notify$1()),last=et},PromiseCapability=function(tt){var et,rt;this.promise=new tt(function(nt,it){if(et!==void 0||rt!==void 0)throw TypeError("Bad Promise constructor");et=nt,rt=it}),this.resolve=aCallable(et),this.reject=aCallable(rt)},f$6=function(tt){return new PromiseCapability(tt)},newPromiseCapability$1={f:f$6},promiseResolve=function(tt,et){if(anObject(tt),isObject$1(et)&&et.constructor===tt)return et;var rt=newPromiseCapability$1.f(tt),nt=rt.resolve;return nt(et),rt.promise},hostReportErrors=function(tt,et){var rt=global_1.console;rt&&rt.error&&(arguments.length==1?rt.error(tt):rt.error(tt,et))},perform=function(tt){try{return{error:!1,value:tt()}}catch(et){return{error:!0,value:et}}},Queue=function(){this.head=null,this.tail=null};Queue.prototype={add:function(tt){var et={item:tt,next:null};this.head?this.tail.next=et:this.head=et,this.tail=et},get:function(){var tt=this.head;if(tt)return this.head=tt.next,this.tail===tt&&(this.tail=null),tt.item}};var queue=Queue,engineIsBrowser=typeof window=="object",task=task$1.set,SPECIES=wellKnownSymbol("species"),PROMISE="Promise",getInternalState$1=internalState.getterFor(PROMISE),setInternalState$1=internalState.set,getInternalPromiseState=internalState.getterFor(PROMISE),NativePromisePrototype=nativePromiseConstructor&&nativePromiseConstructor.prototype,PromiseConstructor=nativePromiseConstructor,PromisePrototype=NativePromisePrototype,TypeError$1=global_1.TypeError,document$1=global_1.document,process$4=global_1.process,newPromiseCapability=newPromiseCapability$1.f,newGenericPromiseCapability=newPromiseCapability,DISPATCH_EVENT=!!(document$1&&document$1.createEvent&&global_1.dispatchEvent),NATIVE_REJECTION_EVENT=isCallable(global_1.PromiseRejectionEvent),UNHANDLED_REJECTION="unhandledrejection",REJECTION_HANDLED="rejectionhandled",PENDING=0,FULFILLED=1,REJECTED=2,HANDLED=1,UNHANDLED=2,SUBCLASSING=!1,Internal,OwnPromiseCapability,PromiseWrapper,FORCED=isForced_1(PROMISE,function(){var tt=inspectSource(PromiseConstructor),et=tt!==String(PromiseConstructor);if(!et&&engineV8Version===66||!PromisePrototype.finally)return!0;if(engineV8Version>=51&&/native code/.test(tt))return!1;var rt=new PromiseConstructor(function(ot){ot(1)}),nt=function(ot){ot(function(){},function(){})},it=rt.constructor={};return it[SPECIES]=nt,SUBCLASSING=rt.then(function(){})instanceof nt,SUBCLASSING?!et&&engineIsBrowser&&!NATIVE_REJECTION_EVENT:!0}),INCORRECT_ITERATION=FORCED||!checkCorrectnessOfIteration(function(tt){PromiseConstructor.all(tt).catch(function(){})}),isThenable=function(tt){var et;return isObject$1(tt)&&isCallable(et=tt.then)?et:!1},callReaction=function(tt,et){var rt=et.value,nt=et.state==FULFILLED,it=nt?tt.ok:tt.fail,ot=tt.resolve,at=tt.reject,st=tt.domain,lt,ct,ut;try{it?(nt||(et.rejection===UNHANDLED&&onHandleUnhandled(et),et.rejection=HANDLED),it===!0?lt=rt:(st&&st.enter(),lt=it(rt),st&&(st.exit(),ut=!0)),lt===tt.promise?at(TypeError$1("Promise-chain cycle")):(ct=isThenable(lt))?functionCall(ct,lt,ot,at):ot(lt)):at(rt)}catch(dt){st&&!ut&&st.exit(),at(dt)}},notify=function(tt,et){tt.notified||(tt.notified=!0,microtask(function(){for(var rt=tt.reactions,nt;nt=rt.get();)callReaction(nt,tt);tt.notified=!1,et&&!tt.rejection&&onUnhandled(tt)}))},dispatchEvent=function(tt,et,rt){var nt,it;DISPATCH_EVENT?(nt=document$1.createEvent("Event"),nt.promise=et,nt.reason=rt,nt.initEvent(tt,!1,!0),global_1.dispatchEvent(nt)):nt={promise:et,reason:rt},!NATIVE_REJECTION_EVENT&&(it=global_1["on"+tt])?it(nt):tt===UNHANDLED_REJECTION&&hostReportErrors("Unhandled promise rejection",rt)},onUnhandled=function(tt){functionCall(task,global_1,function(){var et=tt.facade,rt=tt.value,nt=isUnhandled(tt),it;if(nt&&(it=perform(function(){engineIsNode?process$4.emit("unhandledRejection",rt,et):dispatchEvent(UNHANDLED_REJECTION,et,rt)}),tt.rejection=engineIsNode||isUnhandled(tt)?UNHANDLED:HANDLED,it.error))throw it.value})},isUnhandled=function(tt){return tt.rejection!==HANDLED&&!tt.parent},onHandleUnhandled=function(tt){functionCall(task,global_1,function(){var et=tt.facade;engineIsNode?process$4.emit("rejectionHandled",et):dispatchEvent(REJECTION_HANDLED,et,tt.value)})},bind$4=function(tt,et,rt){return function(nt){tt(et,nt,rt)}},internalReject=function(tt,et,rt){tt.done||(tt.done=!0,rt&&(tt=rt),tt.value=et,tt.state=REJECTED,notify(tt,!0))},internalResolve=function(tt,et,rt){if(!tt.done){tt.done=!0,rt&&(tt=rt);try{if(tt.facade===et)throw TypeError$1("Promise can't be resolved itself");var nt=isThenable(et);nt?microtask(function(){var it={done:!1};try{functionCall(nt,et,bind$4(internalResolve,it,tt),bind$4(internalReject,it,tt))}catch(ot){internalReject(it,ot,tt)}}):(tt.value=et,tt.state=FULFILLED,notify(tt,!1))}catch(it){internalReject({done:!1},it,tt)}}};FORCED&&(PromiseConstructor=function(et){anInstance(this,PromisePrototype),aCallable(et),functionCall(Internal,this);var rt=getInternalState$1(this);try{et(bind$4(internalResolve,rt),bind$4(internalReject,rt))}catch(nt){internalReject(rt,nt)}},PromisePrototype=PromiseConstructor.prototype,Internal=function(et){setInternalState$1(this,{type:PROMISE,done:!1,notified:!1,parent:!1,reactions:new queue,rejection:!1,state:PENDING,value:void 0})},Internal.prototype=redefineAll(PromisePrototype,{then:function(et,rt){var nt=getInternalPromiseState(this),it=newPromiseCapability(speciesConstructor(this,PromiseConstructor));return nt.parent=!0,it.ok=isCallable(et)?et:!0,it.fail=isCallable(rt)&&rt,it.domain=engineIsNode?process$4.domain:void 0,nt.state==PENDING?nt.reactions.add(it):microtask(function(){callReaction(it,nt)}),it.promise},catch:function(tt){return this.then(void 0,tt)}}),OwnPromiseCapability=function(){var tt=new Internal,et=getInternalState$1(tt);this.promise=tt,this.resolve=bind$4(internalResolve,et),this.reject=bind$4(internalReject,et)},newPromiseCapability$1.f=newPromiseCapability=function(tt){return tt===PromiseConstructor||tt===PromiseWrapper?new OwnPromiseCapability(tt):newGenericPromiseCapability(tt)});_export({global:!0,wrap:!0,forced:FORCED},{Promise:PromiseConstructor});setToStringTag(PromiseConstructor,PROMISE,!1,!0);setSpecies(PROMISE);PromiseWrapper=getBuiltIn(PROMISE);_export({target:PROMISE,stat:!0,forced:FORCED},{reject:function tt(et){var rt=newPromiseCapability(this);return functionCall(rt.reject,void 0,et),rt.promise}});_export({target:PROMISE,stat:!0,forced:isPure},{resolve:function tt(et){return promiseResolve(this===PromiseWrapper?PromiseConstructor:this,et)}});_export({target:PROMISE,stat:!0,forced:INCORRECT_ITERATION},{all:function tt(et){var rt=this,nt=newPromiseCapability(rt),it=nt.resolve,ot=nt.reject,at=perform(function(){var st=aCallable(rt.resolve),lt=[],ct=0,ut=1;iterate(et,function(dt){var ft=ct++,pt=!1;ut++,functionCall(st,rt,dt).then(function(mt){pt||(pt=!0,lt[ft]=mt,--ut||it(lt))},ot)}),--ut||it(lt)});return at.error&&ot(at.value),nt.promise},race:function tt(et){var rt=this,nt=newPromiseCapability(rt),it=nt.reject,ot=perform(function(){var at=aCallable(rt.resolve);iterate(et,function(st){functionCall(at,rt,st).then(nt.resolve,it)})});return ot.error&&it(ot.value),nt.promise}});_export({target:"Promise",stat:!0},{allSettled:function tt(et){var rt=this,nt=newPromiseCapability$1.f(rt),it=nt.resolve,ot=nt.reject,at=perform(function(){var st=aCallable(rt.resolve),lt=[],ct=0,ut=1;iterate(et,function(dt){var ft=ct++,pt=!1;ut++,functionCall(st,rt,dt).then(function(mt){pt||(pt=!0,lt[ft]={status:"fulfilled",value:mt},--ut||it(lt))},function(mt){pt||(pt=!0,lt[ft]={status:"rejected",reason:mt},--ut||it(lt))})}),--ut||it(lt)});return at.error&&ot(at.value),nt.promise}});var PROMISE_ANY_ERROR="No one promise resolved";_export({target:"Promise",stat:!0},{any:function tt(et){var rt=this,nt=getBuiltIn("AggregateError"),it=newPromiseCapability$1.f(rt),ot=it.resolve,at=it.reject,st=perform(function(){var lt=aCallable(rt.resolve),ct=[],ut=0,dt=1,ft=!1;iterate(et,function(pt){var mt=ut++,ht=!1;dt++,functionCall(lt,rt,pt).then(function(gt){ht||ft||(ft=!0,ot(gt))},function(gt){ht||ft||(ht=!0,ct[mt]=gt,--dt||at(new nt(ct,PROMISE_ANY_ERROR)))})}),--dt||at(new nt(ct,PROMISE_ANY_ERROR))});return st.error&&at(st.value),it.promise}});var NON_GENERIC=!!nativePromiseConstructor&&fails(function(){nativePromiseConstructor.prototype.finally.call({then:function(){}},function(){})});_export({target:"Promise",proto:!0,real:!0,forced:NON_GENERIC},{finally:function(tt){var et=speciesConstructor(this,getBuiltIn("Promise")),rt=isCallable(tt);return this.then(rt?function(nt){return promiseResolve(et,tt()).then(function(){return nt})}:tt,rt?function(nt){return promiseResolve(et,tt()).then(function(){throw nt})}:tt)}});var charAt$1=functionUncurryThis("".charAt),charCodeAt=functionUncurryThis("".charCodeAt),stringSlice=functionUncurryThis("".slice),createMethod=function(tt){return function(et,rt){var nt=toString_1(requireObjectCoercible(et)),it=toIntegerOrInfinity(rt),ot=nt.length,at,st;return it<0||it>=ot?tt?"":void 0:(at=charCodeAt(nt,it),at<55296||at>56319||it+1===ot||(st=charCodeAt(nt,it+1))<56320||st>57343?tt?charAt$1(nt,it):at:tt?stringSlice(nt,it,it+2):(at-55296<<10)+(st-56320)+65536)}},stringMultibyte={codeAt:createMethod(!1),charAt:createMethod(!0)},charAt=stringMultibyte.charAt,STRING_ITERATOR="String Iterator",setInternalState=internalState.set,getInternalState=internalState.getterFor(STRING_ITERATOR);defineIterator(String,"String",function(tt){setInternalState(this,{type:STRING_ITERATOR,string:toString_1(tt),index:0})},function tt(){var et=getInternalState(this),rt=et.string,nt=et.index,it;return nt>=rt.length?{value:void 0,done:!0}:(it=charAt(rt,nt),et.index+=it.length,{value:it,done:!1})});var promise$2=path$1.Promise,domIterables={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0},TO_STRING_TAG=wellKnownSymbol("toStringTag");for(var COLLECTION_NAME in domIterables){var Collection=global_1[COLLECTION_NAME],CollectionPrototype=Collection&&Collection.prototype;CollectionPrototype&&classof(CollectionPrototype)!==TO_STRING_TAG&&createNonEnumerableProperty(CollectionPrototype,TO_STRING_TAG,COLLECTION_NAME),iterators[COLLECTION_NAME]=iterators.Array}var promise$1=promise$2,promise=promise$1,DEFAULT_SIZE=10,DEFAULT_WAIT=1e3,stringifyBatch=function(tt){return JSON.stringify({ev_type:"batch",list:tt})};function createBatchSender(tt){var et=tt.transport,rt=tt.endpoint,nt=tt.size,it=nt===void 0?DEFAULT_SIZE:nt,ot=tt.wait,at=ot===void 0?DEFAULT_WAIT:ot,st=[],lt=0,ct={getSize:function(){return it},getWait:function(){return at},setSize:function(dt){it=dt},setWait:function(dt){at=dt},getEndpoint:function(){return rt},setEndpoint:function(dt){rt=dt},send:function(dt){st.push(dt),st.length>=it&&ut.call(this),clearTimeout(lt),lt=setTimeout(ut.bind(this),at)},flush:function(){clearTimeout(lt),ut.call(this)},getBatchData:function(){return st.length?stringifyBatch(st):""},clear:function(){clearTimeout(lt),st=[]}};function ut(){st.length&&(et.post({url:rt,data:this.getBatchData()}),st=[])}return ct}/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var __assign=function(){return __assign=Object.assign||function(et){for(var rt,nt=1,it=arguments.length;nt<it;nt++){rt=arguments[nt];for(var ot in rt)Object.prototype.hasOwnProperty.call(rt,ot)&&(et[ot]=rt[ot])}return et},__assign.apply(this,arguments)};function __read(tt,et){var rt=typeof Symbol=="function"&&tt[Symbol.iterator];if(!rt)return tt;var nt=rt.call(tt),it,ot=[],at;try{for(;(et===void 0||et-- >0)&&!(it=nt.next()).done;)ot.push(it.value)}catch(st){at={error:st}}finally{try{it&&!it.done&&(rt=nt.return)&&rt.call(nt)}finally{if(at)throw at.error}}return ot}function __spreadArray(tt,et,rt){if(rt||arguments.length===2)for(var nt=0,it=et.length,ot;nt<it;nt++)(ot||!(nt in et))&&(ot||(ot=Array.prototype.slice.call(et,0,nt)),ot[nt]=et[nt]);return tt.concat(ot||Array.prototype.slice.call(et))}var EVENTS=["init","start","config","beforeDestroy","provide","report","beforeBuild","build","beforeSend","send","beforeConfig"],noop=function(){};function id(tt){return tt}function isObject$2(tt){return typeof tt=="object"&&tt!==null}var objProto=Object.prototype;function isArray$1(tt){return objProto.toString.call(tt)==="[object Array]"}function isBoolean(tt){return typeof tt=="boolean"}function isNumber$1(tt){return typeof tt=="number"}function isString$1(tt){return typeof tt=="string"}function arrayIncludes(tt,et){if(!isArray$1(tt)||tt.length===0)return!1;for(var rt=0;rt<tt.length;){if(tt[rt]===et)return!0;rt++}return!1}var arrayRemove=function(tt,et){if(!isArray$1(tt))return tt;var rt=tt.indexOf(et);if(rt>=0){var nt=tt.slice();return nt.splice(rt,1),nt}return tt},safeVisit=function(tt,et,rt){for(var nt,it,ot=et.split("."),at=__read(ot),st=at[0],lt=at.slice(1);tt&&lt.length>0;)tt=tt[st],nt=lt,it=__read(nt),st=it[0],lt=it.slice(1);if(tt)return rt(tt,st)};function safeStringify(tt){try{return isString$1(tt)?tt:JSON.stringify(tt)}catch(et){return"[FAILED_TO_STRINGIFY]:"+String(et)}}function createContextAgent(){var tt={},et={},rt={set:function(nt,it){return tt[nt]=it,et[nt]=safeStringify(it),rt},merge:function(nt){return tt=__assign(__assign({},tt),nt),Object.keys(nt).forEach(function(it){et[it]=safeStringify(nt[it])}),rt},delete:function(nt){return delete tt[nt],delete et[nt],rt},clear:function(){return tt={},et={},rt},get:function(nt){return et[nt]},toString:function(){return __assign({},et)}};return rt}var errCount=0,error=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];console.error.apply(console,__spreadArray(["[SDK]",Date.now(),(""+errCount++).padStart(8," ")],__read(tt),!1))},warnCount=0,warn=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];console.warn.apply(console,__spreadArray(["[SDK]",Date.now(),(""+warnCount++).padStart(8," ")],__read(tt),!1))},isHitBySampleRate=function(tt){return Math.random()<Number(tt)},isHitByRandom=function(tt,et){return tt<Number(et)},runProcessors=function(tt){return function(et){for(var rt=et,nt=0;nt<tt.length&&rt;nt++)try{rt=tt[nt](rt)}catch(it){error(it)}return rt}};function mathRNG(){for(var tt=new Array(16),et=0,rt=0;rt<16;rt++)rt&3||(et=Math.random()*4294967296),tt[rt]=et>>>((rt&3)<<3)&255;return tt}function bytesToUuid(tt){for(var et=[],rt=0;rt<256;++rt)et[rt]=(rt+256).toString(16).substr(1);var nt=0,it=et;return[it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],"-",it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]],it[tt[nt++]]].join("")}function uuid(){var tt=mathRNG();return tt[6]=tt[6]&15|64,tt[8]=tt[8]&63|128,bytesToUuid(tt)}function createClient(tt){var et=tt.builder,rt=tt.createSender,nt=tt.createDefaultConfig,it=tt.createConfigManager,ot=tt.userConfigNormalizer,at=tt.initConfigNormalizer,st=tt.validateInitConfig,lt,ct,ut={};EVENTS.forEach(function(vt){return ut[vt]=[]});var dt=!1,ft=!1,pt=[],mt=[],ht={getBuilder:function(){return et},getSender:function(){return lt},getPreStartQueue:function(){return pt},init:function(vt){if(dt){warn("already inited");return}if(vt&&isObject$2(vt)&&st(vt)){var yt=nt(vt);if(!yt)throw new Error("defaultConfig missing");var bt=at(vt);if(ct=it(yt),ct.setConfig(bt),ct.onChange(function(){gt("config")}),lt=rt(ct.getConfig()),!lt)throw new Error("sender missing");dt=!0,gt("init",!0)}else throw new Error("invalid InitConfig, init failed")},set:function(vt){dt&&vt&&isObject$2(vt)&&(gt("beforeConfig",!1,vt),ct==null||ct.setConfig(vt))},config:function(vt){if(dt)return vt&&isObject$2(vt)&&(gt("beforeConfig",!1,vt),ct==null||ct.setConfig(ot(vt))),ct==null?void 0:ct.getConfig()},provide:function(vt,yt){if(arrayIncludes(mt,vt)){warn("cannot provide "+vt+", reserved");return}ht[vt]=yt,gt("provide",!1,vt)},start:function(){var vt=this;dt&&(ft||ct==null||ct.onReady(function(){ft=!0,gt("start",!0),pt.forEach(function(yt){return vt.build(yt)}),pt=[]}))},report:function(vt){if(vt){var yt=runProcessors(ut.report)(vt);yt&&(ft?this.build(yt):pt.push(yt))}},build:function(vt){if(ft){var yt=runProcessors(ut.beforeBuild)(vt);if(yt){var bt=et.build(yt);if(bt){var xt=runProcessors(ut.build)(bt);xt&&this.send(xt)}}}},send:function(vt){if(ft){var yt=runProcessors(ut.beforeSend)(vt);yt&&(lt.send(yt),gt("send",!1,yt))}},destroy:function(){gt("beforeDestroy",!0)},on:function(vt,yt){vt==="init"&&dt||vt==="start"&&ft?yt():ut[vt]&&ut[vt].push(yt)},off:function(vt,yt){ut[vt]&&(ut[vt]=arrayRemove(ut[vt],yt))}};return mt=Object.keys(ht),ht;function gt(vt,yt){yt===void 0&&(yt=!1);for(var bt=[],xt=2;xt<arguments.length;xt++)bt[xt-2]=arguments[xt];ut[vt].forEach(function($t){try{$t.apply(void 0,__spreadArray([],__read(bt),!1))}catch{}}),yt&&(ut[vt].length=0)}}var ContextPlugin=function(tt){var et=createContextAgent();tt.provide("context",et),tt.on("report",function(rt){return rt.extra||(rt.extra={}),rt.extra.context=et.toString(),rt})};function IntegrationPlugin(tt){tt.on("init",function(){var et=[],rt=tt.config();!rt||!rt.integrations||rt.integrations.forEach(function(nt){arrayIncludes(et,nt.name)||(et.push(nt.name),nt.setup(tt),nt.tearDown&&tt.on("beforeDestroy",nt.tearDown))})})}function getDefaultBrowser(){if(typeof window=="object"&&isObject$2(window))return window}var getGlobalRegistry=function(tt){if(tt)return tt.__SLARDAR_REGISTRY__||(tt.__SLARDAR_REGISTRY__={Slardar:{plugins:[],errors:[]}}),tt.__SLARDAR_REGISTRY__.Slardar},reportSelfError=function(){for(var tt=[],et=0;et<arguments.length;et++)tt[et]=arguments[et];var rt=getGlobalRegistry(getDefaultBrowser());rt&&(rt.errors||(rt.errors=[]),rt.errors.push(tt))},CUSTOM_EV_TYPE="custom",CUSTOM_EVENT_TYPE="event",CUSTOM_LOG_TYPE="log",normalizeCustomEventData=function(tt){if(!(!tt||!isObject$2(tt))&&!(!tt.name||!isString$1(tt.name))){var et={name:tt.name,type:CUSTOM_EVENT_TYPE};if("metrics"in tt&&isObject$2(tt.metrics)){var rt=tt.metrics,nt={};for(var it in rt)isNumber$1(rt[it])&&(nt[it]=rt[it]);et.metrics=nt}if("categories"in tt&&isObject$2(tt.categories)){var ot=tt.categories,at={};for(var it in ot)at[it]=safeStringify(ot[it]);et.categories=at}return et}},normalizeCustomLogData=function(tt){if(!(!tt||!isObject$2(tt))&&!(!tt.content||!isString$1(tt.content))){var et=tt.content,rt={content:safeStringify(et),type:CUSTOM_LOG_TYPE,level:"info"};if("level"in tt&&(rt.level=tt.level),"extra"in tt&&isObject$2(tt.extra)){var nt=tt.extra,it={},ot={};for(var at in nt)isNumber$1(nt[at])?it[at]=nt[at]:ot[at]=safeStringify(nt[at]);rt.metrics=it,rt.categories=ot}return rt}},CustomPlugin=function(tt){var et=function(nt){var it=normalizeCustomEventData(nt);it&&tt.report({ev_type:CUSTOM_EV_TYPE,payload:it,extra:{timestamp:Date.now()}})},rt=function(nt){var it=normalizeCustomLogData(nt);it&&tt.report({ev_type:CUSTOM_EV_TYPE,payload:it,extra:{timestamp:Date.now()}})};tt.provide("sendEvent",et),tt.provide("sendLog",rt)},withSampleRate=function(tt,et){var rt=tt.common||{};return rt.sample_rate=et,tt.common=rt,tt},hitFnWithRandom=function(tt,et,rt,nt,it){return tt?function(ot){return function(){return ot}}(it(nt,et)):function(){return rt(et)}},parseValues=function(tt,et){return tt.map(function(rt){switch(et){case"number":return Number(rt);case"boolean":return rt==="1";case"string":default:return String(rt)}})},checkVal=function(tt,et,rt){switch(rt){case"eq":return arrayIncludes(et,tt);case"neq":return!arrayIncludes(et,tt);case"gt":return tt>et[0];case"gte":return tt>=et[0];case"lt":return tt<et[0];case"lte":return tt<=et[0];case"regex":return Boolean(tt.match(new RegExp(et.join("|"))));case"not_regex":return!tt.match(new RegExp(et.join("|")));default:return!1}},checkFilter=function(tt,et,rt,nt){var it=safeVisit(tt,et,function(at,st){return at[st]});if(it===void 0)return!1;var ot=isBoolean(it)?"bool":isNumber$1(it)?"number":"string";return checkVal(it,parseValues(nt,ot),rt)},matchFilter=function(tt,et){try{return et.type==="rule"?checkFilter(tt,et.field,et.op,et.values):et.type==="and"?et.children.every(function(rt){return matchFilter(tt,rt)}):et.children.some(function(rt){return matchFilter(tt,rt)})}catch(rt){return reportSelfError(rt),!1}},getHitMap=function(tt,et,rt,nt,it,ot){var at={};return Object.keys(tt).forEach(function(st){var lt=tt[st],ct=lt.enable,ut=lt.sample_rate,dt=lt.conditional_sample_rules;ct?(at[st]={enable:ct,sample_rate:ut,effectiveSampleRate:ut*rt,hit:hitFnWithRandom(et,ut,nt,it,ot)},dt&&(at[st].conditional_hit_rules=dt.map(function(ft){var pt=ft.sample_rate,mt=ft.filter;return{sample_rate:pt,hit:hitFnWithRandom(et,pt,nt,it,ot),effectiveSampleRate:pt*rt,filter:mt}}))):at[st]={enable:ct,hit:function(){return!1},sample_rate:0,effectiveSampleRate:0}}),at},getSampler=function(tt,et,rt,nt){if(!et)return id;var it=et.sample_rate,ot=et.include_users,at=et.sample_granularity,st=et.rules,lt=et.r,ct=lt===void 0?Math.random():lt,ut=arrayIncludes(ot,tt);if(ut)return function(mt){return withSampleRate(mt,1)};var dt=at==="session",ft=hitFnWithRandom(dt,it,rt,ct,nt),pt=getHitMap(st,dt,it,rt,ct,nt);return function(mt){var ht;if(!ft())return!1;if(!(mt.ev_type in pt))return withSampleRate(mt,it);if(!pt[mt.ev_type].enable)return!1;if(!((ht=mt.common)===null||ht===void 0)&&ht.sample_rate)return mt;var gt=pt[mt.ev_type],vt=gt.conditional_hit_rules;if(vt){for(var yt=0;yt<vt.length;yt++)if(matchFilter(mt,vt[yt].filter))return vt[yt].hit()?withSampleRate(mt,vt[yt].effectiveSampleRate):!1}return gt.hit()?withSampleRate(mt,gt.effectiveSampleRate):!1}},SamplePlugin=function(tt){tt.on("start",function(){var et=tt.config(),rt=et.userId,nt=et.sample,it=getSampler(rt,nt,isHitBySampleRate,isHitByRandom);tt.on("build",it)})},builder={build:function(tt){return{ev_type:tt.ev_type,payload:tt.payload,common:__assign(__assign({},tt.extra||{}),tt.overrides||{})}}},createConfigManager=function(tt){var et=tt,rt,nt={},it=noop,ot=noop;return{getConfig:function(){return et},setConfig:function(st){return nt=__assign(__assign({},nt),st||{}),at(),rt||(rt=st,it()),et},onChange:function(st){ot=st},onReady:function(st){it=st,rt&&it()}};function at(){var st=__assign(__assign({},tt),nt);st.sample=mergeSampleConfig(tt.sample,nt.sample),et=st,ot()}};function mergeSampleConfig(tt,et){if(!tt||!et)return tt||et;var rt=__assign(__assign({},tt),et);return rt.include_users=__spreadArray(__spreadArray([],__read(tt.include_users||[]),!1),__read(et.include_users||[]),!1),rt.rules=__spreadArray(__spreadArray([],__read(Object.keys(tt.rules||{})),!1),__read(Object.keys(et.rules||{})),!1).reduce(function(nt,it){var ot,at;return it in nt||(it in(tt.rules||{})&&it in(et.rules||{})?(nt[it]=__assign(__assign({},tt.rules[it]),et.rules[it]),nt[it].conditional_sample_rules=__spreadArray(__spreadArray([],__read(tt.rules[it].conditional_sample_rules||[]),!1),__read(et.rules[it].conditional_sample_rules||[]),!1)):nt[it]=((ot=tt.rules)===null||ot===void 0?void 0:ot[it])||((at=et.rules)===null||at===void 0?void 0:at[it])),nt},{}),rt}var REPORT_DOMAIN="mon-va-useast2a.byteoversea.com",SDK_VERSION="1.0.2",SDK_NAME="SDK_BASE",BATCH_REPORT_PATH="/monitor_browser/collect/batch/",DEFAULT_SAMPLE_CONFIG={sample_rate:1,include_users:[],sample_granularity:"session",rules:{}},DEFAULT_SENDER_SIZE=20;function normalizeInitConfig(tt){return __assign({},tt)}function validateInitConfig(tt){return isObject$2(tt)&&"bid"in tt&&"transport"in tt}function normalizeUserConfig(tt){return __assign({},tt)}var addEnvToSendEvent=function(tt,et){var rt={url:"",protocol:"",domain:"",path:"",query:"",timestamp:Date.now(),sdk_version:et.version||SDK_VERSION,sdk_name:et.name||SDK_NAME};return __assign(__assign({},tt),{extra:__assign(__assign({},rt),tt.extra||{})})},InjectEnvPlugin=function(tt){tt.on("report",function(et){return addEnvToSendEvent(et,tt.config())})},addConfigToReportEvent=function(tt,et){var rt={};return rt.bid=et.bid,rt.pid=et.pid,rt.view_id=et.viewId,rt.user_id=et.userId,rt.device_id=et.deviceId,rt.session_id=et.sessionId,rt.release=et.release,rt.env=et.env,__assign(__assign({},tt),{extra:__assign(__assign({},rt),tt.extra||{})})},InjectConfigPlugin=function(tt){tt.on("beforeBuild",function(et){return addConfigToReportEvent(et,tt.config())})};function createSender(tt){return createBatchSender(tt)}var getReportUrl=function(tt,et){return et===void 0&&(et=BATCH_REPORT_PATH),(tt&&tt.indexOf("//")>=0?"":"https://")+tt+et},getDefaultUserId=function(){return uuid()},getDefaultDeviceId=function(){return uuid()},getViewId=function(tt){return tt+"_"+Date.now()},getDefaultSessionId=function(){return uuid()},getDefaultConfig=function(tt){return{bid:"",pid:"",viewId:getViewId("_"),userId:getDefaultUserId(),deviceId:getDefaultDeviceId(),sessionId:getDefaultSessionId(),domain:REPORT_DOMAIN,release:"",env:"production",sample:DEFAULT_SAMPLE_CONFIG,plugins:{},transport:{get:noop,post:noop}}},createMinimalClient=function(tt){var et=tt===void 0?{}:tt,rt=et.createSender,nt=rt===void 0?function(ct){return createSender({size:DEFAULT_SENDER_SIZE,endpoint:getReportUrl(ct.domain),transport:ct.transport})}:rt,it=et.builder,ot=it===void 0?builder:it,at=et.createDefaultConfig,st=at===void 0?getDefaultConfig:at,lt=createClient({validateInitConfig,initConfigNormalizer:normalizeInitConfig,userConfigNormalizer:normalizeUserConfig,createSender:nt,builder:ot,createDefaultConfig:st,createConfigManager});return ContextPlugin(lt),InjectConfigPlugin(lt),InjectEnvPlugin(lt),IntegrationPlugin(lt),lt},createBaseClient=function(tt){tt===void 0&&(tt={});var et=createMinimalClient(tt);return SamplePlugin(et),CustomPlugin(et),et};createBaseClient();var REGION="in",SETTING_HOST="https://vcs-va-useast2a.byteoversea.com",CHANNEL_DOMAIN={in:"https://sgali-mcs.byteoversea.com",sg:"https://sgali-mcs.byteoversea.com",va:"https://maliva-mcs.byteoversea.com",tcpy:"https://mcs-sg.tiktok.com",ttp:"https://mcs.us.tiktok.com"},AJAX_TIMEOUT=5e3,TEA_EVENT_PREFIX="h5_",WEBID_KEY="s_v_web_id",URL$1={setting:"/vc/setting",report:function(tt){return["ttp","tcpy"].indexOf(tt)!==-1?"/v1/list":"/list"},webid:function(tt){return["ttp","tcpy"].indexOf(tt)!==-1?"/v1/user/webid":"/webid"}},stringify=function(tt){for(var et=Object.keys(tt),rt="",nt=0;nt<et.length;nt++){var it=et[nt],ot=tt[it],at=encodeURIComponent(it)+"="+encodeURIComponent(ot);nt>=1?rt=rt+"&"+at:rt=at}return rt},getCommonParams=function(tt){var et=tt.commonOptions;return{aid:et.aid}},getType=function(tt){var et=Object.prototype.toString.call(tt);return et.slice(8,-1)},Slardar=function(){function tt(){this.isInit=!1,this.pid="0",this.filename=""}return tt.prototype.init=function(et,rt){if(!this.isInit){this.isInit=!0,this.pid=String(et.aid),this.browserSlardar=createBaseClient();var nt={transport:{get:function(){},post:function(it){var ot=it.url,at=it.data;rt(ot,JSON.parse(at))}},bid:"verify_center_va",pid:this.pid,release:"3.8.6",env:REGION,sample:{sample_rate:1,include_users:[],sample_granularity:"session",rules:{pageview:{enable:!0,sample_rate:.01},js_error:{enable:!0,sample_rate:1},resource_error:{enable:!0,sample_rate:.01},http:{enable:!0,sample_rate:.01},resource:{enable:!0,sample_rate:.01}}}};this.browserSlardar.init(nt),this.browserSlardar.context.merge({belong:"hotsdk"})}},tt.prototype.start=function(){var et=this;this.browserSlardar.start(),this.reportPageview(),window.addEventListener("error",function(rt){var nt;getType(rt)==="ErrorEvent"&&et.filename&&rt.filename===et.filename&&et.reportJsError({message:rt==null?void 0:rt.message,stack:(nt=rt==null?void 0:rt.error)===null||nt===void 0?void 0:nt.stack,filename:rt==null?void 0:rt.filename})},!0)},tt.prototype.destroy=function(){this.browserSlardar.destroy()},tt.prototype.reportPageview=function(){this.browserSlardar.report({ev_type:"pageview",payload:{pid:this.pid,source:"init"}})},tt.prototype.reportJsError=function(et){this.browserSlardar.report({ev_type:"js_error",payload:{error:{name:"JS ERROR",message:et.message,stack:et.stack,filename:et.filename||this.filename},breadcrumbs:[]}})},tt.prototype.reportHttp=function(et){this.browserSlardar.report({ev_type:"http",payload:{api:"xhr",request:{method:et.method,url:et.url},response:{status:et.status,is_custom_error:!1,timestamp:Date.now()},duration:et.duration}})},tt.prototype.reportResourceError=function(et){this.browserSlardar.report({ev_type:"resource_error",payload:{type:"script",url:et}})},tt.prototype.reportResource=function(et){this.browserSlardar.report({ev_type:"resource",payload:{entryType:"resource",name:et.url,duration:et.duration,startTime:et.startTime}})},tt.prototype.setFileName=function(et){this.filename=et},tt}(),slardar=new Slardar,ajax=function(tt){var et=tt.url,rt=tt.method,nt=tt.data,it=tt.config;return new promise(function(ot,at){var st=new XMLHttpRequest,lt=Date.now(),ct=function(){tt.url.indexOf(URL$1.setting)!==-1&&slardar.reportHttp({url:et,method:rt,duration:Date.now()-lt,status:st.status})};st.onreadystatechange=function(){if(st.readyState===st.DONE){if(st.status>=200&&st.status<300){var ht={},gt=st.response||st.responseText,vt=st.getResponseHeader("Content-Type")||st.getResponseHeader("content-type");if(vt&&vt.indexOf("application/json")!==-1)try{ht=JSON.parse(gt)}catch{}else ht=gt;setTimeout(function(){ot(ht)},0)}else at(new TypeError("Network request failed, status: "+st.status));ct()}},st.onerror=function(){setTimeout(function(){at(new TypeError("Network request failed, occur error"))},0),ct()},st.ontimeout=function(){setTimeout(function(){at(new TypeError("Network request failed, timeout"))},0),ct()},st.onabort=function(){setTimeout(function(){at(new DOMException("Aborted","AbortError"))},0),ct()};var ut=et;if(it!=null&&it.params&&(ut=ut+"?"+stringify(it.params)),st.open(rt,ut,!0),it!=null&&it.timeout&&typeof it.timeout=="number"?st.timeout=it.timeout:st.timeout=AJAX_TIMEOUT,it!=null&&it.headers)for(var dt=it.headers,ft=0,pt=Object.keys(dt);ft<pt.length;ft++){var mt=pt[ft];st.setRequestHeader(mt,dt[mt])}it!=null&&it.withCredentials&&(st.withCredentials=it.withCredentials),rt.toUpperCase()==="POST"&&nt?st.send(JSON.stringify(nt)):st.send(null)})},get=function(tt,et){return et===void 0&&(et={}),ajax({url:tt,method:"GET",config:et})},post=function(tt,et,rt){rt===void 0&&(rt={});var nt=rt.headers?__assign$1({"Content-Type":"application/json"},rt.headers):{"Content-Type":"application/json"};return ajax({url:tt,method:"POST",data:et,config:__assign$1(__assign$1({},rt),{headers:nt})})},loadScript=function(tt){return new promise(function(et,rt){var nt=document.getElementsByTagName("head")[0],it=document.createElement("script");it.setAttribute("crossorigin","anonymous"),it.setAttribute("src",tt),nt.appendChild(it);var ot=setTimeout(function(){rt(new Error("LoadJSSDKMoreTan4000ms"))},4e3);it.onload=function(){clearTimeout(ot),et(0)},it.onerror=function(){clearTimeout(ot),rt(new Error("Failed to load SDK!"))}})},commonjs=function(tt){var et={exports:{}},rt=new Function("exports","module",tt);try{rt(et.exports,et)}catch(nt){slardar.reportJsError({message:nt==null?void 0:nt.message,stack:nt==null?void 0:nt.stack,filename:nt==null?void 0:nt.filename})}return et},js_cookie=createCommonjsModule(function(tt,et){(function(rt){var nt;if(tt.exports=rt(),nt=!0,!nt){var it=window.Cookies,ot=window.Cookies=rt();ot.noConflict=function(){return window.Cookies=it,ot}}})(function(){function rt(){for(var ot=0,at={};ot<arguments.length;ot++){var st=arguments[ot];for(var lt in st)at[lt]=st[lt]}return at}function nt(ot){return ot.replace(/(%[0-9A-Z]{2})+/g,decodeURIComponent)}function it(ot){function at(){}function st(ct,ut,dt){if(!(typeof document>"u")){dt=rt({path:"/"},at.defaults,dt),typeof dt.expires=="number"&&(dt.expires=new Date(new Date*1+dt.expires*864e5)),dt.expires=dt.expires?dt.expires.toUTCString():"";try{var ft=JSON.stringify(ut);/^[\{\[]/.test(ft)&&(ut=ft)}catch{}ut=ot.write?ot.write(ut,ct):encodeURIComponent(String(ut)).replace(/%(23|24|26|2B|3A|3C|3E|3D|2F|3F|40|5B|5D|5E|60|7B|7D|7C)/g,decodeURIComponent),ct=encodeURIComponent(String(ct)).replace(/%(23|24|26|2B|5E|60|7C)/g,decodeURIComponent).replace(/[\(\)]/g,escape);var pt="";for(var mt in dt)dt[mt]&&(pt+="; "+mt,dt[mt]!==!0&&(pt+="="+dt[mt].split(";")[0]));return document.cookie=ct+"="+ut+pt}}function lt(ct,ut){if(!(typeof document>"u")){for(var dt={},ft=document.cookie?document.cookie.split("; "):[],pt=0;pt<ft.length;pt++){var mt=ft[pt].split("="),ht=mt.slice(1).join("=");!ut&&ht.charAt(0)==='"'&&(ht=ht.slice(1,-1));try{var gt=nt(mt[0]);if(ht=(ot.read||ot)(ht,gt)||nt(ht),ut)try{ht=JSON.parse(ht)}catch{}if(dt[gt]=ht,ct===gt)break}catch{}}return ct?dt[ct]:dt}}return at.set=st,at.get=function(ct){return lt(ct,!1)},at.getJSON=function(ct){return lt(ct,!0)},at.remove=function(ct,ut){st(ct,"",rt(ut,{expires:-1}))},at.defaults={},at.withConverter=it,at}return it(function(){})})});function mergeFp(){var tt="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz".split(""),et=tt.length,rt=Date.now().toString(36),nt=[];nt[8]=nt[13]=nt[18]=nt[23]="_",nt[14]="4";for(var it=0,ot=void 0;it<36;it++)nt[it]||(ot=0|Math.random()*et,nt[it]=tt[it==19?ot&3|8:ot]);return"verify_"+rt+"_"+nt.join("")}function setWebidCookie(tt){tt=typeof tt=="object"?tt:{};var et=mergeFp(),rt={path:"/"};return tt.domain&&/^([a-z0-9-]+)?(\.[a-z0-9-]+)+$/.test(tt.domain)&&(rt.domain=tt.domain),js_cookie.set(WEBID_KEY,et,rt),et}var generateFpSync=function(tt){tt===void 0&&(tt={});var et=js_cookie.get(WEBID_KEY);return(!et||et.indexOf("verify_")!==0)&&(et=setWebidCookie(tt)),et},getFpFromCookie=function(){return js_cookie.get(WEBID_KEY)||""},generateFp=function(tt){tt===void 0&&(tt={});var et=generateFpSync(tt);return et},getSetting=function(tt){return post(""+(tt||SETTING_HOST)+URL$1.setting,{},{headers:{"X-Setting-Flag":1}})},getTeaWebId=function(tt,et){var rt=CHANNEL_DOMAIN[et],nt=URL$1.webid(et);return post(""+rt+nt,{app_id:tt,referer:document.referrer,url:window.location.href,user_agent:window.navigator.userAgent,user_unique_id:""}).then(function(it){return it.web_id})},report=function(tt,et){var rt=CHANNEL_DOMAIN[et],nt=URL$1.report(et);return post(""+rt+nt,tt)},EVT_NAME="turing_verify_sdk",Logger=function(){function tt(){this.fetchWebId=null,this.channelType="",this.isInit=!1,this.conf={app_id:0,evtParams:{}}}return tt.prototype.init=function(et,rt){rt===void 0&&(rt={}),!this.isInit&&(this.isInit=!0,this.conf.app_id=et.region==="cn"?2018:2740,this.conf.evtParams=__assign$1(__assign$1({},rt),{webdriver:"undefined",isScheduling:"false",product_host:window.location.host,product_path:window.location.hostname,type:2,aid:et.aid}),this.channelType=REGION)},tt.prototype.getTeaWebId=function(){return this.fetchWebId||(this.fetchWebId=getTeaWebId(this.conf.app_id,this.channelType)),this.fetchWebId},tt.prototype.trackEvent=function(et,rt){var nt=this;rt===void 0&&(rt={}),this.getTeaWebId().then(function(it){var ot=[{events:[{event:EVT_NAME,is_bav:0,local_time_ms:Date.now(),params:JSON.stringify(__assign$1(__assign$1(__assign$1({},nt.conf.evtParams),rt),{key:""+TEA_EVENT_PREFIX+et,time:Date.now()}))}],local_time:Math.floor(Date.now()/1e3),header:{app_id:nt.conf.app_id,referrer:document.referrer,platform:"web",sdk_lib:"js",sdk_version:"0.0.0"},user:{user_unique_id:it,web_id:it}}];nt.sendEvents(ot)}).catch(function(it){})},tt.prototype.sendEvents=function(et){report(et,this.channelType).catch(function(rt){})},tt}(),logger=new Logger,verify={back_up_js_v2:{in:["https://lf-rc2.yhgfb-static.com/obj/rc-client-security-aiso/secsdk-captcha/@latest/captcha.js","https://sf16-scmcdn-useast2a.ibytedtos.com/obj/static-aiso/secsdk-captcha/@latest/captcha.js"]},js_v2:{in:"https://lf-rc1.yhgfb-static.com/obj/rc-client-security-aiso/secsdk-captcha/@latest/captcha.js"}},DefaultSetting={verify},initOptions={},configOptions={executor:"Function",static_domain:"",settingHost:""},getCDN=function(){var tt=Date.now();return getSetting(configOptions.settingHost).catch(function(){return getSetting(configOptions.settingHost)}).then(function(et){var rt,nt;return logger.trackEvent("hotsdk_getsetting",{is_success:1,duration:Date.now()-tt,message:""}),!((nt=(rt=et==null?void 0:et.verify)===null||rt===void 0?void 0:rt.js_v2)===null||nt===void 0)&&nt[REGION]?et.verify:DefaultSetting.verify}).catch(function(et){return logger.trackEvent("hotsdk_getsetting",{is_success:0,duration:Date.now()-tt,message:et==null?void 0:et.message}),DefaultSetting.verify})},loadCDN=function(tt,et,rt,nt){slardar.setFileName(tt);var it=Date.now(),ot=promise.resolve({});return et==="script"?ot=loadScript(tt).then(function(){return window.verifySDK}):ot=get(tt,{timeout:2e4}).then(function(at){if(rt&&nt&&rt!==nt){var st=new RegExp(rt,"g");at=at.replace(st,nt)}var lt=commonjs(at);return lt.exports}),ot.then(function(at){return slardar.reportResource({url:tt,startTime:Date.now(),duration:Date.now()-it}),at}).catch(function(at){return slardar.reportResourceError(tt),promise.reject(at)})},SDK=function(){function tt(){}return tt.get=function(){return(tt.status===0||tt.status===3)&&(tt.status=1,tt.core=getCDN().then(function(et){var rt,nt,it,ot=(rt=et.js_v2)===null||rt===void 0?void 0:rt[REGION],at=((nt=et.back_up_js_v2)===null||nt===void 0?void 0:nt[REGION])||[],st=(it=ot.match(/\/\/([\w-]+(\.[\w-]+)+)/))===null||it===void 0?void 0:it[1];configOptions.static_domain&&st&&(ot=ot.replace(st,configOptions.static_domain));var lt=[ot].concat(at);return new promise(function(ct,ut){var dt=function(){var ft,pt=lt.shift(),mt=(ft=pt.match(/\/\/([\w-]+(\.[\w-]+)+)/))===null||ft===void 0?void 0:ft[1];loadCDN(pt,configOptions.executor,st,mt).then(function(ht){ct(ht),tt.status=2,logger.trackEvent("hotsdk_loadscript",{is_success:1})}).catch(function(ht){lt.length?dt():(ut(ht),tt.status=3,logger.trackEvent("hotsdk_loadscript",{is_success:0}))})};dt()})}).catch(function(et){return promise.reject(et)})),tt.core},tt.status=0,tt}(),config$1=function(tt){tt.static_domain&&(configOptions.static_domain=tt.static_domain),tt.settingHost&&(configOptions.settingHost=tt.settingHost),tt.executor&&(configOptions.executor=tt.executor)},init=function(tt,et,rt){et===void 0&&(et=function(){}),rt===void 0&&(rt=function(){});var nt=getCommonParams(tt);logger.init(__assign$1(__assign$1({},nt),{region:REGION})),slardar.init(nt,post),slardar.start(),SDK.get().then(function(it){var ot;Object.assign(initOptions,__assign$1(__assign$1({},tt),{captchaOptions:__assign$1(__assign$1({},tt.captchaOptions),{h5_check_version:!((ot=tt.captchaOptions)===null||ot===void 0)&&ot.closeDecisionCheck?"0.0.0":"3.8.6"})})),it==null||it.initVerifyOptions(initOptions),et(it)}).catch(function(it){var ot;rt({type:"loadJSSDK",msg:(ot=it==null?void 0:it.message)!==null&&ot!==void 0?ot:""})})},render=function(tt){SDK.get().then(function(et){et==null||et.autoRender(tt)}).catch(function(et){})},close=function(){SDK.get().then(function(tt){tt==null||tt.closeCaptcha()})},getFp=function(){var tt,et,rt=((tt=initOptions==null?void 0:initOptions.captchaOptions)===null||tt===void 0?void 0:tt.fp)||getFpFromCookie()||generateFp((et=initOptions==null?void 0:initOptions.captchaOptions)===null||et===void 0?void 0:et.fpCookieOption);return promise.resolve(rt)},TTVerifyCenter=function(){function tt(){}return tt.config=function(et){config$1(et)},tt.init=function(et,rt,nt){var it=getCommonParams(et);return logger.init(__assign$1(__assign$1({},it),{region:REGION})),slardar.init(it,post),slardar.start(),SDK.get().then(function(ot){var at;Object.assign(initOptions,__assign$1(__assign$1({},et),{captchaOptions:__assign$1(__assign$1({},et.captchaOptions),{h5_check_version:!((at=et.captchaOptions)===null||at===void 0)&&at.closeDecisionCheck?"0.0.0":"3.8.6"})}));var st=ot.initVerifyCenter(initOptions);if(rt)rt(st);else return st}).catch(function(ot){if(nt)nt(ot);else return promise.reject(ot)})},tt}(),transform=function(tt){var et={code:"10000",from:"",type:"verify",version:"1",region:REGION,subtype:"",verify_event:"",fp:"",detail:""};return tt===3059?et.subtype="text":tt===3060?et.subtype="3d":tt===99996?et.subtype="whirl":et.subtype="slide",JSON.stringify(et)};const index_esm=Object.freeze(Object.defineProperty({__proto__:null,TTVerifyCenter,close,config:config$1,getFp,init,render,transform},Symbol.toStringTag,{value:"Module"})),require$$3=getAugmentedNamespace(index_esm);var encHexExports={},encHex={get exports(){return encHexExports},set exports(tt){encHexExports=tt}};(function(tt,et){(function(rt,nt){tt.exports=nt(requireCore())})(commonjsGlobal$4,function(rt){return rt.enc.Hex})})(encHex);var axiosExports$1={},axios$2={get exports(){return axiosExports$1},set exports(tt){axiosExports$1=tt}},axiosExports={},axios$1={get exports(){return axiosExports},set exports(tt){axiosExports=tt}},bind$2=function tt(et,rt){return function(){for(var it=new Array(arguments.length),ot=0;ot<it.length;ot++)it[ot]=arguments[ot];return et.apply(rt,it)}},bind$1=bind$2,toString=Object.prototype.toString,kindOf=function(tt){return function(et){var rt=toString.call(et);return tt[rt]||(tt[rt]=rt.slice(8,-1).toLowerCase())}}(Object.create(null));function kindOfTest(tt){return tt=tt.toLowerCase(),function(rt){return kindOf(rt)===tt}}function isArray(tt){return Array.isArray(tt)}function isUndefined(tt){return typeof tt>"u"}function isBuffer(tt){return tt!==null&&!isUndefined(tt)&&tt.constructor!==null&&!isUndefined(tt.constructor)&&typeof tt.constructor.isBuffer=="function"&&tt.constructor.isBuffer(tt)}var isArrayBuffer=kindOfTest("ArrayBuffer");function isArrayBufferView(tt){var et;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?et=ArrayBuffer.isView(tt):et=tt&&tt.buffer&&isArrayBuffer(tt.buffer),et}function isString(tt){return typeof tt=="string"}function isNumber(tt){return typeof tt=="number"}function isObject(tt){return tt!==null&&typeof tt=="object"}function isPlainObject(tt){if(kindOf(tt)!=="object")return!1;var et=Object.getPrototypeOf(tt);return et===null||et===Object.prototype}var isDate=kindOfTest("Date"),isFile=kindOfTest("File"),isBlob=kindOfTest("Blob"),isFileList=kindOfTest("FileList");function isFunction(tt){return toString.call(tt)==="[object Function]"}function isStream(tt){return isObject(tt)&&isFunction(tt.pipe)}function isFormData(tt){var et="[object FormData]";return tt&&(typeof FormData=="function"&&tt instanceof FormData||toString.call(tt)===et||isFunction(tt.toString)&&tt.toString()===et)}var isURLSearchParams=kindOfTest("URLSearchParams");function trim(tt){return tt.trim?tt.trim():tt.replace(/^\s+|\s+$/g,"")}function isStandardBrowserEnv(){return typeof navigator<"u"&&(navigator.product==="ReactNative"||navigator.product==="NativeScript"||navigator.product==="NS")?!1:typeof window<"u"&&typeof document<"u"}function forEach(tt,et){if(!(tt===null||typeof tt>"u"))if(typeof tt!="object"&&(tt=[tt]),isArray(tt))for(var rt=0,nt=tt.length;rt<nt;rt++)et.call(null,tt[rt],rt,tt);else for(var it in tt)Object.prototype.hasOwnProperty.call(tt,it)&&et.call(null,tt[it],it,tt)}function merge(){var tt={};function et(it,ot){isPlainObject(tt[ot])&&isPlainObject(it)?tt[ot]=merge(tt[ot],it):isPlainObject(it)?tt[ot]=merge({},it):isArray(it)?tt[ot]=it.slice():tt[ot]=it}for(var rt=0,nt=arguments.length;rt<nt;rt++)forEach(arguments[rt],et);return tt}function extend(tt,et,rt){return forEach(et,function(it,ot){rt&&typeof it=="function"?tt[ot]=bind$1(it,rt):tt[ot]=it}),tt}function stripBOM(tt){return tt.charCodeAt(0)===65279&&(tt=tt.slice(1)),tt}function inherits(tt,et,rt,nt){tt.prototype=Object.create(et.prototype,nt),tt.prototype.constructor=tt,rt&&Object.assign(tt.prototype,rt)}function toFlatObject(tt,et,rt){var nt,it,ot,at={};et=et||{};do{for(nt=Object.getOwnPropertyNames(tt),it=nt.length;it-- >0;)ot=nt[it],at[ot]||(et[ot]=tt[ot],at[ot]=!0);tt=Object.getPrototypeOf(tt)}while(tt&&(!rt||rt(tt,et))&&tt!==Object.prototype);return et}function endsWith(tt,et,rt){tt=String(tt),(rt===void 0||rt>tt.length)&&(rt=tt.length),rt-=et.length;var nt=tt.indexOf(et,rt);return nt!==-1&&nt===rt}function toArray(tt){if(!tt)return null;var et=tt.length;if(isUndefined(et))return null;for(var rt=new Array(et);et-- >0;)rt[et]=tt[et];return rt}var isTypedArray=function(tt){return function(et){return tt&&et instanceof tt}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array)),utils$b={isArray,isArrayBuffer,isBuffer,isFormData,isArrayBufferView,isString,isNumber,isObject,isPlainObject,isUndefined,isDate,isFile,isBlob,isFunction,isStream,isURLSearchParams,isStandardBrowserEnv,forEach,merge,extend,trim,stripBOM,inherits,toFlatObject,kindOf,kindOfTest,endsWith,toArray,isTypedArray,isFileList},utils$a=utils$b;function encode(tt){return encodeURIComponent(tt).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}var buildURL$1=function tt(et,rt,nt){if(!rt)return et;var it;if(nt)it=nt(rt);else if(utils$a.isURLSearchParams(rt))it=rt.toString();else{var ot=[];utils$a.forEach(rt,function(lt,ct){lt===null||typeof lt>"u"||(utils$a.isArray(lt)?ct=ct+"[]":lt=[lt],utils$a.forEach(lt,function(dt){utils$a.isDate(dt)?dt=dt.toISOString():utils$a.isObject(dt)&&(dt=JSON.stringify(dt)),ot.push(encode(ct)+"="+encode(dt))}))}),it=ot.join("&")}if(it){var at=et.indexOf("#");at!==-1&&(et=et.slice(0,at)),et+=(et.indexOf("?")===-1?"?":"&")+it}return et},utils$9=utils$b;function InterceptorManager$1(){this.handlers=[]}InterceptorManager$1.prototype.use=function tt(et,rt,nt){return this.handlers.push({fulfilled:et,rejected:rt,synchronous:nt?nt.synchronous:!1,runWhen:nt?nt.runWhen:null}),this.handlers.length-1};InterceptorManager$1.prototype.eject=function tt(et){this.handlers[et]&&(this.handlers[et]=null)};InterceptorManager$1.prototype.forEach=function tt(et){utils$9.forEach(this.handlers,function(nt){nt!==null&&et(nt)})};var InterceptorManager_1=InterceptorManager$1,utils$8=utils$b,normalizeHeaderName$1=function tt(et,rt){utils$8.forEach(et,function(it,ot){ot!==rt&&ot.toUpperCase()===rt.toUpperCase()&&(et[rt]=it,delete et[ot])})},utils$7=utils$b;function AxiosError$2(tt,et,rt,nt,it){Error.call(this),this.message=tt,this.name="AxiosError",et&&(this.code=et),rt&&(this.config=rt),nt&&(this.request=nt),it&&(this.response=it)}utils$7.inherits(AxiosError$2,Error,{toJSON:function tt(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var prototype=AxiosError$2.prototype,descriptors={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach(function(tt){descriptors[tt]={value:tt}});Object.defineProperties(AxiosError$2,descriptors);Object.defineProperty(prototype,"isAxiosError",{value:!0});AxiosError$2.from=function(tt,et,rt,nt,it,ot){var at=Object.create(prototype);return utils$7.toFlatObject(tt,at,function(lt){return lt!==Error.prototype}),AxiosError$2.call(at,tt.message,et,rt,nt,it),at.name=tt.name,ot&&Object.assign(at,ot),at};var AxiosError_1=AxiosError$2,transitional={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},utils$6=utils$b;function toFormData$1(tt,et){et=et||new FormData;var rt=[];function nt(ot){return ot===null?"":utils$6.isDate(ot)?ot.toISOString():utils$6.isArrayBuffer(ot)||utils$6.isTypedArray(ot)?typeof Blob=="function"?new Blob([ot]):Buffer.from(ot):ot}function it(ot,at){if(utils$6.isPlainObject(ot)||utils$6.isArray(ot)){if(rt.indexOf(ot)!==-1)throw Error("Circular reference detected in "+at);rt.push(ot),utils$6.forEach(ot,function(lt,ct){if(!utils$6.isUndefined(lt)){var ut=at?at+"."+ct:ct,dt;if(lt&&!at&&typeof lt=="object"){if(utils$6.endsWith(ct,"{}"))lt=JSON.stringify(lt);else if(utils$6.endsWith(ct,"[]")&&(dt=utils$6.toArray(lt))){dt.forEach(function(ft){!utils$6.isUndefined(ft)&&et.append(ut,nt(ft))});return}}it(lt,ut)}}),rt.pop()}else et.append(at,nt(ot))}return it(tt),et}var toFormData_1=toFormData$1,settle,hasRequiredSettle;function requireSettle(){if(hasRequiredSettle)return settle;hasRequiredSettle=1;var tt=AxiosError_1;return settle=function(rt,nt,it){var ot=it.config.validateStatus;!it.status||!ot||ot(it.status)?rt(it):nt(new tt("Request failed with status code "+it.status,[tt.ERR_BAD_REQUEST,tt.ERR_BAD_RESPONSE][Math.floor(it.status/100)-4],it.config,it.request,it))},settle}var cookies,hasRequiredCookies;function requireCookies(){if(hasRequiredCookies)return cookies;hasRequiredCookies=1;var tt=utils$b;return cookies=tt.isStandardBrowserEnv()?function(){return{write:function(nt,it,ot,at,st,lt){var ct=[];ct.push(nt+"="+encodeURIComponent(it)),tt.isNumber(ot)&&ct.push("expires="+new Date(ot).toGMTString()),tt.isString(at)&&ct.push("path="+at),tt.isString(st)&&ct.push("domain="+st),lt===!0&&ct.push("secure"),document.cookie=ct.join("; ")},read:function(nt){var it=document.cookie.match(new RegExp("(^|;\\s*)("+nt+")=([^;]*)"));return it?decodeURIComponent(it[3]):null},remove:function(nt){this.write(nt,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),cookies}var isAbsoluteURL$1=function tt(et){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(et)},combineURLs$1=function tt(et,rt){return rt?et.replace(/\/+$/,"")+"/"+rt.replace(/^\/+/,""):et},isAbsoluteURL=isAbsoluteURL$1,combineURLs=combineURLs$1,buildFullPath$1=function tt(et,rt){return et&&!isAbsoluteURL(rt)?combineURLs(et,rt):rt},parseHeaders,hasRequiredParseHeaders;function requireParseHeaders(){if(hasRequiredParseHeaders)return parseHeaders;hasRequiredParseHeaders=1;var tt=utils$b,et=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return parseHeaders=function(nt){var it={},ot,at,st;return nt&&tt.forEach(nt.split(`
`),function(ct){if(st=ct.indexOf(":"),ot=tt.trim(ct.substr(0,st)).toLowerCase(),at=tt.trim(ct.substr(st+1)),ot){if(it[ot]&&et.indexOf(ot)>=0)return;ot==="set-cookie"?it[ot]=(it[ot]?it[ot]:[]).concat([at]):it[ot]=it[ot]?it[ot]+", "+at:at}}),it},parseHeaders}var isURLSameOrigin,hasRequiredIsURLSameOrigin;function requireIsURLSameOrigin(){if(hasRequiredIsURLSameOrigin)return isURLSameOrigin;hasRequiredIsURLSameOrigin=1;var tt=utils$b;return isURLSameOrigin=tt.isStandardBrowserEnv()?function(){var rt=/(msie|trident)/i.test(navigator.userAgent),nt=document.createElement("a"),it;function ot(at){var st=at;return rt&&(nt.setAttribute("href",st),st=nt.href),nt.setAttribute("href",st),{href:nt.href,protocol:nt.protocol?nt.protocol.replace(/:$/,""):"",host:nt.host,search:nt.search?nt.search.replace(/^\?/,""):"",hash:nt.hash?nt.hash.replace(/^#/,""):"",hostname:nt.hostname,port:nt.port,pathname:nt.pathname.charAt(0)==="/"?nt.pathname:"/"+nt.pathname}}return it=ot(window.location.href),function(st){var lt=tt.isString(st)?ot(st):st;return lt.protocol===it.protocol&&lt.host===it.host}}():function(){return function(){return!0}}(),isURLSameOrigin}var CanceledError_1,hasRequiredCanceledError;function requireCanceledError(){if(hasRequiredCanceledError)return CanceledError_1;hasRequiredCanceledError=1;var tt=AxiosError_1,et=utils$b;function rt(nt){tt.call(this,nt??"canceled",tt.ERR_CANCELED),this.name="CanceledError"}return et.inherits(rt,tt,{__CANCEL__:!0}),CanceledError_1=rt,CanceledError_1}var parseProtocol,hasRequiredParseProtocol;function requireParseProtocol(){return hasRequiredParseProtocol||(hasRequiredParseProtocol=1,parseProtocol=function(et){var rt=/^([-+\w]{1,25})(:?\/\/|:)/.exec(et);return rt&&rt[1]||""}),parseProtocol}var xhr,hasRequiredXhr;function requireXhr(){if(hasRequiredXhr)return xhr;hasRequiredXhr=1;var tt=utils$b,et=requireSettle(),rt=requireCookies(),nt=buildURL$1,it=buildFullPath$1,ot=requireParseHeaders(),at=requireIsURLSameOrigin(),st=transitional,lt=AxiosError_1,ct=requireCanceledError(),ut=requireParseProtocol();return xhr=function(ft){return new Promise(function(mt,ht){var gt=ft.data,vt=ft.headers,yt=ft.responseType,bt;function xt(){ft.cancelToken&&ft.cancelToken.unsubscribe(bt),ft.signal&&ft.signal.removeEventListener("abort",bt)}tt.isFormData(gt)&&tt.isStandardBrowserEnv()&&delete vt["Content-Type"];var $t=new XMLHttpRequest;if(ft.auth){var Tt=ft.auth.username||"",wt=ft.auth.password?unescape(encodeURIComponent(ft.auth.password)):"";vt.Authorization="Basic "+btoa(Tt+":"+wt)}var At=it(ft.baseURL,ft.url);$t.open(ft.method.toUpperCase(),nt(At,ft.params,ft.paramsSerializer),!0),$t.timeout=ft.timeout;function Rt(){if($t){var Pt="getAllResponseHeaders"in $t?ot($t.getAllResponseHeaders()):null,Nt=!yt||yt==="text"||yt==="json"?$t.responseText:$t.response,Ot={data:Nt,status:$t.status,statusText:$t.statusText,headers:Pt,config:ft,request:$t};et(function(zt){mt(zt),xt()},function(zt){ht(zt),xt()},Ot),$t=null}}if("onloadend"in $t?$t.onloadend=Rt:$t.onreadystatechange=function(){!$t||$t.readyState!==4||$t.status===0&&!($t.responseURL&&$t.responseURL.indexOf("file:")===0)||setTimeout(Rt)},$t.onabort=function(){$t&&(ht(new lt("Request aborted",lt.ECONNABORTED,ft,$t)),$t=null)},$t.onerror=function(){ht(new lt("Network Error",lt.ERR_NETWORK,ft,$t,$t)),$t=null},$t.ontimeout=function(){var Nt=ft.timeout?"timeout of "+ft.timeout+"ms exceeded":"timeout exceeded",Ot=ft.transitional||st;ft.timeoutErrorMessage&&(Nt=ft.timeoutErrorMessage),ht(new lt(Nt,Ot.clarifyTimeoutError?lt.ETIMEDOUT:lt.ECONNABORTED,ft,$t)),$t=null},tt.isStandardBrowserEnv()){var It=(ft.withCredentials||at(At))&&ft.xsrfCookieName?rt.read(ft.xsrfCookieName):void 0;It&&(vt[ft.xsrfHeaderName]=It)}"setRequestHeader"in $t&&tt.forEach(vt,function(Nt,Ot){typeof gt>"u"&&Ot.toLowerCase()==="content-type"?delete vt[Ot]:$t.setRequestHeader(Ot,Nt)}),tt.isUndefined(ft.withCredentials)||($t.withCredentials=!!ft.withCredentials),yt&&yt!=="json"&&($t.responseType=ft.responseType),typeof ft.onDownloadProgress=="function"&&$t.addEventListener("progress",ft.onDownloadProgress),typeof ft.onUploadProgress=="function"&&$t.upload&&$t.upload.addEventListener("progress",ft.onUploadProgress),(ft.cancelToken||ft.signal)&&(bt=function(Pt){$t&&(ht(!Pt||Pt&&Pt.type?new ct:Pt),$t.abort(),$t=null)},ft.cancelToken&&ft.cancelToken.subscribe(bt),ft.signal&&(ft.signal.aborted?bt():ft.signal.addEventListener("abort",bt))),gt||(gt=null);var Lt=ut(At);if(Lt&&["http","https","file"].indexOf(Lt)===-1){ht(new lt("Unsupported protocol "+Lt+":",lt.ERR_BAD_REQUEST,ft));return}$t.send(gt)})},xhr}var _null,hasRequired_null;function require_null(){return hasRequired_null||(hasRequired_null=1,_null=null),_null}var utils$5=utils$b,normalizeHeaderName=normalizeHeaderName$1,AxiosError$1=AxiosError_1,transitionalDefaults=transitional,toFormData=toFormData_1,DEFAULT_CONTENT_TYPE={"Content-Type":"application/x-www-form-urlencoded"};function setContentTypeIfUnset(tt,et){!utils$5.isUndefined(tt)&&utils$5.isUndefined(tt["Content-Type"])&&(tt["Content-Type"]=et)}function getDefaultAdapter(){var tt;return(typeof XMLHttpRequest<"u"||typeof process<"u"&&Object.prototype.toString.call(process)==="[object process]")&&(tt=requireXhr()),tt}function stringifySafely(tt,et,rt){if(utils$5.isString(tt))try{return(et||JSON.parse)(tt),utils$5.trim(tt)}catch(nt){if(nt.name!=="SyntaxError")throw nt}return(rt||JSON.stringify)(tt)}var defaults$4={transitional:transitionalDefaults,adapter:getDefaultAdapter(),transformRequest:[function tt(et,rt){if(normalizeHeaderName(rt,"Accept"),normalizeHeaderName(rt,"Content-Type"),utils$5.isFormData(et)||utils$5.isArrayBuffer(et)||utils$5.isBuffer(et)||utils$5.isStream(et)||utils$5.isFile(et)||utils$5.isBlob(et))return et;if(utils$5.isArrayBufferView(et))return et.buffer;if(utils$5.isURLSearchParams(et))return setContentTypeIfUnset(rt,"application/x-www-form-urlencoded;charset=utf-8"),et.toString();var nt=utils$5.isObject(et),it=rt&&rt["Content-Type"],ot;if((ot=utils$5.isFileList(et))||nt&&it==="multipart/form-data"){var at=this.env&&this.env.FormData;return toFormData(ot?{"files[]":et}:et,at&&new at)}else if(nt||it==="application/json")return setContentTypeIfUnset(rt,"application/json"),stringifySafely(et);return et}],transformResponse:[function tt(et){var rt=this.transitional||defaults$4.transitional,nt=rt&&rt.silentJSONParsing,it=rt&&rt.forcedJSONParsing,ot=!nt&&this.responseType==="json";if(ot||it&&utils$5.isString(et)&&et.length)try{return JSON.parse(et)}catch(at){if(ot)throw at.name==="SyntaxError"?AxiosError$1.from(at,AxiosError$1.ERR_BAD_RESPONSE,this,null,this.response):at}return et}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:require_null()},validateStatus:function tt(et){return et>=200&&et<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};utils$5.forEach(["delete","get","head"],function tt(et){defaults$4.headers[et]={}});utils$5.forEach(["post","put","patch"],function tt(et){defaults$4.headers[et]=utils$5.merge(DEFAULT_CONTENT_TYPE)});var defaults_1=defaults$4,utils$4=utils$b,defaults$3=defaults_1,transformData$1=function tt(et,rt,nt){var it=this||defaults$3;return utils$4.forEach(nt,function(at){et=at.call(it,et,rt)}),et},isCancel$1,hasRequiredIsCancel;function requireIsCancel(){return hasRequiredIsCancel||(hasRequiredIsCancel=1,isCancel$1=function(et){return!!(et&&et.__CANCEL__)}),isCancel$1}var utils$3=utils$b,transformData=transformData$1,isCancel=requireIsCancel(),defaults$2=defaults_1,CanceledError=requireCanceledError();function throwIfCancellationRequested(tt){if(tt.cancelToken&&tt.cancelToken.throwIfRequested(),tt.signal&&tt.signal.aborted)throw new CanceledError}var dispatchRequest$1=function tt(et){throwIfCancellationRequested(et),et.headers=et.headers||{},et.data=transformData.call(et,et.data,et.headers,et.transformRequest),et.headers=utils$3.merge(et.headers.common||{},et.headers[et.method]||{},et.headers),utils$3.forEach(["delete","get","head","post","put","patch","common"],function(it){delete et.headers[it]});var rt=et.adapter||defaults$2.adapter;return rt(et).then(function(it){return throwIfCancellationRequested(et),it.data=transformData.call(et,it.data,it.headers,et.transformResponse),it},function(it){return isCancel(it)||(throwIfCancellationRequested(et),it&&it.response&&(it.response.data=transformData.call(et,it.response.data,it.response.headers,et.transformResponse))),Promise.reject(it)})},utils$2=utils$b,mergeConfig$2=function tt(et,rt){rt=rt||{};var nt={};function it(ut,dt){return utils$2.isPlainObject(ut)&&utils$2.isPlainObject(dt)?utils$2.merge(ut,dt):utils$2.isPlainObject(dt)?utils$2.merge({},dt):utils$2.isArray(dt)?dt.slice():dt}function ot(ut){if(utils$2.isUndefined(rt[ut])){if(!utils$2.isUndefined(et[ut]))return it(void 0,et[ut])}else return it(et[ut],rt[ut])}function at(ut){if(!utils$2.isUndefined(rt[ut]))return it(void 0,rt[ut])}function st(ut){if(utils$2.isUndefined(rt[ut])){if(!utils$2.isUndefined(et[ut]))return it(void 0,et[ut])}else return it(void 0,rt[ut])}function lt(ut){if(ut in rt)return it(et[ut],rt[ut]);if(ut in et)return it(void 0,et[ut])}var ct={url:at,method:at,data:at,baseURL:st,transformRequest:st,transformResponse:st,paramsSerializer:st,timeout:st,timeoutMessage:st,withCredentials:st,adapter:st,responseType:st,xsrfCookieName:st,xsrfHeaderName:st,onUploadProgress:st,onDownloadProgress:st,decompress:st,maxContentLength:st,maxBodyLength:st,beforeRedirect:st,transport:st,httpAgent:st,httpsAgent:st,cancelToken:st,socketPath:st,responseEncoding:st,validateStatus:lt};return utils$2.forEach(Object.keys(et).concat(Object.keys(rt)),function(dt){var ft=ct[dt]||ot,pt=ft(dt);utils$2.isUndefined(pt)&&ft!==lt||(nt[dt]=pt)}),nt},data,hasRequiredData;function requireData(){return hasRequiredData||(hasRequiredData=1,data={version:"0.27.2"}),data}var VERSION=requireData().version,AxiosError=AxiosError_1,validators$1={};["object","boolean","number","function","string","symbol"].forEach(function(tt,et){validators$1[tt]=function(nt){return typeof nt===tt||"a"+(et<1?"n ":" ")+tt}});var deprecatedWarnings={};validators$1.transitional=function tt(et,rt,nt){function it(ot,at){return"[Axios v"+VERSION+"] Transitional option '"+ot+"'"+at+(nt?". "+nt:"")}return function(ot,at,st){if(et===!1)throw new AxiosError(it(at," has been removed"+(rt?" in "+rt:"")),AxiosError.ERR_DEPRECATED);return rt&&!deprecatedWarnings[at]&&(deprecatedWarnings[at]=!0,console.warn(it(at," has been deprecated since v"+rt+" and will be removed in the near future"))),et?et(ot,at,st):!0}};function assertOptions(tt,et,rt){if(typeof tt!="object")throw new AxiosError("options must be an object",AxiosError.ERR_BAD_OPTION_VALUE);for(var nt=Object.keys(tt),it=nt.length;it-- >0;){var ot=nt[it],at=et[ot];if(at){var st=tt[ot],lt=st===void 0||at(st,ot,tt);if(lt!==!0)throw new AxiosError("option "+ot+" must be "+lt,AxiosError.ERR_BAD_OPTION_VALUE);continue}if(rt!==!0)throw new AxiosError("Unknown option "+ot,AxiosError.ERR_BAD_OPTION)}}var validator$1={assertOptions,validators:validators$1},utils$1=utils$b,buildURL=buildURL$1,InterceptorManager=InterceptorManager_1,dispatchRequest=dispatchRequest$1,mergeConfig$1=mergeConfig$2,buildFullPath=buildFullPath$1,validator=validator$1,validators=validator.validators;function Axios$1(tt){this.defaults=tt,this.interceptors={request:new InterceptorManager,response:new InterceptorManager}}Axios$1.prototype.request=function tt(et,rt){typeof et=="string"?(rt=rt||{},rt.url=et):rt=et||{},rt=mergeConfig$1(this.defaults,rt),rt.method?rt.method=rt.method.toLowerCase():this.defaults.method?rt.method=this.defaults.method.toLowerCase():rt.method="get";var nt=rt.transitional;nt!==void 0&&validator.assertOptions(nt,{silentJSONParsing:validators.transitional(validators.boolean),forcedJSONParsing:validators.transitional(validators.boolean),clarifyTimeoutError:validators.transitional(validators.boolean)},!1);var it=[],ot=!0;this.interceptors.request.forEach(function(pt){typeof pt.runWhen=="function"&&pt.runWhen(rt)===!1||(ot=ot&&pt.synchronous,it.unshift(pt.fulfilled,pt.rejected))});var at=[];this.interceptors.response.forEach(function(pt){at.push(pt.fulfilled,pt.rejected)});var st;if(!ot){var lt=[dispatchRequest,void 0];for(Array.prototype.unshift.apply(lt,it),lt=lt.concat(at),st=Promise.resolve(rt);lt.length;)st=st.then(lt.shift(),lt.shift());return st}for(var ct=rt;it.length;){var ut=it.shift(),dt=it.shift();try{ct=ut(ct)}catch(ft){dt(ft);break}}try{st=dispatchRequest(ct)}catch(ft){return Promise.reject(ft)}for(;at.length;)st=st.then(at.shift(),at.shift());return st};Axios$1.prototype.getUri=function tt(et){et=mergeConfig$1(this.defaults,et);var rt=buildFullPath(et.baseURL,et.url);return buildURL(rt,et.params,et.paramsSerializer)};utils$1.forEach(["delete","get","head","options"],function tt(et){Axios$1.prototype[et]=function(rt,nt){return this.request(mergeConfig$1(nt||{},{method:et,url:rt,data:(nt||{}).data}))}});utils$1.forEach(["post","put","patch"],function tt(et){function rt(nt){return function(ot,at,st){return this.request(mergeConfig$1(st||{},{method:et,headers:nt?{"Content-Type":"multipart/form-data"}:{},url:ot,data:at}))}}Axios$1.prototype[et]=rt(),Axios$1.prototype[et+"Form"]=rt(!0)});var Axios_1=Axios$1,CancelToken_1,hasRequiredCancelToken;function requireCancelToken(){if(hasRequiredCancelToken)return CancelToken_1;hasRequiredCancelToken=1;var tt=requireCanceledError();function et(rt){if(typeof rt!="function")throw new TypeError("executor must be a function.");var nt;this.promise=new Promise(function(at){nt=at});var it=this;this.promise.then(function(ot){if(it._listeners){var at,st=it._listeners.length;for(at=0;at<st;at++)it._listeners[at](ot);it._listeners=null}}),this.promise.then=function(ot){var at,st=new Promise(function(lt){it.subscribe(lt),at=lt}).then(ot);return st.cancel=function(){it.unsubscribe(at)},st},rt(function(at){it.reason||(it.reason=new tt(at),nt(it.reason))})}return et.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},et.prototype.subscribe=function(nt){if(this.reason){nt(this.reason);return}this._listeners?this._listeners.push(nt):this._listeners=[nt]},et.prototype.unsubscribe=function(nt){if(this._listeners){var it=this._listeners.indexOf(nt);it!==-1&&this._listeners.splice(it,1)}},et.source=function(){var nt,it=new et(function(at){nt=at});return{token:it,cancel:nt}},CancelToken_1=et,CancelToken_1}var spread,hasRequiredSpread;function requireSpread(){return hasRequiredSpread||(hasRequiredSpread=1,spread=function(et){return function(nt){return et.apply(null,nt)}}),spread}var isAxiosError,hasRequiredIsAxiosError;function requireIsAxiosError(){if(hasRequiredIsAxiosError)return isAxiosError;hasRequiredIsAxiosError=1;var tt=utils$b;return isAxiosError=function(rt){return tt.isObject(rt)&&rt.isAxiosError===!0},isAxiosError}var utils=utils$b,bind=bind$2,Axios=Axios_1,mergeConfig=mergeConfig$2,defaults$1=defaults_1;function createInstance(tt){var et=new Axios(tt),rt=bind(Axios.prototype.request,et);return utils.extend(rt,Axios.prototype,et),utils.extend(rt,et),rt.create=function(it){return createInstance(mergeConfig(tt,it))},rt}var axios=createInstance(defaults$1);axios.Axios=Axios;axios.CanceledError=requireCanceledError();axios.CancelToken=requireCancelToken();axios.isCancel=requireIsCancel();axios.VERSION=requireData().version;axios.toFormData=toFormData_1;axios.AxiosError=AxiosError_1;axios.Cancel=axios.CanceledError;axios.all=function tt(et){return Promise.all(et)};axios.spread=requireSpread();axios.isAxiosError=requireIsAxiosError();axios$1.exports=axios;axiosExports.default=axios;(function(tt){tt.exports=axiosExports})(axios$2);const require$$7=getAugmentedNamespace(index_esm$4);var internals$1={rfc3986:{}};internals$1.generate=function(){var tt="|",et="0-9",rt="["+et+"]",nt="a-zA-Z",it="["+nt+"]";internals$1.rfc3986.cidr=rt+tt+"[1-2]"+rt+tt+"3[0-2]";var ot=et+"A-Fa-f",at="["+ot+"]",st=nt+et+"-\\._~",lt="!\\$&'\\(\\)\\*\\+,;=",ct="%"+ot,ut=st+ct+lt+":@",dt="["+ut+"]",ft="0?",pt="(?:"+ft+ft+rt+tt+ft+"[1-9]"+rt+tt+"1"+rt+rt+tt+"2[0-4]"+rt+tt+"25[0-5])";internals$1.rfc3986.IPv4address="(?:"+pt+"\\.){3}"+pt;var mt=at+"{1,4}",ht="(?:"+mt+":"+mt+"|"+internals$1.rfc3986.IPv4address+")",gt="(?:"+mt+":){6}"+ht,vt="::(?:"+mt+":){5}"+ht,yt="(?:"+mt+")?::(?:"+mt+":){4}"+ht,bt="(?:(?:"+mt+":){0,1}"+mt+")?::(?:"+mt+":){3}"+ht,xt="(?:(?:"+mt+":){0,2}"+mt+")?::(?:"+mt+":){2}"+ht,$t="(?:(?:"+mt+":){0,3}"+mt+")?::"+mt+":"+ht,Tt="(?:(?:"+mt+":){0,4}"+mt+")?::"+ht,wt="(?:(?:"+mt+":){0,5}"+mt+")?::"+mt,At="(?:(?:"+mt+":){0,6}"+mt+")?::";internals$1.rfc3986.IPv6address="(?:"+gt+tt+vt+tt+yt+tt+bt+tt+xt+tt+$t+tt+Tt+tt+wt+tt+At+")",internals$1.rfc3986.IPvFuture="v"+at+"+\\.["+st+lt+":]+",internals$1.rfc3986.scheme=it+"["+nt+et+"+-\\.]*";var Rt="["+st+ct+lt+":]*";internals$1.rfc3986.IPLiteral="\\[(?:"+internals$1.rfc3986.IPv6address+tt+internals$1.rfc3986.IPvFuture+")\\]";var It="["+st+ct+lt+"]{0,255}",Lt="(?:"+internals$1.rfc3986.IPLiteral+tt+internals$1.rfc3986.IPv4address+tt+It+")",Pt=rt+"*",Nt="(?:"+Rt+"@)?"+Lt+"(?::"+Pt+")?",Ot=dt+"*",Bt=dt+"+",zt="(?:\\/"+Ot+")*",Vt="\\/(?:"+Bt+zt+")?",Ut=Bt+zt;internals$1.rfc3986.hierPart="(?:(?:\\/\\/"+Nt+zt+")"+tt+Vt+tt+Ut+")",internals$1.rfc3986.query="["+ut+"\\/\\?]*(?=#|$)",internals$1.rfc3986.fragment="["+ut+"\\/\\?]*",internals$1.rfc3986.uri="^(?:"+internals$1.rfc3986.scheme+":"+internals$1.rfc3986.hierPart+")(?:\\?"+internals$1.rfc3986.query+")?(?:#"+internals$1.rfc3986.fragment+")?$"};internals$1.generate();var rfc3986$1=internals$1.rfc3986,rfc3986=rfc3986$1;function escapeRegex(tt){return tt.replace(/[\^\$\.\*\+\-\?\=\!\:\|\\\/\(\)\[\]\{\}\,]/g,"\\$&")}var internals={Uri:{createUriRegex:function(tt){if(tt=tt||{},typeof tt!="object"||Array.isArray(tt))throw new Error("options must be an object");var et="";if(tt.scheme){if(Array.isArray(tt.scheme)||(tt.scheme=[tt.scheme]),tt.scheme.length<=0)throw new Error("scheme must have at least 1 scheme specified");for(var rt=0;rt<tt.scheme.length;++rt){var nt=tt.scheme[rt];if(!(nt instanceof RegExp||typeof nt=="string"))throw new Error("scheme must only contain Regular Expressions or Strings");if(et=et+(et?"|":""),nt instanceof RegExp)et=et+nt.source;else{if(!/[a-zA-Z][a-zA-Z0-9+-\.]*/.test(nt))throw new Error("scheme at position "+rt+" must be a valid scheme");et=et+escapeRegex(nt)}}}var it="(?:"+(et||rfc3986.scheme)+")";return new RegExp("^(?:"+it+":"+rfc3986.hierPart+")(?:\\?"+rfc3986.query+")?(?:#"+rfc3986.fragment+")?$")},uriRegex:new RegExp(rfc3986.uri)}};internals.Uri.isValid=function(tt){return internals.Uri.uriRegex.test(tt)};var isuri={createUriRegex:internals.Uri.createUriRegex,uriRegex:internals.Uri.uriRegex,isValid:internals.Uri.isValid};function e(tt){return tt&&typeof tt=="object"&&"default"in tt?tt.default:tt}Object.defineProperty(accountApi_cjs_production_min,"__esModule",{value:!0});var t=require$$0,r=require$$1,o=require$$2,a=require$$3,i=e(requireSha256()),n=e(encHexExports),s=e(axiosExports$1),c=require$$7,u=e(isuri);function d(){return(d=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt}).apply(this,arguments)}function _(tt,et){tt.prototype=Object.create(et.prototype),tt.prototype.constructor=tt,(Object.setPrototypeOf||function(rt,nt){return rt.__proto__=nt,rt})(tt,et)}function p(tt,et){if(tt==null)return{};var rt,nt,it={},ot=Object.keys(tt);for(nt=0;nt<ot.length;nt++)et.indexOf(rt=ot[nt])>=0||(it[rt]=tt[rt]);return it}var l={SEND_MOBILE_CODE:"/passport/web/send_code/",SEND_EMAIL_CODE:"/passport/web/email/send_code/",VERIFY_MOBILE_CODE:"/passport/web/validate_code/",VERIFY_EMAIL_CODE:"/passport/web/email/verify/",CHECK_MOBILE_CODE:"/passport/web/mobile/check_code/",CHECK_EMAIL_CODE:"/passport/web/email/check_code/",SMS_LOGIN:"/passport/web/sms_login/",SMS_LOGIN_ONLY:"/passport/web/sms_login_only/",SMS_LOGIN_CONTINUE:"/passport/web/sms_login_continue/",EMAIL_LOGIN:"/passport/web/email/login/",EMAIL_CODE_LOGIN:"/passport/web/email/code_login/",EMAIL_CODE_QUICK_LOGIN:"/passport/web/email/quick_login/",EMAIL_REGISTER_LOGIN:"/passport/web/email/register_verify_login/",EMAIL_REGISTER:"/passport/web/email/register_verify/",PWD_LOGIN:"/passport/web/user/login/",AUTH_LOGIN:"/passport/web/auth/login/",AUTH_LOGIN_ONLY:"/passport/web/auth/login_only/",AUTH_BIND_ONLY:"/passport/web/auth/bind_login/",MOBILE_BIND_ONLY:"/passport/web/mobile/bind_login/",MOBILE_EMAIL_REGISTER:"/passport/web/mobile_email_register/",MOBILE_REGISTER:"/passport/mobile/register/",MOBILE_OAUTH:"/passport/auth/show_oauth_mobile/",LOGOUT:"/passport/web/logout/",CHECK_LOGIN:"/passport/account/info/v2/",BIND_WITH_MOBILE_LOGIN:"/passport/web/auth/bind_with_mobile_login/",BIND_WITH_EMAIL_LOGIN:"/passport/web/auth/bind_with_email_login/",GET_QRCODE:"/passport/web/get_qrcode/",CHECK_QRCONNECT:"/passport/web/check_qrconnect/",SCAN_QRCODE:"/passport/web/scan_qrcode/",CONFIRM_QRCODE:"/passport/web/confirm_qrcode/",THIRD_AUTH:"/passport/web/web_login/",WEB_SHARE_LOGIN:"/passport/web/auth/share_login/",AUTH_LOGIN_URL:"/passport/auth/wap_login/",EMAIL_REGISTER_NO_VERIFY:"/passport/web/email/register/",EMAIL_REGISTER_NO_VERIFY_V2:"/passport/web/email/register/v2/",GET_QRCODE_FROM_WECHAT:"/passport/web/wechat/get_qrcode/",CHECK_QRCODE_FROM_WECHAT:"/passport/web/wechat/check_qrcode_status/",MOBILE_BIND:"/passport/web/mobile/bind/",EMAIL_BIND:"/passport/web/email/bind/",AUTH_BIND:"/passport/web/auth/bind/",AUTH_UNBIND:"/passport/web/auth/unbind/",AUTH_SWITCH_BIND:"/passport/web/auth/switch_bind/",MOBILE_REBIND:"/passport/web/mobile/change/",EMAIL_REBIND:"/passport/web/email/change/",RESET_PWD_BY_MOBILE:"/passport/web/password/reset/",RESET_PWD_BY_EMAIL:"/passport/web/email/password/reset/",RESET_PWD_BY_MOBILE_TICKET:"/passport/web/password/reset_by_ticket/",RESET_PWD_BY_EMAIL_TICKET:"/passport/web/password/reset_by_email_ticket/",PWD_CHANGE_BY_MOBILE:"/passport/web/password/change/",PWD_UPDATE:"/passport/web/password/update/",PWD_CHANGE_BY_EMAIL:"/passport/web/email/change_password/",PWD_SET:"/passport/web/password/set/",PWD_HAS_SET:"/passport/password/has_set/",PWD_HAS_SET_V2:"/passport/web/password/has_set/",PWD_SET_BY_EAMIL_AND_LOGIN:"/passport/web/email/password/reset_and_login/",ACCOUNT_VERIFY:"/passport/web/account/verify/",AUTH_VERIFY:"/passport/web/auth/verify/",SMS_AUTHORIZE:"/passport/web/sms/authorize/",CANCEL_VERIFY_WAY:"/passport/auth/cancel_verify_way/",CANCEL_CHECK:"/passport/web/cancel/check/",CANCEL_CONFIRM:"/passport/web/cancel/confirm/",CANCEL_REQUEST_CANCEL:"/passport/web/cancel/login/",CHECK_MOBILE_REGISTER:"/passport/web/user/check_mobile_registered/",CHECK_EMAIL_REGISTER:"/passport/web/user/check_email_registered",CHANGE_QRCODE_SUCCESS:"/passport/qrcode_twostep_verify/scan_qrcode/",CHANGE_QRCODE_CONFIRM:"/passport/qrcode_twostep_verify/confirm_by_ticket/",GET_OPEN_AUTH_INFO:"/passport/open/auth_info/v2/",OPEN_SEND_CODE:"/passport/open/send_code/",OPEN_SMS_AUTH:"/passport/open/web/sms/auth/",OPEN_ACCOUNT_AUTH:"/passport/open/web/account/auth/",OPEN_THIRD_AUTH:"/passport/open/web/third_party/auth/",OPEN_GET_QRCODE:"/passport/open/get_qrcode/",OPEN_CHECK_QRCODE:"/passport/open/check_qrcode",OPEN_TO_SCAN_QRCODE:"/passport/open/to_scan_qrcode/",OPEN_SCAN_QRCODE:"/passport/open/scan_qrcode/",OPEN_CONFIRM_QRCODE:"/passport/open/confirm_qrcode/",OPEN_WEB_AUTH:"/passport/open/web/auth/",ACCOUNT_INFO:"/passport/web/account/info/",ACCOUNT_SET:"/passport/web/account/set/",OAUTH_PROFILE:"/web/user/get/oauth_profile/",UPLOAD_AVATAR:"/web/user/update/upload_avatar/",UPDATE_USERINFO:"/web/user/update/user_info/",CHECK_DEFAULT_INFO:"/web/user/check/default_info/",GET_BACKGROUND_LIST:"/web/user/settings/{aid}/default_background_image_list/",GET_DEFAULT_AVATAR_LIST:"/web/user/settings/{aid}/default_avatar_list/",GET_RECOMMEND_NAME:"/web/user/settings/recommend_name/",UPLOAD_PICTURE:"/web/user/upload/pic/",CHECK_REMAIN_TIMES:"/web/user/get/remain_update_times/",DOWNLOAD_IMAGE:"/user/web/download/image/",DOWNLOAD_IMAGE_V2:"/user/web/download/image/v2/"},m={SEND_MOBILE_CODE:"/passport/aff/web/mobile/send_code/",SEND_EMAIL_CODE:"/passport/aff/web/email/send_code/",VERIFY_MOBILE_CODE:"/passport/aff/web/mobile/validate_code/",VERIFY_EMAIL_CODE:"/passport/aff/web/email/verify/",CHECK_MOBILE_CODE:"/passport/aff/web/mobile/check_code/",CHECK_EMAIL_CODE:"/passport/aff/web/email/check_code/",SMS_LOGIN:"/passport/aff/web/mobile/sms_login/",EMAIL_LOGIN:"/passport/aff/web/email/code_login/",PWD_LOGIN:"/passport/aff/web/user/login/",OAUTH_LOGIN_CALL:"/passport/aff/web/oauth/login/call/",OAUTH_LOGIN_ONLY:"/passport/aff/web/oauth/login_only/",OAUTH_LOGIN:"/passport/aff/web/oauth/login/",SUBJECT_LOGIN_LIST:"/passport/aff/web/subject/login_list/",SUBJECT_LOGIN:"/passport/aff/web/subject/login/",LOGOUT:"/passport/aff/web/logout/",REGISTER_EMAIL_USER_ONLY:"/passport/aff/web/email/register/only_user/",REGISTER_EMAIL:"/passport/aff/web/email/register/",REGISTER_MOBILE_USER_ONLY:"/passport/aff/web/mobile/register/only_user/",REGISTER_MOBILE:"/passport/aff/web/mobile/register/",RESET_BY_MOBILE:"/passport/aff/web/mobile/password/reset/",RESET_BY_EMAIL:"/passport/aff/web/email/password/reset/",MOBILE_INVITE:"/passport/aff/web/invitation/mobile/invite/",EMAIL_INVITE:"/passport/aff/web/invitation/email/invite/",LARK_INVITE:"/passport/aff/web/invitation/lark/invite/",INVITE_LIST:"/passport/aff/web/invitation/list/",CANCEL_INVITE:"/passport/aff/web/invitation/cancel/",RESEND_INVITE:"/passport/aff/web/invitation/resend/",UPDATE_INVITE:"/passport/aff/web/invitation/update/",CHECK_INVITE_VALID:"/passport/aff/web/invitation/check/",ACCEPT_INVITE:"/passport/aff/web/invitation/accept/",CREATE_BY_USERNAME:"/passport/aff/web/subject/username/create/",CREATE_BY_MOBILE:"/passport/aff/web/subject/mobile/create/",CREATE_BY_EMAIL:"/passport/aff/web/subject/email/create/",SUBJECT_LIST:"/passport/aff/web/subject/all/list/",SUBJECT_DEPUTY_LIST:"/passport/aff/web/subject/deputy/list/",SUBJECT_IDENTITY_LIST:"/passport/aff/web/subject/identity/list/",UPDATE_DEPUTY_INFO:"/passport/aff/web/deputy/update/",FREEZE_DEPUTY:"/passport/aff/web/deputy/freeze/",DELETE_DEPUTY:"/passport/aff/web/deputy/delete/",UPDATE_SUBJECT_INFO:"/passport/aff/web/subject/update/",FREEZE_SUBJECT:"/passport/aff/web/subject/freeze/",RESOURCE_LIST:"/passport/aff/web/resource/list/",CREATE_ROLE:"/passport/aff/web/role/create/",UPDATE_ROLE:"/passport/aff/web/role/update/",BAN_ROLE:"/passport/aff/web/role/ban/",ROLE_LIST:"/passport/aff/web/role/list/",ROLE_INFO:"/passport/aff/web/role/info/",CREATE_USER_WITH_ROLE:"/passport/aff/web/user/create_with_role/",ADD_USER_ROLE:"/passport/aff/web/user_role/add/",DELETE_USER_ROLE:"/passport/aff/web/user_role/del/",USER_ROLE_LIST:"/passport/aff/web/user_role/list/",ALL_USER_ROLE_LIST:"/passport/aff/web/user_role/all/list/",USER_PERMISSIONS:"/passport/aff/web/user/permissions/",SUCCESSOR_SEND_CODE:"/passport/aff/web/admin/successor/send_code/",TRANSFER_MANAGER:"/passport/aff/web/admin/transfer/",MEMBER_SWITCH:"/passport/aff/web/member/switch/"},f={MOBILE_CODE_URL:"/send_activation_code/",MOBILE_CODE_URL_V2:"/send_activation_code/v2/",EMAIL_ACTIVATE_URL:"/send_email_activate_link/",EMAIL_ACTIVATE_URL_V2:"/send_email_activate_link/v2/",EMAIL_ACTIVATE_CODE_URL:"/send_email_activate_code/",EMAIL_ACTIVATE_CODE_URL_V2:"/send_email_activate_code/v2/",CHECK_LOGIN:"/check_login/",MOBILE_CODE_LOGIN_URL:"/quick_login/",MOBILE_CODE_LOGIN_URL_V2:"/quick_login/v2/",MOBILE_CODE_LOGIN_ONLY_URL:"/quick_login_only/",ACCOUNT_LOGIN_URL:"/account_login/",ACCOUNT_LOGIN_URL_V2:"/account_login/v2/",AUTH_LOGIN_URL:"/passport/auth/wap_login/",BIND_WITH_MOBILE_LOGIN:"/bind_with_mobile_login/",AUTH_LOGIN:"/auth/login/",AUTH_LOGIN_ONLY:"/auth/login_only/",LOGOUT:"/logout/",EMAIL_ACTIVATE_CODE_LOGIN:"/activate_email/code_login/",EMAIL_REGISTER:"/activate_email/register/",EMAIL_REGISTER_V2:"/activate_email/register/v2/",MOBILE_REGISTER_WITH_EMAIL:"/register/",MOBILE_REGISTER_WITH_EMAIL_V2:"/register/v2/",SSO_EMAIL_ACTIVATE_CODE_URL:"/sso/send_email_activate_code/",RESET_PASSWORD:"/reset_password/",RESET_PASSWORD_BY_EMAIL:"/activate_email/reset_password/",BIND_MOBILE:"/bind_mobile/",CHANGE_MOBILE:"/change_mobile/",QUICK_AUTH:"/quick_auth/",GET_QRCODE:"/get_qrcode/",CHECK_QRCONNECT:"/check_qrconnect/",SCAN_QRCODE:"/scan_qrcode/",CONFIRM_QRCODE:"/confirm_qrcode/",MOBILE_EMAIL_REGISTER:"/mobile_email_register/"};function h(tt){var et=window.byted_acrawler,rt=[].concat(Object.values(l),Object.values(m),Object.values(f)),nt=Object.values(f).map(function(it){return[it,"/passport/sso"+it]})||[];et&&et.init({aid:tt.aid,isSDK:!0,boe:tt.isBoe||!1,enablePathList:rt,urlRewriteRules:nt})}function v(tt,et){var rt="https://lf3-cdn-tos.bytescm.com/obj/rc-web-sdk/webmssdk.js";tt==="gcp"||tt==="giso"?rt="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-giso/webmssdk/1.0.0.303/webmssdk.js":tt==="sg"?rt="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-sg/webmssdk/1.0.0.303/webmssdk.js":tt!=="va"&&tt!=="gcs"||(rt="https://sf16-secsdk.ibytedtos.com/obj/rc-web-sdk-gcs/webmssdk/1.0.0.303/webmssdk.js"),window.byted_acrawler?h(et):function(nt,it){var ot=document.createElement("script");ot.type="text/javascript",ot.src=nt,document.getElementsByTagName("head")[0].appendChild(ot),ot.readyState?ot.onreadystatechange=function(){ot.readyState!=="complete"&&ot.readyState!=="loaded"||(ot.onreadystatechange=null,it&&it())}:ot.onload=function(){it&&it()}}(rt,function(){h(et)})}function E(tt){var et,rt=new RegExp("(^| )"+tt+"=([^;]*)(;|$)");return(et=document.cookie.match(rt))?unescape(et[2]):""}function O(tt,et,rt){rt===void 0&&(rt=!0),console.group(tt),et&&Object.keys(et).forEach(function(nt){rt?et[nt]:et[nt]}),console.groupEnd()}function b(tt){return Object.keys(tt).map(function(et){var rt=tt[et];return typeof rt=="object"?encodeURIComponent(et)+"="+encodeURIComponent(JSON.stringify(rt)):encodeURIComponent(et)+"="+encodeURIComponent(rt)}).join("&")}var w,T,I=function(tt){var et,rt=[];if(tt===void 0)return"";et=function(ot){for(var at,st=ot.toString(),lt=[],ct=0;ct<st.length;ct++)0<=(at=st.charCodeAt(ct))&&at<=127?lt.push(at):128<=at&&at<=2047?(lt.push(192|31&at>>6),lt.push(128|63&at)):(2048<=at&&at<=55295||57344<=at&&at<=65535)&&(lt.push(224|15&at>>12),lt.push(128|63&at>>6),lt.push(128|63&at));for(var ut=0;ut<lt.length;ut++)lt[ut]&=255;return lt}(tt);for(var nt=0,it=et.length;nt<it;++nt)rt.push((5^et[nt]).toString(16));return rt.join("")},S=function(tt,et){var rt,nt=0,it=0;if(typeof tt!="object"||!et||et.length<=0)return tt;for(var ot=d({mix_mode:nt},tt),at=0,st=et.length;at<st;++at)(rt=ot[et[at]])!==void 0&&(nt|=1,it|=1,ot[et[at]]=I(rt));return ot.mix_mode=nt,ot.fixed_mix_mode=it,ot},C=function(tt,et){tt===void 0&&(tt={}),et===void 0&&(et=-1);var rt=Object.keys(tt).sort()||[];return et>=0&&rt.splice(et),{str:rt.map(function(nt){var it=tt[nt];return typeof it=="object"?nt+"="+JSON.stringify(it):nt+"="+it}).join("&"),arr:rt}},L=function(tt,et,rt){if(tt===void 0&&(tt={}),et===void 0&&(et={}),rt===void 0&&(rt=""),!rt)return{};var nt=C(tt,10),it=nt.str,ot=it===void 0?"":it,at=nt.arr,st=at===void 0?[]:at,lt=C(et).str,ct=i(ot+"&"+(lt===void 0?"":lt)+"&app_key="+rt);return{sign:n.stringify(ct),qs:I(st.join(","))}},y={};function P(tt){return y[tt]}var g,A={aid:0,iid:"0",did:"0"},R={sideSlide:"disabled",lang:"zh",showMode:"mask",region:"cn",app_name:""},x={cn:t,sg:r,va:o,in:a},q=function(tt){var et=tt.requestConfig,rt=tt.verifyData,nt=tt.requestData,it={};try{it=JSON.parse(rt)}catch{}return new Promise(function(ot,at){g.render({verify_data:it,captchaOptions:{successCb:function(){try{return Promise.resolve(g.getFp()).then(function(st){var lt;(lt=w)===null||lt===void 0||lt(d({},et,{params:d({},et.params,{isResend:!0,fp:st,verifyFp:st})})).then(function(ct){ot(ct)}).catch(function(ct){at(ct)})})}catch(st){return Promise.reject(st)}},closeCb:function(){at("CLOSE_CAPTCHA")}},secondVerifyWebOptions:{callBack:function(st){try{var lt,ct=et.data||"";return nt&&(ct=b(d({},function(ut){if(!ut)return{};var dt={};return ut.split("&").forEach(function(ft){var pt=ft.split("=");dt[pt[0]]=pt[1]}),dt}(ct),nt))),(lt=w)===null||lt===void 0||lt(d({},et,{params:d({},et.params,{isResend:!0}),data:ct})).then(function(ut){ot(ut)}).catch(function(ut){at(ut)}),Promise.resolve()}catch(ut){return Promise.reject(ut)}},closeCallBack:function(){at({description:"SECOND_VALID",requestData:nt})}}})})},N=function(){function tt(rt){this.accountApiSlardar=c.createBrowserClient(),this.accountApiSlardar("init",{bid:"passport_account_api",pid:""+rt,release:"2.2.2",env:"production",plugins:{tti:!1,performance:!1,resource:!1,pageview:!1,jsError:{onerror:!1,onunhandledrejection:!1,dedupe:!1,captureGlobalAsync:!1},breadcrumb:{dom:!1},ajax:{autoWrap:!1,ignoreUrls:[/^((?!\/passport\/).)*$/],collectBodyOnError:!0},fetch:{autoWrap:!1,ignoreUrls:[/^((?!\/passport\/).)*$/],collectBodyOnError:!0},blankScreen:{autoDetect:!1,screenshot:!1}}}),this.accountApiSlardar("start"),this.accountApiSlardar("sendEvent",{name:"passport_account_api"})}tt.initSlardar=function(rt){return this._instance||(this._instance=new tt(rt)),this._instance},tt.getSlardar=function(){return this._instance},tt.clearSlardar=function(){this._instance=null};var et=tt.prototype;return et.dot=function(rt){this.accountApiSlardar("sendEvent",rt)},et.log=function(rt){this.accountApiSlardar("sendLog",rt)},et.throw=function(rt,nt){this.accountApiSlardar("captureException",rt,nt)},tt}(),M={web:{respHandler:function(tt){return(tt==null?void 0:tt.message)==="success"},successCallBack:function(tt){return tt==null?void 0:tt.data},failCallBack:function(tt){return tt==null?void 0:tt.data}},sso:{respHandler:function(tt){return(tt==null?void 0:tt.error_code)===0},successCallBack:function(tt){return(tt==null?void 0:tt.message)==="success"?tt.data:tt},failCallBack:function(tt){return tt}},app:{},auth:{respHandler:function(tt){return(tt==null?void 0:tt.status_code)===0},successCallBack:function(tt){return tt.data},failCallBack:function(tt){return tt}}},D=function(tt){var et,rt,nt,it=(tt==null||(et=tt.config)===null||et===void 0?void 0:et.url)||"",ot=(tt==null||(rt=tt.headers)===null||rt===void 0?void 0:rt["x-tt-logid"])||"",at=function(ut){var dt,ft,pt=(ut==null||(dt=ut.data)===null||dt===void 0||(ft=dt.data)===null||ft===void 0?void 0:ft.response)||(ut==null?void 0:ut.data)||{};if(typeof pt=="string")try{pt=JSON.parse(pt)}catch(mt){}return pt}(tt),st=P("initProps"),lt=(st==null?void 0:st.printLog)||!1;if((at==null?void 0:at.message)==="success")return lt&&O("call "+it+" result >>>>",{SUCCESS:at.data,Logid:ot},!1),Promise.resolve(at.data);lt&&O("call "+it+" result >>>>",{ERROR:at.data,Logid:ot},!1);var ct=at==null||(nt=at.data)===null||nt===void 0?void 0:nt.verify_center_decision_conf;return st!=null&&st.appShowCaptcha||!ct?Promise.reject(d({},at.data,{log_id:ot})):Promise.resolve(q({verifyData:ct,requestConfig:tt==null?void 0:tt.config}))},k=function(tt,et){var rt;rt=tt,new Promise(function(ot){y.initProps=rt,ot(y)}),this.request=new U(tt,et);var nt=tt.enabledMonitor,it=nt===void 0||nt;try{it&&(N.clearSlardar(),N.initSlardar(tt.aid))}catch(ot){console.error("slardar init error",ot)}(function(ot){var at=ot.request,st=p(ot,["request"]);w=at,function(lt){var ct,ut=lt.isBoe,dt=lt.captchaOptions,ft=dt===void 0?{}:dt,pt=lt.secondVerifyWebOptions,mt=ut!==void 0&&ut?"//boe-verify.bytedance.net":void 0,ht={commonOptions:d({},A,{aid:lt.aid,did:lt.did?String(lt.did):"0",iid:lt.iid?String(lt.iid):"0"}),captchaOptions:d({},R,{sideSlide:lt.captchaSideSlide||"disabled",lang:lt.language||"zh",showMode:lt.captchaShowMode||"mask",region:lt.region||"cn",app_name:lt.appName||"",host:lt.captchaHost||mt||""},ft),secondVerifyWebOptions:pt};(g=x[lt.region||"cn"]||t).init||(g=(ct=g)===null||ct===void 0?void 0:ct.default),lt.captchaConfig&&typeof g.config=="function"&&g.config(lt.captchaConfig),g.init(ht,function(){},function(){})}(st)})(d({},tt,{request:this.request}))},U=function(tt,et){var rt,nt,it,ot;return et===void 0&&(et="web"),(rt=P("initProps"))!==null&&rt!==void 0&&rt.fetch?(it=(nt=P("initProps")||{}).isBoe,(ot=s.create(d({},nt.axiosConfig,{baseURL:nt.host||window&&(it!==void 0&&it?"http":"https")+"://"+window.location.hostname,adapter:function(at){var st=at.baseURL,lt=at.url,ct=at.method,ut=ct===void 0?"GET":ct,dt=at.params,ft=dt===void 0?{}:dt,pt=at.data,mt=pt===void 0?{}:pt,ht=P("initProps"),gt=ht.fetch,vt=(ht==null?void 0:ht.printLog)||!1,yt=u.isValid(lt)?lt:st+lt;return vt&&O(ut+" "+yt+" >>>>",{"data >>>>":mt,"params >>>>":ft},!1),gt({url:yt,method:ut.toUpperCase(),params:d({},ft,{is_native_h5:1}),data:mt,needCommonParams:!0,header:{"x-tt-passport-csrf-token":E("passport_csrf_token")||E("passport_csrf_token_default")||""}}).then(function(bt){return{data:bt,status:200,statusText:"ok",config:at}})},withCredentials:!0,transformRequest:[function(at){var st=at;if(typeof at=="string")try{st=JSON.parse(at)}catch(lt){}return st}]}))).interceptors.response.use(D,void 0),ot):function(at){var st=P("initProps")||{},lt=s.create(d({},st.axiosConfig,{baseURL:st.host||window&&(st.isBoe?window.location.protocol:"https:")+"//"+window.location.hostname,withCredentials:!0}));return lt.interceptors.request.use(function(ct){return function(ut,dt){dt===void 0&&(dt={});try{var ft=P("initProps"),pt=(ft==null?void 0:ft.printLog)||!1;return Promise.resolve(function(){if(T)return Promise.resolve(T);try{var mt,ht=P("initProps");if(ht!=null&&(mt=ht.captchaOptions)!==null&&mt!==void 0&&mt.fp)return T=ht.captchaOptions.fp,ht.captchaOptions.fp}catch(gt){console.error("[error]",gt)}return Promise.race([new Promise(function(gt){setTimeout(function(){return gt("")},1e3)}),g.getFp()]).then(function(gt){return T=gt,gt})}()).then(function(mt){var ht,gt=(ft==null?void 0:ft.appKey)||"",vt=ut==null?void 0:ut.url,yt=(ut==null?void 0:ut.method)||"get",bt=(ut==null?void 0:ut.data)||{},xt={"x-tt-passport-csrf-token":E("passport_csrf_token")||E("passport_csrf_token_default")||""},$t=Object.assign({"Content-Type":"application/x-www-form-urlencoded",Accept:"application/json, text/javascript"},ut.headers||{},xt,{});if(ut.headers=$t,pt&&O(yt+" "+vt+" >>>>",{"%cdata >>>>":bt,"%ccommon params >>>>":dt}),(ht=ut.params)!==null&&ht!==void 0&&ht.isResend){var Tt=p(ut.params,["isResend"]);return d({},ut,{params:Tt})}var wt={};if(Object.keys(bt).filter(function(Pt){return bt[Pt]!==void 0}).forEach(function(Pt){wt[Pt]=bt[Pt]}),["post","POST"].includes(yt)){var At=d({},dt,{verifyFp:mt,fp:mt},(ut==null?void 0:ut.params)||{}),Rt=L(At,wt,gt);ut.params=d({},At,Rt),ut.data=typeof FormData<"u"&&bt instanceof FormData?bt:b(wt)}if(["get","GET"].includes(yt)){var It=d({},wt,dt,{verifyFp:mt,fp:mt},ut.params),Lt=L(It,{},gt);ut.params=d({},It,Lt)}return ut})}catch(mt){return Promise.reject(mt)}}(ct,at)},void 0),lt.interceptors.response.use(function(ct){return function(ut){var dt,ft,pt,mt,ht,gt,vt,yt,bt,xt,$t,Tt,wt=M[ut.config.params.account_sdk_source],At=(wt==null?void 0:wt.respHandler)||function(ir){return(ir==null?void 0:ir.message)==="success"},Rt=(wt==null?void 0:wt.successCallBack)||function(ir){return ir==null?void 0:ir.data},It=(wt==null?void 0:wt.failCallBack)||function(ir){return ir==null?void 0:ir.data},Lt=(ut==null||(dt=ut.config)===null||dt===void 0?void 0:dt.url)||"",Pt=(ut==null||(ft=ut.headers)===null||ft===void 0?void 0:ft["x-tt-logid"])||"",Nt=(ut==null?void 0:ut.data)||{},Ot=P("initProps"),Bt=(Ot==null?void 0:Ot.printLog)||!1;if(typeof Nt=="string")try{Nt=JSON.parse(Nt)}catch(ir){}if(At(Nt))return Bt&&O("call "+Lt+" result >>>>",{"%cSUCCESS":Rt(Nt),"%cLogid":Pt}),Promise.resolve(Rt(Nt));Bt&&O("call "+Lt+" result >>>>",{"%cERROR":It(Nt),"%cLogid":Pt});var zt,Vt=((pt=Nt)===null||pt===void 0||(mt=pt.data)===null||mt===void 0?void 0:mt.verify_center_decision_conf)||((ht=Nt)===null||ht===void 0||(gt=ht.data)===null||gt===void 0?void 0:gt.verify_center_secondary_decision_conf)||((vt=Nt)===null||vt===void 0?void 0:vt.verify_center_decision_conf)||((yt=Nt)===null||yt===void 0?void 0:yt.verify_center_secondary_decision_conf),Ut=((bt=Nt)===null||bt===void 0||(xt=bt.data)===null||xt===void 0?void 0:xt.error_code)||(($t=Nt)===null||$t===void 0?void 0:$t.error_code);try{var jt=N.getSlardar();jt==null||jt.dot({name:"request_error",metrics:{count:1},categories:{path:Lt,error_code:Ut}})}catch(ir){}if(Ut===2046&&typeof(Ot==null||(Tt=Ot.secondVerifyWebOptions)===null||Tt===void 0?void 0:Tt.onValid)=="function")return Ot==null||(zt=Ot.secondVerifyWebOptions)===null||zt===void 0||zt.onValid(),Promise.reject({description:"SECOND_VALID"});if(Vt){var qt,Dt,Ft,Zt=((qt=Nt)===null||qt===void 0||(Dt=qt.data)===null||Dt===void 0?void 0:Dt.sms_code_key)||((Ft=Nt)===null||Ft===void 0?void 0:Ft.sms_code_key);return Promise.resolve(q({verifyData:Vt,requestConfig:ut==null?void 0:ut.config,requestData:Ut===2046&&Zt?{sms_code_key:Zt}:void 0})).then(function(ir){return Promise.resolve(ir)}).catch(function(ir){return Promise.reject(ir)})}var Kt=It(Nt);return Promise.reject(d({},Kt,{log_id:Pt}))}(ct)},void 0),lt}(function(at,st){var lt,ct=at.scene,ut=at.aid,dt=at.language,ft=dt===void 0?"":dt,pt=at.subjectAid,mt=at.aff_multi_login,ht=mt===void 0?0:mt,gt=at.generalParams,vt=gt===void 0?{}:gt;if(st==="web"){var yt={aid:ut};(ct===void 0?"normal":ct)==="aff"&&(yt.subject_aid=pt===void 0?0:pt),ht===1&&(yt.aff_multi_login=1),lt=yt}if(st==="sso"||st==="auth"){var bt={aid:ut};ht===1&&(bt.aff_multi_login=1),lt=bt}if(lt=d({},lt,{account_sdk_source:st,sdk_version:"2.2.2"}),vt)try{lt=d({},vt,lt)}catch{console.error("[error], generalParams is not object!")}return ft&&(lt=d({},lt,{language:ft})),lt}(tt,et))},B=function(tt){var et=this;this.sendCode=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,type:7},nt===void 0?{}:nt),["mobile","type"]);return et.request({url:m.SEND_MOBILE_CODE,method:"POST",data:it})},this.smsLogin=function(rt){var nt=rt.need_frozen_user,it=rt.extra_params,ot=S(d({mobile:rt.mobile,code:rt.code,need_frozen_user:nt===void 0?0:nt,type:7},it===void 0?{}:it),["mobile","type","code"]);return et.request({url:m.SMS_LOGIN,method:"POST",data:ot})},this.sendEmailCode=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,type:13},nt===void 0?{}:nt),["email","type"]);return et.request({url:m.SEND_EMAIL_CODE,method:"POST",data:it})},this.emailLogin=function(rt){var nt=rt.need_frozen_user,it=rt.extra_params,ot=S(d({email:rt.email,code:rt.code,need_frozen_user:nt===void 0?0:nt,type:13},it===void 0?{}:it),["email","type","code"]);return et.request({url:m.EMAIL_LOGIN,method:"POST",data:ot})},this.pwdLogin=function(rt){var nt,it=rt.password,ot=rt.need_frozen_user,at=ot===void 0?0:ot,st=rt.extra_params,lt=st===void 0?{}:st,ct=["email","username","mobile","account"].find(function(dt){return!!rt[dt]});if(!ct)return Promise.reject();var ut=S(d(((nt={password:it})[ct]=rt[ct],nt.need_frozen_user=at,nt),lt),["password",ct]);return et.request({url:m.PWD_LOGIN,method:"POST",data:ut})},this.oauthLoginCall=function(rt){var nt=rt.platform_app_id,it=rt.next,ot=rt.extra_params,at=ot===void 0?{}:ot,st=P("initProps")||{},lt=b(d({platform_app_id:nt,next:it,aid:st.aid,subject_aid:st.subjectAid,account_sdk_source:"web"},at));window.location.href=m.OAUTH_LOGIN_CALL+"?"+lt},this.oauthLogin=function(rt){var nt=rt.need_frozen_user,it=rt.login_only,ot=rt.extra_params;return et.request({url:it===void 0||it?m.OAUTH_LOGIN_ONLY:m.OAUTH_LOGIN,method:"POST",data:d({platform_app_id:rt.platform_app_id,redirect_uri:rt.redirect_uri,code:rt.code,need_frozen_user:nt===void 0?0:nt},ot===void 0?{}:ot)})},this.subjectLoginList=function(rt){rt===void 0&&(rt={});var nt=rt.extra_params;return et.request({url:m.SUBJECT_LOGIN_LIST,method:"GET",data:nt===void 0?{}:nt})},this.subjectLogin=function(rt){var nt=rt.user_identity_id,it=rt.extra_params,ot=S(d({login_subject_uid:rt.login_subject_uid,user_identity_id:nt===void 0?"0":nt},it===void 0?{}:it),["login_subject_uid","user_identity_id"]);return et.request({url:m.SUBJECT_LOGIN,method:"POST",data:ot})},this.logout=function(rt){var nt=rt.next,it=nt===void 0?"":nt,ot=rt.not_redirect,at=ot!==void 0&&ot,st=P("initProps")||{},lt={account_sdk_source:"web",aid:st.aid,subject_aid:st.subjectAid,next:it};if(at)return et.request({url:m.LOGOUT,method:"GET",data:d({},lt,{next:encodeURIComponent(lt.next)})});window.location.href=m.LOGOUT+"?"+b(lt)},this.memberSwitch=function(rt){var nt=rt.extra_params;return et.request({url:m.MEMBER_SWITCH,method:"POST",data:d({to_sec_member_id:rt.to_sec_member_id},nt===void 0?{}:nt)})},this.request=tt.request},G=function(tt){var et=this;this.sendEmailCode=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,type:1},nt===void 0?{}:nt),["email","type"]);return new Promise(function(ot,at){et.request({url:m.SEND_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.verifyEmail=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,code:rt.code,type:1},nt===void 0?{}:nt),["email","code","type"]);return new Promise(function(ot,at){et.request({url:m.CHECK_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.registerByEmail=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=rt.only_user,at=ot!==void 0&&ot,st=p(rt,["extra_params","only_user"]),lt=S(d({},st,it),["base_infos","subject_name","password","identity_card","real_name"]),ct=at?m.REGISTER_EMAIL_USER_ONLY:m.REGISTER_EMAIL;return new Promise(function(ut,dt){et.request({url:ct,method:"POST",data:lt}).then(function(ft){ut(ft)}).catch(function(ft){dt(ft)})})},this.sendMobileCode=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,type:1},nt===void 0?{}:nt),["mobile","type"]);return new Promise(function(ot,at){et.request({url:m.SEND_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.verifyMobile=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,code:rt.code,type:1},nt===void 0?{}:nt),["mobile","code","type"]);return new Promise(function(ot,at){et.request({url:m.CHECK_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.registerByMobile=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=rt.only_user,at=ot!==void 0&&ot,st=p(rt,["extra_params","only_user"]),lt=S(d({},st,it),["base_infos","subject_name","password","identity_card","real_name"]),ct=at?m.REGISTER_MOBILE_USER_ONLY:m.REGISTER_MOBILE;return new Promise(function(ut,dt){et.request({url:ct,method:"POST",data:lt}).then(function(ft){ut(ft)}).catch(function(ft){dt(ft)})})},this.request=tt.request},H=function(tt){var et=this;this.sendEmailCode=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,type:4},nt===void 0?{}:nt),["email","type"]);return et.request({url:m.SEND_EMAIL_CODE,method:"POST",data:it})},this.sendMobileCode=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,type:6},nt===void 0?{}:nt),["mobile","type"]);return et.request({url:m.SEND_MOBILE_CODE,method:"POST",data:it})},this.mobileReset=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,code:rt.code,password:rt.password},nt===void 0?{}:nt),["mobile","code","password"]);return et.request({url:m.RESET_BY_MOBILE,method:"POST",data:it})},this.emailReset=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,code:rt.code,password:rt.password},nt===void 0?{}:nt),["email","code","password"]);return et.request({url:m.RESET_BY_EMAIL,method:"POST",data:it})},this.request=tt.request},V=function(tt){var et=this;this.mobileInvite=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=p(rt,["extra_params"]),at=S(d({},ot,it),["mobile"]);return et.request({url:m.MOBILE_INVITE,method:"POST",data:at})},this.emailInvite=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=p(rt,["extra_params"]),at=S(d({},ot,it),["email"]);return et.request({url:m.EMAIL_INVITE,method:"POST",data:at})},this.larkInvite=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=p(rt,["extra_params"]),at=S(d({},ot,it),["email"]);return et.request({url:m.LARK_INVITE,method:"POST",data:at})},this.getInvitationList=function(rt){var nt=rt.page,it=nt===void 0?1:nt,ot=rt.page_size,at=ot===void 0?10:ot,st=rt.extra_params,lt=st===void 0?{}:st;return new Promise(function(ct,ut){et.request({url:""+m.INVITE_LIST+it+"/",method:"GET",data:d({page_size:at},lt)}).then(function(dt){ct(dt)}).catch(function(dt){ut(dt)})})},this.cancelInvitation=function(rt){var nt=rt.invite_id,it=nt===void 0?0:nt,ot=rt.extra_params,at=ot===void 0?{}:ot;return new Promise(function(st,lt){et.request({url:m.CANCEL_INVITE,method:"POST",data:d({invite_id:it},at)}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.resendInvitation=function(rt){var nt=rt.invite_id,it=nt===void 0?0:nt,ot=rt.next_url,at=ot===void 0?"":ot,st=rt.link,lt=st===void 0?"":st,ct=rt.extra_params,ut=ct===void 0?{}:ct;return new Promise(function(dt,ft){et.request({url:m.RESEND_INVITE,method:"POST",data:d({invite_id:it,next_url:at,link:lt},ut)}).then(function(pt){dt(pt)}).catch(function(pt){ft(pt)})})},this.updateInvitation=function(rt){var nt=rt.invite_id,it=rt.extra_params,ot=S(d({invite_id:nt===void 0?0:nt,deputy_identity_id:rt.deputy_identity_id,deputy_name:rt.deputy_name},it===void 0?{}:it),["deputy_name"]);return new Promise(function(at,st){et.request({url:m.UPDATE_INVITE,method:"POST",data:ot}).then(function(lt){at(lt)}).catch(function(lt){st(lt)})})},this.checkRegisterStatus=function(rt){var nt=rt.invite_ticket,it=rt.extra_params,ot=it===void 0?{}:it;return new Promise(function(at,st){et.request({url:m.CHECK_INVITE_VALID,method:"POST",data:d({invite_ticket:nt},ot)}).then(function(lt){at(lt)}).catch(function(lt){st(lt)})})},this.acceptInvitation=function(rt){var nt=rt.extra_params,it=S(d({invite_ticket:rt.invite_ticket,password:rt.password,extra:rt.extra},nt===void 0?{}:nt),["password","extra"]);return et.request({url:m.ACCEPT_INVITE,method:"POST",data:it})},this.request=tt.request},j=function(tt){var et=this;this.createByUsername=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=p(rt,["extra_params"]),at=S(d({},ot,it),["subject_name","deputy_name","password","username","base_infos","detail_infos"]);return new Promise(function(st,lt){et.request({url:m.CREATE_BY_USERNAME,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.createByMobile=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=p(rt,["extra_params"]),at=S(d({},ot,it),["subject_name","deputy_name","password","mobile","base_infos","detail_infos"]);return new Promise(function(st,lt){et.request({url:m.CREATE_BY_MOBILE,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.createByEmail=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=p(rt,["extra_params"]),at=S(d({},ot,it),["subject_name","deputy_name","password","email","base_infos","detail_infos"]);return new Promise(function(st,lt){et.request({url:m.CREATE_BY_EMAIL,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.getSubjectList=function(rt){var nt=rt.page,it=nt===void 0?1:nt,ot=rt.page_size,at=ot===void 0?10:ot,st=rt.deputy_identity_id,lt=rt.extra_params,ct=lt===void 0?{}:lt;return new Promise(function(ut,dt){et.request({url:""+m.SUBJECT_LIST+it+"/",method:"GET",data:d({page_size:at,deputy_identity_id:st},ct)}).then(function(ft){ut(ft)}).catch(function(ft){dt(ft)})})},this.getSubjectDeputyList=function(rt){var nt=rt.page,it=nt===void 0?1:nt,ot=rt.page_size,at=ot===void 0?10:ot,st=rt.extra_params,lt=st===void 0?{}:st;return new Promise(function(ct,ut){et.request({url:""+m.SUBJECT_DEPUTY_LIST+it+"/",method:"GET",data:d({page_size:at},lt)}).then(function(dt){ct(dt)}).catch(function(dt){ut(dt)})})},this.getSubjectIdentityList=function(rt){var nt=rt.page,it=nt===void 0?1:nt,ot=rt.page_size,at=ot===void 0?10:ot,st=rt.extra_params,lt=st===void 0?{}:st;return new Promise(function(ct,ut){et.request({url:""+m.SUBJECT_IDENTITY_LIST+it+"/",method:"GET",data:d({page_size:at},lt)}).then(function(dt){ct(dt)}).catch(function(dt){ut(dt)})})},this.updateDeputyInfo=function(rt){var nt=rt.extra_params,it=S(d({sec_user_id:rt.sec_user_id,deputy_identity_id:rt.deputy_identity_id,deputy_name:rt.deputy_name,user_identity_id:rt.user_identity_id},nt===void 0?{}:nt),["deputy_name","user_identity_id"]);return new Promise(function(ot,at){et.request({url:m.UPDATE_DEPUTY_INFO,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.freezeDeputy=function(rt){var nt=rt.is_frozen,it=rt.extra_params,ot=S(d({sec_user_id:rt.sec_user_id,user_identity_id:rt.user_identity_id,is_frozen:nt===void 0?0:nt},it===void 0?{}:it),["sec_user_id","user_identity_id"]);return new Promise(function(at,st){et.request({url:m.FREEZE_DEPUTY,method:"POST",data:ot}).then(function(lt){at(lt)}).catch(function(lt){st(lt)})})},this.deleteDeputy=function(rt){var nt=rt.extra_params,it=S(d({sec_user_id:rt.sec_user_id,user_identity_id:rt.user_identity_id},nt===void 0?{}:nt),["user_identity_id"]);return new Promise(function(ot,at){et.request({url:m.DELETE_DEPUTY,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.updateSubjectInfo=function(rt){var nt=rt.extra_params,it=S(d({sec_subject_uid:rt.sec_subject_uid,subject_name:rt.subject_name,base_infos:rt.base_infos,detail_infos:rt.detail_infos},nt===void 0?{}:nt),["sec_subject_uid","subject_name","base_infos","detail_infos"]);return new Promise(function(ot,at){et.request({url:m.UPDATE_SUBJECT_INFO,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.freezeSubject=function(rt){var nt=rt.is_frozen,it=rt.extra_params,ot=S(d({sec_subject_uid:rt.sec_subject_uid,is_frozen:nt===void 0?0:nt},it===void 0?{}:it),["sec_subject_uid"]);return new Promise(function(at,st){et.request({url:m.FREEZE_SUBJECT,method:"POST",data:ot}).then(function(lt){at(lt)}).catch(function(lt){st(lt)})})},this.request=tt.request},W=function(tt){var et=this;this.getResourceList=function(rt){var nt=rt.page,it=nt===void 0?1:nt,ot=rt.page_size,at=ot===void 0?10:ot,st=rt.subject_uid,lt=rt.extra_params,ct=lt===void 0?{}:lt;return new Promise(function(ut,dt){et.request({url:""+m.RESOURCE_LIST+it+"/",method:"GET",data:d({page_size:at,subject_uid:st},ct)}).then(function(ft){ut(ft)}).catch(function(ft){dt(ft)})})},this.request=tt.request},Y=function(tt){var et=this;this.createRole=function(rt){var nt=rt.role_name,it=rt.permissions,ot=rt.subject_uid,at=rt.extra_params,st=at===void 0?{}:at;return new Promise(function(lt,ct){et.request({url:m.CREATE_ROLE,method:"POST",data:d({role_name:nt,permissions:it,subject_uid:ot},st)}).then(function(ut){lt(ut)}).catch(function(ut){ct(ut)})})},this.updateRole=function(rt){var nt=rt.role_key,it=rt.role_name,ot=rt.permissions,at=rt.description,st=rt.subject_uid,lt=rt.extra_params,ct=lt===void 0?{}:lt;return new Promise(function(ut,dt){et.request({url:m.UPDATE_ROLE,method:"POST",data:d({role_key:nt,role_name:it,permissions:ot,description:at,subject_uid:st},ct)}).then(function(ft){ut(ft)}).catch(function(ft){dt(ft)})})},this.banRole=function(rt){var nt=rt.role_key,it=rt.subject_uid,ot=rt.extra_params,at=ot===void 0?{}:ot;return new Promise(function(st,lt){et.request({url:m.BAN_ROLE,method:"POST",data:d({role_key:nt,subject_uid:it},at)}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.getRoleList=function(rt){var nt=rt.subject_uid,it=rt.extra_params,ot=it===void 0?{}:it;return new Promise(function(at,st){et.request({url:m.ROLE_LIST,method:"GET",data:d({subject_uid:nt},ot)}).then(function(lt){at(lt)}).catch(function(lt){st(lt)})})},this.getRoleInfo=function(rt){var nt=rt.role_key,it=rt.subject_uid,ot=rt.extra_params,at=ot===void 0?{}:ot;return new Promise(function(st,lt){et.request({url:m.ROLE_INFO,method:"GET",data:d({role_key:nt,subject_uid:it},at)}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.request=tt.request},F=function(tt){var et=this;this.createUserWithRole=function(rt){var nt=rt.role_key,it=rt.sec_user_id,ot=rt.name,at=rt.identity_id,st=rt.subject_uid,lt=rt.extra_params,ct=lt===void 0?{}:lt;return new Promise(function(ut,dt){et.request({url:m.CREATE_USER_WITH_ROLE,method:"POST",data:d({role_key:nt,sec_user_id:it,name:ot,identity_id:at,subject_uid:st},ct)}).then(function(ft){ut(ft)}).catch(function(ft){dt(ft)})})},this.addUserRole=function(rt){var nt=rt.role_key,it=rt.sec_user_identity_ids,ot=rt.subject_uid,at=rt.extra_params,st=at===void 0?{}:at;return new Promise(function(lt,ct){et.request({url:m.ADD_USER_ROLE,method:"POST",data:d({role_key:nt,sec_user_identity_ids:it,subject_uid:ot},st)}).then(function(ut){lt(ut)}).catch(function(ut){ct(ut)})})},this.deleteUserRole=function(rt){var nt=rt.role_key,it=rt.sec_user_identity_ids,ot=rt.subject_uid,at=rt.extra_params,st=at===void 0?{}:at;return new Promise(function(lt,ct){et.request({url:m.DELETE_USER_ROLE,method:"POST",data:d({role_key:nt,sec_user_identity_ids:it,subject_uid:ot},st)}).then(function(ut){lt(ut)}).catch(function(ut){ct(ut)})})},this.getUserRoleList=function(rt){var nt=rt.subject_uid,it=rt.extra_params,ot=it===void 0?{}:it;return new Promise(function(at,st){et.request({url:m.USER_ROLE_LIST,method:"GET",data:d({subject_uid:nt},ot)}).then(function(lt){at(lt)}).catch(function(lt){st(lt)})})},this.getAllUserRoleList=function(rt){var nt=rt.subject_uid,it=rt.identity_id,ot=rt.page,at=ot===void 0?1:ot,st=rt.page_size,lt=st===void 0?10:st,ct=rt.extra_params,ut=ct===void 0?{}:ct;return new Promise(function(dt,ft){et.request({url:""+m.ALL_USER_ROLE_LIST+at+"/",method:"GET",data:d({subject_uid:nt,identity_id:it,page_size:lt},ut)}).then(function(pt){dt(pt)}).catch(function(pt){ft(pt)})})},this.getUserPermissions=function(rt){var nt=rt.subject_uid,it=rt.extra_params,ot=it===void 0?{}:it;return new Promise(function(at,st){et.request({url:m.USER_PERMISSIONS,method:"GET",data:d({subject_uid:nt},ot)}).then(function(lt){at(lt)}).catch(function(lt){st(lt)})})},this.request=tt.request},Q=function(tt){var et=this;this.sendCodeToOldManager=function(rt){rt===void 0&&(rt={});var nt=rt.extra_params,it=S(d({type:22},nt===void 0?{}:nt),["type"]);return new Promise(function(ot,at){et.request({url:m.SEND_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.sendEmailCodeToOldManager=function(rt){rt===void 0&&(rt={});var nt=rt.extra_params,it=S(d({type:6},nt===void 0?{}:nt),["type"]);return new Promise(function(ot,at){et.request({url:m.SEND_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.verifyOldManagerMobile=function(rt){var nt=rt.extra_params,it=S(d({code:rt.code,type:22},nt===void 0?{}:nt),["code","type"]);return new Promise(function(ot,at){et.request({url:m.VERIFY_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.verifyOldManagerEmail=function(rt){var nt=rt.extra_params,it=S(d({code:rt.code,type:6},nt===void 0?{}:nt),["code","type"]);return new Promise(function(ot,at){et.request({url:m.VERIFY_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.sendCodeToNewManager=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,verify_ticket:rt.verify_ticket,type:101},nt===void 0?{}:nt),["mobile","type"]);return new Promise(function(ot,at){et.request({url:m.SEND_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.sendEmailCodeToNewManager=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,verify_ticket:rt.verify_ticket,type:101},nt===void 0?{}:nt),["email","type"]);return new Promise(function(ot,at){et.request({url:m.SEND_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.verifyNewManagerMobile=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,code:rt.code,type:101},nt===void 0?{}:nt),["mobile","code","type"]);return new Promise(function(ot,at){et.request({url:m.CHECK_MOBILE_CODE,method:"GET",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.verifyNewManagerEmail=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,code:rt.code,type:101},nt===void 0?{}:nt),["email","code","type"]);return new Promise(function(ot,at){et.request({url:m.CHECK_EMAIL_CODE,method:"GET",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.transferManager=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=p(rt,["extra_params"]);return et.request({url:m.TRANSFER_MANAGER,method:"POST",data:d({},ot,it)})},this.request=tt.request},K=function(tt){var et=this;this.sendCode=function(it){var ot=it.registerOnly,at=it.extra_params,st=S(d({mobile:it.mobile,type:ot!==void 0&&ot?16:24},at===void 0?{}:at),["mobile","type"]);return new Promise(function(lt,ct){et.request({url:l.SEND_MOBILE_CODE,method:"POST",data:st}).then(function(ut){lt(ut)}).catch(function(ut){ct(ut)})})},this.smsLogin=function(it){var ot=it.login_only,at=ot!==void 0&&ot,st=it.extra_params,lt=S(d({mobile:it.mobile,code:it.code},st===void 0?{}:st),["mobile","code"]),ct=at?l.SMS_LOGIN_ONLY:l.SMS_LOGIN;return new Promise(function(ut,dt){et.request({url:ct,method:"POST",data:lt}).then(function(ft){ut(ft)}).catch(function(ft){dt(ft)})})},this.smsLoginContinue=function(it){var ot=it.extra_params,at=S(d({mobile:it.mobile,sms_code_key:it.sms_code_key},ot===void 0?{}:ot),["mobile","sms_code_key"]);return new Promise(function(st,lt){et.request({url:l.SMS_LOGIN_CONTINUE,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.webLogin=function(it){var ot=it.platform_app_id,at=it.next,st=it.extra_params,lt=st===void 0?{}:st;return new Promise(function(ct,ut){et.request({url:l.SMS_LOGIN_CONTINUE,method:"POST",data:d({platform_app_id:ot,next:at},lt)}).then(function(dt){ct(dt)}).catch(function(dt){ut(dt)})})},this.emailLogin=function(it){var ot=it.extra_params,at=S(d({email:it.email,password:it.password},ot===void 0?{}:ot),["email","password"]);return new Promise(function(st,lt){et.request({url:l.EMAIL_LOGIN,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.emailCodeLogin=function(it){var ot=it.extra_params,at=S(d({email:it.email,code:it.code,ect_type:13},ot===void 0?{}:ot),["email","code"]);return et.request({url:l.EMAIL_CODE_LOGIN,method:"POST",data:at})},this.emailCodeQuickLogin=function(it){var ot=it.extra_params,at=S(d({email:it.email,code:it.code},ot===void 0?{}:ot),["email","code"]);return et.request({url:l.EMAIL_CODE_QUICK_LOGIN,method:"POST",data:at})},this.pwdLogin=function(it){var ot=it.extra_params,at=S(d({username:it.username,mobile:it.mobile,email:it.email,account:it.account,password:it.password},ot===void 0?{}:ot),["username","mobile","email","account","password"]);return et.request({url:l.PWD_LOGIN,method:"POST",data:at})},this.authLogin=function(it){var ot=it.platform_app_id,at=it.code,st=it.access_token,lt=it.access_token_secret,ct=it.openid,ut=it.profile_key,dt=it.login_only,ft=dt!==void 0&&dt,pt=it.extra_params,mt=pt===void 0?{}:pt;return new Promise(function(ht,gt){et.request({url:ft?l.AUTH_LOGIN_ONLY:l.AUTH_LOGIN,method:"POST",data:d({platform_app_id:ot,code:at,access_token:st,access_token_secret:lt,openid:ct,profile_key:ut},mt)}).then(function(vt){ht(vt)}).catch(function(vt){gt(vt)})})},this.webShareLogin=function(it){var ot=it.extra_params,at=ot===void 0?{}:ot,st=p(it,["extra_params"]);return et.request({url:l.WEB_SHARE_LOGIN,method:"POST",data:d({},at,st)})},this.getOauthMobile=function(it){var ot=it.access_token,at=it.access_token_secret,st=it.code,lt=it.expires_in,ct=it.openid,ut=it.platform_app_id,dt=it.platform,ft=it.need_plaintext,pt=ft!==void 0&&ft,mt=it.profile_key,ht=it.extra_params,gt=ht===void 0?{}:ht;return new Promise(function(vt,yt){et.request({url:l.MOBILE_OAUTH,method:"POST",data:d({access_token:ot,access_token_secret:at,code:st,expires_in:lt,openid:ct,platform_app_id:ut,platform:dt,need_plaintext:pt,profile_key:mt},gt)}).then(function(bt){vt(bt)}).catch(function(bt){yt(bt)})})},this.authBindLogin=function(it){var ot=it.extra_params,at=S(d({platform_app_id:it.platform_app_id,code:it.code,mobile:it.mobile,sms_code:it.sms_code,sms_code_key:it.sms_code_key,profile_key:it.profile_key},ot===void 0?{}:ot),["mobile","sms_code"]);return new Promise(function(st,lt){et.request({url:l.AUTH_BIND_ONLY,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.mobileBindLogin=function(it){var ot=it.extra_params,at=S(d({code:it.code,mobile:it.mobile,profile_key:it.profile_key},ot===void 0?{}:ot),["mobile","code"]);return new Promise(function(st,lt){et.request({url:l.MOBILE_BIND_ONLY,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.logout=function(it){var ot=it.next,at=ot===void 0?"/":ot,st=it.need_redirect,lt=st===void 0?1:st;if(!lt)return et.request({url:l.LOGOUT,data:{need_redirect:lt}});var ct,ut=((ct=P("initProps"))===null||ct===void 0?void 0:ct.aid)||"",dt=encodeURIComponent(at);window.location.href=""+et.host+l.LOGOUT+"?account_sdk_source=web&aid="+ut+"&next="+dt},this.sendEmailCode=function(it){var ot=it.extra_params,at=S(d({email:it.email,next:it.next,password:it.password,type:1},ot===void 0?{}:ot),["email","password","type"]);return et.request({url:l.SEND_EMAIL_CODE,method:"POST",data:at})},this.sendEmailLoginCode=function(it){var ot=it.extra_params,at=S(d({email:it.email,next:it.next,type:13},ot===void 0?{}:ot),["email","type"]);return et.request({url:l.SEND_EMAIL_CODE,method:"POST",data:at})},this.sendEmailQuickLoginCode=function(it){var ot=it.extra_params,at=S(d({email:it.email,next:it.next,type:16},ot===void 0?{}:ot),["email","type"]);return et.request({url:l.SEND_EMAIL_CODE,method:"POST",data:at})},this.emailRegister=function(it){var ot=it.ifLogin,at=ot!==void 0&&ot,st=it.extra_params,lt=S(d({email:it.email,code:it.code,password:it.password,type:1},st===void 0?{}:st),["email","password","type","code"]);return et.request({url:at?l.EMAIL_REGISTER_LOGIN:l.EMAIL_REGISTER,method:"POST",data:lt})},this.mobileRegister=function(it){var ot=it.extra_params,at=S(d({mobile:it.mobile,code:it.code,password:it.password,type:16},ot===void 0?{}:ot),["mobile","code","password","type"]);return new Promise(function(st,lt){et.request({url:l.MOBILE_REGISTER,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.mobileEmailRegister=function(it){var ot=it.extra_params,at=S(d({mobile:it.mobile,sms_code:it.sms_code,email:it.email,email_code:it.email_code,password:it.password,verify_ticket:it.verify_ticket,sms_type:16,ect_type:1},ot===void 0?{}:ot),["mobile","sms_code","sms_type","email","email_code","ect_type","password"]);return new Promise(function(st,lt){et.request({url:l.MOBILE_EMAIL_REGISTER,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.checkLogin=function(it){it===void 0&&(it={});var ot=it.extra_params;return et.request({url:l.CHECK_LOGIN,method:"GET",data:ot===void 0?{}:ot})},this.bindWithMobileLogin=function(it){var ot=it.extra_params,at=ot===void 0?{}:ot,st=p(it,["extra_params"]);return et.request({url:l.BIND_WITH_MOBILE_LOGIN,method:"POST",data:d({},at,st)})},this.bindWithEmailLogin=function(it){var ot=it.extra_params,at=ot===void 0?{}:ot,st=p(it,["extra_params"]);return et.request({url:l.BIND_WITH_EMAIL_LOGIN,method:"POST",data:d({},at,st)})},this.thirdAuth=function(it){var ot,at=it.platform_app_id,st=it.next,lt=st===void 0?"/":st,ct=it.use_local_host,ut=ct===void 0?0:ct,dt=it.action,ft=((ot=P("initProps"))===null||ot===void 0?void 0:ot.aid)||"",pt=encodeURIComponent(lt);window.location.href=l.THIRD_AUTH+"?account_sdk_source=web&aid="+ft+"&next="+pt+"&platform_app_id="+at+"&use_local_host="+ut+"&action="+dt},this.emailRegisterNoVerifyV2=function(it){var ot=it.extra_params,at=S(d({email:it.email,password:it.password,next_url:it.next_url,recaptcha_token:it.recaptcha_token},ot===void 0?{}:ot),["email","password","recaptcha_token"]);return et.request({url:l.EMAIL_REGISTER_NO_VERIFY_V2,method:"POST",data:at})},this.wapLogin=function(it){var ot=it.origin,at=ot===void 0?"":ot,st=it.type,lt=st===void 0?"web":st,ct=it.use_local_host,ut=it.scopes,dt=ut===void 0?"user_info":ut,ft=it.url_params,pt=ft===void 0?"":ft,mt=it.platform_app_id,ht=it.platform,gt=ht===void 0?"":ht,vt=it.replace,yt=vt!==void 0&&vt,bt=encodeURIComponent(it.next),xt=encodeURIComponent(et.host+"/auth/login_success/?service="+bt),$t={aid:et.aid,type:lt,use_local_host:ct,scopes:dt,next:xt,url_params:pt,platform_app_id:mt,platform:gt},Tt="",wt=Object.keys($t).length;Object.keys($t).forEach(function(Rt,It){Tt+=wt===It+1?Rt+"="+$t[Rt]:Rt+"="+$t[Rt]+"&"});var At=""+at+l.AUTH_LOGIN_URL+"?"+Tt;yt?window.location.href=At:window.open(At,"_blank")},this.bindVerifyInfo=function(it){var ot=it.extra_params;return et.request({url:"/passport/common/register/web/bind_verify_info/",method:"GET",data:d({auth_ticket:it.auth_ticket,verify_ticket:it.verify_ticket,token:it.token,scene:it.scene,user_type:it.user_type},ot===void 0?{}:ot)})};var rt=tt.host,nt=tt.aid;this.request=tt.request,this.host=rt,this.aid=nt},z=function(){function tt(rt){this.request=rt.request}var et=tt.prototype;return et.getQrcode=function(rt){return this.request({url:l.GET_QRCODE+"?next="+encodeURIComponent(rt.next),method:"GET"})},et.checkQrconnect=function(rt){var nt=rt.token;return this.request({url:l.CHECK_QRCONNECT+"?next="+encodeURIComponent(rt.next),method:"GET",data:{token:nt}})},et.getQrcodeFromWechat=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=p(rt,["extra_params"]);return this.request({url:l.GET_QRCODE_FROM_WECHAT,method:"POST",data:d({},it,ot)})},et.checkQrcodeFromWechat=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=p(rt,["extra_params"]);return this.request({url:l.CHECK_QRCODE_FROM_WECHAT,method:"POST",data:d({},it,ot)})},tt}(),J=function(tt){var et=this;this.sendCode=function(rt){var nt=rt.unbind_exist,it=rt.extra_params,ot=S(d({mobile:rt.mobile,type:17,unbind_exist:nt===void 0?0:nt},it===void 0?{}:it),["mobile","type","unbind_exist"]);return et.request({url:l.SEND_MOBILE_CODE,method:"POST",data:ot})},this.bindMobile=function(rt){rt===void 0&&(rt={});var nt=rt.unbind_exist,it=rt.extra_params,ot=S(d({mobile:rt.mobile,code:rt.code,password:rt.password,verify_ticket:rt.verify_ticket,unbind_exist:nt===void 0?0:nt,type:17},it===void 0?{}:it),["mobile","code","password","unbind_exist","type"]);return et.request({url:l.MOBILE_BIND,method:"POST",data:ot})},this.sendEmailCode=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,type:8},nt===void 0?{}:nt),["email","type"]);return new Promise(function(ot,at){et.request({url:l.SEND_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.bindEmail=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,code:rt.code},nt===void 0?{}:nt),["email","code"]);return new Promise(function(ot,at){et.request({url:l.EMAIL_BIND,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.bindAuth=function(rt){var nt=rt.platform_app_id,it=rt.code,ot=rt.access_token,at=rt.access_token_secret,st=rt.openid,lt=rt.profile_key,ct=rt.extra_params,ut=ct===void 0?{}:ct;return new Promise(function(dt,ft){et.request({url:l.AUTH_BIND,method:"POST",data:d({platform_app_id:nt,code:it,access_token:ot,access_token_secret:at,openid:st,profile_key:lt},ut)}).then(function(pt){dt(pt)}).catch(function(pt){ft(pt)})})},this.unbindAuth=function(rt){var nt=rt.platform,it=rt.extra_params,ot=it===void 0?{}:it;return new Promise(function(at,st){et.request({url:l.AUTH_UNBIND,method:"POST",data:d({platform:nt},ot)}).then(function(lt){at(lt)}).catch(function(lt){st(lt)})})},this.switchBindAuth=function(rt){var nt=rt.platform_app_id,it=rt.profile_key,ot=rt.extra_params,at=ot===void 0?{}:ot;return new Promise(function(st,lt){et.request({url:l.AUTH_SWITCH_BIND,method:"POST",data:d({platform_app_id:nt,profile_key:it},at)}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.changeQrcodeSuccess=function(rt){var nt=rt.extra_params;return et.request({url:l.CHANGE_QRCODE_SUCCESS,method:"POST",data:d({token:rt.token},nt===void 0?{}:nt)})},this.changeQrcodeComfirm=function(rt){var nt=rt.extra_params;return et.request({url:l.CHANGE_QRCODE_CONFIRM,method:"POST",data:d({token:rt.token,verify_ticket:rt.verify_ticket},nt===void 0?{}:nt)})},this.request=tt.request},Z=function(tt){var et=this;this.checkMobileRegistered=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile},nt===void 0?{}:nt),["mobile"]);return new Promise(function(ot,at){et.request({url:l.CHECK_MOBILE_REGISTER,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.checkEmailRegistered=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email},nt===void 0?{}:nt),["email"]);return et.request({url:l.CHECK_EMAIL_REGISTER,method:"POST",data:it})},this.request=tt.request},$=function(tt){this.request=tt.request},X=function(tt){var et=this;this.sendCode=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,type:6},nt===void 0?{}:nt),["mobile","type"]);return new Promise(function(ot,at){et.request({url:l.SEND_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.validateCode=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,code:rt.code,type:6},nt===void 0?{}:nt),["mobile","code","type"]);return new Promise(function(ot,at){et.request({url:l.CHECK_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.resetPwdByMobile=function(rt){var nt=rt.extra_params,it=S(d({password:rt.password,mobile:rt.mobile,code:rt.code},nt===void 0?{}:nt),["password","mobile","code"]);return new Promise(function(ot,at){et.request({url:l.RESET_PWD_BY_MOBILE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.sendEmailCode=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,type:4},nt===void 0?{}:nt),["email","type"]);return new Promise(function(ot,at){et.request({url:l.SEND_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.validateEmail=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,code:rt.code,type:4},nt===void 0?{}:nt),["email","code","type"]);return et.request({url:l.CHECK_EMAIL_CODE,method:"POST",data:it})},this.resetPwdByEmail=function(rt){var nt=rt.extra_params,it=S(d({password:rt.password,email:rt.email,code:rt.code},nt===void 0?{}:nt),["password","email","code"]);return new Promise(function(ot,at){et.request({url:l.RESET_PWD_BY_EMAIL,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.resetPwdByMobileTicket=function(rt){var nt=rt.extra_params,it=S(d({password:rt.password,ticket:rt.ticket},nt===void 0?{}:nt),["password"]);return new Promise(function(ot,at){et.request({url:l.RESET_PWD_BY_MOBILE_TICKET,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.resetPwdByEmailTicket=function(rt){var nt=rt.extra_params,it=S(d({password:rt.password,ticket:rt.ticket},nt===void 0?{}:nt),["password"]);return new Promise(function(ot,at){et.request({url:l.RESET_PWD_BY_EMAIL_TICKET,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.request=tt.request},ee=function(tt){var et=this;this.sendCodeToOldMobile=function(rt){var nt=rt.use_bind_mobile,it=rt.extra_params,ot=S(d({mobile:rt.mobile,type:nt===void 0||nt?22:28},it===void 0?{}:it),["mobile","type"]);return new Promise(function(at,st){et.request({url:l.SEND_MOBILE_CODE,method:"POST",data:ot}).then(function(lt){at(lt)}).catch(function(lt){st(lt)})})},this.validateOldMobile=function(rt){var nt=rt.use_bind_mobile,it=rt.extra_params,ot=S(d({code:rt.code,type:nt===void 0||nt?22:28},it===void 0?{}:it),["code","type"]);return new Promise(function(at,st){et.request({url:l.VERIFY_MOBILE_CODE,method:"POST",data:ot}).then(function(lt){at(lt)}).catch(function(lt){st(lt)})})},this.sendCodeToNewMobile=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,old_mobile:rt.old_mobile,type:20,ticket:rt.ticket},nt===void 0?{}:nt),["mobile","old_mobile","type"]);return new Promise(function(ot,at){et.request({url:l.SEND_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.rebindMobile=function(rt){var nt=rt.kick_other,it=rt.extra_params,ot=S(d({mobile:rt.mobile,code:rt.code,ticket:rt.ticket,kick_other:nt===void 0?0:nt},it===void 0?{}:it),["mobile","code"]);return new Promise(function(at,st){et.request({url:l.MOBILE_REBIND,method:"POST",data:ot}).then(function(lt){at(lt)}).catch(function(lt){st(lt)})})},this.sendCodeToOldEmail=function(rt){rt===void 0&&(rt={});var nt=rt.extra_params,it=S(d({email:rt.email,type:6},nt===void 0?{}:nt),["email","type"]);return new Promise(function(ot,at){et.request({url:l.SEND_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.validateOldEmail=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,code:rt.code,type:6},nt===void 0?{}:nt),["email","code","type"]);return new Promise(function(ot,at){et.request({url:l.VERIFY_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.sendCodeToNewEmail=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,ticket:rt.ticket,type:7},nt===void 0?{}:nt),["email","type"]);return new Promise(function(ot,at){et.request({url:l.SEND_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.rebindEmail=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,code:rt.code,type:7,ticket:rt.ticket},nt===void 0?{}:nt),["email","code","type"]);return new Promise(function(ot,at){et.request({url:l.EMAIL_REBIND,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.request=tt.request},te=function(tt){var et=this;this.sendCode=function(rt){rt===void 0&&(rt={});var nt=rt.verify_mobile_seperate,it=rt.extra_params,ot=S(d({type:nt!==void 0&&nt?22:13},it===void 0?{}:it),["type"]);return et.request({url:l.SEND_MOBILE_CODE,method:"POST",data:ot})},this.validateMobile=function(rt){var nt=rt.extra_params,it=S(d({code:rt.code,type:22},nt===void 0?{}:nt),["code","type"]);return new Promise(function(ot,at){et.request({url:l.VERIFY_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.changePwdByMobile=function(rt){var nt=rt.extra_params,it=S(d({password:rt.password,code:rt.code,ticket:rt.ticket},nt===void 0?{}:nt),["password","code"]);return new Promise(function(ot,at){et.request({url:l.PWD_CHANGE_BY_MOBILE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.updatePwd=function(rt){var nt=rt.extra_params,it=S(d({password:rt.password,current_password:rt.current_password},nt===void 0?{}:nt),["password","current_password"]);return new Promise(function(ot,at){et.request({url:l.PWD_UPDATE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.sendEmailCode=function(rt){rt===void 0&&(rt={});var nt=rt.extra_params,it=S(d({type:11},nt===void 0?{}:nt),["type"]);return new Promise(function(ot,at){et.request({url:l.SEND_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.validateEmail=function(rt){var nt=rt.extra_params,it=S(d({code:rt.code,type:11},nt===void 0?{}:nt),["code","type"]);return new Promise(function(ot,at){et.request({url:l.VERIFY_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.changePwdByEmail=function(rt){var nt=rt.extra_params,it=S(d({password:rt.password,code:rt.code,ticket:rt.ticket},nt===void 0?{}:nt),["password","code"]);return new Promise(function(ot,at){et.request({url:l.PWD_CHANGE_BY_EMAIL,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.setPassword=function(rt){var nt=rt.extra_params,it=S(d({password:rt.password},nt===void 0?{}:nt),["password"]);return new Promise(function(ot,at){et.request({url:l.PWD_SET,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.checkHasSetPwd=function(rt){rt===void 0&&(rt={});var nt=rt.extra_params,it=nt===void 0?{}:nt;return new Promise(function(ot,at){et.request({url:l.PWD_HAS_SET,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.checkWebHasSetPwd=function(rt){rt===void 0&&(rt={});var nt=rt.extra_params;return et.request({url:l.PWD_HAS_SET_V2,method:"GET",data:nt===void 0?{}:nt})},this.changePwdByEmailAndLogin=function(rt){var nt=rt.extra_params,it=S(d({password:rt.password,code:rt.code,email:rt.email},nt===void 0?{}:nt),["password","code"]);return et.request({url:l.PWD_SET_BY_EAMIL_AND_LOGIN,method:"POST",data:it})},this.request=tt.request},re=function(tt){var et=this;this.notLoginSendCode=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,type:34},nt===void 0?{}:nt),["mobile","type"]);return new Promise(function(ot,at){et.request({url:l.SEND_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.notLoginValidateMobile=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,code:rt.code,type:34},nt===void 0?{}:nt),["mobile","code","type"]);return new Promise(function(ot,at){et.request({url:l.CHECK_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.notLoginSendEmailCode=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,type:15},nt===void 0?{}:nt),["email","type"]);return new Promise(function(ot,at){et.request({url:l.SEND_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.notLoginValidateEmail=function(rt){var nt=rt.extra_params,it=S(d({email:rt.email,code:rt.code,type:15},nt===void 0?{}:nt),["email","code","type"]);return new Promise(function(ot,at){et.request({url:l.CHECK_EMAIL_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.sendCode=function(rt){rt===void 0&&(rt={});var nt=rt.extra_params,it=S(d({type:22},nt===void 0?{}:nt),["type"]);return new Promise(function(ot,at){et.request({url:l.SEND_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.validateMobile=function(rt){var nt=rt.extra_params,it=S(d({code:rt.code,type:22},nt===void 0?{}:nt),["code","type"]);return new Promise(function(ot,at){et.request({url:l.VERIFY_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.sendEmailCode=function(rt){rt===void 0&&(rt={});var nt=rt.extra_params,it=S(d({type:6},nt===void 0?{}:nt),["type"]);return et.request({url:l.SEND_EMAIL_CODE,method:"POST",data:it})},this.validateEmail=function(rt){var nt=rt.extra_params,it=S(d({code:rt.code,type:6},nt===void 0?{}:nt),["code","type"]);return et.request({url:l.VERIFY_EMAIL_CODE,method:"POST",data:it})},this.accountVerify=function(rt){var nt=rt.extra_params,it=S(d({account:rt.account,password:rt.password,user_login_version:1},nt===void 0?{}:nt),["account","password"]);return new Promise(function(ot,at){et.request({url:l.ACCOUNT_VERIFY,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.authVerify=function(rt){var nt=rt.platform_app_id,it=rt.code,ot=rt.access_token,at=rt.access_token_secret,st=rt.openid,lt=rt.profile_key,ct=rt.extra_params,ut=ct===void 0?{}:ct;return new Promise(function(dt,ft){et.request({url:l.AUTH_VERIFY,method:"POST",data:d({platform_app_id:nt,code:it,access_token:ot,access_token_secret:at,openid:st,profile_key:lt},ut)}).then(function(pt){dt(pt)}).catch(function(pt){ft(pt)})})},this.smsAuthorizeSendCode=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,type:26},nt===void 0?{}:nt),["mobile","type"]);return new Promise(function(ot,at){et.request({url:l.SEND_MOBILE_CODE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.smsAuthorize=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,code:rt.code,type:26},nt===void 0?{}:nt),["mobile","code","type"]);return new Promise(function(ot,at){et.request({url:l.SMS_AUTHORIZE,method:"POST",data:it}).then(function(st){ot(st)}).catch(function(st){at(st)})})},this.request=tt.request},oe=function(tt){var et=this;this.verifyWay=function(rt){var nt=rt.extra_params;return et.request({url:l.CANCEL_VERIFY_WAY,method:"GET",data:d({cancel_ticket:rt.cancel_ticket},nt===void 0?{}:nt)})},this.checkIfPass=function(rt){return et.request({url:l.CANCEL_CHECK,method:"GET",data:d({value_ticket:rt.value_ticket},rt.extra_params)})},this.confirm=function(rt){var nt=rt.extra_params;return et.request({url:l.CANCEL_CONFIRM,method:"POST",data:d({value_ticket:rt.value_ticket,token:rt.token,cancel_ticket:rt.cancel_ticket,abandon:rt.abandon},nt===void 0?{}:nt)})},this.cancel=function(rt){return et.request({url:l.CANCEL_REQUEST_CANCEL,method:"POST",data:d({type:rt.type,token:rt.token},rt.extra_params)})},this.request=tt.request},ae=function(){function tt(rt){this.request=rt.request}var et=tt.prototype;return et.getAuthInfo=function(rt){var nt=rt.extra_params;return this.request({url:l.GET_OPEN_AUTH_INFO,method:"GET",data:d({client_key:rt.client_key,scope:rt.scope},nt===void 0?{}:nt)})},et.sendCode=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,type:27},nt===void 0?{}:nt),["mobile","type"]);return this.request({url:l.OPEN_SEND_CODE,method:"GET",data:it})},et.smsAuth=function(rt){var nt=rt.extra_params,it=S(d({client_key:rt.client_key,scope:rt.scope,source:rt.source,redirect_uri:rt.redirect_uri,state:rt.state,mobile:rt.mobile,code:rt.code},nt===void 0?{}:nt),["mobile","code"]);return this.request({url:l.OPEN_SMS_AUTH,method:"POST",data:it})},et.accountAuth=function(rt){var nt=rt.extra_params,it=S(d({client_key:rt.client_key,scope:rt.scope,source:rt.source,redirect_uri:rt.redirect_uri,state:rt.state,password:rt.password,account:rt.account},nt===void 0?{}:nt),["password","account"]);return this.request({url:l.OPEN_ACCOUNT_AUTH,method:"POST",data:it})},et.thirdAuth=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=p(rt,["extra_params"]);return this.request({url:l.OPEN_THIRD_AUTH,method:"POST",data:d({},ot,it)})},et.getQRCode=function(rt){var nt=rt.extra_params;return this.request({url:l.OPEN_GET_QRCODE,method:"POST",data:d({client_key:rt.client_key,scope:rt.scope,state:rt.state,next:rt.next},nt===void 0?{}:nt)})},et.checkQRCode=function(rt){var nt=rt.extra_params;return this.request({url:l.OPEN_CHECK_QRCODE,method:"POST",data:d({token:rt.token,next:rt.next,scope:rt.scope,client_key:rt.client_key},nt===void 0?{}:nt)})},et.toScanQRCode=function(rt){var nt=rt.extra_params;return this.request({url:l.OPEN_TO_SCAN_QRCODE,method:"POST",data:d({},nt===void 0?{}:nt)})},et.scanQRCode=function(rt){var nt=rt.extra_params;return this.request({url:l.OPEN_SCAN_QRCODE,method:"POST",data:d({token:rt.token},nt===void 0?{}:nt)})},et.confirmQRCode=function(rt){var nt=rt.extra_params;return this.request({url:l.OPEN_CONFIRM_QRCODE,method:"POST",data:d({token:rt.token,scopes:rt.scopes},nt===void 0?{}:nt)})},et.webAuth=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=p(rt,["extra_params"]);return this.request({url:l.OPEN_WEB_AUTH,method:"POST",data:d({},ot,it)})},tt}(),ie=function(tt){var et=this;this.getAccountInfo=function(rt){rt===void 0&&(rt={});var nt=rt.extra_params;return et.request({url:l.ACCOUNT_INFO,method:"GET",data:nt===void 0?{}:nt})},this.setAccount=function(rt){rt===void 0&&(rt={});var nt=rt.extra_params,it=S(d({password:rt.password,username:rt.username},nt===void 0?{}:nt),["password","username"]);return et.request({url:l.ACCOUNT_SET,method:"POST",data:it})},this.request=tt.request},ne=function(tt){var et=this;this.getOauthProfile=function(rt){var nt,it=rt.extra_params;return et.request({url:l.OAUTH_PROFILE,method:"GET",data:d({aid:(nt=et.props)===null||nt===void 0?void 0:nt.aid,access_token:rt.access_token,access_token_secret:rt.access_token_secret,code:rt.code,expires_in:rt.expires_in,openid:rt.openid,platform_app_id:rt.platform_app_id,platform:rt.platform},it===void 0?{}:it)})},this.uploadAvatar=function(rt){var nt=rt.avatar,it=rt.extra_params,ot=new FormData,at=new Blob([nt],{type:nt.type});return ot.append("avatar",at),et.request({url:l.UPLOAD_AVATAR,method:"POST",data:ot,params:d({},it),headers:{"Content-Type":"multipart/form-data"}})},this.updateUserInfo=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=d({},p(rt,["extra_params"]),it);return et.request({url:l.UPDATE_USERINFO,method:"POST",data:ot})},this.checkDefaultInfo=function(rt){var nt=rt.extra_params;return et.request({url:l.CHECK_DEFAULT_INFO,method:"GET",params:d({scene:rt.scene},nt===void 0?{}:nt)})},this.getDefaultImageList=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=l.GET_BACKGROUND_LIST.replace("{aid}",String(et.props.aid));return et.request({url:ot,method:"GET",params:d({},it)})},this.getDefaultAvatarList=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=l.GET_DEFAULT_AVATAR_LIST.replace("{aid}",String(et.props.aid));return et.request({url:ot,method:"GET",params:d({},it)})},this.getRecommendName=function(rt){var nt=rt.extra_params;return et.request({url:l.GET_RECOMMEND_NAME,method:"GET",params:d({},nt===void 0?{}:nt)})},this.checkRemainTimes=function(rt){var nt=rt.field_namespace,it=rt.extra_params;return et.request({url:l.CHECK_REMAIN_TIMES,method:"GET",params:d({field:rt.field,field_namespace:nt===void 0?"":nt},it===void 0?{}:it)})},this.uploadPicture=function(rt){var nt=rt.pic,it=rt.is_sensitive,ot=rt.extra_params,at=ot===void 0?{}:ot,st=new FormData,lt=new Blob([nt],{type:nt.type});return st.append("pic",lt),et.request({url:l.UPLOAD_PICTURE,method:"POST",data:st,params:d({is_sensitive:it},at)})},this.downloadImage=function(rt){var nt=rt.extra_params;return et.request({url:l.DOWNLOAD_IMAGE,method:"GET",params:d({key:rt.key},nt===void 0?{}:nt)})},this.request=tt.request,this.props=tt},se=function(tt){function et(rt){var nt;nt=tt.call(this,rt,"web")||this;var it=rt.printLog,ot=rt.acrawler,at=ot===void 0?"":ot;at&&v(at,rt);var st=d({},rt,{request:nt.request});return nt.login=new K(st),nt.qrcodeLogin=new z(st),nt.register=new $(st),nt.forgetPwd=new X(st),nt.bind=new J(st),nt.rebind=new ee(st),nt.password=new te(st),nt.extra=new Z(st),nt.verify=new re(st),nt.cancel=new oe(st),nt.open=new ae(st),nt.account=new ie(st),nt.user=new ne(st),nt.affLogin=new B(st),nt.affRegister=new G(st),nt.affInvite=new V(st),nt.affSubject=new j(st),nt.affForgetPwd=new H(st),nt.affResource=new W(st),nt.affRole=new Y(st),nt.affUser=new F(st),nt.affSuper=new Q(st),nt}return _(et,tt),et}(k),ce=function(tt){var et=this;this.notLoginSendCode=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,type:34},nt===void 0?{}:nt),["mobile","type"]);return et.request({url:"/passport/mobile/send_code/",method:"POST",data:it})},this.notLoginValidateMobile=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,code:rt.code,type:34},nt===void 0?{}:nt),["mobile","code","type"]);return et.request({url:"/passport/mobile/check_code/",method:"POST",data:it})},this.request=tt.request},ue=function(tt){var et=this;this.bindWithMobileLogin=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=p(rt,["extra_params"]);return et.request({url:"/passport/auth/bind_with_mobile_login/",method:"POST",data:d({},it,ot)})},this.authLogin=function(rt){var nt=rt.extra_params,it=nt===void 0?{}:nt,ot=p(rt,["extra_params"]);return et.request({url:"/passport/auth/login/",method:"POST",data:d({},it,ot)})},this.memberSwitch=function(rt){return et.request({url:"/passport/aff/mobile/member/switch/",method:"POST",data:{to_sec_member_id:rt.to_sec_member_id}})},this.request=tt.request},de=function(tt){var et=this;this.unbindUnusableMobile=function(rt){var nt=rt.extra_params,it=S(d({mobile:rt.mobile,code:rt.code,scene:1},nt===void 0?{}:nt),["mobile","code"]);return et.request({url:"/passport/mobile/unbind_limited_unusable_mobile/",method:"POST",data:it})},this.request=tt.request},_e=function(tt){function et(rt){var nt;nt=tt.call(this,rt,"app")||this;var it=rt.printLog,ot=rt.acrawler,at=ot===void 0?"":ot;at&&v(at,rt);var st=d({},rt,{request:nt.request});return nt.verify=new ce(st),nt.login=new ue(st),nt.bind=new de(st),nt}return _(et,tt),et}(k),pe=function(tt){var et=this;this.baseSendMobileCode=function(rt){var nt=rt.mobile,it=rt.type,ot=p(rt,["mobile","type"]),at=S(d({mobile:nt,type:it},ot),["mobile","type"]);return new Promise(function(st,lt){et.request({url:f.MOBILE_CODE_URL,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.baseSendMobileCodeV2=function(rt){var nt=rt.mobile,it=rt.type,ot=p(rt,["mobile","type"]),at=S(d({mobile:nt,type:it},ot),["mobile","type"]);return new Promise(function(st,lt){et.request({url:f.MOBILE_CODE_URL_V2,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.baseSendEmailLink=function(rt){var nt=rt.email,it=rt.password,ot=p(rt,["email","password"]),at=S(d({email:nt,password:it},ot),["email","password"]);return new Promise(function(st,lt){et.request({url:f.EMAIL_ACTIVATE_URL,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.baseSendEmailLinkV2=function(rt){var nt=rt.email,it=rt.password,ot=p(rt,["email","password"]),at=S(d({email:nt,password:it},ot),["email","password"]);return new Promise(function(st,lt){et.request({url:f.EMAIL_ACTIVATE_URL_V2,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.baseSendEmailCode=function(rt){var nt=rt.email,it=rt.password,ot=p(rt,["email","password"]),at=S(d({email:nt,password:it},ot),["email","password"]);return new Promise(function(st,lt){et.request({url:f.EMAIL_ACTIVATE_CODE_URL,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.baseSendEmailCodeV2=function(rt){var nt=rt.email,it=rt.password,ot=p(rt,["email","password"]),at=S(d({email:nt,password:it},ot),["email","password"]);return new Promise(function(st,lt){et.request({url:f.EMAIL_ACTIVATE_CODE_URL_V2,method:"POST",data:at}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},this.request=tt.request},le=function(tt){function et(){var rt;return(rt=tt.apply(this,arguments)||this).sendMobileCode=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendMobileCode(d({},at,{type:8},ot))},rt.sendMobileCodeV2=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendMobileCodeV2(d({},at,{type:8},ot))},rt.mobileBind=function(nt){var it=nt.mobile,ot=nt.code,at=nt.extra_params,st=at===void 0?{}:at,lt=p(nt,["mobile","code","extra_params"]),ct=S(d({mobile:it,code:ot},lt,{type:8},st),["mobile","type","code"]);return rt.request({url:f.BIND_MOBILE,method:"POST",data:ct})},rt}return _(et,tt),et}(pe),me=function(tt){function et(){var rt;return(rt=tt.apply(this,arguments)||this).sendMobileCode=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendMobileCode(d({},at,{type:20},ot))},rt.sendMobileCodeV2=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendMobileCodeV2(d({},at,{type:20},ot))},rt.mobileChange=function(nt){var it=nt.mobile,ot=nt.code,at=nt.extra_params,st=at===void 0?{}:at,lt=p(nt,["mobile","code","extra_params"]),ct=S(d({mobile:it,code:ot},lt,st),["mobile","code"]);return rt.request({url:f.CHANGE_MOBILE,method:"POST",data:ct})},rt}return _(et,tt),et}(pe),fe=function(tt){function et(rt){var nt;(nt=tt.call(this,rt)||this).checkLogin=function(at){var st=at.extra_params,lt=st===void 0?{}:st,ct=p(at,["extra_params"]);return nt.request({url:f.CHECK_LOGIN,method:"GET",data:d({},ct,lt)})},nt.sendMobileCodeV2=function(at){var st=at.extra_params,lt=st===void 0?{}:st,ct=p(at,["extra_params"]);return nt.baseSendMobileCodeV2(d({},ct,{type:24},lt))},nt.quickAuthV2=function(at){var st=at.extra_params,lt=S(d({mobile:at.mobile,code:at.code,service:at.service},st===void 0?{}:st),["mobile","code","password"]);return nt.request({url:f.MOBILE_CODE_LOGIN_URL_V2,method:"POST",data:lt})},nt.quickAuthLoginOnly=function(at){var st=at.extra_params,lt=S(d({mobile:at.mobile,code:at.code,service:at.service},st===void 0?{}:st),["mobile","code"]);return nt.request({url:f.MOBILE_CODE_LOGIN_ONLY_URL,method:"POST",data:lt})},nt.accountLoginV2=function(at){var st=at.account_type,lt=at.extra_params,ct=S(d({account:at.account,password:at.password,account_type:st===void 0?0:st,service:at.service},lt===void 0?{}:lt),["account","password"]);return nt.request({url:f.ACCOUNT_LOGIN_URL_V2,method:"POST",data:ct})},nt.logout=function(at){var st=at.service,lt=at.not_redirect;if(lt!==void 0&&lt)return nt.request({url:f.LOGOUT,method:"GET",data:{aid:nt.aid,service:st}});window.location.href=""+nt.host+f.LOGOUT+"?service="+st},nt.wapLogin=function(at){var st=at.origin,lt=st===void 0?"":st,ct=at.type,ut=ct===void 0?"sso":ct,dt=at.use_local_host,ft=at.scopes,pt=ft===void 0?"user_info":ft,mt=at.url_params,ht=mt===void 0?"":mt,gt=at.platform_app_id,vt=at.platform,yt=vt===void 0?"":vt,bt=at.replace,xt=bt!==void 0&&bt,$t=encodeURIComponent(at.next),Tt=encodeURIComponent(nt.host+"/auth/login_success/?service="+$t),wt={aid:nt.aid,type:ut,use_local_host:dt,scopes:pt,next:Tt,url_params:ht,platform_app_id:gt,platform:yt},At="",Rt=Object.keys(wt).length;Object.keys(wt).forEach(function(Lt,Pt){At+=Rt===Pt+1?Lt+"="+wt[Lt]:Lt+"="+wt[Lt]+"&"});var It=""+lt+f.AUTH_LOGIN_URL+"?"+At;xt?window.location.href=It:window.open(It,"_blank")},nt.sendEmailLink=function(at){var st=at.extra_params,lt=st===void 0?{}:st,ct=p(at,["extra_params"]);return nt.baseSendEmailLink(d({},ct,{ect_type:13},lt))},nt.sendEmailLinkV2=function(at){var st=at.extra_params,lt=st===void 0?{}:st,ct=p(at,["extra_params"]);return nt.baseSendEmailLinkV2(d({},ct,{ect_type:13},lt))},nt.sendEmailCode=function(at){var st=at.extra_params,lt=st===void 0?{}:st,ct=p(at,["extra_params"]);return nt.baseSendEmailCode(d({},ct,{ect_type:13},lt))},nt.sendEmailCodeV2=function(at){var st=at.extra_params,lt=st===void 0?{}:st,ct=p(at,["extra_params"]);return nt.baseSendEmailCodeV2(d({},ct,{ect_type:13},lt))},nt.bindWithMobileLogin=function(at){var st=at.change_bind,lt=at.extra_params;return nt.request({url:f.BIND_WITH_MOBILE_LOGIN,method:"POST",data:d({code:at.code,platform_app_id:at.platform_app_id,service:at.service,profile_key:at.profile_key,change_bind:st===void 0?0:st},lt===void 0?{}:lt)})},nt.authLogin=function(at){var st=at.login_only,lt=at.extra_params;return nt.request({url:st!==void 0&&st?f.AUTH_LOGIN_ONLY:f.AUTH_LOGIN,method:"POST",data:d({code:at.code,platform_app_id:at.platform_app_id,service:at.service,profile_key:at.profile_key},lt===void 0?{}:lt)})},nt.mobileEmailRegister=function(at){var st=at.extra_params,lt=S(d({mobile:at.mobile,sms_code:at.sms_code,email:at.email,email_code:at.email_code,password:at.password,verify_ticket:at.verify_ticket,service:at.service,sms_type:16,ect_type:1},st===void 0?{}:st),["mobile","sms_code","sms_type","email","email_code","ect_type","password"]);return nt.request({url:f.MOBILE_EMAIL_REGISTER,method:"POST",data:lt})},nt.memberSwitch=function(at){var st=at.extra_params;return nt.request({url:"/aff/member/switch/",method:"POST",data:d({to_sec_member_id:at.to_sec_member_id},st===void 0?{}:st)})};var it=rt.host,ot=rt.originHost;return nt.aid=rt.aid,nt.host=it,nt.originHost=ot,nt}return _(et,tt),et}(pe),he=function(tt){function et(){var rt;return(rt=tt.apply(this,arguments)||this).sendMobileCodeV2=function(nt){var it=nt.check_register,ot=nt.extra_params;return rt.baseSendMobileCodeV2(d({mobile:nt.mobile,type:it!==void 0&&it?4:6},ot===void 0?{}:ot))},rt.sendEmailCodeV2=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendEmailCodeV2(d({},at,{ect_type:4},ot))},rt.resetPassword=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=S({account:nt.account,code:nt.code,password:nt.password},["account","code","password"]);return new Promise(function(st,lt){rt.request({url:f.RESET_PASSWORD,method:"POST",data:d({},at,ot)}).then(function(ct){st(ct)}).catch(function(ct){lt(ct)})})},rt.resetPasswordByEmailCode=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=S({email:nt.email,code:nt.code,password:nt.password},["email","code","password"]);return rt.request({url:f.RESET_PASSWORD_BY_EMAIL,method:"POST",data:d({},at,{ect_type:4},ot)})},rt.sendEmailCodeModifyPassword=function(nt){nt===void 0&&(nt={});var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendEmailCodeV2(d({},at,{ect_type:11},ot))},rt.modifyPasswordByEmailCode=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=S({email:nt.email,code:nt.code,password:nt.password},["email","code","password"]);return rt.request({url:f.RESET_PASSWORD_BY_EMAIL,method:"POST",data:d({},at,{ect_type:11},ot)})},rt}return _(et,tt),et}(pe),ve=function(tt){function et(){var rt;return(rt=tt.apply(this,arguments)||this).getQrcode=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it;return rt.request({url:f.GET_QRCODE+"?service="+encodeURIComponent(nt.service),method:"GET",data:ot})},rt.checkQrconnect=function(nt){var it=nt.token,ot=nt.extra_params,at=ot===void 0?{}:ot;return rt.request({url:f.CHECK_QRCONNECT+"?service="+encodeURIComponent(nt.service),method:"GET",data:d({token:it},at)})},rt}return _(et,tt),et}(pe),Ee=function(tt){function et(){var rt;return(rt=tt.apply(this,arguments)||this).sendMobileCode=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendMobileCode(d({},at,{type:22},ot))},rt.sendMobileCodeV2=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendMobileCodeV2(d({},at,{type:22},ot))},rt.quickAuth=function(nt){var it=nt.code,ot=nt.extra_params,at=ot===void 0?{}:ot,st=p(nt,["code","extra_params"]),lt=S(d({code:it},st,at),["code"]);return rt.request({url:f.QUICK_AUTH,method:"POST",data:lt})},rt}return _(et,tt),et}(pe),Oe=function(tt){function et(){var rt;return(rt=tt.apply(this,arguments)||this).emailRegisterXhr=function(nt){return rt.request({url:f.EMAIL_REGISTER,method:"POST",data:nt})},rt.emailRegister=function(nt){var it=nt.email,ot=nt.extra_params,at=ot===void 0?{}:ot,st=p(nt,["email","extra_params"]),lt=S(d({email:it},st,{ect_type:1},at),["email","code","password"]);return rt.emailRegisterXhr(lt)},rt.emailRegisterAndBindMoblieV2=function(nt){var it=nt.email,ot=nt.code,at=nt.mobile,st=nt.password,lt=nt.extra_params,ct=lt===void 0?{}:lt,ut=p(nt,["email","code","mobile","password","extra_params"]),dt=S(d({email:it,code:ot,mobile:at,password:st},ut,ct),["email","code","mobile","password"]);return rt.request({url:f.EMAIL_REGISTER_V2,method:"POST",data:dt})},rt.mobileRegisterAndBindEmailV2=function(nt){var it=nt.email,ot=nt.code,at=nt.mobile,st=nt.password,lt=nt.extra_params,ct=lt===void 0?{}:lt,ut=p(nt,["email","code","mobile","password","extra_params"]),dt=S(d({email:it,code:ot,mobile:at,password:st},ut,ct),["email","code","mobile","password"]);return rt.request({url:f.MOBILE_REGISTER_WITH_EMAIL,method:"POST",data:dt})},rt.emailActivateCodeLogin=function(nt){var it=nt.email,ot=nt.code,at=nt.extra_params,st=at===void 0?{}:at,lt=p(nt,["email","code","extra_params"]),ct=S(d({email:it,code:ot},lt,{ect_type:13},st),["email","code"]);return rt.request({url:f.EMAIL_ACTIVATE_CODE_LOGIN,method:"POST",data:ct})},rt.sendMobileCode=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendMobileCode(d({},at,{type:16},ot))},rt.sendMobileCodeV2=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendMobileCodeV2(d({},at,{type:16},ot))},rt.sendEmailLink=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendEmailLink(d({},at,{ect_type:1},ot))},rt.sendEmailLinkV2=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendEmailLinkV2(d({},at,{ect_type:1},ot))},rt.sendEmailCode=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendEmailCode(d({},at,{ect_type:1},ot))},rt.sendEmailCodeV2=function(nt){var it=nt.extra_params,ot=it===void 0?{}:it,at=p(nt,["extra_params"]);return rt.baseSendEmailCodeV2(d({},at,{ect_type:1},ot))},rt}return _(et,tt),et}(pe),be=function(tt){function et(rt){var nt;nt=tt.call(this,rt,"sso")||this;var it=rt.host,ot=rt.acrawler,at=ot===void 0?"":ot;rt.printLog,at&&v(at,rt),nt.host=it||"",nt.originHost=window.location.origin;var st=d({},rt,{request:nt.request});return nt.bindMobile=new le(st),nt.changeMobile=new me(st),nt.login=new fe(d({},st,{originHost:nt.originHost})),nt.password=new he(st),nt.qrcodeLogin=new ve(st),nt.quickAuth=new Ee(st),nt.register=new Oe(st),nt}return _(et,tt),et}(k),we=function(tt){var et=this;this.webSdkInit=function(rt){var nt=rt.extra_params;return et.request({url:"/user_info/common/v1/web_sdk_init/",method:"POST",data:d({mode:rt.mode,scene:rt.scene},nt===void 0?{}:nt)})},this.request=tt.request},Te=function(tt){function et(rt){var nt;nt=tt.call(this,rt,"auth")||this;var it=rt.printLog,ot=rt.acrawler,at=ot===void 0?"":ot;at&&v(at,rt);var st=d({},rt,{request:nt.request});return nt.common=new we(st),nt}return _(et,tt),et}(k),Ie=se,Se=_e,Ce=be,Le=Te,ye={web:se,app:_e,sso:be,auth:Te},Pe={web:null,app:null,sso:null,auth:null};accountApi_cjs_production_min.AccountSdkInstance=function(){function tt(){}return tt.createAccountSdk=function(et,rt){return Pe[et]||(Pe[et]=tt.create(ye[et]||ye.web,rt)),Pe[et]},tt.create=function(et,rt){return new et(rt)},tt}().createAccountSdk,accountApi_cjs_production_min.AppInterface=_e,accountApi_cjs_production_min.AppInterfaceSdk=Se,accountApi_cjs_production_min.AuthInterface=Te,accountApi_cjs_production_min.AuthInterfaceSdk=Le,accountApi_cjs_production_min.SsoInterface=be,accountApi_cjs_production_min.SsoInterfaceSdk=Ce,accountApi_cjs_production_min.WebInterface=se,accountApi_cjs_production_min.WebInterfaceSdk=Ie,accountApi_cjs_production_min.default=function(tt){var et=tt.scope;switch(et===void 0?"web":et){case"web":return new se(tt);case"app":return new _e(tt);case"sso":return new be(tt);case"auth":return new Te(tt);default:return new se(tt)}},accountApi_cjs_production_min.encryptParams=S;(function(tt){tt.exports=accountApi_cjs_production_min})(dist);function _extends(){return _extends=Object.assign||function(tt){for(var et=1;et<arguments.length;et++){var rt=arguments[et];for(var nt in rt)Object.prototype.hasOwnProperty.call(rt,nt)&&(tt[nt]=rt[nt])}return tt},_extends.apply(this,arguments)}function _inheritsLoose(tt,et){tt.prototype=Object.create(et.prototype),tt.prototype.constructor=tt,tt.__proto__=et}var Pages;(function(tt){tt.PAGE_LOGIN_MOBILE_CODE="LOGIN_MOBILE_CODE",tt.PAGE_LOGIN_ACCOUNT_PWD="LOGIN_ACCOUNT_PWD",tt.PAGE_LOGIN_SCAN_CODE="LOGIN_SCAN_CODE",tt.PAGE_REGISTER_MOBILE_CODE="REGISTER_MOBILE_CODE",tt.PAGE_REGISTER_EMAIL="REGISTER_EMAIL",tt.PAGE_PASSWORD_RESET="PASSWORD_RESET",tt.PAGE_AWEME_BIND_CONFLICT="AWEME_BIND_CONFLICT"})(Pages||(Pages={}));var Button=function tt(et){var rt=et.buttonText,nt=et.onClick,it=et.disabled,ot=it===void 0?!1:it;return React.createElement("button",{type:"submit",className:classnames(["web-login-button",{"web-login-button__disabled":ot}]),onClick:nt},rt)},DEFAULT_COUNT_DOWN=60,DEFAULT_METHOD_LABEL={weixin:"微信登录",qzone_sns:"QQ登录",aweme:"抖音登录",account_pwd:"账密登录",mobile_code:"手机登录",scan_code:"扫码登录",register_mobile_code:"手机注册",register_email:"邮箱注册"},DEFAULT_TEXT_CONFIG={mobileCodeLoginText:{title:"验证码登录",mobilePlaceholder:"手机号",mobileLabel:"请输入手机号",codePlaceholder:"验证码",codeLabel:"请输入验证码",sendCode:"获取验证码",sending:"{seconds}s后重新发送",confirmInfoBeforeText:"已阅读并同意",confirmInfoConnectText:"和",buttonText:"登录"},accountPwdLoginText:{title:"账密登录",accountPlaceholder:"手机号/邮箱",accountLabel:"请输入手机号或邮箱",pwdPlaceholder:"密码",pwdLabel:"请输入密码",forgetPwd:"忘记密码",confirmInfoBeforeText:"已阅读并同意",confirmInfoConnectText:"和",buttonText:"登录",rememberPwd:"记住密码"},scanCodeLoginText:{title:"扫码登录",qrCodeLabel:"二维码",scanSuccess:"扫码成功",refreshCode:"点击刷新二维码",getCodeFailed:"点击刷新二维码",refreshBtnText:"",codeFailedBtnText:"",loginSuccessBtnText:"",scanSuccessBtnText:"",loginSuccess:"登录成功"},mobileCodeRegisterText:{title:"手机注册",mobilePlaceholder:"手机号",mobileLabel:"请输入手机号",codePlaceholder:"验证码",codeLabel:"请输入验证码",sendCode:"获取验证码",sending:"{seconds}s后重新发送",confirmInfoBeforeText:"已阅读并同意",confirmInfoConnectText:"和",buttonText:"注册"},emailRegisterText:{title:"邮箱注册",accountPlaceholder:"邮箱",accountLabel:"请输入邮箱",newPwdPlaceholder:"新密码",newPwdLabel:"请输入新密码",confirmPwdPlaceholder:"密码确认",confirmPwdLabel:"请确认密码",codePlaceholder:"验证码",codeLabel:"请输入验证码",sendCode:"获取验证码",sending:"{seconds}s后重新发送",confirmInfoBeforeText:"已阅读并同意",confirmInfoConnectText:"和",buttonText:"注册"},passwordResetText:{title:"重置密码",accountPlaceholder:"手机号/邮箱",accountLabel:"请输入手机号或邮箱",newPwdPlaceholder:"新密码",newPwdLabel:"请输入新密码",confirmPwdPlaceholder:"密码确认",confirmPwdLabel:"请确认密码",codePlaceholder:"验证码",codeLabel:"请输入验证码",sendCode:"获取验证码",sending:"{seconds}s后重新发送",buttonText:"提交",successText:"修改成功"},bindConflictText:{title:"绑定冲突",description:"若继续登录，头条号“{current_name}”将与当前抖音账号“{aweme_current_name}”绑定，并与原绑定抖音账号“{aweme_conflict_name}”解绑",loginBtnText:"继续登录",createBtnText:"创建新账号",bindText:"即将绑定",unbindText:"解绑",backToLogin:"选择其他登录方式",loginTitle:"方式一：换绑并登录",loginDescription:"将西瓜账号“{current_name}”与当前登录的抖音账号“{aweme_current_name}”绑定，并与原绑定的抖音账号“{aweme_conflict_name}”解绑。",createTitle:"方式二：创建新账号",createDescription:"使用当前登录的抖音账号“{aweme_current_name}”注册新的西瓜账号登录。",loginAwemeDesc:"当前登录抖音账号",bindAwemeDesc:"当前绑定抖音账号"},extraText:{areaCodeNoMatchedResult:"无匹配数据",mobileNull:"手机号不能为空",mobileFormatError:"手机号长度不正确",mobileCodeNull:"验证码不能为空",mobileCodeError:"验证码只能为六位数字",emailNull:"邮箱不能为空",emailFormatError:"邮箱格式不正确",accountNull:"手机号/邮箱不能为空",passwordNull:"密码不能为空",passwordFormatError:"密码必须包括数字、大小写英文字母，长度8-20位",confirmPasswordNull:"密码确认不能为空",confirmPasswordError:"两次输入密码不一致",defaultError:"网络异常，请稍后重试",protocolCheckedError:"请先勾选用户协议和隐私政策",switchToLogin:"立即登录",switchToRegister:"立即注册",otherLoginText:"其他方式",faceValidDesc:"",areaCodeLabel:"国家/地区"}},DEFAULT_DISTRICT_LIST={中国:"+86",中国香港:"+852",中国澳门:"+853",中国台湾:"+886",阿尔巴尼亚:"+355",阿尔及利亚:"+213",阿富汗:"+93",阿根廷:"+54",阿拉伯联合酋长国:"+971",阿鲁巴岛:"+297",阿曼:"+968",阿塞拜疆:"+994",阿森松:"+247",埃及:"+20",埃塞俄比亚:"+251",爱尔兰:"+353",爱沙尼亚:"+372",安道尔:"+376",安哥拉:"+244",安圭拉:"+1264",安提瓜和巴布达:"+1268",奥地利:"+43",奥兰群岛:"+358",澳大利亚:"+61",巴巴多斯:"+1246",巴哈马:"+1242",巴基斯坦:"+92",巴拉圭:"+595",巴勒斯坦:"+970",巴林:"+973",巴拿马:"+507",巴西:"+55",白俄罗斯:"+375",百慕大:"+1441",保加利亚:"+359",北马里亚纳群岛:"+1670",贝宁:"+229",比利时:"+32",冰岛:"+354",波多黎各:"+1787",波黑:"+387",波兰:"+48",玻利维亚:"+591",伯利兹:"+501",博茨瓦纳:"+267",不丹:"+975",布基拉法索:"+226",布隆迪:"+257",朝鲜:"+850",赤道几内亚:"+240",丹麦:"+45",德国:"+49",多哥:"+228",多米尼加共和国:"+1809",多米尼克:"+1767",俄罗斯:"+7",厄瓜多尔:"+593",厄立特里亚:"+291",法国:"+33",法罗群岛:"+298",法属波利尼西亚:"+689",法属圭亚那:"+594",梵蒂冈:"+379",菲律宾:"+63",斐济:"+679",芬兰:"+358",佛得角:"+238",冈比亚:"+220",刚果:"+242",刚果民主共和国:"+243",哥伦比亚:"+57",哥斯达黎加:"+506",格林纳达:"+1473",格陵兰岛:"+299",格鲁吉亚:"+995",瓜德罗普:"+590",关岛:"+1671",圭亚那:"+592",海地:"+509",韩国:"+82",荷兰:"+31",荷属安的列斯:"+599",洪都拉斯:"+504",吉布提:"+253",加拿大:"+1",吉尔吉斯斯坦:"+996",几内亚:"+224",加那利群岛:"+3491",加纳:"+233",加蓬:"+241",柬埔寨:"+855",捷克:"+420",喀麦隆:"+237",卡塔尔:"+974",开曼群岛:"+1345",科摩罗:"+269",科索沃:"+883",科特迪瓦:"+225",科威特:"+965",克罗地亚:"+385",肯尼亚:"+254",拉脱维亚:"+371",莱索托:"+266",老挝:"+856",黎巴嫩:"+961",立陶宛:"+370",利比里亚:"+231",利比亚:"+218",列支敦士登:"+423",留尼旺岛:"+262",卢森堡:"+352",卢旺达:"+250",罗马尼亚:"+40",马达加斯加:"+261",马尔代夫:"+960",马耳他:"+356",马拉维:"+265",马来西亚:"+60",马里:"+223",马其顿:"+389",马绍尔群岛:"+692",马提尼克:"+596",马约特:"+262",毛里求斯:"+230",毛里塔尼亚:"+222",美国:"+1",美属萨摩亚:"+1684",美属维尔京群岛:"+1340",蒙古:"+976",蒙塞拉特岛:"+1664",蒙特內哥羅:"+382",孟加拉国:"+880",秘鲁:"+51",密克罗尼西亚联邦:"+691",缅甸:"+95",摩尔多瓦:"+373",摩洛哥:"+212",摩纳哥:"+377",莫桑比克:"+258",墨西哥:"+52",纳米比亚:"+264",南非:"+27",尼泊尔:"+977",尼加拉瓜:"+505",尼日尔:"+227",尼日利亚:"+234",挪威:"+47",帕劳:"+680",葡萄牙:"+351",千里达及托巴哥:"+1868",日本:"+81",瑞典:"+46",瑞士:"+41",圣诞岛:"+61",圣基茨和尼维斯:"+1869",圣卢西亚:"+1758",圣马力诺:"+223",圣皮埃尔和密克隆群岛:"+508",圣文森特和格林纳丁斯:"+1784",斯里兰卡:"+94",斯洛伐克:"+421",斯洛文尼亚:"+386",斯威士兰:"+268",苏丹:"+249",苏里南:"+597",索马里:"+252",塔吉克斯坦:"+992",沙特阿拉伯:"+966",塞舌尔:"+248",塞浦路斯:"+357",塞内加尔:"+221",塞拉利昂:"+232",塞尔维亚:"+381",萨尔瓦多:"+503",汤加:"+676",坦桑尼亚:"+255",泰国:"+66",特克斯和凯科斯群岛:"+1649",突尼斯:"+216",图瓦卢:"+688",土耳其:"+90",土库曼斯坦:"+993",乌兹别克斯坦:"+998",乌拉圭:"+598",乌克兰:"+380",乌干达:"+256",文莱:"+673",委内瑞拉:"+58",危地马拉:"+502",叙利亚:"+963",匈牙利:"+36",新西兰:"+64",新喀里多尼亚:"+687",新加坡:"+65",希腊:"+30",西萨摩亚:"+685",西撒哈拉:"+212",西班牙:"+34",越南:"+84",约旦:"+962",英属维尔京群岛:"+1284",英国:"+44",印度尼西亚:"+62",印度:"+91",意大利:"+39",以色列:"+972",伊朗:"+98",伊拉克:"+964",也门:"+967",亚美尼亚:"+374",牙买加:"+1876",中非:"+236",智利:"+56",直布罗陀:"+350",乍得:"+235",赞比亚:"+260"},KEYBOARD_EVENT_CODE=["Enter","Space"],globalTextConfig;function initTextConfig(tt){var et,rt=tt.textConfig,nt=rt===void 0?{}:rt,it=tt.districtList,ot=it===void 0?null:it,at=cjs(DEFAULT_TEXT_CONFIG,nt||{},{arrayMerge:function(ct,ut){return ut}}),st=(et={},et[Pages.PAGE_LOGIN_MOBILE_CODE]=at.mobileCodeLoginText.title,et[Pages.PAGE_LOGIN_ACCOUNT_PWD]=at.accountPwdLoginText.title,et[Pages.PAGE_LOGIN_SCAN_CODE]=at.scanCodeLoginText.title,et[Pages.PAGE_REGISTER_MOBILE_CODE]=at.mobileCodeRegisterText.title,et[Pages.PAGE_REGISTER_EMAIL]=at.emailRegisterText.title,et[Pages.PAGE_PASSWORD_RESET]=at.passwordResetText.title,et[Pages.PAGE_AWEME_BIND_CONFLICT]=at.bindConflictText.title,et);globalTextConfig=_extends({},at,{districtList:ot||DEFAULT_DISTRICT_LIST,titleMap:st})}function getTextConfig(){return globalTextConfig||{}}var defaultInitProps={loginType:["LOGIN_MOBILE_CODE"],registerType:[],globalMobileSupport:!1,mobileCodeLength:6,confirm:[],otherMethod:[],accountType:[],loginTab:[],registerTab:[],passwordMaxLength:20,phoneSeparate:!1,bindConflictType:"normal",linkAreaPosition:"bottom"},globalInitProps;function setInitProps(tt){var et,rt,nt,it,ot=_extends({},defaultInitProps,tt);globalInitProps=_extends({},ot,{isMobileAccountOnly:Boolean(((et=ot.accountType)===null||et===void 0?void 0:et.includes("mobile"))&&ot.accountType.length===1),isEmailAccountOnly:Boolean(((rt=ot.accountType)===null||rt===void 0?void 0:rt.includes("email"))&&ot.accountType.length===1),isUsernameAccountOnly:Boolean(((nt=ot.accountType)===null||nt===void 0?void 0:nt.includes("username"))&&ot.accountType.length===1),initialAreaCodeState:Boolean(ot.globalMobileSupport)&&Boolean((it=ot.accountType)===null||it===void 0?void 0:it.includes("mobile"))})}function getInitProps(){return globalInitProps||{}}var ViewContext=React.createContext({}),viewStateReducer=function tt(et,rt){var nt=getInitProps(),it=nt.confirm,ot=nt.unsetCheckbox,at=nt.onPageBeforeChange;switch(rt.type){case"LOADING":return _extends({},et,{showLoading:rt.showLoading||!1});case"CHANGE_PAGE":return!rt.currentPage||rt.currentPage===et.currentPage?et:rt.currentPage===Pages.PAGE_LOGIN_SCAN_CODE&&it&&it.length>0&&!(ot!=null&&ot.scanCode)&&!et.protocolCheck?_extends({},et,{errorMessage:getTextConfig().extraText.protocolCheckedError}):(at==null||at(rt.currentPage),_extends({},et,{currentPage:rt.currentPage||Pages.PAGE_LOGIN_MOBILE_CODE,prevPage:et.currentPage,conflictInfo:rt.conflictInfo||et.conflictInfo}));case"COUNT":return et.counting?et.seconds<=1?_extends({},et,{seconds:DEFAULT_COUNT_DOWN,counting:!1}):_extends({},et,{seconds:et.seconds-1}):_extends({},et,{counting:!0,seconds:rt.seconds||DEFAULT_COUNT_DOWN});case"STOP_COUNT":return _extends({},et,{seconds:DEFAULT_COUNT_DOWN,counting:!1});case"ERROR":if(typeof rt.errorMessage=="string")return rt.errorMessage==="CLOSE_CAPTCHA"?et:_extends({},et,{errorMessage:rt.errorMessage});var st,lt;return((st=rt.errorMessage)===null||st===void 0?void 0:st.description)==="SECOND_VALID"?et:_extends({},et,{errorMessage:((lt=rt.errorMessage)===null||lt===void 0?void 0:lt.description)||getTextConfig().extraText.defaultError});case"PROTOCOL":return _extends({},et,{protocolCheck:rt.protocolCheck||!1});default:return et}},FormContext=React.createContext({}),formValueReducer=function tt(et,rt){switch(rt.type){case"RESET":return{areaCode:"+86",mobile:"",email:"",code:"",account:"",password:"",newPassword:"",confirmPassword:""};default:return _extends({},et,rt)}},ConfirmInfo=function tt(et){var rt=et.needCheck,nt=rt===void 0?!0:rt,it=et.beforeText,ot=it===void 0?"":it,at=et.connectText,st=at===void 0?"":at,lt=et.onCheckClick,ct=getInitProps(),ut=reactExports.useContext(ViewContext),dt=ut.viewState,ft=reactExports.useState(dt.protocolCheck),pt=ft[0],mt=ft[1],ht=ct.confirm||[],gt=function(){var $t=[];return ht.forEach(function(Tt,wt){var At=Tt.text,Rt=At===void 0?"":At,It=Tt.url,Lt=It===void 0?"":It,Pt=Tt.open,Nt=Pt===void 0?"_blank":Pt;$t.push(React.createElement("a",{target:Nt,key:wt,href:Lt,className:"web-login-confirm-info__info",tabIndex:0,"aria-label":Rt},Rt)),wt!==ht.length-1&&$t.push(React.createElement("span",{key:wt+"span",className:"web-login-confirm-info__connect-text"},st))}),$t},vt=function(){var $t=!pt;mt($t),lt==null||lt($t)},yt=function(){var $t=ht.map(function(Tt){return Tt.text});return""+ot+$t.join(st)};if(!ht||ht.length===0)return null;var bt=function($t){KEYBOARD_EVENT_CODE.includes($t.code)&&vt()};return React.createElement("div",{className:"web-login-confirm-info",tabIndex:0,"aria-label":yt()},nt&&React.createElement("span",{className:classnames(["web-login-confirm-info__checkbox",{"web-login-confirm-info__checkbox__checked":pt}]),role:"checkbox","aria-checked":pt,tabIndex:0,"aria-label":"协议勾选框",onClick:vt,onKeyDown:bt}),React.createElement("span",{className:"web-login-confirm-info__before-text"},ot),gt())},Error$1=function tt(){var et=reactExports.useContext(ViewContext),rt=et.viewState,nt=reactExports.useRef(null);return reactExports.useEffect(function(){rt.errorMessage!==""&&nt.current&&nt.current.focus()},[rt.errorMessage]),React.createElement("div",{className:"web-login-error",ref:nt,role:"alert","aria-relevant":"all",tabIndex:0,"aria-live":"assertive","aria-atomic":"true","aria-label":"警告:"+(rt.errorMessage===""?"无":rt.errorMessage)},rt.errorMessage)},AreaCode=function tt(et){var rt=et.onAreaCodeBlur,nt=et.onTab,it=et.onAreaCodeChange,ot=et.areaCodeValue,at=reactExports.useState("text"),st=at[0],lt=at[1],ct=reactExports.useState(3),ut=ct[0],dt=ct[1],ft=reactExports.useState(!1),pt=ft[0],mt=ft[1],ht=reactExports.useState("+86"),gt=ht[0],vt=ht[1],yt=reactExports.useState(!1),bt=yt[0],xt=yt[1],$t=reactExports.useRef(null),Tt=reactExports.useRef(null),wt=getTextConfig(),At=wt.districtList,Rt=wt.extraText,It=function(Dt){if(!Dt){setTimeout(function(){var Ft,Zt;(Ft=document.activeElement)!==null&&Ft!==void 0&&(Zt=Ft.id)!==null&&Zt!==void 0&&Zt.includes("areacode_item_")||(mt(Dt),xt(Dt))},0);return}mt(Dt),xt(Dt)},Lt=function(Dt){var Ft,Zt=((Ft=Dt.target)===null||Ft===void 0?void 0:Ft.value)||"";Zt=Zt.trim().replace(/[^\d\+]+/g,""),Zt||(Zt="+"),it(Zt),It(!0)},Pt=function(){var Dt;$t==null||(Dt=$t.current)===null||Dt===void 0||Dt.focus(),lt("text"),pt||mt(!0)},Nt=function(Dt){if(KEYBOARD_EVENT_CODE.includes(Dt.code)){var Ft,Zt,Kt=Tt==null||(Ft=Tt.current)===null||Ft===void 0||(Zt=Ft.firstElementChild)===null||Zt===void 0?void 0:Zt.getAttribute("data-itemvalue");if(!Kt){It(!1);return}It(!1),vt(Kt),it(Kt)}},Ot=function(Dt){var Ft=Dt.key;if(Dt.preventDefault(),Ft==="Tab")return nt==null?void 0:nt();var Zt=document.activeElement;if(Zt){if(Ft==="ArrowDown"){var Kt,ir;(Kt=Zt.nextElementSibling)===null||Kt===void 0||(ir=Kt.focus)===null||ir===void 0||ir.call(Kt)}if(Ft==="ArrowUp"){var rr,mr;(rr=Zt.previousElementSibling)===null||rr===void 0||(mr=rr.focus)===null||mr===void 0||mr.call(rr)}if(Ft==="Enter"){var sr=Zt.getAttribute("data-itemvalue");sr&&Ut(sr)}}},Bt=function(Dt){var Ft=Object.keys(At).filter(function(Kt){return At[Kt]===ot});if(Ft.length>0){var Zt=At[Ft[0]];It(!1),vt(Zt),it(Zt)}else It(!1),it(gt);rt==null||rt()},zt=function(Dt){It(!1)},Vt=function(Dt){if(pt)mt(!0);else{var Ft;$t==null||(Ft=$t.current)===null||Ft===void 0||Ft.focus(),Dt==null||Dt.preventDefault()}},Ut=function(Dt){mt(!1),xt(!1),vt(Dt),it(Dt)},jt=function(){var Dt=[],Ft=Object.keys(At);return bt&&(Ft=Object.keys(At).filter(function(Zt){var Kt=At[Zt];return Kt.indexOf(ot)!==-1||Zt.indexOf(ot)!==-1})),Ft.forEach(function(Zt,Kt){var ir=At[Zt],rr=ir===ot;Dt.push(React.createElement("li",{key:Zt,className:classnames(["web-login-area-code__select-list-wrapper__list__item",{"web-login-area-code__select-list-wrapper__list__item__active":rr}]),onMouseDown:Ut.bind(null,ir),"data-itemvalue":ir,id:"areacode_item_"+Kt,tabIndex:0,onKeyDown:Ot,onBlur:zt,"aria-label":""+Zt+ir},React.createElement("span",null,Zt),React.createElement("span",null,ir)))}),Dt.length>0?Dt:React.createElement("li",{className:"web-login-area-code__select-list-wrapper__list__item",tabIndex:0,id:"areacode_item_no_match",onKeyDown:Ot,onBlur:zt,"aria-label":Rt.areaCodeNoMatchedResult},Rt.areaCodeNoMatchedResult)};return reactExports.useEffect(function(){dt(ot.length)},[ot]),React.createElement("div",{className:"web-login-area-code"},React.createElement("div",{className:"web-login-area-code__input-wrapper"},React.createElement("input",{type:st,size:ut,name:"web-login-area-code-input",className:"web-login-area-code__input-wrapper__input",autoComplete:"off",value:ot,onChange:Lt,onFocus:Pt,onClick:Pt,onKeyUp:Nt,onBlur:Bt,ref:$t,role:"combobox",tabIndex:0,"aria-owns":"select-ul","aria-activedescendant":"areacode_item_0","aria-label":Rt.areaCodeLabel}),React.createElement("i",{onMouseDown:Vt,className:classnames(["web-login-area-code__input-wrapper__icon-arrow","web-login-area-code__input-wrapper__icon-arrow__"+(pt?"up":"down")])})),pt&&React.createElement("div",{className:classnames(["web-login-area-code__select-list-wrapper"])},React.createElement("ul",{id:"select-ul",className:"web-login-area-code__select-list-wrapper__list",ref:Tt},jt())))},NormalInput=function tt(et){var rt=reactExports.useRef(null),nt=et.value,it=nt===void 0?"":nt,ot=et.placeholder,at=ot===void 0?"":ot,st=et.type,lt=st===void 0?"tel":st,ct=et.autoComplete,ut=ct===void 0?"on":ct,dt=et.showAreaCode,ft=dt===void 0?!1:dt,pt=et.onChange,mt=et.onBlur,ht=et.maxLength,gt=ht===void 0?50:ht,vt=et.inputLabel,yt=vt===void 0?"":vt,bt=function(wt){var At=wt.target.value||"";pt(At.trim())},xt=function(wt){mt==null||mt()},$t=function(){var wt,At;(wt=rt.current)===null||wt===void 0||(At=wt.focus)===null||At===void 0||At.call(wt)};return React.createElement("div",{className:"web-login-normal-input"},ft&&React.createElement(AreaCode,{areaCodeValue:et.areaCodeValue,onAreaCodeBlur:et.onAreaCodeBlur,onAreaCodeChange:et.onAreaCodeChange,onTab:$t}),React.createElement("input",{ref:rt,name:"normal-input",type:lt,className:"web-login-normal-input__input",value:it,placeholder:at,onChange:bt,onBlur:xt,autoComplete:ut,maxLength:gt,tabIndex:0,"aria-label":yt}))},ButtonInput=function tt(et){var rt=reactExports.useContext(ViewContext),nt=rt.viewState,it=et.type,ot=it===void 0?"tel":it,at=et.buttonType,st=at===void 0?"normal":at,lt=et.onClick,ct=et.onChange,ut=et.onBlur,dt=ut===void 0?function(){}:ut,ft=et.value,pt=ft===void 0?"":ft,mt=et.placeholder,ht=mt===void 0?"":mt,gt=et.buttonText,vt=gt===void 0?"":gt,yt=et.sendingText,bt=yt===void 0?"":yt,xt=et.maxLength,$t=xt===void 0?50:xt,Tt=et.inputLabel,wt=Tt===void 0?"":Tt,At=function(Bt){var zt=Bt.target.value||"";ct(zt.trim())},Rt=function(Bt){dt()},It=function(){return st!=="send"||!nt.counting?vt:bt.replace(/\{seconds\}/g,String(nt.seconds))},Lt=function(){return st!=="send"||!nt.counting?"button":"timer"},Pt=function(Bt){KEYBOARD_EVENT_CODE.includes(Bt.code)&&lt()},Nt=function(){return React.createElement("span",{className:classnames(["web-login-button-input__button-text",{"web-login-button-input__button-text__disable":st==="send"&&nt.counting},{"send-input":st==="send"}]),onMouseDown:lt,tabIndex:0,"aria-live":"off",role:Lt(),onKeyDown:Pt},It())};return React.createElement("div",{className:"web-login-button-input"},st==="send"&&Nt(),React.createElement("div",{className:classnames(["web-login-button-input__input-wrapper",{"send-input":st==="send"}])},React.createElement("input",{name:"button-input",type:ot,className:"web-login-button-input__input",placeholder:ht,onChange:At,value:pt,onBlur:Rt,autoComplete:"off",maxLength:$t,tabIndex:0,"aria-label":wt})),st!=="send"&&Nt())},ITea=function(){function tt(rt){var nt=rt.appId,it=rt.config,ot=it===void 0?{}:it;Tea.init({app_id:nt,channel:"cn",log:Boolean(__DEV__)}),this.setConfig(ot),this.getToken(),Tea.start()}tt.initTea=function(nt){var it=nt.appId,ot=nt.config,at=ot===void 0?{}:ot;return this._instance||(this._instance=new tt({appId:it,config:at})),this._instance},tt.getTea=function(){return this._instance};var et=tt.prototype;return et.setConfig=function(nt){nt===void 0&&(nt={}),Tea.config(_extends({_staging_flag:0},nt))},et.sendLog=function(nt,it){nt&&Tea.event(nt,it)},et.sendBecon=function(nt,it){nt&&Tea.beconEvent(nt,it)},et.getToken=function(){var nt=this,it=0;typeof Tea.getToken=="function"&&Tea.getToken(function(ot){var at;ot===void 0&&(ot={}),it=(at=ot)===null||at===void 0?void 0:at.user_unique_id}),setTimeout(function(){nt.setConfig({device_id:it})},0)},tt}(),ISlardar=function(){function tt(rt,nt){var it=nt.device_id;this.webLoginSlardar=createBrowserClient(),this.webLoginSlardar("init",{bid:"web_login_sdk",pid:rt+"",release:"3.2.0-rc.3",env:"production",plugins:{tti:!1,performance:!1,resource:!1,pageview:{sendInit:!1},jsError:{onerror:!1,onunhandledrejection:!1,dedupe:!1,captureGlobalAsync:!1},breadcrumb:{dom:!1},ajax:{autoWrap:!0,ignoreUrls:[/^((?!(sso.[a-zA-Z]+.com)|(\/passport\/)).)*$/],collectBodyOnError:!0},fetch:{autoWrap:!0,ignoreUrls:[/^((?!(sso.[a-zA-Z]+.comx)|(\/passport\/)).)*$/],collectBodyOnError:!0},blankScreen:{autoDetect:!1,screenshot:!1}}}),it&&this.webLoginSlardar("config",{userId:it}),this.webLoginSlardar("start"),this.webLoginSlardar("sendEvent",{name:"login_sdk_init"})}tt.initSlardar=function(nt,it){var ot=it.device_id,at=it.context;return this._instance||(this._instance=new tt(nt,{device_id:ot,context:at})),this._instance},tt.getSlardar=function(){return this._instance};var et=tt.prototype;return et.dot=function(nt){this.webLoginSlardar("sendEvent",nt)},et.log=function(nt){this.webLoginSlardar("sendLog",nt)},et.throw=function(nt,it){this.webLoginSlardar("captureException",nt,it)},tt}(),SESSION_AWEME_CODE_KEY="session_aweme_code",aesKey="kT72QRRkeCCHfPzt5RGED5ERQpcp8YZn",encryptAES=function tt(et){return AES.encrypt(et,aesKey).toString()},decryptAES=function tt(et){return AES.decrypt(et,aesKey).toString(ENC_UTF8)},__DEV__=!1,iBrowser=function(){var tt=navigator.userAgent;return{trident:tt.indexOf("Trident")>-1,presto:tt.indexOf("Presto")>-1,webKit:tt.indexOf("AppleWebKit")>-1,gecko:tt.indexOf("Gecko")>-1&&tt.indexOf("KHTML")===-1,mobile:!!tt.match(/AppleWebKit.*Mobile.*/),ios:!!tt.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/),android:tt.indexOf("Android")>-1||tt.indexOf("ucweb")>-1,iPhone:tt.indexOf("iPhone")>-1,iPad:tt.indexOf("iPad")>-1,webApp:tt.indexOf("Safari")===-1,isSafari:tt.indexOf("Safari")>=0||tt.indexOf("WebKit")>=0,isOpera:tt.indexOf("Opera")>=0,isChrome:tt.indexOf("Chrome/")>=0&&tt.indexOf("WebKit")>=0,isMac:tt.indexOf("Mac")>=0}}(),getQuery=function tt(){return urlParse(window.location.href,!0).query||{}};function sendLog(tt,et,rt){var nt,it;et===void 0&&(et={}),rt===void 0&&(rt=!1);var ot=rt?(nt=ITea.getTea())===null||nt===void 0?void 0:nt.sendBecon:(it=ITea.getTea())===null||it===void 0?void 0:it.sendLog;ot&&ot(tt,_extends({},et,{params_for_special:"uc_login",login_from:"web_sdk"}))}function setTeaConfig(tt){var et;tt===void 0&&(tt={});var rt=(et=ITea.getTea())===null||et===void 0?void 0:et.setConfig;rt&&rt(tt)}var isSupportLocalStorage=function tt(){try{return window.localStorage.setItem("testlocalstorage","1"),window.localStorage.getItem("testlocalstorage"),window.localStorage.removeItem("testlocalstorage"),!0}catch{return!1}},isSupportSessionStorage=function tt(){try{return window.sessionStorage.setItem("testSessionStorage","1"),window.sessionStorage.getItem("testSessionStorage"),window.sessionStorage.removeItem("testSessionStorage"),!0}catch{return!1}},setRememberPwd=function tt(et,rt,nt){isSupportLocalStorage()&&(window.localStorage.setItem("local_account",encryptAES(et)),window.localStorage.setItem("local_password",encryptAES(rt)),window.localStorage.setItem("local_areacode",encryptAES(nt)),window.localStorage.setItem("local_settime",new Date().getTime().toString()),window.localStorage.setItem("local_remember_status","1"))},getRememberPwd=function tt(){var et=window.localStorage.getItem("local_account"),rt=window.localStorage.getItem("local_password"),nt=window.localStorage.getItem("local_areacode");return{account:et?decryptAES(et):"",password:rt?decryptAES(rt):"",areaCode:nt?decryptAES(nt):"",local_settime:window.localStorage.getItem("local_settime"),remember_status:window.localStorage.getItem("local_remember_status")}},expireRememberPwd=function tt(et){et===void 0&&(et=!1);var rt=getRememberPwd(),nt=rt.local_settime,it=nt===void 0?"0":nt;(new Date().getTime()-Number(it)>=864e6||et)&&(window.localStorage.removeItem("local_account"),window.localStorage.removeItem("local_password"),window.localStorage.removeItem("local_settime"))},setAwemeUsedCode=function tt(et){isSupportSessionStorage()&&window.sessionStorage.setItem(SESSION_AWEME_CODE_KEY,et)},checkAwemeUsedCode=function tt(et){return isSupportSessionStorage()?window.sessionStorage.getItem(SESSION_AWEME_CODE_KEY)===et:!1};function captureUnknownError(tt){var et=ISlardar.getSlardar();if(!et){console.warn("请初始化 slardar");return}(!tt.error_code||!tt.description)&&et.throw(tt,{description:"unknown error"})}var LinkItem=function tt(et){var rt=reactExports.useState(!1),nt=rt[0],it=rt[1],ot=reactExports.useContext(ViewContext),at=ot.dispatchViewState,st=getInitProps(),lt=st.aid,ct=et.id,ut=et.text,dt=et.type,ft=et.clickToPage,pt=et.ModalComponent,mt=function(){sendLog("custom_function",{aid:lt,event_name:ct}),dt==="page"&&ft&&at({type:"CHANGE_PAGE",currentPage:ft}),dt==="modal"&&it(!0)},ht=function(){it(!1)},gt=function(yt){KEYBOARD_EVENT_CODE.includes(yt.code)&&mt()};return React.createElement(React.Fragment,null,dt==="modal"&&nt&&React.createElement("div",{className:"web-login-link-list__item__modal"},React.createElement("div",{className:"web-login-link-list__item__modal__icon-close",onClick:ht}),pt&&React.createElement(pt,null)),React.createElement("div",{className:"web-login-link-list__item__text",key:ut,tabIndex:0,"aria-label":ut,role:"button",onMouseDown:mt,onKeyDown:gt},ut))},LinkArea=function tt(et){var rt=getTextConfig(),nt=reactExports.useContext(ViewContext),it=nt.viewState,ot=getInitProps(),at=ot.loginType,st=at===void 0?[]:at,lt=ot.registerType,ct=lt===void 0?[]:lt,ut=ot.linkList,dt=[{key:"login",existOn:[Pages.PAGE_REGISTER_MOBILE_CODE,Pages.PAGE_REGISTER_EMAIL,Pages.PAGE_PASSWORD_RESET],text:rt.extraText.switchToLogin,type:"page",clickToPage:st.length>0?st[0]:Pages.PAGE_LOGIN_MOBILE_CODE},{key:"register",existOn:[Pages.PAGE_LOGIN_ACCOUNT_PWD,Pages.PAGE_LOGIN_MOBILE_CODE,Pages.PAGE_LOGIN_SCAN_CODE,Pages.PAGE_PASSWORD_RESET],text:rt.extraText.switchToRegister,type:"page",clickToPage:ct.length>0?ct[0]:Pages.PAGE_REGISTER_MOBILE_CODE}],ft=(ut||dt).filter(function(pt){return pt.key==="login"?pt.existOn.includes(it.currentPage)&&st.length>0:pt.key==="register"?pt.existOn.includes(it.currentPage)&&ct.length>0:pt.existOn.includes(it.currentPage)});return React.createElement("ul",{className:"web-login-link-list"},ft.map(function(pt){var mt=pt.key;return React.createElement("li",{className:"web-login-link-list__item",key:mt},React.createElement(LinkItem,Object.assign({},pt,{id:mt})))}))};function Loading(){return React.createElement("div",{className:"web-login-loading"},React.createElement("i",{className:"web-login-loading__icon"}))}var accountSDK,requestFunc,initAccountSDK=function tt(et){if(accountSDK)return accountSDK;var rt=et.aid,nt=et.subjectAid,it=et.scope,ot=it===void 0?"web":it,at=et.scene,st=at===void 0?"normal":at,lt=et.host,ct=lt===void 0?"":lt,ut=et.isOversea,dt=ut===void 0?!1:ut,ft=et.region,pt=ft===void 0?"cn":ft,mt=et.appName,ht=mt===void 0?"":mt,gt=et.language,vt=gt===void 0?"zh":gt,yt=et.isBoe,bt=yt===void 0?!1:yt,xt=et.acrawler,$t=et.captchaShowMode,Tt=$t===void 0?"mask":$t,wt=et.captchaHost,At=wt===void 0?"":wt,Rt=et.secondVerifyWebOptions,It=et.generalParams,Lt=It===void 0?{}:It,Pt={aid:rt,subjectAid:nt,scene:st,host:ct,isOversea:dt,region:pt,appName:ht,language:vt,isBoe:bt,acrawler:xt,captchaShowMode:Tt,captchaHost:At,printLog:Boolean(__DEV__),secondVerifyWebOptions:Rt,generalParams:_extends({},Lt,{ui_version:"3.2.0-rc.3"})};return ot==="sso"?accountSDK={type:"sso",request:new distExports.SsoInterfaceSdk(Pt)}:accountSDK={type:"web",request:new distExports.WebInterfaceSdk(Pt)},requestFunc=new RequestFunc({accountAPI:accountSDK,params:et}),accountSDK},getRequestFunc=function tt(et){return requestFunc||new RequestFunc({accountAPI:accountSDK||initAccountSDK(et),params:et})},RequestFunc=function tt(et){var rt=this;this.loginOnly={mobileCode:!1,thirdParty:!1},this.loginSendCode=function(ht){var gt,vt=_extends({},ht,{extra_params:_extends({is6Digits:rt.mobileCodeLength===6?1:0},(gt=rt.apiExtras)===null||gt===void 0?void 0:gt.loginSendCode)});return rt.accountAPI.type==="sso"?rt.accountAPI.request.login.sendMobileCodeV2(vt):rt.scene==="aff"?rt.accountAPI.request.affLogin.sendCode(vt):rt.accountAPI.request.login.sendCode(vt)},this.registerSendCode=function(ht){var gt,vt=_extends({},ht,{extra_params:_extends({is6Digits:rt.mobileCodeLength===6?1:0},(gt=rt.apiExtras)===null||gt===void 0?void 0:gt.registerSendCode)});return accountSDK.type==="sso"?accountSDK.request.login.sendMobileCodeV2(vt):rt.scene==="aff"?accountSDK.request.affRegister.sendMobileCode(vt):accountSDK.request.login.sendCode(vt)},this.mobileCodeLogin=function(ht){return accountSDK.type==="sso"?accountSDK.request.login.quickAuthV2(_extends({},ht,{service:rt.next})):rt.scene==="aff"?accountSDK.request.affLogin.smsLogin(ht):accountSDK.request.login.smsLogin(_extends({},ht,{login_only:rt.loginOnly.mobileCode}))},this.mobileCodeRegister=function(ht){return accountSDK.type==="sso"?accountSDK.request.login.quickAuthV2(_extends({},ht,{service:rt.next})):rt.scene==="aff"?accountSDK.request.affRegister.verifyMobile(ht):accountSDK.request.login.smsLogin(ht)},this.emailRegister=function(ht){return accountSDK.type==="sso"?accountSDK.request.register.emailRegister(_extends({},ht,{email_logic_type:2})):accountSDK.request.login.emailRegister(_extends({},ht,{ifLogin:!0}))},this.emailRegisterSendCode=function(ht){return accountSDK.type==="sso"?accountSDK.request.register.sendEmailCodeV2({email:ht.email,next:rt.next,email_logic_type:2}):accountSDK.request.login.sendEmailCode(_extends({},ht,{next:rt.next}))},this.accountPwdLogin=function(ht){if(accountSDK.type==="sso")return accountSDK.request.login.accountLoginV2(_extends({},ht,{service:rt.next}));var gt=rt.accountType.includes("username")&&rt.accountType.length===1,vt={username:gt?ht.account:void 0,account:gt?void 0:ht.account,password:ht.password};return rt.scene==="aff"?accountSDK.request.affLogin.pwdLogin(vt):accountSDK.request.login.pwdLogin(vt)},this.subjectLogin=function(ht){var gt=ht.login_subject_uid,vt=ht.user_identity_list.user_identity_id_str,yt=vt===void 0?"0":vt;return accountSDK.request.affLogin.subjectLogin({login_subject_uid:gt,user_identity_id:yt})},this.resetSendCode=function(ht){var gt=ht.isEmail,vt=ht.requestParams;if(gt){var yt={email:vt.account};return accountSDK.type==="sso"?accountSDK.request.password.sendEmailCodeV2(yt):rt.scene==="aff"?accountSDK.request.affForgetPwd.sendEmailCode(yt):accountSDK.request.forgetPwd.sendEmailCode(yt)}else{var bt={mobile:vt.account,extra_params:{is6Digits:rt.mobileCodeLength===6?1:0}};return accountSDK.type==="sso"?accountSDK.request.password.sendMobileCodeV2(_extends({},bt,{check_register:!0})):rt.scene==="aff"?accountSDK.request.affForgetPwd.sendMobileCode(bt):accountSDK.request.forgetPwd.sendCode(bt)}},this.resetPassword=function(ht){var gt=ht.isEmail,vt=ht.requestParams;if(accountSDK.type==="sso")return accountSDK.request.password.resetPassword(vt);if(gt){var yt={email:vt.account,password:vt.password,code:vt.code};return rt.scene==="aff"?accountSDK.request.affForgetPwd.emailReset(yt):accountSDK.request.forgetPwd.resetPwdByEmail(yt)}else{var bt={mobile:vt.account,password:vt.password,code:vt.code};return rt.scene==="aff"?accountSDK.request.affForgetPwd.mobileReset(bt):accountSDK.request.forgetPwd.resetPwdByMobile(bt)}},this.getQrCode=function(ht){return ht===void 0&&(ht={}),accountSDK.type==="sso"?accountSDK.request.qrcodeLogin.getQrcode({service:rt.next,extra_params:ht}):accountSDK.request.qrcodeLogin.getQrcode({next:rt.next})},this.checkQRCode=function(ht){var gt=ht.token,vt=ht.need_logo,yt=vt===void 0?!1:vt;return accountSDK.type==="sso"?accountSDK.request.qrcodeLogin.checkQrconnect({service:rt.next,token:gt,extra_params:{need_logo:yt}}):accountSDK.request.qrcodeLogin.checkQrconnect({next:rt.next,token:gt})},this.wapLogin=function(ht){var gt=ht.platform,vt=ht.platformAppId,yt=urlParse(rt.next,!0).origin;return accountSDK.type==="sso"?(accountSDK.request.login.wapLogin({origin:yt,next:rt.next,platform_app_id:typeof vt=="number"&&gt==="weixin"?String(vt):"",platform:gt==="qzone_sns"?"qzone_sns":""}),Promise.resolve()):Promise.reject("NOT SUPPORT")},this.checkAwemeLogin=function(ht){return accountSDK.type==="sso"?accountSDK.request.login.bindWithMobileLogin({code:ht.code,service:rt.next,platform_app_id:ht.platformAppId,change_bind:ht.changeBind||0,profile_key:ht.profileKey}):accountSDK.request.login.bindWithMobileLogin({code:ht.code,platform:"aweme",platform_app_id:ht.platformAppId,change_bind:ht.changeBind||0,need_mobile:ht.needMobile||0})},this.authLogin=function(ht){return accountSDK.type==="sso"?accountSDK.request.login.authLogin({code:ht.code,service:rt.next,platform_app_id:ht.platformAppId,profile_key:ht.profileKey,login_only:rt.loginOnly.thirdParty}):accountSDK.request.login.authLogin({code:ht.code,platform_app_id:ht.platformAppId,profile_key:ht.profileKey,login_only:rt.loginOnly.thirdParty})};var nt=et.accountAPI,it=et.params,ot=it.scene,at=ot===void 0?"normal":ot,st=it.next,lt=it.loginOnly,ct=lt===void 0?{}:lt,ut=it.mobileCodeLength,dt=ut===void 0?6:ut,ft=it.accountType,pt=ft===void 0?[]:ft,mt=it.apiExtras;this.scene=at,this.next=st,this.loginOnly=_extends({mobileCode:!1,thirdParty:!1},ct),this.accountType=pt,this.mobileCodeLength=dt,this.accountAPI=nt,this.apiExtras=mt};function useBasicFunc(){var tt=reactExports.useContext(ViewContext),et=tt.dispatchViewState,rt=getInitProps(),nt=getRequestFunc(rt),it=function(st){if(rt.scene==="aff"){var lt;if(st!=null&&(lt=st.login_list)!==null&&lt!==void 0&&lt[0]){var ct;nt.subjectLogin(st==null||(ct=st.login_list)===null||ct===void 0?void 0:ct[0]).then(function(dt){var ft;rt==null||(ft=rt.success)===null||ft===void 0||ft.call(rt,dt)})}else{var ut;rt==null||(ut=rt.success)===null||ut===void 0||ut.call(rt,st)}return}if(rt!=null&&rt.success){rt.success(st);return}if(st!=null&&st.redirect_url){window.location.href=st.redirect_url;return}},ot=function(st){var lt=st.result,ct=st.errorMessage;return et({type:"ERROR",errorMessage:ct}),lt};return{loginSuccessHandler:it,withErrorEffect:ot}}function useRequestFunc(){var tt=getInitProps(),et=getRequestFunc(tt);return et}var OtherLoginMethod=function tt(et){var rt=getInitProps(),nt=getTextConfig(),it=reactExports.useContext(ViewContext),ot=it.viewState,at=it.dispatchViewState,st=useRequestFunc(),lt=rt.aid,ct=rt.otherMethod,ut=ct===void 0?[]:ct,dt=rt.unsetCheckbox,ft=rt.confirm,pt=ut.filter(function(yt){var bt=yt.type,xt=yt.existOn,$t=yt.existRules;return bt!=="page"||!xt?!0:xt.includes(ot.currentPage)?!$t||$t.length===0?!0:$t.every(function(Tt){var wt=Tt.page,At=Tt.when.prevPage;return wt!==ot.currentPage||At===ot.prevPage}):!1}),mt=function(bt){var xt=urlParse(window.location.href,!0);delete xt.query.code,delete xt.query.state;var $t=xt.set("query",_extends({},xt.query,{from_aweme:"1"})).toString(),Tt=bt.clientKey,wt=Tt===void 0?"":Tt,At=bt.scope,Rt=At===void 0?"":At,It=bt.optionalScope,Lt=It===void 0?"":It,Pt=bt.state,Nt=Pt===void 0?"":Pt,Ot=urlParse("https://open.douyin.com/platform/oauth/connect/",!0),Bt=Ot.set("query",{client_key:wt,scope:Rt,optionalScope:Lt,state:Nt,response_type:"code",redirect_uri:$t}).toString();window.location.href=Bt},ht=function(bt){var xt=bt.key,$t=bt.type,Tt=bt.clickToPage,wt=bt.authConfig;if($t==="page"&&Tt&&at({type:"CHANGE_PAGE",currentPage:Tt}),ft&&ft.length>0&&!(dt!=null&&dt.thirdParty)&&!ot.protocolCheck){at({type:"ERROR",errorMessage:nt.extraText.protocolCheckedError});return}if(xt==="aweme"){sendLog("uc_login_submit",{login_method:"douyin",aid:lt},!0),mt(wt);return}if(["weixin","qzone_sns"].includes(xt)){sendLog("uc_login_submit",{login_method:xt,aid:lt}),st.wapLogin({platform:xt,platformAppId:wt==null?void 0:wt.platformAppId});return}},gt=function(bt){var xt=document.activeElement;if(xt){if(bt.key==="ArrowRight"){var $t,Tt;($t=xt.nextElementSibling)===null||$t===void 0||(Tt=$t.focus)===null||Tt===void 0||Tt.call($t)}if(bt.key==="ArrowLeft"){var wt,At;(wt=xt.previousElementSibling)===null||wt===void 0||(At=wt.focus)===null||At===void 0||At.call(wt)}}},vt=function(bt,xt){KEYBOARD_EVENT_CODE.includes(bt.code)&&ht(xt)};return pt.length>0?React.createElement("div",{className:"web-login-other-login-method"},React.createElement("div",{className:"web-login-other-login-method__text"},nt.extraText.otherLoginText),React.createElement("ul",{className:"web-login-other-login-method__list",onKeyDown:gt},pt.map(function(yt){var bt=yt.key,xt=yt.text,$t=yt.label,Tt=$t===void 0?"":$t;return React.createElement("li",{className:"web-login-other-login-method__list__item",key:bt,onMouseDown:ht.bind(null,yt),tabIndex:0,"aria-label":Tt||DEFAULT_METHOD_LABEL[bt]||"",role:"button",onKeyDown:function(At){return vt(At,yt)}},React.createElement("i",{className:classnames(["web-login-other-login-method__list__item__icon","web-login-other-login-method__list__item__icon__"+bt])}),xt&&React.createElement("span",null,xt))}))):null},Tab=function tt(){var et=getInitProps(),rt=getTextConfig(),nt=reactExports.useContext(ViewContext),it=nt.viewState,ot=nt.dispatchViewState,at=nt.viewComputedValue,st=et.loginTab,lt=st===void 0?[]:st,ct=et.registerTab,ut=ct===void 0?[]:ct,dt=et.loginType,ft=dt===void 0?[]:dt,pt=et.registerType,mt=pt===void 0?[]:pt,ht=[];at.currentState==="login"&&(lt.length>0||ft.length>0)?ht=lt.length>0?lt:ft.map(function(xt){return{key:xt,existOn:ft}}):at.currentState==="register"&&(ut.length>0||mt.length>0)?ht=ut.length>0?ut:mt.map(function(xt){return{key:xt,existOn:mt}}):ht=[{key:it.currentPage,existOn:[it.currentPage]}];var gt=ht.filter(function(xt){var $t=xt.existOn,Tt=xt.existRules;return $t.includes(it.currentPage)?!Tt||Tt.length===0?!0:Tt.every(function(wt){var At=wt.page,Rt=wt.when.prevPage;return At!==it.currentPage||Rt===it.prevPage}):!1}).map(function(xt){var $t=xt.key,Tt=xt.existOn;return{key:$t,existOn:Tt,title:rt.titleMap[$t]}}),vt=function($t){ot({type:"CHANGE_PAGE",currentPage:$t})},yt=function($t){var Tt=document.activeElement;if(Tt){if($t.key==="ArrowRight"){var wt,At;(wt=Tt.nextElementSibling)===null||wt===void 0||(At=wt.focus)===null||At===void 0||At.call(wt)}if($t.key==="ArrowLeft"){var Rt,It;(Rt=Tt.previousElementSibling)===null||Rt===void 0||(It=Rt.focus)===null||It===void 0||It.call(Rt)}}},bt=function($t,Tt){KEYBOARD_EVENT_CODE.includes($t.code)&&vt(Tt)};return React.createElement("ul",{className:"web-login-tab-list",onKeyDown:yt},gt.map(function(xt){var $t=xt.key,Tt=xt.title;return React.createElement("li",{onMouseDown:function(){vt($t)},key:$t,className:classnames(["web-login-tab-list__item",{"web-login-tab-list__item__active":$t===it.currentPage}]),tabIndex:0,"aria-label":Tt,role:"tab","aria-selected":$t===it.currentPage,onKeyDown:function(At){return bt(At,$t)}},Tt)}))},CommonWrapper=function tt(et){var rt=et.type,nt=rt===void 0?"form":rt,it=et.children,ot=reactExports.useContext(ViewContext),at=ot.viewState,st=ot.dispatchViewState,lt=ot.viewComputedValue,ct=ot.viewOperations,ut=getInitProps(),dt=ut.CustomFooter,ft=ut.linkAreaPosition,pt=function(gt){return gt.preventDefault(),!1},mt=function(gt){st({type:"CHANGE_PAGE",currentPage:gt})};return React.createElement("article",{className:"web-login-common-wrapper"},React.createElement("div",{className:"web-login-common-wrapper__tab"},React.createElement(Tab,null),ft==="top"&&React.createElement(LinkArea,null)),nt==="form"?React.createElement("form",{className:"web-login-common-wrapper__form",onSubmit:pt},it):React.createElement("div",null,it),ft==="center"&&React.createElement(LinkArea,null),lt.currentState==="login"&&React.createElement(OtherLoginMethod,null),ft==="bottom"&&React.createElement(LinkArea,null),dt&&React.createElement(dt,{changePageType:mt,currentPage:at.currentPage,checked:at.protocolCheck,onCheckClick:ct.onCheckClick}))},ErrorBoundary$1=function(tt){_inheritsLoose(et,tt);function et(nt){return tt.call(this,nt)||this}var rt=et.prototype;return rt.componentDidCatch=function(it,ot){var at=ISlardar.getSlardar();if(!at){console.warn("请初始化 slardar");return}at.throw(it,{description:"error boundary",componentStack:ot==null?void 0:ot.componentStack})},rt.render=function(){return this.props.children},et}(React.Component),emailFormat=/^([A-Za-z0-9_\-\.\+])+\@([A-Za-z0-9_\-\.])+\.([A-Za-z]{2,10})$/,defaultPasswordFormat=/^(?=.*[a-z])(?=.*[A-Z])(?=.*\d)(.{8,20})$/,phoneSeparateReg=/^(\d{3})(\d{0,4})(\d{0,4})$/,mobileFormatCheck=function tt(et,rt){var nt=getTextConfig(),it=!0,ot="";return rt||(ot=nt.extraText.mobileNull,it=!1),rt&&et==="+86"&&rt.length!==11&&(ot=nt.extraText.mobileFormatError,it=!1),{result:it,errorMessage:ot}},areaCodeFormatCheck=function tt(et,rt){var nt=getTextConfig(),it=!0,ot="";et==="+86"&&rt&&rt.length!==11&&(ot=nt.extraText.mobileFormatError,it=!1);var at=mobileFormatCheck(et,rt),st=at.result;return et!=="+86"&&rt&&!st&&(ot="",it=!1),{result:it,errorMessage:ot}},mobileCodeFormatCheck=function tt(et){var rt=getTextConfig(),nt=getInitProps(),it=nt.mobileCodeLength,ot=it===void 0?6:it,at=!0,st="";return et||(st=rt.extraText.mobileCodeNull,at=!1),et&&et.length!==ot&&(st=rt.extraText.mobileCodeError,at=!1),{result:at,errorMessage:st}},emailFormatCheck=function tt(et){var rt=getTextConfig(),nt=!0,it="";return et||(it=rt.extraText.emailNull,nt=!1),et&&!emailFormat.test(et)&&(it=rt.extraText.emailFormatError,nt=!1),{result:nt,errorMessage:it}},passwordFormatCheck=function tt(et){var rt=getInitProps(),nt=rt.passwordFormat,it=getTextConfig(),ot=!0,at="";et||(at=it.extraText.passwordNull,ot=!1);var st=nt?new RegExp(nt):defaultPasswordFormat;return et&&!st.test(et)&&(at=it.extraText.passwordFormatError,ot=!1),{result:ot,errorMessage:at}},passwordConfirmCheck=function tt(et,rt){var nt=getTextConfig(),it=!0,ot="";return rt||(ot=nt.extraText.confirmPasswordNull,it=!1),rt&&rt!==et&&(ot=nt.extraText.confirmPasswordError,it=!1),{result:it,errorMessage:ot}},accountFormatCheck=function tt(et,rt,nt){var it=getTextConfig(),ot=getInitProps(),at=ot.isMobileAccountOnly,st=at===void 0?!1:at,lt=ot.isEmailAccountOnly,ct=lt===void 0?!1:lt,ut=ot.isUsernameAccountOnly,dt=ut===void 0?!1:ut;return st?mobileFormatCheck(rt,et):ct?emailFormatCheck(et):et?dt?{result:!0,errorMessage:""}:nt?emailFormatCheck(et):mobileFormatCheck(rt,et):{result:!1,errorMessage:it.extraText.accountNull}},LoginMobileCode=function tt(et){var rt=et.useWrap,nt=rt===void 0?!0:rt,it=reactExports.useState(!0),ot=it[0],at=it[1],st=reactExports.useState(!0),lt=st[0],ct=st[1],ut=reactExports.useRef(!1),dt=reactExports.useRef(null),ft=getInitProps(),pt=ft.aid,mt=ft.mobileCodeLength,ht=mt===void 0?6:mt,gt=ft.phoneSeparate,vt=gt===void 0?!1:gt,yt=ft.globalMobileSupport,bt=yt===void 0?!1:yt,xt=ft.unsetCheckbox,$t=ft.confirm,Tt=getTextConfig(),wt=Tt.mobileCodeLoginText,At=reactExports.useContext(ViewContext),Rt=At.viewState,It=At.dispatchViewState,Lt=At.viewOperations,Pt=reactExports.useContext(FormContext),Nt=Pt.formValue,Ot=Pt.dispatchFormValue,Bt=Pt.formComputedValue,zt=useBasicFunc(),Vt=zt.withErrorEffect,Ut=zt.loginSuccessHandler,jt=useRequestFunc(),qt=function(pr){var vr=pr.replace(/[\D]+/g,"");if(Nt.areaCode==="+86"){if(vr.length>11)return;vt&&(vr=vr.replace(phoneSeparateReg,"$1 $2 $3").trim())}dt.current=null,Ot({mobile:vr})},Dt=function(pr){dt.current=null,Ot({areaCode:pr})},Ft=function(){return Vt(mobileFormatCheck(Nt.areaCode,Bt.realMobile))},Zt=function(){return Vt(areaCodeFormatCheck(Nt.areaCode,Bt.realMobile))},Kt=function(pr){var vr=pr.replace(/[\D]+/g,"");vr.length>ht||(dt.current=null,Ot({code:vr}))},ir=function(){var pr=Vt(mobileFormatCheck(Nt.areaCode,Bt.realMobile));return pr?Vt(mobileCodeFormatCheck(Nt.code)):!1},rr=function(){ot||ut.current||(ut.current=!0,sendLog("uc_login_submit",{login_method:"phone_sms",aid:pt}),jt.mobileCodeLogin({mobile:Bt.fullMobile,code:Nt.code,extra_params:dt.current||{}}).then(function(pr){ut.current=!1,sendLog("uc_login_result",{status:"success",login_method:"phone_sms",is_new_user:(pr==null?void 0:pr.is_new_user)!==void 0?pr==null?void 0:pr.is_new_user:(pr==null?void 0:pr.new_user)!==void 0?pr==null?void 0:pr.new_user:-1,aid:pt},!0),Ut(pr)}).catch(function(pr){captureUnknownError(pr),(pr==null?void 0:pr.description)==="SECOND_VALID"&&pr!==null&&pr!==void 0&&pr.requestData&&(dt.current=pr==null?void 0:pr.requestData),ut.current=!1,sendLog("uc_login_result",{status:"fail",login_method:"phone_sms",aid:pt,error_code:(pr==null?void 0:pr.error_code)||-1,fail_info:(pr==null?void 0:pr.description)||""}),It({type:"ERROR",errorMessage:pr})}))},mr=function(){!Ft()||Rt.counting||jt.loginSendCode({mobile:Bt.fullMobile}).then(function(pr){sendLog("uc_send_sms",{login_method:"phone_sms",send_method:lt?"user_click":"resend",status:"success",aid:pt}),ct(!1),It({type:"ERROR",errorMessage:""});var vr=pr==null?void 0:pr.retry_time;It({type:"COUNT",seconds:vr})}).catch(function(pr){captureUnknownError(pr),sendLog("uc_send_sms",{login_method:"phone_sms",send_method:lt?"user_click":"resend",status:"fail",error_code:(pr==null?void 0:pr.error_code)||-1,fail_info:(pr==null?void 0:pr.description)||"",aid:pt}),ct(!1),It({type:"ERROR",errorMessage:pr})})};reactExports.useEffect(function(){var fr=mobileFormatCheck(Nt.areaCode,Bt.realMobile),pr=fr.result,vr=mobileCodeFormatCheck(Nt.code),dr=vr.result;if(pr&&dr&&(Rt.protocolCheck||(xt==null?void 0:xt.mobileCode)===1||($t==null?void 0:$t.length)===0)){at(!1);return}at(!0)},[Nt.areaCode,Bt.realMobile,Nt.code,Rt.protocolCheck]),reactExports.useEffect(function(){sendLog("uc_login_notify",{aid:pt,login_suggest_method:"phone_sms",url:window.location.href})},[]);var sr=function(){return React.createElement(React.Fragment,null,React.createElement("div",{className:"web-login-mobile-code__mobile-input-wrapper"},React.createElement(NormalInput,{type:"tel",onBlur:Ft,onChange:qt,value:Nt.mobile,showAreaCode:bt,onAreaCodeBlur:Zt,onAreaCodeChange:Dt,areaCodeValue:Nt.areaCode,placeholder:wt.mobilePlaceholder,inputLabel:wt.mobileLabel,autoComplete:"tel"})),React.createElement("div",{className:"web-login-mobile-code__code-input-wrapper"},React.createElement(ButtonInput,{type:"tel",buttonType:"send",onClick:mr,onChange:Kt,onBlur:ir,value:Nt.code,placeholder:wt.codePlaceholder,buttonText:wt.sendCode,sendingText:wt.sending,inputLabel:wt.codeLabel})),React.createElement(Error$1,null),React.createElement(ConfirmInfo,{needCheck:(xt==null?void 0:xt.mobileCode)!==1,onCheckClick:Lt.onCheckClick,beforeText:wt.confirmInfoBeforeText,connectText:wt.confirmInfoConnectText}),React.createElement("div",{className:"web-login-mobile-code__button-wrapper"},React.createElement(Button,{disabled:ot,buttonText:wt.buttonText,onClick:rr})))};return React.createElement("article",{className:"web-login-mobile-code"},nt?React.createElement(CommonWrapper,null,sr()):sr())},isIphone=iBrowser.iPhone,LoginAccountPwd=function tt(et){var rt=et.useWrap,nt=rt===void 0?!0:rt,it=getTextConfig(),ot=it.accountPwdLoginText,at=it.extraText,st=reactExports.useContext(ViewContext),lt=st.viewState,ct=st.dispatchViewState,ut=st.viewOperations,dt=reactExports.useContext(FormContext),ft=dt.formValue,pt=dt.dispatchFormValue,mt=dt.formComputedValue,ht=getInitProps(),gt=ht.aid,vt=ht.phoneSeparate,yt=vt===void 0?!1:vt,bt=ht.passwordMaxLength,xt=bt===void 0?20:bt,$t=ht.isMobileAccountOnly,Tt=$t===void 0?!1:$t,wt=ht.isUsernameAccountOnly,At=wt===void 0?!1:wt,Rt=ht.initialAreaCodeState,It=Rt===void 0?!1:Rt,Lt=ht.rememberPwd,Pt=Lt===void 0?!1:Lt,Nt=ht.unsetCheckbox,Ot=ht.confirm,Bt=reactExports.useState(!0),zt=Bt[0],Vt=Bt[1],Ut=reactExports.useState(It),jt=Ut[0],qt=Ut[1],Dt=reactExports.useState(!1),Ft=Dt[0],Zt=Dt[1],Kt=reactExports.useRef(!1),ir=useBasicFunc(),rr=ir.withErrorEffect,mr=ir.loginSuccessHandler,sr=useRequestFunc(),fr=function(lr){if(isIphone){/^\d*$/.test(lr)?qt(It):qt(!1),pt({account:lr});return}if(Tt){var Yt=lr.replace(/[\D]+/g,"");pt({account:Yt});return}if(At||!/^[\d\s]*$/.test(lr)){var Xt=lr.replace(/\s/g,"");qt(!1),pt({account:Xt})}else{var tr=lr.replace(/[\D]+/g,"");if(ft.areaCode==="+86"){if(tr.length>11)return;yt&&(tr=tr.replace(phoneSeparateReg,"$1 $2 $3").trim())}qt(It),pt({account:tr})}},pr=function(lr){pt({areaCode:lr})},vr=function(){return rr(accountFormatCheck(mt.realAccount,ft.areaCode,mt.isAccountEmail))},dr=function(){return rr(areaCodeFormatCheck(ft.areaCode,mt.realAccount))},xr=function(lr){lr=lr.replace(/[\u4e00-\u9fa5]/g,""),pt({password:lr})},Gt=function(){return vr()?ft.password?(ct({type:"ERROR",errorMessage:""}),!0):(ct({type:"ERROR",errorMessage:at.passwordNull}),!1):!1},Wt=function(){zt||Kt.current||(Kt.current=!0,sendLog("uc_login_submit",{login_method:mt.isAccountEmail?"email_password":"phone_password",aid:gt}),sr.accountPwdLogin({account:mt.fullAccount,password:ft.password}).then(function(lr){Kt.current=!1,sendLog("uc_login_result",{status:"success",login_method:mt.isAccountEmail?"email_password":"phone_password",is_new_user:0,aid:gt},!0),Ft?setRememberPwd(mt.realAccount,ft.password,ft.areaCode):expireRememberPwd(!0),mr(lr)}).catch(function(lr){captureUnknownError(lr),Kt.current=!1,sendLog("uc_login_result",{status:"fail",login_method:mt.isAccountEmail?"email_password":"phone_password",aid:gt,error_code:(lr==null?void 0:lr.error_code)||-1,fail_info:(lr==null?void 0:lr.description)||""}),ct({type:"ERROR",errorMessage:lr})}))},nr=function(){ct({type:"CHANGE_PAGE",currentPage:Pages.PAGE_PASSWORD_RESET})},Qt=function(){Zt(!Ft)},Jt=function(){if(Pt&&isSupportLocalStorage()){expireRememberPwd();var lr=getRememberPwd(),Yt=lr.account,Xt=lr.password,tr=lr.remember_status,or=lr.areaCode;Yt&&Xt&&tr==="1"&&(setTimeout(function(){pt({account:Yt,password:Xt,areaCode:or||"+86"})},100),Zt(!0))}};reactExports.useEffect(function(){var cr=accountFormatCheck(mt.realAccount,ft.areaCode,mt.isAccountEmail),lr=cr.result;if(lr&&ft.password&&(lt.protocolCheck||(Nt==null?void 0:Nt.accountPwd)===1||(Ot==null?void 0:Ot.length)===0)){Vt(!1);return}Vt(!0)},[ft.areaCode,mt.realAccount,ft.password,mt.isAccountEmail,lt.protocolCheck]),reactExports.useEffect(function(){Jt(),sendLog("uc_login_notify",{aid:gt,login_suggest_method:"account_password",url:window.location.href})},[]);var ar=function(){return React.createElement(React.Fragment,null,React.createElement("div",{className:"web-login-account-password__account-input-wrapper"},React.createElement(NormalInput,{type:"text",onBlur:vr,onChange:fr,value:ft.account,showAreaCode:jt,onAreaCodeBlur:dr,onAreaCodeChange:pr,areaCodeValue:ft.areaCode,placeholder:ot.accountPlaceholder,autoComplete:"username",inputLabel:ot.accountLabel})),React.createElement("div",{className:"web-login-account-password__password-input-wrapper"},React.createElement(ButtonInput,{type:"password",buttonType:"normal",onClick:nr,onChange:xr,onBlur:Gt,maxLength:xt,value:ft.password,placeholder:ot.pwdPlaceholder,buttonText:ot.forgetPwd,inputLabel:ot.pwdLabel})),React.createElement(Error$1,null),React.createElement(ConfirmInfo,{needCheck:(Nt==null?void 0:Nt.accountPwd)!==1,onCheckClick:ut.onCheckClick,beforeText:ot.confirmInfoBeforeText,connectText:ot.confirmInfoConnectText}),Pt&&isSupportLocalStorage()&&React.createElement("div",{className:"web-login-account-password__remember"},React.createElement("span",{className:classnames(["web-login-account-password__remember__checkbox",{"web-login-account-password__remember__checkbox__checked":Ft}]),onClick:Qt}),React.createElement("span",{className:"web-login-account-password__remember__text"},ot.rememberPwd)),React.createElement("div",{className:"web-login-account-password__button-wrapper"},React.createElement(Button,{disabled:zt,buttonText:ot.buttonText,onClick:Wt})))};return React.createElement("article",{className:"web-login-account-password"},nt?React.createElement(CommonWrapper,null,ar()):ar())},timer,qrCodeToken="",autoFreshTimes=0,LoginScanCode=function tt(et){var rt=et.useWrap,nt=rt===void 0?!0:rt,it=reactExports.useState(""),ot=it[0],at=it[1],st=reactExports.useState(!1),lt=st[0],ct=st[1],ut=reactExports.useState({type:"",text:"",buttonText:""}),dt=ut[0],ft=ut[1],pt=reactExports.useRef(!1),mt=getTextConfig(),ht=mt.scanCodeLoginText,gt=mt.extraText,vt=function(){Ot(),document.visibilityState!=="hidden"&&Bt()},yt=getInitProps(),bt=yt.aid,xt=yt.ScanCodeDescription,$t=xt===void 0?null:xt,Tt=yt.scanCodeNeedLoge,wt=Tt===void 0?!1:Tt,At=yt.success,Rt=yt.isStopCheckWhenHide,It=Rt===void 0?!1:Rt,Lt=yt.refreshNumber,Pt=Lt===void 0?0:Lt,Nt=useRequestFunc(),Ot=function(){timer&&(clearInterval(timer),timer=null)},Bt=function(){Ot(),Nt.getQrCode({need_logo:wt}).then(function(Dt){var Ft=Dt.qrcode,Zt=Ft===void 0?"":Ft,Kt=Dt.token,ir=Kt===void 0?"":Kt;pt.current=!1,ct(!1),ft({type:"",text:"",buttonText:""}),at(wt?Zt:"data:image/jpeg;base64,"+Zt),qrCodeToken=ir,timer=setInterval(Vt,1e3)}).catch(function(Dt){ct(!0),ft({type:"failed",text:ht.getCodeFailed,buttonText:ht.codeFailedBtnText})})},zt=function(Dt){sendLog("uc_login_result",{status:"success",login_method:"qr_code",is_new_user:0,aid:bt},!0),Ot(),ct(!0),ft({type:"success",text:ht.loginSuccess,buttonText:ht.loginSuccessBtnText}),setTimeout(function(){if(At){At({redirect_url:Dt});return}else window.location.replace(Dt)},1e3)},Vt=function(){if(!qrCodeToken){Ot();return}Nt.checkQRCode({token:qrCodeToken,need_logo:wt}).then(function(Dt){var Ft=Dt.status,Zt=Dt.redirect_url,Kt=Zt===void 0?"":Zt,ir=Dt.qrcode,rr=ir===void 0?"":ir,mr=Dt.token,sr=mr===void 0?"":mr;switch(Ft){case"1":case"new":pt.current=!1,ct(!1),ft({type:"",text:"",buttonText:""});break;case"2":case"scanned":pt.current||(sendLog("uc_login_submit",{login_method:"qr_code",aid:bt}),pt.current=!0),lt||ct(!0),ft({type:"success",text:ht.scanSuccess,buttonText:ht.scanSuccessBtnText});break;case"3":case"confirmed":zt(Kt);break;case"4":pt.current=!1,ct(!1),ft({type:"",text:"",buttonText:""}),at("data:image/jpeg;base64,"+rr),qrCodeToken=sr;break;case"5":case"expired":if(qrCodeToken=sr,autoFreshTimes++,autoFreshTimes<=Pt){at("data:image/jpeg;base64,"+rr);return}ct(!0),ft({type:"refresh",text:ht.refreshCode,buttonText:ht.refreshBtnText}),Ot();break;default:Ot();break}}).catch(function(Dt){var Ft;captureUnknownError(Dt),ct(!0),ft({type:"failed",text:(Dt==null?void 0:Dt.description)||(Dt==null||(Ft=Dt.data)===null||Ft===void 0?void 0:Ft.description)||(gt==null?void 0:gt.defaultError),buttonText:ht.refreshBtnText})})},Ut=function(){["refresh","failed"].includes(dt.type)&&Bt()};reactExports.useEffect(function(){return sendLog("uc_login_notify",{aid:bt,login_suggest_method:"qr_code",url:window.location.href}),Bt(),It&&document.addEventListener("visibilitychange",vt),function(){Ot(),autoFreshTimes=0,It&&document.removeEventListener("visibilitychange",vt)}},[]);var jt=function(){return React.createElement(React.Fragment,null,React.createElement("div",{className:"web-login-scan-code__content"},React.createElement("div",{className:classnames("web-login-scan-code__content__qrcode-wrapper",{"web-login-scan-code__content__qrcode-tip":!lt})},ot&&React.createElement("img",{alt:"",src:ot,className:"web-login-scan-code__content__qrcode-wrapper__qrcode",tabIndex:0,"aria-label":ht.qrCodeLabel}),lt&&React.createElement("div",{className:"web-login-scan-code__content__qrcode-wrapper__mask",onClick:Ut},React.createElement("div",{className:"web-login-scan-code__content__qrcode-wrapper__mask__toast"},React.createElement("p",{className:classnames(["web-login-scan-code__content__qrcode-wrapper__mask__toast__icon",dt.type])},dt.buttonText),React.createElement("p",{className:classnames(["web-login-scan-code__content__qrcode-wrapper__mask__toast__text",dt.type])},dt.text)))),$t&&React.createElement($t,{qrCodeStatus:dt.type,getQRCode:Bt})))};return React.createElement("article",{className:"web-login-scan-code"},nt?React.createElement(CommonWrapper,{type:"normal"},jt()):jt())},LoginUnion=function tt(){var et=getTextConfig(),rt=et.mobileCodeLoginText.title,nt=et.accountPwdLoginText.title,it=et.scanCodeLoginText.title,ot=getInitProps(),at=ot.CustomFooter,st=reactExports.useContext(ViewContext),lt=st.viewState,ct=st.dispatchViewState,ut=st.viewOperations,dt=function(pt){ct({type:"CHANGE_PAGE",currentPage:pt})};return React.createElement("article",{className:"web-login-union"},React.createElement("div",{className:"web-login-union__login"},React.createElement("div",{className:"web-login-union__login__form"},React.createElement("div",{className:"web-login-union__login__form__title"},lt.currentPage===Pages.PAGE_LOGIN_MOBILE_CODE?rt:nt),React.createElement("div",{className:"web-login-union__login__form__content"},lt.currentPage===Pages.PAGE_LOGIN_MOBILE_CODE?React.createElement(LoginMobileCode,{useWrap:!1}):React.createElement(LoginAccountPwd,{useWrap:!1}))),React.createElement("div",{className:"web-login-union__login__scan-code"},React.createElement("div",{className:"web-login-union__login__scan-code__title"},it),React.createElement(LoginScanCode,{useWrap:!1}))),React.createElement("div",{className:"web-login-union__footer"},React.createElement(OtherLoginMethod,null),React.createElement(LinkArea,null)),at&&React.createElement(at,{changePageType:dt,currentPage:lt.currentPage,checked:lt.protocolCheck,onCheckClick:ut.onCheckClick}))},RegisterMobileCode=function tt(et){var rt=reactExports.useState(!0),nt=rt[0],it=rt[1],ot=reactExports.useState(!0),at=ot[0],st=ot[1],lt=reactExports.useRef(!1),ct=getInitProps(),ut=ct.aid,dt=ct.mobileCodeLength,ft=dt===void 0?6:dt,pt=ct.phoneSeparate,mt=pt===void 0?!1:pt,ht=ct.globalMobileSupport,gt=ht===void 0?!1:ht,vt=ct.unsetCheckbox,yt=ct.confirm,bt=getTextConfig(),xt=reactExports.useContext(ViewContext),$t=xt.viewState,Tt=xt.dispatchViewState,wt=xt.viewOperations,At=reactExports.useContext(FormContext),Rt=At.formValue,It=At.dispatchFormValue,Lt=At.formComputedValue,Pt=useBasicFunc(),Nt=Pt.withErrorEffect,Ot=Pt.loginSuccessHandler,Bt=useRequestFunc(),zt=bt.mobileCodeRegisterText,Vt=function(rr){var mr=rr.replace(/[\D]+/g,"");if(Rt.areaCode==="+86"){if(mr.length>11)return;mt&&(mr=mr.replace(phoneSeparateReg,"$1 $2 $3").trim())}It({mobile:mr})},Ut=function(rr){It({areaCode:rr})},jt=function(){return Nt(mobileFormatCheck(Rt.areaCode,Lt.realMobile))},qt=function(){return Nt(areaCodeFormatCheck(Rt.areaCode,Lt.realMobile))},Dt=function(rr){var mr=rr.replace(/[\D]+/g,"");mr.length>ft||It({code:mr})},Ft=function(){var rr=Nt(mobileFormatCheck(Rt.areaCode,Lt.realMobile));return rr?Nt(mobileCodeFormatCheck(Rt.code)):!1},Zt=function(){lt.current||nt||(lt.current=!0,sendLog("uc_login_submit",{login_method:"register_mobile",aid:ut}),Bt.mobileCodeRegister({mobile:Lt.fullMobile,code:Rt.code}).then(function(rr){lt.current=!1,sendLog("uc_login_result",{status:"success",login_method:"register_mobile",is_new_user:(rr==null?void 0:rr.is_new_user)!==void 0?rr==null?void 0:rr.is_new_user:(rr==null?void 0:rr.new_user)!==void 0?rr==null?void 0:rr.new_user:-1,aid:ut},!0),Ot(rr)}).catch(function(rr){captureUnknownError(rr),lt.current=!1,sendLog("uc_login_result",{status:"fail",login_method:"register_mobile",aid:ut,error_code:(rr==null?void 0:rr.error_code)||-1,fail_info:(rr==null?void 0:rr.description)||""}),Tt({type:"ERROR",errorMessage:rr})}))},Kt=function(){!jt()||$t.counting||Bt.registerSendCode({mobile:Lt.fullMobile}).then(function(rr){sendLog("uc_send_sms",{login_method:"register_mobile",send_method:at?"user_click":"resend",status:"success",aid:ut}),st(!1),Tt({type:"ERROR",errorMessage:""});var mr=rr==null?void 0:rr.retry_time;Tt({type:"COUNT",seconds:mr})}).catch(function(rr){captureUnknownError(rr),sendLog("uc_send_sms",{login_method:"register_mobile",send_method:at?"user_click":"resend",status:"fail",error_code:(rr==null?void 0:rr.error_code)||-1,fail_info:(rr==null?void 0:rr.description)||"",aid:ut}),st(!1),Tt({type:"ERROR",errorMessage:rr})})};return reactExports.useEffect(function(){var ir=mobileFormatCheck(Rt.areaCode,Lt.realMobile),rr=ir.result,mr=mobileCodeFormatCheck(Rt.code),sr=mr.result;if(rr&&sr&&($t.protocolCheck||(vt==null?void 0:vt.registerMobileCode)===1||(yt==null?void 0:yt.length)===0)){it(!1);return}it(!0)},[Rt.areaCode,Lt.realMobile,Rt.code,$t.protocolCheck]),reactExports.useEffect(function(){sendLog("uc_login_notify",{aid:ut,login_suggest_method:"register_mobile",url:window.location.href})},[]),React.createElement("article",{className:"web-login-mobile-code-register"},React.createElement(CommonWrapper,null,React.createElement("div",{className:"web-login-mobile-code-register__mobile-input-wrapper"},React.createElement(NormalInput,{type:"tel",onBlur:jt,onChange:Vt,value:Rt.mobile,showAreaCode:gt,onAreaCodeBlur:qt,onAreaCodeChange:Ut,areaCodeValue:Rt.areaCode,placeholder:zt.mobilePlaceholder,autoComplete:"off",inputLabel:zt.mobileLabel})),React.createElement("div",{className:"web-login-mobile-code-register__code-input-wrapper"},React.createElement(ButtonInput,{type:"tel",buttonType:"send",onClick:Kt,onChange:Dt,onBlur:Ft,value:Rt.code,placeholder:zt.codePlaceholder,buttonText:zt.sendCode,sendingText:zt.sending,inputLabel:zt.codeLabel})),React.createElement(Error$1,null),React.createElement(ConfirmInfo,{needCheck:(vt==null?void 0:vt.registerMobileCode)!==1,onCheckClick:wt.onCheckClick,beforeText:zt.confirmInfoBeforeText,connectText:zt.confirmInfoConnectText}),React.createElement("div",{className:"web-login-mobile-code-register__button-wrapper"},React.createElement(Button,{disabled:nt,buttonText:zt.buttonText,onClick:Zt}))))},RegisterEmail=function tt(et){var rt=reactExports.useState(!0),nt=rt[0],it=rt[1],ot=reactExports.useState(!0),at=ot[0],st=ot[1],lt=reactExports.useRef(!1),ct=getInitProps(),ut=ct.aid,dt=ct.passwordMaxLength,ft=dt===void 0?20:dt,pt=ct.unsetCheckbox,mt=ct.confirm,ht=ct.requestExtraParams,gt=getTextConfig(),vt=gt.emailRegisterText,yt=reactExports.useContext(ViewContext),bt=yt.viewState,xt=yt.dispatchViewState,$t=yt.viewOperations,Tt=reactExports.useContext(FormContext),wt=Tt.formValue,At=Tt.dispatchFormValue,Rt=useBasicFunc(),It=Rt.withErrorEffect,Lt=Rt.loginSuccessHandler,Pt=useRequestFunc(),Nt=function(Kt){At({email:Kt})},Ot=function(){return It(emailFormatCheck(wt.email))},Bt=function(Kt){Kt=Kt.replace(/[\u4e00-\u9fa5]/g,""),At({newPassword:Kt})},zt=function(){return Ot()?It(passwordFormatCheck(wt.newPassword)):!1},Vt=function(){return zt()?It(passwordConfirmCheck(wt.newPassword,wt.confirmPassword)):!1},Ut=function(Kt){Kt=Kt.replace(/[\u4e00-\u9fa5]/g,""),At({confirmPassword:Kt})},jt=function(Kt){At({code:Kt})},qt=function(){return Vt()?It(emailFormatCheck(wt.email)):!1},Dt=function(){at||lt.current||(lt.current=!0,Pt.emailRegister({email:wt.email,code:wt.code,password:wt.newPassword,extra_params:ht==null?void 0:ht.registerEmail}).then(function(Kt){lt.current=!1,sendLog("uc_login_result",{status:"success",login_method:"register_email",is_new_user:1,aid:ut},!0),Lt(Kt)}).catch(function(Kt){captureUnknownError(Kt),lt.current=!1,sendLog("uc_login_result",{status:"fail",login_method:"register_email",aid:ut,error_code:(Kt==null?void 0:Kt.error_code)||-1,fail_info:(Kt==null?void 0:Kt.description)||""}),xt({type:"ERROR",errorMessage:Kt})}))},Ft=function(){!Vt()||bt.counting||Pt.emailRegisterSendCode({email:wt.email,password:wt.newPassword,extra_params:ht==null?void 0:ht.registerEmail}).then(function(Kt){sendLog("uc_send_sms",{login_method:"register_email",send_method:nt?"user_click":"resend",status:"success",aid:ut}),it(!1),xt({type:"ERROR",errorMessage:""});var ir=Kt==null?void 0:Kt.retry_time;xt({type:"COUNT",seconds:ir})}).catch(function(Kt){captureUnknownError(Kt),sendLog("uc_send_sms",{login_method:"register_email",send_method:nt?"user_click":"resend",status:"fail",error_code:(Kt==null?void 0:Kt.error_code)||-1,fail_info:(Kt==null?void 0:Kt.description)||"",aid:ut}),it(!1),xt({type:"ERROR",errorMessage:Kt})})};return reactExports.useEffect(function(){if(emailFormatCheck(wt.email).result&&passwordFormatCheck(wt.newPassword).result&&passwordConfirmCheck(wt.newPassword,wt.confirmPassword).result&&wt.code&&(bt.protocolCheck||(pt==null?void 0:pt.registerEmail)===1||(mt==null?void 0:mt.length)===0)){st(!1);return}st(!0)},[wt.email,wt.newPassword,wt.confirmPassword,wt.code,bt.protocolCheck]),reactExports.useEffect(function(){sendLog("uc_login_notify",{aid:ut,login_suggest_method:"register_email",url:window.location.href})},[]),React.createElement("article",{className:"web-login-email-register"},React.createElement(CommonWrapper,null,React.createElement("div",{className:"web-login-email-register__email-input-wrapper"},React.createElement(NormalInput,{type:"email",onBlur:Ot,onChange:Nt,value:wt.email,showAreaCode:!1,placeholder:vt.accountPlaceholder,autoComplete:"off",inputLabel:vt.accountLabel})),React.createElement("div",{className:"web-login-email-register__new-password-input-wrapper"},React.createElement(NormalInput,{type:"password",onBlur:zt,onChange:Bt,value:wt.newPassword,showAreaCode:!1,placeholder:vt.newPwdPlaceholder,autoComplete:"off",maxLength:ft,inputLabel:vt.newPwdLabel})),React.createElement("div",{className:"web-login-email-register__confirm-password-input-wrapper"},React.createElement(NormalInput,{type:"password",onBlur:Vt,onChange:Ut,value:wt.confirmPassword,showAreaCode:!1,placeholder:vt.confirmPwdPlaceholder,autoComplete:"off",maxLength:ft,inputLabel:vt.confirmPwdLabel})),React.createElement("div",{className:"web-login-email-register__code-input-wrapper"},React.createElement(ButtonInput,{type:"text",buttonType:"send",onClick:Ft,onChange:jt,onBlur:qt,value:wt.code,placeholder:vt.codePlaceholder,buttonText:vt.sendCode,sendingText:vt.sending,inputLabel:vt.codeLabel})),React.createElement(Error$1,null),React.createElement(ConfirmInfo,{needCheck:(pt==null?void 0:pt.registerEmail)!==1,onCheckClick:$t.onCheckClick,beforeText:vt.confirmInfoBeforeText,connectText:vt.confirmInfoConnectText}),React.createElement("div",{className:"web-login-email-register__button-wrapper"},React.createElement(Button,{disabled:at,buttonText:vt.buttonText,onClick:Dt}))))},isIphone$1=iBrowser.iPhone,PasswordReset=function tt(et){var rt=getInitProps(),nt=rt.aid,it=rt.mobileCodeLength,ot=it===void 0?6:it,at=rt.phoneSeparate,st=at===void 0?!1:at,lt=rt.passwordMaxLength,ct=lt===void 0?20:lt,ut=rt.isMobileAccountOnly,dt=ut===void 0?!1:ut,ft=rt.initialAreaCodeState,pt=getTextConfig(),mt=pt.passwordResetText,ht=reactExports.useContext(ViewContext),gt=ht.viewState,vt=ht.dispatchViewState,yt=reactExports.useContext(FormContext),bt=yt.formValue,xt=yt.dispatchFormValue,$t=yt.formComputedValue,Tt=reactExports.useState(ft),wt=Tt[0],At=Tt[1],Rt=reactExports.useState(!0),It=Rt[0],Lt=Rt[1],Pt=reactExports.useState(!0),Nt=Pt[0],Ot=Pt[1],Bt=reactExports.useState(!1),zt=Bt[0],Vt=Bt[1],Ut=reactExports.useRef(!1),jt=useBasicFunc(),qt=jt.withErrorEffect,Dt=useRequestFunc(),Ft=function(Wt){if(isIphone$1){/^\d*$/.test(Wt)?At(ft):At(!1),xt({account:Wt});return}if(dt){var nr=Wt.replace(/[\D]+/g,"");xt({account:nr});return}if(/^[\d\s]*$/.test(Wt)){var Jt=Wt.replace(/[\D]+/g,"");if(bt.areaCode==="+86"){if(Jt.length>11)return;st&&(Jt=Jt.replace(phoneSeparateReg,"$1 $2 $3").trim())}At(ft),xt({account:Jt})}else{var Qt=Wt.replace(/\s/g,"");At(!1),xt({account:Qt})}},Zt=function(){return qt(accountFormatCheck($t.realAccount,bt.areaCode,$t.isAccountEmail))},Kt=function(){return qt(areaCodeFormatCheck(bt.areaCode,$t.realAccount))},ir=function(Wt){xt({areaCode:Wt})},rr=function(Wt){Wt=Wt.replace(/[\u4e00-\u9fa5]/g,""),xt({newPassword:Wt})},mr=function(){return Zt()?qt(passwordFormatCheck(bt.newPassword)):!1},sr=function(){return mr()?qt(passwordConfirmCheck(bt.newPassword,bt.confirmPassword)):!1},fr=function(Wt){Wt=Wt.replace(/[\u4e00-\u9fa5]/g,""),xt({confirmPassword:Wt})},pr=function(Wt){if($t.isAccountEmail){xt({code:Wt});return}var nr=Wt.replace(/[\D]+/g,"");nr.length>ot||xt({code:nr})},vr=function(){return sr()?$t.isAccountEmail?!0:qt(mobileCodeFormatCheck(bt.code)):!1},dr=function(){It||Ut.current||(Ut.current=!0,sendLog("uc_forget_password_submit",{aid:nt}),Dt.resetPassword({isEmail:$t.isAccountEmail,requestParams:{account:$t.fullAccount,password:bt.newPassword,code:bt.code}}).then(function(Wt){Ut.current=!1,sendLog("uc_forget_password_result",{status:"success",aid:nt}),Vt(!0),setTimeout(function(){vt({type:"CHANGE_PAGE",currentPage:Pages.PAGE_LOGIN_ACCOUNT_PWD})},1e3)}).catch(function(Wt){captureUnknownError(Wt),Ut.current=!1,sendLog("uc_forget_password_result",{status:"fail",error_code:(Wt==null?void 0:Wt.error_code)||-1,fail_info:(Wt==null?void 0:Wt.description)||"",aid:nt}),vt({type:"ERROR",errorMessage:Wt})}))},xr=function(){!sr()||gt.counting||Dt.resetSendCode({isEmail:$t.isAccountEmail,requestParams:{account:$t.fullAccount}}).then(function(Wt){sendLog("uc_send_sms",{login_method:"pwd_reset",send_method:Nt?"user_click":"resend",status:"success",aid:nt}),Ot(!1),vt({type:"ERROR",errorMessage:""});var nr=Wt==null?void 0:Wt.retry_time;vt({type:"COUNT",seconds:nr})}).catch(function(Wt){captureUnknownError(Wt),sendLog("uc_send_sms",{login_method:"pwd_reset",send_method:Nt?"user_click":"resend",status:"fail",error_code:(Wt==null?void 0:Wt.error_code)||-1,fail_info:(Wt==null?void 0:Wt.description)||"",aid:nt}),Ot(!1),vt({type:"ERROR",errorMessage:Wt})})};return reactExports.useEffect(function(){sendLog("uc_forget_password_notify",{aid:nt,url:window.location.href})},[]),reactExports.useEffect(function(){if(accountFormatCheck($t.realAccount,bt.areaCode,$t.isAccountEmail).result&&passwordFormatCheck(bt.newPassword).result&&passwordConfirmCheck(bt.newPassword,bt.confirmPassword).result&&($t.isAccountEmail||mobileCodeFormatCheck(bt.code).result)){Lt(!1);return}Lt(!0)},[$t.realAccount,bt.areaCode,bt.newPassword,bt.confirmPassword,bt.code,$t.isAccountEmail]),React.createElement("article",{className:"web-login-password-reset"},React.createElement(CommonWrapper,null,React.createElement("div",{className:"web-login-password-reset__account-input-wrapper"},React.createElement(NormalInput,{type:"text",onBlur:Zt,onChange:Ft,value:bt.account,showAreaCode:wt,onAreaCodeBlur:Kt,onAreaCodeChange:ir,areaCodeValue:bt.areaCode,placeholder:mt.accountPlaceholder,autoComplete:"username",inputLabel:mt.accountLabel})),React.createElement("div",{className:"web-login-password-reset__new-password-input-wrapper"},React.createElement(NormalInput,{type:"password",onBlur:mr,onChange:rr,value:bt.newPassword,showAreaCode:!1,maxLength:ct,placeholder:mt.newPwdPlaceholder,autoComplete:"off",inputLabel:mt.newPwdLabel})),React.createElement("div",{className:"web-login-password-reset__confirm-password-input-wrapper"},React.createElement(NormalInput,{type:"password",onBlur:sr,onChange:fr,value:bt.confirmPassword,showAreaCode:!1,maxLength:ct,placeholder:mt.confirmPwdPlaceholder,autoComplete:"off",inputLabel:mt.confirmPwdLabel})),React.createElement("div",{className:"web-login-password-reset__code-input-wrapper"},React.createElement(ButtonInput,{type:"text",buttonType:"send",onClick:xr,onChange:pr,onBlur:vr,value:bt.code,placeholder:mt.codePlaceholder,buttonText:mt.sendCode,sendingText:mt.sending,inputLabel:mt.codeLabel})),React.createElement(Error$1,null),React.createElement("div",{className:"web-login-password-reset__button-wrapper"},React.createElement(Button,{disabled:It,buttonText:mt.buttonText,onClick:dr}))),zt&&React.createElement("div",{className:"web-login-password-reset__toast"},React.createElement("i",{className:"web-login-password-reset__toast__icon"}),React.createElement("p",{className:"web-login-password-reset__toast__text"},mt.successText)))},ConflictNormal=function tt(et){var rt=et.conflictInfo,nt=et.continueLogin,it=et.backToLogin,ot=getTextConfig(),at=ot.bindConflictText,st=function(){return!rt||!at.description?"":at.description.replace("{current_name}",rt.screen_name).replace("{aweme_current_name}",rt.platform_screen_name_conflict).replace("{aweme_conflict_name}",rt.platform_screen_name_current)};return React.createElement("article",{className:"web-login-conflict-normal"},React.createElement("div",{className:"web-login-conflict-normal__main"},React.createElement("p",{className:"web-login-conflict-normal__title"},at.title),React.createElement("p",{className:"web-login-conflict-normal__desc"},st()),React.createElement("div",{className:"web-login-conflict-normal__show"},React.createElement("div",{className:"web-login-conflict-normal__show__wrap"},React.createElement("ul",{className:"web-login-conflict-normal__show__arrow-list"},React.createElement("li",{className:"web-login-conflict-normal__show__arrow-list__item bind"},React.createElement("span",{className:"item-text"},at.bindText),React.createElement("i",{className:"item-icon-arrow"})),React.createElement("li",{className:"web-login-conflict-normal__show__arrow-list__item unbind"},React.createElement("span",{className:"item-text"},at.unbindText),React.createElement("i",{className:"item-icon-arrow"}),React.createElement("i",{className:"item-icon-error"}))),React.createElement("ul",{className:"web-login-conflict-normal__show__account-list"},React.createElement("li",{className:"web-login-conflict-normal__show__account-list__item"},React.createElement("div",{className:"item-avatar-wrapper"},React.createElement("div",{className:"item-avatar"},React.createElement("img",{src:rt.platform_avatar_conflict,alt:""})),React.createElement("i",{className:"icon-app aweme"})),React.createElement("span",{className:"item-nickname"},rt.platform_screen_name_conflict)),React.createElement("li",{className:"web-login-conflict-normal__show__account-list__item"},React.createElement("div",{className:"item-avatar-wrapper"},React.createElement("div",{className:"item-avatar"},React.createElement("img",{src:rt.avatar_url,alt:""})),React.createElement("i",{className:"icon-app current-app"})),React.createElement("span",{className:"item-nickname"},rt.screen_name)),React.createElement("li",{className:"web-login-conflict-normal__show__account-list__item"},React.createElement("div",{className:"item-avatar-wrapper"},React.createElement("div",{className:"item-avatar"},React.createElement("img",{src:rt.platform_avatar_current,alt:""})),React.createElement("i",{className:"icon-app aweme"})),React.createElement("span",{className:"item-nickname"},rt.platform_screen_name_current))))),React.createElement("div",{className:"web-login-conflict-normal__button-wrapper"},React.createElement(Button,{buttonText:at.loginBtnText,onClick:nt}))),React.createElement("div",{className:"web-login-conflict-normal__footer"},React.createElement("span",{onClick:it,className:"web-login-conflict-normal__footer__text"},at.backToLogin)))},ConflictCreateAccount=function tt(et){var rt=et.conflictInfo,nt=et.continueLogin,it=et.backToLogin,ot=et.createNewAccount,at=getTextConfig(),st=at.bindConflictText,lt=function(ft){return!rt||!ft?"":ft.replace("{current_name}",rt.screen_name).replace("{aweme_current_name}",rt.platform_screen_name_conflict).replace("{aweme_conflict_name}",rt.platform_screen_name_current)},ct=function(ft,pt,mt,ht){return React.createElement("div",{className:"web-login-conflict-create__main__header"},React.createElement("div",{className:"web-login-conflict-create__main__header__text"},React.createElement("p",{className:"title"},ft),React.createElement("p",{className:"description"},lt(pt))),React.createElement("div",{className:"web-login-conflict-create__main__header__button",onClick:ht},mt))},ut=function(ft,pt,mt,ht,gt,vt){return React.createElement("div",{className:"web-login-conflict-create__main__diagram__item "+(vt||"")},React.createElement("div",{className:"item-avatar-wrapper"},React.createElement("div",{className:"item-avatar"},React.createElement("img",{src:ft,alt:""})),React.createElement("i",{className:"icon-app "+pt})),React.createElement("div",null,React.createElement("p",{className:"item-nickname"},mt),ht&&React.createElement("p",{className:"item-mobile"},ht),gt&&React.createElement("p",{className:"item-desc"},gt)))};return React.createElement("article",{className:"web-login-conflict-create"},st.title&&React.createElement("p",{className:"web-login-conflict-create__title"},st.title),React.createElement("p",{className:"web-login-conflict-create__desc"},lt(st.description)),React.createElement("div",{className:"web-login-conflict-create__main"},React.createElement("div",{className:"web-login-conflict-create__main__login"},ct(st.loginTitle,st.loginDescription,st.loginBtnText,nt),React.createElement("div",{className:"web-login-conflict-create__main__diagram"},React.createElement("div",null,ut(rt.avatar_url,"current-app",rt.screen_name,rt.mobile,"")),React.createElement("div",{className:"web-login-conflict-create__main__diagram__arrow"},React.createElement("p",{className:"item-text bind"},st.bindText),React.createElement("p",{className:"item-text unbind"},st.unbindText)),React.createElement("div",null,ut(rt.platform_avatar_conflict,"aweme",rt.platform_screen_name_conflict,rt.mobile,st.loginAwemeDesc,"current-aweme-login-account"),ut(rt.platform_avatar_current,"aweme",rt.platform_screen_name_current,"",st.bindAwemeDesc,"current-aweme-bind-account")))),React.createElement("div",{className:"web-login-conflict-create__main__create"},ct(st.createTitle,st.createDescription,st.createBtnText,ot))),React.createElement("div",{className:"web-login-conflict-create__footer"},React.createElement("span",{onClick:it,className:"web-login-conflict-create__footer__text"},st.backToLogin)))},AwemeBindConflict=function tt(){var et=reactExports.useRef(!1),rt=getInitProps(),nt=rt.aid,it=rt.bindConflictType,ot=rt.BindConflictComponent,at=rt.otherMethod,st=reactExports.useContext(ViewContext),lt=st.viewState,ct=st.dispatchViewState,ut=useBasicFunc(),dt=ut.loginSuccessHandler,ft=useRequestFunc(),pt=function(){var yt;if(!et.current){et.current=!0;var bt=at==null||(yt=at.find(function(Tt){return Tt.key==="aweme"}))===null||yt===void 0?void 0:yt.authConfig,xt=lt.conflictInfo,$t=getQuery();sendLog("uc_douyin_auth_conflict_submit",{is_change_bind:"continue_login",aid:nt}),ft.checkAwemeLogin({code:$t.code,platformAppId:bt.platformAppId,changeBind:1,profileKey:xt.profile_key}).then(function(Tt){sendLog("uc_douyin_auth_conflict_result",{status:"success",is_change_bind:"continue_login",aid:nt}),et.current=!1,setAwemeUsedCode($t.code),dt(Tt)}).catch(function(Tt){captureUnknownError(Tt),et.current=!1,sendLog("uc_douyin_auth_conflict_result",{status:"fail",is_change_bind:"continue_login",error_code:(Tt==null?void 0:Tt.error_code)||-1,fail_info:(Tt==null?void 0:Tt.description)||"",aid:nt}),ct({type:"ERROR",errorMessage:Tt})})}},mt=function(){var yt;if(!et.current){et.current=!0;var bt=at==null||(yt=at.find(function(Tt){return Tt.key==="aweme"}))===null||yt===void 0?void 0:yt.authConfig,xt=lt.conflictInfo,$t=getQuery();sendLog("uc_douyin_auth_conflict_submit",{is_change_bind:"create_account",aid:nt}),ft.authLogin({code:$t.code,platformAppId:bt.platformAppId,profileKey:xt.profile_key}).then(function(Tt){sendLog("uc_douyin_auth_conflict_result",{status:"success",is_change_bind:"create_account",aid:nt}),et.current=!1,setAwemeUsedCode($t.code),dt(Tt)}).catch(function(Tt){captureUnknownError(Tt),et.current=!1,sendLog("uc_douyin_auth_conflict_result",{status:"fail",is_change_bind:"create_account",error_code:(Tt==null?void 0:Tt.error_code)||-1,fail_info:(Tt==null?void 0:Tt.description)||"",aid:nt}),ct({type:"ERROR",errorMessage:Tt})})}},ht=function(){sendLog("uc_douyin_auth_conflict_submit",{is_change_bind:"back",aid:nt}),ct({type:"CHANGE_PAGE",currentPage:Pages.PAGE_LOGIN_MOBILE_CODE})},gt=function(){var yt=lt.conflictInfo;return yt?it==="customize"&&ot?React.createElement(ot,{conflictInfo:yt,continueLogin:pt,backToLogin:ht}):it==="create_account"?React.createElement(ConflictCreateAccount,{conflictInfo:yt,continueLogin:pt,backToLogin:ht,createNewAccount:mt}):React.createElement(ConflictNormal,{conflictInfo:yt,continueLogin:pt,backToLogin:ht}):null};return reactExports.useEffect(function(){sendLog("uc_douyin_auth_conflict_notify",{aid:nt,url:window.location.href})},[]),React.createElement("article",{className:"web-login-conflict"},gt())},intervalTimer,PageIndex=function tt(){var et=getInitProps(),rt=et.aid,nt=et.indexPage,it=et.loginType,ot=et.otherMethod,at=et.unionLoginPanel,st=at===void 0?!1:at,lt=et.onPageChange,ct=et.onAuthLogin,ut=et.isUsernameAccountOnly,dt=ut===void 0?!1:ut,ft=getTextConfig(),pt=useRequestFunc(),mt=reactExports.useReducer(viewStateReducer,{showLoading:!1,currentPage:nt||(it==null?void 0:it[0])||Pages.PAGE_LOGIN_MOBILE_CODE,prevPage:"",counting:!1,seconds:DEFAULT_COUNT_DOWN,errorMessage:"",protocolCheck:!1}),ht=mt[0],gt=mt[1],vt=reactExports.useReducer(formValueReducer,{areaCode:"+86",mobile:"",email:"",code:"",account:"",password:"",newPassword:"",confirmPassword:""}),yt=vt[0],bt=vt[1],xt=reactExports.useMemo(function(){return[Pages.PAGE_LOGIN_ACCOUNT_PWD,Pages.PAGE_LOGIN_MOBILE_CODE,Pages.PAGE_LOGIN_SCAN_CODE].includes(ht.currentPage)?"login":[Pages.PAGE_REGISTER_MOBILE_CODE,Pages.PAGE_REGISTER_EMAIL].includes(ht.currentPage)?"register":""},[ht.currentPage]),$t=reactExports.useMemo(function(){return yt.mobile.replace(/\s/g,"")},[yt.mobile]),Tt=reactExports.useMemo(function(){return yt.account.replace(/\s/g,"")},[yt.account]),wt=reactExports.useMemo(function(){return yt.areaCode+" "+$t},[yt.areaCode,$t]),At=reactExports.useMemo(function(){return!/^\d*$/.test(Tt)},[Tt]),Rt=reactExports.useMemo(function(){return dt||At?Tt:yt.areaCode+" "+Tt},[At,Tt,yt.areaCode]),It=function(Ot){gt({type:"PROTOCOL",protocolCheck:Ot})},Lt=function(){switch(ht.currentPage){case Pages.PAGE_LOGIN_MOBILE_CODE:return st?React.createElement(LoginUnion,null):React.createElement(LoginMobileCode,null);case Pages.PAGE_LOGIN_ACCOUNT_PWD:return st?React.createElement(LoginUnion,null):React.createElement(LoginAccountPwd,null);case Pages.PAGE_LOGIN_SCAN_CODE:return st?React.createElement(LoginUnion,null):React.createElement(LoginScanCode,null);case Pages.PAGE_REGISTER_MOBILE_CODE:return React.createElement(RegisterMobileCode,null);case Pages.PAGE_REGISTER_EMAIL:return React.createElement(RegisterEmail,null);case Pages.PAGE_PASSWORD_RESET:return React.createElement(PasswordReset,null);case Pages.PAGE_AWEME_BIND_CONFLICT:return React.createElement(AwemeBindConflict,null);default:return React.createElement(LoginMobileCode,null)}},Pt=function(){var Ot;ct==null||ct("start");var Bt=getQuery(),zt=ot==null||(Ot=ot.find(function(Vt){return Vt.key==="aweme"}))===null||Ot===void 0?void 0:Ot.authConfig;if(!Bt.from_aweme||!Bt.code||!zt||checkAwemeUsedCode(Bt.code)){ct==null||ct("invalid");return}gt({type:"LOADING",showLoading:!0}),pt.checkAwemeLogin(_extends({},zt,{code:Bt.code})).then(function(Vt){sendLog("uc_login_result",{status:"success",login_method:"douyin",is_new_user:(Vt==null?void 0:Vt.is_new_user)!==void 0?Vt==null?void 0:Vt.is_new_user:(Vt==null?void 0:Vt.new_user)!==void 0?Vt==null?void 0:Vt.new_user:-1,aid:rt},!0),ct==null||ct("success"),window.location.replace(Vt.redirect_url),setAwemeUsedCode(Bt.code)}).catch(function(Vt){if(captureUnknownError(Vt),sendLog("uc_login_result",{status:"fail",login_method:"douyin",aid:rt,error_code:(Vt==null?void 0:Vt.error_code)||-1,fail_info:(Vt==null?void 0:Vt.description)||""}),Vt.error_code==1041){gt({type:"CHANGE_PAGE",currentPage:Pages.PAGE_AWEME_BIND_CONFLICT,conflictInfo:Vt}),gt({type:"LOADING",showLoading:!1});return}ct==null||ct("error"),window.alert((Vt==null?void 0:Vt.description)||ft.extraText.defaultError),gt({type:"LOADING",showLoading:!1})})};return reactExports.useEffect(function(){ht.counting?(intervalTimer&&clearInterval(intervalTimer),intervalTimer=setInterval(function(){gt({type:"COUNT"})},1e3)):intervalTimer&&clearInterval(intervalTimer)},[ht.counting]),reactExports.useEffect(function(){lt==null||lt(ht.currentPage),gt({type:"STOP_COUNT"}),gt({type:"ERROR",errorMessage:""}),bt({type:"RESET"})},[ht.currentPage]),reactExports.useEffect(function(){return Pt(),function(){intervalTimer&&clearInterval(intervalTimer),sendLog("uc_login_exit",{aid:rt})}},[]),React.createElement(ViewContext.Provider,{value:{viewState:ht,dispatchViewState:gt,viewComputedValue:{currentState:xt},viewOperations:{onCheckClick:It}}},React.createElement(FormContext.Provider,{value:{formValue:yt,dispatchFormValue:bt,formComputedValue:{realMobile:$t,realAccount:Tt,fullMobile:wt,fullAccount:Rt,isAccountEmail:At}}},React.createElement("div",{className:"web-login-container"},React.createElement("article",{className:"web-login"},Lt()),ht.showLoading&&React.createElement(Loading,null))))},WebLoginSDK=function tt(et){var rt=this;this.checkAwemeLogin=function(){var nt=getQuery();nt.from_aweme&&nt.code&&!checkAwemeUsedCode(nt.code)&&rt.init()},this.checkLogin=function(){return rt.accountSDK.request.login.checkLogin({service:rt.initProps.next})},this.logout=function(){var nt=rt.initProps,it=nt.scene,ot=it===void 0?"normal":it,at=nt.next;return rt.accountSDK.type==="sso"?rt.accountSDK.request.login.logout({service:at}):ot==="aff"?rt.accountSDK.request.affLogin.logout({next:at}):rt.accountSDK.request.login.logout({next:at})},this.setTeaConfig=function(nt){nt===void 0&&(nt={}),setTeaConfig(nt)},this.init=function(nt){var it=rt.initProps,ot=it.ele,at=it.LoginComponent,st=nt||ot;if(!st)throw new Error("[web-login-sdk]: Must provide options.ele");var lt=getRequestFunc(rt.initProps);at?ReactDOM.render(React.createElement(at,{requestFuncs:lt}),st):(initTextConfig(rt.initProps),setInitProps(rt.initProps),ReactDOM.render(React.createElement(ErrorBoundary$1,null,React.createElement(PageIndex,null)),st));var ct=function(){ReactDOM.unmountComponentAtNode(st)};return ct},this.initProps=et,this.accountSDK=initAccountSDK(et),ITea.initTea(et.teaConfig||{appId:et.aid}),ISlardar.initSlardar(et.aid,{context:_extends({},et==null?void 0:et.slardarContext)}),this.checkAwemeLogin()};const style="",{privacyURL,serverURL}=getProjectsSSOSettings();class SSO{constructor(et){wn(this,"webLoginSDK");getSSOSettings(),this.webLoginSDK=new WebLoginSDK({scope:"sso",loginType:["LOGIN_MOBILE_CODE","LOGIN_ACCOUNT_PWD"],confirm:[{text:"服务协议",url:serverURL},{text:"隐私条款",url:privacyURL}],...et,...getSSOSettings()})}}new SSO({});let ssoLogin;const setSSOLogin=tt=>{ssoLogin=tt},index$3="",LOGO_BG="/assets/bg_logo-9942c593.png",Login=()=>{const tt=reactExports.useRef(),et=useAppDispatch(),rt=useAppSelector(getLocale),nt={zhCN:"zh",en:"en"};return reactExports.useLayoutEffect(()=>{if(tt.current){const{webLoginSDK:it}=new SSO({region:nt[rt],ele:tt.current,success:async ot=>{ot.error_code===0&&ot.redirect_url?(et(setIsLogin(!0)),window.location=ot.redirect_url):it.init()}});it.init(),setSSOLogin(it)}}),jsxs(Wrapper$1,{children:[jsx("img",{src:LOGO_BG,width:320,height:200}),jsx("div",{style:{marginTop:40},ref:tt})]})},Wrapper$1=styled$1(Box$2)`
  width: 100%;
  height: 100vh;
  box-sizing: border-box;
  display: flex;
  flex-direction: column;
  justify-content: start;
  align-items: center;
  padding-top: 80px;
`,searchRoute=(tt,et=[])=>{let rt={};for(let nt of et){if(nt.path===tt)return nt;if(nt.children){const it=searchRoute(tt,nt.children);Object.keys(it).length&&(rt=it)}}return rt},axiosCanceler=new AxiosCanceler,AuthRouter=tt=>{var lt;const{pathname:et}=useLocation(),rt=searchRoute(et,rootRouter),nt=useAppSelector(getIsLogin),it=useAppDispatch(),ot=useNavigate();axiosCanceler.removeAllPending();const{_data:at,run:st}=useBaseRequest(get_user_info,{manual:!0,onSuccess:ct=>{ct&&it(setUserInfo(ct))},onError:()=>{it(logoutAction()),ot(PageEnum.BASE_LOGIN)}});return reactExports.useEffect(()=>{(async()=>{if(et!==PageEnum.BASE_LOGIN)if(nt)await st();else return it(logoutAction()),ot(PageEnum.BASE_LOGIN),jsx(Navigate,{to:"/login",state:{form:"1234"}})})()},[]),(lt=rt.meta)!=null&&lt.requiresAuth,tt.children},metaRouters=Object.assign({"./modules/edit.tsx":__vite_glob_0_0,"./modules/home.tsx":__vite_glob_0_1}),routerArray=[];Object.keys(metaRouters).forEach(tt=>{Object.keys(metaRouters[tt]).forEach(et=>{routerArray.push(...metaRouters[tt][et])})});const resetRoute=()=>jsx(Navigate,{to:"/"}),rootRouter=[{path:"/login",element:jsx(Login,{}),index:!0,meta:{requiresAuth:!1,title:"登录页",key:"login"}},...routerArray,{path:"*",element:resetRoute()}],Router=()=>useRoutes(rootRouter),SetRoutes=()=>jsx(BrowserRouter,{children:jsx(AuthRouter,{children:jsx(Router,{})})}),enUS={},zhCN={components:{MuiBreadcrumbs:{defaultProps:{expandText:"展开"}},MuiTablePagination:{defaultProps:{getItemAriaLabel:tt=>tt==="first"?"第一页":tt==="last"?"最后一页":tt==="next"?"下一页":"上一页",labelRowsPerPage:"每页行数:",labelDisplayedRows:({from:tt,to:et,count:rt})=>`第 ${tt} 条到第 ${et} 条，${rt!==-1?`共 ${rt} 条`:`至少 ${et} 条`}`}},MuiRating:{defaultProps:{getLabelText:tt=>`${tt} 颗星`,emptyLabelText:"无标签"}},MuiAutocomplete:{defaultProps:{clearText:"清空",closeText:"关闭",loadingText:"加载中……",noOptionsText:"没有可用选项",openText:"打开"}},MuiAlert:{defaultProps:{closeText:"关闭"}}}},ThemeProvider=({children:tt})=>{const et=useAppSelector(getLocale);return jsxs(ThemeProvider$1,{theme:createThemeHelper("dark",{zhCN,en:enUS}[et]),children:[jsx(CssBaseline,{}),tt]})},createThemeHelper=(tt,et)=>createTheme({components:{MuiButtonBase:{defaultProps:{disableRipple:!0}},MuiCssBaseline:{styleOverrides:nt=>({body:nt.palette.mode==="dark"?darkScrollbar():null})}},palette:{mode:tt,background:{default:tt==="dark"?"#262d38;":"#f0f0f0"},primary:{main:"#2196f3",dark:"#1769aa",light:"#4dabf5",contrastText:"rgba(255,255,255,0.9)"},error:{main:"#ff1744",light:"#ff4569",dark:"#b2102f"},warning:{main:"#ff9100"},success:{main:"#00e676"},secondary:{main:"#d500f9"}}},et),NoticeProvider=tt=>{const et=reactExports.useRef({}),rt=nt=>()=>{var it;(it=et.current)==null||it.closeSnackbar(nt)};return jsx(SnackbarProvider,{ref:et,action:nt=>jsx(default_1$e,{onClick:rt(nt)}),children:tt.children})},FullPageErrorCallBack=({error:tt})=>{const et=()=>{location.reload()};return jsxs(FullPage,{children:[jsxs(Alert$1,{severity:"error",children:[jsx(AlertTitle$1,{children:"Error"}),jsx("strong",{children:tt==null?void 0:tt.message})]}),jsx(Button$2,{sx:{mt:1},variant:"contained",onClick:et,children:"刷新页面"})]})},FullPage=createStyled$1("div",{target:"e1qqj1os0"})({name:"s1n8ed",styles:"height:100vh"});class ErrorBoundary extends reactExports.Component{constructor(){super(...arguments);wn(this,"state",{error:null});wn(this,"onError",rt=>{this.setState({error:rt.error})})}componentDidMount(){window.addEventListener("error",this.onError,!0)}componentWillUnmount(){window.removeEventListener("error",this.onError,!0)}static getDerivedStateFromError(rt){return{error:rt}}render(){const{error:rt}=this.state,{children:nt}=this.props;return rt?jsx(FullPageErrorCallBack,{error:rt}):nt}}let dialog;const setDialog=tt=>{dialog=tt},useDialog=()=>dialog,DialogConfigurator=()=>{const tt=useDialog$1();return reactExports.useEffect(()=>{setDialog(tt)},[]),null},DialogConfigurator$1=reactExports.memo(DialogConfigurator),index$2="",LoginModal=()=>{const tt=reactExports.useRef(),et=useAppSelector(getLoginModal),rt=useAppDispatch(),nt=useAppSelector(getLocale),it={zhCN:"zh",en:"en"};return useBaseRequest(doSessionApi),useBaseRequest(do_login_api),reactExports.useLayoutEffect(()=>{const{webLoginSDK:at}=new SSO({region:it[nt],ele:tt.current,success:async st=>{st.error_code===0&&st.redirect_url?(rt(setIsLogin(!0)),window.location=st.redirect_url):at.init()}});setSSOLogin(at)}),reactExports.useEffect(()=>{ssoLogin&&et&&ssoLogin.init()},[et]),jsx(BasicModal,{open:et,width:360,title:"登录",keepMounted:!0,onClose:()=>{rt(setLoginModal(!1))},children:jsx(Wrapper,{children:jsx("div",{ref:tt})})})},Wrapper=styled$1(Box$2)`
  margin-top: 10px;
`;function App(){return jsx(ErrorBoundary,{children:jsx(NoticeProvider,{children:jsx(ThemeProvider,{children:jsxs(DialogProvider,{children:[jsx(DialogConfigurator$1,{}),jsx(SetRoutes,{}),jsx(LoginModal,{})]})})})})}var arr=[],each=arr.forEach,slice=arr.slice;function defaults(tt){return each.call(slice.call(arguments,1),function(et){if(et)for(var rt in et)tt[rt]===void 0&&(tt[rt]=et[rt])}),tt}var fieldContentRegExp=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,serializeCookie=function tt(et,rt,nt){var it=nt||{};it.path=it.path||"/";var ot=encodeURIComponent(rt),at="".concat(et,"=").concat(ot);if(it.maxAge>0){var st=it.maxAge-0;if(Number.isNaN(st))throw new Error("maxAge should be a Number");at+="; Max-Age=".concat(Math.floor(st))}if(it.domain){if(!fieldContentRegExp.test(it.domain))throw new TypeError("option domain is invalid");at+="; Domain=".concat(it.domain)}if(it.path){if(!fieldContentRegExp.test(it.path))throw new TypeError("option path is invalid");at+="; Path=".concat(it.path)}if(it.expires){if(typeof it.expires.toUTCString!="function")throw new TypeError("option expires is invalid");at+="; Expires=".concat(it.expires.toUTCString())}if(it.httpOnly&&(at+="; HttpOnly"),it.secure&&(at+="; Secure"),it.sameSite){var lt=typeof it.sameSite=="string"?it.sameSite.toLowerCase():it.sameSite;switch(lt){case!0:at+="; SameSite=Strict";break;case"lax":at+="; SameSite=Lax";break;case"strict":at+="; SameSite=Strict";break;case"none":at+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}}return at},cookie={create:function tt(et,rt,nt,it){var ot=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};nt&&(ot.expires=new Date,ot.expires.setTime(ot.expires.getTime()+nt*60*1e3)),it&&(ot.domain=it),document.cookie=serializeCookie(et,encodeURIComponent(rt),ot)},read:function tt(et){for(var rt="".concat(et,"="),nt=document.cookie.split(";"),it=0;it<nt.length;it++){for(var ot=nt[it];ot.charAt(0)===" ";)ot=ot.substring(1,ot.length);if(ot.indexOf(rt)===0)return ot.substring(rt.length,ot.length)}return null},remove:function tt(et){this.create(et,"",-1)}},cookie$1={name:"cookie",lookup:function tt(et){var rt;if(et.lookupCookie&&typeof document<"u"){var nt=cookie.read(et.lookupCookie);nt&&(rt=nt)}return rt},cacheUserLanguage:function tt(et,rt){rt.lookupCookie&&typeof document<"u"&&cookie.create(rt.lookupCookie,et,rt.cookieMinutes,rt.cookieDomain,rt.cookieOptions)}},querystring={name:"querystring",lookup:function tt(et){var rt;if(typeof window<"u"){var nt=window.location.search;!window.location.search&&window.location.hash&&window.location.hash.indexOf("?")>-1&&(nt=window.location.hash.substring(window.location.hash.indexOf("?")));for(var it=nt.substring(1),ot=it.split("&"),at=0;at<ot.length;at++){var st=ot[at].indexOf("=");if(st>0){var lt=ot[at].substring(0,st);lt===et.lookupQuerystring&&(rt=ot[at].substring(st+1))}}}return rt}},hasLocalStorageSupport=null,localStorageAvailable=function tt(){if(hasLocalStorageSupport!==null)return hasLocalStorageSupport;try{hasLocalStorageSupport=window!=="undefined"&&window.localStorage!==null;var et="i18next.translate.boo";window.localStorage.setItem(et,"foo"),window.localStorage.removeItem(et)}catch{hasLocalStorageSupport=!1}return hasLocalStorageSupport},localStorage$1={name:"localStorage",lookup:function tt(et){var rt;if(et.lookupLocalStorage&&localStorageAvailable()){var nt=window.localStorage.getItem(et.lookupLocalStorage);nt&&(rt=nt)}return rt},cacheUserLanguage:function tt(et,rt){rt.lookupLocalStorage&&localStorageAvailable()&&window.localStorage.setItem(rt.lookupLocalStorage,et)}},hasSessionStorageSupport=null,sessionStorageAvailable=function tt(){if(hasSessionStorageSupport!==null)return hasSessionStorageSupport;try{hasSessionStorageSupport=window!=="undefined"&&window.sessionStorage!==null;var et="i18next.translate.boo";window.sessionStorage.setItem(et,"foo"),window.sessionStorage.removeItem(et)}catch{hasSessionStorageSupport=!1}return hasSessionStorageSupport},sessionStorage$1={name:"sessionStorage",lookup:function tt(et){var rt;if(et.lookupSessionStorage&&sessionStorageAvailable()){var nt=window.sessionStorage.getItem(et.lookupSessionStorage);nt&&(rt=nt)}return rt},cacheUserLanguage:function tt(et,rt){rt.lookupSessionStorage&&sessionStorageAvailable()&&window.sessionStorage.setItem(rt.lookupSessionStorage,et)}},navigator$1={name:"navigator",lookup:function tt(et){var rt=[];if(typeof navigator<"u"){if(navigator.languages)for(var nt=0;nt<navigator.languages.length;nt++)rt.push(navigator.languages[nt]);navigator.userLanguage&&rt.push(navigator.userLanguage),navigator.language&&rt.push(navigator.language)}return rt.length>0?rt:void 0}},htmlTag={name:"htmlTag",lookup:function tt(et){var rt,nt=et.htmlTag||(typeof document<"u"?document.documentElement:null);return nt&&typeof nt.getAttribute=="function"&&(rt=nt.getAttribute("lang")),rt}},path={name:"path",lookup:function tt(et){var rt;if(typeof window<"u"){var nt=window.location.pathname.match(/\/([a-zA-Z-]*)/g);if(nt instanceof Array)if(typeof et.lookupFromPathIndex=="number"){if(typeof nt[et.lookupFromPathIndex]!="string")return;rt=nt[et.lookupFromPathIndex].replace("/","")}else rt=nt[0].replace("/","")}return rt}},subdomain={name:"subdomain",lookup:function tt(et){var rt=typeof et.lookupFromSubdomainIndex=="number"?et.lookupFromSubdomainIndex+1:1,nt=typeof window<"u"&&window.location&&window.location.hostname&&window.location.hostname.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(nt)return nt[rt]}};function getDefaults(){return{order:["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"],lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"]}}var Browser=function(){function tt(et){var rt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};_classCallCheck$a(this,tt),this.type="languageDetector",this.detectors={},this.init(et,rt)}return _createClass$8(tt,[{key:"init",value:function(rt){var nt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},it=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=rt,this.options=defaults(nt,this.options||{},getDefaults()),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=it,this.addDetector(cookie$1),this.addDetector(querystring),this.addDetector(localStorage$1),this.addDetector(sessionStorage$1),this.addDetector(navigator$1),this.addDetector(htmlTag),this.addDetector(path),this.addDetector(subdomain)}},{key:"addDetector",value:function(rt){this.detectors[rt.name]=rt}},{key:"detect",value:function(rt){var nt=this;rt||(rt=this.options.order);var it=[];return rt.forEach(function(ot){if(nt.detectors[ot]){var at=nt.detectors[ot].lookup(nt.options);at&&typeof at=="string"&&(at=[at]),at&&(it=it.concat(at))}}),this.services.languageUtils.getBestMatchFromCodes?it:it.length>0?it[0]:null}},{key:"cacheUserLanguage",value:function(rt,nt){var it=this;nt||(nt=this.options.caches),nt&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(rt)>-1||nt.forEach(function(ot){it.detectors[ot]&&it.detectors[ot].cacheUserLanguage(rt,it.options)}))}}]),tt}();Browser.type="languageDetector";const common$1={label:{difficulty:"Difficulty",songFile:"Song File",fileTip:"Browse for an .ogg song",coverArt:"Cover",selectImgTip:"Select the cover image 512*512.PNG",songName:"Song name",songSub:"Song sub-name",artistName:"Artist name",mapAuthorName:"Map author name",swingAmount:"Swing amount",swingPeriod:"Swing period",previewStartTime:"Preview start time",previewDuration:"Preview duration",environment:"Environment",BPMBeatsMinute:"BPM (Beats per Minute)",noteJumpSpeed:"Note jump speed",ringNoteJumpSpeed:"Foot note jump speed",startBeatOffset:"Hand Note Start beat offset",ringNoteStartBeatOffset:"Foot note Start beat offset",calories:"calories",customLabel:"Custom label",copyBeatmapDesc_msg:"Copy the {{msg}} beatmap for another difficulty",offset:"offset",snapTo:"Snap to",selectTheDifficulty:"Select the difficulty you'd like to start creating. You can also copy an existing difficulty instead, on the",time:"Time",beat:"Beat",enableCustomColors:"Enable custom colors",enableMappingExtensions:"Enable Mapping Extensions",includesLightshowDifficulty:'Includes "Lightshow" difficulty',fastWalls:'Enable "fast walls"',leftSaber:"LEFT SABER",rightSaber:"RIGHT SABER",environment1:"ENVIRONMENT 1",environment2:"ENVIRONMENT 2",obstacles:"OBSTACLES",obstacles2:"ADORNING",overdrive:"OVERDRIVE",low:"Low",medium:"Medium",high:"High",downloadMapZip:"Click to download a .zip containing all of the files needed to transfer your map onto a device for testing, or to submit for uploading.",importMapSoftware:"If you wish to import your map into other map software, you may need to download a legacy version of the map files.",minTime:"min time",maxTime:"max time",notes:"NOTES: ",notesSecond:"NOTES/SECOND:",bombs:"BOMBS: ",walls:"WALLS: ",redBlueRatio:"RED/BLUE RATIO: ",topNotes:"TOP NOTES: ",middleNotes:"MIDDLE NOTES: ",bottomNotes:"BOTTOM NOTES: ",all:"ALL",tip:{overrideTheDefault:'Override the default red/blue color scheme. Use "overdrive" to produce some neat effects. ',allowsYouToCustomizeSizeAndShapeOfTheGrid:"Allows you to customize size and shape of the grid, to place notes outside of the typical 4×3 grid.",addsANonStandardDifficulty:"If enabled, adds a non-standard difficulty with all blocks removed. Nice to include if your lighting is spectacular ✨",fastWallsExploitALoophole:"Fast walls exploit a loophole in the game to allow walls to blur by at high speed "},columns:"COLUMNS",rows:"ROWS",cellWidth:"CELL WIDTH",cellHeight:"CELL HEIGHT",inputNumberMinTip_msg:"The input value cannot be an integer less than {{msg}}",inputNumberMaxTip_msg:"The input value cannot be more than {{msg}}",editModeclick:"Edit mode: click to operate",editModeSelect:"Edit mode: select to operate",on:"ON",off:"OFF",flash:"FLASH",fade:"FADE",loopInEventWindow:"Loop in the current event window",copiedToCorrespondingRightLaserTrack:"When turned on, all actions done in the left light track are copied to the corresponding right laser track",copyOtherDifficulties:"Copy the score to other difficulties",copyEventSpectrum:"Copy Event Spectrum",selectTheFollowingDifficultyToCopy:"Difficulty event spectrum copy to other difficulty, please select the following difficulty to copy",enterMusicName:"Please enter the name of the music"},difficulty:{Easy:"Easy",Normal:"Normal",Hard:"Hard",Expert:"Expert",ExpertPlus:"Expert+"},note:{block:"block{{msg}}",short:"short{{msg}}",long:"long{{msg}}",obstacle:"obstacle",mine:"地雷",groupNotes:"group",singleNote:"note"},btn:{loadMap:"load Map",createSong:"Create new mapper",updateSongDetails:"Update song details",importMap:"Import existing Map",fileTool:"File conversion tool",delete:"Delete",download:"Export",undo:"Undo",redo:"Redo",pasteSelect:"Paste Selection",quickSelect:"Quick-select",jumpToBeat:"Jump to Beat",customizegGrid:"Customize Grid",selectedWalls:"Selected Walls",changeDuration:"Change duration",toggleFastWalls:"Toggle Fast Walls",createBeatmap:"Create beatmap",createNew:"Create new",deselect:"Deselect",save:"Save",cut:"Cut",copy:"Copy",paste:"Paste",downloadMapFiles:"Export map files",downloadLegacyFiles:"Download legacy files",startPanel:"Start Panel",checkSameDirections:"Check For Double Same Directions",checkVisionBlocks:"Check Vision Blocks",checkStackedNotes:"Check Stacked Notes",checkNoteAndObstacleOverlap:"Check Note and obstacle overlap",checkGroupNotes:"Check Group Note",previous:"Previous",next:"Next",clearErrors:"Cancel",closePanel:"Close Panel",quickDelete:"Quick-delete",showAllGroupPanel:"Show groups note panel",selectGroupNote:"Select group note",mergeGroupNote:"Merge group note",unpackGroupNote:"Unpack group note",removeGroupNote:"Remove group note",tip:{pastePreviouslyCopiedNotes_msg:"Paste previously-copied notes ({{msg}} + V)",selectEverythingOverATimePeriod:"Select everything over a time period (K)",jumpToASpecificBeatNumber:"Jump to a specific beat number (J)","changeTheNumberOfColumns/Rows":"Change the number of columns/rows",swapHorizontally:"Swap horizontally (H)",swapVertically:"Swap vertically (V)",nudgeForwards_msg:"Nudge forwards ({{msg}} + ↑)",nudgeBackwards_msg:"Nudge backwards ({{msg}} + ↓)",clearSelection:"Clear selection (Escape)",copyAndRemoveSelection_msg:"copy and remove selection ({{msg}} + X)",copySelection_msg:"Copy selection ({{msg}} + C)",pasteCopiedNotesAndObstacles_msg:"Paste copied notes and obstacles ({{msg}} + V)",shortcutDeleteAction:"Quickly remove notes and obstacles",setHandGroupNote:"设置头部音符",setFootGroupNote:"设置尾部音符"},ok:"OK",cancel:"Cancel",savePreset:"Save Preset",reset:"Reset",finishCustomizing:"Finish Customizing",search:"Search",logout:"Logout"},title:{header:"BLITZ RHYTHM",addNewSong:"ADD NEW SONG",importMap:"IMPORT EXISTING MAP",selectEdit:"SELECT MAP TO EDIT",importUsbTip:"To import a map, the following conditions must be met:",importToolTip:"The following conditions must be met:",importUsbFile:"Drag and drop (or click to select) the .zip file:",importMapSub:"Import existing map",selectZipFile:"Select a .zip file",createNewBeatMap:"CREATE NEW BEATMAP",copyBeatMap:"COPY BEATMAP",editSongDetails:"EDIT SONG DETAILS",editDifficulties:"EDIT DIFFICULTIES",advancedSettings:"ADVANCED SETTINGS",graphicsQuality:"Graphics quality",processingDelay:"Processing delay",appSettings:"APP SETTINGS",downloadMap:"EXPORT MAP",tip:{processingDelayTip:"Tweak the amount of time, in milliseconds, that the audio should be offset by, for it to seem synchronized.Slower machines should experiment with larger numbers."},impTip:{tip1:"You have a song in OGG format",tip2:"You have a cover-art image in PNG format",tip3:"You have the info file (either .yaml), and all relevant difficulty files",tip4:"You've zipped them all up, without an enclosing folder (select all files and archive them directly)"},tips:"Tips",toolTip:{tip1:"This tool is used to convert JSON files to YAML"},selection:"Selection",notes:"NOTES",items:"ITEMS",action:"ACTIONS",handNote:"HAND NOTE",footerNote:"FOOTER NOTE",obstacle:"OBSTACLE",customizeGrid:"CUSTOMIZE GRID",presets:"PRESETS",allGroupsNote:"ALL GROUPS",selectedGroupOfNotes:"SELECTED GROUPS"},link:{songDetailsPage:"Song Details page"},validation:{helper:"Please enter the correct ",interval:"Please enter a value between{{msg1}}-{{msg2}}"},dialog:{selectASongFileFirst:"Please select a song file first",selectACoverArtFileFirst:"Please select a cover art file first",chooseAUniqueName:"You already have a song with this name. Please choose a unique name",selectTheDifficulty:"Please select the difficulty",songFileDoesNotExis:"Song file does not exis",selectASongFileBeforeSaving:"Please select a song file before saving",errorCreatingMap:"Error creating map. See console for more information",errorUpdateingMap:"Error updating map. See console for more information.",songPickerConsiderations:"Unfortunately, Only supports playing .ogg audio files. You can convert other audio formats to .ogg using Audacity, or similar audio-editing programs",notDeleteTheOnlyRemainingDifficulty:"Sorry, you cannot delete the only remaining difficulty! Please create another difficulty first",theValueYouProvidedWasNotAccepted:"The value you provided was not accepted. Please enter 1, 2, 3, or 4",selectedObstaclesWithDifferentDurations:"Warning: You've selected obstacles with different durations. This will set all selected obstacles to {{msg1}} {{msg2}}. Is this what you want?",songAppearsToBeADuplicate:"This song appears to be a duplicate. Would you like to overwrite your existing song?",cannotBeUndone:"Are you sure you want to do this? This action cannot be undone",quickSelectAllEntities:'Quick-select all entities in a given range of beats. Eg. "16-32" will select everything from beat 16 to 32',enterTheBeatNumber:"Enter the beat number you wish to jump to (eg. 16)",durationForThisWall:"Enter the new duration for this wall, in beats",durationForAllSelectedWalls:"Enter the new duration for all selected walls",enterANameForThisBookmark:"Enter a name for this bookmark",actionCannotBeUndone:"Are you sure? This action cannot be undone",selectANumber:"Select a number from 1 to 4 to store this preset",uploadSongFile:"The music file does not match the configuration file, please check if it is consistent",uploadDifficultyFile:'The "{{msg}}" difficulty configuration does not match the file, please check if it is consistent',noInfoFile:"Please check if the compression exists for the info file",imageLimitSizeTip_msg:"Upload image size not exceed {{msg}}M",imageLimitTypeTip_msg:"The image format is not correct,upload image type is {{msg}}",imageLimitWHTip_msg:"Please upload an image with a size of {{msg}}",songAudioLimitSizeTip_msg:"Upload song size not exceed {{msg}}M",songAudioLimitTypeTip_msg:"The Song format is not correct,upload song type is {{msg}}",overrideOtherDifficultEventProfiles:"This action will be executed to override other difficult event profiles! Please confirm if it is executed?"},notice:{wallBeingCreated:"Notes being created",imporSongSuccessfully:"Import song successfully",imporSongFail:"Import song fail,Please check the imported file",createdSongSuccessfully:"Created song successfully",updateSongSuccessfully:"Update song successfully",convertFileValidZip:"Unfortunately, Editor only supports  .zip",convertFileSuccessfully:"Convert file successfully",convertFileSuccessFail:"Convert file fail",msg_errorFound:"{{msg}} error found",msg_errorForGroup:"It is found that {{msg}} notes do not form the correct note group, please check the first and last note",successOperation:"Successful operation",FailOperation:"Fail operation",carrier:"Use this editor on desktop, in Chrome browser!"},control:{tick:"Play a tick sound-effect for every block",spacingBetweenBeats:"Increase or decrease the spacing between beats",audiosSpeed:"Speed up or slow down the audio file",volume:"Control the song volume",enablingLights:"Enabling lights in the background",customHeight:"Customize the height of each row",seeThrough:"See-through the event grid"}},router$1={document:{title:"Document"},home:"Home",notes:"Notes",events:"Events",setting:"Map Setting",preview:"Preview",download:"Export"},api$1={operationSuccess:"操作成功",operationFailed:"操作失败",errorTip:"错误提示",successTip:"成功提示",errorMessage:"操作失败,系统异常!",timeoutMessage:"登录超时,请重新登录!",apiTimeoutMessage:"接口请求超时,请刷新页面重试!",apiRequestFailed:"请求出错，请稍候重试",networkException:"网络异常",networkExceptionMsg:"网络异常，请检查您的网络连接是否正常!",errMsg401:"用户没有权限（令牌、用户名、密码错误）!",errMsg403:"用户未得到授权，访问是被禁止的。!",errMsg404:"网络请求错误,未找到该资源!",errMsg405:"网络请求错误,请求方法未允许!",errMsg408:"网络请求超时!",errMsg500:"服务器错误,请联系管理员!",errMsg501:"网络未实现!",errMsg502:"网络错误!",errMsg503:"服务不可用，服务器暂时过载或维护!",errMsg504:"网络超时!",errMsg505:"http版本不支持该请求!"},translation_en={common:common$1,router:router$1,api:api$1},common={label:{difficulty:"难度",songFile:"歌曲文件",fileTip:"预览类型是ogg文件歌曲",coverArt:"封面",selectImgTip:"选择封面图片512*512.PNG",songName:"歌曲名称",songSub:"歌曲子名",artistName:"歌曲艺术家",mapAuthorName:"谱面艺术家",swingAmount:"摆动幅度",swingPeriod:"摆动周期",previewStartTime:"预览开始时间",previewDuration:"预览持续时间",environment:"环境",BPMBeatsMinute:"BPM（每分钟节拍）",noteJumpSpeed:"手部音符跳跃速度",ringNoteJumpSpeed:"脚部音符跳跃速度",startBeatOffset:"手部起始节拍偏移",ringNoteStartBeatOffset:"脚部起始节拍偏移",calories:"卡路里",customLabel:"定制标签",copyBeatmapDesc_msg:"复制{{msg}}拍子图",offset:"偏移量",snapTo:"Snap to",selectTheDifficulty:"选择你想开始创建的难度。你也可以复制一个现有的难度来代替",time:"时间",beat:"节拍",enableCustomColors:"启用自定义颜色",enableMappingExtensions:"启用映射扩展",includesLightshowDifficulty:'包括"灯光秀"难度',fastWalls:'启用"快速墙"',leftSaber:"音符1",rightSaber:"音符2",environment1:"灯光1",environment2:"灯光2",obstacles:"障碍物",obstacles2:"装饰物",overdrive:"光照强度",low:"低",medium:"中",high:"高",downloadMapZip:"点击下载一个包含所有文件的.zip，将你的曲谱转移到设备上进行测试，或提交上传。",importMapSoftware:"如果要将地图导入其他地图软件，可能需要下载地图文件的旧版本。",minTime:"最小节拍时间",maxTime:"最大节拍时间",notes:"音符数: ",notesSecond:"每秒音符数:",bombs:"炸弹数: ",walls:"障碍物: ",redBlueRatio:"红蓝比例: ",topNotes:"顶部方块数: ",middleNotes:"中间方块数: ",bottomNotes:"底部方块数: ",all:"全部",tip:{overrideTheDefault:'覆盖默认的红/蓝颜色方案。使用 "覆盖 "来产生一些整齐的效果。 ',allowsYouToCustomizeSizeAndShapeOfTheGrid:"允许您自定义网格的大小和形状，将注释放置在典型的4×3网格之外。",addsANonStandardDifficulty:"如果启用，则在移除所有块的情况下添加非标准难度。如果你的灯光是壮观的，很高兴加入 ✨",fastWallsExploitALoophole:"快速墙利用游戏中的空隙，让墙以高速模糊 "},columns:"列",rows:"行",cellWidth:"网格宽度",cellHeight:"网格高度",inputNumberMinTip_msg:"输入值不能小于{{msg}}的整数",inputNumberMaxTip_msg:"输入值不能大于{{msg}}",editModeclick:"编辑模式：点击操作",editModeSelect:"编辑模式：选取操作",on:"打开",off:"关闭",flash:"FLASH",fade:"FADE",loopInEventWindow:"在当前事件窗口中循环播放",copiedToCorrespondingRightLaserTrack:"开启后，左侧灯光轨道中所做的所有操作复制到相应的右侧激光轨道",copyOtherDifficulties:"复制谱面到其他难度",copyEventSpectrum:"复制事件谱面",selectTheFollowingDifficultyToCopy:"难度事件谱面复制到其他难度，请选择以下难度进行复制",enterMusicName:"请输入音乐名称",groupNotes:"组音符"},difficulty:{Easy:"简单",Normal:"普通",Hard:"困难",Expert:"专家",ExpertPlus:"专家+"},note:{block:"音符{{msg}}",short:"短音符{{msg}}",long:"长音符{{msg}}",obstacle:"障碍物",mine:"地雷",groupNotes:"组音符",singleNote:"单音符"},btn:{loadMap:"编辑曲谱",createSong:"创建新谱",updateSongDetails:"更新歌曲信息",importMap:"导入曲谱",fileTool:"文件转换工具",delete:"删除",download:"导出",undo:"撤销",redo:"重新",pasteSelect:"粘贴选取",quickSelect:"快速选取",jumpToBeat:"跳到节拍",customizegGrid:"自定义网格",selectedWalls:"选择墙体",changeDuration:"更改长度",toggleFastWalls:"切换快速墙体",createBeatmap:"创建节拍图",createNew:"新建",deselect:"取消选定",cut:"剪切",save:"保存",copy:"复制",paste:"粘贴",downloadMapFiles:"导出曲谱",downloadLegacyFiles:"下载旧文件",startPanel:"打开面板",checkSameDirections:"检查同向",checkVisionBlocks:"检查遮挡",checkStackedNotes:"检查重叠",checkNoteAndObstacleOverlap:"音符与障碍物重叠检查",checkGroupNotes:"检查组音符",previous:"上一个",next:"下一个",clearErrors:"取消",closePanel:"关闭面板",quickDelete:"快速删除",showAllGroupPanel:"查看组音符",selectGroupNote:"全选组内音符",mergeGroupNote:"打组",unpackGroupNote:"解组",removeGroupNote:"移出群组",tip:{pastePreviouslyCopiedNotes_msg:"粘贴先前复制的标记 ({{msg}} + V)",selectEverythingOverATimePeriod:"在一个时间段内选择全部 (K)",jumpToASpecificBeatNumber:"跳转到一个特定的节拍 (J)","changeTheNumberOfColumns/Rows":"改变列/行的数量",swapHorizontally:"水平互换 (H)",swapVertically:"垂直互换 (V)",nudgeForwards_msg:"向前推动 ({{msg}} + ↑)",nudgeBackwards_msg:"向后推动 ({{msg}} + ↓)",clearSelection:"清除选项 (Escape)",copyAndRemoveSelection_msg:"复制并删除选项 ({{msg}} + X)",copySelection_msg:"复制选项 ({{msg}} + C)",pasteCopiedNotesAndObstacles_msg:"粘贴复制的笔记和障碍物 ({{msg}} + V)",shortcutDeleteAction:"快捷删除音符、障碍物",setHandGroupNote:"设置头部音符",setTailGroupNote:"设置尾部音符",mergeGroupNote:"打组({{msg}} + G)"},ok:"确定",cancel:"取消",savePreset:"保存预设",reset:"重置",finishCustomizing:"完成自定义",search:"搜索",logout:"退出登录"},title:{header:"闪韵灵境 谱面编辑器",addNewSong:"添加新歌",importMap:"导入现有曲谱",selectEdit:"选择要编辑的曲谱",importUsbTip:"要导入谱面，必须满足以下条件：",importToolTip:"必须满足以下条件：",importUsbFile:"拖放（或单击以选择）.zip 文件",importMapSub:"点击或拖拽文件以上传",selectZipFile:"选择一个 .zip 文件",createNewBeatMap:"新建节拍图",copyBeatMap:"复制节拍图",editSongDetails:"编辑歌单",editDifficulties:"编辑难度",advancedSettings:"高级设置",graphicsQuality:"图形质量",processingDelay:"处理延迟",appSettings:"应用程序设置",downloadMap:"导出曲谱",tip:{processingDelayTip:"调整音频偏移的时间量（以毫秒为单位），使其看起来是同步的。  速度较慢的机器应该进行更大数量的试验。"},impTip:{tip1:"需要包含一首歌曲，歌曲文件格式为ogg格式（闪韵灵境歌曲不需要）",tip2:"需要包含一张歌曲封面，封面格式为png，大小为512*512。（闪韵灵境歌曲不需要）",tip3:"需要包含谱面文件，文件格式为.yaml ，以及相关难度文件",tip4:"上传文件必须为打包压缩文件"},tips:"温馨提示",toolTip:{tip1:"此工具用于JSON文件转YAML"},selection:"选择",notes:"方向",items:"类型",action:"其他",handNote:"手部音符",footerNote:"脚部音符",obstacle:"障碍物",customizeGrid:"自定义表格",presets:"预设",allGroupsNote:"全部组音符",selectedGroupOfNotes:"已选组音符"},link:{songDetailsPage:"歌曲详情页"},validation:{helper:"请输入正确的",interval:"请输入{{msg1}}-{{msg2}}的数值"},dialog:{selectASongFileFirst:"请先选择歌曲文件",selectACoverArtFileFirst:"请先选择封面艺术文件",chooseAUniqueName:"您已经有一首同名歌曲。请选择唯一的名称",selectTheDifficulty:"请选择难度",songFileDoesNotExis:"歌曲文件不存在",selectASongFileBeforeSaving:"保存前请选择歌曲文件",errorCreatingMap:"创建谱面出错。有关更多信息，请参阅控制台",errorUpdateingMap:"更新谱面出错。有关更多信息，请参阅控制台",songPickerConsiderations:"很遗憾，只支持播放.ogg音频文件。你可以使用Audacity或类似的音频编辑程序将其他音频格式转换为.ogg。",notDeleteTheOnlyRemainingDifficulty:"对不起，你不能删除唯一剩下的难度！请先创建另一个难度。请先创建另一个难度",theValueYouProvidedWasNotAccepted:"您提供的数值不被接受。请输入1、2、3或4",selectedObstaclesWithDifferentDurations:"警告。你选择了不同持续时间的障碍. 所有选定的障碍物设置为 {{msg1}} {{msg2}}. 这是你想要的吗?",songAppearsToBeADuplicate:"这首歌似乎是重复的。是否覆盖现有歌曲?",cannotBeUndone:"是否确实要执行此操作？此操作无法撤消",quickSelectAllEntities:"快速选择给定节拍范围内的所有实体。例如，“16-32”将选择从第16拍到第32拍的所有内容",enterTheBeatNumber:"输入您希望跳转到的节拍数（如16）",durationForThisWall:"输入此墙的新持续时间（以节拍为单位）",durationForAllSelectedWalls:"输入所有选定墙的新持续时间",enterANameForThisBookmark:"输入此书签的名称",actionCannotBeUndone:"你确定吗？此操作无法撤消",selectANumber:"预先选择1到4之间的数字以存储",uploadSongFile:"音乐文件与配置文件不匹配，请检查是否一致",uploadDifficultyFile:'"{{msg}}"难度配置与文件不匹配，请检查是否一致',noInfoFile:"请检查压缩是否存在info文件",imageLimitSizeTip_msg:"上传图片不能超出{{msg}}M",imageLimitTypeTip_msg:"图片格式不正确，上传图片类型应为{{msg}}格式",imageLimitWHTip_msg:"请上传尺寸为{{msg}}",songAudioLimitSizeTip_msg:"上传歌曲文件不能超出{{msg}}M",songAudioLimitTypeTip_msg:"歌曲文件格式不正确，上传歌曲文件类型应为{{msg}}格式",overrideOtherDifficultEventProfiles:"此操作会执行覆盖其他难度事件谱面！请确认是否执行？"},notice:{wallBeingCreated:"音符正在创建中",imporSongSuccessfully:"导入曲谱成功",imporSongFail:"导入谱面文件不满足导入条件，请检查文件信息（谱面编辑器提供曲谱目前暂不支持导入）",createdSongSuccessfully:"创建曲谱成功",updateSongSuccessfully:"更新曲谱成功",convertFileValidZip:"很遗憾，编辑器只支持.zip",convertFileSuccessfully:"转换文件成功",convertFileSuccessFail:"转换文件失败",msg_errorFound:"发现{{msg}}个错误",msg_errorForGroup:"发现{{msg}}个音符没有形成正确的音符组，请检查首音符和尾音符",successOperation:"操作成功",FailOperation:"操作失败",carrier:"请在桌面端，Chrome浏览器中使用此编辑器!"},control:{tick:"为每个块播放滴答声效果",spacingBetweenBeats:"增加或减少节拍之间的间距",audiosSpeed:"音频播放速度",volume:"歌曲音量",enablingLights:"编辑网格的同时查看场景",customHeight:"调整自定义编辑网格高度",seeThrough:"调整编辑网格的透明度"}},router={document:{title:"使用指南"},home:"首页",notes:"编辑音符",events:"事件",preview:"预览",setting:"曲谱设置",download:"导出"},api={operationSuccess:"Operation Success",operationFailed:"Operation failed",errorTip:"Error Tip",successTip:"Success Tip",errorMessage:"The operation failed, the system is abnormal!",timeoutMessage:"Login timed out, please log in again!",apiTimeoutMessage:"The interface request timed out, please refresh the page and try again!",apiRequestFailed:"The interface request failed, please try again later!",networkException:"network anomaly",networkExceptionMsg:"Please check if your network connection is normal! The network is abnormal",errMsg401:"The user does not have permission (token, user name, password error)!",errMsg403:"The user is not authorized, access is forbidden!",errMsg404:"Network request error, the resource was not found!",errMsg405:"Network request error, request method not allowed!",errMsg408:"Network request timed out!",errMsg500:"Server error, please contact the administrator!",errMsg501:"The network is not implemented!",errMsg502:"Network Error!",errMsg503:"The service is unavailable, the server is temporarily overloaded or maintained!",errMsg504:"Network timeout!",errMsg505:"The http version does not support the request!"},translation_zh={common,router,api},resources={en:{translation:translation_en},zhCN:{translation:translation_zh}};instance.use(Browser).use(initReactI18next).init({resources,lng:window!=null&&window.localStorage?window.localStorage.getItem("i18nextLng"):LOCALE.ZH_CN,fallbackLng:LOCALE.ZH_CN,interpolation:{escapeValue:!1}});const index$1=Object.freeze(Object.defineProperty({__proto__:null,default:instance},Symbol.toStringTag,{value:"Module"}));async function initPackages(){const tt=async()=>{const{VITE_GLOB_API_URL:et}=getAppEnvConfig();await initRequest(()=>({apiUrl:et,getTokenFunction:()=>{},errorFunction:rt=>notice.error(rt),noticeFunction:()=>notice,errorModalFunction:()=>useDialog(),timeoutFunction:()=>{},unauthorizedFunction:rt=>{},handleErrorFunction:(rt,nt)=>{if(nt==="modal")return useDialog().alert(rt);nt==="message"&&notice.error(rt)}}))};await Promise.all([tt()])}async function initApplication(){await initPackages()}const index="";let persistor=persistStore(store$5);const container=document.getElementById("root"),root=createRoot$1(container),createApp=()=>{root.render(jsx(React.StrictMode,{children:jsx(Provider$1,{store:store$5,children:jsx(PersistGate,{loading:jsx(SectionLoading,{}),persistor,children:jsx(App,{})})})}))};(async()=>(createApp(),await initApplication()))()});export default Mv();
