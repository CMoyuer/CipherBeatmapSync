import{p as e,a as t,o as s,r as a,b as r,c as o,d as n,w as l,e as i,u as c,l as d,f as u,s as p,g as v,t as f,h as y,i as g,j as m,k as b}from"./vendor.9cfd1482.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const s of e)if("childList"===s.type)for(const e of s.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerpolicy&&(t.referrerPolicy=e.referrerpolicy),"use-credentials"===e.crossorigin?t.credentials="include":"anonymous"===e.crossorigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();e("data-v-1fcc8634");const h=y("Cipher谱面同步助手"),w={class:"tip"};t();const I={setup(e){s((()=>{webserver.onRequest(b)}));const t=a({disabled:!1,type:"primary",icon:"switch"}),y=a("服务未启动");let g=!1;function m(e){e.target.blur(),"SPAN"===e.target.nodeName&&e.target.parentNode.blur(),g?(g=!1,webserver.stop(),t.value.type="primary",t.value.disabled=!1,t.value.icon="SwitchButton",y.value="服务已停止"):(g=!0,t.value.type="primary",t.value.disabled=!0,t.value.icon="loading",y.value="正在启动",webserver.start((()=>{t.value.type="success",t.value.disabled=!1,t.value.icon="check",y.value="服务已启动, 本机IP: 获取中",networkinterface.getWiFiIPAddress((e=>{y.value="服务已启动, 本机IP: "+e.ip}),(e=>{console.error(e),y.value="服务已启动, 本机IP: 获取失败"}))}),(e=>{g=!1,console.error(e),alert(JSON.stringify(e)),t.value.type="danger",t.value.disabled=!1,t.value.icon="SwitchButton",y.value="启动服务时发生错误"}),25521))}function b(e){console.log(e);let t={code:200,data:{},message:"success"},s=!0;"GET"===e.method?"/version"===e.path?t.data.agreement="2.0.0":s=!1:"POST"===e.method&&"/version"===e.path?t.data.agreement="2.0.0":s=!1,s?webserver.sendResponse(e.requestId,{status:200,body:JSON.stringify(t),headers:{"Content-Type":"application/json;charset=utf-8;","Access-Control-Allow-Origin":"*"}}):webserver.sendResponse(e.requestId,{status:404,body:"{'code':404,'data':{},'message':'not found'}",headers:{"Content-Type":"application/json;charset=utf-8;","Access-Control-Allow-Origin":"*"}})}return(e,s)=>{const a=r("el-header"),g=r("el-button"),b=r("el-main"),I=r("el-container");return o(),n(I,{style:{height:"100%"}},{default:l((()=>[i(a,{class:"title"},{default:l((()=>[h])),_:1}),i(b,null,{default:l((()=>[i(g,{circle:"",onClick:m,class:"btn-start",disabled:t.value.disabled,icon:"loading"==t.value.icon?c(d):"check"==t.value.type?c(u):c(p),type:t.value.type},null,8,["disabled","icon","type"]),v("div",w,f(y.value),1)])),_:1})])),_:1})}},__scopeId:"data-v-1fcc8634"};const N=g({setup:e=>(e,t)=>(o(),n(I))});N.use(m,{locale:b}),N.mount("#app");
